parcelRequire=function(modules,cache,entry,globalName){var error,previousRequire="function"==typeof parcelRequire&&parcelRequire,nodeRequire="function"==typeof require&&require;function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire="function"==typeof parcelRequire&&parcelRequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);if(nodeRequire&&"string"==typeof name)return nodeRequire(name);var err=new Error("Cannot find module '"+name+"'");throw err.code="MODULE_NOT_FOUND",err}localRequire.resolve=function(x){return modules[name][1][x]||x},localRequire.cache={};var module=cache[name]=new newRequire.Module(name);modules[name][0].call(module.exports,localRequire,module,module.exports,this)}return cache[name].exports;function localRequire(x){return newRequire(localRequire.resolve(x))}}newRequire.isParcelRequire=!0,newRequire.Module=function(moduleName){this.id=moduleName,this.bundle=newRequire,this.exports={}},newRequire.modules=modules,newRequire.cache=cache,newRequire.parent=previousRequire,newRequire.register=function(id,exports){modules[id]=[function(require,module){module.exports=exports},{}]};for(var i=0;i<entry.length;i++)try{newRequire(entry[i])}catch(e){error||(error=e)}if(entry.length){var mainExports=newRequire(entry[entry.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=mainExports:"function"==typeof define&&define.amd&&define(function(){return mainExports})}if(parcelRequire=newRequire,error)throw error;return newRequire}({ARvz:[function(require,module,exports){var global=arguments[3];(function(){"use strict";!function(global){var performance=global.performance;function mark(name){performance&&performance.mark&&performance.mark(name)}function performanceMeasure(name,label){performance&&performance.measure&&performance.measure(name,label)}mark("Zone");var checkDuplicate=!0===global.__zone_symbol__forceDuplicateZoneCheck;if(global.Zone){if(checkDuplicate||"function"!=typeof global.Zone.__symbol__)throw new Error("Zone already loaded.");return global.Zone}var nativeMicroTaskQueuePromise,Zone=function(){function Zone(parent,zoneSpec){this._parent=parent,this._name=zoneSpec?zoneSpec.name||"unnamed":"<root>",this._properties=zoneSpec&&zoneSpec.properties||{},this._zoneDelegate=new ZoneDelegate(this,this._parent&&this._parent._zoneDelegate,zoneSpec)}return Zone.assertZonePatched=function(){if(global.Promise!==patches.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(Zone,"root",{get:function(){for(var zone=Zone.current;zone.parent;)zone=zone.parent;return zone},enumerable:!0,configurable:!0}),Object.defineProperty(Zone,"current",{get:function(){return _currentZoneFrame.zone},enumerable:!0,configurable:!0}),Object.defineProperty(Zone,"currentTask",{get:function(){return _currentTask},enumerable:!0,configurable:!0}),Zone.__load_patch=function(name,fn){if(patches.hasOwnProperty(name)){if(checkDuplicate)throw Error("Already loaded patch: "+name)}else if(!global["__Zone_disable_"+name]){var perfName="Zone:"+name;mark(perfName),patches[name]=fn(global,Zone,_api),performanceMeasure(perfName,perfName)}},Object.defineProperty(Zone.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(Zone.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Zone.prototype.get=function(key){var zone=this.getZoneWith(key);if(zone)return zone._properties[key]},Zone.prototype.getZoneWith=function(key){for(var current=this;current;){if(current._properties.hasOwnProperty(key))return current;current=current._parent}return null},Zone.prototype.fork=function(zoneSpec){if(!zoneSpec)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,zoneSpec)},Zone.prototype.wrap=function(callback,source){if("function"!=typeof callback)throw new Error("Expecting function got: "+callback);var _callback=this._zoneDelegate.intercept(this,callback,source),zone=this;return function(){return zone.runGuarded(_callback,this,arguments,source)}},Zone.prototype.run=function(callback,applyThis,applyArgs,source){_currentZoneFrame={parent:_currentZoneFrame,zone:this};try{return this._zoneDelegate.invoke(this,callback,applyThis,applyArgs,source)}finally{_currentZoneFrame=_currentZoneFrame.parent}},Zone.prototype.runGuarded=function(callback,applyThis,applyArgs,source){void 0===applyThis&&(applyThis=null),_currentZoneFrame={parent:_currentZoneFrame,zone:this};try{try{return this._zoneDelegate.invoke(this,callback,applyThis,applyArgs,source)}catch(error){if(this._zoneDelegate.handleError(this,error))throw error}}finally{_currentZoneFrame=_currentZoneFrame.parent}},Zone.prototype.runTask=function(task,applyThis,applyArgs){if(task.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(task.zone||NO_ZONE).name+"; Execution: "+this.name+")");if(task.state!==notScheduled||task.type!==eventTask&&task.type!==macroTask){var reEntryGuard=task.state!=running;reEntryGuard&&task._transitionTo(running,scheduled),task.runCount++;var previousTask=_currentTask;_currentTask=task,_currentZoneFrame={parent:_currentZoneFrame,zone:this};try{task.type==macroTask&&task.data&&!task.data.isPeriodic&&(task.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,task,applyThis,applyArgs)}catch(error){if(this._zoneDelegate.handleError(this,error))throw error}}finally{task.state!==notScheduled&&task.state!==unknown&&(task.type==eventTask||task.data&&task.data.isPeriodic?reEntryGuard&&task._transitionTo(scheduled,running):(task.runCount=0,this._updateTaskCount(task,-1),reEntryGuard&&task._transitionTo(notScheduled,running,notScheduled))),_currentZoneFrame=_currentZoneFrame.parent,_currentTask=previousTask}}},Zone.prototype.scheduleTask=function(task){if(task.zone&&task.zone!==this)for(var newZone=this;newZone;){if(newZone===task.zone)throw Error("can not reschedule task to "+this.name+" which is descendants of the original zone "+task.zone.name);newZone=newZone.parent}task._transitionTo(scheduling,notScheduled);var zoneDelegates=[];task._zoneDelegates=zoneDelegates,task._zone=this;try{task=this._zoneDelegate.scheduleTask(this,task)}catch(err){throw task._transitionTo(unknown,scheduling,notScheduled),this._zoneDelegate.handleError(this,err),err}return task._zoneDelegates===zoneDelegates&&this._updateTaskCount(task,1),task.state==scheduling&&task._transitionTo(scheduled,scheduling),task},Zone.prototype.scheduleMicroTask=function(source,callback,data,customSchedule){return this.scheduleTask(new ZoneTask(microTask,source,callback,data,customSchedule,void 0))},Zone.prototype.scheduleMacroTask=function(source,callback,data,customSchedule,customCancel){return this.scheduleTask(new ZoneTask(macroTask,source,callback,data,customSchedule,customCancel))},Zone.prototype.scheduleEventTask=function(source,callback,data,customSchedule,customCancel){return this.scheduleTask(new ZoneTask(eventTask,source,callback,data,customSchedule,customCancel))},Zone.prototype.cancelTask=function(task){if(task.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(task.zone||NO_ZONE).name+"; Execution: "+this.name+")");task._transitionTo(canceling,scheduled,running);try{this._zoneDelegate.cancelTask(this,task)}catch(err){throw task._transitionTo(unknown,canceling),this._zoneDelegate.handleError(this,err),err}return this._updateTaskCount(task,-1),task._transitionTo(notScheduled,canceling),task.runCount=0,task},Zone.prototype._updateTaskCount=function(task,count){var zoneDelegates=task._zoneDelegates;-1==count&&(task._zoneDelegates=null);for(var i=0;i<zoneDelegates.length;i++)zoneDelegates[i]._updateTaskCount(task.type,count)},Zone.__symbol__=__symbol__,Zone}(),DELEGATE_ZS={name:"",onHasTask:function(delegate,_,target,hasTaskState){return delegate.hasTask(target,hasTaskState)},onScheduleTask:function(delegate,_,target,task){return delegate.scheduleTask(target,task)},onInvokeTask:function(delegate,_,target,task,applyThis,applyArgs){return delegate.invokeTask(target,task,applyThis,applyArgs)},onCancelTask:function(delegate,_,target,task){return delegate.cancelTask(target,task)}},ZoneDelegate=function(){function ZoneDelegate(zone,parentDelegate,zoneSpec){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=zone,this._parentDelegate=parentDelegate,this._forkZS=zoneSpec&&(zoneSpec&&zoneSpec.onFork?zoneSpec:parentDelegate._forkZS),this._forkDlgt=zoneSpec&&(zoneSpec.onFork?parentDelegate:parentDelegate._forkDlgt),this._forkCurrZone=zoneSpec&&(zoneSpec.onFork?this.zone:parentDelegate.zone),this._interceptZS=zoneSpec&&(zoneSpec.onIntercept?zoneSpec:parentDelegate._interceptZS),this._interceptDlgt=zoneSpec&&(zoneSpec.onIntercept?parentDelegate:parentDelegate._interceptDlgt),this._interceptCurrZone=zoneSpec&&(zoneSpec.onIntercept?this.zone:parentDelegate.zone),this._invokeZS=zoneSpec&&(zoneSpec.onInvoke?zoneSpec:parentDelegate._invokeZS),this._invokeDlgt=zoneSpec&&(zoneSpec.onInvoke?parentDelegate:parentDelegate._invokeDlgt),this._invokeCurrZone=zoneSpec&&(zoneSpec.onInvoke?this.zone:parentDelegate.zone),this._handleErrorZS=zoneSpec&&(zoneSpec.onHandleError?zoneSpec:parentDelegate._handleErrorZS),this._handleErrorDlgt=zoneSpec&&(zoneSpec.onHandleError?parentDelegate:parentDelegate._handleErrorDlgt),this._handleErrorCurrZone=zoneSpec&&(zoneSpec.onHandleError?this.zone:parentDelegate.zone),this._scheduleTaskZS=zoneSpec&&(zoneSpec.onScheduleTask?zoneSpec:parentDelegate._scheduleTaskZS),this._scheduleTaskDlgt=zoneSpec&&(zoneSpec.onScheduleTask?parentDelegate:parentDelegate._scheduleTaskDlgt),this._scheduleTaskCurrZone=zoneSpec&&(zoneSpec.onScheduleTask?this.zone:parentDelegate.zone),this._invokeTaskZS=zoneSpec&&(zoneSpec.onInvokeTask?zoneSpec:parentDelegate._invokeTaskZS),this._invokeTaskDlgt=zoneSpec&&(zoneSpec.onInvokeTask?parentDelegate:parentDelegate._invokeTaskDlgt),this._invokeTaskCurrZone=zoneSpec&&(zoneSpec.onInvokeTask?this.zone:parentDelegate.zone),this._cancelTaskZS=zoneSpec&&(zoneSpec.onCancelTask?zoneSpec:parentDelegate._cancelTaskZS),this._cancelTaskDlgt=zoneSpec&&(zoneSpec.onCancelTask?parentDelegate:parentDelegate._cancelTaskDlgt),this._cancelTaskCurrZone=zoneSpec&&(zoneSpec.onCancelTask?this.zone:parentDelegate.zone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var zoneSpecHasTask=zoneSpec&&zoneSpec.onHasTask,parentHasTask=parentDelegate&&parentDelegate._hasTaskZS;(zoneSpecHasTask||parentHasTask)&&(this._hasTaskZS=zoneSpecHasTask?zoneSpec:DELEGATE_ZS,this._hasTaskDlgt=parentDelegate,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=zone,zoneSpec.onScheduleTask||(this._scheduleTaskZS=DELEGATE_ZS,this._scheduleTaskDlgt=parentDelegate,this._scheduleTaskCurrZone=this.zone),zoneSpec.onInvokeTask||(this._invokeTaskZS=DELEGATE_ZS,this._invokeTaskDlgt=parentDelegate,this._invokeTaskCurrZone=this.zone),zoneSpec.onCancelTask||(this._cancelTaskZS=DELEGATE_ZS,this._cancelTaskDlgt=parentDelegate,this._cancelTaskCurrZone=this.zone))}return ZoneDelegate.prototype.fork=function(targetZone,zoneSpec){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,targetZone,zoneSpec):new Zone(targetZone,zoneSpec)},ZoneDelegate.prototype.intercept=function(targetZone,callback,source){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,targetZone,callback,source):callback},ZoneDelegate.prototype.invoke=function(targetZone,callback,applyThis,applyArgs,source){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,targetZone,callback,applyThis,applyArgs,source):callback.apply(applyThis,applyArgs)},ZoneDelegate.prototype.handleError=function(targetZone,error){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,targetZone,error)},ZoneDelegate.prototype.scheduleTask=function(targetZone,task){var returnTask=task;if(this._scheduleTaskZS)this._hasTaskZS&&returnTask._zoneDelegates.push(this._hasTaskDlgtOwner),(returnTask=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,targetZone,task))||(returnTask=task);else if(task.scheduleFn)task.scheduleFn(task);else{if(task.type!=microTask)throw new Error("Task is missing scheduleFn.");scheduleMicroTask(task)}return returnTask},ZoneDelegate.prototype.invokeTask=function(targetZone,task,applyThis,applyArgs){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,targetZone,task,applyThis,applyArgs):task.callback.apply(applyThis,applyArgs)},ZoneDelegate.prototype.cancelTask=function(targetZone,task){var value;if(this._cancelTaskZS)value=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,targetZone,task);else{if(!task.cancelFn)throw Error("Task is not cancelable");value=task.cancelFn(task)}return value},ZoneDelegate.prototype.hasTask=function(targetZone,isEmpty){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,targetZone,isEmpty)}catch(err){this.handleError(targetZone,err)}},ZoneDelegate.prototype._updateTaskCount=function(type,count){var counts=this._taskCounts,prev=counts[type],next=counts[type]=prev+count;if(next<0)throw new Error("More tasks executed then were scheduled.");if(0==prev||0==next){var isEmpty={microTask:counts.microTask>0,macroTask:counts.macroTask>0,eventTask:counts.eventTask>0,change:type};this.hasTask(this.zone,isEmpty)}},ZoneDelegate}(),ZoneTask=function(){function ZoneTask(type,source,callback,options,scheduleFn,cancelFn){this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=type,this.source=source,this.data=options,this.scheduleFn=scheduleFn,this.cancelFn=cancelFn,this.callback=callback;var self=this;type===eventTask&&options&&options.useG?this.invoke=ZoneTask.invokeTask:this.invoke=function(){return ZoneTask.invokeTask.call(global,self,this,arguments)}}return ZoneTask.invokeTask=function(task,target,args){task||(task=this),_numberOfNestedTaskFrames++;try{return task.runCount++,task.zone.runTask(task,target,args)}finally{1==_numberOfNestedTaskFrames&&drainMicroTaskQueue(),_numberOfNestedTaskFrames--}},Object.defineProperty(ZoneTask.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),Object.defineProperty(ZoneTask.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),ZoneTask.prototype.cancelScheduleRequest=function(){this._transitionTo(notScheduled,scheduling)},ZoneTask.prototype._transitionTo=function(toState,fromState1,fromState2){if(this._state!==fromState1&&this._state!==fromState2)throw new Error(this.type+" '"+this.source+"': can not transition to '"+toState+"', expecting state '"+fromState1+"'"+(fromState2?" or '"+fromState2+"'":"")+", was '"+this._state+"'.");this._state=toState,toState==notScheduled&&(this._zoneDelegates=null)},ZoneTask.prototype.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)},ZoneTask.prototype.toJSON=function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}},ZoneTask}(),symbolSetTimeout=__symbol__("setTimeout"),symbolPromise=__symbol__("Promise"),symbolThen=__symbol__("then"),_microTaskQueue=[],_isDrainingMicrotaskQueue=!1;function scheduleMicroTask(task){if(0===_numberOfNestedTaskFrames&&0===_microTaskQueue.length)if(nativeMicroTaskQueuePromise||global[symbolPromise]&&(nativeMicroTaskQueuePromise=global[symbolPromise].resolve(0)),nativeMicroTaskQueuePromise){var nativeThen=nativeMicroTaskQueuePromise[symbolThen];nativeThen||(nativeThen=nativeMicroTaskQueuePromise.then),nativeThen.call(nativeMicroTaskQueuePromise,drainMicroTaskQueue)}else global[symbolSetTimeout](drainMicroTaskQueue,0);task&&_microTaskQueue.push(task)}function drainMicroTaskQueue(){if(!_isDrainingMicrotaskQueue){for(_isDrainingMicrotaskQueue=!0;_microTaskQueue.length;){var queue=_microTaskQueue;_microTaskQueue=[];for(var i=0;i<queue.length;i++){var task=queue[i];try{task.zone.runTask(task,null,null)}catch(error){_api.onUnhandledError(error)}}}_api.microtaskDrainDone(),_isDrainingMicrotaskQueue=!1}}var NO_ZONE={name:"NO ZONE"},notScheduled="notScheduled",scheduling="scheduling",scheduled="scheduled",running="running",canceling="canceling",unknown="unknown",microTask="microTask",macroTask="macroTask",eventTask="eventTask",patches={},_api={symbol:__symbol__,currentZoneFrame:function(){return _currentZoneFrame},onUnhandledError:noop,microtaskDrainDone:noop,scheduleMicroTask:scheduleMicroTask,showUncaughtError:function(){return!Zone[__symbol__("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:noop,patchMethod:function(){return noop},bindArguments:function(){return[]},patchThen:function(){return noop},patchMacroTask:function(){return noop},setNativePromise:function(NativePromise){NativePromise&&"function"==typeof NativePromise.resolve&&(nativeMicroTaskQueuePromise=NativePromise.resolve(0))},patchEventPrototype:function(){return noop},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return noop},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return noop},wrapWithCurrentZone:function(){return noop},filterProperties:function(){return[]},attachOriginToPatched:function(){return noop},_redefineProperty:function(){return noop},patchCallbacks:function(){return noop}},_currentZoneFrame={parent:null,zone:new Zone(null,null)},_currentTask=null,_numberOfNestedTaskFrames=0;function noop(){}function __symbol__(name){return"__zone_symbol__"+name}performanceMeasure("Zone","Zone"),global.Zone=Zone}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);var __values=function(o){var m="function"==typeof Symbol&&o[Symbol.iterator],i=0;return m?m.call(o):{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}}};Zone.__load_patch("ZoneAwarePromise",function(global,Zone,api){var ObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ObjectDefineProperty=Object.defineProperty;var __symbol__=api.symbol,_uncaughtPromiseErrors=[],symbolPromise=__symbol__("Promise"),symbolThen=__symbol__("then"),creationTrace="__creationTrace__";api.onUnhandledError=function(e){if(api.showUncaughtError()){var rejection=e&&e.rejection;rejection?console.error("Unhandled Promise rejection:",rejection instanceof Error?rejection.message:rejection,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",rejection,rejection instanceof Error?rejection.stack:void 0):console.error(e)}},api.microtaskDrainDone=function(){for(;_uncaughtPromiseErrors.length;)for(var _loop_1=function(){var uncaughtPromiseError=_uncaughtPromiseErrors.shift();try{uncaughtPromiseError.zone.runGuarded(function(){throw uncaughtPromiseError})}catch(error){handleUnhandledRejection(error)}};_uncaughtPromiseErrors.length;)_loop_1()};var UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL=__symbol__("unhandledPromiseRejectionHandler");function handleUnhandledRejection(e){api.onUnhandledError(e);try{var handler=Zone[UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL];handler&&"function"==typeof handler&&handler.call(this,e)}catch(err){}}function isThenable(value){return value&&value.then}function forwardResolution(value){return value}function forwardRejection(rejection){return ZoneAwarePromise.reject(rejection)}var symbolState=__symbol__("state"),symbolValue=__symbol__("value"),symbolFinally=__symbol__("finally"),symbolParentPromiseValue=__symbol__("parentPromiseValue"),symbolParentPromiseState=__symbol__("parentPromiseState"),source="Promise.then",UNRESOLVED=null,RESOLVED=!0,REJECTED=!1,REJECTED_NO_CATCH=0;function makeResolver(promise,state){return function(v){try{resolvePromise(promise,state,v)}catch(err){resolvePromise(promise,!1,err)}}}var once=function(){var wasCalled=!1;return function(wrappedFunction){return function(){wasCalled||(wasCalled=!0,wrappedFunction.apply(null,arguments))}}},TYPE_ERROR="Promise resolved with itself",CURRENT_TASK_TRACE_SYMBOL=__symbol__("currentTaskTrace");function resolvePromise(promise,state,value){var onceWrapper=once();if(promise===value)throw new TypeError(TYPE_ERROR);if(promise[symbolState]===UNRESOLVED){var then=null;try{"object"!=typeof value&&"function"!=typeof value||(then=value&&value.then)}catch(err){return onceWrapper(function(){resolvePromise(promise,!1,err)})(),promise}if(state!==REJECTED&&value instanceof ZoneAwarePromise&&value.hasOwnProperty(symbolState)&&value.hasOwnProperty(symbolValue)&&value[symbolState]!==UNRESOLVED)clearRejectedNoCatch(value),resolvePromise(promise,value[symbolState],value[symbolValue]);else if(state!==REJECTED&&"function"==typeof then)try{then.call(value,onceWrapper(makeResolver(promise,state)),onceWrapper(makeResolver(promise,!1)))}catch(err){onceWrapper(function(){resolvePromise(promise,!1,err)})()}else{promise[symbolState]=state;var queue=promise[symbolValue];if(promise[symbolValue]=value,promise[symbolFinally]===symbolFinally&&state===RESOLVED&&(promise[symbolState]=promise[symbolParentPromiseState],promise[symbolValue]=promise[symbolParentPromiseValue]),state===REJECTED&&value instanceof Error){var trace=Zone.currentTask&&Zone.currentTask.data&&Zone.currentTask.data[creationTrace];trace&&ObjectDefineProperty(value,CURRENT_TASK_TRACE_SYMBOL,{configurable:!0,enumerable:!1,writable:!0,value:trace})}for(var i=0;i<queue.length;)scheduleResolveOrReject(promise,queue[i++],queue[i++],queue[i++],queue[i++]);if(0==queue.length&&state==REJECTED){promise[symbolState]=REJECTED_NO_CATCH;try{throw new Error("Uncaught (in promise): "+function(obj){if(obj&&obj.toString===Object.prototype.toString){var className=obj.constructor&&obj.constructor.name;return(className||"")+": "+JSON.stringify(obj)}return obj?obj.toString():Object.prototype.toString.call(obj)}(value)+(value&&value.stack?"\n"+value.stack:""))}catch(err){var error_1=err;error_1.rejection=value,error_1.promise=promise,error_1.zone=Zone.current,error_1.task=Zone.currentTask,_uncaughtPromiseErrors.push(error_1),api.scheduleMicroTask()}}}}return promise}var REJECTION_HANDLED_HANDLER=__symbol__("rejectionHandledHandler");function clearRejectedNoCatch(promise){if(promise[symbolState]===REJECTED_NO_CATCH){try{var handler=Zone[REJECTION_HANDLED_HANDLER];handler&&"function"==typeof handler&&handler.call(this,{rejection:promise[symbolValue],promise:promise})}catch(err){}promise[symbolState]=REJECTED;for(var i=0;i<_uncaughtPromiseErrors.length;i++)promise===_uncaughtPromiseErrors[i].promise&&_uncaughtPromiseErrors.splice(i,1)}}function scheduleResolveOrReject(promise,zone,chainPromise,onFulfilled,onRejected){clearRejectedNoCatch(promise);var promiseState=promise[symbolState],delegate=promiseState?"function"==typeof onFulfilled?onFulfilled:forwardResolution:"function"==typeof onRejected?onRejected:forwardRejection;zone.scheduleMicroTask(source,function(){try{var parentPromiseValue=promise[symbolValue],isFinallyPromise=chainPromise&&symbolFinally===chainPromise[symbolFinally];isFinallyPromise&&(chainPromise[symbolParentPromiseValue]=parentPromiseValue,chainPromise[symbolParentPromiseState]=promiseState);var value=zone.run(delegate,void 0,isFinallyPromise&&delegate!==forwardRejection&&delegate!==forwardResolution?[]:[parentPromiseValue]);resolvePromise(chainPromise,!0,value)}catch(error){resolvePromise(chainPromise,!1,error)}},chainPromise)}var ZoneAwarePromise=function(){function ZoneAwarePromise(executor){if(!(this instanceof ZoneAwarePromise))throw new Error("Must be an instanceof Promise.");this[symbolState]=UNRESOLVED,this[symbolValue]=[];try{executor&&executor(makeResolver(this,RESOLVED),makeResolver(this,REJECTED))}catch(error){resolvePromise(this,!1,error)}}return ZoneAwarePromise.toString=function(){return"function ZoneAwarePromise() { [native code] }"},ZoneAwarePromise.resolve=function(value){return resolvePromise(new this(null),RESOLVED,value)},ZoneAwarePromise.reject=function(error){return resolvePromise(new this(null),REJECTED,error)},ZoneAwarePromise.race=function(values){var e_1,_a,resolve,reject,promise=new this(function(res,rej){resolve=res,reject=rej});function onResolve(value){resolve(value)}function onReject(error){reject(error)}try{for(var values_1=__values(values),values_1_1=values_1.next();!values_1_1.done;values_1_1=values_1.next()){var value=values_1_1.value;isThenable(value)||(value=this.resolve(value)),value.then(onResolve,onReject)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{values_1_1&&!values_1_1.done&&(_a=values_1.return)&&_a.call(values_1)}finally{if(e_1)throw e_1.error}}return promise},ZoneAwarePromise.all=function(values){var e_2,_a,resolve,reject,promise=new this(function(res,rej){resolve=res,reject=rej}),unresolvedCount=2,valueIndex=0,resolvedValues=[],_loop_2=function(value){isThenable(value)||(value=this_1.resolve(value));var curValueIndex=valueIndex;value.then(function(value){resolvedValues[curValueIndex]=value,0===--unresolvedCount&&resolve(resolvedValues)},reject),unresolvedCount++,valueIndex++},this_1=this;try{for(var values_2=__values(values),values_2_1=values_2.next();!values_2_1.done;values_2_1=values_2.next()){_loop_2(values_2_1.value)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{values_2_1&&!values_2_1.done&&(_a=values_2.return)&&_a.call(values_2)}finally{if(e_2)throw e_2.error}}return 0===(unresolvedCount-=2)&&resolve(resolvedValues),promise},Object.defineProperty(ZoneAwarePromise.prototype,Symbol.toStringTag,{get:function(){return"Promise"},enumerable:!0,configurable:!0}),ZoneAwarePromise.prototype.then=function(onFulfilled,onRejected){var chainPromise=new this.constructor(null),zone=Zone.current;return this[symbolState]==UNRESOLVED?this[symbolValue].push(zone,chainPromise,onFulfilled,onRejected):scheduleResolveOrReject(this,zone,chainPromise,onFulfilled,onRejected),chainPromise},ZoneAwarePromise.prototype.catch=function(onRejected){return this.then(null,onRejected)},ZoneAwarePromise.prototype.finally=function(onFinally){var chainPromise=new this.constructor(null);chainPromise[symbolFinally]=symbolFinally;var zone=Zone.current;return this[symbolState]==UNRESOLVED?this[symbolValue].push(zone,chainPromise,onFinally,onFinally):scheduleResolveOrReject(this,zone,chainPromise,onFinally,onFinally),chainPromise},ZoneAwarePromise}();ZoneAwarePromise.resolve=ZoneAwarePromise.resolve,ZoneAwarePromise.reject=ZoneAwarePromise.reject,ZoneAwarePromise.race=ZoneAwarePromise.race,ZoneAwarePromise.all=ZoneAwarePromise.all;var NativePromise=global[symbolPromise]=global.Promise,ZONE_AWARE_PROMISE=Zone.__symbol__("ZoneAwarePromise"),desc=ObjectGetOwnPropertyDescriptor(global,"Promise");desc&&!desc.configurable||(desc&&delete desc.writable,desc&&delete desc.value,desc||(desc={configurable:!0,enumerable:!0}),desc.get=function(){return global[ZONE_AWARE_PROMISE]?global[ZONE_AWARE_PROMISE]:global[symbolPromise]},desc.set=function(NewNativePromise){NewNativePromise===ZoneAwarePromise?global[ZONE_AWARE_PROMISE]=NewNativePromise:(global[symbolPromise]=NewNativePromise,NewNativePromise.prototype[symbolThen]||patchThen(NewNativePromise),api.setNativePromise(NewNativePromise))},ObjectDefineProperty(global,"Promise",desc)),global.Promise=ZoneAwarePromise;var fn,symbolThenPatched=__symbol__("thenPatched");function patchThen(Ctor){var proto=Ctor.prototype,prop=ObjectGetOwnPropertyDescriptor(proto,"then");if(!prop||!1!==prop.writable&&prop.configurable){var originalThen=proto.then;proto[symbolThen]=originalThen,Ctor.prototype.then=function(onResolve,onReject){var _this=this;return new ZoneAwarePromise(function(resolve,reject){originalThen.call(_this,resolve,reject)}).then(onResolve,onReject)},Ctor[symbolThenPatched]=!0}}if(api.patchThen=patchThen,NativePromise){patchThen(NativePromise);var fetch_1=global.fetch;"function"==typeof fetch_1&&(global[api.symbol("fetch")]=fetch_1,global.fetch=(fn=fetch_1,function(){var resultPromise=fn.apply(this,arguments);if(resultPromise instanceof ZoneAwarePromise)return resultPromise;var ctor=resultPromise.constructor;return ctor[symbolThenPatched]||patchThen(ctor),resultPromise}))}return Promise[Zone.__symbol__("uncaughtPromiseErrors")]=_uncaughtPromiseErrors,ZoneAwarePromise});var ObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ObjectDefineProperty=Object.defineProperty,ObjectGetPrototypeOf=Object.getPrototypeOf,ObjectCreate=Object.create,ArraySlice=Array.prototype.slice,ADD_EVENT_LISTENER_STR="addEventListener",REMOVE_EVENT_LISTENER_STR="removeEventListener",ZONE_SYMBOL_ADD_EVENT_LISTENER=Zone.__symbol__(ADD_EVENT_LISTENER_STR),ZONE_SYMBOL_REMOVE_EVENT_LISTENER=Zone.__symbol__(REMOVE_EVENT_LISTENER_STR),TRUE_STR="true",FALSE_STR="false",ZONE_SYMBOL_PREFIX="__zone_symbol__";function wrapWithCurrentZone(callback,source){return Zone.current.wrap(callback,source)}function scheduleMacroTaskWithCurrentZone(source,callback,data,customSchedule,customCancel){return Zone.current.scheduleMacroTask(source,callback,data,customSchedule,customCancel)}var zoneSymbol=Zone.__symbol__,isWindowExists="undefined"!=typeof window,internalWindow=isWindowExists?window:void 0,_global=isWindowExists&&internalWindow||"object"==typeof self&&self||global,REMOVE_ATTRIBUTE="removeAttribute",NULL_ON_PROP_VALUE=[null];function bindArguments(args,source){for(var i=args.length-1;i>=0;i--)"function"==typeof args[i]&&(args[i]=wrapWithCurrentZone(args[i],source+"_"+i));return args}function isPropertyWritable(propertyDesc){return!propertyDesc||!1!==propertyDesc.writable&&!("function"==typeof propertyDesc.get&&void 0===propertyDesc.set)}var isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,isNode=!("nw"in _global)&&void 0!==_global.process&&"[object process]"==={}.toString.call(_global.process),isBrowser=!isNode&&!isWebWorker&&!(!isWindowExists||!internalWindow.HTMLElement),isMix=void 0!==_global.process&&"[object process]"==={}.toString.call(_global.process)&&!isWebWorker&&!(!isWindowExists||!internalWindow.HTMLElement),zoneSymbolEventNames={},wrapFn=function(event){if(event=event||_global.event){var eventNameSymbol=zoneSymbolEventNames[event.type];eventNameSymbol||(eventNameSymbol=zoneSymbolEventNames[event.type]=zoneSymbol("ON_PROPERTY"+event.type));var result,target=this||event.target||_global,listener=target[eventNameSymbol];if(isBrowser&&target===internalWindow&&"error"===event.type){var errorEvent=event;!0===(result=listener&&listener.call(this,errorEvent.message,errorEvent.filename,errorEvent.lineno,errorEvent.colno,errorEvent.error))&&event.preventDefault()}else void 0==(result=listener&&listener.apply(this,arguments))||result||event.preventDefault();return result}};function patchProperty(obj,prop,prototype){var desc=ObjectGetOwnPropertyDescriptor(obj,prop);!desc&&prototype&&(ObjectGetOwnPropertyDescriptor(prototype,prop)&&(desc={enumerable:!0,configurable:!0}));if(desc&&desc.configurable){var onPropPatchedSymbol=zoneSymbol("on"+prop+"patched");if(!obj.hasOwnProperty(onPropPatchedSymbol)||!obj[onPropPatchedSymbol]){delete desc.writable,delete desc.value;var originalDescGet=desc.get,originalDescSet=desc.set,eventName=prop.substr(2),eventNameSymbol=zoneSymbolEventNames[eventName];eventNameSymbol||(eventNameSymbol=zoneSymbolEventNames[eventName]=zoneSymbol("ON_PROPERTY"+eventName)),desc.set=function(newValue){var target=this;(target||obj!==_global||(target=_global),target)&&(target[eventNameSymbol]&&target.removeEventListener(eventName,wrapFn),originalDescSet&&originalDescSet.apply(target,NULL_ON_PROP_VALUE),"function"==typeof newValue?(target[eventNameSymbol]=newValue,target.addEventListener(eventName,wrapFn,!1)):target[eventNameSymbol]=null)},desc.get=function(){var target=this;if(target||obj!==_global||(target=_global),!target)return null;var listener=target[eventNameSymbol];if(listener)return listener;if(originalDescGet){var value=originalDescGet&&originalDescGet.call(this);if(value)return desc.set.call(this,value),"function"==typeof target[REMOVE_ATTRIBUTE]&&target.removeAttribute(prop),value}return null},ObjectDefineProperty(obj,prop,desc),obj[onPropPatchedSymbol]=!0}}}function patchOnProperties(obj,properties,prototype){if(properties)for(var i=0;i<properties.length;i++)patchProperty(obj,"on"+properties[i],prototype);else{var onProperties=[];for(var prop in obj)"on"==prop.substr(0,2)&&onProperties.push(prop);for(var j=0;j<onProperties.length;j++)patchProperty(obj,onProperties[j],prototype)}}var originalInstanceKey=zoneSymbol("originalInstance");function patchClass(className){var OriginalClass=_global[className];if(OriginalClass){_global[zoneSymbol(className)]=OriginalClass,_global[className]=function(){var a=bindArguments(arguments,className);switch(a.length){case 0:this[originalInstanceKey]=new OriginalClass;break;case 1:this[originalInstanceKey]=new OriginalClass(a[0]);break;case 2:this[originalInstanceKey]=new OriginalClass(a[0],a[1]);break;case 3:this[originalInstanceKey]=new OriginalClass(a[0],a[1],a[2]);break;case 4:this[originalInstanceKey]=new OriginalClass(a[0],a[1],a[2],a[3]);break;default:throw new Error("Arg list too long.")}},attachOriginToPatched(_global[className],OriginalClass);var prop,instance=new OriginalClass(function(){});for(prop in instance)"XMLHttpRequest"===className&&"responseBlob"===prop||function(prop){"function"==typeof instance[prop]?_global[className].prototype[prop]=function(){return this[originalInstanceKey][prop].apply(this[originalInstanceKey],arguments)}:ObjectDefineProperty(_global[className].prototype,prop,{set:function(fn){"function"==typeof fn?(this[originalInstanceKey][prop]=wrapWithCurrentZone(fn,className+"."+prop),attachOriginToPatched(this[originalInstanceKey][prop],fn)):this[originalInstanceKey][prop]=fn},get:function(){return this[originalInstanceKey][prop]}})}(prop);for(prop in OriginalClass)"prototype"!==prop&&OriginalClass.hasOwnProperty(prop)&&(_global[className][prop]=OriginalClass[prop])}}var shouldCopySymbolProperties=!1;function patchMethod(target,name,patchFn){for(var proto=target;proto&&!proto.hasOwnProperty(name);)proto=ObjectGetPrototypeOf(proto);!proto&&target[name]&&(proto=target);var src,dest,delegateName=zoneSymbol(name),delegate=null;if(proto&&!(delegate=proto[delegateName])&&(delegate=proto[delegateName]=proto[name],isPropertyWritable(proto&&ObjectGetOwnPropertyDescriptor(proto,name)))){var patchDelegate_1=patchFn(delegate,delegateName,name);proto[name]=function(){return patchDelegate_1(this,arguments)},attachOriginToPatched(proto[name],delegate),shouldCopySymbolProperties&&(src=delegate,dest=proto[name],"function"==typeof Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(src).forEach(function(symbol){var desc=Object.getOwnPropertyDescriptor(src,symbol);Object.defineProperty(dest,symbol,{get:function(){return src[symbol]},set:function(value){(!desc||desc.writable&&"function"==typeof desc.set)&&(src[symbol]=value)},enumerable:!desc||desc.enumerable,configurable:!desc||desc.configurable})}))}return delegate}function patchMacroTask(obj,funcName,metaCreator){var setNative=null;function scheduleTask(task){var data=task.data;return data.args[data.cbIdx]=function(){task.invoke.apply(this,arguments)},setNative.apply(data.target,data.args),task}setNative=patchMethod(obj,funcName,function(delegate){return function(self,args){var meta=metaCreator(self,args);return meta.cbIdx>=0&&"function"==typeof args[meta.cbIdx]?scheduleMacroTaskWithCurrentZone(meta.name,args[meta.cbIdx],meta,scheduleTask):delegate.apply(self,args)}})}function attachOriginToPatched(patched,original){patched[zoneSymbol("OriginalDelegate")]=original}var isDetectedIEOrEdge=!1,ieOrEdge=!1;function isIE(){try{var ua=internalWindow.navigator.userAgent;if(-1!==ua.indexOf("MSIE ")||-1!==ua.indexOf("Trident/"))return!0}catch(error){}return!1}function isIEOrEdge(){if(isDetectedIEOrEdge)return ieOrEdge;isDetectedIEOrEdge=!0;try{var ua=internalWindow.navigator.userAgent;-1===ua.indexOf("MSIE ")&&-1===ua.indexOf("Trident/")&&-1===ua.indexOf("Edge/")||(ieOrEdge=!0)}catch(error){}return ieOrEdge}Zone.__load_patch("toString",function(global){var originalFunctionToString=Function.prototype.toString,ORIGINAL_DELEGATE_SYMBOL=zoneSymbol("OriginalDelegate"),PROMISE_SYMBOL=zoneSymbol("Promise"),ERROR_SYMBOL=zoneSymbol("Error"),newFunctionToString=function(){if("function"==typeof this){var originalDelegate=this[ORIGINAL_DELEGATE_SYMBOL];if(originalDelegate)return"function"==typeof originalDelegate?originalFunctionToString.call(originalDelegate):Object.prototype.toString.call(originalDelegate);if(this===Promise){var nativePromise=global[PROMISE_SYMBOL];if(nativePromise)return originalFunctionToString.call(nativePromise)}if(this===Error){var nativeError=global[ERROR_SYMBOL];if(nativeError)return originalFunctionToString.call(nativeError)}}return originalFunctionToString.call(this)};newFunctionToString[ORIGINAL_DELEGATE_SYMBOL]=originalFunctionToString,Function.prototype.toString=newFunctionToString;var originalObjectToString=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":originalObjectToString.call(this)}});var passiveSupported=!1;if("undefined"!=typeof window)try{var options=Object.defineProperty({},"passive",{get:function(){passiveSupported=!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch(err){passiveSupported=!1}var OPTIMIZED_ZONE_EVENT_TASK_DATA={useG:!0},zoneSymbolEventNames$1={},globalSources={},EVENT_NAME_SYMBOL_REGX=/^__zone_symbol__(\w+)(true|false)$/,IMMEDIATE_PROPAGATION_SYMBOL="__zone_symbol__propagationStopped";function patchEventTarget(_global,apis,patchOptions){var ADD_EVENT_LISTENER=patchOptions&&patchOptions.add||ADD_EVENT_LISTENER_STR,REMOVE_EVENT_LISTENER=patchOptions&&patchOptions.rm||REMOVE_EVENT_LISTENER_STR,LISTENERS_EVENT_LISTENER=patchOptions&&patchOptions.listeners||"eventListeners",REMOVE_ALL_LISTENERS_EVENT_LISTENER=patchOptions&&patchOptions.rmAll||"removeAllListeners",zoneSymbolAddEventListener=zoneSymbol(ADD_EVENT_LISTENER),ADD_EVENT_LISTENER_SOURCE="."+ADD_EVENT_LISTENER+":",PREPEND_EVENT_LISTENER="prependListener",PREPEND_EVENT_LISTENER_SOURCE="."+PREPEND_EVENT_LISTENER+":",invokeTask=function(task,target,event){if(!task.isRemoved){var delegate=task.callback;"object"==typeof delegate&&delegate.handleEvent&&(task.callback=function(event){return delegate.handleEvent(event)},task.originalDelegate=delegate),task.invoke(task,target,[event]);var options=task.options;if(options&&"object"==typeof options&&options.once){var delegate_1=task.originalDelegate?task.originalDelegate:task.callback;target[REMOVE_EVENT_LISTENER].call(target,event.type,delegate_1,options)}}},globalZoneAwareCallback=function(event){if(event=event||_global.event){var target=this||event.target||_global,tasks=target[zoneSymbolEventNames$1[event.type][FALSE_STR]];if(tasks)if(1===tasks.length)invokeTask(tasks[0],target,event);else for(var copyTasks=tasks.slice(),i=0;i<copyTasks.length&&(!event||!0!==event[IMMEDIATE_PROPAGATION_SYMBOL]);i++)invokeTask(copyTasks[i],target,event)}},globalZoneAwareCaptureCallback=function(event){if(event=event||_global.event){var target=this||event.target||_global,tasks=target[zoneSymbolEventNames$1[event.type][TRUE_STR]];if(tasks)if(1===tasks.length)invokeTask(tasks[0],target,event);else for(var copyTasks=tasks.slice(),i=0;i<copyTasks.length&&(!event||!0!==event[IMMEDIATE_PROPAGATION_SYMBOL]);i++)invokeTask(copyTasks[i],target,event)}};function patchEventTargetMethods(obj,patchOptions){if(!obj)return!1;var useGlobalCallback=!0;patchOptions&&void 0!==patchOptions.useG&&(useGlobalCallback=patchOptions.useG);var validateHandler=patchOptions&&patchOptions.vh,checkDuplicate=!0;patchOptions&&void 0!==patchOptions.chkDup&&(checkDuplicate=patchOptions.chkDup);var returnTarget=!1;patchOptions&&void 0!==patchOptions.rt&&(returnTarget=patchOptions.rt);for(var proto=obj;proto&&!proto.hasOwnProperty(ADD_EVENT_LISTENER);)proto=ObjectGetPrototypeOf(proto);if(!proto&&obj[ADD_EVENT_LISTENER]&&(proto=obj),!proto)return!1;if(proto[zoneSymbolAddEventListener])return!1;var nativePrependEventListener,eventNameToString=patchOptions&&patchOptions.eventNameToString,taskData={},nativeAddEventListener=proto[zoneSymbolAddEventListener]=proto[ADD_EVENT_LISTENER],nativeRemoveEventListener=proto[zoneSymbol(REMOVE_EVENT_LISTENER)]=proto[REMOVE_EVENT_LISTENER],nativeListeners=proto[zoneSymbol(LISTENERS_EVENT_LISTENER)]=proto[LISTENERS_EVENT_LISTENER],nativeRemoveAllListeners=proto[zoneSymbol(REMOVE_ALL_LISTENERS_EVENT_LISTENER)]=proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER];function checkIsPassive(task){passiveSupported||"boolean"==typeof taskData.options||void 0===taskData.options||null===taskData.options||(task.options=!!taskData.options.capture,taskData.options=task.options)}patchOptions&&patchOptions.prepend&&(nativePrependEventListener=proto[zoneSymbol(patchOptions.prepend)]=proto[patchOptions.prepend]);var customSchedule=useGlobalCallback?function(task){if(!taskData.isExisting)return checkIsPassive(task),nativeAddEventListener.call(taskData.target,taskData.eventName,taskData.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,taskData.options)}:function(task){return checkIsPassive(task),nativeAddEventListener.call(taskData.target,taskData.eventName,task.invoke,taskData.options)},customCancel=useGlobalCallback?function(task){if(!task.isRemoved){var symbolEventNames=zoneSymbolEventNames$1[task.eventName],symbolEventName=void 0;symbolEventNames&&(symbolEventName=symbolEventNames[task.capture?TRUE_STR:FALSE_STR]);var existingTasks=symbolEventName&&task.target[symbolEventName];if(existingTasks)for(var i=0;i<existingTasks.length;i++)if(existingTasks[i]===task){existingTasks.splice(i,1),task.isRemoved=!0,0===existingTasks.length&&(task.allRemoved=!0,task.target[symbolEventName]=null);break}}if(task.allRemoved)return nativeRemoveEventListener.call(task.target,task.eventName,task.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,task.options)}:function(task){return nativeRemoveEventListener.call(task.target,task.eventName,task.invoke,task.options)},compare=patchOptions&&patchOptions.diff?patchOptions.diff:function(task,delegate){var typeOfDelegate=typeof delegate;return"function"===typeOfDelegate&&task.callback===delegate||"object"===typeOfDelegate&&task.originalDelegate===delegate},blackListedEvents=Zone[Zone.__symbol__("BLACK_LISTED_EVENTS")],makeAddListener=function(nativeListener,addSource,customScheduleFn,customCancelFn,returnTarget,prepend){return void 0===returnTarget&&(returnTarget=!1),void 0===prepend&&(prepend=!1),function(){var target=this||_global,eventName=arguments[0],delegate=arguments[1];if(!delegate)return nativeListener.apply(this,arguments);if(isNode&&"uncaughtException"===eventName)return nativeListener.apply(this,arguments);var isHandleEvent=!1;if("function"!=typeof delegate){if(!delegate.handleEvent)return nativeListener.apply(this,arguments);isHandleEvent=!0}if(!validateHandler||validateHandler(nativeListener,delegate,target,arguments)){var capture,options=arguments[2];if(blackListedEvents)for(var i=0;i<blackListedEvents.length;i++)if(eventName===blackListedEvents[i])return nativeListener.apply(this,arguments);var once=!1;void 0===options?capture=!1:!0===options?capture=!0:!1===options?capture=!1:(capture=!!options&&!!options.capture,once=!!options&&!!options.once);var symbolEventName,zone=Zone.current,symbolEventNames=zoneSymbolEventNames$1[eventName];if(symbolEventNames)symbolEventName=symbolEventNames[capture?TRUE_STR:FALSE_STR];else{var falseEventName=(eventNameToString?eventNameToString(eventName):eventName)+FALSE_STR,trueEventName=(eventNameToString?eventNameToString(eventName):eventName)+TRUE_STR,symbol=ZONE_SYMBOL_PREFIX+falseEventName,symbolCapture=ZONE_SYMBOL_PREFIX+trueEventName;zoneSymbolEventNames$1[eventName]={},zoneSymbolEventNames$1[eventName][FALSE_STR]=symbol,zoneSymbolEventNames$1[eventName][TRUE_STR]=symbolCapture,symbolEventName=capture?symbolCapture:symbol}var source,existingTasks=target[symbolEventName],isExisting=!1;if(existingTasks){if(isExisting=!0,checkDuplicate)for(i=0;i<existingTasks.length;i++)if(compare(existingTasks[i],delegate))return}else existingTasks=target[symbolEventName]=[];var constructorName=target.constructor.name,targetSource=globalSources[constructorName];targetSource&&(source=targetSource[eventName]),source||(source=constructorName+addSource+(eventNameToString?eventNameToString(eventName):eventName)),taskData.options=options,once&&(taskData.options.once=!1),taskData.target=target,taskData.capture=capture,taskData.eventName=eventName,taskData.isExisting=isExisting;var data=useGlobalCallback?OPTIMIZED_ZONE_EVENT_TASK_DATA:void 0;data&&(data.taskData=taskData);var task=zone.scheduleEventTask(source,delegate,data,customScheduleFn,customCancelFn);return taskData.target=null,data&&(data.taskData=null),once&&(options.once=!0),(passiveSupported||"boolean"!=typeof task.options)&&(task.options=options),task.target=target,task.capture=capture,task.eventName=eventName,isHandleEvent&&(task.originalDelegate=delegate),prepend?existingTasks.unshift(task):existingTasks.push(task),returnTarget?target:void 0}}};return proto[ADD_EVENT_LISTENER]=makeAddListener(nativeAddEventListener,ADD_EVENT_LISTENER_SOURCE,customSchedule,customCancel,returnTarget),nativePrependEventListener&&(proto[PREPEND_EVENT_LISTENER]=makeAddListener(nativePrependEventListener,PREPEND_EVENT_LISTENER_SOURCE,function(task){return nativePrependEventListener.call(taskData.target,taskData.eventName,task.invoke,taskData.options)},customCancel,returnTarget,!0)),proto[REMOVE_EVENT_LISTENER]=function(){var capture,target=this||_global,eventName=arguments[0],options=arguments[2];capture=void 0!==options&&(!0===options||!1!==options&&(!!options&&!!options.capture));var delegate=arguments[1];if(!delegate)return nativeRemoveEventListener.apply(this,arguments);if(!validateHandler||validateHandler(nativeRemoveEventListener,delegate,target,arguments)){var symbolEventName,symbolEventNames=zoneSymbolEventNames$1[eventName];symbolEventNames&&(symbolEventName=symbolEventNames[capture?TRUE_STR:FALSE_STR]);var existingTasks=symbolEventName&&target[symbolEventName];if(existingTasks)for(var i=0;i<existingTasks.length;i++){var existingTask=existingTasks[i];if(compare(existingTask,delegate))return existingTasks.splice(i,1),existingTask.isRemoved=!0,0===existingTasks.length&&(existingTask.allRemoved=!0,target[symbolEventName]=null),existingTask.zone.cancelTask(existingTask),returnTarget?target:void 0}return nativeRemoveEventListener.apply(this,arguments)}},proto[LISTENERS_EVENT_LISTENER]=function(){for(var target=this||_global,eventName=arguments[0],listeners=[],tasks=findEventTasks(target,eventNameToString?eventNameToString(eventName):eventName),i=0;i<tasks.length;i++){var task=tasks[i],delegate=task.originalDelegate?task.originalDelegate:task.callback;listeners.push(delegate)}return listeners},proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER]=function(){var target=this||_global,eventName=arguments[0];if(eventName){var symbolEventNames=zoneSymbolEventNames$1[eventName];if(symbolEventNames){var symbolEventName=symbolEventNames[FALSE_STR],symbolCaptureEventName=symbolEventNames[TRUE_STR],tasks=target[symbolEventName],captureTasks=target[symbolCaptureEventName];if(tasks){var removeTasks=tasks.slice();for(i=0;i<removeTasks.length;i++){var delegate=(task=removeTasks[i]).originalDelegate?task.originalDelegate:task.callback;this[REMOVE_EVENT_LISTENER].call(this,eventName,delegate,task.options)}}if(captureTasks)for(removeTasks=captureTasks.slice(),i=0;i<removeTasks.length;i++){var task;delegate=(task=removeTasks[i]).originalDelegate?task.originalDelegate:task.callback;this[REMOVE_EVENT_LISTENER].call(this,eventName,delegate,task.options)}}}else{for(var keys=Object.keys(target),i=0;i<keys.length;i++){var prop=keys[i],match=EVENT_NAME_SYMBOL_REGX.exec(prop),evtName=match&&match[1];evtName&&"removeListener"!==evtName&&this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this,evtName)}this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this,"removeListener")}if(returnTarget)return this},attachOriginToPatched(proto[ADD_EVENT_LISTENER],nativeAddEventListener),attachOriginToPatched(proto[REMOVE_EVENT_LISTENER],nativeRemoveEventListener),nativeRemoveAllListeners&&attachOriginToPatched(proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER],nativeRemoveAllListeners),nativeListeners&&attachOriginToPatched(proto[LISTENERS_EVENT_LISTENER],nativeListeners),!0}for(var results=[],i=0;i<apis.length;i++)results[i]=patchEventTargetMethods(apis[i],patchOptions);return results}function findEventTasks(target,eventName){var foundTasks=[];for(var prop in target){var match=EVENT_NAME_SYMBOL_REGX.exec(prop),evtName=match&&match[1];if(evtName&&(!eventName||evtName===eventName)){var tasks=target[prop];if(tasks)for(var i=0;i<tasks.length;i++)foundTasks.push(tasks[i])}}return foundTasks}function patchEventPrototype(global,api){var Event=global.Event;Event&&Event.prototype&&api.patchMethod(Event.prototype,"stopImmediatePropagation",function(delegate){return function(self,args){self[IMMEDIATE_PROPAGATION_SYMBOL]=!0,delegate&&delegate.apply(self,args)}})}function patchCallbacks(api,target,targetName,method,callbacks){var symbol=Zone.__symbol__(method);if(!target[symbol]){var nativeDelegate=target[symbol]=target[method];target[method]=function(name,opts,options){return opts&&opts.prototype&&callbacks.forEach(function(callback){var source=targetName+"."+method+"::"+callback,prototype=opts.prototype;if(prototype.hasOwnProperty(callback)){var descriptor=api.ObjectGetOwnPropertyDescriptor(prototype,callback);descriptor&&descriptor.value?(descriptor.value=api.wrapWithCurrentZone(descriptor.value,source),api._redefineProperty(opts.prototype,callback,descriptor)):prototype[callback]&&(prototype[callback]=api.wrapWithCurrentZone(prototype[callback],source))}else prototype[callback]&&(prototype[callback]=api.wrapWithCurrentZone(prototype[callback],source))}),nativeDelegate.call(target,name,opts,options)},api.attachOriginToPatched(target[method],nativeDelegate)}}var zoneSymbol$1=Zone.__symbol__,_defineProperty=Object[zoneSymbol$1("defineProperty")]=Object.defineProperty,_getOwnPropertyDescriptor=Object[zoneSymbol$1("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,_create=Object.create,unconfigurablesKey=zoneSymbol$1("unconfigurables");function _redefineProperty(obj,prop,desc){var originalConfigurableFlag=desc.configurable;return _tryDefineProperty(obj,prop,desc=rewriteDescriptor(obj,prop,desc),originalConfigurableFlag)}function isUnconfigurable(obj,prop){return obj&&obj[unconfigurablesKey]&&obj[unconfigurablesKey][prop]}function rewriteDescriptor(obj,prop,desc){return Object.isFrozen(desc)||(desc.configurable=!0),desc.configurable||(obj[unconfigurablesKey]||Object.isFrozen(obj)||_defineProperty(obj,unconfigurablesKey,{writable:!0,value:{}}),obj[unconfigurablesKey]&&(obj[unconfigurablesKey][prop]=!0)),desc}function _tryDefineProperty(obj,prop,desc,originalConfigurableFlag){try{return _defineProperty(obj,prop,desc)}catch(error){if(!desc.configurable)throw error;void 0===originalConfigurableFlag?delete desc.configurable:desc.configurable=originalConfigurableFlag;try{return _defineProperty(obj,prop,desc)}catch(error){var descJson=null;try{descJson=JSON.stringify(desc)}catch(error){descJson=desc.toString()}console.log("Attempting to configure '"+prop+"' with descriptor '"+descJson+"' on object '"+obj+"' and got error, giving up: "+error)}}}var windowEventNames=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],mediaElementEventNames=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],frameEventNames=["load"],frameSetEventNames=["blur","error","focus","load","resize","scroll","messageerror"],marqueeEventNames=["bounce","finish","start"],XMLHttpRequestEventNames=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],IDBIndexEventNames=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],websocketEventNames=["close","error","open","message"],workerEventNames=["error","message"],eventNames=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],windowEventNames,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function filterProperties(target,onProperties,ignoreProperties){if(!ignoreProperties||0===ignoreProperties.length)return onProperties;var tip=ignoreProperties.filter(function(ip){return ip.target===target});if(!tip||0===tip.length)return onProperties;var targetIgnoreProperties=tip[0].ignoreProperties;return onProperties.filter(function(op){return-1===targetIgnoreProperties.indexOf(op)})}function patchFilteredProperties(target,onProperties,ignoreProperties,prototype){target&&patchOnProperties(target,filterProperties(target,onProperties,ignoreProperties),prototype)}function propertyDescriptorPatch(api,_global){if((!isNode||isMix)&&!Zone[api.symbol("patchEvents")]){var supportsWebSocket="undefined"!=typeof WebSocket,ignoreProperties=_global.__Zone_ignore_on_properties;if(isBrowser){var internalWindow=window,ignoreErrorProperties=isIE?[{target:internalWindow,ignoreProperties:["error"]}]:[];patchFilteredProperties(internalWindow,eventNames.concat(["messageerror"]),ignoreProperties?ignoreProperties.concat(ignoreErrorProperties):ignoreProperties,ObjectGetPrototypeOf(internalWindow)),patchFilteredProperties(Document.prototype,eventNames,ignoreProperties),void 0!==internalWindow.SVGElement&&patchFilteredProperties(internalWindow.SVGElement.prototype,eventNames,ignoreProperties),patchFilteredProperties(Element.prototype,eventNames,ignoreProperties),patchFilteredProperties(HTMLElement.prototype,eventNames,ignoreProperties),patchFilteredProperties(HTMLMediaElement.prototype,mediaElementEventNames,ignoreProperties),patchFilteredProperties(HTMLFrameSetElement.prototype,windowEventNames.concat(frameSetEventNames),ignoreProperties),patchFilteredProperties(HTMLBodyElement.prototype,windowEventNames.concat(frameSetEventNames),ignoreProperties),patchFilteredProperties(HTMLFrameElement.prototype,frameEventNames,ignoreProperties),patchFilteredProperties(HTMLIFrameElement.prototype,frameEventNames,ignoreProperties);var HTMLMarqueeElement_1=internalWindow.HTMLMarqueeElement;HTMLMarqueeElement_1&&patchFilteredProperties(HTMLMarqueeElement_1.prototype,marqueeEventNames,ignoreProperties);var Worker_1=internalWindow.Worker;Worker_1&&patchFilteredProperties(Worker_1.prototype,workerEventNames,ignoreProperties)}var XMLHttpRequest=_global.XMLHttpRequest;XMLHttpRequest&&patchFilteredProperties(XMLHttpRequest.prototype,XMLHttpRequestEventNames,ignoreProperties);var XMLHttpRequestEventTarget=_global.XMLHttpRequestEventTarget;XMLHttpRequestEventTarget&&patchFilteredProperties(XMLHttpRequestEventTarget&&XMLHttpRequestEventTarget.prototype,XMLHttpRequestEventNames,ignoreProperties),"undefined"!=typeof IDBIndex&&(patchFilteredProperties(IDBIndex.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBRequest.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBOpenDBRequest.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBDatabase.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBTransaction.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBCursor.prototype,IDBIndexEventNames,ignoreProperties)),supportsWebSocket&&patchFilteredProperties(WebSocket.prototype,websocketEventNames,ignoreProperties)}}function eventTargetLegacyPatch(_global,api){var _a=api.getGlobalObjects(),eventNames=_a.eventNames,globalSources=_a.globalSources,zoneSymbolEventNames=_a.zoneSymbolEventNames,TRUE_STR=_a.TRUE_STR,FALSE_STR=_a.FALSE_STR,ZONE_SYMBOL_PREFIX=_a.ZONE_SYMBOL_PREFIX,WTF_ISSUE_555="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video",NO_EVENT_TARGET="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),apis=[],isWtf=_global.wtf,WTF_ISSUE_555_ARRAY=WTF_ISSUE_555.split(",");isWtf?apis=WTF_ISSUE_555_ARRAY.map(function(v){return"HTML"+v+"Element"}).concat(NO_EVENT_TARGET):_global.EventTarget?apis.push("EventTarget"):apis=NO_EVENT_TARGET;for(var isDisableIECheck=_global.__Zone_disable_IE_check||!1,isEnableCrossContextCheck=_global.__Zone_enable_cross_context_check||!1,ieOrEdge=api.isIEOrEdge(),BROWSER_TOOLS="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",i=0;i<eventNames.length;i++){var symbol=ZONE_SYMBOL_PREFIX+((eventName=eventNames[i])+FALSE_STR),symbolCapture=ZONE_SYMBOL_PREFIX+(eventName+TRUE_STR);zoneSymbolEventNames[eventName]={},zoneSymbolEventNames[eventName][FALSE_STR]=symbol,zoneSymbolEventNames[eventName][TRUE_STR]=symbolCapture}for(i=0;i<WTF_ISSUE_555.length;i++)for(var target=WTF_ISSUE_555_ARRAY[i],targets=globalSources[target]={},j=0;j<eventNames.length;j++){var eventName;targets[eventName=eventNames[j]]=target+".addEventListener:"+eventName}var apiTypes=[];for(i=0;i<apis.length;i++){var type=_global[apis[i]];apiTypes.push(type&&type.prototype)}return api.patchEventTarget(_global,apiTypes,{vh:function(nativeDelegate,delegate,target,args){if(!isDisableIECheck&&ieOrEdge){if(isEnableCrossContextCheck)try{var testString;if("[object FunctionWrapper]"===(testString=delegate.toString())||testString==BROWSER_TOOLS)return nativeDelegate.apply(target,args),!1}catch(error){return nativeDelegate.apply(target,args),!1}else if("[object FunctionWrapper]"===(testString=delegate.toString())||testString==BROWSER_TOOLS)return nativeDelegate.apply(target,args),!1}else if(isEnableCrossContextCheck)try{delegate.toString()}catch(error){return nativeDelegate.apply(target,args),!1}return!0}}),Zone[api.symbol("patchEventTarget")]=!!_global.EventTarget,!0}function propertyDescriptorLegacyPatch(api,_global){var _a=api.getGlobalObjects(),isNode=_a.isNode,isMix=_a.isMix;if((!isNode||isMix)&&!function(api,_global){var _a=api.getGlobalObjects(),isBrowser=_a.isBrowser,isMix=_a.isMix;if((isBrowser||isMix)&&!api.ObjectGetOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var desc=api.ObjectGetOwnPropertyDescriptor(Element.prototype,"onclick");if(desc&&!desc.configurable)return!1;if(desc){api.ObjectDefineProperty(Element.prototype,"onclick",{enumerable:!0,configurable:!0,get:function(){return!0}});var div=document.createElement("div"),result=!!div.onclick;return api.ObjectDefineProperty(Element.prototype,"onclick",desc),result}}var XMLHttpRequest=_global.XMLHttpRequest;if(!XMLHttpRequest)return!1;var XMLHttpRequestPrototype=XMLHttpRequest.prototype,xhrDesc=api.ObjectGetOwnPropertyDescriptor(XMLHttpRequestPrototype,"onreadystatechange");if(xhrDesc){api.ObjectDefineProperty(XMLHttpRequestPrototype,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}});var req=new XMLHttpRequest,result=!!req.onreadystatechange;return api.ObjectDefineProperty(XMLHttpRequestPrototype,"onreadystatechange",xhrDesc||{}),result}var SYMBOL_FAKE_ONREADYSTATECHANGE_1=api.symbol("fake");api.ObjectDefineProperty(XMLHttpRequestPrototype,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return this[SYMBOL_FAKE_ONREADYSTATECHANGE_1]},set:function(value){this[SYMBOL_FAKE_ONREADYSTATECHANGE_1]=value}});var req=new XMLHttpRequest,detectFunc=function(){};req.onreadystatechange=detectFunc;var result=req[SYMBOL_FAKE_ONREADYSTATECHANGE_1]===detectFunc;return req.onreadystatechange=null,result}(api,_global)){var supportsWebSocket="undefined"!=typeof WebSocket;!function(api){for(var eventNames=api.getGlobalObjects().eventNames,unboundKey=api.symbol("unbound"),_loop_1=function(i){var property=eventNames[i],onproperty="on"+property;self.addEventListener(property,function(event){var bound,source,elt=event.target;for(source=elt?elt.constructor.name+"."+onproperty:"unknown."+onproperty;elt;)elt[onproperty]&&!elt[onproperty][unboundKey]&&((bound=api.wrapWithCurrentZone(elt[onproperty],source))[unboundKey]=elt[onproperty],elt[onproperty]=bound),elt=elt.parentElement},!0)},i=0;i<eventNames.length;i++)_loop_1(i)}(api),api.patchClass("XMLHttpRequest"),supportsWebSocket&&function(api,_global){var _a=api.getGlobalObjects(),ADD_EVENT_LISTENER_STR=_a.ADD_EVENT_LISTENER_STR,REMOVE_EVENT_LISTENER_STR=_a.REMOVE_EVENT_LISTENER_STR,WS=_global.WebSocket;_global.EventTarget||api.patchEventTarget(_global,[WS.prototype]),_global.WebSocket=function(x,y){var proxySocket,proxySocketProto,socket=arguments.length>1?new WS(x,y):new WS(x),onmessageDesc=api.ObjectGetOwnPropertyDescriptor(socket,"onmessage");return onmessageDesc&&!1===onmessageDesc.configurable?(proxySocket=api.ObjectCreate(socket),proxySocketProto=socket,[ADD_EVENT_LISTENER_STR,REMOVE_EVENT_LISTENER_STR,"send","close"].forEach(function(propName){proxySocket[propName]=function(){var args=api.ArraySlice.call(arguments);if(propName===ADD_EVENT_LISTENER_STR||propName===REMOVE_EVENT_LISTENER_STR){var eventName=args.length>0?args[0]:void 0;if(eventName){var propertySymbol=Zone.__symbol__("ON_PROPERTY"+eventName);socket[propertySymbol]=proxySocket[propertySymbol]}}return socket[propName].apply(socket,args)}})):proxySocket=socket,api.patchOnProperties(proxySocket,["close","error","message","open"],proxySocketProto),proxySocket};var globalWebSocket=_global.WebSocket;for(var prop in WS)globalWebSocket[prop]=WS[prop]}(api,_global),Zone[api.symbol("patchEvents")]=!0}}Zone.__load_patch("util",function(global,Zone,api){api.patchOnProperties=patchOnProperties,api.patchMethod=patchMethod,api.bindArguments=bindArguments,api.patchMacroTask=patchMacroTask;var SYMBOL_BLACK_LISTED_EVENTS=Zone.__symbol__("BLACK_LISTED_EVENTS"),SYMBOL_UNPATCHED_EVENTS=Zone.__symbol__("UNPATCHED_EVENTS");global[SYMBOL_UNPATCHED_EVENTS]&&(global[SYMBOL_BLACK_LISTED_EVENTS]=global[SYMBOL_UNPATCHED_EVENTS]),global[SYMBOL_BLACK_LISTED_EVENTS]&&(Zone[SYMBOL_BLACK_LISTED_EVENTS]=Zone[SYMBOL_UNPATCHED_EVENTS]=global[SYMBOL_BLACK_LISTED_EVENTS]),api.patchEventPrototype=patchEventPrototype,api.patchEventTarget=patchEventTarget,api.isIEOrEdge=isIEOrEdge,api.ObjectDefineProperty=ObjectDefineProperty,api.ObjectGetOwnPropertyDescriptor=ObjectGetOwnPropertyDescriptor,api.ObjectCreate=ObjectCreate,api.ArraySlice=ArraySlice,api.patchClass=patchClass,api.wrapWithCurrentZone=wrapWithCurrentZone,api.filterProperties=filterProperties,api.attachOriginToPatched=attachOriginToPatched,api._redefineProperty=_redefineProperty,api.patchCallbacks=patchCallbacks,api.getGlobalObjects=function(){return{globalSources:globalSources,zoneSymbolEventNames:zoneSymbolEventNames$1,eventNames:eventNames,isBrowser:isBrowser,isMix:isMix,isNode:isNode,TRUE_STR:TRUE_STR,FALSE_STR:FALSE_STR,ZONE_SYMBOL_PREFIX:ZONE_SYMBOL_PREFIX,ADD_EVENT_LISTENER_STR:ADD_EVENT_LISTENER_STR,REMOVE_EVENT_LISTENER_STR:REMOVE_EVENT_LISTENER_STR}}}),function(_global){_global.__zone_symbol__legacyPatch=function(){var Zone=_global.Zone;Zone.__load_patch("registerElement",function(global,Zone,api){!function(_global,api){var _a=api.getGlobalObjects(),isBrowser=_a.isBrowser,isMix=_a.isMix;(isBrowser||isMix)&&"registerElement"in _global.document&&api.patchCallbacks(api,document,"Document","registerElement",["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"])}(global,api)}),Zone.__load_patch("EventTargetLegacy",function(global,Zone,api){eventTargetLegacyPatch(global,api),propertyDescriptorLegacyPatch(api,global)})}}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);var taskSymbol=zoneSymbol("zoneTask");function patchTimer(window,setName,cancelName,nameSuffix){var setNative=null,clearNative=null;cancelName+=nameSuffix;var tasksByHandleId={};function scheduleTask(task){var data=task.data;return data.args[0]=function(){try{task.invoke.apply(this,arguments)}finally{task.data&&task.data.isPeriodic||("number"==typeof data.handleId?delete tasksByHandleId[data.handleId]:data.handleId&&(data.handleId[taskSymbol]=null))}},data.handleId=setNative.apply(window,data.args),task}function clearTask(task){return clearNative(task.data.handleId)}setNative=patchMethod(window,setName+=nameSuffix,function(delegate){return function(self,args){if("function"==typeof args[0]){var options={isPeriodic:"Interval"===nameSuffix,delay:"Timeout"===nameSuffix||"Interval"===nameSuffix?args[1]||0:void 0,args:args},task=scheduleMacroTaskWithCurrentZone(setName,args[0],options,scheduleTask,clearTask);if(!task)return task;var handle=task.data.handleId;return"number"==typeof handle?tasksByHandleId[handle]=task:handle&&(handle[taskSymbol]=task),handle&&handle.ref&&handle.unref&&"function"==typeof handle.ref&&"function"==typeof handle.unref&&(task.ref=handle.ref.bind(handle),task.unref=handle.unref.bind(handle)),"number"==typeof handle||handle?handle:task}return delegate.apply(window,args)}}),clearNative=patchMethod(window,cancelName,function(delegate){return function(self,args){var task,id=args[0];"number"==typeof id?task=tasksByHandleId[id]:(task=id&&id[taskSymbol])||(task=id),task&&"string"==typeof task.type?"notScheduled"!==task.state&&(task.cancelFn&&task.data.isPeriodic||0===task.runCount)&&("number"==typeof id?delete tasksByHandleId[id]:id&&(id[taskSymbol]=null),task.zone.cancelTask(task)):delegate.apply(window,args)}})}function eventTargetPatch(_global,api){if(!Zone[api.symbol("patchEventTarget")]){for(var _a=api.getGlobalObjects(),eventNames=_a.eventNames,zoneSymbolEventNames=_a.zoneSymbolEventNames,TRUE_STR=_a.TRUE_STR,FALSE_STR=_a.FALSE_STR,ZONE_SYMBOL_PREFIX=_a.ZONE_SYMBOL_PREFIX,i=0;i<eventNames.length;i++){var eventName=eventNames[i],symbol=ZONE_SYMBOL_PREFIX+(eventName+FALSE_STR),symbolCapture=ZONE_SYMBOL_PREFIX+(eventName+TRUE_STR);zoneSymbolEventNames[eventName]={},zoneSymbolEventNames[eventName][FALSE_STR]=symbol,zoneSymbolEventNames[eventName][TRUE_STR]=symbolCapture}var EVENT_TARGET=_global.EventTarget;if(EVENT_TARGET&&EVENT_TARGET.prototype)return api.patchEventTarget(_global,[EVENT_TARGET&&EVENT_TARGET.prototype]),!0}}Zone.__load_patch("legacy",function(global){var legacyPatch=global[Zone.__symbol__("legacyPatch")];legacyPatch&&legacyPatch()}),Zone.__load_patch("timers",function(global){patchTimer(global,"set","clear","Timeout"),patchTimer(global,"set","clear","Interval"),patchTimer(global,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",function(global){patchTimer(global,"request","cancel","AnimationFrame"),patchTimer(global,"mozRequest","mozCancel","AnimationFrame"),patchTimer(global,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",function(global,Zone){for(var blockingMethods=["alert","prompt","confirm"],i=0;i<blockingMethods.length;i++){patchMethod(global,blockingMethods[i],function(delegate,symbol,name){return function(s,args){return Zone.current.run(delegate,global,args,name)}})}}),Zone.__load_patch("EventTarget",function(global,Zone,api){!function(global,api){api.patchEventPrototype(global,api)}(global,api),eventTargetPatch(global,api);var XMLHttpRequestEventTarget=global.XMLHttpRequestEventTarget;XMLHttpRequestEventTarget&&XMLHttpRequestEventTarget.prototype&&api.patchEventTarget(global,[XMLHttpRequestEventTarget.prototype]),patchClass("MutationObserver"),patchClass("WebKitMutationObserver"),patchClass("IntersectionObserver"),patchClass("FileReader")}),Zone.__load_patch("on_property",function(global,Zone,api){propertyDescriptorPatch(api,global),Object.defineProperty=function(obj,prop,desc){if(isUnconfigurable(obj,prop))throw new TypeError("Cannot assign to read only property '"+prop+"' of "+obj);var originalConfigurableFlag=desc.configurable;return"prototype"!==prop&&(desc=rewriteDescriptor(obj,prop,desc)),_tryDefineProperty(obj,prop,desc,originalConfigurableFlag)},Object.defineProperties=function(obj,props){return Object.keys(props).forEach(function(prop){Object.defineProperty(obj,prop,props[prop])}),obj},Object.create=function(obj,proto){return"object"!=typeof proto||Object.isFrozen(proto)||Object.keys(proto).forEach(function(prop){proto[prop]=rewriteDescriptor(obj,prop,proto[prop])}),_create(obj,proto)},Object.getOwnPropertyDescriptor=function(obj,prop){var desc=_getOwnPropertyDescriptor(obj,prop);return desc&&isUnconfigurable(obj,prop)&&(desc.configurable=!1),desc}}),Zone.__load_patch("customElements",function(global,Zone,api){!function(_global,api){var _a=api.getGlobalObjects(),isBrowser=_a.isBrowser,isMix=_a.isMix;(isBrowser||isMix)&&_global.customElements&&"customElements"in _global&&api.patchCallbacks(api,_global.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(global,api)}),Zone.__load_patch("XHR",function(global,Zone){!function(window){var XMLHttpRequest=window.XMLHttpRequest;if(!XMLHttpRequest)return;var XMLHttpRequestPrototype=XMLHttpRequest.prototype;var oriAddListener=XMLHttpRequestPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER],oriRemoveListener=XMLHttpRequestPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];if(!oriAddListener){var XMLHttpRequestEventTarget_1=window.XMLHttpRequestEventTarget;if(XMLHttpRequestEventTarget_1){var XMLHttpRequestEventTargetPrototype=XMLHttpRequestEventTarget_1.prototype;oriAddListener=XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER],oriRemoveListener=XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER]}}var READY_STATE_CHANGE="readystatechange",SCHEDULED="scheduled";function scheduleTask(task){var data=task.data,target=data.target;target[XHR_SCHEDULED]=!1,target[XHR_ERROR_BEFORE_SCHEDULED]=!1;var listener=target[XHR_LISTENER];oriAddListener||(oriAddListener=target[ZONE_SYMBOL_ADD_EVENT_LISTENER],oriRemoveListener=target[ZONE_SYMBOL_REMOVE_EVENT_LISTENER]),listener&&oriRemoveListener.call(target,READY_STATE_CHANGE,listener);var newListener=target[XHR_LISTENER]=function(){if(target.readyState===target.DONE)if(!data.aborted&&target[XHR_SCHEDULED]&&task.state===SCHEDULED){var loadTasks=target.__zone_symbol__loadfalse;if(loadTasks&&loadTasks.length>0){var oriInvoke_1=task.invoke;task.invoke=function(){for(var loadTasks=target.__zone_symbol__loadfalse,i=0;i<loadTasks.length;i++)loadTasks[i]===task&&loadTasks.splice(i,1);data.aborted||task.state!==SCHEDULED||oriInvoke_1.call(task)},loadTasks.push(task)}else task.invoke()}else data.aborted||!1!==target[XHR_SCHEDULED]||(target[XHR_ERROR_BEFORE_SCHEDULED]=!0)};oriAddListener.call(target,READY_STATE_CHANGE,newListener);var storedTask=target[XHR_TASK];return storedTask||(target[XHR_TASK]=task),sendNative.apply(target,data.args),target[XHR_SCHEDULED]=!0,task}function placeholderCallback(){}function clearTask(task){var data=task.data;return data.aborted=!0,abortNative.apply(data.target,data.args)}var openNative=patchMethod(XMLHttpRequestPrototype,"open",function(){return function(self,args){return self[XHR_SYNC]=0==args[2],self[XHR_URL]=args[1],openNative.apply(self,args)}}),fetchTaskAborting=zoneSymbol("fetchTaskAborting"),fetchTaskScheduling=zoneSymbol("fetchTaskScheduling"),sendNative=patchMethod(XMLHttpRequestPrototype,"send",function(){return function(self,args){if(!0===Zone.current[fetchTaskScheduling])return sendNative.apply(self,args);if(self[XHR_SYNC])return sendNative.apply(self,args);var options={target:self,url:self[XHR_URL],isPeriodic:!1,args:args,aborted:!1},task=scheduleMacroTaskWithCurrentZone("XMLHttpRequest.send",placeholderCallback,options,scheduleTask,clearTask);self&&!0===self[XHR_ERROR_BEFORE_SCHEDULED]&&!options.aborted&&task.state===SCHEDULED&&task.invoke()}}),abortNative=patchMethod(XMLHttpRequestPrototype,"abort",function(){return function(self,args){var task=self[XHR_TASK];if(task&&"string"==typeof task.type){if(null==task.cancelFn||task.data&&task.data.aborted)return;task.zone.cancelTask(task)}else if(!0===Zone.current[fetchTaskAborting])return abortNative.apply(self,args)}})}(global);var XHR_TASK=zoneSymbol("xhrTask"),XHR_SYNC=zoneSymbol("xhrSync"),XHR_LISTENER=zoneSymbol("xhrListener"),XHR_SCHEDULED=zoneSymbol("xhrScheduled"),XHR_URL=zoneSymbol("xhrURL"),XHR_ERROR_BEFORE_SCHEDULED=zoneSymbol("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",function(global){global.navigator&&global.navigator.geolocation&&function(prototype,fnNames){for(var source=prototype.constructor.name,_loop_1=function(i){var name_1=fnNames[i],delegate=prototype[name_1];if(delegate){if(!isPropertyWritable(ObjectGetOwnPropertyDescriptor(prototype,name_1)))return"continue";prototype[name_1]=function(delegate){var patched=function(){return delegate.apply(this,bindArguments(arguments,source+"."+name_1))};return attachOriginToPatched(patched,delegate),patched}(delegate)}},i=0;i<fnNames.length;i++)_loop_1(i)}(global.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",function(global,Zone){function findPromiseRejectionHandler(evtName){return function(e){findEventTasks(global,evtName).forEach(function(eventTask){var PromiseRejectionEvent=global.PromiseRejectionEvent;if(PromiseRejectionEvent){var evt=new PromiseRejectionEvent(evtName,{promise:e.promise,reason:e.rejection});eventTask.invoke(evt)}})}}global.PromiseRejectionEvent&&(Zone[zoneSymbol("unhandledPromiseRejectionHandler")]=findPromiseRejectionHandler("unhandledrejection"),Zone[zoneSymbol("rejectionHandledHandler")]=findPromiseRejectionHandler("rejectionhandled"))})})()},{}],pBGv:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],npqE:[function(require,module,exports){var Reflect,global=arguments[3],process=require("process");!function(Reflect){!function(factory){var root="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),exporter=makeExporter(Reflect);function makeExporter(target,previous){return function(key,value){"function"!=typeof target[key]&&Object.defineProperty(target,key,{configurable:!0,writable:!0,value:value}),previous&&previous(key,value)}}void 0===root.Reflect?root.Reflect=Reflect:exporter=makeExporter(root.Reflect,exporter),function(exporter){var hasOwn=Object.prototype.hasOwnProperty,supportsSymbol="function"==typeof Symbol,toPrimitiveSymbol=supportsSymbol&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",iteratorSymbol=supportsSymbol&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",supportsCreate="function"==typeof Object.create,supportsProto={__proto__:[]}instanceof Array,downLevel=!supportsCreate&&!supportsProto,HashMap={create:supportsCreate?function(){return MakeDictionary(Object.create(null))}:supportsProto?function(){return MakeDictionary({__proto__:null})}:function(){return MakeDictionary({})},has:downLevel?function(map,key){return hasOwn.call(map,key)}:function(map,key){return key in map},get:downLevel?function(map,key){return hasOwn.call(map,key)?map[key]:void 0}:function(map,key){return map[key]}},functionPrototype=Object.getPrototypeOf(Function),usePolyfill="object"==typeof process&&process.env&&!1,_Map=usePolyfill||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var cacheSentinel={},arraySentinel=[],MapIterator=function(){function MapIterator(keys,values,selector){this._index=0,this._keys=keys,this._values=values,this._selector=selector}return MapIterator.prototype["@@iterator"]=function(){return this},MapIterator.prototype[iteratorSymbol]=function(){return this},MapIterator.prototype.next=function(){var index=this._index;if(index>=0&&index<this._keys.length){var result=this._selector(this._keys[index],this._values[index]);return index+1>=this._keys.length?(this._index=-1,this._keys=arraySentinel,this._values=arraySentinel):this._index++,{value:result,done:!1}}return{value:void 0,done:!0}},MapIterator.prototype.throw=function(error){throw this._index>=0&&(this._index=-1,this._keys=arraySentinel,this._values=arraySentinel),error},MapIterator.prototype.return=function(value){return this._index>=0&&(this._index=-1,this._keys=arraySentinel,this._values=arraySentinel),{value:value,done:!0}},MapIterator}();return function(){function Map(){this._keys=[],this._values=[],this._cacheKey=cacheSentinel,this._cacheIndex=-2}return Object.defineProperty(Map.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Map.prototype.has=function(key){return this._find(key,!1)>=0},Map.prototype.get=function(key){var index=this._find(key,!1);return index>=0?this._values[index]:void 0},Map.prototype.set=function(key,value){var index=this._find(key,!0);return this._values[index]=value,this},Map.prototype.delete=function(key){var index=this._find(key,!1);if(index>=0){for(var size=this._keys.length,i=index+1;i<size;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,key===this._cacheKey&&(this._cacheKey=cacheSentinel,this._cacheIndex=-2),!0}return!1},Map.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=cacheSentinel,this._cacheIndex=-2},Map.prototype.keys=function(){return new MapIterator(this._keys,this._values,getKey)},Map.prototype.values=function(){return new MapIterator(this._keys,this._values,getValue)},Map.prototype.entries=function(){return new MapIterator(this._keys,this._values,getEntry)},Map.prototype["@@iterator"]=function(){return this.entries()},Map.prototype[iteratorSymbol]=function(){return this.entries()},Map.prototype._find=function(key,insert){return this._cacheKey!==key&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=key)),this._cacheIndex<0&&insert&&(this._cacheIndex=this._keys.length,this._keys.push(key),this._values.push(void 0)),this._cacheIndex},Map}();function getKey(key,_){return key}function getValue(_,value){return value}function getEntry(key,value){return[key,value]}}():Map,_Set=usePolyfill||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function Set(){this._map=new _Map}return Object.defineProperty(Set.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Set.prototype.has=function(value){return this._map.has(value)},Set.prototype.add=function(value){return this._map.set(value,value),this},Set.prototype.delete=function(value){return this._map.delete(value)},Set.prototype.clear=function(){this._map.clear()},Set.prototype.keys=function(){return this._map.keys()},Set.prototype.values=function(){return this._map.values()},Set.prototype.entries=function(){return this._map.entries()},Set.prototype["@@iterator"]=function(){return this.keys()},Set.prototype[iteratorSymbol]=function(){return this.keys()},Set}():Set,Metadata=new(usePolyfill||"function"!=typeof WeakMap?function(){var UUID_SIZE=16,keys=HashMap.create(),rootKey=CreateUniqueKey();return function(){function WeakMap(){this._key=CreateUniqueKey()}return WeakMap.prototype.has=function(target){var table=GetOrCreateWeakMapTable(target,!1);return void 0!==table&&HashMap.has(table,this._key)},WeakMap.prototype.get=function(target){var table=GetOrCreateWeakMapTable(target,!1);return void 0!==table?HashMap.get(table,this._key):void 0},WeakMap.prototype.set=function(target,value){var table=GetOrCreateWeakMapTable(target,!0);return table[this._key]=value,this},WeakMap.prototype.delete=function(target){var table=GetOrCreateWeakMapTable(target,!1);return void 0!==table&&delete table[this._key]},WeakMap.prototype.clear=function(){this._key=CreateUniqueKey()},WeakMap}();function CreateUniqueKey(){var key;do{key="@@WeakMap@@"+CreateUUID()}while(HashMap.has(keys,key));return keys[key]=!0,key}function GetOrCreateWeakMapTable(target,create){if(!hasOwn.call(target,rootKey)){if(!create)return;Object.defineProperty(target,rootKey,{value:HashMap.create()})}return target[rootKey]}function FillRandomBytes(buffer,size){for(var i=0;i<size;++i)buffer[i]=255*Math.random()|0;return buffer}function CreateUUID(){var data=function(size){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(size)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(size)):FillRandomBytes(new Uint8Array(size),size);return FillRandomBytes(new Array(size),size)}(UUID_SIZE);data[6]=79&data[6]|64,data[8]=191&data[8]|128;for(var result="",offset=0;offset<UUID_SIZE;++offset){var byte=data[offset];4!==offset&&6!==offset&&8!==offset||(result+="-"),byte<16&&(result+="0"),result+=byte.toString(16).toLowerCase()}return result}}():WeakMap);function GetOrCreateMetadataMap(O,P,Create){var targetMetadata=Metadata.get(O);if(IsUndefined(targetMetadata)){if(!Create)return;targetMetadata=new _Map,Metadata.set(O,targetMetadata)}var metadataMap=targetMetadata.get(P);if(IsUndefined(metadataMap)){if(!Create)return;metadataMap=new _Map,targetMetadata.set(P,metadataMap)}return metadataMap}function OrdinaryHasOwnMetadata(MetadataKey,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,!1);return!IsUndefined(metadataMap)&&!!metadataMap.has(MetadataKey)}function OrdinaryGetOwnMetadata(MetadataKey,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,!1);if(!IsUndefined(metadataMap))return metadataMap.get(MetadataKey)}function OrdinaryDefineOwnMetadata(MetadataKey,MetadataValue,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,!0);metadataMap.set(MetadataKey,MetadataValue)}function OrdinaryOwnMetadataKeys(O,P){var keys=[],metadataMap=GetOrCreateMetadataMap(O,P,!1);if(IsUndefined(metadataMap))return keys;for(var keysObj=metadataMap.keys(),iterator=function(obj){var method=GetMethod(obj,iteratorSymbol);if(!IsCallable(method))throw new TypeError;var iterator=method.call(obj);if(!IsObject(iterator))throw new TypeError;return iterator}(keysObj),k=0;;){var next=IteratorStep(iterator);if(!next)return keys.length=k,keys;var nextValue=next.value;try{keys[k]=nextValue}catch(e){try{IteratorClose(iterator)}finally{throw e}}k++}}function Type(x){if(null===x)return 1;switch(typeof x){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===x?1:6;default:return 6}}function IsUndefined(x){return void 0===x}function IsNull(x){return null===x}function IsObject(x){return"object"==typeof x?null!==x:"function"==typeof x}function ToPrimitive(input,PreferredType){switch(Type(input)){case 0:case 1:case 2:case 3:case 4:case 5:return input}var hint=3===PreferredType?"string":5===PreferredType?"number":"default",exoticToPrim=GetMethod(input,toPrimitiveSymbol);if(void 0!==exoticToPrim){var result=exoticToPrim.call(input,hint);if(IsObject(result))throw new TypeError;return result}return function(O,hint){if("string"===hint){var toString_1=O.toString;if(IsCallable(toString_1)){var result=toString_1.call(O);if(!IsObject(result))return result}var valueOf=O.valueOf;if(IsCallable(valueOf)){var result=valueOf.call(O);if(!IsObject(result))return result}}else{var valueOf=O.valueOf;if(IsCallable(valueOf)){var result=valueOf.call(O);if(!IsObject(result))return result}var toString_2=O.toString;if(IsCallable(toString_2)){var result=toString_2.call(O);if(!IsObject(result))return result}}throw new TypeError}(input,"default"===hint?"number":hint)}function ToPropertyKey(argument){var key=ToPrimitive(argument,3);return"symbol"==typeof key?key:function(argument){return""+argument}(key)}function IsArray(argument){return Array.isArray?Array.isArray(argument):argument instanceof Object?argument instanceof Array:"[object Array]"===Object.prototype.toString.call(argument)}function IsCallable(argument){return"function"==typeof argument}function IsConstructor(argument){return"function"==typeof argument}function GetMethod(V,P){var func=V[P];if(void 0!==func&&null!==func){if(!IsCallable(func))throw new TypeError;return func}}function IteratorStep(iterator){var result=iterator.next();return!result.done&&result}function IteratorClose(iterator){var f=iterator.return;f&&f.call(iterator)}function OrdinaryGetPrototypeOf(O){var proto=Object.getPrototypeOf(O);if("function"!=typeof O||O===functionPrototype)return proto;if(proto!==functionPrototype)return proto;var prototype=O.prototype,prototypeProto=prototype&&Object.getPrototypeOf(prototype);if(null==prototypeProto||prototypeProto===Object.prototype)return proto;var constructor=prototypeProto.constructor;return"function"!=typeof constructor?proto:constructor===O?proto:constructor}function MakeDictionary(obj){return obj.__=void 0,delete obj.__,obj}exporter("decorate",function(decorators,target,propertyKey,attributes){if(IsUndefined(propertyKey)){if(!IsArray(decorators))throw new TypeError;if(!IsConstructor(target))throw new TypeError;return function(decorators,target){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i],decorated=decorator(target);if(!IsUndefined(decorated)&&!IsNull(decorated)){if(!IsConstructor(decorated))throw new TypeError;target=decorated}}return target}(decorators,target)}if(!IsArray(decorators))throw new TypeError;if(!IsObject(target))throw new TypeError;if(!IsObject(attributes)&&!IsUndefined(attributes)&&!IsNull(attributes))throw new TypeError;return IsNull(attributes)&&(attributes=void 0),propertyKey=ToPropertyKey(propertyKey),function(decorators,target,propertyKey,descriptor){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i],decorated=decorator(target,propertyKey,descriptor);if(!IsUndefined(decorated)&&!IsNull(decorated)){if(!IsObject(decorated))throw new TypeError;descriptor=decorated}}return descriptor}(decorators,target,propertyKey,attributes)}),exporter("metadata",function(metadataKey,metadataValue){return function(target,propertyKey){if(!IsObject(target))throw new TypeError;if(!IsUndefined(propertyKey)&&!function(argument){switch(Type(argument)){case 3:case 4:return!0;default:return!1}}(propertyKey))throw new TypeError;OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,propertyKey)}}),exporter("defineMetadata",function(metadataKey,metadataValue,target,propertyKey){if(!IsObject(target))throw new TypeError;IsUndefined(propertyKey)||(propertyKey=ToPropertyKey(propertyKey));return OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,propertyKey)}),exporter("hasMetadata",function(metadataKey,target,propertyKey){if(!IsObject(target))throw new TypeError;IsUndefined(propertyKey)||(propertyKey=ToPropertyKey(propertyKey));return function OrdinaryHasMetadata(MetadataKey,O,P){var hasOwn=OrdinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return!0;var parent=OrdinaryGetPrototypeOf(O);if(!IsNull(parent))return OrdinaryHasMetadata(MetadataKey,parent,P);return!1}(metadataKey,target,propertyKey)}),exporter("hasOwnMetadata",function(metadataKey,target,propertyKey){if(!IsObject(target))throw new TypeError;IsUndefined(propertyKey)||(propertyKey=ToPropertyKey(propertyKey));return OrdinaryHasOwnMetadata(metadataKey,target,propertyKey)}),exporter("getMetadata",function(metadataKey,target,propertyKey){if(!IsObject(target))throw new TypeError;IsUndefined(propertyKey)||(propertyKey=ToPropertyKey(propertyKey));return function OrdinaryGetMetadata(MetadataKey,O,P){var hasOwn=OrdinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return OrdinaryGetOwnMetadata(MetadataKey,O,P);var parent=OrdinaryGetPrototypeOf(O);if(!IsNull(parent))return OrdinaryGetMetadata(MetadataKey,parent,P);return}(metadataKey,target,propertyKey)}),exporter("getOwnMetadata",function(metadataKey,target,propertyKey){if(!IsObject(target))throw new TypeError;IsUndefined(propertyKey)||(propertyKey=ToPropertyKey(propertyKey));return OrdinaryGetOwnMetadata(metadataKey,target,propertyKey)}),exporter("getMetadataKeys",function(target,propertyKey){if(!IsObject(target))throw new TypeError;IsUndefined(propertyKey)||(propertyKey=ToPropertyKey(propertyKey));return function OrdinaryMetadataKeys(O,P){var ownKeys=OrdinaryOwnMetadataKeys(O,P);var parent=OrdinaryGetPrototypeOf(O);if(null===parent)return ownKeys;var parentKeys=OrdinaryMetadataKeys(parent,P);if(parentKeys.length<=0)return ownKeys;if(ownKeys.length<=0)return parentKeys;var set=new _Set;var keys=[];for(var _i=0,ownKeys_1=ownKeys;_i<ownKeys_1.length;_i++){var key=ownKeys_1[_i],hasKey=set.has(key);hasKey||(set.add(key),keys.push(key))}for(var _a=0,parentKeys_1=parentKeys;_a<parentKeys_1.length;_a++){var key=parentKeys_1[_a],hasKey=set.has(key);hasKey||(set.add(key),keys.push(key))}return keys}(target,propertyKey)}),exporter("getOwnMetadataKeys",function(target,propertyKey){if(!IsObject(target))throw new TypeError;IsUndefined(propertyKey)||(propertyKey=ToPropertyKey(propertyKey));return OrdinaryOwnMetadataKeys(target,propertyKey)}),exporter("deleteMetadata",function(metadataKey,target,propertyKey){if(!IsObject(target))throw new TypeError;IsUndefined(propertyKey)||(propertyKey=ToPropertyKey(propertyKey));var metadataMap=GetOrCreateMetadataMap(target,propertyKey,!1);if(IsUndefined(metadataMap))return!1;if(!metadataMap.delete(metadataKey))return!1;if(metadataMap.size>0)return!0;var targetMetadata=Metadata.get(target);return targetMetadata.delete(propertyKey),targetMetadata.size>0||(Metadata.delete(target),!0)})}(exporter)}()}(Reflect||(Reflect={}))},{process:"pBGv"}],PhdE:[function(require,module,exports){!function(factory){var registeredInModuleLoader;if("object"==typeof exports&&(module.exports=factory(),registeredInModuleLoader=!0),!registeredInModuleLoader){var OldCookies=window.Cookies,api=window.Cookies=factory();api.noConflict=function(){return window.Cookies=OldCookies,api}}}(function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes)result[key]=attributes[key]}return result}function decode(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function init(converter){function api(){}function set(key,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=extend({path:"/"},api.defaults,attributes)).expires&&(attributes.expires=new Date(1*new Date+864e5*attributes.expires)),attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{var result=JSON.stringify(value);/^[\{\[]/.test(result)&&(value=result)}catch(e){}value=converter.write?converter.write(value,key):encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=key+"="+value+stringifiedAttributes}}function get(key,json){if("undefined"!=typeof document){for(var jar={},cookies=document.cookie?document.cookie.split("; "):[],i=0;i<cookies.length;i++){var parts=cookies[i].split("="),cookie=parts.slice(1).join("=");json||'"'!==cookie.charAt(0)||(cookie=cookie.slice(1,-1));try{var name=decode(parts[0]);if(cookie=(converter.read||converter)(cookie,name)||decode(cookie),json)try{cookie=JSON.parse(cookie)}catch(e){}if(jar[name]=cookie,key===name)break}catch(e){}}return key?jar[key]:jar}}return api.set=set,api.get=function(key){return get(key,!1)},api.getJSON=function(key){return get(key,!0)},api.remove=function(key,attributes){set(key,"",extend(attributes,{expires:-1}))},api.defaults={},api.withConverter=init,api}(function(){})})},{}],vCxL:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__extends=function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exports.__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t},exports.__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},exports.__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},exports.__metadata=function(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)},exports.__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},exports.__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},exports.__exportStar=function(m,exports){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])},exports.__values=__values,exports.__read=__read,exports.__spread=function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},exports.__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},exports.__await=__await,exports.__asyncGenerator=function(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})})}function resume(n,v){try{(r=g[n](v)).value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}catch(e){settle(q[0][3],e)}var r}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}},exports.__asyncDelegator=function(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}},exports.__asyncValues=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),function(resolve,reject,d,v){Promise.resolve(v).then(function(v){resolve({value:v,done:d})},reject)}(resolve,reject,v.done,v.value)})}}},exports.__makeTemplateObject=function(cooked,raw){Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw;return cooked},exports.__importStar=function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result},exports.__importDefault=function(mod){return mod&&mod.__esModule?mod:{default:mod}},exports.__assign=void 0;var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};var __assign=function(){return exports.__assign=__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __values(o){var m="function"==typeof Symbol&&o[Symbol.iterator],i=0;return m?m.call(o):{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}}}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}exports.__assign=__assign},{}],yigG:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.preserveWhitespacesDefault=preserveWhitespacesDefault,exports.isLoweredSymbol=isLoweredSymbol,exports.createLoweredSymbol=function(id){return""+id},exports.literalMap=literalMap,exports.collectExternalReferences=function(stmts){var visitor=new _FindExternalReferencesVisitor;return visitor.visitAllStatements(stmts,null),visitor.externalReferences},exports.findStaticQueryIds=findStaticQueryIds,exports.staticViewQueryIds=staticViewQueryIds,exports.getParseErrors=function(error){return error[ERROR_PARSE_ERRORS]||[]},exports.isSyntaxError=function(error){return error[ERROR_SYNTAX_ERROR]},exports.syntaxError=syntaxError,exports.compileInjector=compileInjector,exports.compileNgModule=compileNgModule,exports.compilePipeFromMetadata=compilePipeFromMetadata,exports.makeBindingParser=makeBindingParser,exports.parseTemplate=parseTemplate,exports.compileBaseDefFromMetadata=compileBaseDefFromMetadata,exports.compileComponentFromMetadata=compileComponentFromMetadata,exports.compileDirectiveFromMetadata=compileDirectiveFromMetadata,exports.parseHostBindings=parseHostBindings,exports.verifyHostBindings=verifyHostBindings,exports.publishFacade=publishFacade,exports.templateVisitAll=templateVisitAll,exports.sanitizeIdentifier=sanitizeIdentifier,exports.identifierName=identifierName,exports.identifierModuleUrl=identifierModuleUrl,exports.viewClassName=viewClassName,exports.rendererTypeName=rendererTypeName,exports.hostViewClassName=hostViewClassName,exports.componentFactoryName=componentFactoryName,exports.tokenName=tokenName,exports.tokenReference=tokenReference,exports.flatten=flatten,exports.templateSourceUrl=templateSourceUrl,exports.sharedStylesheetJitUrl=sharedStylesheetJitUrl,exports.ngModuleJitUrl=ngModuleJitUrl,exports.templateJitUrl=templateJitUrl,exports.createAotUrlResolver=createAotUrlResolver,exports.createAotCompiler=function(compilerHost,options,errorCollector){var htmlParser,translations=options.translations||"",urlResolver=createAotUrlResolver(compilerHost),symbolCache=new StaticSymbolCache,summaryResolver=new AotSummaryResolver(compilerHost,symbolCache),symbolResolver=new StaticSymbolResolver(compilerHost,symbolCache,summaryResolver),staticReflector=new StaticReflector(summaryResolver,symbolResolver,[],[],errorCollector);htmlParser=options.enableIvy?new HtmlParser:new I18NHtmlParser(new HtmlParser,translations,options.i18nFormat,options.missingTranslation,console);var config=new CompilerConfig({defaultEncapsulation:ViewEncapsulation.Emulated,useJit:!1,missingTranslation:options.missingTranslation,preserveWhitespaces:options.preserveWhitespaces,strictInjectionParameters:options.strictInjectionParameters}),normalizer=new DirectiveNormalizer({get:function(url){return compilerHost.loadResource(url)}},urlResolver,htmlParser,config),expressionParser=new Parser$1(new Lexer),elementSchemaRegistry=new DomElementSchemaRegistry,tmplParser=new TemplateParser(config,staticReflector,expressionParser,elementSchemaRegistry,htmlParser,console,[]),resolver=new CompileMetadataResolver(config,htmlParser,new NgModuleResolver(staticReflector),new DirectiveResolver(staticReflector),new PipeResolver(staticReflector),summaryResolver,elementSchemaRegistry,normalizer,console,symbolCache,staticReflector,errorCollector),viewCompiler=new ViewCompiler(staticReflector),typeCheckCompiler=new TypeCheckCompiler(options,staticReflector);return{compiler:new AotCompiler(config,options,compilerHost,staticReflector,resolver,tmplParser,new StyleCompiler(urlResolver),viewCompiler,typeCheckCompiler,new NgModuleCompiler(staticReflector),new InjectableCompiler(staticReflector,!!options.enableIvy),new TypeScriptEmitter,summaryResolver,symbolResolver),reflector:staticReflector}},exports.analyzeNgModules=analyzeNgModules,exports.analyzeAndValidateNgModules=analyzeAndValidateNgModules,exports.analyzeFile=analyzeFile,exports.analyzeFileForInjectables=analyzeFileForInjectables,exports.mergeAnalyzedFiles=mergeAnalyzedFiles,exports.toTypeScript=function(file,preamble){void 0===preamble&&(preamble="");if(!file.stmts)throw new Error("Illegal state: No stmts present on GeneratedFile "+file.genFileUrl);return(new TypeScriptEmitter).emitStatements(file.genFileUrl,file.stmts,preamble)},exports.formattedError=formattedError,exports.isFormattedError=function(error){return!!error[FORMATTED_MESSAGE]},exports.unescapeIdentifier=unescapeIdentifier,exports.unwrapResolvedMetadata=unwrapResolvedMetadata,exports.createUrlResolverWithoutPackagePrefix=function(){return new UrlResolver},exports.createOfflineCompileUrlResolver=function(){return new UrlResolver(".")},exports.getUrlScheme=function(url){var match=_split(url);return match&&match[_ComponentIndex.Scheme]||""},exports.visitAstChildren=function(ast,visitor,context){function visit(ast){visitor.visit&&visitor.visit(ast,context)||ast.visit(visitor,context)}function visitAll(asts){asts.forEach(visit)}ast.visit({visitBinary:function(ast){visit(ast.left),visit(ast.right)},visitChain:function(ast){visitAll(ast.expressions)},visitConditional:function(ast){visit(ast.condition),visit(ast.trueExp),visit(ast.falseExp)},visitFunctionCall:function(ast){ast.target&&visit(ast.target),visitAll(ast.args)},visitImplicitReceiver:function(ast){},visitInterpolation:function(ast){visitAll(ast.expressions)},visitKeyedRead:function(ast){visit(ast.obj),visit(ast.key)},visitKeyedWrite:function(ast){visit(ast.obj),visit(ast.key),visit(ast.obj)},visitLiteralArray:function(ast){visitAll(ast.expressions)},visitLiteralMap:function(ast){},visitLiteralPrimitive:function(ast){},visitMethodCall:function(ast){visit(ast.receiver),visitAll(ast.args)},visitPipe:function(ast){visit(ast.exp),visitAll(ast.args)},visitPrefixNot:function(ast){visit(ast.expression)},visitNonNullAssert:function(ast){visit(ast.expression)},visitPropertyRead:function(ast){visit(ast.receiver)},visitPropertyWrite:function(ast){visit(ast.receiver),visit(ast.value)},visitQuote:function(ast){},visitSafeMethodCall:function(ast){visit(ast.receiver),visitAll(ast.args)},visitSafePropertyRead:function(ast){visit(ast.receiver)}})},exports.isIdentifier=isIdentifier,exports.isQuote=isQuote,exports.visitAll=visitAll$1,exports.findNode=function(nodes,position){var path=[];return visitAll$1(new(function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(class_1,_super),class_1.prototype.visit=function(ast,context){var span=function spanOf(ast){var start=ast.sourceSpan.start.offset;var end=ast.sourceSpan.end.offset;ast instanceof Element$1&&(ast.endSourceSpan?end=ast.endSourceSpan.end.offset:ast.children&&ast.children.length&&(end=spanOf(ast.children[ast.children.length-1]).end));return{start:start,end:end}}(ast);if(!(span.start<=position&&position<span.end))return!0;path.push(ast)},class_1}(RecursiveVisitor$1)),nodes),new AstPath(path,position)},exports.getHtmlTagDefinition=getHtmlTagDefinition,exports.splitNsName=splitNsName,exports.isNgContainer=isNgContainer,exports.isNgContent=isNgContent,exports.isNgTemplate=isNgTemplate,exports.getNsPrefix=getNsPrefix,exports.mergeNsAndName=mergeNsAndName,exports.debugOutputAstAsTypeScript=debugOutputAstAsTypeScript,exports.typeSourceSpan=typeSourceSpan,exports.r3JitTypeSourceSpan=r3JitTypeSourceSpan,exports.splitClasses=splitClasses,exports.createElementCssSelector=createElementCssSelector,exports.removeSummaryDuplicates=removeSummaryDuplicates,exports.isEmptyExpression=isEmptyExpression,exports.compileInjectable=compileInjectable,exports.CompileShallowModuleMetadata=exports.CompilePipeMetadata=exports.CompileDirectiveMetadata=exports.CompileTemplateMetadata=exports.CompileStylesheetMetadata=exports.CompileSummaryKind=exports.RecursiveTemplateAstVisitor=exports.NullTemplateVisitor=exports.NgContentAst=exports.ProviderAstType=exports.ProviderAst=exports.DirectiveAst=exports.BoundDirectivePropertyAst=exports.EmbeddedTemplateAst=exports.ElementAst=exports.VariableAst=exports.ReferenceAst=exports.BoundEventAst=exports.BoundElementPropertyAst=exports.AttrAst=exports.BoundTextAst=exports.TextAst=exports.VERSION=exports.R3ResolvedDependencyType=exports.R3Identifiers=exports.TmplAstVariable=exports.TmplAstTextAttribute=exports.TmplAstText=exports.TmplAstTemplate=exports.TmplAstReference=exports.TmplAstRecursiveVisitor=exports.TmplAstElement=exports.TmplAstContent=exports.TmplAstBoundText=exports.TmplAstBoundEvent=exports.TmplAstBoundAttribute=exports.Version=exports.ViewCompiler=exports.JitEvaluator=exports.EmitterVisitorContext=exports.TypeofExpr=exports.STRING_TYPE=exports.Statement=exports.StmtModifier=exports.WriteVarExpr=exports.WritePropExpr=exports.WriteKeyExpr=exports.WrappedNodeExpr=exports.Type=exports.TryCatchStmt=exports.ThrowStmt=exports.ReturnStatement=exports.ReadVarExpr=exports.ReadPropExpr=exports.ReadKeyExpr=exports.NotExpr=exports.MapType=exports.LiteralMapExpr=exports.LiteralExpr=exports.LiteralArrayExpr=exports.JSDocCommentStmt=exports.InvokeMethodExpr=exports.InvokeFunctionExpr=exports.InstantiateExpr=exports.IfStmt=exports.FunctionExpr=exports.ExternalReference=exports.ExternalExpr=exports.ExpressionType=exports.ExpressionStatement=exports.Expression=exports.DeclareVarStmt=exports.DeclareFunctionStmt=exports.ConditionalExpr=exports.CommentStmt=exports.CommaExpr=exports.ClassStmt=exports.ClassMethod=exports.ClassField=exports.CastExpr=exports.BuiltinVar=exports.BuiltinTypeName=exports.BuiltinType=exports.BuiltinMethod=exports.BinaryOperatorExpr=exports.BinaryOperator=exports.DYNAMIC_TYPE=exports.AssertNotNull=exports.ArrayType=exports.NgModuleCompiler=exports.InterpolationConfig=exports.DEFAULT_INTERPOLATION_CONFIG=exports.NgModuleResolver=exports.PipeResolver=exports.DirectiveResolver=exports.ConstantPool=exports.JitCompiler=exports.Identifiers=exports.CompilerConfig=exports.core=void 0,exports.SelectorContext=exports.SelectorListContext=exports.SelectorMatcher=exports.CssSelector=exports.DomElementSchemaRegistry=exports.ParseError=exports.ParseErrorLevel=exports.EMPTY_SOURCE_SPAN=exports.EMPTY_PARSE_LOCATION=exports.ParseSourceSpan=exports.ParseSourceFile=exports.ParseLocation=exports.TypeScriptEmitter=exports.NGSP_UNICODE=exports.NAMED_ENTITIES=exports.TagContentType=exports.HtmlTagDefinition=exports.TreeError=exports.ParseTreeResult=exports.HtmlParser=exports.RecursiveVisitor=exports.Comment=exports.Element=exports.Attribute=exports.ExpansionCase=exports.Expansion=exports.Text=exports.CompileMetadataResolver=exports.ERROR_COMPONENT_TYPE=exports._ParseAST=exports.Parser=exports.TemplateBindingParseResult=exports.SplitInterpolation=exports.EOF=exports.Token=exports.Lexer=exports.TokenType=exports.BoundElementProperty=exports.ParsedVariable=exports.ParsedEvent=exports.ParsedPropertyType=exports.ParsedProperty=exports.AstMemoryEfficientTransformer=exports.AstTransformer=exports.RecursiveAstVisitor=exports.NullAstVisitor=exports.TemplateBinding=exports.ASTWithSource=exports.AbsoluteSourceSpan=exports.FunctionCall=exports.SafeMethodCall=exports.MethodCall=exports.NonNullAssert=exports.PrefixNot=exports.Binary=exports.Interpolation=exports.LiteralMap=exports.LiteralArray=exports.LiteralPrimitive=exports.BindingPipe=exports.KeyedWrite=exports.KeyedRead=exports.SafePropertyRead=exports.PropertyWrite=exports.PropertyRead=exports.Conditional=exports.Chain=exports.ImplicitReceiver=exports.EmptyExpr=exports.Quote=exports.AST=exports.ParseSpan=exports.ParserError=exports.DirectiveNormalizer=exports.Xtb=exports.Xmb=exports.Xliff2=exports.Xliff=exports.Serializer=exports.MessageBundle=exports.I18NHtmlParser=exports.Extractor=exports.ElementSchemaRegistry=exports.ResourceLoader=exports.UrlResolver=exports.CompileReflector=exports.JitSummaryResolver=exports.SummaryResolver=exports.AstPath=exports.AotSummaryResolver=exports.StaticSymbolResolver=exports.ResolvedStaticSymbol=exports.StaticSymbolCache=exports.StaticSymbol=exports.StaticReflector=exports.GeneratedFile=exports.AotCompiler=exports.ProviderMeta=exports.TransitiveCompileNgModuleMetadata=exports.CompileNgModuleMetadata=void 0,exports.R3BoundTarget=exports.R3TargetBinder=exports.TemplateParser=exports.TemplateParseResult=exports.TemplateParseError=exports.StyleCompiler=exports.CompiledStylesheet=exports.StylesCompileDependency=exports.CONTENT_ATTR=exports.HOST_ATTR=void 0;var TagContentType,_tslib=require("tslib");function splitNsName(elementName){if(":"!=elementName[0])return[null,elementName];var colonIndex=elementName.indexOf(":",1);if(-1==colonIndex)throw new Error('Unsupported format "'+elementName+'" expecting ":namespace:name"');return[elementName.slice(1,colonIndex),elementName.slice(colonIndex+1)]}function isNgContainer(tagName){return"ng-container"===splitNsName(tagName)[1]}function isNgContent(tagName){return"ng-content"===splitNsName(tagName)[1]}function isNgTemplate(tagName){return"ng-template"===splitNsName(tagName)[1]}function getNsPrefix(fullName){return null===fullName?null:splitNsName(fullName)[0]}function mergeNsAndName(prefix,localName){return prefix?":"+prefix+":"+localName:localName}exports.TagContentType=TagContentType,function(TagContentType){TagContentType[TagContentType.RAW_TEXT=0]="RAW_TEXT",TagContentType[TagContentType.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",TagContentType[TagContentType.PARSABLE_DATA=2]="PARSABLE_DATA"}(TagContentType||(exports.TagContentType=TagContentType={}));var NAMED_ENTITIES={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",alefsym:"",Alpha:"",alpha:"",amp:"&",and:"",ang:"",apos:"'",Aring:"",aring:"",asymp:"",Atilde:"",atilde:"",Auml:"",auml:"",bdquo:"",Beta:"",beta:"",brvbar:"",bull:"",cap:"",Ccedil:"",ccedil:"",cedil:"",cent:"",Chi:"",chi:"",circ:"",clubs:"",cong:"",copy:"",crarr:"",cup:"",curren:"",dagger:"",Dagger:"",darr:"",dArr:"",deg:"",Delta:"",delta:"",diams:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",empty:"",emsp:"",ensp:"",Epsilon:"",epsilon:"",equiv:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",exist:"",fnof:"",forall:"",frac12:"",frac14:"",frac34:"",frasl:"",Gamma:"",gamma:"",ge:"",gt:">",harr:"",hArr:"",hearts:"",hellip:"",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",image:"",infin:"",int:"",Iota:"",iota:"",iquest:"",isin:"",Iuml:"",iuml:"",Kappa:"",kappa:"",Lambda:"",lambda:"",lang:"",laquo:"",larr:"",lArr:"",lceil:"",ldquo:"",le:"",lfloor:"",lowast:"",loz:"",lrm:"",lsaquo:"",lsquo:"",lt:"<",macr:"",mdash:"",micro:"",middot:"",minus:"",Mu:"",mu:"",nabla:"",nbsp:"",ndash:"",ne:"",ni:"",not:"",notin:"",nsub:"",Ntilde:"",ntilde:"",Nu:"",nu:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",OElig:"",oelig:"",Ograve:"",ograve:"",oline:"",Omega:"",omega:"",Omicron:"",omicron:"",oplus:"",or:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",otimes:"",Ouml:"",ouml:"",para:"",permil:"",perp:"",Phi:"",phi:"",Pi:"",pi:"",piv:"",plusmn:"",pound:"",prime:"",Prime:"",prod:"",prop:"",Psi:"",psi:"",quot:'"',radic:"",rang:"",raquo:"",rarr:"",rArr:"",rceil:"",rdquo:"",real:"",reg:"",rfloor:"",Rho:"",rho:"",rlm:"",rsaquo:"",rsquo:"",sbquo:"",Scaron:"",scaron:"",sdot:"",sect:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sim:"",spades:"",sub:"",sube:"",sum:"",sup:"",sup1:"",sup2:"",sup3:"",supe:"",szlig:"",Tau:"",tau:"",there4:"",Theta:"",theta:"",thetasym:"",thinsp:"",THORN:"",thorn:"",tilde:"",times:"",trade:"",Uacute:"",uacute:"",uarr:"",uArr:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",upsih:"",Upsilon:"",upsilon:"",Uuml:"",uuml:"",weierp:"",Xi:"",xi:"",Yacute:"",yacute:"",yen:"",yuml:"",Yuml:"",Zeta:"",zeta:"",zwj:"",zwnj:""};exports.NAMED_ENTITIES=NAMED_ENTITIES;var NGSP_UNICODE="";exports.NGSP_UNICODE=NGSP_UNICODE,NAMED_ENTITIES.ngsp=NGSP_UNICODE;var _DEFAULT_TAG_DEFINITION,TAG_DEFINITIONS,HtmlTagDefinition=function(){function HtmlTagDefinition(_a){var _this=this,_b=void 0===_a?{}:_a,closedByChildren=_b.closedByChildren,implicitNamespacePrefix=_b.implicitNamespacePrefix,_c=_b.contentType,contentType=void 0===_c?TagContentType.PARSABLE_DATA:_c,_d=_b.closedByParent,closedByParent=void 0!==_d&&_d,_e=_b.isVoid,isVoid=void 0!==_e&&_e,_f=_b.ignoreFirstLf,ignoreFirstLf=void 0!==_f&&_f;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,closedByChildren&&closedByChildren.length>0&&closedByChildren.forEach(function(tagName){return _this.closedByChildren[tagName]=!0}),this.isVoid=isVoid,this.closedByParent=closedByParent||isVoid,this.implicitNamespacePrefix=implicitNamespacePrefix||null,this.contentType=contentType,this.ignoreFirstLf=ignoreFirstLf}return HtmlTagDefinition.prototype.isClosedByChild=function(name){return this.isVoid||name.toLowerCase()in this.closedByChildren},HtmlTagDefinition}();function getHtmlTagDefinition(tagName){return TAG_DEFINITIONS||(_DEFAULT_TAG_DEFINITION=new HtmlTagDefinition,TAG_DEFINITIONS={base:new HtmlTagDefinition({isVoid:!0}),meta:new HtmlTagDefinition({isVoid:!0}),area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),TAG_DEFINITIONS[tagName.toLowerCase()]||_DEFAULT_TAG_DEFINITION}exports.HtmlTagDefinition=HtmlTagDefinition;var _SELECTOR_REGEXP=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),CssSelector=function(){function CssSelector(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return CssSelector.parse=function(selector){var match,results=[],_addResult=function(res,cssSel){cssSel.notSelectors.length>0&&!cssSel.element&&0==cssSel.classNames.length&&0==cssSel.attrs.length&&(cssSel.element="*"),res.push(cssSel)},cssSelector=new CssSelector,current=cssSelector,inNot=!1;for(_SELECTOR_REGEXP.lastIndex=0;match=_SELECTOR_REGEXP.exec(selector);){if(match[1]){if(inNot)throw new Error("Nesting :not is not allowed in a selector");inNot=!0,current=new CssSelector,cssSelector.notSelectors.push(current)}if(match[2]&&current.setElement(match[2]),match[3]&&current.addClassName(match[3]),match[4]&&current.addAttribute(match[4],match[6]),match[7]&&(inNot=!1,current=cssSelector),match[8]){if(inNot)throw new Error("Multiple selectors in :not are not supported");_addResult(results,cssSelector),cssSelector=current=new CssSelector}}return _addResult(results,cssSelector),results},CssSelector.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},CssSelector.prototype.hasElementSelector=function(){return!!this.element},CssSelector.prototype.setElement=function(element){void 0===element&&(element=null),this.element=element},CssSelector.prototype.getMatchingElementTemplate=function(){for(var tagName=this.element||"div",classAttr=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",attrs="",i=0;i<this.attrs.length;i+=2){attrs+=" "+this.attrs[i]+(""!==this.attrs[i+1]?'="'+this.attrs[i+1]+'"':"")}return getHtmlTagDefinition(tagName).isVoid?"<"+tagName+classAttr+attrs+"/>":"<"+tagName+classAttr+attrs+"></"+tagName+">"},CssSelector.prototype.getAttrs=function(){var result=[];return this.classNames.length>0&&result.push("class",this.classNames.join(" ")),result.concat(this.attrs)},CssSelector.prototype.addAttribute=function(name,value){void 0===value&&(value=""),this.attrs.push(name,value&&value.toLowerCase()||"")},CssSelector.prototype.addClassName=function(name){this.classNames.push(name.toLowerCase())},CssSelector.prototype.toString=function(){var res=this.element||"";if(this.classNames&&this.classNames.forEach(function(klass){return res+="."+klass}),this.attrs)for(var i=0;i<this.attrs.length;i+=2){var name_1=this.attrs[i],value=this.attrs[i+1];res+="["+name_1+(value?"="+value:"")+"]"}return this.notSelectors.forEach(function(notSelector){return res+=":not("+notSelector+")"}),res},CssSelector}();exports.CssSelector=CssSelector;var SelectorMatcher=function(){function SelectorMatcher(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return SelectorMatcher.createNotMatcher=function(notSelectors){var notMatcher=new SelectorMatcher;return notMatcher.addSelectables(notSelectors,null),notMatcher},SelectorMatcher.prototype.addSelectables=function(cssSelectors,callbackCtxt){var listContext=null;cssSelectors.length>1&&(listContext=new SelectorListContext(cssSelectors),this._listContexts.push(listContext));for(var i=0;i<cssSelectors.length;i++)this._addSelectable(cssSelectors[i],callbackCtxt,listContext)},SelectorMatcher.prototype._addSelectable=function(cssSelector,callbackCtxt,listContext){var matcher=this,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);element&&((isTerminal=0===attrs.length&&0===classNames.length)?this._addTerminal(matcher._elementMap,element,selectable):matcher=this._addPartial(matcher._elementPartialMap,element));if(classNames)for(var i=0;i<classNames.length;i++){var isTerminal=0===attrs.length&&i===classNames.length-1,className=classNames[i];isTerminal?this._addTerminal(matcher._classMap,className,selectable):matcher=this._addPartial(matcher._classPartialMap,className)}if(attrs)for(i=0;i<attrs.length;i+=2){isTerminal=i===attrs.length-2;var name_2=attrs[i],value=attrs[i+1];if(isTerminal){var terminalMap=matcher._attrValueMap,terminalValuesMap=terminalMap.get(name_2);terminalValuesMap||(terminalValuesMap=new Map,terminalMap.set(name_2,terminalValuesMap)),this._addTerminal(terminalValuesMap,value,selectable)}else{var partialMap=matcher._attrValuePartialMap,partialValuesMap=partialMap.get(name_2);partialValuesMap||(partialValuesMap=new Map,partialMap.set(name_2,partialValuesMap)),matcher=this._addPartial(partialValuesMap,value)}}},SelectorMatcher.prototype._addTerminal=function(map,name,selectable){var terminalList=map.get(name);terminalList||(terminalList=[],map.set(name,terminalList)),terminalList.push(selectable)},SelectorMatcher.prototype._addPartial=function(map,name){var matcher=map.get(name);return matcher||(matcher=new SelectorMatcher,map.set(name,matcher)),matcher},SelectorMatcher.prototype.match=function(cssSelector,matchedCallback){for(var result=!1,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,i=0;i<this._listContexts.length;i++)this._listContexts[i].alreadyMatched=!1;if(result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result,result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result,classNames)for(i=0;i<classNames.length;i++){var className=classNames[i];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result,result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result}if(attrs)for(i=0;i<attrs.length;i+=2){var name_3=attrs[i],value=attrs[i+1],terminalValuesMap=this._attrValueMap.get(name_3);value&&(result=this._matchTerminal(terminalValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchTerminal(terminalValuesMap,value,cssSelector,matchedCallback)||result;var partialValuesMap=this._attrValuePartialMap.get(name_3);value&&(result=this._matchPartial(partialValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchPartial(partialValuesMap,value,cssSelector,matchedCallback)||result}return result},SelectorMatcher.prototype._matchTerminal=function(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;var selectables=map.get(name)||[],starSelectables=map.get("*");if(starSelectables&&(selectables=selectables.concat(starSelectables)),0===selectables.length)return!1;for(var result=!1,i=0;i<selectables.length;i++)result=selectables[i].finalize(cssSelector,matchedCallback)||result;return result},SelectorMatcher.prototype._matchPartial=function(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;var nestedSelector=map.get(name);return!!nestedSelector&&nestedSelector.match(cssSelector,matchedCallback)},SelectorMatcher}();exports.SelectorMatcher=SelectorMatcher;var SelectorListContext=function(){return function(selectors){this.selectors=selectors,this.alreadyMatched=!1}}();exports.SelectorListContext=SelectorListContext;var SelectorContext=function(){function SelectorContext(selector,cbContext,listContext){this.selector=selector,this.cbContext=cbContext,this.listContext=listContext,this.notSelectors=selector.notSelectors}return SelectorContext.prototype.finalize=function(cssSelector,callback){var result=!0;!(this.notSelectors.length>0)||this.listContext&&this.listContext.alreadyMatched||(result=!SelectorMatcher.createNotMatcher(this.notSelectors).match(cssSelector,null));return!result||!callback||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),callback(this.selector,this.cbContext)),result},SelectorContext}();exports.SelectorContext=SelectorContext;var ViewEncapsulation,ChangeDetectionStrategy,createInject=makeMetadataFactory("Inject",function(token){return{token:token}}),createInjectionToken=makeMetadataFactory("InjectionToken",function(desc){return{_desc:desc,ngInjectableDef:void 0}}),createAttribute=makeMetadataFactory("Attribute",function(attributeName){return{attributeName:attributeName}}),createContentChildren=makeMetadataFactory("ContentChildren",function(selector,data){return void 0===data&&(data={}),(0,_tslib.__assign)({selector:selector,first:!1,isViewQuery:!1,descendants:!1},data)}),createContentChild=makeMetadataFactory("ContentChild",function(selector,data){return void 0===data&&(data={}),(0,_tslib.__assign)({selector:selector,first:!0,isViewQuery:!1,descendants:!0},data)}),createViewChildren=makeMetadataFactory("ViewChildren",function(selector,data){return void 0===data&&(data={}),(0,_tslib.__assign)({selector:selector,first:!1,isViewQuery:!0,descendants:!0},data)}),createViewChild=makeMetadataFactory("ViewChild",function(selector,data){return(0,_tslib.__assign)({selector:selector,first:!0,isViewQuery:!0,descendants:!0},data)}),createDirective=makeMetadataFactory("Directive",function(dir){return void 0===dir&&(dir={}),dir});!function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(ViewEncapsulation||(ViewEncapsulation={})),function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=0]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=1]="Default"}(ChangeDetectionStrategy||(ChangeDetectionStrategy={}));var SecurityContext,MissingTranslationStrategy,createComponent=makeMetadataFactory("Component",function(c){return void 0===c&&(c={}),(0,_tslib.__assign)({changeDetection:ChangeDetectionStrategy.Default},c)}),createPipe=makeMetadataFactory("Pipe",function(p){return(0,_tslib.__assign)({pure:!0},p)}),createInput=makeMetadataFactory("Input",function(bindingPropertyName){return{bindingPropertyName:bindingPropertyName}}),createOutput=makeMetadataFactory("Output",function(bindingPropertyName){return{bindingPropertyName:bindingPropertyName}}),createHostBinding=makeMetadataFactory("HostBinding",function(hostPropertyName){return{hostPropertyName:hostPropertyName}}),createHostListener=makeMetadataFactory("HostListener",function(eventName,args){return{eventName:eventName,args:args}}),createNgModule=makeMetadataFactory("NgModule",function(ngModule){return ngModule}),createInjectable=makeMetadataFactory("Injectable",function(injectable){return void 0===injectable&&(injectable={}),injectable}),CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"},NO_ERRORS_SCHEMA={name:"no-errors-schema"},createOptional=makeMetadataFactory("Optional"),createSelf=makeMetadataFactory("Self"),createSkipSelf=makeMetadataFactory("SkipSelf"),createHost=makeMetadataFactory("Host"),Type=Function;function makeMetadataFactory(name,props){function factory(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var values=props?props.apply(void 0,(0,_tslib.__spread)(args)):{};return(0,_tslib.__assign)({ngMetadataName:name},values)}return factory.isTypeOf=function(obj){return obj&&obj.ngMetadataName===name},factory.ngMetadataName=name,factory}function parserSelectorToR3Selector(selector){var positive=function(selector){var classes=selector.classNames&&selector.classNames.length?(0,_tslib.__spread)([8],selector.classNames):[],elementName=selector.element&&"*"!==selector.element?selector.element:"";return(0,_tslib.__spread)([elementName],selector.attrs,classes)}(selector),negative=selector.notSelectors&&selector.notSelectors.length?selector.notSelectors.map(function(notSelector){return classes=(selector=notSelector).classNames&&selector.classNames.length?(0,_tslib.__spread)([8],selector.classNames):[],selector.element?(0,_tslib.__spread)([5,selector.element],selector.attrs,classes):selector.attrs.length?(0,_tslib.__spread)([3],selector.attrs,classes):selector.classNames&&selector.classNames.length?(0,_tslib.__spread)([9],selector.classNames):[];var selector,classes}):[];return positive.concat.apply(positive,(0,_tslib.__spread)(negative))}function parseSelectorToR3Selector(selector){return selector?CssSelector.parse(selector).map(parserSelectorToR3Selector):[]}!function(SecurityContext){SecurityContext[SecurityContext.NONE=0]="NONE",SecurityContext[SecurityContext.HTML=1]="HTML",SecurityContext[SecurityContext.STYLE=2]="STYLE",SecurityContext[SecurityContext.SCRIPT=3]="SCRIPT",SecurityContext[SecurityContext.URL=4]="URL",SecurityContext[SecurityContext.RESOURCE_URL=5]="RESOURCE_URL"}(SecurityContext||(SecurityContext={})),function(MissingTranslationStrategy){MissingTranslationStrategy[MissingTranslationStrategy.Error=0]="Error",MissingTranslationStrategy[MissingTranslationStrategy.Warning=1]="Warning",MissingTranslationStrategy[MissingTranslationStrategy.Ignore=2]="Ignore"}(MissingTranslationStrategy||(MissingTranslationStrategy={}));var TypeModifier,core=Object.freeze({createInject:createInject,createInjectionToken:createInjectionToken,createAttribute:createAttribute,createContentChildren:createContentChildren,createContentChild:createContentChild,createViewChildren:createViewChildren,createViewChild:createViewChild,createDirective:createDirective,get ViewEncapsulation(){return ViewEncapsulation},get ChangeDetectionStrategy(){return ChangeDetectionStrategy},createComponent:createComponent,createPipe:createPipe,createInput:createInput,createOutput:createOutput,createHostBinding:createHostBinding,createHostListener:createHostListener,createNgModule:createNgModule,createInjectable:createInjectable,CUSTOM_ELEMENTS_SCHEMA:CUSTOM_ELEMENTS_SCHEMA,NO_ERRORS_SCHEMA:NO_ERRORS_SCHEMA,createOptional:createOptional,createSelf:createSelf,createSkipSelf:createSkipSelf,createHost:createHost,Type:Type,get SecurityContext(){return SecurityContext},get MissingTranslationStrategy(){return MissingTranslationStrategy},parseSelectorToR3Selector:parseSelectorToR3Selector});exports.core=core,function(TypeModifier){TypeModifier[TypeModifier.Const=0]="Const"}(TypeModifier||(TypeModifier={}));var BuiltinTypeName,Type$1=function(){function Type(modifiers){void 0===modifiers&&(modifiers=null),this.modifiers=modifiers,modifiers||(this.modifiers=[])}return Type.prototype.hasModifier=function(modifier){return-1!==this.modifiers.indexOf(modifier)},Type}();exports.Type=Type$1,exports.BuiltinTypeName=BuiltinTypeName,function(BuiltinTypeName){BuiltinTypeName[BuiltinTypeName.Dynamic=0]="Dynamic",BuiltinTypeName[BuiltinTypeName.Bool=1]="Bool",BuiltinTypeName[BuiltinTypeName.String=2]="String",BuiltinTypeName[BuiltinTypeName.Int=3]="Int",BuiltinTypeName[BuiltinTypeName.Number=4]="Number",BuiltinTypeName[BuiltinTypeName.Function=5]="Function",BuiltinTypeName[BuiltinTypeName.Inferred=6]="Inferred",BuiltinTypeName[BuiltinTypeName.None=7]="None"}(BuiltinTypeName||(exports.BuiltinTypeName=BuiltinTypeName={}));var BuiltinType=function(_super){function BuiltinType(name,modifiers){void 0===modifiers&&(modifiers=null);var _this=_super.call(this,modifiers)||this;return _this.name=name,_this}return(0,_tslib.__extends)(BuiltinType,_super),BuiltinType.prototype.visitType=function(visitor,context){return visitor.visitBuiltinType(this,context)},BuiltinType}(Type$1);exports.BuiltinType=BuiltinType;var ExpressionType=function(_super){function ExpressionType(value,modifiers,typeParams){void 0===modifiers&&(modifiers=null),void 0===typeParams&&(typeParams=null);var _this=_super.call(this,modifiers)||this;return _this.value=value,_this.typeParams=typeParams,_this}return(0,_tslib.__extends)(ExpressionType,_super),ExpressionType.prototype.visitType=function(visitor,context){return visitor.visitExpressionType(this,context)},ExpressionType}(Type$1);exports.ExpressionType=ExpressionType;var ArrayType=function(_super){function ArrayType(of,modifiers){void 0===modifiers&&(modifiers=null);var _this=_super.call(this,modifiers)||this;return _this.of=of,_this}return(0,_tslib.__extends)(ArrayType,_super),ArrayType.prototype.visitType=function(visitor,context){return visitor.visitArrayType(this,context)},ArrayType}(Type$1);exports.ArrayType=ArrayType;var MapType=function(_super){function MapType(valueType,modifiers){void 0===modifiers&&(modifiers=null);var _this=_super.call(this,modifiers)||this;return _this.valueType=valueType||null,_this}return(0,_tslib.__extends)(MapType,_super),MapType.prototype.visitType=function(visitor,context){return visitor.visitMapType(this,context)},MapType}(Type$1);exports.MapType=MapType;var DYNAMIC_TYPE=new BuiltinType(BuiltinTypeName.Dynamic);exports.DYNAMIC_TYPE=DYNAMIC_TYPE;var INFERRED_TYPE=new BuiltinType(BuiltinTypeName.Inferred),BOOL_TYPE=new BuiltinType(BuiltinTypeName.Bool),NUMBER_TYPE=(new BuiltinType(BuiltinTypeName.Int),new BuiltinType(BuiltinTypeName.Number)),STRING_TYPE=new BuiltinType(BuiltinTypeName.String);exports.STRING_TYPE=STRING_TYPE;new BuiltinType(BuiltinTypeName.Function);var BinaryOperator,NONE_TYPE=new BuiltinType(BuiltinTypeName.None);function nullSafeIsEquivalent(base,other){return null==base||null==other?base==other:base.isEquivalent(other)}function areAllEquivalent(base,other){var len=base.length;if(len!==other.length)return!1;for(var i=0;i<len;i++)if(!base[i].isEquivalent(other[i]))return!1;return!0}exports.BinaryOperator=BinaryOperator,function(BinaryOperator){BinaryOperator[BinaryOperator.Equals=0]="Equals",BinaryOperator[BinaryOperator.NotEquals=1]="NotEquals",BinaryOperator[BinaryOperator.Identical=2]="Identical",BinaryOperator[BinaryOperator.NotIdentical=3]="NotIdentical",BinaryOperator[BinaryOperator.Minus=4]="Minus",BinaryOperator[BinaryOperator.Plus=5]="Plus",BinaryOperator[BinaryOperator.Divide=6]="Divide",BinaryOperator[BinaryOperator.Multiply=7]="Multiply",BinaryOperator[BinaryOperator.Modulo=8]="Modulo",BinaryOperator[BinaryOperator.And=9]="And",BinaryOperator[BinaryOperator.Or=10]="Or",BinaryOperator[BinaryOperator.BitwiseAnd=11]="BitwiseAnd",BinaryOperator[BinaryOperator.Lower=12]="Lower",BinaryOperator[BinaryOperator.LowerEquals=13]="LowerEquals",BinaryOperator[BinaryOperator.Bigger=14]="Bigger",BinaryOperator[BinaryOperator.BiggerEquals=15]="BiggerEquals"}(BinaryOperator||(exports.BinaryOperator=BinaryOperator={}));var BuiltinVar,Expression=function(){function Expression(type,sourceSpan){this.type=type||null,this.sourceSpan=sourceSpan||null}return Expression.prototype.prop=function(name,sourceSpan){return new ReadPropExpr(this,name,null,sourceSpan)},Expression.prototype.key=function(index,type,sourceSpan){return new ReadKeyExpr(this,index,type,sourceSpan)},Expression.prototype.callMethod=function(name,params,sourceSpan){return new InvokeMethodExpr(this,name,params,null,sourceSpan)},Expression.prototype.callFn=function(params,sourceSpan){return new InvokeFunctionExpr(this,params,null,sourceSpan)},Expression.prototype.instantiate=function(params,type,sourceSpan){return new InstantiateExpr(this,params,type,sourceSpan)},Expression.prototype.conditional=function(trueCase,falseCase,sourceSpan){return void 0===falseCase&&(falseCase=null),new ConditionalExpr(this,trueCase,falseCase,null,sourceSpan)},Expression.prototype.equals=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Equals,this,rhs,null,sourceSpan)},Expression.prototype.notEquals=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.NotEquals,this,rhs,null,sourceSpan)},Expression.prototype.identical=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Identical,this,rhs,null,sourceSpan)},Expression.prototype.notIdentical=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.NotIdentical,this,rhs,null,sourceSpan)},Expression.prototype.minus=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Minus,this,rhs,null,sourceSpan)},Expression.prototype.plus=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Plus,this,rhs,null,sourceSpan)},Expression.prototype.divide=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Divide,this,rhs,null,sourceSpan)},Expression.prototype.multiply=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Multiply,this,rhs,null,sourceSpan)},Expression.prototype.modulo=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Modulo,this,rhs,null,sourceSpan)},Expression.prototype.and=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.And,this,rhs,null,sourceSpan)},Expression.prototype.bitwiseAnd=function(rhs,sourceSpan,parens){return void 0===parens&&(parens=!0),new BinaryOperatorExpr(BinaryOperator.BitwiseAnd,this,rhs,null,sourceSpan,parens)},Expression.prototype.or=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Or,this,rhs,null,sourceSpan)},Expression.prototype.lower=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Lower,this,rhs,null,sourceSpan)},Expression.prototype.lowerEquals=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.LowerEquals,this,rhs,null,sourceSpan)},Expression.prototype.bigger=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Bigger,this,rhs,null,sourceSpan)},Expression.prototype.biggerEquals=function(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.BiggerEquals,this,rhs,null,sourceSpan)},Expression.prototype.isBlank=function(sourceSpan){return this.equals(TYPED_NULL_EXPR,sourceSpan)},Expression.prototype.cast=function(type,sourceSpan){return new CastExpr(this,type,sourceSpan)},Expression.prototype.toStmt=function(){return new ExpressionStatement(this,null)},Expression}();exports.Expression=Expression,exports.BuiltinVar=BuiltinVar,function(BuiltinVar){BuiltinVar[BuiltinVar.This=0]="This",BuiltinVar[BuiltinVar.Super=1]="Super",BuiltinVar[BuiltinVar.CatchError=2]="CatchError",BuiltinVar[BuiltinVar.CatchStack=3]="CatchStack"}(BuiltinVar||(exports.BuiltinVar=BuiltinVar={}));var ReadVarExpr=function(_super){function ReadVarExpr(name,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return"string"==typeof name?(_this.name=name,_this.builtin=null):(_this.name=null,_this.builtin=name),_this}return(0,_tslib.__extends)(ReadVarExpr,_super),ReadVarExpr.prototype.isEquivalent=function(e){return e instanceof ReadVarExpr&&this.name===e.name&&this.builtin===e.builtin},ReadVarExpr.prototype.isConstant=function(){return!1},ReadVarExpr.prototype.visitExpression=function(visitor,context){return visitor.visitReadVarExpr(this,context)},ReadVarExpr.prototype.set=function(value){if(!this.name)throw new Error("Built in variable "+this.builtin+" can not be assigned to.");return new WriteVarExpr(this.name,value,null,this.sourceSpan)},ReadVarExpr}(Expression);exports.ReadVarExpr=ReadVarExpr;var TypeofExpr=function(_super){function TypeofExpr(expr,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.expr=expr,_this}return(0,_tslib.__extends)(TypeofExpr,_super),TypeofExpr.prototype.visitExpression=function(visitor,context){return visitor.visitTypeofExpr(this,context)},TypeofExpr.prototype.isEquivalent=function(e){return e instanceof TypeofExpr&&e.expr.isEquivalent(this.expr)},TypeofExpr.prototype.isConstant=function(){return this.expr.isConstant()},TypeofExpr}(Expression);exports.TypeofExpr=TypeofExpr;var WrappedNodeExpr=function(_super){function WrappedNodeExpr(node,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.node=node,_this}return(0,_tslib.__extends)(WrappedNodeExpr,_super),WrappedNodeExpr.prototype.isEquivalent=function(e){return e instanceof WrappedNodeExpr&&this.node===e.node},WrappedNodeExpr.prototype.isConstant=function(){return!1},WrappedNodeExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWrappedNodeExpr(this,context)},WrappedNodeExpr}(Expression);exports.WrappedNodeExpr=WrappedNodeExpr;var WriteVarExpr=function(_super){function WriteVarExpr(name,value,type,sourceSpan){var _this=_super.call(this,type||value.type,sourceSpan)||this;return _this.name=name,_this.value=value,_this}return(0,_tslib.__extends)(WriteVarExpr,_super),WriteVarExpr.prototype.isEquivalent=function(e){return e instanceof WriteVarExpr&&this.name===e.name&&this.value.isEquivalent(e.value)},WriteVarExpr.prototype.isConstant=function(){return!1},WriteVarExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWriteVarExpr(this,context)},WriteVarExpr.prototype.toDeclStmt=function(type,modifiers){return new DeclareVarStmt(this.name,this.value,type,modifiers,this.sourceSpan)},WriteVarExpr.prototype.toConstDecl=function(){return this.toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])},WriteVarExpr}(Expression);exports.WriteVarExpr=WriteVarExpr;var WriteKeyExpr=function(_super){function WriteKeyExpr(receiver,index,value,type,sourceSpan){var _this=_super.call(this,type||value.type,sourceSpan)||this;return _this.receiver=receiver,_this.index=index,_this.value=value,_this}return(0,_tslib.__extends)(WriteKeyExpr,_super),WriteKeyExpr.prototype.isEquivalent=function(e){return e instanceof WriteKeyExpr&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)},WriteKeyExpr.prototype.isConstant=function(){return!1},WriteKeyExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWriteKeyExpr(this,context)},WriteKeyExpr}(Expression);exports.WriteKeyExpr=WriteKeyExpr;var BuiltinMethod,WritePropExpr=function(_super){function WritePropExpr(receiver,name,value,type,sourceSpan){var _this=_super.call(this,type||value.type,sourceSpan)||this;return _this.receiver=receiver,_this.name=name,_this.value=value,_this}return(0,_tslib.__extends)(WritePropExpr,_super),WritePropExpr.prototype.isEquivalent=function(e){return e instanceof WritePropExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)},WritePropExpr.prototype.isConstant=function(){return!1},WritePropExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWritePropExpr(this,context)},WritePropExpr}(Expression);exports.WritePropExpr=WritePropExpr,exports.BuiltinMethod=BuiltinMethod,function(BuiltinMethod){BuiltinMethod[BuiltinMethod.ConcatArray=0]="ConcatArray",BuiltinMethod[BuiltinMethod.SubscribeObservable=1]="SubscribeObservable",BuiltinMethod[BuiltinMethod.Bind=2]="Bind"}(BuiltinMethod||(exports.BuiltinMethod=BuiltinMethod={}));var InvokeMethodExpr=function(_super){function InvokeMethodExpr(receiver,method,args,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.receiver=receiver,_this.args=args,"string"==typeof method?(_this.name=method,_this.builtin=null):(_this.name=null,_this.builtin=method),_this}return(0,_tslib.__extends)(InvokeMethodExpr,_super),InvokeMethodExpr.prototype.isEquivalent=function(e){return e instanceof InvokeMethodExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&areAllEquivalent(this.args,e.args)},InvokeMethodExpr.prototype.isConstant=function(){return!1},InvokeMethodExpr.prototype.visitExpression=function(visitor,context){return visitor.visitInvokeMethodExpr(this,context)},InvokeMethodExpr}(Expression);exports.InvokeMethodExpr=InvokeMethodExpr;var InvokeFunctionExpr=function(_super){function InvokeFunctionExpr(fn,args,type,sourceSpan,pure){void 0===pure&&(pure=!1);var _this=_super.call(this,type,sourceSpan)||this;return _this.fn=fn,_this.args=args,_this.pure=pure,_this}return(0,_tslib.__extends)(InvokeFunctionExpr,_super),InvokeFunctionExpr.prototype.isEquivalent=function(e){return e instanceof InvokeFunctionExpr&&this.fn.isEquivalent(e.fn)&&areAllEquivalent(this.args,e.args)&&this.pure===e.pure},InvokeFunctionExpr.prototype.isConstant=function(){return!1},InvokeFunctionExpr.prototype.visitExpression=function(visitor,context){return visitor.visitInvokeFunctionExpr(this,context)},InvokeFunctionExpr}(Expression);exports.InvokeFunctionExpr=InvokeFunctionExpr;var InstantiateExpr=function(_super){function InstantiateExpr(classExpr,args,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.classExpr=classExpr,_this.args=args,_this}return(0,_tslib.__extends)(InstantiateExpr,_super),InstantiateExpr.prototype.isEquivalent=function(e){return e instanceof InstantiateExpr&&this.classExpr.isEquivalent(e.classExpr)&&areAllEquivalent(this.args,e.args)},InstantiateExpr.prototype.isConstant=function(){return!1},InstantiateExpr.prototype.visitExpression=function(visitor,context){return visitor.visitInstantiateExpr(this,context)},InstantiateExpr}(Expression);exports.InstantiateExpr=InstantiateExpr;var LiteralExpr=function(_super){function LiteralExpr(value,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.value=value,_this}return(0,_tslib.__extends)(LiteralExpr,_super),LiteralExpr.prototype.isEquivalent=function(e){return e instanceof LiteralExpr&&this.value===e.value},LiteralExpr.prototype.isConstant=function(){return!0},LiteralExpr.prototype.visitExpression=function(visitor,context){return visitor.visitLiteralExpr(this,context)},LiteralExpr}(Expression);exports.LiteralExpr=LiteralExpr;var ExternalExpr=function(_super){function ExternalExpr(value,type,typeParams,sourceSpan){void 0===typeParams&&(typeParams=null);var _this=_super.call(this,type,sourceSpan)||this;return _this.value=value,_this.typeParams=typeParams,_this}return(0,_tslib.__extends)(ExternalExpr,_super),ExternalExpr.prototype.isEquivalent=function(e){return e instanceof ExternalExpr&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime},ExternalExpr.prototype.isConstant=function(){return!1},ExternalExpr.prototype.visitExpression=function(visitor,context){return visitor.visitExternalExpr(this,context)},ExternalExpr}(Expression);exports.ExternalExpr=ExternalExpr;var ExternalReference=function(){return function(moduleName,name,runtime){this.moduleName=moduleName,this.name=name,this.runtime=runtime}}();exports.ExternalReference=ExternalReference;var ConditionalExpr=function(_super){function ConditionalExpr(condition,trueCase,falseCase,type,sourceSpan){void 0===falseCase&&(falseCase=null);var _this=_super.call(this,type||trueCase.type,sourceSpan)||this;return _this.condition=condition,_this.falseCase=falseCase,_this.trueCase=trueCase,_this}return(0,_tslib.__extends)(ConditionalExpr,_super),ConditionalExpr.prototype.isEquivalent=function(e){return e instanceof ConditionalExpr&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&nullSafeIsEquivalent(this.falseCase,e.falseCase)},ConditionalExpr.prototype.isConstant=function(){return!1},ConditionalExpr.prototype.visitExpression=function(visitor,context){return visitor.visitConditionalExpr(this,context)},ConditionalExpr}(Expression);exports.ConditionalExpr=ConditionalExpr;var NotExpr=function(_super){function NotExpr(condition,sourceSpan){var _this=_super.call(this,BOOL_TYPE,sourceSpan)||this;return _this.condition=condition,_this}return(0,_tslib.__extends)(NotExpr,_super),NotExpr.prototype.isEquivalent=function(e){return e instanceof NotExpr&&this.condition.isEquivalent(e.condition)},NotExpr.prototype.isConstant=function(){return!1},NotExpr.prototype.visitExpression=function(visitor,context){return visitor.visitNotExpr(this,context)},NotExpr}(Expression);exports.NotExpr=NotExpr;var AssertNotNull=function(_super){function AssertNotNull(condition,sourceSpan){var _this=_super.call(this,condition.type,sourceSpan)||this;return _this.condition=condition,_this}return(0,_tslib.__extends)(AssertNotNull,_super),AssertNotNull.prototype.isEquivalent=function(e){return e instanceof AssertNotNull&&this.condition.isEquivalent(e.condition)},AssertNotNull.prototype.isConstant=function(){return!1},AssertNotNull.prototype.visitExpression=function(visitor,context){return visitor.visitAssertNotNullExpr(this,context)},AssertNotNull}(Expression);exports.AssertNotNull=AssertNotNull;var CastExpr=function(_super){function CastExpr(value,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.value=value,_this}return(0,_tslib.__extends)(CastExpr,_super),CastExpr.prototype.isEquivalent=function(e){return e instanceof CastExpr&&this.value.isEquivalent(e.value)},CastExpr.prototype.isConstant=function(){return!1},CastExpr.prototype.visitExpression=function(visitor,context){return visitor.visitCastExpr(this,context)},CastExpr}(Expression);exports.CastExpr=CastExpr;var FnParam=function(){function FnParam(name,type){void 0===type&&(type=null),this.name=name,this.type=type}return FnParam.prototype.isEquivalent=function(param){return this.name===param.name},FnParam}(),FunctionExpr=function(_super){function FunctionExpr(params,statements,type,sourceSpan,name){var _this=_super.call(this,type,sourceSpan)||this;return _this.params=params,_this.statements=statements,_this.name=name,_this}return(0,_tslib.__extends)(FunctionExpr,_super),FunctionExpr.prototype.isEquivalent=function(e){return e instanceof FunctionExpr&&areAllEquivalent(this.params,e.params)&&areAllEquivalent(this.statements,e.statements)},FunctionExpr.prototype.isConstant=function(){return!1},FunctionExpr.prototype.visitExpression=function(visitor,context){return visitor.visitFunctionExpr(this,context)},FunctionExpr.prototype.toDeclStmt=function(name,modifiers){return void 0===modifiers&&(modifiers=null),new DeclareFunctionStmt(name,this.params,this.statements,this.type,modifiers,this.sourceSpan)},FunctionExpr}(Expression);exports.FunctionExpr=FunctionExpr;var BinaryOperatorExpr=function(_super){function BinaryOperatorExpr(operator,lhs,rhs,type,sourceSpan,parens){void 0===parens&&(parens=!0);var _this=_super.call(this,type||lhs.type,sourceSpan)||this;return _this.operator=operator,_this.rhs=rhs,_this.parens=parens,_this.lhs=lhs,_this}return(0,_tslib.__extends)(BinaryOperatorExpr,_super),BinaryOperatorExpr.prototype.isEquivalent=function(e){return e instanceof BinaryOperatorExpr&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)},BinaryOperatorExpr.prototype.isConstant=function(){return!1},BinaryOperatorExpr.prototype.visitExpression=function(visitor,context){return visitor.visitBinaryOperatorExpr(this,context)},BinaryOperatorExpr}(Expression);exports.BinaryOperatorExpr=BinaryOperatorExpr;var ReadPropExpr=function(_super){function ReadPropExpr(receiver,name,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.receiver=receiver,_this.name=name,_this}return(0,_tslib.__extends)(ReadPropExpr,_super),ReadPropExpr.prototype.isEquivalent=function(e){return e instanceof ReadPropExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name},ReadPropExpr.prototype.isConstant=function(){return!1},ReadPropExpr.prototype.visitExpression=function(visitor,context){return visitor.visitReadPropExpr(this,context)},ReadPropExpr.prototype.set=function(value){return new WritePropExpr(this.receiver,this.name,value,null,this.sourceSpan)},ReadPropExpr}(Expression);exports.ReadPropExpr=ReadPropExpr;var ReadKeyExpr=function(_super){function ReadKeyExpr(receiver,index,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.receiver=receiver,_this.index=index,_this}return(0,_tslib.__extends)(ReadKeyExpr,_super),ReadKeyExpr.prototype.isEquivalent=function(e){return e instanceof ReadKeyExpr&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)},ReadKeyExpr.prototype.isConstant=function(){return!1},ReadKeyExpr.prototype.visitExpression=function(visitor,context){return visitor.visitReadKeyExpr(this,context)},ReadKeyExpr.prototype.set=function(value){return new WriteKeyExpr(this.receiver,this.index,value,null,this.sourceSpan)},ReadKeyExpr}(Expression);exports.ReadKeyExpr=ReadKeyExpr;var LiteralArrayExpr=function(_super){function LiteralArrayExpr(entries,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.entries=entries,_this}return(0,_tslib.__extends)(LiteralArrayExpr,_super),LiteralArrayExpr.prototype.isConstant=function(){return this.entries.every(function(e){return e.isConstant()})},LiteralArrayExpr.prototype.isEquivalent=function(e){return e instanceof LiteralArrayExpr&&areAllEquivalent(this.entries,e.entries)},LiteralArrayExpr.prototype.visitExpression=function(visitor,context){return visitor.visitLiteralArrayExpr(this,context)},LiteralArrayExpr}(Expression);exports.LiteralArrayExpr=LiteralArrayExpr;var LiteralMapEntry=function(){function LiteralMapEntry(key,value,quoted){this.key=key,this.value=value,this.quoted=quoted}return LiteralMapEntry.prototype.isEquivalent=function(e){return this.key===e.key&&this.value.isEquivalent(e.value)},LiteralMapEntry}(),LiteralMapExpr=function(_super){function LiteralMapExpr(entries,type,sourceSpan){var _this=_super.call(this,type,sourceSpan)||this;return _this.entries=entries,_this.valueType=null,type&&(_this.valueType=type.valueType),_this}return(0,_tslib.__extends)(LiteralMapExpr,_super),LiteralMapExpr.prototype.isEquivalent=function(e){return e instanceof LiteralMapExpr&&areAllEquivalent(this.entries,e.entries)},LiteralMapExpr.prototype.isConstant=function(){return this.entries.every(function(e){return e.value.isConstant()})},LiteralMapExpr.prototype.visitExpression=function(visitor,context){return visitor.visitLiteralMapExpr(this,context)},LiteralMapExpr}(Expression);exports.LiteralMapExpr=LiteralMapExpr;var CommaExpr=function(_super){function CommaExpr(parts,sourceSpan){var _this=_super.call(this,parts[parts.length-1].type,sourceSpan)||this;return _this.parts=parts,_this}return(0,_tslib.__extends)(CommaExpr,_super),CommaExpr.prototype.isEquivalent=function(e){return e instanceof CommaExpr&&areAllEquivalent(this.parts,e.parts)},CommaExpr.prototype.isConstant=function(){return!1},CommaExpr.prototype.visitExpression=function(visitor,context){return visitor.visitCommaExpr(this,context)},CommaExpr}(Expression);exports.CommaExpr=CommaExpr;new ReadVarExpr(BuiltinVar.This,null,null),new ReadVarExpr(BuiltinVar.Super,null,null),new ReadVarExpr(BuiltinVar.CatchError,null,null),new ReadVarExpr(BuiltinVar.CatchStack,null,null);var StmtModifier,NULL_EXPR=new LiteralExpr(null,null,null),TYPED_NULL_EXPR=new LiteralExpr(null,INFERRED_TYPE,null);exports.StmtModifier=StmtModifier,function(StmtModifier){StmtModifier[StmtModifier.Final=0]="Final",StmtModifier[StmtModifier.Private=1]="Private",StmtModifier[StmtModifier.Exported=2]="Exported",StmtModifier[StmtModifier.Static=3]="Static"}(StmtModifier||(exports.StmtModifier=StmtModifier={}));var Statement=function(){function Statement(modifiers,sourceSpan){this.modifiers=modifiers||[],this.sourceSpan=sourceSpan||null}return Statement.prototype.hasModifier=function(modifier){return-1!==this.modifiers.indexOf(modifier)},Statement}();exports.Statement=Statement;var DeclareVarStmt=function(_super){function DeclareVarStmt(name,value,type,modifiers,sourceSpan){void 0===modifiers&&(modifiers=null);var _this=_super.call(this,modifiers,sourceSpan)||this;return _this.name=name,_this.value=value,_this.type=type||value&&value.type||null,_this}return(0,_tslib.__extends)(DeclareVarStmt,_super),DeclareVarStmt.prototype.isEquivalent=function(stmt){return stmt instanceof DeclareVarStmt&&this.name===stmt.name&&(this.value?!!stmt.value&&this.value.isEquivalent(stmt.value):!stmt.value)},DeclareVarStmt.prototype.visitStatement=function(visitor,context){return visitor.visitDeclareVarStmt(this,context)},DeclareVarStmt}(Statement);exports.DeclareVarStmt=DeclareVarStmt;var DeclareFunctionStmt=function(_super){function DeclareFunctionStmt(name,params,statements,type,modifiers,sourceSpan){void 0===modifiers&&(modifiers=null);var _this=_super.call(this,modifiers,sourceSpan)||this;return _this.name=name,_this.params=params,_this.statements=statements,_this.type=type||null,_this}return(0,_tslib.__extends)(DeclareFunctionStmt,_super),DeclareFunctionStmt.prototype.isEquivalent=function(stmt){return stmt instanceof DeclareFunctionStmt&&areAllEquivalent(this.params,stmt.params)&&areAllEquivalent(this.statements,stmt.statements)},DeclareFunctionStmt.prototype.visitStatement=function(visitor,context){return visitor.visitDeclareFunctionStmt(this,context)},DeclareFunctionStmt}(Statement);exports.DeclareFunctionStmt=DeclareFunctionStmt;var ExpressionStatement=function(_super){function ExpressionStatement(expr,sourceSpan){var _this=_super.call(this,null,sourceSpan)||this;return _this.expr=expr,_this}return(0,_tslib.__extends)(ExpressionStatement,_super),ExpressionStatement.prototype.isEquivalent=function(stmt){return stmt instanceof ExpressionStatement&&this.expr.isEquivalent(stmt.expr)},ExpressionStatement.prototype.visitStatement=function(visitor,context){return visitor.visitExpressionStmt(this,context)},ExpressionStatement}(Statement);exports.ExpressionStatement=ExpressionStatement;var ReturnStatement=function(_super){function ReturnStatement(value,sourceSpan){var _this=_super.call(this,null,sourceSpan)||this;return _this.value=value,_this}return(0,_tslib.__extends)(ReturnStatement,_super),ReturnStatement.prototype.isEquivalent=function(stmt){return stmt instanceof ReturnStatement&&this.value.isEquivalent(stmt.value)},ReturnStatement.prototype.visitStatement=function(visitor,context){return visitor.visitReturnStmt(this,context)},ReturnStatement}(Statement);exports.ReturnStatement=ReturnStatement;var AbstractClassPart=function(){function AbstractClassPart(type,modifiers){this.modifiers=modifiers,modifiers||(this.modifiers=[]),this.type=type||null}return AbstractClassPart.prototype.hasModifier=function(modifier){return-1!==this.modifiers.indexOf(modifier)},AbstractClassPart}(),ClassField=function(_super){function ClassField(name,type,modifiers,initializer){void 0===modifiers&&(modifiers=null);var _this=_super.call(this,type,modifiers)||this;return _this.name=name,_this.initializer=initializer,_this}return(0,_tslib.__extends)(ClassField,_super),ClassField.prototype.isEquivalent=function(f){return this.name===f.name},ClassField}(AbstractClassPart);exports.ClassField=ClassField;var ClassMethod=function(_super){function ClassMethod(name,params,body,type,modifiers){void 0===modifiers&&(modifiers=null);var _this=_super.call(this,type,modifiers)||this;return _this.name=name,_this.params=params,_this.body=body,_this}return(0,_tslib.__extends)(ClassMethod,_super),ClassMethod.prototype.isEquivalent=function(m){return this.name===m.name&&areAllEquivalent(this.body,m.body)},ClassMethod}(AbstractClassPart);exports.ClassMethod=ClassMethod;var ClassGetter=function(_super){function ClassGetter(name,body,type,modifiers){void 0===modifiers&&(modifiers=null);var _this=_super.call(this,type,modifiers)||this;return _this.name=name,_this.body=body,_this}return(0,_tslib.__extends)(ClassGetter,_super),ClassGetter.prototype.isEquivalent=function(m){return this.name===m.name&&areAllEquivalent(this.body,m.body)},ClassGetter}(AbstractClassPart),ClassStmt=function(_super){function ClassStmt(name,parent,fields,getters,constructorMethod,methods,modifiers,sourceSpan){void 0===modifiers&&(modifiers=null);var _this=_super.call(this,modifiers,sourceSpan)||this;return _this.name=name,_this.parent=parent,_this.fields=fields,_this.getters=getters,_this.constructorMethod=constructorMethod,_this.methods=methods,_this}return(0,_tslib.__extends)(ClassStmt,_super),ClassStmt.prototype.isEquivalent=function(stmt){return stmt instanceof ClassStmt&&this.name===stmt.name&&nullSafeIsEquivalent(this.parent,stmt.parent)&&areAllEquivalent(this.fields,stmt.fields)&&areAllEquivalent(this.getters,stmt.getters)&&this.constructorMethod.isEquivalent(stmt.constructorMethod)&&areAllEquivalent(this.methods,stmt.methods)},ClassStmt.prototype.visitStatement=function(visitor,context){return visitor.visitDeclareClassStmt(this,context)},ClassStmt}(Statement);exports.ClassStmt=ClassStmt;var IfStmt=function(_super){function IfStmt(condition,trueCase,falseCase,sourceSpan){void 0===falseCase&&(falseCase=[]);var _this=_super.call(this,null,sourceSpan)||this;return _this.condition=condition,_this.trueCase=trueCase,_this.falseCase=falseCase,_this}return(0,_tslib.__extends)(IfStmt,_super),IfStmt.prototype.isEquivalent=function(stmt){return stmt instanceof IfStmt&&this.condition.isEquivalent(stmt.condition)&&areAllEquivalent(this.trueCase,stmt.trueCase)&&areAllEquivalent(this.falseCase,stmt.falseCase)},IfStmt.prototype.visitStatement=function(visitor,context){return visitor.visitIfStmt(this,context)},IfStmt}(Statement);exports.IfStmt=IfStmt;var CommentStmt=function(_super){function CommentStmt(comment,multiline,sourceSpan){void 0===multiline&&(multiline=!1);var _this=_super.call(this,null,sourceSpan)||this;return _this.comment=comment,_this.multiline=multiline,_this}return(0,_tslib.__extends)(CommentStmt,_super),CommentStmt.prototype.isEquivalent=function(stmt){return stmt instanceof CommentStmt},CommentStmt.prototype.visitStatement=function(visitor,context){return visitor.visitCommentStmt(this,context)},CommentStmt}(Statement);exports.CommentStmt=CommentStmt;var JSDocCommentStmt=function(_super){function JSDocCommentStmt(tags,sourceSpan){void 0===tags&&(tags=[]);var _this=_super.call(this,null,sourceSpan)||this;return _this.tags=tags,_this}return(0,_tslib.__extends)(JSDocCommentStmt,_super),JSDocCommentStmt.prototype.isEquivalent=function(stmt){return stmt instanceof JSDocCommentStmt&&this.toString()===stmt.toString()},JSDocCommentStmt.prototype.visitStatement=function(visitor,context){return visitor.visitJSDocCommentStmt(this,context)},JSDocCommentStmt.prototype.toString=function(){return function(tags){var e_2,_a;if(0===tags.length)return"";var out="*\n";try{for(var tags_1=(0,_tslib.__values)(tags),tags_1_1=tags_1.next();!tags_1_1.done;tags_1_1=tags_1.next()){var tag=tags_1_1.value;out+=" *",out+=tagToString(tag).replace(/\n/g,"\n * "),out+="\n"}}catch(e_2_1){e_2={error:e_2_1}}finally{try{tags_1_1&&!tags_1_1.done&&(_a=tags_1.return)&&_a.call(tags_1)}finally{if(e_2)throw e_2.error}}return out+=" "}(this.tags)},JSDocCommentStmt}(Statement);exports.JSDocCommentStmt=JSDocCommentStmt;var TryCatchStmt=function(_super){function TryCatchStmt(bodyStmts,catchStmts,sourceSpan){var _this=_super.call(this,null,sourceSpan)||this;return _this.bodyStmts=bodyStmts,_this.catchStmts=catchStmts,_this}return(0,_tslib.__extends)(TryCatchStmt,_super),TryCatchStmt.prototype.isEquivalent=function(stmt){return stmt instanceof TryCatchStmt&&areAllEquivalent(this.bodyStmts,stmt.bodyStmts)&&areAllEquivalent(this.catchStmts,stmt.catchStmts)},TryCatchStmt.prototype.visitStatement=function(visitor,context){return visitor.visitTryCatchStmt(this,context)},TryCatchStmt}(Statement);exports.TryCatchStmt=TryCatchStmt;var ThrowStmt=function(_super){function ThrowStmt(error,sourceSpan){var _this=_super.call(this,null,sourceSpan)||this;return _this.error=error,_this}return(0,_tslib.__extends)(ThrowStmt,_super),ThrowStmt.prototype.isEquivalent=function(stmt){return stmt instanceof TryCatchStmt&&this.error.isEquivalent(stmt.error)},ThrowStmt.prototype.visitStatement=function(visitor,context){return visitor.visitThrowStmt(this,context)},ThrowStmt}(Statement);exports.ThrowStmt=ThrowStmt;var AstTransformer=function(){function AstTransformer(){}return AstTransformer.prototype.transformExpr=function(expr,context){return expr},AstTransformer.prototype.transformStmt=function(stmt,context){return stmt},AstTransformer.prototype.visitReadVarExpr=function(ast,context){return this.transformExpr(ast,context)},AstTransformer.prototype.visitWrappedNodeExpr=function(ast,context){return this.transformExpr(ast,context)},AstTransformer.prototype.visitTypeofExpr=function(expr,context){return this.transformExpr(new TypeofExpr(expr.expr.visitExpression(this,context),expr.type,expr.sourceSpan),context)},AstTransformer.prototype.visitWriteVarExpr=function(expr,context){return this.transformExpr(new WriteVarExpr(expr.name,expr.value.visitExpression(this,context),expr.type,expr.sourceSpan),context)},AstTransformer.prototype.visitWriteKeyExpr=function(expr,context){return this.transformExpr(new WriteKeyExpr(expr.receiver.visitExpression(this,context),expr.index.visitExpression(this,context),expr.value.visitExpression(this,context),expr.type,expr.sourceSpan),context)},AstTransformer.prototype.visitWritePropExpr=function(expr,context){return this.transformExpr(new WritePropExpr(expr.receiver.visitExpression(this,context),expr.name,expr.value.visitExpression(this,context),expr.type,expr.sourceSpan),context)},AstTransformer.prototype.visitInvokeMethodExpr=function(ast,context){var method=ast.builtin||ast.name;return this.transformExpr(new InvokeMethodExpr(ast.receiver.visitExpression(this,context),method,this.visitAllExpressions(ast.args,context),ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitInvokeFunctionExpr=function(ast,context){return this.transformExpr(new InvokeFunctionExpr(ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitInstantiateExpr=function(ast,context){return this.transformExpr(new InstantiateExpr(ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitLiteralExpr=function(ast,context){return this.transformExpr(ast,context)},AstTransformer.prototype.visitExternalExpr=function(ast,context){return this.transformExpr(ast,context)},AstTransformer.prototype.visitConditionalExpr=function(ast,context){return this.transformExpr(new ConditionalExpr(ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context),ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitNotExpr=function(ast,context){return this.transformExpr(new NotExpr(ast.condition.visitExpression(this,context),ast.sourceSpan),context)},AstTransformer.prototype.visitAssertNotNullExpr=function(ast,context){return this.transformExpr(new AssertNotNull(ast.condition.visitExpression(this,context),ast.sourceSpan),context)},AstTransformer.prototype.visitCastExpr=function(ast,context){return this.transformExpr(new CastExpr(ast.value.visitExpression(this,context),ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitFunctionExpr=function(ast,context){return this.transformExpr(new FunctionExpr(ast.params,this.visitAllStatements(ast.statements,context),ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitBinaryOperatorExpr=function(ast,context){return this.transformExpr(new BinaryOperatorExpr(ast.operator,ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitReadPropExpr=function(ast,context){return this.transformExpr(new ReadPropExpr(ast.receiver.visitExpression(this,context),ast.name,ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitReadKeyExpr=function(ast,context){return this.transformExpr(new ReadKeyExpr(ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitLiteralArrayExpr=function(ast,context){return this.transformExpr(new LiteralArrayExpr(this.visitAllExpressions(ast.entries,context),ast.type,ast.sourceSpan),context)},AstTransformer.prototype.visitLiteralMapExpr=function(ast,context){var _this=this,entries=ast.entries.map(function(entry){return new LiteralMapEntry(entry.key,entry.value.visitExpression(_this,context),entry.quoted)}),mapType=new MapType(ast.valueType,null);return this.transformExpr(new LiteralMapExpr(entries,mapType,ast.sourceSpan),context)},AstTransformer.prototype.visitCommaExpr=function(ast,context){return this.transformExpr(new CommaExpr(this.visitAllExpressions(ast.parts,context),ast.sourceSpan),context)},AstTransformer.prototype.visitAllExpressions=function(exprs,context){var _this=this;return exprs.map(function(expr){return expr.visitExpression(_this,context)})},AstTransformer.prototype.visitDeclareVarStmt=function(stmt,context){var value=stmt.value&&stmt.value.visitExpression(this,context);return this.transformStmt(new DeclareVarStmt(stmt.name,value,stmt.type,stmt.modifiers,stmt.sourceSpan),context)},AstTransformer.prototype.visitDeclareFunctionStmt=function(stmt,context){return this.transformStmt(new DeclareFunctionStmt(stmt.name,stmt.params,this.visitAllStatements(stmt.statements,context),stmt.type,stmt.modifiers,stmt.sourceSpan),context)},AstTransformer.prototype.visitExpressionStmt=function(stmt,context){return this.transformStmt(new ExpressionStatement(stmt.expr.visitExpression(this,context),stmt.sourceSpan),context)},AstTransformer.prototype.visitReturnStmt=function(stmt,context){return this.transformStmt(new ReturnStatement(stmt.value.visitExpression(this,context),stmt.sourceSpan),context)},AstTransformer.prototype.visitDeclareClassStmt=function(stmt,context){var _this=this,parent=stmt.parent.visitExpression(this,context),getters=stmt.getters.map(function(getter){return new ClassGetter(getter.name,_this.visitAllStatements(getter.body,context),getter.type,getter.modifiers)}),ctorMethod=stmt.constructorMethod&&new ClassMethod(stmt.constructorMethod.name,stmt.constructorMethod.params,this.visitAllStatements(stmt.constructorMethod.body,context),stmt.constructorMethod.type,stmt.constructorMethod.modifiers),methods=stmt.methods.map(function(method){return new ClassMethod(method.name,method.params,_this.visitAllStatements(method.body,context),method.type,method.modifiers)});return this.transformStmt(new ClassStmt(stmt.name,parent,stmt.fields,getters,ctorMethod,methods,stmt.modifiers,stmt.sourceSpan),context)},AstTransformer.prototype.visitIfStmt=function(stmt,context){return this.transformStmt(new IfStmt(stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context),stmt.sourceSpan),context)},AstTransformer.prototype.visitTryCatchStmt=function(stmt,context){return this.transformStmt(new TryCatchStmt(this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context),stmt.sourceSpan),context)},AstTransformer.prototype.visitThrowStmt=function(stmt,context){return this.transformStmt(new ThrowStmt(stmt.error.visitExpression(this,context),stmt.sourceSpan),context)},AstTransformer.prototype.visitCommentStmt=function(stmt,context){return this.transformStmt(stmt,context)},AstTransformer.prototype.visitJSDocCommentStmt=function(stmt,context){return this.transformStmt(stmt,context)},AstTransformer.prototype.visitAllStatements=function(stmts,context){var _this=this;return stmts.map(function(stmt){return stmt.visitStatement(_this,context)})},AstTransformer}(),RecursiveAstVisitor=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitType=function(ast,context){return ast},RecursiveAstVisitor.prototype.visitExpression=function(ast,context){return ast.type&&ast.type.visitType(this,context),ast},RecursiveAstVisitor.prototype.visitBuiltinType=function(type,context){return this.visitType(type,context)},RecursiveAstVisitor.prototype.visitExpressionType=function(type,context){var _this=this;return type.value.visitExpression(this,context),null!==type.typeParams&&type.typeParams.forEach(function(param){return _this.visitType(param,context)}),this.visitType(type,context)},RecursiveAstVisitor.prototype.visitArrayType=function(type,context){return this.visitType(type,context)},RecursiveAstVisitor.prototype.visitMapType=function(type,context){return this.visitType(type,context)},RecursiveAstVisitor.prototype.visitWrappedNodeExpr=function(ast,context){return ast},RecursiveAstVisitor.prototype.visitTypeofExpr=function(ast,context){return this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitReadVarExpr=function(ast,context){return this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitWriteVarExpr=function(ast,context){return ast.value.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitWriteKeyExpr=function(ast,context){return ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast.value.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitWritePropExpr=function(ast,context){return ast.receiver.visitExpression(this,context),ast.value.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitInvokeMethodExpr=function(ast,context){return ast.receiver.visitExpression(this,context),this.visitAllExpressions(ast.args,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitInvokeFunctionExpr=function(ast,context){return ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitInstantiateExpr=function(ast,context){return ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitLiteralExpr=function(ast,context){return this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitExternalExpr=function(ast,context){var _this=this;return ast.typeParams&&ast.typeParams.forEach(function(type){return type.visitType(_this,context)}),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitConditionalExpr=function(ast,context){return ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitNotExpr=function(ast,context){return ast.condition.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitAssertNotNullExpr=function(ast,context){return ast.condition.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitCastExpr=function(ast,context){return ast.value.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitFunctionExpr=function(ast,context){return this.visitAllStatements(ast.statements,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitBinaryOperatorExpr=function(ast,context){return ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitReadPropExpr=function(ast,context){return ast.receiver.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitReadKeyExpr=function(ast,context){return ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitLiteralArrayExpr=function(ast,context){return this.visitAllExpressions(ast.entries,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitLiteralMapExpr=function(ast,context){var _this=this;return ast.entries.forEach(function(entry){return entry.value.visitExpression(_this,context)}),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitCommaExpr=function(ast,context){return this.visitAllExpressions(ast.parts,context),this.visitExpression(ast,context)},RecursiveAstVisitor.prototype.visitAllExpressions=function(exprs,context){var _this=this;exprs.forEach(function(expr){return expr.visitExpression(_this,context)})},RecursiveAstVisitor.prototype.visitDeclareVarStmt=function(stmt,context){return stmt.value&&stmt.value.visitExpression(this,context),stmt.type&&stmt.type.visitType(this,context),stmt},RecursiveAstVisitor.prototype.visitDeclareFunctionStmt=function(stmt,context){return this.visitAllStatements(stmt.statements,context),stmt.type&&stmt.type.visitType(this,context),stmt},RecursiveAstVisitor.prototype.visitExpressionStmt=function(stmt,context){return stmt.expr.visitExpression(this,context),stmt},RecursiveAstVisitor.prototype.visitReturnStmt=function(stmt,context){return stmt.value.visitExpression(this,context),stmt},RecursiveAstVisitor.prototype.visitDeclareClassStmt=function(stmt,context){var _this=this;return stmt.parent.visitExpression(this,context),stmt.getters.forEach(function(getter){return _this.visitAllStatements(getter.body,context)}),stmt.constructorMethod&&this.visitAllStatements(stmt.constructorMethod.body,context),stmt.methods.forEach(function(method){return _this.visitAllStatements(method.body,context)}),stmt},RecursiveAstVisitor.prototype.visitIfStmt=function(stmt,context){return stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context),stmt},RecursiveAstVisitor.prototype.visitTryCatchStmt=function(stmt,context){return this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context),stmt},RecursiveAstVisitor.prototype.visitThrowStmt=function(stmt,context){return stmt.error.visitExpression(this,context),stmt},RecursiveAstVisitor.prototype.visitCommentStmt=function(stmt,context){return stmt},RecursiveAstVisitor.prototype.visitJSDocCommentStmt=function(stmt,context){return stmt},RecursiveAstVisitor.prototype.visitAllStatements=function(stmts,context){var _this=this;stmts.forEach(function(stmt){return stmt.visitStatement(_this,context)})},RecursiveAstVisitor}();function findReadVarNames(stmts){var visitor=new _ReadVarVisitor;return visitor.visitAllStatements(stmts,null),visitor.varNames}var _ReadVarVisitor=function(_super){function _ReadVarVisitor(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.varNames=new Set,_this}return(0,_tslib.__extends)(_ReadVarVisitor,_super),_ReadVarVisitor.prototype.visitDeclareFunctionStmt=function(stmt,context){return stmt},_ReadVarVisitor.prototype.visitDeclareClassStmt=function(stmt,context){return stmt},_ReadVarVisitor.prototype.visitReadVarExpr=function(ast,context){return ast.name&&this.varNames.add(ast.name),null},_ReadVarVisitor}(RecursiveAstVisitor);var _FindExternalReferencesVisitor=function(_super){function _FindExternalReferencesVisitor(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.externalReferences=[],_this}return(0,_tslib.__extends)(_FindExternalReferencesVisitor,_super),_FindExternalReferencesVisitor.prototype.visitExternalExpr=function(e,context){return this.externalReferences.push(e.value),_super.prototype.visitExternalExpr.call(this,e,context)},_FindExternalReferencesVisitor}(RecursiveAstVisitor);function applySourceSpanToStatementIfNeeded(stmt,sourceSpan){if(!sourceSpan)return stmt;var transformer=new _ApplySourceSpanTransformer(sourceSpan);return stmt.visitStatement(transformer,null)}function applySourceSpanToExpressionIfNeeded(expr,sourceSpan){if(!sourceSpan)return expr;var transformer=new _ApplySourceSpanTransformer(sourceSpan);return expr.visitExpression(transformer,null)}var _ApplySourceSpanTransformer=function(_super){function _ApplySourceSpanTransformer(sourceSpan){var _this=_super.call(this)||this;return _this.sourceSpan=sourceSpan,_this}return(0,_tslib.__extends)(_ApplySourceSpanTransformer,_super),_ApplySourceSpanTransformer.prototype._clone=function(obj){var e_1,_a,clone=Object.create(obj.constructor.prototype);try{for(var _b=(0,_tslib.__values)(Object.keys(obj)),_c=_b.next();!_c.done;_c=_b.next()){var prop=_c.value;clone[prop]=obj[prop]}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return clone},_ApplySourceSpanTransformer.prototype.transformExpr=function(expr,context){return expr.sourceSpan||((expr=this._clone(expr)).sourceSpan=this.sourceSpan),expr},_ApplySourceSpanTransformer.prototype.transformStmt=function(stmt,context){return stmt.sourceSpan||((stmt=this._clone(stmt)).sourceSpan=this.sourceSpan),stmt},_ApplySourceSpanTransformer}(AstTransformer);function variable(name,type,sourceSpan){return new ReadVarExpr(name,type,sourceSpan)}function importExpr(id,typeParams,sourceSpan){return void 0===typeParams&&(typeParams=null),new ExternalExpr(id,null,typeParams,sourceSpan)}function importType(id,typeParams,typeModifiers){return void 0===typeParams&&(typeParams=null),void 0===typeModifiers&&(typeModifiers=null),null!=id?expressionType(importExpr(id,typeParams,null),typeModifiers):null}function expressionType(expr,typeModifiers,typeParams){return void 0===typeModifiers&&(typeModifiers=null),void 0===typeParams&&(typeParams=null),new ExpressionType(expr,typeModifiers,typeParams)}function literalArr(values,type,sourceSpan){return new LiteralArrayExpr(values,type,sourceSpan)}function literalMap(values,type){return void 0===type&&(type=null),new LiteralMapExpr(values.map(function(e){return new LiteralMapEntry(e.key,e.value,e.quoted)}),type,null)}function fn(params,body,type,sourceSpan,name){return new FunctionExpr(params,body,type,sourceSpan,name)}function ifStmt(condition,thenClause,elseClause){return new IfStmt(condition,thenClause,elseClause)}function literal(value,type,sourceSpan){return new LiteralExpr(value,type,sourceSpan)}function tagToString(tag){var out="";if(tag.tagName&&(out+=" @"+tag.tagName),tag.text){if(tag.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');out+=" "+tag.text.replace(/@/g,"\\@")}return out}var DASH_CASE_REGEXP=/-+([a-z0-9])/g;function splitAtColon(input,defaultValues){return _splitAt(input,":",defaultValues)}function _splitAt(input,character,defaultValues){var characterIndex=input.indexOf(character);return-1==characterIndex?defaultValues:[input.slice(0,characterIndex).trim(),input.slice(characterIndex+1).trim()]}function visitValue(value,visitor,context){return Array.isArray(value)?visitor.visitArray(value,context):"object"==typeof(obj=value)&&null!==obj&&Object.getPrototypeOf(obj)===STRING_MAP_PROTO?visitor.visitStringMap(value,context):null==value||"string"==typeof value||"number"==typeof value||"boolean"==typeof value?visitor.visitPrimitive(value,context):visitor.visitOther(value,context);var obj}function isDefined(val){return null!==val&&void 0!==val}function noUndefined(val){return void 0===val?null:val}var ValueTransformer=function(){function ValueTransformer(){}return ValueTransformer.prototype.visitArray=function(arr,context){var _this=this;return arr.map(function(value){return visitValue(value,_this,context)})},ValueTransformer.prototype.visitStringMap=function(map,context){var _this=this,result={};return Object.keys(map).forEach(function(key){result[key]=visitValue(map[key],_this,context)}),result},ValueTransformer.prototype.visitPrimitive=function(value,context){return value},ValueTransformer.prototype.visitOther=function(value,context){return value},ValueTransformer}(),SyncAsync_assertSync=function(value){if(isPromise(value))throw new Error("Illegal state: value cannot be a promise");return value},SyncAsync_then=function(value,cb){return isPromise(value)?value.then(cb):cb(value)},SyncAsync_all=function(syncAsyncValues){return syncAsyncValues.some(isPromise)?Promise.all(syncAsyncValues):syncAsyncValues};function error(msg){throw new Error("Internal Error: "+msg)}function syntaxError(msg,parseErrors){var error=Error(msg);return error[ERROR_SYNTAX_ERROR]=!0,parseErrors&&(error[ERROR_PARSE_ERRORS]=parseErrors),error}var ERROR_SYNTAX_ERROR="ngSyntaxError",ERROR_PARSE_ERRORS="ngParseErrors";function escapeRegExp(s){return s.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var STRING_MAP_PROTO=Object.getPrototypeOf({});function utf8Encode(str){for(var encoded="",index=0;index<str.length;index++){var codePoint=str.charCodeAt(index);if(codePoint>=55296&&codePoint<=56319&&str.length>index+1){var low=str.charCodeAt(index+1);low>=56320&&low<=57343&&(index++,codePoint=(codePoint-55296<<10)+low-56320+65536)}codePoint<=127?encoded+=String.fromCharCode(codePoint):codePoint<=2047?encoded+=String.fromCharCode(codePoint>>6&31|192,63&codePoint|128):codePoint<=65535?encoded+=String.fromCharCode(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128):codePoint<=2097151&&(encoded+=String.fromCharCode(codePoint>>18&7|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128))}return encoded}function stringify(token){if("string"==typeof token)return token;if(token instanceof Array)return"["+token.map(stringify).join(", ")+"]";if(null==token)return""+token;if(token.overriddenName)return""+token.overriddenName;if(token.name)return""+token.name;if(!token.toString)return"object";var res=token.toString();if(null==res)return""+res;var newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function resolveForwardRef(type){return"function"==typeof type&&type.hasOwnProperty("__forward_ref__")?type():type}function isPromise(obj){return!!obj&&"function"==typeof obj.then}var Version=function(){return function(full){this.full=full;var splits=full.split(".");this.major=splits[0],this.minor=splits[1],this.patch=splits.slice(2).join(".")}}();exports.Version=Version;var __window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_global="undefined"!=typeof global&&global||__window||__self,KEY_CONTEXT={},FixupExpression=function(_super){function FixupExpression(resolved){var _this=_super.call(this,resolved.type)||this;return _this.resolved=resolved,_this.original=resolved,_this}return(0,_tslib.__extends)(FixupExpression,_super),FixupExpression.prototype.visitExpression=function(visitor,context){return context===KEY_CONTEXT?this.original.visitExpression(visitor,context):this.resolved.visitExpression(visitor,context)},FixupExpression.prototype.isEquivalent=function(e){return e instanceof FixupExpression&&this.resolved.isEquivalent(e.resolved)},FixupExpression.prototype.isConstant=function(){return!0},FixupExpression.prototype.fixup=function(expression){this.resolved=expression,this.shared=!0},FixupExpression}(Expression),ConstantPool=function(){function ConstantPool(){this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}return ConstantPool.prototype.getConstLiteral=function(literal,forceShared){if(literal instanceof LiteralExpr||literal instanceof FixupExpression)return literal;var key=this.keyOf(literal),fixup=this.literals.get(key),newValue=!1;if(fixup||(fixup=new FixupExpression(literal),this.literals.set(key,fixup),newValue=!0),!newValue&&!fixup.shared||newValue&&forceShared){var name_1=this.freshName();this.statements.push(variable(name_1).set(literal).toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])),fixup.fixup(variable(name_1))}return fixup},ConstantPool.prototype.getDefinition=function(type,kind,ctx,forceShared){void 0===forceShared&&(forceShared=!1);var definitions=this.definitionsOf(kind),fixup=definitions.get(type),newValue=!1;if(!fixup){var property=this.propertyNameOf(kind);fixup=new FixupExpression(ctx.importExpr(type).prop(property)),definitions.set(type,fixup),newValue=!0}if(!newValue&&!fixup.shared||newValue&&forceShared){var name_2=this.freshName();this.statements.push(variable(name_2).set(fixup.resolved).toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])),fixup.fixup(variable(name_2))}return fixup},ConstantPool.prototype.getLiteralFactory=function(literal$1){if(literal$1 instanceof LiteralArrayExpr){var argumentsForKey=literal$1.entries.map(function(e){return e.isConstant()?e:literal(null)}),key=this.keyOf(literalArr(argumentsForKey));return this._getLiteralFactory(key,literal$1.entries,function(entries){return literalArr(entries)})}var expressionForKey=literalMap(literal$1.entries.map(function(e){return{key:e.key,value:e.value.isConstant()?e.value:literal(null),quoted:e.quoted}}));key=this.keyOf(expressionForKey);return this._getLiteralFactory(key,literal$1.entries.map(function(e){return e.value}),function(entries){return literalMap(entries.map(function(value,index){return{key:literal$1.entries[index].key,value:value,quoted:literal$1.entries[index].quoted}}))})},ConstantPool.prototype._getLiteralFactory=function(key,values,resultMap){var _this=this,literalFactory=this.literalFactories.get(key),literalFactoryArguments=values.filter(function(e){return!e.isConstant()});if(!literalFactory){var resultExpressions=values.map(function(e,index){return e.isConstant()?_this.getConstLiteral(e,!0):variable("a"+index)}),pureFunctionDeclaration=fn(resultExpressions.filter(isVariable).map(function(e){return new FnParam(e.name,DYNAMIC_TYPE)}),[new ReturnStatement(resultMap(resultExpressions))],INFERRED_TYPE),name_3=this.freshName();this.statements.push(variable(name_3).set(pureFunctionDeclaration).toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])),literalFactory=variable(name_3),this.literalFactories.set(key,literalFactory)}return{literalFactory:literalFactory,literalFactoryArguments:literalFactoryArguments}},ConstantPool.prototype.uniqueName=function(prefix){return""+prefix+this.nextNameIndex++},ConstantPool.prototype.definitionsOf=function(kind){switch(kind){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return error("Unknown definition kind "+kind),this.componentDefinitions},ConstantPool.prototype.propertyNameOf=function(kind){switch(kind){case 2:return"ngComponentDef";case 1:return"ngDirectiveDef";case 0:return"ngInjectorDef";case 3:return"ngPipeDef"}return error("Unknown definition kind "+kind),"<unknown>"},ConstantPool.prototype.freshName=function(){return this.uniqueName("_c")},ConstantPool.prototype.keyOf=function(expression){return expression.visitExpression(new KeyVisitor,KEY_CONTEXT)},ConstantPool}();exports.ConstantPool=ConstantPool;var KeyVisitor=function(){function KeyVisitor(){this.visitWrappedNodeExpr=invalid,this.visitWriteVarExpr=invalid,this.visitWriteKeyExpr=invalid,this.visitWritePropExpr=invalid,this.visitInvokeMethodExpr=invalid,this.visitInvokeFunctionExpr=invalid,this.visitInstantiateExpr=invalid,this.visitConditionalExpr=invalid,this.visitNotExpr=invalid,this.visitAssertNotNullExpr=invalid,this.visitCastExpr=invalid,this.visitFunctionExpr=invalid,this.visitBinaryOperatorExpr=invalid,this.visitReadPropExpr=invalid,this.visitReadKeyExpr=invalid,this.visitCommaExpr=invalid}return KeyVisitor.prototype.visitLiteralExpr=function(ast){return""+("string"==typeof ast.value?'"'+ast.value+'"':ast.value)},KeyVisitor.prototype.visitLiteralArrayExpr=function(ast,context){var _this=this;return"["+ast.entries.map(function(entry){return entry.visitExpression(_this,context)}).join(",")+"]"},KeyVisitor.prototype.visitLiteralMapExpr=function(ast,context){var _this=this;return"{"+ast.entries.map(function(entry){return function(entry){var quote=entry.quoted?'"':"";return""+quote+entry.key+quote}(entry)+":"+entry.value.visitExpression(_this,context)}).join(",")},KeyVisitor.prototype.visitExternalExpr=function(ast){return ast.value.moduleName?"EX:"+ast.value.moduleName+":"+ast.value.name:"EX:"+ast.value.runtime.name},KeyVisitor.prototype.visitReadVarExpr=function(node){return"VAR:"+node.name},KeyVisitor.prototype.visitTypeofExpr=function(node,context){return"TYPEOF:"+node.expr.visitExpression(this,context)},KeyVisitor}();function invalid(arg){throw new Error("Invalid state: Visitor "+this.constructor.name+" doesn't handle "+arg.constructor.name)}function isVariable(e){return e instanceof ReadVarExpr}var CORE="@angular/core",Identifiers=function(){function Identifiers(){}return Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:CORE},Identifiers.ElementRef={name:"ElementRef",moduleName:CORE},Identifiers.NgModuleRef={name:"NgModuleRef",moduleName:CORE},Identifiers.ViewContainerRef={name:"ViewContainerRef",moduleName:CORE},Identifiers.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:CORE},Identifiers.QueryList={name:"QueryList",moduleName:CORE},Identifiers.TemplateRef={name:"TemplateRef",moduleName:CORE},Identifiers.Renderer2={name:"Renderer2",moduleName:CORE},Identifiers.CodegenComponentFactoryResolver={name:"CodegenComponentFactoryResolver",moduleName:CORE},Identifiers.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:CORE},Identifiers.ComponentFactory={name:"ComponentFactory",moduleName:CORE},Identifiers.ComponentRef={name:"ComponentRef",moduleName:CORE},Identifiers.NgModuleFactory={name:"NgModuleFactory",moduleName:CORE},Identifiers.createModuleFactory={name:"cmf",moduleName:CORE},Identifiers.moduleDef={name:"mod",moduleName:CORE},Identifiers.moduleProviderDef={name:"mpd",moduleName:CORE},Identifiers.RegisterModuleFactoryFn={name:"registerModuleFactory",moduleName:CORE},Identifiers.inject={name:"inject",moduleName:CORE},Identifiers.INJECTOR={name:"INJECTOR",moduleName:CORE},Identifiers.Injector={name:"Injector",moduleName:CORE},Identifiers.defineInjectable={name:"defineInjectable",moduleName:CORE},Identifiers.InjectableDef={name:"InjectableDef",moduleName:CORE},Identifiers.ViewEncapsulation={name:"ViewEncapsulation",moduleName:CORE},Identifiers.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:CORE},Identifiers.SecurityContext={name:"SecurityContext",moduleName:CORE},Identifiers.LOCALE_ID={name:"LOCALE_ID",moduleName:CORE},Identifiers.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:CORE},Identifiers.inlineInterpolate={name:"inlineInterpolate",moduleName:CORE},Identifiers.interpolate={name:"interpolate",moduleName:CORE},Identifiers.EMPTY_ARRAY={name:"EMPTY_ARRAY",moduleName:CORE},Identifiers.EMPTY_MAP={name:"EMPTY_MAP",moduleName:CORE},Identifiers.Renderer={name:"Renderer",moduleName:CORE},Identifiers.viewDef={name:"vid",moduleName:CORE},Identifiers.elementDef={name:"eld",moduleName:CORE},Identifiers.anchorDef={name:"and",moduleName:CORE},Identifiers.textDef={name:"ted",moduleName:CORE},Identifiers.directiveDef={name:"did",moduleName:CORE},Identifiers.providerDef={name:"prd",moduleName:CORE},Identifiers.queryDef={name:"qud",moduleName:CORE},Identifiers.pureArrayDef={name:"pad",moduleName:CORE},Identifiers.pureObjectDef={name:"pod",moduleName:CORE},Identifiers.purePipeDef={name:"ppd",moduleName:CORE},Identifiers.pipeDef={name:"pid",moduleName:CORE},Identifiers.nodeValue={name:"nov",moduleName:CORE},Identifiers.ngContentDef={name:"ncd",moduleName:CORE},Identifiers.unwrapValue={name:"unv",moduleName:CORE},Identifiers.createRendererType2={name:"crt",moduleName:CORE},Identifiers.RendererType2={name:"RendererType2",moduleName:CORE},Identifiers.ViewDefinition={name:"ViewDefinition",moduleName:CORE},Identifiers.createComponentFactory={name:"ccf",moduleName:CORE},Identifiers.setClassMetadata={name:"setClassMetadata",moduleName:CORE},Identifiers}();function createTokenForReference(reference){return{identifier:{reference:reference}}}function createTokenForExternalReference(reflector,reference){return createTokenForReference(reflector.resolveExternalReference(reference))}exports.Identifiers=Identifiers;var StaticSymbol=function(){function StaticSymbol(filePath,name,members){this.filePath=filePath,this.name=name,this.members=members}return StaticSymbol.prototype.assertNoMembers=function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got "+JSON.stringify(this)+".")},StaticSymbol}();exports.StaticSymbol=StaticSymbol;var StaticSymbolCache=function(){function StaticSymbolCache(){this.cache=new Map}return StaticSymbolCache.prototype.get=function(declarationFile,name,members){var key='"'+declarationFile+'".'+name+((members=members||[]).length?"."+members.join("."):""),result=this.cache.get(key);return result||(result=new StaticSymbol(declarationFile,name,members),this.cache.set(key,result)),result},StaticSymbolCache}();exports.StaticSymbolCache=StaticSymbolCache;var HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function sanitizeIdentifier(name){return name.replace(/\W/g,"_")}var CompileSummaryKind,_anonymousTypeIndex=0;function identifierName(compileIdentifier){if(!compileIdentifier||!compileIdentifier.reference)return null;var ref=compileIdentifier.reference;if(ref instanceof StaticSymbol)return ref.name;if(ref.__anonymousType)return ref.__anonymousType;var identifier=stringify(ref);return identifier.indexOf("(")>=0?(identifier="anonymous_"+_anonymousTypeIndex++,ref.__anonymousType=identifier):identifier=sanitizeIdentifier(identifier),identifier}function identifierModuleUrl(compileIdentifier){var ref=compileIdentifier.reference;return ref instanceof StaticSymbol?ref.filePath:"./"+stringify(ref)}function viewClassName(compType,embeddedTemplateIndex){return"View_"+identifierName({reference:compType})+"_"+embeddedTemplateIndex}function rendererTypeName(compType){return"RenderType_"+identifierName({reference:compType})}function hostViewClassName(compType){return"HostView_"+identifierName({reference:compType})}function componentFactoryName(compType){return identifierName({reference:compType})+"NgFactory"}function tokenName(token){return null!=token.value?sanitizeIdentifier(token.value):identifierName(token.identifier)}function tokenReference(token){return null!=token.identifier?token.identifier.reference:token.value}exports.CompileSummaryKind=CompileSummaryKind,function(CompileSummaryKind){CompileSummaryKind[CompileSummaryKind.Pipe=0]="Pipe",CompileSummaryKind[CompileSummaryKind.Directive=1]="Directive",CompileSummaryKind[CompileSummaryKind.NgModule=2]="NgModule",CompileSummaryKind[CompileSummaryKind.Injectable=3]="Injectable"}(CompileSummaryKind||(exports.CompileSummaryKind=CompileSummaryKind={}));var CompileStylesheetMetadata=function(){return function(_a){var _b=void 0===_a?{}:_a,moduleUrl=_b.moduleUrl,styles=_b.styles,styleUrls=_b.styleUrls;this.moduleUrl=moduleUrl||null,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls)}}();exports.CompileStylesheetMetadata=CompileStylesheetMetadata;var CompileTemplateMetadata=function(){function CompileTemplateMetadata(_a){var encapsulation=_a.encapsulation,template=_a.template,templateUrl=_a.templateUrl,htmlAst=_a.htmlAst,styles=_a.styles,styleUrls=_a.styleUrls,externalStylesheets=_a.externalStylesheets,animations=_a.animations,ngContentSelectors=_a.ngContentSelectors,interpolation=_a.interpolation,isInline=_a.isInline,preserveWhitespaces=_a.preserveWhitespaces;if(this.encapsulation=encapsulation,this.template=template,this.templateUrl=templateUrl,this.htmlAst=htmlAst,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls),this.externalStylesheets=_normalizeArray(externalStylesheets),this.animations=animations?flatten(animations):[],this.ngContentSelectors=ngContentSelectors||[],interpolation&&2!=interpolation.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=interpolation,this.isInline=isInline,this.preserveWhitespaces=preserveWhitespaces}return CompileTemplateMetadata.prototype.toSummary=function(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}},CompileTemplateMetadata}();exports.CompileTemplateMetadata=CompileTemplateMetadata;var CompileDirectiveMetadata=function(){function CompileDirectiveMetadata(_a){var isHost=_a.isHost,type=_a.type,isComponent=_a.isComponent,selector=_a.selector,exportAs=_a.exportAs,changeDetection=_a.changeDetection,inputs=_a.inputs,outputs=_a.outputs,hostListeners=_a.hostListeners,hostProperties=_a.hostProperties,hostAttributes=_a.hostAttributes,providers=_a.providers,viewProviders=_a.viewProviders,queries=_a.queries,guards=_a.guards,viewQueries=_a.viewQueries,entryComponents=_a.entryComponents,template=_a.template,componentViewType=_a.componentViewType,rendererType=_a.rendererType,componentFactory=_a.componentFactory;this.isHost=!!isHost,this.type=type,this.isComponent=isComponent,this.selector=selector,this.exportAs=exportAs,this.changeDetection=changeDetection,this.inputs=inputs,this.outputs=outputs,this.hostListeners=hostListeners,this.hostProperties=hostProperties,this.hostAttributes=hostAttributes,this.providers=_normalizeArray(providers),this.viewProviders=_normalizeArray(viewProviders),this.queries=_normalizeArray(queries),this.guards=guards,this.viewQueries=_normalizeArray(viewQueries),this.entryComponents=_normalizeArray(entryComponents),this.template=template,this.componentViewType=componentViewType,this.rendererType=rendererType,this.componentFactory=componentFactory}return CompileDirectiveMetadata.create=function(_a){var isHost=_a.isHost,type=_a.type,isComponent=_a.isComponent,selector=_a.selector,exportAs=_a.exportAs,changeDetection=_a.changeDetection,inputs=_a.inputs,outputs=_a.outputs,host=_a.host,providers=_a.providers,viewProviders=_a.viewProviders,queries=_a.queries,guards=_a.guards,viewQueries=_a.viewQueries,entryComponents=_a.entryComponents,template=_a.template,componentViewType=_a.componentViewType,rendererType=_a.rendererType,componentFactory=_a.componentFactory,hostListeners={},hostProperties={},hostAttributes={};null!=host&&Object.keys(host).forEach(function(key){var value=host[key],matches=key.match(HOST_REG_EXP);null===matches?hostAttributes[key]=value:null!=matches[1]?hostProperties[matches[1]]=value:null!=matches[2]&&(hostListeners[matches[2]]=value)});var inputsMap={};null!=inputs&&inputs.forEach(function(bindConfig){var parts=splitAtColon(bindConfig,[bindConfig,bindConfig]);inputsMap[parts[0]]=parts[1]});var outputsMap={};return null!=outputs&&outputs.forEach(function(bindConfig){var parts=splitAtColon(bindConfig,[bindConfig,bindConfig]);outputsMap[parts[0]]=parts[1]}),new CompileDirectiveMetadata({isHost:isHost,type:type,isComponent:!!isComponent,selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputsMap,outputs:outputsMap,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,providers:providers,viewProviders:viewProviders,queries:queries,guards:guards,viewQueries:viewQueries,entryComponents:entryComponents,template:template,componentViewType:componentViewType,rendererType:rendererType,componentFactory:componentFactory})},CompileDirectiveMetadata.prototype.toSummary=function(){return{summaryKind:CompileSummaryKind.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}},CompileDirectiveMetadata}();exports.CompileDirectiveMetadata=CompileDirectiveMetadata;var CompilePipeMetadata=function(){function CompilePipeMetadata(_a){var type=_a.type,name=_a.name,pure=_a.pure;this.type=type,this.name=name,this.pure=!!pure}return CompilePipeMetadata.prototype.toSummary=function(){return{summaryKind:CompileSummaryKind.Pipe,type:this.type,name:this.name,pure:this.pure}},CompilePipeMetadata}();exports.CompilePipeMetadata=CompilePipeMetadata;var CompileShallowModuleMetadata=function(){return function(){}}();exports.CompileShallowModuleMetadata=CompileShallowModuleMetadata;var CompileNgModuleMetadata=function(){function CompileNgModuleMetadata(_a){var type=_a.type,providers=_a.providers,declaredDirectives=_a.declaredDirectives,exportedDirectives=_a.exportedDirectives,declaredPipes=_a.declaredPipes,exportedPipes=_a.exportedPipes,entryComponents=_a.entryComponents,bootstrapComponents=_a.bootstrapComponents,importedModules=_a.importedModules,exportedModules=_a.exportedModules,schemas=_a.schemas,transitiveModule=_a.transitiveModule,id=_a.id;this.type=type||null,this.declaredDirectives=_normalizeArray(declaredDirectives),this.exportedDirectives=_normalizeArray(exportedDirectives),this.declaredPipes=_normalizeArray(declaredPipes),this.exportedPipes=_normalizeArray(exportedPipes),this.providers=_normalizeArray(providers),this.entryComponents=_normalizeArray(entryComponents),this.bootstrapComponents=_normalizeArray(bootstrapComponents),this.importedModules=_normalizeArray(importedModules),this.exportedModules=_normalizeArray(exportedModules),this.schemas=_normalizeArray(schemas),this.id=id||null,this.transitiveModule=transitiveModule||null}return CompileNgModuleMetadata.prototype.toSummary=function(){var module=this.transitiveModule;return{summaryKind:CompileSummaryKind.NgModule,type:this.type,entryComponents:module.entryComponents,providers:module.providers,modules:module.modules,exportedDirectives:module.exportedDirectives,exportedPipes:module.exportedPipes}},CompileNgModuleMetadata}();exports.CompileNgModuleMetadata=CompileNgModuleMetadata;var TransitiveCompileNgModuleMetadata=function(){function TransitiveCompileNgModuleMetadata(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return TransitiveCompileNgModuleMetadata.prototype.addProvider=function(provider,module){this.providers.push({provider:provider,module:module})},TransitiveCompileNgModuleMetadata.prototype.addDirective=function(id){this.directivesSet.has(id.reference)||(this.directivesSet.add(id.reference),this.directives.push(id))},TransitiveCompileNgModuleMetadata.prototype.addExportedDirective=function(id){this.exportedDirectivesSet.has(id.reference)||(this.exportedDirectivesSet.add(id.reference),this.exportedDirectives.push(id))},TransitiveCompileNgModuleMetadata.prototype.addPipe=function(id){this.pipesSet.has(id.reference)||(this.pipesSet.add(id.reference),this.pipes.push(id))},TransitiveCompileNgModuleMetadata.prototype.addExportedPipe=function(id){this.exportedPipesSet.has(id.reference)||(this.exportedPipesSet.add(id.reference),this.exportedPipes.push(id))},TransitiveCompileNgModuleMetadata.prototype.addModule=function(id){this.modulesSet.has(id.reference)||(this.modulesSet.add(id.reference),this.modules.push(id))},TransitiveCompileNgModuleMetadata.prototype.addEntryComponent=function(ec){this.entryComponentsSet.has(ec.componentType)||(this.entryComponentsSet.add(ec.componentType),this.entryComponents.push(ec))},TransitiveCompileNgModuleMetadata}();function _normalizeArray(obj){return obj||[]}exports.TransitiveCompileNgModuleMetadata=TransitiveCompileNgModuleMetadata;var ProviderMeta=function(){return function(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token,this.useClass=useClass||null,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory||null,this.dependencies=deps||null,this.multi=!!multi}}();function flatten(list){return list.reduce(function(flat,item){var flatItem=Array.isArray(item)?flatten(item):item;return flat.concat(flatItem)},[])}function jitSourceUrl(url){return url.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function templateSourceUrl(ngModuleType,compMeta,templateMeta){var url;return url=templateMeta.isInline?compMeta.type.reference instanceof StaticSymbol?compMeta.type.reference.filePath+"."+compMeta.type.reference.name+".html":identifierName(ngModuleType)+"/"+identifierName(compMeta.type)+".html":templateMeta.templateUrl,compMeta.type.reference instanceof StaticSymbol?url:jitSourceUrl(url)}function sharedStylesheetJitUrl(meta,id){var pathParts=meta.moduleUrl.split(/\/\\/g);return jitSourceUrl("css/"+id+pathParts[pathParts.length-1]+".ngstyle.js")}function ngModuleJitUrl(moduleMeta){return jitSourceUrl(identifierName(moduleMeta.type)+"/module.ngfactory.js")}function templateJitUrl(ngModuleType,compMeta){return jitSourceUrl(identifierName(ngModuleType)+"/"+identifierName(compMeta.type)+".ngfactory.js")}exports.ProviderMeta=ProviderMeta;var CORE$1="@angular/core",Identifiers$1=function(){function Identifiers(){}return Identifiers.NEW_METHOD="factory",Identifiers.TRANSFORM_METHOD="transform",Identifiers.PATCH_DEPS="patchedDeps",Identifiers.namespaceHTML={name:"namespaceHTML",moduleName:CORE$1},Identifiers.namespaceMathML={name:"namespaceMathML",moduleName:CORE$1},Identifiers.namespaceSVG={name:"namespaceSVG",moduleName:CORE$1},Identifiers.element={name:"element",moduleName:CORE$1},Identifiers.elementStart={name:"elementStart",moduleName:CORE$1},Identifiers.elementEnd={name:"elementEnd",moduleName:CORE$1},Identifiers.select={name:"select",moduleName:CORE$1},Identifiers.updateSyntheticHostBinding={name:"updateSyntheticHostBinding",moduleName:CORE$1},Identifiers.componentHostSyntheticListener={name:"componentHostSyntheticListener",moduleName:CORE$1},Identifiers.attribute={name:"attribute",moduleName:CORE$1},Identifiers.attributeInterpolate1={name:"attributeInterpolate1",moduleName:CORE$1},Identifiers.attributeInterpolate2={name:"attributeInterpolate2",moduleName:CORE$1},Identifiers.attributeInterpolate3={name:"attributeInterpolate3",moduleName:CORE$1},Identifiers.attributeInterpolate4={name:"attributeInterpolate4",moduleName:CORE$1},Identifiers.attributeInterpolate5={name:"attributeInterpolate5",moduleName:CORE$1},Identifiers.attributeInterpolate6={name:"attributeInterpolate6",moduleName:CORE$1},Identifiers.attributeInterpolate7={name:"attributeInterpolate7",moduleName:CORE$1},Identifiers.attributeInterpolate8={name:"attributeInterpolate8",moduleName:CORE$1},Identifiers.attributeInterpolateV={name:"attributeInterpolateV",moduleName:CORE$1},Identifiers.classProp={name:"classProp",moduleName:CORE$1},Identifiers.elementContainerStart={name:"elementContainerStart",moduleName:CORE$1},Identifiers.elementContainerEnd={name:"elementContainerEnd",moduleName:CORE$1},Identifiers.elementContainer={name:"elementContainer",moduleName:CORE$1},Identifiers.styling={name:"styling",moduleName:CORE$1},Identifiers.styleMap={name:"styleMap",moduleName:CORE$1},Identifiers.classMap={name:"classMap",moduleName:CORE$1},Identifiers.classMapInterpolate1={name:"classMapInterpolate1",moduleName:CORE$1},Identifiers.classMapInterpolate2={name:"classMapInterpolate2",moduleName:CORE$1},Identifiers.classMapInterpolate3={name:"classMapInterpolate3",moduleName:CORE$1},Identifiers.classMapInterpolate4={name:"classMapInterpolate4",moduleName:CORE$1},Identifiers.classMapInterpolate5={name:"classMapInterpolate5",moduleName:CORE$1},Identifiers.classMapInterpolate6={name:"classMapInterpolate6",moduleName:CORE$1},Identifiers.classMapInterpolate7={name:"classMapInterpolate7",moduleName:CORE$1},Identifiers.classMapInterpolate8={name:"classMapInterpolate8",moduleName:CORE$1},Identifiers.classMapInterpolateV={name:"classMapInterpolateV",moduleName:CORE$1},Identifiers.styleProp={name:"styleProp",moduleName:CORE$1},Identifiers.stylePropInterpolate1={name:"stylePropInterpolate1",moduleName:CORE$1},Identifiers.stylePropInterpolate2={name:"stylePropInterpolate2",moduleName:CORE$1},Identifiers.stylePropInterpolate3={name:"stylePropInterpolate3",moduleName:CORE$1},Identifiers.stylePropInterpolate4={name:"stylePropInterpolate4",moduleName:CORE$1},Identifiers.stylePropInterpolate5={name:"stylePropInterpolate5",moduleName:CORE$1},Identifiers.stylePropInterpolate6={name:"stylePropInterpolate6",moduleName:CORE$1},Identifiers.stylePropInterpolate7={name:"stylePropInterpolate7",moduleName:CORE$1},Identifiers.stylePropInterpolate8={name:"stylePropInterpolate8",moduleName:CORE$1},Identifiers.stylePropInterpolateV={name:"stylePropInterpolateV",moduleName:CORE$1},Identifiers.stylingApply={name:"stylingApply",moduleName:CORE$1},Identifiers.styleSanitizer={name:"styleSanitizer",moduleName:CORE$1},Identifiers.elementHostAttrs={name:"elementHostAttrs",moduleName:CORE$1},Identifiers.containerCreate={name:"container",moduleName:CORE$1},Identifiers.nextContext={name:"nextContext",moduleName:CORE$1},Identifiers.templateCreate={name:"template",moduleName:CORE$1},Identifiers.text={name:"text",moduleName:CORE$1},Identifiers.textBinding={name:"textBinding",moduleName:CORE$1},Identifiers.enableBindings={name:"enableBindings",moduleName:CORE$1},Identifiers.disableBindings={name:"disableBindings",moduleName:CORE$1},Identifiers.allocHostVars={name:"allocHostVars",moduleName:CORE$1},Identifiers.getCurrentView={name:"getCurrentView",moduleName:CORE$1},Identifiers.textInterpolate={name:"textInterpolate",moduleName:CORE$1},Identifiers.textInterpolate1={name:"textInterpolate1",moduleName:CORE$1},Identifiers.textInterpolate2={name:"textInterpolate2",moduleName:CORE$1},Identifiers.textInterpolate3={name:"textInterpolate3",moduleName:CORE$1},Identifiers.textInterpolate4={name:"textInterpolate4",moduleName:CORE$1},Identifiers.textInterpolate5={name:"textInterpolate5",moduleName:CORE$1},Identifiers.textInterpolate6={name:"textInterpolate6",moduleName:CORE$1},Identifiers.textInterpolate7={name:"textInterpolate7",moduleName:CORE$1},Identifiers.textInterpolate8={name:"textInterpolate8",moduleName:CORE$1},Identifiers.textInterpolateV={name:"textInterpolateV",moduleName:CORE$1},Identifiers.restoreView={name:"restoreView",moduleName:CORE$1},Identifiers.pureFunction0={name:"pureFunction0",moduleName:CORE$1},Identifiers.pureFunction1={name:"pureFunction1",moduleName:CORE$1},Identifiers.pureFunction2={name:"pureFunction2",moduleName:CORE$1},Identifiers.pureFunction3={name:"pureFunction3",moduleName:CORE$1},Identifiers.pureFunction4={name:"pureFunction4",moduleName:CORE$1},Identifiers.pureFunction5={name:"pureFunction5",moduleName:CORE$1},Identifiers.pureFunction6={name:"pureFunction6",moduleName:CORE$1},Identifiers.pureFunction7={name:"pureFunction7",moduleName:CORE$1},Identifiers.pureFunction8={name:"pureFunction8",moduleName:CORE$1},Identifiers.pureFunctionV={name:"pureFunctionV",moduleName:CORE$1},Identifiers.pipeBind1={name:"pipeBind1",moduleName:CORE$1},Identifiers.pipeBind2={name:"pipeBind2",moduleName:CORE$1},Identifiers.pipeBind3={name:"pipeBind3",moduleName:CORE$1},Identifiers.pipeBind4={name:"pipeBind4",moduleName:CORE$1},Identifiers.pipeBindV={name:"pipeBindV",moduleName:CORE$1},Identifiers.hostProperty={name:"hostProperty",moduleName:CORE$1},Identifiers.property={name:"property",moduleName:CORE$1},Identifiers.propertyInterpolate={name:"propertyInterpolate",moduleName:CORE$1},Identifiers.propertyInterpolate1={name:"propertyInterpolate1",moduleName:CORE$1},Identifiers.propertyInterpolate2={name:"propertyInterpolate2",moduleName:CORE$1},Identifiers.propertyInterpolate3={name:"propertyInterpolate3",moduleName:CORE$1},Identifiers.propertyInterpolate4={name:"propertyInterpolate4",moduleName:CORE$1},Identifiers.propertyInterpolate5={name:"propertyInterpolate5",moduleName:CORE$1},Identifiers.propertyInterpolate6={name:"propertyInterpolate6",moduleName:CORE$1},Identifiers.propertyInterpolate7={name:"propertyInterpolate7",moduleName:CORE$1},Identifiers.propertyInterpolate8={name:"propertyInterpolate8",moduleName:CORE$1},Identifiers.propertyInterpolateV={name:"propertyInterpolateV",moduleName:CORE$1},Identifiers.i18n={name:"i18n",moduleName:CORE$1},Identifiers.i18nAttributes={name:"i18nAttributes",moduleName:CORE$1},Identifiers.i18nExp={name:"i18nExp",moduleName:CORE$1},Identifiers.i18nStart={name:"i18nStart",moduleName:CORE$1},Identifiers.i18nEnd={name:"i18nEnd",moduleName:CORE$1},Identifiers.i18nApply={name:"i18nApply",moduleName:CORE$1},Identifiers.i18nPostprocess={name:"i18nPostprocess",moduleName:CORE$1},Identifiers.i18nLocalize={name:"i18nLocalize",moduleName:CORE$1},Identifiers.load={name:"load",moduleName:CORE$1},Identifiers.pipe={name:"pipe",moduleName:CORE$1},Identifiers.projection={name:"projection",moduleName:CORE$1},Identifiers.projectionDef={name:"projectionDef",moduleName:CORE$1},Identifiers.reference={name:"reference",moduleName:CORE$1},Identifiers.inject={name:"inject",moduleName:CORE$1},Identifiers.injectAttribute={name:"injectAttribute",moduleName:CORE$1},Identifiers.injectPipeChangeDetectorRef={name:"injectPipeChangeDetectorRef",moduleName:CORE$1},Identifiers.directiveInject={name:"directiveInject",moduleName:CORE$1},Identifiers.templateRefExtractor={name:"templateRefExtractor",moduleName:CORE$1},Identifiers.resolveWindow={name:"resolveWindow",moduleName:CORE$1},Identifiers.resolveDocument={name:"resolveDocument",moduleName:CORE$1},Identifiers.resolveBody={name:"resolveBody",moduleName:CORE$1},Identifiers.defineBase={name:"defineBase",moduleName:CORE$1},Identifiers.BaseDef={name:"BaseDef",moduleName:CORE$1},Identifiers.defineComponent={name:"defineComponent",moduleName:CORE$1},Identifiers.setComponentScope={name:"setComponentScope",moduleName:CORE$1},Identifiers.ComponentDefWithMeta={name:"ComponentDefWithMeta",moduleName:CORE$1},Identifiers.defineDirective={name:"defineDirective",moduleName:CORE$1},Identifiers.DirectiveDefWithMeta={name:"DirectiveDefWithMeta",moduleName:CORE$1},Identifiers.InjectorDef={name:"InjectorDef",moduleName:CORE$1},Identifiers.defineInjector={name:"defineInjector",moduleName:CORE$1},Identifiers.NgModuleDefWithMeta={name:"NgModuleDefWithMeta",moduleName:CORE$1},Identifiers.defineNgModule={name:"defineNgModule",moduleName:CORE$1},Identifiers.setNgModuleScope={name:"setNgModuleScope",moduleName:CORE$1},Identifiers.PipeDefWithMeta={name:"PipeDefWithMeta",moduleName:CORE$1},Identifiers.definePipe={name:"definePipe",moduleName:CORE$1},Identifiers.queryRefresh={name:"queryRefresh",moduleName:CORE$1},Identifiers.viewQuery={name:"viewQuery",moduleName:CORE$1},Identifiers.staticViewQuery={name:"staticViewQuery",moduleName:CORE$1},Identifiers.staticContentQuery={name:"staticContentQuery",moduleName:CORE$1},Identifiers.loadViewQuery={name:"loadViewQuery",moduleName:CORE$1},Identifiers.contentQuery={name:"contentQuery",moduleName:CORE$1},Identifiers.loadContentQuery={name:"loadContentQuery",moduleName:CORE$1},Identifiers.NgOnChangesFeature={name:"NgOnChangesFeature",moduleName:CORE$1},Identifiers.InheritDefinitionFeature={name:"InheritDefinitionFeature",moduleName:CORE$1},Identifiers.ProvidersFeature={name:"ProvidersFeature",moduleName:CORE$1},Identifiers.listener={name:"listener",moduleName:CORE$1},Identifiers.getFactoryOf={name:"getFactoryOf",moduleName:CORE$1},Identifiers.getInheritedFactory={name:"getInheritedFactory",moduleName:CORE$1},Identifiers.sanitizeHtml={name:"sanitizeHtml",moduleName:CORE$1},Identifiers.sanitizeStyle={name:"sanitizeStyle",moduleName:CORE$1},Identifiers.defaultStyleSanitizer={name:"defaultStyleSanitizer",moduleName:CORE$1},Identifiers.sanitizeResourceUrl={name:"sanitizeResourceUrl",moduleName:CORE$1},Identifiers.sanitizeScript={name:"sanitizeScript",moduleName:CORE$1},Identifiers.sanitizeUrl={name:"sanitizeUrl",moduleName:CORE$1},Identifiers.sanitizeUrlOrResourceUrl={name:"sanitizeUrlOrResourceUrl",moduleName:CORE$1},Identifiers}();exports.R3Identifiers=Identifiers$1;var $EOF=0,$TAB=9,$LF=10,$VTAB=11,$FF=12,$CR=13,$SPACE=32,$DQ=34,$$=36,$SQ=39,$PLUS=43,$MINUS=45,$SLASH=47,$SEMICOLON=59,$EQ=61,$GT=62,$0=48,$7=55,$9=57,$A=65,$E=69,$F=70,$Z=90,$_=95,$a=97,$e=101,$f=102,$n=110,$r=114,$t=116,$v=118,$z=122,$NBSP=160,$BT=96;function isWhitespace(code){return code>=$TAB&&code<=$SPACE||code==$NBSP}function isDigit(code){return $0<=code&&code<=$9}function isAsciiLetter(code){return code>=$a&&code<=$z||code>=$A&&code<=$Z}function isNewLine(code){return code===$LF||code===$CR}function isOctalDigit(code){return $0<=code&&code<=$7}var ParseLocation=function(){function ParseLocation(file,offset,line,col){this.file=file,this.offset=offset,this.line=line,this.col=col}return ParseLocation.prototype.toString=function(){return null!=this.offset?this.file.url+"@"+this.line+":"+this.col:this.file.url},ParseLocation.prototype.moveBy=function(delta){for(var source=this.file.content,len=source.length,offset=this.offset,line=this.line,col=this.col;offset>0&&delta<0;){if(offset--,delta++,(ch=source.charCodeAt(offset))==$LF){line--;var priorLine=source.substr(0,offset-1).lastIndexOf(String.fromCharCode($LF));col=priorLine>0?offset-priorLine:offset}else col--}for(;offset<len&&delta>0;){var ch=source.charCodeAt(offset);offset++,delta--,ch==$LF?(line++,col=0):col++}return new ParseLocation(this.file,offset,line,col)},ParseLocation.prototype.getContext=function(maxChars,maxLines){var content=this.file.content,startOffset=this.offset;if(null!=startOffset){startOffset>content.length-1&&(startOffset=content.length-1);for(var endOffset=startOffset,ctxChars=0,ctxLines=0;ctxChars<maxChars&&startOffset>0&&(ctxChars++,"\n"!=content[--startOffset]||++ctxLines!=maxLines););for(ctxChars=0,ctxLines=0;ctxChars<maxChars&&endOffset<content.length-1&&(ctxChars++,"\n"!=content[++endOffset]||++ctxLines!=maxLines););return{before:content.substring(startOffset,this.offset),after:content.substring(this.offset,endOffset+1)}}return null},ParseLocation}();exports.ParseLocation=ParseLocation;var ParseSourceFile=function(){return function(content,url){this.content=content,this.url=url}}();exports.ParseSourceFile=ParseSourceFile;var ParseSourceSpan=function(){function ParseSourceSpan(start,end,details){void 0===details&&(details=null),this.start=start,this.end=end,this.details=details}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();exports.ParseSourceSpan=ParseSourceSpan;var EMPTY_PARSE_LOCATION=new ParseLocation(new ParseSourceFile("",""),0,0,0);exports.EMPTY_PARSE_LOCATION=EMPTY_PARSE_LOCATION;var ParseErrorLevel,EMPTY_SOURCE_SPAN=new ParseSourceSpan(EMPTY_PARSE_LOCATION,EMPTY_PARSE_LOCATION);exports.EMPTY_SOURCE_SPAN=EMPTY_SOURCE_SPAN,exports.ParseErrorLevel=ParseErrorLevel,function(ParseErrorLevel){ParseErrorLevel[ParseErrorLevel.WARNING=0]="WARNING",ParseErrorLevel[ParseErrorLevel.ERROR=1]="ERROR"}(ParseErrorLevel||(exports.ParseErrorLevel=ParseErrorLevel={}));var ParseError=function(){function ParseError(span,msg,level){void 0===level&&(level=ParseErrorLevel.ERROR),this.span=span,this.msg=msg,this.level=level}return ParseError.prototype.contextualMessage=function(){var ctx=this.span.start.getContext(100,3);return ctx?this.msg+' ("'+ctx.before+"["+ParseErrorLevel[this.level]+" ->]"+ctx.after+'")':this.msg},ParseError.prototype.toString=function(){var details=this.span.details?", "+this.span.details:"";return this.contextualMessage()+": "+this.span.start+details},ParseError}();function typeSourceSpan(kind,type){var moduleUrl=identifierModuleUrl(type),sourceFileName=null!=moduleUrl?"in "+kind+" "+identifierName(type)+" in "+moduleUrl:"in "+kind+" "+identifierName(type),sourceFile=new ParseSourceFile("",sourceFileName);return new ParseSourceSpan(new ParseLocation(sourceFile,-1,-1,-1),new ParseLocation(sourceFile,-1,-1,-1))}function r3JitTypeSourceSpan(kind,typeName,sourceUrl){var sourceFile=new ParseSourceFile("","in "+kind+" "+typeName+" in "+sourceUrl);return new ParseSourceSpan(new ParseLocation(sourceFile,-1,-1,-1),new ParseLocation(sourceFile,-1,-1,-1))}exports.ParseError=ParseError;var Text=function(){function Text(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return Text.prototype.visit=function(visitor){return visitor.visitText(this)},Text}();exports.TmplAstText=Text;var BoundText=function(){function BoundText(value,sourceSpan,i18n){this.value=value,this.sourceSpan=sourceSpan,this.i18n=i18n}return BoundText.prototype.visit=function(visitor){return visitor.visitBoundText(this)},BoundText}();exports.TmplAstBoundText=BoundText;var TextAttribute=function(){function TextAttribute(name,value,sourceSpan,valueSpan,i18n){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.i18n=i18n}return TextAttribute.prototype.visit=function(visitor){return visitor.visitTextAttribute(this)},TextAttribute}();exports.TmplAstTextAttribute=TextAttribute;var BoundAttribute=function(){function BoundAttribute(name,type,securityContext,value,unit,sourceSpan,valueSpan,i18n){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.i18n=i18n}return BoundAttribute.fromBoundElementProperty=function(prop,i18n){return new BoundAttribute(prop.name,prop.type,prop.securityContext,prop.value,prop.unit,prop.sourceSpan,prop.valueSpan,i18n)},BoundAttribute.prototype.visit=function(visitor){return visitor.visitBoundAttribute(this)},BoundAttribute}();exports.TmplAstBoundAttribute=BoundAttribute;var BoundEvent=function(){function BoundEvent(name,type,handler,target,phase,sourceSpan,handlerSpan){this.name=name,this.type=type,this.handler=handler,this.target=target,this.phase=phase,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan}return BoundEvent.fromParsedEvent=function(event){var target=0===event.type?event.targetOrPhase:null,phase=1===event.type?event.targetOrPhase:null;return new BoundEvent(event.name,event.type,event.handler,target,phase,event.sourceSpan,event.handlerSpan)},BoundEvent.prototype.visit=function(visitor){return visitor.visitBoundEvent(this)},BoundEvent}();exports.TmplAstBoundEvent=BoundEvent;var Element=function(){function Element(name,attributes,inputs,outputs,children,references,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.name=name,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.children=children,this.references=references,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n,0===children.length&&startSourceSpan&&endSourceSpan&&(this.sourceSpan=new ParseSourceSpan(sourceSpan.start,endSourceSpan.end))}return Element.prototype.visit=function(visitor){return visitor.visitElement(this)},Element}();exports.TmplAstElement=Element;var Template=function(){function Template(tagName,attributes,inputs,outputs,templateAttrs,children,references,variables,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.tagName=tagName,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.templateAttrs=templateAttrs,this.children=children,this.references=references,this.variables=variables,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n}return Template.prototype.visit=function(visitor){return visitor.visitTemplate(this)},Template}();exports.TmplAstTemplate=Template;var Content=function(){function Content(selector,attributes,sourceSpan,i18n){this.selector=selector,this.attributes=attributes,this.sourceSpan=sourceSpan,this.i18n=i18n}return Content.prototype.visit=function(visitor){return visitor.visitContent(this)},Content}();exports.TmplAstContent=Content;var Variable=function(){function Variable(name,value,sourceSpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}return Variable.prototype.visit=function(visitor){return visitor.visitVariable(this)},Variable}();exports.TmplAstVariable=Variable;var Reference=function(){function Reference(name,value,sourceSpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}return Reference.prototype.visit=function(visitor){return visitor.visitReference(this)},Reference}();exports.TmplAstReference=Reference;var Icu=function(){function Icu(vars,placeholders,sourceSpan,i18n){this.vars=vars,this.placeholders=placeholders,this.sourceSpan=sourceSpan,this.i18n=i18n}return Icu.prototype.visit=function(visitor){return visitor.visitIcu(this)},Icu}(),RecursiveVisitor=(function(){function NullVisitor(){}NullVisitor.prototype.visitElement=function(element){},NullVisitor.prototype.visitTemplate=function(template){},NullVisitor.prototype.visitContent=function(content){},NullVisitor.prototype.visitVariable=function(variable){},NullVisitor.prototype.visitReference=function(reference){},NullVisitor.prototype.visitTextAttribute=function(attribute){},NullVisitor.prototype.visitBoundAttribute=function(attribute){},NullVisitor.prototype.visitBoundEvent=function(attribute){},NullVisitor.prototype.visitText=function(text){},NullVisitor.prototype.visitBoundText=function(text){},NullVisitor.prototype.visitIcu=function(icu){}}(),function(){function RecursiveVisitor(){}return RecursiveVisitor.prototype.visitElement=function(element){visitAll(this,element.attributes),visitAll(this,element.children),visitAll(this,element.references)},RecursiveVisitor.prototype.visitTemplate=function(template){visitAll(this,template.attributes),visitAll(this,template.children),visitAll(this,template.references),visitAll(this,template.variables)},RecursiveVisitor.prototype.visitContent=function(content){},RecursiveVisitor.prototype.visitVariable=function(variable){},RecursiveVisitor.prototype.visitReference=function(reference){},RecursiveVisitor.prototype.visitTextAttribute=function(attribute){},RecursiveVisitor.prototype.visitBoundAttribute=function(attribute){},RecursiveVisitor.prototype.visitBoundEvent=function(attribute){},RecursiveVisitor.prototype.visitText=function(text){},RecursiveVisitor.prototype.visitBoundText=function(text){},RecursiveVisitor.prototype.visitIcu=function(icu){},RecursiveVisitor}());exports.TmplAstRecursiveVisitor=RecursiveVisitor;!function(){function TransformVisitor(){}TransformVisitor.prototype.visitElement=function(element){var newAttributes=transformAll(this,element.attributes),newInputs=transformAll(this,element.inputs),newOutputs=transformAll(this,element.outputs),newChildren=transformAll(this,element.children),newReferences=transformAll(this,element.references);return newAttributes!=element.attributes||newInputs!=element.inputs||newOutputs!=element.outputs||newChildren!=element.children||newReferences!=element.references?new Element(element.name,newAttributes,newInputs,newOutputs,newChildren,newReferences,element.sourceSpan,element.startSourceSpan,element.endSourceSpan):element},TransformVisitor.prototype.visitTemplate=function(template){var newAttributes=transformAll(this,template.attributes),newInputs=transformAll(this,template.inputs),newOutputs=transformAll(this,template.outputs),newTemplateAttrs=transformAll(this,template.templateAttrs),newChildren=transformAll(this,template.children),newReferences=transformAll(this,template.references),newVariables=transformAll(this,template.variables);return newAttributes!=template.attributes||newInputs!=template.inputs||newOutputs!=template.outputs||newTemplateAttrs!=template.templateAttrs||newChildren!=template.children||newReferences!=template.references||newVariables!=template.variables?new Template(template.tagName,newAttributes,newInputs,newOutputs,newTemplateAttrs,newChildren,newReferences,newVariables,template.sourceSpan,template.startSourceSpan,template.endSourceSpan):template},TransformVisitor.prototype.visitContent=function(content){return content},TransformVisitor.prototype.visitVariable=function(variable){return variable},TransformVisitor.prototype.visitReference=function(reference){return reference},TransformVisitor.prototype.visitTextAttribute=function(attribute){return attribute},TransformVisitor.prototype.visitBoundAttribute=function(attribute){return attribute},TransformVisitor.prototype.visitBoundEvent=function(attribute){return attribute},TransformVisitor.prototype.visitText=function(text){return text},TransformVisitor.prototype.visitBoundText=function(text){return text},TransformVisitor.prototype.visitIcu=function(icu){return icu}}();function visitAll(visitor,nodes){var e_1,_a,e_2,_b,result=[];if(visitor.visit)try{for(var nodes_1=(0,_tslib.__values)(nodes),nodes_1_1=nodes_1.next();!nodes_1_1.done;nodes_1_1=nodes_1.next())var node=nodes_1_1.value,newNode=visitor.visit(node)||node.visit(visitor)}catch(e_1_1){e_1={error:e_1_1}}finally{try{nodes_1_1&&!nodes_1_1.done&&(_a=nodes_1.return)&&_a.call(nodes_1)}finally{if(e_1)throw e_1.error}}else try{for(var nodes_2=(0,_tslib.__values)(nodes),nodes_2_1=nodes_2.next();!nodes_2_1.done;nodes_2_1=nodes_2.next()){(newNode=(node=nodes_2_1.value).visit(visitor))&&result.push(newNode)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{nodes_2_1&&!nodes_2_1.done&&(_b=nodes_2.return)&&_b.call(nodes_2)}finally{if(e_2)throw e_2.error}}return result}function transformAll(visitor,nodes){var e_3,_a,result=[],changed=!1;try{for(var nodes_3=(0,_tslib.__values)(nodes),nodes_3_1=nodes_3.next();!nodes_3_1.done;nodes_3_1=nodes_3.next()){var node=nodes_3_1.value,newNode=node.visit(visitor);newNode&&result.push(newNode),changed=changed||newNode!=node}}catch(e_3_1){e_3={error:e_3_1}}finally{try{nodes_3_1&&!nodes_3_1.done&&(_a=nodes_3.return)&&_a.call(nodes_3)}finally{if(e_3)throw e_3.error}}return changed?result:nodes}var Message=function(){return function(nodes,placeholders,placeholderToMessage,meaning,description,id){this.nodes=nodes,this.placeholders=placeholders,this.placeholderToMessage=placeholderToMessage,this.meaning=meaning,this.description=description,this.id=id,nodes.length?this.sources=[{filePath:nodes[0].sourceSpan.start.file.url,startLine:nodes[0].sourceSpan.start.line+1,startCol:nodes[0].sourceSpan.start.col+1,endLine:nodes[nodes.length-1].sourceSpan.end.line+1,endCol:nodes[0].sourceSpan.start.col+1}]:this.sources=[]}}(),Text$1=function(){function Text(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return Text.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},Text}(),Container=function(){function Container(children,sourceSpan){this.children=children,this.sourceSpan=sourceSpan}return Container.prototype.visit=function(visitor,context){return visitor.visitContainer(this,context)},Container}(),Icu$1=function(){function Icu(expression,type,cases,sourceSpan){this.expression=expression,this.type=type,this.cases=cases,this.sourceSpan=sourceSpan}return Icu.prototype.visit=function(visitor,context){return visitor.visitIcu(this,context)},Icu}(),TagPlaceholder=function(){function TagPlaceholder(tag,attrs,startName,closeName,children,isVoid,sourceSpan){this.tag=tag,this.attrs=attrs,this.startName=startName,this.closeName=closeName,this.children=children,this.isVoid=isVoid,this.sourceSpan=sourceSpan}return TagPlaceholder.prototype.visit=function(visitor,context){return visitor.visitTagPlaceholder(this,context)},TagPlaceholder}(),Placeholder=function(){function Placeholder(value,name,sourceSpan){this.value=value,this.name=name,this.sourceSpan=sourceSpan}return Placeholder.prototype.visit=function(visitor,context){return visitor.visitPlaceholder(this,context)},Placeholder}(),IcuPlaceholder=function(){function IcuPlaceholder(value,name,sourceSpan){this.value=value,this.name=name,this.sourceSpan=sourceSpan}return IcuPlaceholder.prototype.visit=function(visitor,context){return visitor.visitIcuPlaceholder(this,context)},IcuPlaceholder}(),CloneVisitor=function(){function CloneVisitor(){}return CloneVisitor.prototype.visitText=function(text,context){return new Text$1(text.value,text.sourceSpan)},CloneVisitor.prototype.visitContainer=function(container,context){var _this=this,children=container.children.map(function(n){return n.visit(_this,context)});return new Container(children,container.sourceSpan)},CloneVisitor.prototype.visitIcu=function(icu,context){var _this=this,cases={};Object.keys(icu.cases).forEach(function(key){return cases[key]=icu.cases[key].visit(_this,context)});var msg=new Icu$1(icu.expression,icu.type,cases,icu.sourceSpan);return msg.expressionPlaceholder=icu.expressionPlaceholder,msg},CloneVisitor.prototype.visitTagPlaceholder=function(ph,context){var _this=this,children=ph.children.map(function(n){return n.visit(_this,context)});return new TagPlaceholder(ph.tag,ph.attrs,ph.startName,ph.closeName,children,ph.isVoid,ph.sourceSpan)},CloneVisitor.prototype.visitPlaceholder=function(ph,context){return new Placeholder(ph.value,ph.name,ph.sourceSpan)},CloneVisitor.prototype.visitIcuPlaceholder=function(ph,context){return new IcuPlaceholder(ph.value,ph.name,ph.sourceSpan)},CloneVisitor}(),RecurseVisitor=function(){function RecurseVisitor(){}return RecurseVisitor.prototype.visitText=function(text,context){},RecurseVisitor.prototype.visitContainer=function(container,context){var _this=this;container.children.forEach(function(child){return child.visit(_this)})},RecurseVisitor.prototype.visitIcu=function(icu,context){var _this=this;Object.keys(icu.cases).forEach(function(k){icu.cases[k].visit(_this)})},RecurseVisitor.prototype.visitTagPlaceholder=function(ph,context){var _this=this;ph.children.forEach(function(child){return child.visit(_this)})},RecurseVisitor.prototype.visitPlaceholder=function(ph,context){},RecurseVisitor.prototype.visitIcuPlaceholder=function(ph,context){},RecurseVisitor}();function digest(message){return message.id||function(str){var _a,_b,utf8=utf8Encode(str),words32=function(str,endian){for(var words32=Array(str.length+3>>>2),i=0;i<words32.length;i++)words32[i]=wordAt(str,4*i,endian);return words32}(utf8,Endian.Big),len=8*utf8.length,w=new Array(80),_c=(0,_tslib.__read)([1732584193,4023233417,2562383102,271733878,3285377520],5),a=_c[0],b=_c[1],c=_c[2],d=_c[3],e=_c[4];words32[len>>5]|=128<<24-len%32,words32[15+(len+64>>9<<4)]=len;for(var i=0;i<words32.length;i+=16){for(var _d=(0,_tslib.__read)([a,b,c,d,e],5),h0=_d[0],h1=_d[1],h2=_d[2],h3=_d[3],h4=_d[4],j=0;j<80;j++){w[j]=j<16?words32[i+j]:rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);var _e=(0,_tslib.__read)(fk(j,b,c,d),2),f=_e[0],k=_e[1],temp=[rol32(a,5),f,e,k,w[j]].reduce(add32);_a=(0,_tslib.__read)([d,c,rol32(b,30),a,temp],5),e=_a[0],d=_a[1],c=_a[2],b=_a[3],a=_a[4]}_b=(0,_tslib.__read)([add32(a,h0),add32(b,h1),add32(c,h2),add32(d,h3),add32(e,h4)],5),a=_b[0],b=_b[1],c=_b[2],d=_b[3],e=_b[4]}return function(str){for(var hex="",i=0;i<str.length;i++){var b=byteAt(str,i);hex+=(b>>>4).toString(16)+(15&b).toString(16)}return hex.toLowerCase()}(words32ToByteString([a,b,c,d,e]))}((nodes=message.nodes,nodes.map(function(a){return a.visit(serializerVisitor,null)})).join("")+"["+message.meaning+"]");var nodes}function decimalDigest(message){if(message.id)return message.id;var visitor=new _SerializerIgnoreIcuExpVisitor;return function(msg,meaning){var _a,_b=(0,_tslib.__read)(fingerprint(msg),2),hi=_b[0],lo=_b[1];if(meaning){var _c=(0,_tslib.__read)(fingerprint(meaning),2),him=_c[0],lom=_c[1];_a=(0,_tslib.__read)(function(_a,_b){var _c=(0,_tslib.__read)(_a,2),ah=_c[0],al=_c[1],_d=(0,_tslib.__read)(_b,2),bh=_d[0],bl=_d[1],_e=(0,_tslib.__read)(add32to64(al,bl),2),carry=_e[0],l=_e[1];return[add32(add32(ah,bh),carry),l]}(function(_a,count){var _b=(0,_tslib.__read)(_a,2),hi=_b[0],lo=_b[1];return[hi<<count|lo>>>32-count,lo<<count|hi>>>32-count]}([hi,lo],1),[him,lom]),2),hi=_a[0],lo=_a[1]}return function(str){for(var decimal="",toThePower="1",i=str.length-1;i>=0;i--)decimal=addBigInt(decimal,numberTimesBigInt(byteAt(str,i),toThePower)),toThePower=numberTimesBigInt(256,toThePower);return decimal.split("").reverse().join("")}(words32ToByteString([2147483647&hi,lo]))}(message.nodes.map(function(a){return a.visit(visitor,null)}).join(""),message.meaning)}var _SerializerVisitor=function(){function _SerializerVisitor(){}return _SerializerVisitor.prototype.visitText=function(text,context){return text.value},_SerializerVisitor.prototype.visitContainer=function(container,context){var _this=this;return"["+container.children.map(function(child){return child.visit(_this)}).join(", ")+"]"},_SerializerVisitor.prototype.visitIcu=function(icu,context){var _this=this,strCases=Object.keys(icu.cases).map(function(k){return k+" {"+icu.cases[k].visit(_this)+"}"});return"{"+icu.expression+", "+icu.type+", "+strCases.join(", ")+"}"},_SerializerVisitor.prototype.visitTagPlaceholder=function(ph,context){var _this=this;return ph.isVoid?'<ph tag name="'+ph.startName+'"/>':'<ph tag name="'+ph.startName+'">'+ph.children.map(function(child){return child.visit(_this)}).join(", ")+'</ph name="'+ph.closeName+'">'},_SerializerVisitor.prototype.visitPlaceholder=function(ph,context){return ph.value?'<ph name="'+ph.name+'">'+ph.value+"</ph>":'<ph name="'+ph.name+'"/>'},_SerializerVisitor.prototype.visitIcuPlaceholder=function(ph,context){return'<ph icu name="'+ph.name+'">'+ph.value.visit(this)+"</ph>"},_SerializerVisitor}(),serializerVisitor=new _SerializerVisitor;var Endian,_SerializerIgnoreIcuExpVisitor=function(_super){function _SerializerIgnoreIcuExpVisitor(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(_SerializerIgnoreIcuExpVisitor,_super),_SerializerIgnoreIcuExpVisitor.prototype.visitIcu=function(icu,context){var _this=this,strCases=Object.keys(icu.cases).map(function(k){return k+" {"+icu.cases[k].visit(_this)+"}"});return"{"+icu.type+", "+strCases.join(", ")+"}"},_SerializerIgnoreIcuExpVisitor}(_SerializerVisitor);function fk(index,b,c,d){return index<20?[b&c|~b&d,1518500249]:index<40?[b^c^d,1859775393]:index<60?[b&c|b&d|c&d,2400959708]:[b^c^d,3395469782]}function fingerprint(str){var utf8=utf8Encode(str),_a=(0,_tslib.__read)([hash32(utf8,0),hash32(utf8,102072)],2),hi=_a[0],lo=_a[1];return 0!=hi||0!=lo&&1!=lo||(hi^=319790063,lo^=-1801410264),[hi,lo]}function hash32(str,c){var _a,i,_b=(0,_tslib.__read)([2654435769,2654435769],2),a=_b[0],b=_b[1],len=str.length;for(i=0;i+12<=len;i+=12)a=add32(a,wordAt(str,i,Endian.Little)),b=add32(b,wordAt(str,i+4,Endian.Little)),c=add32(c,wordAt(str,i+8,Endian.Little)),a=(_a=(0,_tslib.__read)(mix([a,b,c]),3))[0],b=_a[1],c=_a[2];return mix([a=add32(a,wordAt(str,i,Endian.Little)),b=add32(b,wordAt(str,i+4,Endian.Little)),c=add32(c=add32(c,len),wordAt(str,i+8,Endian.Little)<<8)])[2]}function mix(_a){var _b=(0,_tslib.__read)(_a,3),a=_b[0],b=_b[1],c=_b[2];return a=sub32(a=sub32(a,b),c),a^=c>>>13,b=sub32(b=sub32(b,c),a),b^=a<<8,c=sub32(c=sub32(c,a),b),c^=b>>>13,a=sub32(a=sub32(a,b),c),a^=c>>>12,b=sub32(b=sub32(b,c),a),b^=a<<16,c=sub32(c=sub32(c,a),b),c^=b>>>5,a=sub32(a=sub32(a,b),c),a^=c>>>3,b=sub32(b=sub32(b,c),a),b^=a<<10,c=sub32(c=sub32(c,a),b),[a,b,c^=b>>>15]}function add32(a,b){return add32to64(a,b)[1]}function add32to64(a,b){var low=(65535&a)+(65535&b),high=(a>>>16)+(b>>>16)+(low>>>16);return[high>>>16,high<<16|65535&low]}function sub32(a,b){var low=(65535&a)-(65535&b);return(a>>16)-(b>>16)+(low>>16)<<16|65535&low}function rol32(a,count){return a<<count|a>>>32-count}function byteAt(str,index){return index>=str.length?0:255&str.charCodeAt(index)}function wordAt(str,index,endian){var word=0;if(endian===Endian.Big)for(var i=0;i<4;i++)word+=byteAt(str,index+i)<<24-8*i;else for(i=0;i<4;i++)word+=byteAt(str,index+i)<<8*i;return word}function words32ToByteString(words32){return words32.reduce(function(str,word){return str+function(word){for(var str="",i=0;i<4;i++)str+=String.fromCharCode(word>>>8*(3-i)&255);return str}(word)},"")}function addBigInt(x,y){for(var sum="",len=Math.max(x.length,y.length),i=0,carry=0;i<len||carry;i++){var tmpSum=carry+ +(x[i]||0)+ +(y[i]||0);tmpSum>=10?(carry=1,sum+=tmpSum-10):(carry=0,sum+=tmpSum)}return sum}function numberTimesBigInt(num,b){for(var product="",bToThePower=b;0!==num;num>>>=1)1&num&&(product=addBigInt(product,bToThePower)),bToThePower=addBigInt(bToThePower,bToThePower);return product}!function(Endian){Endian[Endian.Little=0]="Little",Endian[Endian.Big=1]="Big"}(Endian||(Endian={}));var Serializer=function(){function Serializer(){}return Serializer.prototype.createNameMapper=function(message){return null},Serializer}();exports.Serializer=Serializer;var SimplePlaceholderMapper=function(_super){function SimplePlaceholderMapper(message,mapName){var _this=_super.call(this)||this;return _this.mapName=mapName,_this.internalToPublic={},_this.publicToNextId={},_this.publicToInternal={},message.nodes.forEach(function(node){return node.visit(_this)}),_this}return(0,_tslib.__extends)(SimplePlaceholderMapper,_super),SimplePlaceholderMapper.prototype.toPublicName=function(internalName){return this.internalToPublic.hasOwnProperty(internalName)?this.internalToPublic[internalName]:null},SimplePlaceholderMapper.prototype.toInternalName=function(publicName){return this.publicToInternal.hasOwnProperty(publicName)?this.publicToInternal[publicName]:null},SimplePlaceholderMapper.prototype.visitText=function(text,context){return null},SimplePlaceholderMapper.prototype.visitTagPlaceholder=function(ph,context){this.visitPlaceholderName(ph.startName),_super.prototype.visitTagPlaceholder.call(this,ph,context),this.visitPlaceholderName(ph.closeName)},SimplePlaceholderMapper.prototype.visitPlaceholder=function(ph,context){this.visitPlaceholderName(ph.name)},SimplePlaceholderMapper.prototype.visitIcuPlaceholder=function(ph,context){this.visitPlaceholderName(ph.name)},SimplePlaceholderMapper.prototype.visitPlaceholderName=function(internalName){if(internalName&&!this.internalToPublic.hasOwnProperty(internalName)){var publicName=this.mapName(internalName);if(this.publicToInternal.hasOwnProperty(publicName)){var nextId=this.publicToNextId[publicName];this.publicToNextId[publicName]=nextId+1,publicName=publicName+"_"+nextId}else this.publicToNextId[publicName]=1;this.internalToPublic[internalName]=publicName,this.publicToInternal[publicName]=internalName}},SimplePlaceholderMapper}(RecurseVisitor),_visitor=new(function(){function _Visitor(){}return _Visitor.prototype.visitTag=function(tag){var _this=this,strAttrs=this._serializeAttributes(tag.attrs);if(0==tag.children.length)return"<"+tag.name+strAttrs+"/>";var strChildren=tag.children.map(function(node){return node.visit(_this)});return"<"+tag.name+strAttrs+">"+strChildren.join("")+"</"+tag.name+">"},_Visitor.prototype.visitText=function(text){return text.value},_Visitor.prototype.visitDeclaration=function(decl){return"<?xml"+this._serializeAttributes(decl.attrs)+" ?>"},_Visitor.prototype._serializeAttributes=function(attrs){var strAttrs=Object.keys(attrs).map(function(name){return name+'="'+attrs[name]+'"'}).join(" ");return strAttrs.length>0?" "+strAttrs:""},_Visitor.prototype.visitDoctype=function(doctype){return"<!DOCTYPE "+doctype.rootTag+" [\n"+doctype.dtd+"\n]>"},_Visitor}());function serialize(nodes){return nodes.map(function(node){return node.visit(_visitor)}).join("")}var Declaration=function(){function Declaration(unescapedAttrs){var _this=this;this.attrs={},Object.keys(unescapedAttrs).forEach(function(k){_this.attrs[k]=escapeXml(unescapedAttrs[k])})}return Declaration.prototype.visit=function(visitor){return visitor.visitDeclaration(this)},Declaration}(),Doctype=function(){function Doctype(rootTag,dtd){this.rootTag=rootTag,this.dtd=dtd}return Doctype.prototype.visit=function(visitor){return visitor.visitDoctype(this)},Doctype}(),Tag=function(){function Tag(name,unescapedAttrs,children){var _this=this;void 0===unescapedAttrs&&(unescapedAttrs={}),void 0===children&&(children=[]),this.name=name,this.children=children,this.attrs={},Object.keys(unescapedAttrs).forEach(function(k){_this.attrs[k]=escapeXml(unescapedAttrs[k])})}return Tag.prototype.visit=function(visitor){return visitor.visitTag(this)},Tag}(),Text$2=function(){function Text(unescapedValue){this.value=escapeXml(unescapedValue)}return Text.prototype.visit=function(visitor){return visitor.visitText(this)},Text}(),CR=function(_super){function CR(ws){return void 0===ws&&(ws=0),_super.call(this,"\n"+new Array(ws+1).join(" "))||this}return(0,_tslib.__extends)(CR,_super),CR}(Text$2),_ESCAPED_CHARS=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function escapeXml(text){return _ESCAPED_CHARS.reduce(function(text,entry){return text.replace(entry[0],entry[1])},text)}var Xmb=function(_super){function Xmb(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(Xmb,_super),Xmb.prototype.write=function(messages,locale){var exampleVisitor=new ExampleVisitor,visitor=new _Visitor$1,rootNode=new Tag("messagebundle");return messages.forEach(function(message){var attrs={id:message.id};message.description&&(attrs.desc=message.description),message.meaning&&(attrs.meaning=message.meaning);var sourceTags=[];message.sources.forEach(function(source){sourceTags.push(new Tag("source",{},[new Text$2(source.filePath+":"+source.startLine+(source.endLine!==source.startLine?","+source.endLine:""))]))}),rootNode.children.push(new CR(2),new Tag("msg",attrs,(0,_tslib.__spread)(sourceTags,visitor.serialize(message.nodes))))}),rootNode.children.push(new CR),serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,new Doctype("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new CR,exampleVisitor.addDefaultExamples(rootNode),new CR])},Xmb.prototype.load=function(content,url){throw new Error("Unsupported")},Xmb.prototype.digest=function(message){return digest$1(message)},Xmb.prototype.createNameMapper=function(message){return new SimplePlaceholderMapper(message,toPublicName)},Xmb}(Serializer);exports.Xmb=Xmb;var _Visitor$1=function(){function _Visitor(){}return _Visitor.prototype.visitText=function(text,context){return[new Text$2(text.value)]},_Visitor.prototype.visitContainer=function(container,context){var _this=this,nodes=[];return container.children.forEach(function(node){return nodes.push.apply(nodes,(0,_tslib.__spread)(node.visit(_this)))}),nodes},_Visitor.prototype.visitIcu=function(icu,context){var _this=this,nodes=[new Text$2("{"+icu.expressionPlaceholder+", "+icu.type+", ")];return Object.keys(icu.cases).forEach(function(c){nodes.push.apply(nodes,(0,_tslib.__spread)([new Text$2(c+" {")],icu.cases[c].visit(_this),[new Text$2("} ")]))}),nodes.push(new Text$2("}")),nodes},_Visitor.prototype.visitTagPlaceholder=function(ph,context){var startTagAsText=new Text$2("<"+ph.tag+">"),startEx=new Tag("ex",{},[startTagAsText]),startTagPh=new Tag("ph",{name:ph.startName},[startEx,startTagAsText]);if(ph.isVoid)return[startTagPh];var closeTagAsText=new Text$2("</"+ph.tag+">"),closeEx=new Tag("ex",{},[closeTagAsText]),closeTagPh=new Tag("ph",{name:ph.closeName},[closeEx,closeTagAsText]);return(0,_tslib.__spread)([startTagPh],this.serialize(ph.children),[closeTagPh])},_Visitor.prototype.visitPlaceholder=function(ph,context){var interpolationAsText=new Text$2("{{"+ph.value+"}}"),exTag=new Tag("ex",{},[interpolationAsText]);return[new Tag("ph",{name:ph.name},[exTag,interpolationAsText])]},_Visitor.prototype.visitIcuPlaceholder=function(ph,context){var icuExpression=ph.value.expression,icuType=ph.value.type,icuCases=Object.keys(ph.value.cases).map(function(value){return value+" {...}"}).join(" "),icuAsText=new Text$2("{"+icuExpression+", "+icuType+", "+icuCases+"}"),exTag=new Tag("ex",{},[icuAsText]);return[new Tag("ph",{name:ph.name},[exTag,icuAsText])]},_Visitor.prototype.serialize=function(nodes){var _this=this;return[].concat.apply([],(0,_tslib.__spread)(nodes.map(function(node){return node.visit(_this)})))},_Visitor}();function digest$1(message){return decimalDigest(message)}var ExampleVisitor=function(){function ExampleVisitor(){}return ExampleVisitor.prototype.addDefaultExamples=function(node){return node.visit(this),node},ExampleVisitor.prototype.visitTag=function(tag){var _this=this;if("ph"===tag.name){if(!tag.children||0==tag.children.length){var exText=new Text$2(tag.attrs.name||"...");tag.children=[new Tag("ex",{},[exText])]}}else tag.children&&tag.children.forEach(function(node){return node.visit(_this)})},ExampleVisitor.prototype.visitText=function(text){},ExampleVisitor.prototype.visitDeclaration=function(decl){},ExampleVisitor.prototype.visitDoctype=function(doctype){},ExampleVisitor}();function toPublicName(internalName){return internalName.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function mapLiteral(obj,quoted){return void 0===quoted&&(quoted=!1),literalMap(Object.keys(obj).map(function(key){return{key:key,quoted:quoted,value:obj[key]}}))}var CLOSURE_TRANSLATION_PREFIX="MSG_",GOOG_GET_MSG="goog.getMsg",NG_I18N_CLOSURE_MODE="ngI18nClosureMode",I18N_MEANING_SEPARATOR="|",I18N_ID_SEPARATOR="@@",I18N_ATTR="i18n",I18N_ATTR_PREFIX="i18n-",I18N_PLACEHOLDER_SYMBOL="";function i18nTranslationToDeclStmt(variable$1,closureVar,message,meta,params){var statements=[];statements.push(new DeclareVarStmt(variable$1.name,void 0,INFERRED_TYPE,null,variable$1.sourceSpan));var args=[literal(message)];params&&Object.keys(params).length&&args.push(mapLiteral(params,!0));var docStatements=function(meta){var tags=[];meta.description&&tags.push({tagName:"desc",text:meta.description});meta.meaning&&tags.push({tagName:"meaning",text:meta.meaning});return 0==tags.length?null:new JSDocCommentStmt(tags)}(meta),thenStatements=docStatements?[docStatements]:[],googFnCall=variable(GOOG_GET_MSG).callFn(args);thenStatements.push(closureVar.set(googFnCall).toConstDecl()),thenStatements.push(new ExpressionStatement(variable$1.set(closureVar)));var localizeFnCall=importExpr(Identifiers$1.i18nLocalize).callFn(args),elseStatements=[new ExpressionStatement(variable$1.set(localizeFnCall))];return statements.push(ifStmt(variable(NG_I18N_CLOSURE_MODE),thenStatements,elseStatements)),statements}function isI18nAttribute(name){return name===I18N_ATTR||name.startsWith(I18N_ATTR_PREFIX)}function isI18nRootNode(meta){return meta instanceof Message}function isSingleI18nIcu(meta){return isI18nRootNode(meta)&&1===meta.nodes.length&&meta.nodes[0]instanceof Icu$1}function metaFromI18nMessage(message,id){return void 0===id&&(id=null),{id:"string"==typeof id?id:message.id||"",meaning:message.meaning||"",description:message.description||""}}function icuFromI18nMessage(message){return message.nodes[0]}function wrapI18nPlaceholder(content,contextId){return void 0===contextId&&(contextId=0),""+I18N_PLACEHOLDER_SYMBOL+content+(contextId>0?":"+contextId:"")+I18N_PLACEHOLDER_SYMBOL}function placeholdersToParams(placeholders){var params={};return placeholders.forEach(function(values,key){params[key]=literal(values.length>1?"["+values.join("|")+"]":values[0])}),params}function updatePlaceholderMap(map,name){for(var values=[],_i=2;_i<arguments.length;_i++)values[_i-2]=arguments[_i];var current=map.get(name)||[];current.push.apply(current,(0,_tslib.__spread)(values)),map.set(name,current)}function assembleBoundTextPlaceholders(meta,bindingStartIndex,contextId){void 0===bindingStartIndex&&(bindingStartIndex=0),void 0===contextId&&(contextId=0);var startIdx=bindingStartIndex,placeholders=new Map,node=meta instanceof Message?meta.nodes.find(function(node){return node instanceof Container}):meta;return node&&node.children.filter(function(child){return child instanceof Placeholder}).forEach(function(child,idx){var content=wrapI18nPlaceholder(startIdx+idx,contextId);updatePlaceholderMap(placeholders,child.name,content)}),placeholders}function formatI18nPlaceholderName(name,useCamelCase){void 0===useCamelCase&&(useCamelCase=!0);var publicName=toPublicName(name);if(!useCamelCase)return publicName;var postfix,chunks=publicName.split("_");if(1===chunks.length)return name.toLowerCase();/^\d+$/.test(chunks[chunks.length-1])&&(postfix=chunks.pop());var raw=chunks.shift().toLowerCase();return chunks.length&&(raw+=chunks.map(function(c){return c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()}).join("")),postfix?raw+"_"+postfix:raw}function getTranslationConstPrefix(extra){return(""+CLOSURE_TRANSLATION_PREFIX+extra).toUpperCase()}var UNSAFE_OBJECT_KEY_NAME_REGEXP=/[-.]/,TEMPORARY_NAME="_t",CONTEXT_NAME="ctx",RENDER_FLAGS="rf";function temporaryAllocator(statements,name){var temp=null;return function(){return temp||(statements.push(new DeclareVarStmt(TEMPORARY_NAME,void 0,DYNAMIC_TYPE)),temp=variable(name)),temp}}function unsupported(feature){if(this)throw new Error("Builder "+this.constructor.name+" doesn't support "+feature+" yet");throw new Error("Feature "+feature+" is not supported yet")}function invalid$1(arg){throw new Error("Invalid state: Visitor "+this.constructor.name+" doesn't handle "+arg.constructor.name)}function asLiteral(value){return Array.isArray(value)?literalArr(value.map(asLiteral)):literal(value,INFERRED_TYPE)}function conditionallyCreateMapObjectLiteral(keys,keepDeclared){return Object.getOwnPropertyNames(keys).length>0?function(map,keepDeclared){return literalMap(Object.getOwnPropertyNames(map).map(function(key){var _a,_b,declaredName,publicName,minifiedName,value=map[key];return Array.isArray(value)?(_a=(0,_tslib.__read)(value,2),publicName=_a[0],declaredName=_a[1]):(_b=(0,_tslib.__read)(splitAtColon(key,[key,value]),2),declaredName=_b[0],publicName=_b[1]),{key:minifiedName=declaredName,quoted:UNSAFE_OBJECT_KEY_NAME_REGEXP.test(minifiedName),value:keepDeclared&&publicName!==declaredName?literalArr([asLiteral(publicName),asLiteral(declaredName)]):asLiteral(publicName)}}))}(keys,keepDeclared):null}function trimTrailingNulls(parameters){for(;(exp=parameters[parameters.length-1])instanceof LiteralExpr&&null===exp.value;)parameters.pop();var exp;return parameters}var R3FactoryDelegateType,R3ResolvedDependencyType,DefinitionMap=function(){function DefinitionMap(){this.values=[]}return DefinitionMap.prototype.set=function(key,value){value&&this.values.push({key:key,value:value,quoted:!1})},DefinitionMap.prototype.toLiteralMap=function(){return literalMap(this.values)},DefinitionMap}();function getAttrsForDirectiveMatching(elOrTpl){var attributesMap={};return elOrTpl instanceof Template&&"ng-template"!==elOrTpl.tagName?elOrTpl.templateAttrs.forEach(function(a){return attributesMap[a.name]=""}):(elOrTpl.attributes.forEach(function(a){isI18nAttribute(a.name)||(attributesMap[a.name]=a.value)}),elOrTpl.inputs.forEach(function(i){attributesMap[i.name]=""}),elOrTpl.outputs.forEach(function(o){attributesMap[o.name]=""})),attributesMap}function chainedInstruction(reference,calls,span){var expression=importExpr(reference,null,span);if(calls.length>0)for(var i=0;i<calls.length;i++)expression=expression.callFn(calls[i],span);else expression=expression.callFn([],span);return expression}function getInterpolationArgsLength(interpolation){var expressions=interpolation.expressions,strings=interpolation.strings;return 1===expressions.length&&2===strings.length&&""===strings[0]&&""===strings[1]?1:expressions.length+strings.length}function compileFactoryFunction(meta,isPipe){void 0===isPipe&&(isPipe=!1);var t=variable("t"),statements=[],typeForCtor=isDelegatedMetadata(meta)?t:new BinaryOperatorExpr(BinaryOperator.Or,t,meta.type),ctorExpr=null;if(null!==meta.deps)"invalid"!==meta.deps&&(ctorExpr=new InstantiateExpr(typeForCtor,injectDependencies(meta.deps,meta.injectFn,isPipe)));else{var baseFactory=variable(""+meta.name+"_BaseFactory"),getInheritedFactory=importExpr(Identifiers$1.getInheritedFactory),baseFactoryStmt=baseFactory.set(getInheritedFactory.callFn([meta.type])).toDeclStmt(INFERRED_TYPE,[StmtModifier.Exported,StmtModifier.Final]);statements.push(baseFactoryStmt),ctorExpr=baseFactory.callFn([typeForCtor])}var ctorExprFinal=ctorExpr,body=[],retExpr=null;function makeConditionalFactory(nonCtorExpr){var r=variable("r");body.push(r.set(NULL_EXPR).toDeclStmt());var ctorStmt=null;return ctorStmt=null!==ctorExprFinal?r.set(ctorExprFinal).toStmt():makeErrorStmt(meta.name),body.push(ifStmt(t,[ctorStmt],[r.set(nonCtorExpr).toStmt()])),r}if(isDelegatedMetadata(meta)&&meta.delegateType===R3FactoryDelegateType.Factory){var delegateFactory=variable(""+meta.name+"_BaseFactory"),getFactoryOf=importExpr(Identifiers$1.getFactoryOf);if(meta.delegate.isEquivalent(meta.type))throw new Error("Illegal state: compiling factory that delegates to itself");var delegateFactoryStmt=delegateFactory.set(getFactoryOf.callFn([meta.delegate])).toDeclStmt(INFERRED_TYPE,[StmtModifier.Exported,StmtModifier.Final]);statements.push(delegateFactoryStmt),retExpr=makeConditionalFactory(delegateFactory.callFn([]))}else if(isDelegatedMetadata(meta)){var delegateArgs=injectDependencies(meta.delegateDeps,meta.injectFn,isPipe);retExpr=makeConditionalFactory(new(meta.delegateType===R3FactoryDelegateType.Class?InstantiateExpr:InvokeFunctionExpr)(meta.delegate,delegateArgs))}else retExpr=function(meta){return void 0!==meta.expression}(meta)?makeConditionalFactory(meta.expression):ctorExpr;return null!==retExpr?body.push(new ReturnStatement(retExpr)):body.push(makeErrorStmt(meta.name)),{factory:fn([new FnParam("t",DYNAMIC_TYPE)],body,INFERRED_TYPE,void 0,meta.name+"_Factory"),statements:statements}}function injectDependencies(deps,injectFn,isPipe){return deps.map(function(dep){return function(dep,injectFn,isPipe){switch(dep.resolved){case R3ResolvedDependencyType.Token:case R3ResolvedDependencyType.ChangeDetectorRef:var flags=0|(dep.self?2:0)|(dep.skipSelf?4:0)|(dep.host?1:0)|(dep.optional?8:0),flagsParam=0!==flags||dep.optional?literal(flags):null;if(isPipe&&dep.resolved===R3ResolvedDependencyType.ChangeDetectorRef)return importExpr(Identifiers$1.injectPipeChangeDetectorRef).callFn(flagsParam?[flagsParam]:[]);var injectArgs=[dep.token];return flagsParam&&injectArgs.push(flagsParam),importExpr(injectFn).callFn(injectArgs);case R3ResolvedDependencyType.Attribute:return importExpr(Identifiers$1.injectAttribute).callFn([dep.token]);default:return unsupported("Unknown R3ResolvedDependencyType: "+R3ResolvedDependencyType[dep.resolved])}}(dep,injectFn,isPipe)})}function makeErrorStmt(name){return new ThrowStmt(new InstantiateExpr(new ReadVarExpr("Error"),[literal(name+" has a constructor which is not compatible with Dependency Injection. It should probably not be @Injectable().")]))}function isDelegatedMetadata(meta){return void 0!==meta.delegateType}function mapToMapExpression(map){return literalMap(Object.keys(map).map(function(key){return{key:key,value:map[key],quoted:!1}}))}function convertMetaToOutput(meta,ctx){if(Array.isArray(meta))return literalArr(meta.map(function(entry){return convertMetaToOutput(entry,ctx)}));if(meta instanceof StaticSymbol)return ctx.importExpr(meta);if(null==meta)return literal(meta);throw new Error("Internal error: Unsupported or unknown metadata: "+meta)}function typeWithParameters(type,numParams){var params=null;if(numParams>0){params=[];for(var i=0;i<numParams;i++)params.push(DYNAMIC_TYPE)}return expressionType(type,null,params)}!function(R3FactoryDelegateType){R3FactoryDelegateType[R3FactoryDelegateType.Class=0]="Class",R3FactoryDelegateType[R3FactoryDelegateType.Function=1]="Function",R3FactoryDelegateType[R3FactoryDelegateType.Factory=2]="Factory"}(R3FactoryDelegateType||(R3FactoryDelegateType={})),exports.R3ResolvedDependencyType=R3ResolvedDependencyType,function(R3ResolvedDependencyType){R3ResolvedDependencyType[R3ResolvedDependencyType.Token=0]="Token",R3ResolvedDependencyType[R3ResolvedDependencyType.Attribute=1]="Attribute",R3ResolvedDependencyType[R3ResolvedDependencyType.ChangeDetectorRef=2]="ChangeDetectorRef"}(R3ResolvedDependencyType||(exports.R3ResolvedDependencyType=R3ResolvedDependencyType={}));var ANIMATE_SYMBOL_PREFIX="@";function prepareSyntheticPropertyName(name){return""+ANIMATE_SYMBOL_PREFIX+name}function prepareSyntheticListenerFunctionName(name,phase){return"animation_"+name+"_"+phase}function compileInjectable(meta){var result=null,factoryMeta={name:meta.name,type:meta.type,deps:meta.ctorDeps,injectFn:Identifiers.inject};if(void 0!==meta.useClass){var useClassOnSelf=meta.useClass.isEquivalent(meta.type),deps=void 0;void 0!==meta.userDeps&&(deps=meta.userDeps),result=compileFactoryFunction(void 0!==deps?(0,_tslib.__assign)({},factoryMeta,{delegate:meta.useClass,delegateDeps:deps,delegateType:R3FactoryDelegateType.Class}):useClassOnSelf?factoryMeta:(0,_tslib.__assign)({},factoryMeta,{delegate:meta.useClass,delegateType:R3FactoryDelegateType.Factory}))}else result=void 0!==meta.useFactory?compileFactoryFunction((0,_tslib.__assign)({},factoryMeta,{delegate:meta.useFactory,delegateDeps:meta.userDeps||[],delegateType:R3FactoryDelegateType.Function})):void 0!==meta.useValue?compileFactoryFunction((0,_tslib.__assign)({},factoryMeta,{expression:meta.useValue})):void 0!==meta.useExisting?compileFactoryFunction((0,_tslib.__assign)({},factoryMeta,{expression:importExpr(Identifiers.inject).callFn([meta.useExisting])})):compileFactoryFunction(factoryMeta);var token=meta.type,providedIn=meta.providedIn;return{expression:importExpr(Identifiers.defineInjectable).callFn([mapToMapExpression({token:token,factory:result.factory,providedIn:providedIn})]),type:new ExpressionType(importExpr(Identifiers.InjectableDef,[typeWithParameters(meta.type,meta.typeArgumentCount)])),statements:result.statements}}function assertArrayOfStrings(identifier,value){if(null!=value){if(!Array.isArray(value))throw new Error("Expected '"+identifier+"' to be an array of strings.");for(var i=0;i<value.length;i+=1)if("string"!=typeof value[i])throw new Error("Expected '"+identifier+"' to be an array of strings.")}}var UNUSABLE_INTERPOLATION_REGEXPS=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function assertInterpolationSymbols(identifier,value){if(!(null==value||Array.isArray(value)&&2==value.length))throw new Error("Expected '"+identifier+"' to be an array, [start, end].");if(null!=value){var start_1=value[0],end_1=value[1];UNUSABLE_INTERPOLATION_REGEXPS.forEach(function(regexp){if(regexp.test(start_1)||regexp.test(end_1))throw new Error("['"+start_1+"', '"+end_1+"'] contains unusable interpolation symbol.")})}}var InterpolationConfig=function(){function InterpolationConfig(start,end){this.start=start,this.end=end}return InterpolationConfig.fromArray=function(markers){return markers?(assertInterpolationSymbols("interpolation",markers),new InterpolationConfig(markers[0],markers[1])):DEFAULT_INTERPOLATION_CONFIG},InterpolationConfig}();exports.InterpolationConfig=InterpolationConfig;var DEFAULT_INTERPOLATION_CONFIG=new InterpolationConfig("{{","}}");exports.DEFAULT_INTERPOLATION_CONFIG=DEFAULT_INTERPOLATION_CONFIG;var SourceMapGenerator=function(){function SourceMapGenerator(file){void 0===file&&(file=null),this.file=file,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}return SourceMapGenerator.prototype.addSource=function(url,content){return void 0===content&&(content=null),this.sourcesContent.has(url)||this.sourcesContent.set(url,content),this},SourceMapGenerator.prototype.addLine=function(){return this.lines.push([]),this.lastCol0=0,this},SourceMapGenerator.prototype.addMapping=function(col0,sourceUrl,sourceLine0,sourceCol0){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=sourceUrl&&!this.sourcesContent.has(sourceUrl))throw new Error('Unknown source file "'+sourceUrl+'"');if(null==col0)throw new Error("The column in the generated code must be provided");if(col0<this.lastCol0)throw new Error("Mapping should be added in output order");if(sourceUrl&&(null==sourceLine0||null==sourceCol0))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=col0,this.currentLine.push({col0:col0,sourceUrl:sourceUrl,sourceLine0:sourceLine0,sourceCol0:sourceCol0}),this},Object.defineProperty(SourceMapGenerator.prototype,"currentLine",{get:function(){return this.lines.slice(-1)[0]},enumerable:!0,configurable:!0}),SourceMapGenerator.prototype.toJSON=function(){var _this=this;if(!this.hasMappings)return null;var sourcesIndex=new Map,sources=[],sourcesContent=[];Array.from(this.sourcesContent.keys()).forEach(function(url,i){sourcesIndex.set(url,i),sources.push(url),sourcesContent.push(_this.sourcesContent.get(url)||null)});var mappings="",lastCol0=0,lastSourceIndex=0,lastSourceLine0=0,lastSourceCol0=0;return this.lines.forEach(function(segments){lastCol0=0,mappings+=segments.map(function(segment){var segAsStr=toBase64VLQ(segment.col0-lastCol0);return lastCol0=segment.col0,null!=segment.sourceUrl&&(segAsStr+=toBase64VLQ(sourcesIndex.get(segment.sourceUrl)-lastSourceIndex),lastSourceIndex=sourcesIndex.get(segment.sourceUrl),segAsStr+=toBase64VLQ(segment.sourceLine0-lastSourceLine0),lastSourceLine0=segment.sourceLine0,segAsStr+=toBase64VLQ(segment.sourceCol0-lastSourceCol0),lastSourceCol0=segment.sourceCol0),segAsStr}).join(","),mappings+=";"}),mappings=mappings.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:sources,sourcesContent:sourcesContent,mappings:mappings}},SourceMapGenerator.prototype.toJsComment=function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(value){var b64="";value=utf8Encode(value);for(var i=0;i<value.length;){var i1=value.charCodeAt(i++),i2=value.charCodeAt(i++),i3=value.charCodeAt(i++);b64+=toBase64Digit(i1>>2),b64+=toBase64Digit((3&i1)<<4|(isNaN(i2)?0:i2>>4)),b64+=isNaN(i2)?"=":toBase64Digit((15&i2)<<2|i3>>6),b64+=isNaN(i2)||isNaN(i3)?"=":toBase64Digit(63&i3)}return b64}(JSON.stringify(this,null,0)):""},SourceMapGenerator}();function toBase64VLQ(value){value=value<0?1+(-value<<1):value<<1;var out="";do{var digit=31&value;(value>>=5)>0&&(digit|=32),out+=toBase64Digit(digit)}while(value>0);return out}var B64_DIGITS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function toBase64Digit(value){if(value<0||value>=64)throw new Error("Can only encode value in the range [0, 63]");return B64_DIGITS[value]}var _SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g,_LEGAL_IDENTIFIER_RE=/^[$A-Z_][0-9A-Z_$]*$/i,_INDENT_WITH="  ",CATCH_ERROR_VAR$1=variable("error",null,null),CATCH_STACK_VAR$1=variable("stack",null,null),_EmittedLine=function(){return function(indent){this.indent=indent,this.partsLength=0,this.parts=[],this.srcSpans=[]}}(),EmitterVisitorContext=function(){function EmitterVisitorContext(_indent){this._indent=_indent,this._classes=[],this._preambleLineCount=0,this._lines=[new _EmittedLine(_indent)]}return EmitterVisitorContext.createRoot=function(){return new EmitterVisitorContext(0)},Object.defineProperty(EmitterVisitorContext.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.println=function(from,lastPart){void 0===lastPart&&(lastPart=""),this.print(from||null,lastPart,!0)},EmitterVisitorContext.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},EmitterVisitorContext.prototype.lineLength=function(){return this._currentLine.indent*_INDENT_WITH.length+this._currentLine.partsLength},EmitterVisitorContext.prototype.print=function(from,part,newLine){void 0===newLine&&(newLine=!1),part.length>0&&(this._currentLine.parts.push(part),this._currentLine.partsLength+=part.length,this._currentLine.srcSpans.push(from&&from.sourceSpan||null)),newLine&&this._lines.push(new _EmittedLine(this._indent))},EmitterVisitorContext.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},EmitterVisitorContext.prototype.incIndent=function(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},EmitterVisitorContext.prototype.decIndent=function(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},EmitterVisitorContext.prototype.pushClass=function(clazz){this._classes.push(clazz)},EmitterVisitorContext.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(EmitterVisitorContext.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.toSource=function(){return this.sourceLines.map(function(l){return l.parts.length>0?_createIndent(l.indent)+l.parts.join(""):""}).join("\n")},EmitterVisitorContext.prototype.toSourceMapGenerator=function(genFilePath,startsAtLine){void 0===startsAtLine&&(startsAtLine=0);for(var map=new SourceMapGenerator(genFilePath),firstOffsetMapped=!1,mapFirstOffsetIfNeeded=function(){firstOffsetMapped||(map.addSource(genFilePath," ").addMapping(0,genFilePath,0,0),firstOffsetMapped=!0)},i=0;i<startsAtLine;i++)map.addLine(),mapFirstOffsetIfNeeded();return this.sourceLines.forEach(function(line,lineIdx){map.addLine();for(var spans=line.srcSpans,parts=line.parts,col0=line.indent*_INDENT_WITH.length,spanIdx=0;spanIdx<spans.length&&!spans[spanIdx];)col0+=parts[spanIdx].length,spanIdx++;for(spanIdx<spans.length&&0===lineIdx&&0===col0?firstOffsetMapped=!0:mapFirstOffsetIfNeeded();spanIdx<spans.length;){var span=spans[spanIdx],source=span.start.file,sourceLine=span.start.line,sourceCol=span.start.col;for(map.addSource(source.url,source.content).addMapping(col0,source.url,sourceLine,sourceCol),col0+=parts[spanIdx].length,spanIdx++;spanIdx<spans.length&&(span===spans[spanIdx]||!spans[spanIdx]);)col0+=parts[spanIdx].length,spanIdx++}}),map},EmitterVisitorContext.prototype.setPreambleLineCount=function(count){return this._preambleLineCount=count},EmitterVisitorContext.prototype.spanOf=function(line,column){var emittedLine=this._lines[line-this._preambleLineCount];if(emittedLine)for(var columnsLeft=column-_createIndent(emittedLine.indent).length,partIndex=0;partIndex<emittedLine.parts.length;partIndex++){var part=emittedLine.parts[partIndex];if(part.length>columnsLeft)return emittedLine.srcSpans[partIndex];columnsLeft-=part.length}return null},Object.defineProperty(EmitterVisitorContext.prototype,"sourceLines",{get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines},enumerable:!0,configurable:!0}),EmitterVisitorContext}();exports.EmitterVisitorContext=EmitterVisitorContext;var AbstractEmitterVisitor=function(){function AbstractEmitterVisitor(_escapeDollarInStrings){this._escapeDollarInStrings=_escapeDollarInStrings}return AbstractEmitterVisitor.prototype.visitExpressionStmt=function(stmt,ctx){return stmt.expr.visitExpression(this,ctx),ctx.println(stmt,";"),null},AbstractEmitterVisitor.prototype.visitReturnStmt=function(stmt,ctx){return ctx.print(stmt,"return "),stmt.value.visitExpression(this,ctx),ctx.println(stmt,";"),null},AbstractEmitterVisitor.prototype.visitIfStmt=function(stmt,ctx){ctx.print(stmt,"if ("),stmt.condition.visitExpression(this,ctx),ctx.print(stmt,") {");var hasElseCase=null!=stmt.falseCase&&stmt.falseCase.length>0;return stmt.trueCase.length<=1&&!hasElseCase?(ctx.print(stmt," "),this.visitAllStatements(stmt.trueCase,ctx),ctx.removeEmptyLastLine(),ctx.print(stmt," ")):(ctx.println(),ctx.incIndent(),this.visitAllStatements(stmt.trueCase,ctx),ctx.decIndent(),hasElseCase&&(ctx.println(stmt,"} else {"),ctx.incIndent(),this.visitAllStatements(stmt.falseCase,ctx),ctx.decIndent())),ctx.println(stmt,"}"),null},AbstractEmitterVisitor.prototype.visitThrowStmt=function(stmt,ctx){return ctx.print(stmt,"throw "),stmt.error.visitExpression(this,ctx),ctx.println(stmt,";"),null},AbstractEmitterVisitor.prototype.visitCommentStmt=function(stmt,ctx){return stmt.multiline?ctx.println(stmt,"/* "+stmt.comment+" */"):stmt.comment.split("\n").forEach(function(line){ctx.println(stmt,"// "+line)}),null},AbstractEmitterVisitor.prototype.visitJSDocCommentStmt=function(stmt,ctx){return ctx.println(stmt,"/*"+stmt.toString()+"*/"),null},AbstractEmitterVisitor.prototype.visitWriteVarExpr=function(expr,ctx){var lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print(expr,"("),ctx.print(expr,expr.name+" = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(expr,")"),null},AbstractEmitterVisitor.prototype.visitWriteKeyExpr=function(expr,ctx){var lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print(expr,"("),expr.receiver.visitExpression(this,ctx),ctx.print(expr,"["),expr.index.visitExpression(this,ctx),ctx.print(expr,"] = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(expr,")"),null},AbstractEmitterVisitor.prototype.visitWritePropExpr=function(expr,ctx){var lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print(expr,"("),expr.receiver.visitExpression(this,ctx),ctx.print(expr,"."+expr.name+" = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(expr,")"),null},AbstractEmitterVisitor.prototype.visitInvokeMethodExpr=function(expr,ctx){expr.receiver.visitExpression(this,ctx);var name=expr.name;return null!=expr.builtin&&null==(name=this.getBuiltinMethodName(expr.builtin))?null:(ctx.print(expr,"."+name+"("),this.visitAllExpressions(expr.args,ctx,","),ctx.print(expr,")"),null)},AbstractEmitterVisitor.prototype.visitInvokeFunctionExpr=function(expr,ctx){return expr.fn.visitExpression(this,ctx),ctx.print(expr,"("),this.visitAllExpressions(expr.args,ctx,","),ctx.print(expr,")"),null},AbstractEmitterVisitor.prototype.visitWrappedNodeExpr=function(ast,ctx){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")},AbstractEmitterVisitor.prototype.visitTypeofExpr=function(expr,ctx){ctx.print(expr,"typeof "),expr.expr.visitExpression(this,ctx)},AbstractEmitterVisitor.prototype.visitReadVarExpr=function(ast,ctx){var varName=ast.name;if(null!=ast.builtin)switch(ast.builtin){case BuiltinVar.Super:varName="super";break;case BuiltinVar.This:varName="this";break;case BuiltinVar.CatchError:varName=CATCH_ERROR_VAR$1.name;break;case BuiltinVar.CatchStack:varName=CATCH_STACK_VAR$1.name;break;default:throw new Error("Unknown builtin variable "+ast.builtin)}return ctx.print(ast,varName),null},AbstractEmitterVisitor.prototype.visitInstantiateExpr=function(ast,ctx){return ctx.print(ast,"new "),ast.classExpr.visitExpression(this,ctx),ctx.print(ast,"("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(ast,")"),null},AbstractEmitterVisitor.prototype.visitLiteralExpr=function(ast,ctx){var value=ast.value;return"string"==typeof value?ctx.print(ast,escapeIdentifier(value,this._escapeDollarInStrings)):ctx.print(ast,""+value),null},AbstractEmitterVisitor.prototype.visitConditionalExpr=function(ast,ctx){return ctx.print(ast,"("),ast.condition.visitExpression(this,ctx),ctx.print(ast,"? "),ast.trueCase.visitExpression(this,ctx),ctx.print(ast,": "),ast.falseCase.visitExpression(this,ctx),ctx.print(ast,")"),null},AbstractEmitterVisitor.prototype.visitNotExpr=function(ast,ctx){return ctx.print(ast,"!"),ast.condition.visitExpression(this,ctx),null},AbstractEmitterVisitor.prototype.visitAssertNotNullExpr=function(ast,ctx){return ast.condition.visitExpression(this,ctx),null},AbstractEmitterVisitor.prototype.visitBinaryOperatorExpr=function(ast,ctx){var opStr;switch(ast.operator){case BinaryOperator.Equals:opStr="==";break;case BinaryOperator.Identical:opStr="===";break;case BinaryOperator.NotEquals:opStr="!=";break;case BinaryOperator.NotIdentical:opStr="!==";break;case BinaryOperator.And:opStr="&&";break;case BinaryOperator.BitwiseAnd:opStr="&";break;case BinaryOperator.Or:opStr="||";break;case BinaryOperator.Plus:opStr="+";break;case BinaryOperator.Minus:opStr="-";break;case BinaryOperator.Divide:opStr="/";break;case BinaryOperator.Multiply:opStr="*";break;case BinaryOperator.Modulo:opStr="%";break;case BinaryOperator.Lower:opStr="<";break;case BinaryOperator.LowerEquals:opStr="<=";break;case BinaryOperator.Bigger:opStr=">";break;case BinaryOperator.BiggerEquals:opStr=">=";break;default:throw new Error("Unknown operator "+ast.operator)}return ast.parens&&ctx.print(ast,"("),ast.lhs.visitExpression(this,ctx),ctx.print(ast," "+opStr+" "),ast.rhs.visitExpression(this,ctx),ast.parens&&ctx.print(ast,")"),null},AbstractEmitterVisitor.prototype.visitReadPropExpr=function(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print(ast,"."),ctx.print(ast,ast.name),null},AbstractEmitterVisitor.prototype.visitReadKeyExpr=function(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print(ast,"["),ast.index.visitExpression(this,ctx),ctx.print(ast,"]"),null},AbstractEmitterVisitor.prototype.visitLiteralArrayExpr=function(ast,ctx){return ctx.print(ast,"["),this.visitAllExpressions(ast.entries,ctx,","),ctx.print(ast,"]"),null},AbstractEmitterVisitor.prototype.visitLiteralMapExpr=function(ast,ctx){var _this=this;return ctx.print(ast,"{"),this.visitAllObjects(function(entry){ctx.print(ast,escapeIdentifier(entry.key,_this._escapeDollarInStrings,entry.quoted)+":"),entry.value.visitExpression(_this,ctx)},ast.entries,ctx,","),ctx.print(ast,"}"),null},AbstractEmitterVisitor.prototype.visitCommaExpr=function(ast,ctx){return ctx.print(ast,"("),this.visitAllExpressions(ast.parts,ctx,","),ctx.print(ast,")"),null},AbstractEmitterVisitor.prototype.visitAllExpressions=function(expressions,ctx,separator){var _this=this;this.visitAllObjects(function(expr){return expr.visitExpression(_this,ctx)},expressions,ctx,separator)},AbstractEmitterVisitor.prototype.visitAllObjects=function(handler,expressions,ctx,separator){for(var incrementedIndent=!1,i=0;i<expressions.length;i++)i>0&&(ctx.lineLength()>80?(ctx.print(null,separator,!0),incrementedIndent||(ctx.incIndent(),ctx.incIndent(),incrementedIndent=!0)):ctx.print(null,separator,!1)),handler(expressions[i]);incrementedIndent&&(ctx.decIndent(),ctx.decIndent())},AbstractEmitterVisitor.prototype.visitAllStatements=function(statements,ctx){var _this=this;statements.forEach(function(stmt){return stmt.visitStatement(_this,ctx)})},AbstractEmitterVisitor}();function escapeIdentifier(input,escapeDollar,alwaysQuote){if(void 0===alwaysQuote&&(alwaysQuote=!0),null==input)return null;var body=input.replace(_SINGLE_QUOTE_ESCAPE_STRING_RE,function(){for(var match=[],_i=0;_i<arguments.length;_i++)match[_i]=arguments[_i];return"$"==match[0]?escapeDollar?"\\$":"$":"\n"==match[0]?"\\n":"\r"==match[0]?"\\r":"\\"+match[0]});return alwaysQuote||!_LEGAL_IDENTIFIER_RE.test(body)?"'"+body+"'":body}function _createIndent(count){for(var res="",i=0;i<count;i++)res+=_INDENT_WITH;return res}var AbstractJsEmitterVisitor=function(_super){function AbstractJsEmitterVisitor(){return _super.call(this,!1)||this}return(0,_tslib.__extends)(AbstractJsEmitterVisitor,_super),AbstractJsEmitterVisitor.prototype.visitDeclareClassStmt=function(stmt,ctx){var _this=this;return ctx.pushClass(stmt),this._visitClassConstructor(stmt,ctx),null!=stmt.parent&&(ctx.print(stmt,stmt.name+".prototype = Object.create("),stmt.parent.visitExpression(this,ctx),ctx.println(stmt,".prototype);")),stmt.getters.forEach(function(getter){return _this._visitClassGetter(stmt,getter,ctx)}),stmt.methods.forEach(function(method){return _this._visitClassMethod(stmt,method,ctx)}),ctx.popClass(),null},AbstractJsEmitterVisitor.prototype._visitClassConstructor=function(stmt,ctx){ctx.print(stmt,"function "+stmt.name+"("),null!=stmt.constructorMethod&&this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),null!=stmt.constructorMethod&&stmt.constructorMethod.body.length>0&&(ctx.println(stmt,"var self = this;"),this.visitAllStatements(stmt.constructorMethod.body,ctx)),ctx.decIndent(),ctx.println(stmt,"}")},AbstractJsEmitterVisitor.prototype._visitClassGetter=function(stmt,getter,ctx){ctx.println(stmt,"Object.defineProperty("+stmt.name+".prototype, '"+getter.name+"', { get: function() {"),ctx.incIndent(),getter.body.length>0&&(ctx.println(stmt,"var self = this;"),this.visitAllStatements(getter.body,ctx)),ctx.decIndent(),ctx.println(stmt,"}});")},AbstractJsEmitterVisitor.prototype._visitClassMethod=function(stmt,method,ctx){ctx.print(stmt,stmt.name+".prototype."+method.name+" = function("),this._visitParams(method.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),method.body.length>0&&(ctx.println(stmt,"var self = this;"),this.visitAllStatements(method.body,ctx)),ctx.decIndent(),ctx.println(stmt,"};")},AbstractJsEmitterVisitor.prototype.visitWrappedNodeExpr=function(ast,ctx){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")},AbstractJsEmitterVisitor.prototype.visitReadVarExpr=function(ast,ctx){if(ast.builtin===BuiltinVar.This)ctx.print(ast,"self");else{if(ast.builtin===BuiltinVar.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");_super.prototype.visitReadVarExpr.call(this,ast,ctx)}return null},AbstractJsEmitterVisitor.prototype.visitDeclareVarStmt=function(stmt,ctx){return ctx.print(stmt,"var "+stmt.name),stmt.value&&(ctx.print(stmt," = "),stmt.value.visitExpression(this,ctx)),ctx.println(stmt,";"),null},AbstractJsEmitterVisitor.prototype.visitCastExpr=function(ast,ctx){return ast.value.visitExpression(this,ctx),null},AbstractJsEmitterVisitor.prototype.visitInvokeFunctionExpr=function(expr,ctx){var fnExpr=expr.fn;return fnExpr instanceof ReadVarExpr&&fnExpr.builtin===BuiltinVar.Super?(ctx.currentClass.parent.visitExpression(this,ctx),ctx.print(expr,".call(this"),expr.args.length>0&&(ctx.print(expr,", "),this.visitAllExpressions(expr.args,ctx,",")),ctx.print(expr,")")):_super.prototype.visitInvokeFunctionExpr.call(this,expr,ctx),null},AbstractJsEmitterVisitor.prototype.visitFunctionExpr=function(ast,ctx){return ctx.print(ast,"function"+(ast.name?" "+ast.name:"")+"("),this._visitParams(ast.params,ctx),ctx.println(ast,") {"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print(ast,"}"),null},AbstractJsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(stmt,ctx){return ctx.print(stmt,"function "+stmt.name+"("),this._visitParams(stmt.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null},AbstractJsEmitterVisitor.prototype.visitTryCatchStmt=function(stmt,ctx){ctx.println(stmt,"try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println(stmt,"} catch ("+CATCH_ERROR_VAR$1.name+") {"),ctx.incIndent();var catchStmts=[CATCH_STACK_VAR$1.set(CATCH_ERROR_VAR$1.prop("stack")).toDeclStmt(null,[StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null},AbstractJsEmitterVisitor.prototype._visitParams=function(params,ctx){this.visitAllObjects(function(param){return ctx.print(null,param.name)},params,ctx,",")},AbstractJsEmitterVisitor.prototype.getBuiltinMethodName=function(method){var name;switch(method){case BuiltinMethod.ConcatArray:name="concat";break;case BuiltinMethod.SubscribeObservable:name="subscribe";break;case BuiltinMethod.Bind:name="bind";break;default:throw new Error("Unknown builtin method: "+method)}return name},AbstractJsEmitterVisitor}(AbstractEmitterVisitor),JitEvaluator=function(){function JitEvaluator(){}return JitEvaluator.prototype.evaluateStatements=function(sourceUrl,statements,reflector,createSourceMaps){var converter=new JitEmitterVisitor(reflector),ctx=EmitterVisitorContext.createRoot();return statements.length>0&&!statements[0].isEquivalent(literal("use strict").toStmt())&&(statements=(0,_tslib.__spread)([literal("use strict").toStmt()],statements)),converter.visitAllStatements(statements,ctx),converter.createReturnStmt(ctx),this.evaluateCode(sourceUrl,ctx,converter.getArgs(),createSourceMaps)},JitEvaluator.prototype.evaluateCode=function(sourceUrl,ctx,vars,createSourceMap){var fnBody='"use strict";'+ctx.toSource()+"\n//# sourceURL="+sourceUrl,fnArgNames=[],fnArgValues=[];for(var argName in vars)fnArgValues.push(vars[argName]),fnArgNames.push(argName);if(createSourceMap){var emptyFn=(new(Function.bind.apply(Function,(0,_tslib.__spread)([void 0],fnArgNames.concat("return null;"))))).toString(),headerLines=emptyFn.slice(0,emptyFn.indexOf("return null;")).split("\n").length-1;fnBody+="\n"+ctx.toSourceMapGenerator(sourceUrl,headerLines).toJsComment()}var fn=new(Function.bind.apply(Function,(0,_tslib.__spread)([void 0],fnArgNames.concat(fnBody))));return this.executeFunction(fn,fnArgValues)},JitEvaluator.prototype.executeFunction=function(fn,args){return fn.apply(void 0,(0,_tslib.__spread)(args))},JitEvaluator}();exports.JitEvaluator=JitEvaluator;var JitEmitterVisitor=function(_super){function JitEmitterVisitor(reflector){var _this=_super.call(this)||this;return _this.reflector=reflector,_this._evalArgNames=[],_this._evalArgValues=[],_this._evalExportedVars=[],_this}return(0,_tslib.__extends)(JitEmitterVisitor,_super),JitEmitterVisitor.prototype.createReturnStmt=function(ctx){new ReturnStatement(new LiteralMapExpr(this._evalExportedVars.map(function(resultVar){return new LiteralMapEntry(resultVar,variable(resultVar),!1)}))).visitStatement(this,ctx)},JitEmitterVisitor.prototype.getArgs=function(){for(var result={},i=0;i<this._evalArgNames.length;i++)result[this._evalArgNames[i]]=this._evalArgValues[i];return result},JitEmitterVisitor.prototype.visitExternalExpr=function(ast,ctx){return this._emitReferenceToExternal(ast,this.reflector.resolveExternalReference(ast.value),ctx),null},JitEmitterVisitor.prototype.visitWrappedNodeExpr=function(ast,ctx){return this._emitReferenceToExternal(ast,ast.node,ctx),null},JitEmitterVisitor.prototype.visitDeclareVarStmt=function(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),_super.prototype.visitDeclareVarStmt.call(this,stmt,ctx)},JitEmitterVisitor.prototype.visitDeclareFunctionStmt=function(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),_super.prototype.visitDeclareFunctionStmt.call(this,stmt,ctx)},JitEmitterVisitor.prototype.visitDeclareClassStmt=function(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),_super.prototype.visitDeclareClassStmt.call(this,stmt,ctx)},JitEmitterVisitor.prototype._emitReferenceToExternal=function(ast,value,ctx){var id=this._evalArgValues.indexOf(value);if(-1===id){id=this._evalArgValues.length,this._evalArgValues.push(value);var name_1=identifierName({reference:value})||"val";this._evalArgNames.push("jit_"+name_1+"_"+id)}ctx.print(ast,this._evalArgNames[id])},JitEmitterVisitor}(AbstractJsEmitterVisitor);var R3JitReflector=function(){function R3JitReflector(context){this.context=context}return R3JitReflector.prototype.resolveExternalReference=function(ref){if("@angular/core"!==ref.moduleName)throw new Error("Cannot resolve external reference to "+ref.moduleName+", only references to @angular/core are supported.");if(!this.context.hasOwnProperty(ref.name))throw new Error("No value provided for @angular/core symbol '"+ref.name+"'.");return this.context[ref.name]},R3JitReflector.prototype.parameters=function(typeOrFunc){throw new Error("Not implemented.")},R3JitReflector.prototype.annotations=function(typeOrFunc){throw new Error("Not implemented.")},R3JitReflector.prototype.shallowAnnotations=function(typeOrFunc){throw new Error("Not implemented.")},R3JitReflector.prototype.tryAnnotations=function(typeOrFunc){throw new Error("Not implemented.")},R3JitReflector.prototype.propMetadata=function(typeOrFunc){throw new Error("Not implemented.")},R3JitReflector.prototype.hasLifecycleHook=function(type,lcProperty){throw new Error("Not implemented.")},R3JitReflector.prototype.guards=function(typeOrFunc){throw new Error("Not implemented.")},R3JitReflector.prototype.componentModuleUrl=function(type,cmpMetadata){throw new Error("Not implemented.")},R3JitReflector}();function compileNgModule(meta){var moduleType=meta.type,bootstrap=meta.bootstrap,declarations=meta.declarations,imports=meta.imports,exports=meta.exports,schemas=meta.schemas,containsForwardDecls=meta.containsForwardDecls,emitInline=meta.emitInline,id=meta.id,additionalStatements=[],definitionMap={type:moduleType};if(bootstrap.length&&(definitionMap.bootstrap=refsToArray(bootstrap,containsForwardDecls)),emitInline)declarations.length&&(definitionMap.declarations=refsToArray(declarations,containsForwardDecls)),imports.length&&(definitionMap.imports=refsToArray(imports,containsForwardDecls)),exports.length&&(definitionMap.exports=refsToArray(exports,containsForwardDecls));else{var setNgModuleScopeCall=function(meta){var moduleType=meta.type,declarations=meta.declarations,imports=meta.imports,exports=meta.exports,containsForwardDecls=meta.containsForwardDecls,scopeMap={};declarations.length&&(scopeMap.declarations=refsToArray(declarations,containsForwardDecls));imports.length&&(scopeMap.imports=refsToArray(imports,containsForwardDecls));exports.length&&(scopeMap.exports=refsToArray(exports,containsForwardDecls));if(0===Object.keys(scopeMap).length)return null;return new InvokeFunctionExpr(importExpr(Identifiers$1.setNgModuleScope),[moduleType,mapToMapExpression(scopeMap)],void 0,void 0,!0).toStmt()}(meta);null!==setNgModuleScopeCall&&additionalStatements.push(setNgModuleScopeCall)}return schemas&&schemas.length&&(definitionMap.schemas=literalArr(schemas.map(function(ref){return ref.value}))),id&&(definitionMap.id=id),{expression:importExpr(Identifiers$1.defineNgModule).callFn([mapToMapExpression(definitionMap)]),type:new ExpressionType(importExpr(Identifiers$1.NgModuleDefWithMeta,[new ExpressionType(moduleType),tupleTypeOf(declarations),tupleTypeOf(imports),tupleTypeOf(exports)])),additionalStatements:additionalStatements}}function compileInjector(meta){var result=compileFactoryFunction({name:meta.name,type:meta.type,deps:meta.deps,injectFn:Identifiers$1.inject}),definitionMap={factory:result.factory};return null!==meta.providers&&(definitionMap.providers=meta.providers),meta.imports.length>0&&(definitionMap.imports=literalArr(meta.imports)),{expression:importExpr(Identifiers$1.defineInjector).callFn([mapToMapExpression(definitionMap)]),type:new ExpressionType(importExpr(Identifiers$1.InjectorDef,[new ExpressionType(meta.type)])),statements:result.statements}}function tupleTypeOf(exp){var types=exp.map(function(ref){return expr=ref.type,new TypeofExpr(expr);var expr});return exp.length>0?expressionType(literalArr(types)):NONE_TYPE}function refsToArray(refs,shouldForwardDeclare){var values=literalArr(refs.map(function(ref){return ref.value}));return shouldForwardDeclare?fn([],[new ReturnStatement(values)]):values}function compilePipeFromMetadata(metadata){var definitionMapValues=[];definitionMapValues.push({key:"name",value:literal(metadata.pipeName),quoted:!1}),definitionMapValues.push({key:"type",value:metadata.type,quoted:!1});var templateFactory=compileFactoryFunction({name:metadata.name,type:metadata.type,deps:metadata.deps,injectFn:Identifiers$1.directiveInject},!0);return definitionMapValues.push({key:"factory",value:templateFactory.factory,quoted:!1}),definitionMapValues.push({key:"pure",value:literal(metadata.pure),quoted:!1}),{expression:importExpr(Identifiers$1.definePipe).callFn([literalMap(definitionMapValues)]),type:new ExpressionType(importExpr(Identifiers$1.PipeDefWithMeta,[typeWithParameters(metadata.type,metadata.typeArgumentCount),new ExpressionType(new LiteralExpr(metadata.pipeName))])),statements:templateFactory.statements}}function compilePipeFromRender2(outputCtx,pipe,reflector){var name=identifierName(pipe.type);if(!name)return error("Cannot resolve the name of "+pipe.type);var res=compilePipeFromMetadata({name:name,pipeName:pipe.name,type:outputCtx.importExpr(pipe.type.reference),typeArgumentCount:0,deps:function(type,outputCtx,reflector){reflector.resolveExternalReference(Identifiers.Injector);var e_1,_a,deps=[];try{for(var _b=(0,_tslib.__values)(type.diDeps),_c=_b.next();!_c.done;_c=_b.next()){var dependency=_c.value;if(dependency.token){var tokenRef=tokenReference(dependency.token),resolved=dependency.isAttribute?R3ResolvedDependencyType.Attribute:R3ResolvedDependencyType.Token,token=tokenRef instanceof StaticSymbol?outputCtx.importExpr(tokenRef):literal(tokenRef);deps.push({token:token,resolved:resolved,host:!!dependency.isHost,optional:!!dependency.isOptional,self:!!dependency.isSelf,skipSelf:!!dependency.isSkipSelf})}else unsupported("dependency without a token")}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return deps}(pipe.type,outputCtx,reflector),pure:pipe.pure}),definitionField=outputCtx.constantPool.propertyNameOf(3);outputCtx.statements.push(new ClassStmt(name,null,[new ClassField(definitionField,INFERRED_TYPE,[StmtModifier.Static],res.expression)],[],new ClassMethod(null,[],[]),[]))}var ParserError=function(){return function(message,input,errLocation,ctxLocation){this.input=input,this.errLocation=errLocation,this.ctxLocation=ctxLocation,this.message="Parser Error: "+message+" "+errLocation+" ["+input+"] in "+ctxLocation}}();exports.ParserError=ParserError;var ParseSpan=function(){return function(start,end){this.start=start,this.end=end}}();exports.ParseSpan=ParseSpan;var AST=function(){function AST(span){this.span=span}return AST.prototype.visit=function(visitor,context){return void 0===context&&(context=null),null},AST.prototype.toString=function(){return"AST"},AST}();exports.AST=AST;var Quote=function(_super){function Quote(span,prefix,uninterpretedExpression,location){var _this=_super.call(this,span)||this;return _this.prefix=prefix,_this.uninterpretedExpression=uninterpretedExpression,_this.location=location,_this}return(0,_tslib.__extends)(Quote,_super),Quote.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitQuote(this,context)},Quote.prototype.toString=function(){return"Quote"},Quote}(AST);exports.Quote=Quote;var EmptyExpr=function(_super){function EmptyExpr(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(EmptyExpr,_super),EmptyExpr.prototype.visit=function(visitor,context){void 0===context&&(context=null)},EmptyExpr}(AST);exports.EmptyExpr=EmptyExpr;var ImplicitReceiver=function(_super){function ImplicitReceiver(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(ImplicitReceiver,_super),ImplicitReceiver.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitImplicitReceiver(this,context)},ImplicitReceiver}(AST);exports.ImplicitReceiver=ImplicitReceiver;var Chain=function(_super){function Chain(span,expressions){var _this=_super.call(this,span)||this;return _this.expressions=expressions,_this}return(0,_tslib.__extends)(Chain,_super),Chain.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitChain(this,context)},Chain}(AST);exports.Chain=Chain;var Conditional=function(_super){function Conditional(span,condition,trueExp,falseExp){var _this=_super.call(this,span)||this;return _this.condition=condition,_this.trueExp=trueExp,_this.falseExp=falseExp,_this}return(0,_tslib.__extends)(Conditional,_super),Conditional.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitConditional(this,context)},Conditional}(AST);exports.Conditional=Conditional;var PropertyRead=function(_super){function PropertyRead(span,receiver,name){var _this=_super.call(this,span)||this;return _this.receiver=receiver,_this.name=name,_this}return(0,_tslib.__extends)(PropertyRead,_super),PropertyRead.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPropertyRead(this,context)},PropertyRead}(AST);exports.PropertyRead=PropertyRead;var PropertyWrite=function(_super){function PropertyWrite(span,receiver,name,value){var _this=_super.call(this,span)||this;return _this.receiver=receiver,_this.name=name,_this.value=value,_this}return(0,_tslib.__extends)(PropertyWrite,_super),PropertyWrite.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPropertyWrite(this,context)},PropertyWrite}(AST);exports.PropertyWrite=PropertyWrite;var SafePropertyRead=function(_super){function SafePropertyRead(span,receiver,name){var _this=_super.call(this,span)||this;return _this.receiver=receiver,_this.name=name,_this}return(0,_tslib.__extends)(SafePropertyRead,_super),SafePropertyRead.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitSafePropertyRead(this,context)},SafePropertyRead}(AST);exports.SafePropertyRead=SafePropertyRead;var KeyedRead=function(_super){function KeyedRead(span,obj,key){var _this=_super.call(this,span)||this;return _this.obj=obj,_this.key=key,_this}return(0,_tslib.__extends)(KeyedRead,_super),KeyedRead.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitKeyedRead(this,context)},KeyedRead}(AST);exports.KeyedRead=KeyedRead;var KeyedWrite=function(_super){function KeyedWrite(span,obj,key,value){var _this=_super.call(this,span)||this;return _this.obj=obj,_this.key=key,_this.value=value,_this}return(0,_tslib.__extends)(KeyedWrite,_super),KeyedWrite.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitKeyedWrite(this,context)},KeyedWrite}(AST);exports.KeyedWrite=KeyedWrite;var BindingPipe=function(_super){function BindingPipe(span,exp,name,args){var _this=_super.call(this,span)||this;return _this.exp=exp,_this.name=name,_this.args=args,_this}return(0,_tslib.__extends)(BindingPipe,_super),BindingPipe.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPipe(this,context)},BindingPipe}(AST);exports.BindingPipe=BindingPipe;var LiteralPrimitive=function(_super){function LiteralPrimitive(span,value){var _this=_super.call(this,span)||this;return _this.value=value,_this}return(0,_tslib.__extends)(LiteralPrimitive,_super),LiteralPrimitive.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitLiteralPrimitive(this,context)},LiteralPrimitive}(AST);exports.LiteralPrimitive=LiteralPrimitive;var LiteralArray=function(_super){function LiteralArray(span,expressions){var _this=_super.call(this,span)||this;return _this.expressions=expressions,_this}return(0,_tslib.__extends)(LiteralArray,_super),LiteralArray.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitLiteralArray(this,context)},LiteralArray}(AST);exports.LiteralArray=LiteralArray;var LiteralMap=function(_super){function LiteralMap(span,keys,values){var _this=_super.call(this,span)||this;return _this.keys=keys,_this.values=values,_this}return(0,_tslib.__extends)(LiteralMap,_super),LiteralMap.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitLiteralMap(this,context)},LiteralMap}(AST);exports.LiteralMap=LiteralMap;var Interpolation=function(_super){function Interpolation(span,strings,expressions){var _this=_super.call(this,span)||this;return _this.strings=strings,_this.expressions=expressions,_this}return(0,_tslib.__extends)(Interpolation,_super),Interpolation.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitInterpolation(this,context)},Interpolation}(AST);exports.Interpolation=Interpolation;var Binary=function(_super){function Binary(span,operation,left,right){var _this=_super.call(this,span)||this;return _this.operation=operation,_this.left=left,_this.right=right,_this}return(0,_tslib.__extends)(Binary,_super),Binary.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitBinary(this,context)},Binary}(AST);exports.Binary=Binary;var PrefixNot=function(_super){function PrefixNot(span,expression){var _this=_super.call(this,span)||this;return _this.expression=expression,_this}return(0,_tslib.__extends)(PrefixNot,_super),PrefixNot.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPrefixNot(this,context)},PrefixNot}(AST);exports.PrefixNot=PrefixNot;var NonNullAssert=function(_super){function NonNullAssert(span,expression){var _this=_super.call(this,span)||this;return _this.expression=expression,_this}return(0,_tslib.__extends)(NonNullAssert,_super),NonNullAssert.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitNonNullAssert(this,context)},NonNullAssert}(AST);exports.NonNullAssert=NonNullAssert;var MethodCall=function(_super){function MethodCall(span,receiver,name,args){var _this=_super.call(this,span)||this;return _this.receiver=receiver,_this.name=name,_this.args=args,_this}return(0,_tslib.__extends)(MethodCall,_super),MethodCall.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitMethodCall(this,context)},MethodCall}(AST);exports.MethodCall=MethodCall;var SafeMethodCall=function(_super){function SafeMethodCall(span,receiver,name,args){var _this=_super.call(this,span)||this;return _this.receiver=receiver,_this.name=name,_this.args=args,_this}return(0,_tslib.__extends)(SafeMethodCall,_super),SafeMethodCall.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitSafeMethodCall(this,context)},SafeMethodCall}(AST);exports.SafeMethodCall=SafeMethodCall;var FunctionCall=function(_super){function FunctionCall(span,target,args){var _this=_super.call(this,span)||this;return _this.target=target,_this.args=args,_this}return(0,_tslib.__extends)(FunctionCall,_super),FunctionCall.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitFunctionCall(this,context)},FunctionCall}(AST);exports.FunctionCall=FunctionCall;var AbsoluteSourceSpan=function(){return function(start,end){this.start=start,this.end=end}}();exports.AbsoluteSourceSpan=AbsoluteSourceSpan;var ASTWithSource=function(_super){function ASTWithSource(ast,source,location,absoluteOffset,errors){var _this=_super.call(this,new ParseSpan(0,null==source?0:source.length))||this;return _this.ast=ast,_this.source=source,_this.location=location,_this.errors=errors,_this.sourceSpan=new AbsoluteSourceSpan(absoluteOffset,absoluteOffset+_this.span.end),_this}return(0,_tslib.__extends)(ASTWithSource,_super),ASTWithSource.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitASTWithSource?visitor.visitASTWithSource(this,context):this.ast.visit(visitor,context)},ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location},ASTWithSource}(AST);exports.ASTWithSource=ASTWithSource;var TemplateBinding=function(){return function(span,key,keyIsVar,name,expression){this.span=span,this.key=key,this.keyIsVar=keyIsVar,this.name=name,this.expression=expression}}();exports.TemplateBinding=TemplateBinding;var NullAstVisitor=function(){function NullAstVisitor(){}return NullAstVisitor.prototype.visitBinary=function(ast,context){},NullAstVisitor.prototype.visitChain=function(ast,context){},NullAstVisitor.prototype.visitConditional=function(ast,context){},NullAstVisitor.prototype.visitFunctionCall=function(ast,context){},NullAstVisitor.prototype.visitImplicitReceiver=function(ast,context){},NullAstVisitor.prototype.visitInterpolation=function(ast,context){},NullAstVisitor.prototype.visitKeyedRead=function(ast,context){},NullAstVisitor.prototype.visitKeyedWrite=function(ast,context){},NullAstVisitor.prototype.visitLiteralArray=function(ast,context){},NullAstVisitor.prototype.visitLiteralMap=function(ast,context){},NullAstVisitor.prototype.visitLiteralPrimitive=function(ast,context){},NullAstVisitor.prototype.visitMethodCall=function(ast,context){},NullAstVisitor.prototype.visitPipe=function(ast,context){},NullAstVisitor.prototype.visitPrefixNot=function(ast,context){},NullAstVisitor.prototype.visitNonNullAssert=function(ast,context){},NullAstVisitor.prototype.visitPropertyRead=function(ast,context){},NullAstVisitor.prototype.visitPropertyWrite=function(ast,context){},NullAstVisitor.prototype.visitQuote=function(ast,context){},NullAstVisitor.prototype.visitSafeMethodCall=function(ast,context){},NullAstVisitor.prototype.visitSafePropertyRead=function(ast,context){},NullAstVisitor}();exports.NullAstVisitor=NullAstVisitor;var RecursiveAstVisitor$1=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitBinary=function(ast,context){return ast.left.visit(this,context),ast.right.visit(this,context),null},RecursiveAstVisitor.prototype.visitChain=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAstVisitor.prototype.visitConditional=function(ast,context){return ast.condition.visit(this,context),ast.trueExp.visit(this,context),ast.falseExp.visit(this,context),null},RecursiveAstVisitor.prototype.visitPipe=function(ast,context){return ast.exp.visit(this,context),this.visitAll(ast.args,context),null},RecursiveAstVisitor.prototype.visitFunctionCall=function(ast,context){return ast.target.visit(this,context),this.visitAll(ast.args,context),null},RecursiveAstVisitor.prototype.visitImplicitReceiver=function(ast,context){return null},RecursiveAstVisitor.prototype.visitInterpolation=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAstVisitor.prototype.visitKeyedRead=function(ast,context){return ast.obj.visit(this,context),ast.key.visit(this,context),null},RecursiveAstVisitor.prototype.visitKeyedWrite=function(ast,context){return ast.obj.visit(this,context),ast.key.visit(this,context),ast.value.visit(this,context),null},RecursiveAstVisitor.prototype.visitLiteralArray=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAstVisitor.prototype.visitLiteralMap=function(ast,context){return this.visitAll(ast.values,context)},RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(ast,context){return null},RecursiveAstVisitor.prototype.visitMethodCall=function(ast,context){return ast.receiver.visit(this,context),this.visitAll(ast.args,context)},RecursiveAstVisitor.prototype.visitPrefixNot=function(ast,context){return ast.expression.visit(this,context),null},RecursiveAstVisitor.prototype.visitNonNullAssert=function(ast,context){return ast.expression.visit(this,context),null},RecursiveAstVisitor.prototype.visitPropertyRead=function(ast,context){return ast.receiver.visit(this,context),null},RecursiveAstVisitor.prototype.visitPropertyWrite=function(ast,context){return ast.receiver.visit(this,context),ast.value.visit(this,context),null},RecursiveAstVisitor.prototype.visitSafePropertyRead=function(ast,context){return ast.receiver.visit(this,context),null},RecursiveAstVisitor.prototype.visitSafeMethodCall=function(ast,context){return ast.receiver.visit(this,context),this.visitAll(ast.args,context)},RecursiveAstVisitor.prototype.visitAll=function(asts,context){var _this=this;return asts.forEach(function(ast){return ast.visit(_this,context)}),null},RecursiveAstVisitor.prototype.visitQuote=function(ast,context){return null},RecursiveAstVisitor}();exports.RecursiveAstVisitor=RecursiveAstVisitor$1;var AstTransformer$1=function(){function AstTransformer(){}return AstTransformer.prototype.visitImplicitReceiver=function(ast,context){return ast},AstTransformer.prototype.visitInterpolation=function(ast,context){return new Interpolation(ast.span,ast.strings,this.visitAll(ast.expressions))},AstTransformer.prototype.visitLiteralPrimitive=function(ast,context){return new LiteralPrimitive(ast.span,ast.value)},AstTransformer.prototype.visitPropertyRead=function(ast,context){return new PropertyRead(ast.span,ast.receiver.visit(this),ast.name)},AstTransformer.prototype.visitPropertyWrite=function(ast,context){return new PropertyWrite(ast.span,ast.receiver.visit(this),ast.name,ast.value.visit(this))},AstTransformer.prototype.visitSafePropertyRead=function(ast,context){return new SafePropertyRead(ast.span,ast.receiver.visit(this),ast.name)},AstTransformer.prototype.visitMethodCall=function(ast,context){return new MethodCall(ast.span,ast.receiver.visit(this),ast.name,this.visitAll(ast.args))},AstTransformer.prototype.visitSafeMethodCall=function(ast,context){return new SafeMethodCall(ast.span,ast.receiver.visit(this),ast.name,this.visitAll(ast.args))},AstTransformer.prototype.visitFunctionCall=function(ast,context){return new FunctionCall(ast.span,ast.target.visit(this),this.visitAll(ast.args))},AstTransformer.prototype.visitLiteralArray=function(ast,context){return new LiteralArray(ast.span,this.visitAll(ast.expressions))},AstTransformer.prototype.visitLiteralMap=function(ast,context){return new LiteralMap(ast.span,ast.keys,this.visitAll(ast.values))},AstTransformer.prototype.visitBinary=function(ast,context){return new Binary(ast.span,ast.operation,ast.left.visit(this),ast.right.visit(this))},AstTransformer.prototype.visitPrefixNot=function(ast,context){return new PrefixNot(ast.span,ast.expression.visit(this))},AstTransformer.prototype.visitNonNullAssert=function(ast,context){return new NonNullAssert(ast.span,ast.expression.visit(this))},AstTransformer.prototype.visitConditional=function(ast,context){return new Conditional(ast.span,ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this))},AstTransformer.prototype.visitPipe=function(ast,context){return new BindingPipe(ast.span,ast.exp.visit(this),ast.name,this.visitAll(ast.args))},AstTransformer.prototype.visitKeyedRead=function(ast,context){return new KeyedRead(ast.span,ast.obj.visit(this),ast.key.visit(this))},AstTransformer.prototype.visitKeyedWrite=function(ast,context){return new KeyedWrite(ast.span,ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this))},AstTransformer.prototype.visitAll=function(asts){for(var res=new Array(asts.length),i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res},AstTransformer.prototype.visitChain=function(ast,context){return new Chain(ast.span,this.visitAll(ast.expressions))},AstTransformer.prototype.visitQuote=function(ast,context){return new Quote(ast.span,ast.prefix,ast.uninterpretedExpression,ast.location)},AstTransformer}();exports.AstTransformer=AstTransformer$1;var AstMemoryEfficientTransformer=function(){function AstMemoryEfficientTransformer(){}return AstMemoryEfficientTransformer.prototype.visitImplicitReceiver=function(ast,context){return ast},AstMemoryEfficientTransformer.prototype.visitInterpolation=function(ast,context){var expressions=this.visitAll(ast.expressions);return expressions!==ast.expressions?new Interpolation(ast.span,ast.strings,expressions):ast},AstMemoryEfficientTransformer.prototype.visitLiteralPrimitive=function(ast,context){return ast},AstMemoryEfficientTransformer.prototype.visitPropertyRead=function(ast,context){var receiver=ast.receiver.visit(this);return receiver!==ast.receiver?new PropertyRead(ast.span,receiver,ast.name):ast},AstMemoryEfficientTransformer.prototype.visitPropertyWrite=function(ast,context){var receiver=ast.receiver.visit(this),value=ast.value.visit(this);return receiver!==ast.receiver||value!==ast.value?new PropertyWrite(ast.span,receiver,ast.name,value):ast},AstMemoryEfficientTransformer.prototype.visitSafePropertyRead=function(ast,context){var receiver=ast.receiver.visit(this);return receiver!==ast.receiver?new SafePropertyRead(ast.span,receiver,ast.name):ast},AstMemoryEfficientTransformer.prototype.visitMethodCall=function(ast,context){var receiver=ast.receiver.visit(this),args=this.visitAll(ast.args);return receiver!==ast.receiver||args!==ast.args?new MethodCall(ast.span,receiver,ast.name,args):ast},AstMemoryEfficientTransformer.prototype.visitSafeMethodCall=function(ast,context){var receiver=ast.receiver.visit(this),args=this.visitAll(ast.args);return receiver!==ast.receiver||args!==ast.args?new SafeMethodCall(ast.span,receiver,ast.name,args):ast},AstMemoryEfficientTransformer.prototype.visitFunctionCall=function(ast,context){var target=ast.target&&ast.target.visit(this),args=this.visitAll(ast.args);return target!==ast.target||args!==ast.args?new FunctionCall(ast.span,target,args):ast},AstMemoryEfficientTransformer.prototype.visitLiteralArray=function(ast,context){var expressions=this.visitAll(ast.expressions);return expressions!==ast.expressions?new LiteralArray(ast.span,expressions):ast},AstMemoryEfficientTransformer.prototype.visitLiteralMap=function(ast,context){var values=this.visitAll(ast.values);return values!==ast.values?new LiteralMap(ast.span,ast.keys,values):ast},AstMemoryEfficientTransformer.prototype.visitBinary=function(ast,context){var left=ast.left.visit(this),right=ast.right.visit(this);return left!==ast.left||right!==ast.right?new Binary(ast.span,ast.operation,left,right):ast},AstMemoryEfficientTransformer.prototype.visitPrefixNot=function(ast,context){var expression=ast.expression.visit(this);return expression!==ast.expression?new PrefixNot(ast.span,expression):ast},AstMemoryEfficientTransformer.prototype.visitNonNullAssert=function(ast,context){var expression=ast.expression.visit(this);return expression!==ast.expression?new NonNullAssert(ast.span,expression):ast},AstMemoryEfficientTransformer.prototype.visitConditional=function(ast,context){var condition=ast.condition.visit(this),trueExp=ast.trueExp.visit(this),falseExp=ast.falseExp.visit(this);return condition!==ast.condition||trueExp!==ast.trueExp||falseExp!==ast.falseExp?new Conditional(ast.span,condition,trueExp,falseExp):ast},AstMemoryEfficientTransformer.prototype.visitPipe=function(ast,context){var exp=ast.exp.visit(this),args=this.visitAll(ast.args);return exp!==ast.exp||args!==ast.args?new BindingPipe(ast.span,exp,ast.name,args):ast},AstMemoryEfficientTransformer.prototype.visitKeyedRead=function(ast,context){var obj=ast.obj.visit(this),key=ast.key.visit(this);return obj!==ast.obj||key!==ast.key?new KeyedRead(ast.span,obj,key):ast},AstMemoryEfficientTransformer.prototype.visitKeyedWrite=function(ast,context){var obj=ast.obj.visit(this),key=ast.key.visit(this),value=ast.value.visit(this);return obj!==ast.obj||key!==ast.key||value!==ast.value?new KeyedWrite(ast.span,obj,key,value):ast},AstMemoryEfficientTransformer.prototype.visitAll=function(asts){for(var res=new Array(asts.length),modified=!1,i=0;i<asts.length;++i){var original=asts[i],value=original.visit(this);res[i]=value,modified=modified||value!==original}return modified?res:asts},AstMemoryEfficientTransformer.prototype.visitChain=function(ast,context){var expressions=this.visitAll(ast.expressions);return expressions!==ast.expressions?new Chain(ast.span,expressions):ast},AstMemoryEfficientTransformer.prototype.visitQuote=function(ast,context){return ast},AstMemoryEfficientTransformer}();exports.AstMemoryEfficientTransformer=AstMemoryEfficientTransformer;var ParsedPropertyType,ParsedProperty=function(){return function(name,expression,type,sourceSpan,valueSpan){this.name=name,this.expression=expression,this.type=type,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.isLiteral=this.type===ParsedPropertyType.LITERAL_ATTR,this.isAnimation=this.type===ParsedPropertyType.ANIMATION}}();exports.ParsedProperty=ParsedProperty,exports.ParsedPropertyType=ParsedPropertyType,function(ParsedPropertyType){ParsedPropertyType[ParsedPropertyType.DEFAULT=0]="DEFAULT",ParsedPropertyType[ParsedPropertyType.LITERAL_ATTR=1]="LITERAL_ATTR",ParsedPropertyType[ParsedPropertyType.ANIMATION=2]="ANIMATION"}(ParsedPropertyType||(exports.ParsedPropertyType=ParsedPropertyType={}));var ParsedEvent=function(){return function(name,targetOrPhase,type,handler,sourceSpan,handlerSpan){this.name=name,this.targetOrPhase=targetOrPhase,this.type=type,this.handler=handler,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan}}();exports.ParsedEvent=ParsedEvent;var ParsedVariable=function(){return function(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}}();exports.ParsedVariable=ParsedVariable;var BoundElementProperty=function(){return function(name,type,securityContext,value,unit,sourceSpan,valueSpan){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}}();exports.BoundElementProperty=BoundElementProperty;var EventHandlerVars=function(){function EventHandlerVars(){}return EventHandlerVars.event=variable("$event"),EventHandlerVars}(),ConvertActionBindingResult=function(){return function(stmts,allowDefault){this.stmts=stmts,this.allowDefault=allowDefault,this.render3Stmts=stmts.map(function(statement){if(statement instanceof DeclareVarStmt&&statement.name==allowDefault.name&&statement.value instanceof BinaryOperatorExpr){var lhs=statement.value.lhs;return new ReturnStatement(lhs.value)}return statement})}}();function convertActionBinding(localResolver,implicitReceiver,action,bindingId,interpolationFunction,baseSourceSpan){localResolver||(localResolver=new DefaultLocalResolver);var actionWithoutBuiltins=convertPropertyBindingBuiltins({createLiteralArrayConverter:function(argCount){return function(args){return literalArr(args)}},createLiteralMapConverter:function(keys){return function(values){return literalMap(keys.map(function(k,i){return{key:k.key,value:values[i],quoted:k.quoted}}))}},createPipeConverter:function(name){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: "+name)}},action),visitor=new _AstToIrVisitor(localResolver,implicitReceiver,bindingId,interpolationFunction,baseSourceSpan),actionStmts=[];!function flattenStatements(arg,output){Array.isArray(arg)?arg.forEach(function(entry){return flattenStatements(entry,output)}):output.push(arg)}(actionWithoutBuiltins.visit(visitor,_Mode.Statement),actionStmts),function(temporaryCount,bindingId,statements){for(var i=temporaryCount-1;i>=0;i--)statements.unshift(temporaryDeclaration(bindingId,i))}(visitor.temporaryCount,bindingId,actionStmts),visitor.usesImplicitReceiver&&localResolver.notifyImplicitReceiverUse();var lastIndex=actionStmts.length-1,preventDefaultVar=null;if(lastIndex>=0){var returnExpr=function(stmt){if(stmt instanceof ExpressionStatement)return stmt.expr;if(stmt instanceof ReturnStatement)return stmt.value;return null}(actionStmts[lastIndex]);returnExpr&&(preventDefaultVar=function(bindingId){return variable("pd_"+bindingId)}(bindingId),actionStmts[lastIndex]=preventDefaultVar.set(returnExpr.cast(DYNAMIC_TYPE).notIdentical(literal(!1))).toDeclStmt(null,[StmtModifier.Final]))}return new ConvertActionBindingResult(actionStmts,preventDefaultVar)}function convertPropertyBindingBuiltins(converterFactory,ast){return function(converterFactory,ast){var visitor=new _BuiltinAstConverter(converterFactory);return ast.visit(visitor)}(converterFactory,ast)}var BindingForm,_Mode,ConvertPropertyBindingResult=function(){return function(stmts,currValExpr){this.stmts=stmts,this.currValExpr=currValExpr}}();function convertPropertyBinding(localResolver,implicitReceiver,expressionWithoutBuiltins,bindingId,form,interpolationFunction){localResolver||(localResolver=new DefaultLocalResolver);var currValExpr=function(bindingId){return variable("currVal_"+bindingId)}(bindingId),visitor=new _AstToIrVisitor(localResolver,implicitReceiver,bindingId,interpolationFunction),outputExpr=expressionWithoutBuiltins.visit(visitor,_Mode.Expression),stmts=getStatementsFromVisitor(visitor,bindingId);return visitor.usesImplicitReceiver&&localResolver.notifyImplicitReceiverUse(),0===visitor.temporaryCount&&form==BindingForm.TrySimple?new ConvertPropertyBindingResult([],outputExpr):(stmts.push(currValExpr.set(outputExpr).toDeclStmt(DYNAMIC_TYPE,[StmtModifier.Final])),new ConvertPropertyBindingResult(stmts,currValExpr))}function getStatementsFromVisitor(visitor,bindingId){for(var stmts=[],i=0;i<visitor.temporaryCount;i++)stmts.push(temporaryDeclaration(bindingId,i));return stmts}function temporaryName(bindingId,temporaryNumber){return"tmp_"+bindingId+"_"+temporaryNumber}function temporaryDeclaration(bindingId,temporaryNumber){return new DeclareVarStmt(temporaryName(bindingId,temporaryNumber),NULL_EXPR)}function ensureExpressionMode(mode,ast){if(mode!==_Mode.Expression)throw new Error("Expected an expression, but saw "+ast)}function convertToStatementIfNeeded(mode,expr){return mode===_Mode.Statement?expr.toStmt():expr}!function(BindingForm){BindingForm[BindingForm.General=0]="General",BindingForm[BindingForm.TrySimple=1]="TrySimple"}(BindingForm||(BindingForm={})),function(_Mode){_Mode[_Mode.Statement=0]="Statement",_Mode[_Mode.Expression=1]="Expression"}(_Mode||(_Mode={}));var _BuiltinAstConverter=function(_super){function _BuiltinAstConverter(_converterFactory){var _this=_super.call(this)||this;return _this._converterFactory=_converterFactory,_this}return(0,_tslib.__extends)(_BuiltinAstConverter,_super),_BuiltinAstConverter.prototype.visitPipe=function(ast,context){var _this=this,args=(0,_tslib.__spread)([ast.exp],ast.args).map(function(ast){return ast.visit(_this,context)});return new BuiltinFunctionCall(ast.span,args,this._converterFactory.createPipeConverter(ast.name,args.length))},_BuiltinAstConverter.prototype.visitLiteralArray=function(ast,context){var _this=this,args=ast.expressions.map(function(ast){return ast.visit(_this,context)});return new BuiltinFunctionCall(ast.span,args,this._converterFactory.createLiteralArrayConverter(ast.expressions.length))},_BuiltinAstConverter.prototype.visitLiteralMap=function(ast,context){var _this=this,args=ast.values.map(function(ast){return ast.visit(_this,context)});return new BuiltinFunctionCall(ast.span,args,this._converterFactory.createLiteralMapConverter(ast.keys))},_BuiltinAstConverter}(AstTransformer$1),_AstToIrVisitor=function(){function _AstToIrVisitor(_localResolver,_implicitReceiver,bindingId,interpolationFunction,baseSourceSpan){this._localResolver=_localResolver,this._implicitReceiver=_implicitReceiver,this.bindingId=bindingId,this.interpolationFunction=interpolationFunction,this.baseSourceSpan=baseSourceSpan,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}return _AstToIrVisitor.prototype.visitBinary=function(ast,mode){var op;switch(ast.operation){case"+":op=BinaryOperator.Plus;break;case"-":op=BinaryOperator.Minus;break;case"*":op=BinaryOperator.Multiply;break;case"/":op=BinaryOperator.Divide;break;case"%":op=BinaryOperator.Modulo;break;case"&&":op=BinaryOperator.And;break;case"||":op=BinaryOperator.Or;break;case"==":op=BinaryOperator.Equals;break;case"!=":op=BinaryOperator.NotEquals;break;case"===":op=BinaryOperator.Identical;break;case"!==":op=BinaryOperator.NotIdentical;break;case"<":op=BinaryOperator.Lower;break;case">":op=BinaryOperator.Bigger;break;case"<=":op=BinaryOperator.LowerEquals;break;case">=":op=BinaryOperator.BiggerEquals;break;default:throw new Error("Unsupported operation "+ast.operation)}return convertToStatementIfNeeded(mode,new BinaryOperatorExpr(op,this._visit(ast.left,_Mode.Expression),this._visit(ast.right,_Mode.Expression),void 0,this.convertSourceSpan(ast.span)))},_AstToIrVisitor.prototype.visitChain=function(ast,mode){return function(mode,ast){if(mode!==_Mode.Statement)throw new Error("Expected a statement, but saw "+ast)}(mode,ast),this.visitAll(ast.expressions,mode)},_AstToIrVisitor.prototype.visitConditional=function(ast,mode){return convertToStatementIfNeeded(mode,this._visit(ast.condition,_Mode.Expression).conditional(this._visit(ast.trueExp,_Mode.Expression),this._visit(ast.falseExp,_Mode.Expression),this.convertSourceSpan(ast.span)))},_AstToIrVisitor.prototype.visitPipe=function(ast,mode){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: "+ast.name)},_AstToIrVisitor.prototype.visitFunctionCall=function(ast,mode){var convertedArgs=this.visitAll(ast.args,_Mode.Expression);return convertToStatementIfNeeded(mode,ast instanceof BuiltinFunctionCall?ast.converter(convertedArgs):this._visit(ast.target,_Mode.Expression).callFn(convertedArgs,this.convertSourceSpan(ast.span)))},_AstToIrVisitor.prototype.visitImplicitReceiver=function(ast,mode){return ensureExpressionMode(mode,ast),this.usesImplicitReceiver=!0,this._implicitReceiver},_AstToIrVisitor.prototype.visitInterpolation=function(ast,mode){ensureExpressionMode(mode,ast);for(var args=[literal(ast.expressions.length)],i=0;i<ast.strings.length-1;i++)args.push(literal(ast.strings[i])),args.push(this._visit(ast.expressions[i],_Mode.Expression));return args.push(literal(ast.strings[ast.strings.length-1])),this.interpolationFunction?this.interpolationFunction(args):ast.expressions.length<=9?importExpr(Identifiers.inlineInterpolate).callFn(args):importExpr(Identifiers.interpolate).callFn([args[0],literalArr(args.slice(1),void 0,this.convertSourceSpan(ast.span))])},_AstToIrVisitor.prototype.visitKeyedRead=function(ast,mode){var leftMostSafe=this.leftMostSafeNode(ast);return leftMostSafe?this.convertSafeAccess(ast,leftMostSafe,mode):convertToStatementIfNeeded(mode,this._visit(ast.obj,_Mode.Expression).key(this._visit(ast.key,_Mode.Expression)))},_AstToIrVisitor.prototype.visitKeyedWrite=function(ast,mode){var obj=this._visit(ast.obj,_Mode.Expression),key=this._visit(ast.key,_Mode.Expression),value=this._visit(ast.value,_Mode.Expression);return convertToStatementIfNeeded(mode,obj.key(key).set(value))},_AstToIrVisitor.prototype.visitLiteralArray=function(ast,mode){throw new Error("Illegal State: literal arrays should have been converted into functions")},_AstToIrVisitor.prototype.visitLiteralMap=function(ast,mode){throw new Error("Illegal State: literal maps should have been converted into functions")},_AstToIrVisitor.prototype.visitLiteralPrimitive=function(ast,mode){var type=null===ast.value||void 0===ast.value||!0===ast.value||!0===ast.value?INFERRED_TYPE:void 0;return convertToStatementIfNeeded(mode,literal(ast.value,type,this.convertSourceSpan(ast.span)))},_AstToIrVisitor.prototype._getLocal=function(name){return this._localResolver.getLocal(name)},_AstToIrVisitor.prototype.visitMethodCall=function(ast,mode){if(ast.receiver instanceof ImplicitReceiver&&"$any"==ast.name){if(1!=(args=this.visitAll(ast.args,_Mode.Expression)).length)throw new Error("Invalid call to $any, expected 1 argument but received "+(args.length||"none"));return args[0].cast(DYNAMIC_TYPE,this.convertSourceSpan(ast.span))}var leftMostSafe=this.leftMostSafeNode(ast);if(leftMostSafe)return this.convertSafeAccess(ast,leftMostSafe,mode);var args=this.visitAll(ast.args,_Mode.Expression),prevUsesImplicitReceiver=this.usesImplicitReceiver,result=null,receiver=this._visit(ast.receiver,_Mode.Expression);if(receiver===this._implicitReceiver){var varExpr=this._getLocal(ast.name);varExpr&&(this.usesImplicitReceiver=prevUsesImplicitReceiver,result=varExpr.callFn(args))}return null==result&&(result=receiver.callMethod(ast.name,args,this.convertSourceSpan(ast.span))),convertToStatementIfNeeded(mode,result)},_AstToIrVisitor.prototype.visitPrefixNot=function(ast,mode){return convertToStatementIfNeeded(mode,(expr=this._visit(ast.expression,_Mode.Expression),new NotExpr(expr,sourceSpan)));var expr,sourceSpan},_AstToIrVisitor.prototype.visitNonNullAssert=function(ast,mode){return convertToStatementIfNeeded(mode,(expr=this._visit(ast.expression,_Mode.Expression),new AssertNotNull(expr,sourceSpan)));var expr,sourceSpan},_AstToIrVisitor.prototype.visitPropertyRead=function(ast,mode){var leftMostSafe=this.leftMostSafeNode(ast);if(leftMostSafe)return this.convertSafeAccess(ast,leftMostSafe,mode);var result=null,prevUsesImplicitReceiver=this.usesImplicitReceiver,receiver=this._visit(ast.receiver,_Mode.Expression);return receiver===this._implicitReceiver&&(result=this._getLocal(ast.name))&&(this.usesImplicitReceiver=prevUsesImplicitReceiver),null==result&&(result=receiver.prop(ast.name)),convertToStatementIfNeeded(mode,result)},_AstToIrVisitor.prototype.visitPropertyWrite=function(ast,mode){var receiver=this._visit(ast.receiver,_Mode.Expression),prevUsesImplicitReceiver=this.usesImplicitReceiver,varExpr=null;if(receiver===this._implicitReceiver){var localExpr=this._getLocal(ast.name);if(localExpr){if(!(localExpr instanceof ReadPropExpr))throw new Error("Cannot assign to a reference or variable!");varExpr=localExpr,this.usesImplicitReceiver=prevUsesImplicitReceiver}}return null===varExpr&&(varExpr=receiver.prop(ast.name)),convertToStatementIfNeeded(mode,varExpr.set(this._visit(ast.value,_Mode.Expression)))},_AstToIrVisitor.prototype.visitSafePropertyRead=function(ast,mode){return this.convertSafeAccess(ast,this.leftMostSafeNode(ast),mode)},_AstToIrVisitor.prototype.visitSafeMethodCall=function(ast,mode){return this.convertSafeAccess(ast,this.leftMostSafeNode(ast),mode)},_AstToIrVisitor.prototype.visitAll=function(asts,mode){var _this=this;return asts.map(function(ast){return _this._visit(ast,mode)})},_AstToIrVisitor.prototype.visitQuote=function(ast,mode){throw new Error("Quotes are not supported for evaluation!\n        Statement: "+ast.uninterpretedExpression+" located at "+ast.location)},_AstToIrVisitor.prototype._visit=function(ast,mode){var result=this._resultMap.get(ast);return result||(this._nodeMap.get(ast)||ast).visit(this,mode)},_AstToIrVisitor.prototype.convertSafeAccess=function(ast,leftMostSafe,mode){var guardedExpression=this._visit(leftMostSafe.receiver,_Mode.Expression),temporary=void 0;this.needsTemporary(leftMostSafe.receiver)&&(guardedExpression=(temporary=this.allocateTemporary()).set(guardedExpression),this._resultMap.set(leftMostSafe.receiver,temporary));var condition=guardedExpression.isBlank();leftMostSafe instanceof SafeMethodCall?this._nodeMap.set(leftMostSafe,new MethodCall(leftMostSafe.span,leftMostSafe.receiver,leftMostSafe.name,leftMostSafe.args)):this._nodeMap.set(leftMostSafe,new PropertyRead(leftMostSafe.span,leftMostSafe.receiver,leftMostSafe.name));var access=this._visit(ast,_Mode.Expression);return this._nodeMap.delete(leftMostSafe),temporary&&this.releaseTemporary(temporary),convertToStatementIfNeeded(mode,condition.conditional(literal(null),access))},_AstToIrVisitor.prototype.leftMostSafeNode=function(ast){var _this=this,visit=function(visitor,ast){return(_this._nodeMap.get(ast)||ast).visit(visitor)};return ast.visit({visitBinary:function(ast){return null},visitChain:function(ast){return null},visitConditional:function(ast){return null},visitFunctionCall:function(ast){return null},visitImplicitReceiver:function(ast){return null},visitInterpolation:function(ast){return null},visitKeyedRead:function(ast){return visit(this,ast.obj)},visitKeyedWrite:function(ast){return null},visitLiteralArray:function(ast){return null},visitLiteralMap:function(ast){return null},visitLiteralPrimitive:function(ast){return null},visitMethodCall:function(ast){return visit(this,ast.receiver)},visitPipe:function(ast){return null},visitPrefixNot:function(ast){return null},visitNonNullAssert:function(ast){return null},visitPropertyRead:function(ast){return visit(this,ast.receiver)},visitPropertyWrite:function(ast){return null},visitQuote:function(ast){return null},visitSafeMethodCall:function(ast){return visit(this,ast.receiver)||ast},visitSafePropertyRead:function(ast){return visit(this,ast.receiver)||ast}})},_AstToIrVisitor.prototype.needsTemporary=function(ast){var _this=this,visit=function(visitor,ast){return ast&&(_this._nodeMap.get(ast)||ast).visit(visitor)};return ast.visit({visitBinary:function(ast){return visit(this,ast.left)||visit(this,ast.right)},visitChain:function(ast){return!1},visitConditional:function(ast){return visit(this,ast.condition)||visit(this,ast.trueExp)||visit(this,ast.falseExp)},visitFunctionCall:function(ast){return!0},visitImplicitReceiver:function(ast){return!1},visitInterpolation:function(ast){return function(visitor,ast){return ast.some(function(ast){return visit(visitor,ast)})}(this,ast.expressions)},visitKeyedRead:function(ast){return!1},visitKeyedWrite:function(ast){return!1},visitLiteralArray:function(ast){return!0},visitLiteralMap:function(ast){return!0},visitLiteralPrimitive:function(ast){return!1},visitMethodCall:function(ast){return!0},visitPipe:function(ast){return!0},visitPrefixNot:function(ast){return visit(this,ast.expression)},visitNonNullAssert:function(ast){return visit(this,ast.expression)},visitPropertyRead:function(ast){return!1},visitPropertyWrite:function(ast){return!1},visitQuote:function(ast){return!1},visitSafeMethodCall:function(ast){return!0},visitSafePropertyRead:function(ast){return!1}})},_AstToIrVisitor.prototype.allocateTemporary=function(){var tempNumber=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new ReadVarExpr(temporaryName(this.bindingId,tempNumber))},_AstToIrVisitor.prototype.releaseTemporary=function(temporary){if(this._currentTemporary--,temporary.name!=temporaryName(this.bindingId,this._currentTemporary))throw new Error("Temporary "+temporary.name+" released out of order")},_AstToIrVisitor.prototype.convertSourceSpan=function(span){if(this.baseSourceSpan){var start=this.baseSourceSpan.start.moveBy(span.start),end=this.baseSourceSpan.start.moveBy(span.end);return new ParseSourceSpan(start,end)}return null},_AstToIrVisitor}();var DefaultLocalResolver=function(){function DefaultLocalResolver(){}return DefaultLocalResolver.prototype.notifyImplicitReceiverUse=function(){},DefaultLocalResolver.prototype.getLocal=function(name){return name===EventHandlerVars.event.name?EventHandlerVars.event:null},DefaultLocalResolver}();var BuiltinFunctionCall=function(_super){function BuiltinFunctionCall(span,args,converter){var _this=_super.call(this,span,null,args)||this;return _this.args=args,_this.converter=converter,_this}return(0,_tslib.__extends)(BuiltinFunctionCall,_super),BuiltinFunctionCall}(FunctionCall),ShadowCss=function(){function ShadowCss(){this.strictStyling=!0}return ShadowCss.prototype.shimCssText=function(cssText,selector,hostSelector){void 0===hostSelector&&(hostSelector="");var commentsWithHash=cssText.match(_commentWithHashRe)||[];cssText=function(input){return input.replace(_commentRe,"")}(cssText),cssText=this._insertDirectives(cssText);var scopedCssText=this._scopeCssText(cssText,selector,hostSelector);return(0,_tslib.__spread)([scopedCssText],commentsWithHash).join("\n")},ShadowCss.prototype._insertDirectives=function(cssText){return cssText=this._insertPolyfillDirectivesInCssText(cssText),this._insertPolyfillRulesInCssText(cssText)},ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(cssText){return cssText.replace(_cssContentNextSelectorRe,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i]=arguments[_i];return m[2]+"{"})},ShadowCss.prototype._insertPolyfillRulesInCssText=function(cssText){return cssText.replace(_cssContentRuleRe,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i]=arguments[_i];var rule=m[0].replace(m[1],"").replace(m[2],"");return m[4]+rule})},ShadowCss.prototype._scopeCssText=function(cssText,scopeSelector,hostSelector){var unscopedRules=this._extractUnscopedRulesFromCssText(cssText);return cssText=this._insertPolyfillHostInCssText(cssText),cssText=this._convertColonHost(cssText),cssText=this._convertColonHostContext(cssText),cssText=this._convertShadowDOMSelectors(cssText),scopeSelector&&(cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector)),(cssText=cssText+"\n"+unscopedRules).trim()},ShadowCss.prototype._extractUnscopedRulesFromCssText=function(cssText){var m,r="";for(_cssContentUnscopedRuleRe.lastIndex=0;null!==(m=_cssContentUnscopedRuleRe.exec(cssText));){r+=m[0].replace(m[2],"").replace(m[1],m[4])+"\n\n"}return r},ShadowCss.prototype._convertColonHost=function(cssText){return this._convertColonRule(cssText,_cssColonHostRe,this._colonHostPartReplacer)},ShadowCss.prototype._convertColonHostContext=function(cssText){return this._convertColonRule(cssText,_cssColonHostContextRe,this._colonHostContextPartReplacer)},ShadowCss.prototype._convertColonRule=function(cssText,regExp,partReplacer){return cssText.replace(regExp,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i]=arguments[_i];if(m[2]){for(var parts=m[2].split(","),r=[],i=0;i<parts.length;i++){var p=parts[i].trim();if(!p)break;r.push(partReplacer(_polyfillHostNoCombinator,p,m[3]))}return r.join(",")}return _polyfillHostNoCombinator+m[3]})},ShadowCss.prototype._colonHostContextPartReplacer=function(host,part,suffix){return part.indexOf(_polyfillHost)>-1?this._colonHostPartReplacer(host,part,suffix):host+part+suffix+", "+part+" "+host+suffix},ShadowCss.prototype._colonHostPartReplacer=function(host,part,suffix){return host+part.replace(_polyfillHost,"")+suffix},ShadowCss.prototype._convertShadowDOMSelectors=function(cssText){return _shadowDOMSelectorsRe.reduce(function(result,pattern){return result.replace(pattern," ")},cssText)},ShadowCss.prototype._scopeSelectors=function(cssText,scopeSelector,hostSelector){var ruleCallback,inputWithEscapedBlocks,nextBlockIndex,_this=this;return ruleCallback=function(rule){var selector=rule.selector,content=rule.content;return"@"!=rule.selector[0]?selector=_this._scopeSelector(rule.selector,scopeSelector,hostSelector,_this.strictStyling):(rule.selector.startsWith("@media")||rule.selector.startsWith("@supports")||rule.selector.startsWith("@page")||rule.selector.startsWith("@document"))&&(content=_this._scopeSelectors(rule.content,scopeSelector,hostSelector)),new CssRule(selector,content)},inputWithEscapedBlocks=function(input){for(var inputParts=input.split(_curlyRe),resultParts=[],escapedBlocks=[],bracketCount=0,currentBlockParts=[],partIndex=0;partIndex<inputParts.length;partIndex++){var part=inputParts[partIndex];part==CLOSE_CURLY&&bracketCount--,bracketCount>0?currentBlockParts.push(part):(currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER),currentBlockParts=[]),resultParts.push(part)),part==OPEN_CURLY&&bracketCount++}currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER));return new StringWithEscapedBlocks(resultParts.join(""),escapedBlocks)}(cssText),nextBlockIndex=0,inputWithEscapedBlocks.escapedString.replace(_ruleRe,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i]=arguments[_i];var selector=m[2],content="",suffix=m[4],contentPrefix="";suffix&&suffix.startsWith("{"+BLOCK_PLACEHOLDER)&&(content=inputWithEscapedBlocks.blocks[nextBlockIndex++],suffix=suffix.substring(BLOCK_PLACEHOLDER.length+1),contentPrefix="{");var rule=ruleCallback(new CssRule(selector,content));return""+m[1]+rule.selector+m[3]+contentPrefix+rule.content+suffix})},ShadowCss.prototype._scopeSelector=function(selector,scopeSelector,hostSelector,strict){var _this=this;return selector.split(",").map(function(part){return part.trim().split(_shadowDeepSelectors)}).map(function(deepParts){var _a=(0,_tslib.__read)(deepParts),shallowPart=_a[0],otherParts=_a.slice(1);return(0,_tslib.__spread)([function(shallowPart){return _this._selectorNeedsScoping(shallowPart,scopeSelector)?strict?_this._applyStrictSelectorScope(shallowPart,scopeSelector,hostSelector):_this._applySelectorScope(shallowPart,scopeSelector,hostSelector):shallowPart}(shallowPart)],otherParts).join(" ")}).join(", ")},ShadowCss.prototype._selectorNeedsScoping=function(selector,scopeSelector){return!this._makeScopeMatcher(scopeSelector).test(selector)},ShadowCss.prototype._makeScopeMatcher=function(scopeSelector){return scopeSelector=scopeSelector.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+scopeSelector+")"+_selectorReSuffix,"m")},ShadowCss.prototype._applySelectorScope=function(selector,scopeSelector,hostSelector){return this._applySimpleSelectorScope(selector,scopeSelector,hostSelector)},ShadowCss.prototype._applySimpleSelectorScope=function(selector,scopeSelector,hostSelector){if(_polyfillHostRe.lastIndex=0,_polyfillHostRe.test(selector)){var replaceBy_1=this.strictStyling?"["+hostSelector+"]":scopeSelector;return selector.replace(_polyfillHostNoCombinatorRe,function(hnc,selector){return selector.replace(/([^:]*)(:*)(.*)/,function(_,before,colon,after){return before+replaceBy_1+colon+after})}).replace(_polyfillHostRe,replaceBy_1+" ")}return scopeSelector+" "+selector},ShadowCss.prototype._applyStrictSelectorScope=function(selector,scopeSelector,hostSelector){for(var res,_this=this,attrName="["+(scopeSelector=scopeSelector.replace(/\[is=([^\]]*)\]/g,function(_){for(var parts=[],_i=1;_i<arguments.length;_i++)parts[_i-1]=arguments[_i];return parts[0]}))+"]",_scopeSelectorPart=function(p){var scopedP=p.trim();if(!scopedP)return"";if(p.indexOf(_polyfillHostNoCombinator)>-1)scopedP=_this._applySimpleSelectorScope(p,scopeSelector,hostSelector);else{var t=p.replace(_polyfillHostRe,"");if(t.length>0){var matches=t.match(/([^:]*)(:*)(.*)/);matches&&(scopedP=matches[1]+attrName+matches[2]+matches[3])}}return scopedP},safeContent=new SafeSelector(selector),scopedSelector="",startIndex=0,sep=/( |>|\+|~(?!=))\s*/g,shouldScope=!((selector=safeContent.content()).indexOf(_polyfillHostNoCombinator)>-1);null!==(res=sep.exec(selector));){var separator=res[1],part_1=selector.slice(startIndex,res.index).trim();scopedSelector+=((shouldScope=shouldScope||part_1.indexOf(_polyfillHostNoCombinator)>-1)?_scopeSelectorPart(part_1):part_1)+" "+separator+" ",startIndex=sep.lastIndex}var part=selector.substring(startIndex);return scopedSelector+=(shouldScope=shouldScope||part.indexOf(_polyfillHostNoCombinator)>-1)?_scopeSelectorPart(part):part,safeContent.restore(scopedSelector)},ShadowCss.prototype._insertPolyfillHostInCssText=function(selector){return selector.replace(_colonHostContextRe,_polyfillHostContext).replace(_colonHostRe,_polyfillHost)},ShadowCss}(),SafeSelector=function(){function SafeSelector(selector){var _this=this;this.placeholders=[],this.index=0,selector=selector.replace(/(\[[^\]]*\])/g,function(_,keep){var replaceBy="__ph-"+_this.index+"__";return _this.placeholders.push(keep),_this.index++,replaceBy}),this._content=selector.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(_,pseudo,exp){var replaceBy="__ph-"+_this.index+"__";return _this.placeholders.push(exp),_this.index++,pseudo+replaceBy})}return SafeSelector.prototype.restore=function(content){var _this=this;return content.replace(/__ph-(\d+)__/g,function(ph,index){return _this.placeholders[+index]})},SafeSelector.prototype.content=function(){return this._content},SafeSelector}(),_cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_parenSuffix=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_cssColonHostRe=new RegExp("("+_polyfillHost+_parenSuffix,"gim"),_cssColonHostContextRe=new RegExp("("+_polyfillHostContext+_parenSuffix,"gim"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_polyfillHostNoCombinatorRe=/-shadowcsshost-no-combinator([^\s]*)/,_shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=/-shadowcsshost/gim,_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_commentRe=/\/\*\s*[\s\S]*?\*\//g;var _commentWithHashRe=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;var _ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,_curlyRe=/([{}])/g,OPEN_CURLY="{",CLOSE_CURLY="}",BLOCK_PLACEHOLDER="%BLOCK%",CssRule=function(){return function(selector,content){this.selector=selector,this.content=content}}();var StringWithEscapedBlocks=function(){return function(escapedString,blocks){this.escapedString=escapedString,this.blocks=blocks}}();var HOST_ATTR="_nghost-%COMP%";exports.HOST_ATTR=HOST_ATTR;var CONTENT_ATTR="_ngcontent-%COMP%";exports.CONTENT_ATTR=CONTENT_ATTR;var StylesCompileDependency=function(){return function(name,moduleUrl,setValue){this.name=name,this.moduleUrl=moduleUrl,this.setValue=setValue}}();exports.StylesCompileDependency=StylesCompileDependency;var CompiledStylesheet=function(){return function(outputCtx,stylesVar,dependencies,isShimmed,meta){this.outputCtx=outputCtx,this.stylesVar=stylesVar,this.dependencies=dependencies,this.isShimmed=isShimmed,this.meta=meta}}();exports.CompiledStylesheet=CompiledStylesheet;var StyleCompiler=function(){function StyleCompiler(_urlResolver){this._urlResolver=_urlResolver,this._shadowCss=new ShadowCss}return StyleCompiler.prototype.compileComponent=function(outputCtx,comp){var template=comp.template;return this._compileStyles(outputCtx,comp,new CompileStylesheetMetadata({styles:template.styles,styleUrls:template.styleUrls,moduleUrl:identifierModuleUrl(comp.type)}),this.needsStyleShim(comp),!0)},StyleCompiler.prototype.compileStyles=function(outputCtx,comp,stylesheet,shim){return void 0===shim&&(shim=this.needsStyleShim(comp)),this._compileStyles(outputCtx,comp,stylesheet,shim,!1)},StyleCompiler.prototype.needsStyleShim=function(comp){return comp.template.encapsulation===ViewEncapsulation.Emulated},StyleCompiler.prototype._compileStyles=function(outputCtx,comp,stylesheet,shim,isComponentStylesheet){var _this=this,styleExpressions=stylesheet.styles.map(function(plainStyle){return literal(_this._shimIfNeeded(plainStyle,shim))}),dependencies=[];stylesheet.styleUrls.forEach(function(styleUrl){var exprIndex=styleExpressions.length;styleExpressions.push(null),dependencies.push(new StylesCompileDependency(getStylesVarName(null),styleUrl,function(value){return styleExpressions[exprIndex]=outputCtx.importExpr(value)}))});var stylesVar=getStylesVarName(isComponentStylesheet?comp:null),stmt=variable(stylesVar).set(literalArr(styleExpressions,new ArrayType(DYNAMIC_TYPE,[TypeModifier.Const]))).toDeclStmt(null,isComponentStylesheet?[StmtModifier.Final]:[StmtModifier.Final,StmtModifier.Exported]);return outputCtx.statements.push(stmt),new CompiledStylesheet(outputCtx,stylesVar,dependencies,shim,stylesheet)},StyleCompiler.prototype._shimIfNeeded=function(style,shim){return shim?this._shadowCss.shimCssText(style,CONTENT_ATTR,HOST_ATTR):style},StyleCompiler}();function getStylesVarName(component){var result="styles";return component&&(result+="_"+identifierName(component.type)),result}exports.StyleCompiler=StyleCompiler;var AstPath=function(){function AstPath(path,position){void 0===position&&(position=-1),this.path=path,this.position=position}return Object.defineProperty(AstPath.prototype,"empty",{get:function(){return!this.path||!this.path.length},enumerable:!0,configurable:!0}),Object.defineProperty(AstPath.prototype,"head",{get:function(){return this.path[0]},enumerable:!0,configurable:!0}),Object.defineProperty(AstPath.prototype,"tail",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),AstPath.prototype.parentOf=function(node){return node&&this.path[this.path.indexOf(node)-1]},AstPath.prototype.childOf=function(node){return this.path[this.path.indexOf(node)+1]},AstPath.prototype.first=function(ctor){for(var i=this.path.length-1;i>=0;i--){var item=this.path[i];if(item instanceof ctor)return item}},AstPath.prototype.push=function(node){this.path.push(node)},AstPath.prototype.pop=function(){return this.path.pop()},AstPath}();exports.AstPath=AstPath;var Text$3=function(){function Text(value,sourceSpan,i18n){this.value=value,this.sourceSpan=sourceSpan,this.i18n=i18n}return Text.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},Text}();exports.Text=Text$3;var Expansion=function(){function Expansion(switchValue,type,cases,sourceSpan,switchValueSourceSpan,i18n){this.switchValue=switchValue,this.type=type,this.cases=cases,this.sourceSpan=sourceSpan,this.switchValueSourceSpan=switchValueSourceSpan,this.i18n=i18n}return Expansion.prototype.visit=function(visitor,context){return visitor.visitExpansion(this,context)},Expansion}();exports.Expansion=Expansion;var ExpansionCase=function(){function ExpansionCase(value,expression,sourceSpan,valueSourceSpan,expSourceSpan){this.value=value,this.expression=expression,this.sourceSpan=sourceSpan,this.valueSourceSpan=valueSourceSpan,this.expSourceSpan=expSourceSpan}return ExpansionCase.prototype.visit=function(visitor,context){return visitor.visitExpansionCase(this,context)},ExpansionCase}();exports.ExpansionCase=ExpansionCase;var Attribute=function(){function Attribute(name,value,sourceSpan,valueSpan,i18n){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.i18n=i18n}return Attribute.prototype.visit=function(visitor,context){return visitor.visitAttribute(this,context)},Attribute}();exports.Attribute=Attribute;var Element$1=function(){function Element(name,attrs,children,sourceSpan,startSourceSpan,endSourceSpan,i18n){void 0===startSourceSpan&&(startSourceSpan=null),void 0===endSourceSpan&&(endSourceSpan=null),this.name=name,this.attrs=attrs,this.children=children,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n}return Element.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},Element}();exports.Element=Element$1;var Comment=function(){function Comment(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return Comment.prototype.visit=function(visitor,context){return visitor.visitComment(this,context)},Comment}();function visitAll$1(visitor,nodes,context){void 0===context&&(context=null);var result=[],visit=visitor.visit?function(ast){return visitor.visit(ast,context)||ast.visit(visitor,context)}:function(ast){return ast.visit(visitor,context)};return nodes.forEach(function(ast){var astResult=visit(ast);astResult&&result.push(astResult)}),result}exports.Comment=Comment;var TokenType,RecursiveVisitor$1=function(){function RecursiveVisitor(){}return RecursiveVisitor.prototype.visitElement=function(ast,context){this.visitChildren(context,function(visit){visit(ast.attrs),visit(ast.children)})},RecursiveVisitor.prototype.visitAttribute=function(ast,context){},RecursiveVisitor.prototype.visitText=function(ast,context){},RecursiveVisitor.prototype.visitComment=function(ast,context){},RecursiveVisitor.prototype.visitExpansion=function(ast,context){return this.visitChildren(context,function(visit){visit(ast.cases)})},RecursiveVisitor.prototype.visitExpansionCase=function(ast,context){},RecursiveVisitor.prototype.visitChildren=function(context,cb){var results=[],t=this;return cb(function(children){children&&results.push(visitAll$1(t,children,context))}),Array.prototype.concat.apply([],results)},RecursiveVisitor}();exports.RecursiveVisitor=RecursiveVisitor$1,function(TokenType){TokenType[TokenType.TAG_OPEN_START=0]="TAG_OPEN_START",TokenType[TokenType.TAG_OPEN_END=1]="TAG_OPEN_END",TokenType[TokenType.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",TokenType[TokenType.TAG_CLOSE=3]="TAG_CLOSE",TokenType[TokenType.TEXT=4]="TEXT",TokenType[TokenType.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",TokenType[TokenType.RAW_TEXT=6]="RAW_TEXT",TokenType[TokenType.COMMENT_START=7]="COMMENT_START",TokenType[TokenType.COMMENT_END=8]="COMMENT_END",TokenType[TokenType.CDATA_START=9]="CDATA_START",TokenType[TokenType.CDATA_END=10]="CDATA_END",TokenType[TokenType.ATTR_NAME=11]="ATTR_NAME",TokenType[TokenType.ATTR_QUOTE=12]="ATTR_QUOTE",TokenType[TokenType.ATTR_VALUE=13]="ATTR_VALUE",TokenType[TokenType.DOC_TYPE=14]="DOC_TYPE",TokenType[TokenType.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",TokenType[TokenType.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",TokenType[TokenType.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",TokenType[TokenType.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",TokenType[TokenType.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",TokenType[TokenType.EOF=20]="EOF"}(TokenType||(TokenType={}));var Token=function(){return function(type,parts,sourceSpan){this.type=type,this.parts=parts,this.sourceSpan=sourceSpan}}(),TokenError=function(_super){function TokenError(errorMsg,tokenType,span){var _this=_super.call(this,span,errorMsg)||this;return _this.tokenType=tokenType,_this}return(0,_tslib.__extends)(TokenError,_super),TokenError}(ParseError),TokenizeResult=function(){return function(tokens,errors){this.tokens=tokens,this.errors=errors}}();var _CR_OR_CRLF_REGEXP=/\r\n?/g;function _unexpectedCharacterErrorMsg(charCode){return'Unexpected character "'+(charCode===$EOF?"EOF":String.fromCharCode(charCode))+'"'}function _unknownEntityErrorMsg(entitySrc){return'Unknown entity "'+entitySrc+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}var _ControlFlowError=function(){return function(error){this.error=error}}(),_Tokenizer=function(){function _Tokenizer(_file,_getTagDefinition,options){this._getTagDefinition=_getTagDefinition,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._tokenizeIcu=options.tokenizeExpansionForms||!1,this._interpolationConfig=options.interpolationConfig||DEFAULT_INTERPOLATION_CONFIG,this._leadingTriviaCodePoints=options.leadingTriviaChars&&options.leadingTriviaChars.map(function(c){return c.codePointAt(0)||0});var range=options.range||{endPos:_file.content.length,startPos:0,startLine:0,startCol:0};this._cursor=options.escapedString?new EscapedCharacterCursor(_file,range):new PlainCharacterCursor(_file,range);try{this._cursor.init()}catch(e){this.handleError(e)}}return _Tokenizer.prototype._processCarriageReturns=function(content){return content.replace(_CR_OR_CRLF_REGEXP,"\n")},_Tokenizer.prototype.tokenize=function(){for(;this._cursor.peek()!==$EOF;){var start=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(start):this._attemptCharCode($MINUS)?this._consumeComment(start):this._consumeDocType(start):this._attemptCharCode($SLASH)?this._consumeTagClose(start):this._consumeTagOpen(start):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}return this._beginToken(TokenType.EOF),this._endToken([]),new TokenizeResult(function(srcTokens){for(var dstTokens=[],lastDstToken=void 0,i=0;i<srcTokens.length;i++){var token=srcTokens[i];lastDstToken&&lastDstToken.type==TokenType.TEXT&&token.type==TokenType.TEXT?(lastDstToken.parts[0]+=token.parts[0],lastDstToken.sourceSpan.end=token.sourceSpan.end):(lastDstToken=token,dstTokens.push(lastDstToken))}return dstTokens}(this.tokens),this.errors)},_Tokenizer.prototype._tokenizeExpansionForm=function(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(((peek=this._cursor.peek())===$EQ||isAsciiLetter(peek)||isDigit(peek))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var peek;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},_Tokenizer.prototype._beginToken=function(type,start){void 0===start&&(start=this._cursor.clone()),this._currentTokenStart=start,this._currentTokenType=type},_Tokenizer.prototype._endToken=function(parts,end){if(void 0===end&&(end=this._cursor.clone()),null===this._currentTokenStart)throw new TokenError("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(end));if(null===this._currentTokenType)throw new TokenError("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));var token=new Token(this._currentTokenType,parts,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(token),this._currentTokenStart=null,this._currentTokenType=null,token},_Tokenizer.prototype._createError=function(msg,span){this._isInExpansionForm()&&(msg+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var error=new TokenError(msg,this._currentTokenType,span);return this._currentTokenStart=null,this._currentTokenType=null,new _ControlFlowError(error)},_Tokenizer.prototype.handleError=function(e){if(e instanceof CursorError&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof _ControlFlowError))throw e;this.errors.push(e.error)},_Tokenizer.prototype._attemptCharCode=function(charCode){return this._cursor.peek()===charCode&&(this._cursor.advance(),!0)},_Tokenizer.prototype._attemptCharCodeCaseInsensitive=function(charCode){return code1=this._cursor.peek(),code2=charCode,toUpperCaseCharCode(code1)==toUpperCaseCharCode(code2)&&(this._cursor.advance(),!0);var code1,code2},_Tokenizer.prototype._requireCharCode=function(charCode){var location=this._cursor.clone();if(!this._attemptCharCode(charCode))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(location))},_Tokenizer.prototype._attemptStr=function(chars){var len=chars.length;if(this._cursor.charsLeft()<len)return!1;for(var initialPosition=this._cursor.clone(),i=0;i<len;i++)if(!this._attemptCharCode(chars.charCodeAt(i)))return this._cursor=initialPosition,!1;return!0},_Tokenizer.prototype._attemptStrCaseInsensitive=function(chars){for(var i=0;i<chars.length;i++)if(!this._attemptCharCodeCaseInsensitive(chars.charCodeAt(i)))return!1;return!0},_Tokenizer.prototype._requireStr=function(chars){var location=this._cursor.clone();if(!this._attemptStr(chars))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(location))},_Tokenizer.prototype._attemptCharCodeUntilFn=function(predicate){for(;!predicate(this._cursor.peek());)this._cursor.advance()},_Tokenizer.prototype._requireCharCodeUntilFn=function(predicate,len){var start=this._cursor.clone();if(this._attemptCharCodeUntilFn(predicate),this._cursor.clone().diff(start)<len)throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(start))},_Tokenizer.prototype._attemptUntilChar=function(char){for(;this._cursor.peek()!==char;)this._cursor.advance()},_Tokenizer.prototype._readChar=function(decodeEntities){if(decodeEntities&&38===this._cursor.peek())return this._decodeEntity();var char=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),char},_Tokenizer.prototype._decodeEntity=function(){var start=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){var nameStart=this._cursor.clone();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this._cursor.peek()!=$SEMICOLON)return this._cursor=nameStart,"&";var name_1=this._cursor.getChars(nameStart);this._cursor.advance();var char=NAMED_ENTITIES[name_1];if(!char)throw this._createError(_unknownEntityErrorMsg(name_1),this._cursor.getSpan(start));return char}var isHex=this._attemptCharCode(120)||this._attemptCharCode(88),codeStart=this._cursor.clone();if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this._cursor.peek()!=$SEMICOLON)throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan());var strNum=this._cursor.getChars(codeStart);this._cursor.advance();try{var charCode=parseInt(strNum,isHex?16:10);return String.fromCharCode(charCode)}catch(_a){throw this._createError(_unknownEntityErrorMsg(this._cursor.getChars(start)),this._cursor.getSpan())}},_Tokenizer.prototype._consumeRawText=function(decodeEntities,endMarkerPredicate){this._beginToken(decodeEntities?TokenType.ESCAPABLE_RAW_TEXT:TokenType.RAW_TEXT);for(var parts=[];;){var tagCloseStart=this._cursor.clone(),foundEndMarker=endMarkerPredicate();if(this._cursor=tagCloseStart,foundEndMarker)break;parts.push(this._readChar(decodeEntities))}return this._endToken([this._processCarriageReturns(parts.join(""))])},_Tokenizer.prototype._consumeComment=function(start){var _this=this;this._beginToken(TokenType.COMMENT_START,start),this._requireCharCode($MINUS),this._endToken([]),this._consumeRawText(!1,function(){return _this._attemptStr("--\x3e")}),this._beginToken(TokenType.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])},_Tokenizer.prototype._consumeCdata=function(start){var _this=this;this._beginToken(TokenType.CDATA_START,start),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,function(){return _this._attemptStr("]]>")}),this._beginToken(TokenType.CDATA_END),this._requireStr("]]>"),this._endToken([])},_Tokenizer.prototype._consumeDocType=function(start){this._beginToken(TokenType.DOC_TYPE,start);var contentStart=this._cursor.clone();this._attemptUntilChar($GT);var content=this._cursor.getChars(contentStart);this._cursor.advance(),this._endToken([content])},_Tokenizer.prototype._consumePrefixAndName=function(){for(var code,nameStart,nameOrPrefixStart=this._cursor.clone(),prefix="";58!==this._cursor.peek()&&!(((code=this._cursor.peek())<$a||$z<code)&&(code<$A||$Z<code)&&(code<$0||code>$9));)this._cursor.advance();return 58===this._cursor.peek()?(prefix=this._cursor.getChars(nameOrPrefixStart),this._cursor.advance(),nameStart=this._cursor.clone()):nameStart=nameOrPrefixStart,this._requireCharCodeUntilFn(isNameEnd,""===prefix?0:1),[prefix,this._cursor.getChars(nameStart)]},_Tokenizer.prototype._consumeTagOpen=function(start){var tagName,prefix,openTagToken,tokensBeforeTagOpen=this.tokens.length,innerStart=this._cursor.clone();try{if(!isAsciiLetter(this._cursor.peek()))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(start));for(prefix=(openTagToken=this._consumeTagOpenStart(start)).parts[0],tagName=openTagToken.parts[1],this._attemptCharCodeUntilFn(isNotWhitespace);this._cursor.peek()!==$SLASH&&this._cursor.peek()!==$GT;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode($EQ)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(e){if(e instanceof _ControlFlowError)return this._cursor=innerStart,openTagToken&&(this.tokens.length=tokensBeforeTagOpen),this._beginToken(TokenType.TEXT,start),void this._endToken(["<"]);throw e}var contentTokenType=this._getTagDefinition(tagName).contentType;contentTokenType===TagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(prefix,tagName,!1):contentTokenType===TagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(prefix,tagName,!0)},_Tokenizer.prototype._consumeRawTextWithTagClose=function(prefix,tagName,decodeEntities){var _this=this;this._consumeRawText(decodeEntities,function(){return!!_this._attemptCharCode(60)&&(!!_this._attemptCharCode($SLASH)&&(_this._attemptCharCodeUntilFn(isNotWhitespace),!!_this._attemptStrCaseInsensitive(tagName)&&(_this._attemptCharCodeUntilFn(isNotWhitespace),_this._attemptCharCode($GT))))});this._beginToken(TokenType.TAG_CLOSE),this._requireCharCodeUntilFn(function(code){return code===$GT},3),this._cursor.advance(),this._endToken([prefix,tagName])},_Tokenizer.prototype._consumeTagOpenStart=function(start){this._beginToken(TokenType.TAG_OPEN_START,start);var parts=this._consumePrefixAndName();return this._endToken(parts)},_Tokenizer.prototype._consumeAttributeName=function(){var attrNameStart=this._cursor.peek();if(attrNameStart===$SQ||attrNameStart===$DQ)throw this._createError(_unexpectedCharacterErrorMsg(attrNameStart),this._cursor.getSpan());this._beginToken(TokenType.ATTR_NAME);var prefixAndName=this._consumePrefixAndName();this._endToken(prefixAndName)},_Tokenizer.prototype._consumeAttributeValue=function(){var value;if(this._cursor.peek()===$SQ||this._cursor.peek()===$DQ){this._beginToken(TokenType.ATTR_QUOTE);var quoteChar=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(quoteChar)]),this._beginToken(TokenType.ATTR_VALUE);for(var parts=[];this._cursor.peek()!==quoteChar;)parts.push(this._readChar(!0));value=parts.join(""),this._endToken([this._processCarriageReturns(value)]),this._beginToken(TokenType.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(quoteChar)])}else{this._beginToken(TokenType.ATTR_VALUE);var valueStart=this._cursor.clone();this._requireCharCodeUntilFn(isNameEnd,1),value=this._cursor.getChars(valueStart),this._endToken([this._processCarriageReturns(value)])}},_Tokenizer.prototype._consumeTagOpenEnd=function(){var tokenType=this._attemptCharCode($SLASH)?TokenType.TAG_OPEN_END_VOID:TokenType.TAG_OPEN_END;this._beginToken(tokenType),this._requireCharCode($GT),this._endToken([])},_Tokenizer.prototype._consumeTagClose=function(start){this._beginToken(TokenType.TAG_CLOSE,start),this._attemptCharCodeUntilFn(isNotWhitespace);var prefixAndName=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode($GT),this._endToken(prefixAndName)},_Tokenizer.prototype._consumeExpansionFormStart=function(){this._beginToken(TokenType.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(TokenType.EXPANSION_FORM_START),this._beginToken(TokenType.RAW_TEXT);var condition=this._readUntil(44);this._endToken([condition]),this._requireCharCode(44),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType.RAW_TEXT);var type=this._readUntil(44);this._endToken([type]),this._requireCharCode(44),this._attemptCharCodeUntilFn(isNotWhitespace)},_Tokenizer.prototype._consumeExpansionCaseStart=function(){this._beginToken(TokenType.EXPANSION_CASE_VALUE);var value=this._readUntil(123).trim();this._endToken([value]),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(TokenType.EXPANSION_CASE_EXP_START)},_Tokenizer.prototype._consumeExpansionCaseEnd=function(){this._beginToken(TokenType.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()},_Tokenizer.prototype._consumeExpansionFormEnd=function(){this._beginToken(TokenType.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()},_Tokenizer.prototype._consumeText=function(){var start=this._cursor.clone();this._beginToken(TokenType.TEXT,start);var parts=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(parts.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(parts.push(this._interpolationConfig.end),this._inInterpolation=!1):parts.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(parts.join(""))])},_Tokenizer.prototype._isTextEnd=function(){if(60===this._cursor.peek()||this._cursor.peek()===$EOF)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1},_Tokenizer.prototype._readUntil=function(char){var start=this._cursor.clone();return this._attemptUntilChar(char),this._cursor.getChars(start)},_Tokenizer.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType.EXPANSION_CASE_EXP_START},_Tokenizer.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType.EXPANSION_FORM_START},_Tokenizer.prototype.isExpansionFormStart=function(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){var start=this._cursor.clone(),isInterpolation=this._attemptStr(this._interpolationConfig.start);return this._cursor=start,!isInterpolation}return!0},_Tokenizer}();function isNotWhitespace(code){return!isWhitespace(code)||code===$EOF}function isNameEnd(code){return isWhitespace(code)||code===$GT||code===$SLASH||code===$SQ||code===$DQ||code===$EQ}function isDigitEntityEnd(code){return code==$SEMICOLON||code==$EOF||!function(code){return code>=$a&&code<=$f||code>=$A&&code<=$F||isDigit(code)}(code)}function isNamedEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiLetter(code)}function toUpperCaseCharCode(code){return code>=$a&&code<=$z?code-$a+$A:code}var PlainCharacterCursor=function(){function PlainCharacterCursor(fileOrCursor,range){if(fileOrCursor instanceof PlainCharacterCursor)this.file=fileOrCursor.file,this.input=fileOrCursor.input,this.end=fileOrCursor.end,this.state=(0,_tslib.__assign)({},fileOrCursor.state);else{if(!range)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=fileOrCursor,this.input=fileOrCursor.content,this.end=range.endPos,this.state={peek:-1,offset:range.startPos,line:range.startLine,column:range.startCol}}}return PlainCharacterCursor.prototype.clone=function(){return new PlainCharacterCursor(this)},PlainCharacterCursor.prototype.peek=function(){return this.state.peek},PlainCharacterCursor.prototype.charsLeft=function(){return this.end-this.state.offset},PlainCharacterCursor.prototype.diff=function(other){return this.state.offset-other.state.offset},PlainCharacterCursor.prototype.advance=function(){this.advanceState(this.state)},PlainCharacterCursor.prototype.init=function(){this.updatePeek(this.state)},PlainCharacterCursor.prototype.getSpan=function(start,leadingTriviaCodePoints){if(start=start||this,leadingTriviaCodePoints)for(start=start.clone();this.diff(start)>0&&-1!==leadingTriviaCodePoints.indexOf(start.peek());)start.advance();return new ParseSourceSpan(new ParseLocation(start.file,start.state.offset,start.state.line,start.state.column),new ParseLocation(this.file,this.state.offset,this.state.line,this.state.column))},PlainCharacterCursor.prototype.getChars=function(start){return this.input.substring(start.state.offset,this.state.offset)},PlainCharacterCursor.prototype.charAt=function(pos){return this.input.charCodeAt(pos)},PlainCharacterCursor.prototype.advanceState=function(state){if(state.offset>=this.end)throw this.state=state,new CursorError('Unexpected character "EOF"',this);var currentChar=this.charAt(state.offset);currentChar===$LF?(state.line++,state.column=0):isNewLine(currentChar)||state.column++,state.offset++,this.updatePeek(state)},PlainCharacterCursor.prototype.updatePeek=function(state){state.peek=state.offset>=this.end?$EOF:this.charAt(state.offset)},PlainCharacterCursor}(),EscapedCharacterCursor=function(_super){function EscapedCharacterCursor(fileOrCursor,range){var _this=this;return fileOrCursor instanceof EscapedCharacterCursor?(_this=_super.call(this,fileOrCursor)||this).internalState=(0,_tslib.__assign)({},fileOrCursor.internalState):(_this=_super.call(this,fileOrCursor,range)||this).internalState=_this.state,_this}return(0,_tslib.__extends)(EscapedCharacterCursor,_super),EscapedCharacterCursor.prototype.advance=function(){this.state=this.internalState,_super.prototype.advance.call(this),this.processEscapeSequence()},EscapedCharacterCursor.prototype.init=function(){_super.prototype.init.call(this),this.processEscapeSequence()},EscapedCharacterCursor.prototype.clone=function(){return new EscapedCharacterCursor(this)},EscapedCharacterCursor.prototype.getChars=function(start){for(var cursor=start.clone(),chars="";cursor.internalState.offset<this.internalState.offset;)chars+=String.fromCodePoint(cursor.peek()),cursor.advance();return chars},EscapedCharacterCursor.prototype.processEscapeSequence=function(){var _this=this,peek=function(){return _this.internalState.peek};if(92===peek())if(this.internalState=(0,_tslib.__assign)({},this.state),this.advanceState(this.internalState),peek()===$n)this.state.peek=$LF;else if(peek()===$r)this.state.peek=$CR;else if(peek()===$v)this.state.peek=$VTAB;else if(peek()===$t)this.state.peek=$TAB;else if(98===peek())this.state.peek=8;else if(peek()===$f)this.state.peek=$FF;else if(117===peek())if(this.advanceState(this.internalState),123===peek()){this.advanceState(this.internalState);for(var digitStart=this.clone(),length_1=0;125!==peek();)this.advanceState(this.internalState),length_1++;this.state.peek=this.decodeHexDigits(digitStart,length_1)}else{digitStart=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(digitStart,4)}else if(120===peek()){this.advanceState(this.internalState);digitStart=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(digitStart,2)}else if(isOctalDigit(peek())){for(var octal="",length_2=0,previous=this.clone();isOctalDigit(peek())&&length_2<3;)previous=this.clone(),octal+=String.fromCodePoint(peek()),this.advanceState(this.internalState),length_2++;this.state.peek=parseInt(octal,8),this.internalState=previous.internalState}else isNewLine(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek},EscapedCharacterCursor.prototype.decodeHexDigits=function(start,length){var hex=this.input.substr(start.internalState.offset,length),charCode=parseInt(hex,16);if(isNaN(charCode))throw start.state=start.internalState,new CursorError("Invalid hexadecimal escape sequence",start);return charCode},EscapedCharacterCursor}(PlainCharacterCursor),CursorError=function(){return function(msg,cursor){this.msg=msg,this.cursor=cursor}}(),TreeError=function(_super){function TreeError(elementName,span,msg){var _this=_super.call(this,span,msg)||this;return _this.elementName=elementName,_this}return(0,_tslib.__extends)(TreeError,_super),TreeError.create=function(elementName,span,msg){return new TreeError(elementName,span,msg)},TreeError}(ParseError);exports.TreeError=TreeError;var ParseTreeResult=function(){return function(rootNodes,errors){this.rootNodes=rootNodes,this.errors=errors}}();exports.ParseTreeResult=ParseTreeResult;var Parser=function(){function Parser(getTagDefinition){this.getTagDefinition=getTagDefinition}return Parser.prototype.parse=function(source,url,options){var tokensAndErrors=function(source,url,getTagDefinition,options){return void 0===options&&(options={}),new _Tokenizer(new ParseSourceFile(source,url),getTagDefinition,options).tokenize()}(source,url,this.getTagDefinition,options),treeAndErrors=new _TreeBuilder(tokensAndErrors.tokens,this.getTagDefinition).build();return new ParseTreeResult(treeAndErrors.rootNodes,tokensAndErrors.errors.concat(treeAndErrors.errors))},Parser}(),_TreeBuilder=function(){function _TreeBuilder(tokens,getTagDefinition){this.tokens=tokens,this.getTagDefinition=getTagDefinition,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return _TreeBuilder.prototype.build=function(){for(;this._peek.type!==TokenType.EOF;)this._peek.type===TokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===TokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===TokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===TokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===TokenType.TEXT||this._peek.type===TokenType.RAW_TEXT||this._peek.type===TokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===TokenType.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new ParseTreeResult(this._rootNodes,this._errors)},_TreeBuilder.prototype._advance=function(){var prev=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],prev},_TreeBuilder.prototype._advanceIf=function(type){return this._peek.type===type?this._advance():null},_TreeBuilder.prototype._consumeCdata=function(startToken){this._consumeText(this._advance()),this._advanceIf(TokenType.CDATA_END)},_TreeBuilder.prototype._consumeComment=function(token){var text=this._advanceIf(TokenType.RAW_TEXT);this._advanceIf(TokenType.COMMENT_END);var value=null!=text?text.parts[0].trim():null;this._addToParent(new Comment(value,token.sourceSpan))},_TreeBuilder.prototype._consumeExpansion=function(token){for(var switchValue=this._advance(),type=this._advance(),cases=[];this._peek.type===TokenType.EXPANSION_CASE_VALUE;){var expCase=this._parseExpansionCase();if(!expCase)return;cases.push(expCase)}if(this._peek.type===TokenType.EXPANSION_FORM_END){var sourceSpan=new ParseSourceSpan(token.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Expansion(switchValue.parts[0],type.parts[0],cases,sourceSpan,switchValue.sourceSpan)),this._advance()}else this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."))},_TreeBuilder.prototype._parseExpansionCase=function(){var value=this._advance();if(this._peek.type!==TokenType.EXPANSION_CASE_EXP_START)return this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var start=this._advance(),exp=this._collectExpansionExpTokens(start);if(!exp)return null;var end=this._advance();exp.push(new Token(TokenType.EOF,[],end.sourceSpan));var parsedExp=new _TreeBuilder(exp,this.getTagDefinition).build();if(parsedExp.errors.length>0)return this._errors=this._errors.concat(parsedExp.errors),null;var sourceSpan=new ParseSourceSpan(value.sourceSpan.start,end.sourceSpan.end),expSourceSpan=new ParseSourceSpan(start.sourceSpan.start,end.sourceSpan.end);return new ExpansionCase(value.parts[0],parsedExp.rootNodes,sourceSpan,value.sourceSpan,expSourceSpan)},_TreeBuilder.prototype._collectExpansionExpTokens=function(start){for(var exp=[],expansionFormStack=[TokenType.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==TokenType.EXPANSION_FORM_START&&this._peek.type!==TokenType.EXPANSION_CASE_EXP_START||expansionFormStack.push(this._peek.type),this._peek.type===TokenType.EXPANSION_CASE_EXP_END){if(!lastOnStack(expansionFormStack,TokenType.EXPANSION_CASE_EXP_START))return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(expansionFormStack.pop(),0==expansionFormStack.length)return exp}if(this._peek.type===TokenType.EXPANSION_FORM_END){if(!lastOnStack(expansionFormStack,TokenType.EXPANSION_FORM_START))return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;expansionFormStack.pop()}if(this._peek.type===TokenType.EOF)return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;exp.push(this._advance())}},_TreeBuilder.prototype._consumeText=function(token){var text=token.parts[0];if(text.length>0&&"\n"==text[0]){var parent_1=this._getParentElement();null!=parent_1&&0==parent_1.children.length&&this.getTagDefinition(parent_1.name).ignoreFirstLf&&(text=text.substring(1))}text.length>0&&this._addToParent(new Text$3(text,token.sourceSpan))},_TreeBuilder.prototype._closeVoidElement=function(){var el=this._getParentElement();el&&this.getTagDefinition(el.name).isVoid&&this._elementStack.pop()},_TreeBuilder.prototype._consumeStartTag=function(startTagToken){for(var prefix=startTagToken.parts[0],name=startTagToken.parts[1],attrs=[];this._peek.type===TokenType.ATTR_NAME;)attrs.push(this._consumeAttr(this._advance()));var fullName=this._getElementFullName(prefix,name,this._getParentElement()),selfClosing=!1;if(this._peek.type===TokenType.TAG_OPEN_END_VOID){this._advance(),selfClosing=!0;var tagDef=this.getTagDefinition(fullName);tagDef.canSelfClose||null!==getNsPrefix(fullName)||tagDef.isVoid||this._errors.push(TreeError.create(fullName,startTagToken.sourceSpan,'Only void and foreign elements can be self closed "'+startTagToken.parts[1]+'"'))}else this._peek.type===TokenType.TAG_OPEN_END&&(this._advance(),selfClosing=!1);var end=this._peek.sourceSpan.start,span=new ParseSourceSpan(startTagToken.sourceSpan.start,end),el=new Element$1(fullName,attrs,[],span,span,void 0);this._pushElement(el),selfClosing&&(this._popElement(fullName),el.endSourceSpan=span)},_TreeBuilder.prototype._pushElement=function(el){var parentEl=this._getParentElement();parentEl&&this.getTagDefinition(parentEl.name).isClosedByChild(el.name)&&this._elementStack.pop(),this._addToParent(el),this._elementStack.push(el)},_TreeBuilder.prototype._consumeEndTag=function(endTagToken){var fullName=this._getElementFullName(endTagToken.parts[0],endTagToken.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=endTagToken.sourceSpan),this.getTagDefinition(fullName).isVoid)this._errors.push(TreeError.create(fullName,endTagToken.sourceSpan,'Void elements do not have end tags "'+endTagToken.parts[1]+'"'));else if(!this._popElement(fullName)){var errMsg='Unexpected closing tag "'+fullName+'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags';this._errors.push(TreeError.create(fullName,endTagToken.sourceSpan,errMsg))}},_TreeBuilder.prototype._popElement=function(fullName){for(var stackIndex=this._elementStack.length-1;stackIndex>=0;stackIndex--){var el=this._elementStack[stackIndex];if(el.name==fullName)return this._elementStack.splice(stackIndex,this._elementStack.length-stackIndex),!0;if(!this.getTagDefinition(el.name).closedByParent)return!1}return!1},_TreeBuilder.prototype._consumeAttr=function(attrName){var fullName=mergeNsAndName(attrName.parts[0],attrName.parts[1]),end=attrName.sourceSpan.end,value="",valueSpan=void 0;if(this._peek.type===TokenType.ATTR_QUOTE&&this._advance(),this._peek.type===TokenType.ATTR_VALUE){var valueToken=this._advance();value=valueToken.parts[0],end=valueToken.sourceSpan.end,valueSpan=valueToken.sourceSpan}this._peek.type===TokenType.ATTR_QUOTE&&(end=this._advance().sourceSpan.end);return new Attribute(fullName,value,new ParseSourceSpan(attrName.sourceSpan.start,end),valueSpan)},_TreeBuilder.prototype._getParentElement=function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null},_TreeBuilder.prototype._getParentElementSkippingContainers=function(){for(var container=null,i=this._elementStack.length-1;i>=0;i--){if(!isNgContainer(this._elementStack[i].name))return{parent:this._elementStack[i],container:container};container=this._elementStack[i]}return{parent:null,container:container}},_TreeBuilder.prototype._addToParent=function(node){var parent=this._getParentElement();null!=parent?parent.children.push(node):this._rootNodes.push(node)},_TreeBuilder.prototype._insertBeforeContainer=function(parent,container,node){if(container){if(parent){var index=parent.children.indexOf(container);parent.children[index]=node}else this._rootNodes.push(node);node.children.push(container),this._elementStack.splice(this._elementStack.indexOf(container),0,node)}else this._addToParent(node),this._elementStack.push(node)},_TreeBuilder.prototype._getElementFullName=function(prefix,localName,parentElement){return""===prefix&&""===(prefix=this.getTagDefinition(localName).implicitNamespacePrefix||"")&&null!=parentElement&&(prefix=getNsPrefix(parentElement.name)),mergeNsAndName(prefix,localName)},_TreeBuilder}();function lastOnStack(stack,element){return stack.length>0&&stack[stack.length-1]===element}var HtmlParser=function(_super){function HtmlParser(){return _super.call(this,getHtmlTagDefinition)||this}return(0,_tslib.__extends)(HtmlParser,_super),HtmlParser.prototype.parse=function(source,url,options){return _super.prototype.parse.call(this,source,url,options)},HtmlParser}(Parser);exports.HtmlParser=HtmlParser;var PRESERVE_WS_ATTR_NAME="ngPreserveWhitespaces",SKIP_WS_TRIM_TAGS=new Set(["pre","template","textarea","script","style"]),WS_CHARS=" \f\n\r\t\v-\u2028\u2029\ufeff",NO_WS_REGEXP=new RegExp("[^"+WS_CHARS+"]"),WS_REPLACE_REGEXP=new RegExp("["+WS_CHARS+"]{2,}","g");function replaceNgsp(value){return value.replace(new RegExp(NGSP_UNICODE,"g")," ")}var WhitespaceVisitor=function(){function WhitespaceVisitor(){}return WhitespaceVisitor.prototype.visitElement=function(element,context){return SKIP_WS_TRIM_TAGS.has(element.name)||element.attrs.some(function(attr){return attr.name===PRESERVE_WS_ATTR_NAME})?new Element$1(element.name,visitAll$1(this,element.attrs),element.children,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n):new Element$1(element.name,element.attrs,visitAll$1(this,element.children),element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)},WhitespaceVisitor.prototype.visitAttribute=function(attribute,context){return attribute.name!==PRESERVE_WS_ATTR_NAME?attribute:null},WhitespaceVisitor.prototype.visitText=function(text,context){return text.value.match(NO_WS_REGEXP)?new Text$3(replaceNgsp(text.value).replace(WS_REPLACE_REGEXP," "),text.sourceSpan,text.i18n):null},WhitespaceVisitor.prototype.visitComment=function(comment,context){return comment},WhitespaceVisitor.prototype.visitExpansion=function(expansion,context){return expansion},WhitespaceVisitor.prototype.visitExpansionCase=function(expansionCase,context){return expansionCase},WhitespaceVisitor}();function removeWhitespaces(htmlAstWithErrors){return new ParseTreeResult(visitAll$1(new WhitespaceVisitor,htmlAstWithErrors.rootNodes),htmlAstWithErrors.errors)}var PLURAL_CASES=["zero","one","two","few","many","other"];function expandNodes(nodes){var expander=new _Expander;return new ExpansionResult(visitAll$1(expander,nodes),expander.isExpanded,expander.errors)}var _a,ExpansionResult=function(){return function(nodes,expanded,errors){this.nodes=nodes,this.expanded=expanded,this.errors=errors}}(),ExpansionError=function(_super){function ExpansionError(span,errorMsg){return _super.call(this,span,errorMsg)||this}return(0,_tslib.__extends)(ExpansionError,_super),ExpansionError}(ParseError),_Expander=function(){function _Expander(){this.isExpanded=!1,this.errors=[]}return _Expander.prototype.visitElement=function(element,context){return new Element$1(element.name,element.attrs,visitAll$1(this,element.children),element.sourceSpan,element.startSourceSpan,element.endSourceSpan)},_Expander.prototype.visitAttribute=function(attribute,context){return attribute},_Expander.prototype.visitText=function(text,context){return text},_Expander.prototype.visitComment=function(comment,context){return comment},_Expander.prototype.visitExpansion=function(icu,context){return this.isExpanded=!0,"plural"==icu.type?(ast=icu,errors=this.errors,children=ast.cases.map(function(c){-1!=PLURAL_CASES.indexOf(c.value)||c.value.match(/^=\d+$/)||errors.push(new ExpansionError(c.valueSourceSpan,'Plural cases should be "=<number>" or one of '+PLURAL_CASES.join(", ")));var expansionResult=expandNodes(c.expression);return errors.push.apply(errors,(0,_tslib.__spread)(expansionResult.errors)),new Element$1("ng-template",[new Attribute("ngPluralCase",""+c.value,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new Attribute("[ngPlural]",ast.switchValue,ast.switchValueSourceSpan),new Element$1("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)):function(ast,errors){var children=ast.cases.map(function(c){var expansionResult=expandNodes(c.expression);return errors.push.apply(errors,(0,_tslib.__spread)(expansionResult.errors)),"other"===c.value?new Element$1("ng-template",[new Attribute("ngSwitchDefault","",c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan):new Element$1("ng-template",[new Attribute("ngSwitchCase",""+c.value,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new Attribute("[ngSwitch]",ast.switchValue,ast.switchValueSourceSpan);return new Element$1("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)}(icu,this.errors);var ast,errors,children,switchAttr},_Expander.prototype.visitExpansionCase=function(icuCase,context){throw new Error("Should not be reached")},_Expander}();var TextAst=function(){function TextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return TextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},TextAst}();exports.TextAst=TextAst;var BoundTextAst=function(){function BoundTextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return BoundTextAst.prototype.visit=function(visitor,context){return visitor.visitBoundText(this,context)},BoundTextAst}();exports.BoundTextAst=BoundTextAst;var AttrAst=function(){function AttrAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return AttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)},AttrAst}();exports.AttrAst=AttrAst;var BoundPropertyMapping=((_a={})[4]=4,_a[1]=1,_a[2]=2,_a[0]=0,_a[3]=3,_a),BoundElementPropertyAst=function(){function BoundElementPropertyAst(name,type,securityContext,value,unit,sourceSpan){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.isAnimation=4===this.type}return BoundElementPropertyAst.fromBoundProperty=function(prop){var type=BoundPropertyMapping[prop.type];return new BoundElementPropertyAst(prop.name,type,prop.securityContext,prop.value,prop.unit,prop.sourceSpan)},BoundElementPropertyAst.prototype.visit=function(visitor,context){return visitor.visitElementProperty(this,context)},BoundElementPropertyAst}();exports.BoundElementPropertyAst=BoundElementPropertyAst;var BoundEventAst=function(){function BoundEventAst(name,target,phase,handler,sourceSpan,handlerSpan){this.name=name,this.target=target,this.phase=phase,this.handler=handler,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan,this.fullName=BoundEventAst.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}return BoundEventAst.calcFullName=function(name,target,phase){return target?target+":"+name:phase?"@"+name+"."+phase:name},BoundEventAst.fromParsedEvent=function(event){var target=0===event.type?event.targetOrPhase:null,phase=1===event.type?event.targetOrPhase:null;return new BoundEventAst(event.name,target,phase,event.handler,event.sourceSpan,event.handlerSpan)},BoundEventAst.prototype.visit=function(visitor,context){return visitor.visitEvent(this,context)},BoundEventAst}();exports.BoundEventAst=BoundEventAst;var ReferenceAst=function(){function ReferenceAst(name,value,originalValue,sourceSpan){this.name=name,this.value=value,this.originalValue=originalValue,this.sourceSpan=sourceSpan}return ReferenceAst.prototype.visit=function(visitor,context){return visitor.visitReference(this,context)},ReferenceAst}();exports.ReferenceAst=ReferenceAst;var VariableAst=function(){function VariableAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return VariableAst.fromParsedVariable=function(v){return new VariableAst(v.name,v.value,v.sourceSpan)},VariableAst.prototype.visit=function(visitor,context){return visitor.visitVariable(this,context)},VariableAst}();exports.VariableAst=VariableAst;var ElementAst=function(){function ElementAst(name,attrs,inputs,outputs,references,directives,providers,hasViewContainer,queryMatches,children,ngContentIndex,sourceSpan,endSourceSpan){this.name=name,this.attrs=attrs,this.inputs=inputs,this.outputs=outputs,this.references=references,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.queryMatches=queryMatches,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan,this.endSourceSpan=endSourceSpan}return ElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},ElementAst}();exports.ElementAst=ElementAst;var EmbeddedTemplateAst=function(){function EmbeddedTemplateAst(attrs,outputs,references,variables,directives,providers,hasViewContainer,queryMatches,children,ngContentIndex,sourceSpan){this.attrs=attrs,this.outputs=outputs,this.references=references,this.variables=variables,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.queryMatches=queryMatches,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return EmbeddedTemplateAst.prototype.visit=function(visitor,context){return visitor.visitEmbeddedTemplate(this,context)},EmbeddedTemplateAst}();exports.EmbeddedTemplateAst=EmbeddedTemplateAst;var BoundDirectivePropertyAst=function(){function BoundDirectivePropertyAst(directiveName,templateName,value,sourceSpan){this.directiveName=directiveName,this.templateName=templateName,this.value=value,this.sourceSpan=sourceSpan}return BoundDirectivePropertyAst.prototype.visit=function(visitor,context){return visitor.visitDirectiveProperty(this,context)},BoundDirectivePropertyAst}();exports.BoundDirectivePropertyAst=BoundDirectivePropertyAst;var DirectiveAst=function(){function DirectiveAst(directive,inputs,hostProperties,hostEvents,contentQueryStartId,sourceSpan){this.directive=directive,this.inputs=inputs,this.hostProperties=hostProperties,this.hostEvents=hostEvents,this.contentQueryStartId=contentQueryStartId,this.sourceSpan=sourceSpan}return DirectiveAst.prototype.visit=function(visitor,context){return visitor.visitDirective(this,context)},DirectiveAst}();exports.DirectiveAst=DirectiveAst;var ProviderAstType,ProviderAst=function(){function ProviderAst(token,multiProvider,eager,providers,providerType,lifecycleHooks,sourceSpan,isModule){this.token=token,this.multiProvider=multiProvider,this.eager=eager,this.providers=providers,this.providerType=providerType,this.lifecycleHooks=lifecycleHooks,this.sourceSpan=sourceSpan,this.isModule=isModule}return ProviderAst.prototype.visit=function(visitor,context){return null},ProviderAst}();exports.ProviderAst=ProviderAst,exports.ProviderAstType=ProviderAstType,function(ProviderAstType){ProviderAstType[ProviderAstType.PublicService=0]="PublicService",ProviderAstType[ProviderAstType.PrivateService=1]="PrivateService",ProviderAstType[ProviderAstType.Component=2]="Component",ProviderAstType[ProviderAstType.Directive=3]="Directive",ProviderAstType[ProviderAstType.Builtin=4]="Builtin"}(ProviderAstType||(exports.ProviderAstType=ProviderAstType={}));var NgContentAst=function(){function NgContentAst(index,ngContentIndex,sourceSpan){this.index=index,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return NgContentAst.prototype.visit=function(visitor,context){return visitor.visitNgContent(this,context)},NgContentAst}();exports.NgContentAst=NgContentAst;var NullTemplateVisitor=function(){function NullTemplateVisitor(){}return NullTemplateVisitor.prototype.visitNgContent=function(ast,context){},NullTemplateVisitor.prototype.visitEmbeddedTemplate=function(ast,context){},NullTemplateVisitor.prototype.visitElement=function(ast,context){},NullTemplateVisitor.prototype.visitReference=function(ast,context){},NullTemplateVisitor.prototype.visitVariable=function(ast,context){},NullTemplateVisitor.prototype.visitEvent=function(ast,context){},NullTemplateVisitor.prototype.visitElementProperty=function(ast,context){},NullTemplateVisitor.prototype.visitAttr=function(ast,context){},NullTemplateVisitor.prototype.visitBoundText=function(ast,context){},NullTemplateVisitor.prototype.visitText=function(ast,context){},NullTemplateVisitor.prototype.visitDirective=function(ast,context){},NullTemplateVisitor.prototype.visitDirectiveProperty=function(ast,context){},NullTemplateVisitor}();exports.NullTemplateVisitor=NullTemplateVisitor;var RecursiveTemplateAstVisitor=function(_super){function RecursiveTemplateAstVisitor(){return _super.call(this)||this}return(0,_tslib.__extends)(RecursiveTemplateAstVisitor,_super),RecursiveTemplateAstVisitor.prototype.visitEmbeddedTemplate=function(ast,context){return this.visitChildren(context,function(visit){visit(ast.attrs),visit(ast.references),visit(ast.variables),visit(ast.directives),visit(ast.providers),visit(ast.children)})},RecursiveTemplateAstVisitor.prototype.visitElement=function(ast,context){return this.visitChildren(context,function(visit){visit(ast.attrs),visit(ast.inputs),visit(ast.outputs),visit(ast.references),visit(ast.directives),visit(ast.providers),visit(ast.children)})},RecursiveTemplateAstVisitor.prototype.visitDirective=function(ast,context){return this.visitChildren(context,function(visit){visit(ast.inputs),visit(ast.hostProperties),visit(ast.hostEvents)})},RecursiveTemplateAstVisitor.prototype.visitChildren=function(context,cb){var results=[],t=this;return cb(function(children){children&&children.length&&results.push(templateVisitAll(t,children,context))}),Array.prototype.concat.apply([],results)},RecursiveTemplateAstVisitor}(NullTemplateVisitor);function templateVisitAll(visitor,asts,context){void 0===context&&(context=null);var result=[],visit=visitor.visit?function(ast){return visitor.visit(ast,context)||ast.visit(visitor,context)}:function(ast){return ast.visit(visitor,context)};return asts.forEach(function(ast){var astResult=visit(ast);astResult&&result.push(astResult)}),result}exports.RecursiveTemplateAstVisitor=RecursiveTemplateAstVisitor;var ProviderError=function(_super){function ProviderError(message,span){return _super.call(this,span,message)||this}return(0,_tslib.__extends)(ProviderError,_super),ProviderError}(ParseError),ProviderViewContext=function(){return function(reflector,component){var _this=this;this.reflector=reflector,this.component=component,this.errors=[],this.viewQueries=function(component){var viewQueryId=1,viewQueries=new Map;return component.viewQueries&&component.viewQueries.forEach(function(query){return _addQueryToTokenMap(viewQueries,{meta:query,queryId:viewQueryId++})}),viewQueries}(component),this.viewProviders=new Map,component.viewProviders.forEach(function(provider){null==_this.viewProviders.get(tokenReference(provider.token))&&_this.viewProviders.set(tokenReference(provider.token),!0)})}}(),ProviderElementContext=function(){function ProviderElementContext(viewContext,_parent,_isViewRoot,_directiveAsts,attrs,refs,isTemplate,contentQueryStartId,_sourceSpan){var _this=this;this.viewContext=viewContext,this._parent=_parent,this._isViewRoot=_isViewRoot,this._directiveAsts=_directiveAsts,this._sourceSpan=_sourceSpan,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},attrs.forEach(function(attrAst){return _this._attrs[attrAst.name]=attrAst.value});var directives,sourceSpan,targetErrors,providersByToken,directivesMeta=_directiveAsts.map(function(directiveAst){return directiveAst.directive});if(this._allProviders=(directives=directivesMeta,sourceSpan=_sourceSpan,targetErrors=viewContext.errors,providersByToken=new Map,directives.forEach(function(directive){_resolveProviders([{token:{identifier:directive.type},useClass:directive.type}],directive.isComponent?ProviderAstType.Component:ProviderAstType.Directive,!0,sourceSpan,targetErrors,providersByToken,!1)}),directives.filter(function(dir){return dir.isComponent}).concat(directives.filter(function(dir){return!dir.isComponent})).forEach(function(directive){_resolveProviders(directive.providers,ProviderAstType.PublicService,!1,sourceSpan,targetErrors,providersByToken,!1),_resolveProviders(directive.viewProviders,ProviderAstType.PrivateService,!1,sourceSpan,targetErrors,providersByToken,!1)}),providersByToken),this._contentQueries=function(contentQueryStartId,directives){var contentQueryId=contentQueryStartId,contentQueries=new Map;return directives.forEach(function(directive,directiveIndex){directive.queries&&directive.queries.forEach(function(query){return _addQueryToTokenMap(contentQueries,{meta:query,queryId:contentQueryId++})})}),contentQueries}(contentQueryStartId,directivesMeta),Array.from(this._allProviders.values()).forEach(function(provider){_this._addQueryReadsTo(provider.token,provider.token,_this._queriedTokens)}),isTemplate){var templateRefId=createTokenForExternalReference(this.viewContext.reflector,Identifiers.TemplateRef);this._addQueryReadsTo(templateRefId,templateRefId,this._queriedTokens)}refs.forEach(function(refAst){var defaultQueryValue=refAst.value||createTokenForExternalReference(_this.viewContext.reflector,Identifiers.ElementRef);_this._addQueryReadsTo({value:refAst.name},defaultQueryValue,_this._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(Identifiers.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(provider){(provider.eager||_this._queriedTokens.get(tokenReference(provider.token)))&&_this._getOrCreateLocalProvider(provider.providerType,provider.token,!0)})}return ProviderElementContext.prototype.afterElement=function(){var _this=this;Array.from(this._allProviders.values()).forEach(function(provider){_this._getOrCreateLocalProvider(provider.providerType,provider.token,!1)})},Object.defineProperty(ProviderElementContext.prototype,"transformProviders",{get:function(){var lazyProviders=[],eagerProviders=[];return this._transformedProviders.forEach(function(provider){provider.eager?eagerProviders.push(provider):lazyProviders.push(provider)}),lazyProviders.concat(eagerProviders)},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"transformedDirectiveAsts",{get:function(){var sortedProviderTypes=this.transformProviders.map(function(provider){return provider.token.identifier}),sortedDirectives=this._directiveAsts.slice();return sortedDirectives.sort(function(dir1,dir2){return sortedProviderTypes.indexOf(dir1.directive.type)-sortedProviderTypes.indexOf(dir2.directive.type)}),sortedDirectives},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"queryMatches",{get:function(){var allMatches=[];return this._queriedTokens.forEach(function(matches){allMatches.push.apply(allMatches,(0,_tslib.__spread)(matches))}),allMatches},enumerable:!0,configurable:!0}),ProviderElementContext.prototype._addQueryReadsTo=function(token,defaultValue,queryReadTokens){this._getQueriesFor(token).forEach(function(query){var queryValue=query.meta.read||defaultValue,tokenRef=tokenReference(queryValue),queryMatches=queryReadTokens.get(tokenRef);queryMatches||(queryMatches=[],queryReadTokens.set(tokenRef,queryMatches)),queryMatches.push({queryId:query.queryId,value:queryValue})})},ProviderElementContext.prototype._getQueriesFor=function(token){for(var queries,result=[],currentEl=this,distance=0;null!==currentEl;)(queries=currentEl._contentQueries.get(tokenReference(token)))&&result.push.apply(result,(0,_tslib.__spread)(queries.filter(function(query){return query.meta.descendants||distance<=1}))),currentEl._directiveAsts.length>0&&distance++,currentEl=currentEl._parent;return(queries=this.viewContext.viewQueries.get(tokenReference(token)))&&result.push.apply(result,(0,_tslib.__spread)(queries)),result},ProviderElementContext.prototype._getOrCreateLocalProvider=function(requestingProviderType,token,eager){var _this=this,resolvedProvider=this._allProviders.get(tokenReference(token));if(!resolvedProvider||(requestingProviderType===ProviderAstType.Directive||requestingProviderType===ProviderAstType.PublicService)&&resolvedProvider.providerType===ProviderAstType.PrivateService||(requestingProviderType===ProviderAstType.PrivateService||requestingProviderType===ProviderAstType.PublicService)&&resolvedProvider.providerType===ProviderAstType.Builtin)return null;var transformedProviderAst=this._transformedProviders.get(tokenReference(token));if(transformedProviderAst)return transformedProviderAst;if(null!=this._seenProviders.get(tokenReference(token)))return this.viewContext.errors.push(new ProviderError("Cannot instantiate cyclic dependency! "+tokenName(token),this._sourceSpan)),null;this._seenProviders.set(tokenReference(token),!0);var transformedProviders=resolvedProvider.providers.map(function(provider){var transformedUseValue=provider.useValue,transformedUseExisting=provider.useExisting,transformedDeps=void 0;if(null!=provider.useExisting){var existingDiDep=_this._getDependency(resolvedProvider.providerType,{token:provider.useExisting},eager);null!=existingDiDep.token?transformedUseExisting=existingDiDep.token:(transformedUseExisting=null,transformedUseValue=existingDiDep.value)}else if(provider.useFactory){transformedDeps=(provider.deps||provider.useFactory.diDeps).map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep,eager)})}else if(provider.useClass){transformedDeps=(provider.deps||provider.useClass.diDeps).map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep,eager)})}return _transformProvider(provider,{useExisting:transformedUseExisting,useValue:transformedUseValue,deps:transformedDeps})});return transformedProviderAst=_transformProviderAst(resolvedProvider,{eager:eager,providers:transformedProviders}),this._transformedProviders.set(tokenReference(token),transformedProviderAst),transformedProviderAst},ProviderElementContext.prototype._getLocalDependency=function(requestingProviderType,dep,eager){if(void 0===eager&&(eager=!1),dep.isAttribute){var attrValue=this._attrs[dep.token.value];return{isValue:!0,value:null==attrValue?null:attrValue}}if(null!=dep.token){if(requestingProviderType===ProviderAstType.Directive||requestingProviderType===ProviderAstType.Component){if(tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.Renderer)||tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.ElementRef)||tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.ChangeDetectorRef)||tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.TemplateRef))return dep;tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.Injector))return dep;if(null!=this._getOrCreateLocalProvider(requestingProviderType,dep.token,eager))return dep}return null},ProviderElementContext.prototype._getDependency=function(requestingProviderType,dep,eager){void 0===eager&&(eager=!1);var currElement=this,currEager=eager,result=null;if(dep.isSkipSelf||(result=this._getLocalDependency(requestingProviderType,dep,eager)),dep.isSelf)!result&&dep.isOptional&&(result={isValue:!0,value:null});else{for(;!result&&currElement._parent;){var prevElement=currElement;currElement=currElement._parent,prevElement._isViewRoot&&(currEager=!1),result=currElement._getLocalDependency(ProviderAstType.PublicService,dep,currEager)}result||(result=!dep.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===tokenReference(dep.token)||null!=this.viewContext.viewProviders.get(tokenReference(dep.token))?dep:dep.isOptional?{isValue:!0,value:null}:null)}return result||this.viewContext.errors.push(new ProviderError("No provider for "+tokenName(dep.token),this._sourceSpan)),result},ProviderElementContext}(),NgModuleProviderAnalyzer=function(){function NgModuleProviderAnalyzer(reflector,ngModule,extraProviders,sourceSpan){var _this=this;this.reflector=reflector,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,ngModule.transitiveModule.modules.forEach(function(ngModuleType){_resolveProviders([{token:{identifier:ngModuleType},useClass:ngModuleType}],ProviderAstType.PublicService,!0,sourceSpan,_this._errors,_this._allProviders,!0)}),_resolveProviders(ngModule.transitiveModule.providers.map(function(entry){return entry.provider}).concat(extraProviders),ProviderAstType.PublicService,!1,sourceSpan,this._errors,this._allProviders,!1)}return NgModuleProviderAnalyzer.prototype.parse=function(){var _this=this;if(Array.from(this._allProviders.values()).forEach(function(provider){_this._getOrCreateLocalProvider(provider.token,provider.eager)}),this._errors.length>0){var errorString=this._errors.join("\n");throw new Error("Provider parse errors:\n"+errorString)}var lazyProviders=[],eagerProviders=[];return this._transformedProviders.forEach(function(provider){provider.eager?eagerProviders.push(provider):lazyProviders.push(provider)}),lazyProviders.concat(eagerProviders)},NgModuleProviderAnalyzer.prototype._getOrCreateLocalProvider=function(token,eager){var _this=this,resolvedProvider=this._allProviders.get(tokenReference(token));if(!resolvedProvider)return null;var transformedProviderAst=this._transformedProviders.get(tokenReference(token));if(transformedProviderAst)return transformedProviderAst;if(null!=this._seenProviders.get(tokenReference(token)))return this._errors.push(new ProviderError("Cannot instantiate cyclic dependency! "+tokenName(token),resolvedProvider.sourceSpan)),null;this._seenProviders.set(tokenReference(token),!0);var transformedProviders=resolvedProvider.providers.map(function(provider){var transformedUseValue=provider.useValue,transformedUseExisting=provider.useExisting,transformedDeps=void 0;if(null!=provider.useExisting){var existingDiDep=_this._getDependency({token:provider.useExisting},eager,resolvedProvider.sourceSpan);null!=existingDiDep.token?transformedUseExisting=existingDiDep.token:(transformedUseExisting=null,transformedUseValue=existingDiDep.value)}else if(provider.useFactory){transformedDeps=(provider.deps||provider.useFactory.diDeps).map(function(dep){return _this._getDependency(dep,eager,resolvedProvider.sourceSpan)})}else if(provider.useClass){transformedDeps=(provider.deps||provider.useClass.diDeps).map(function(dep){return _this._getDependency(dep,eager,resolvedProvider.sourceSpan)})}return _transformProvider(provider,{useExisting:transformedUseExisting,useValue:transformedUseValue,deps:transformedDeps})});return transformedProviderAst=_transformProviderAst(resolvedProvider,{eager:eager,providers:transformedProviders}),this._transformedProviders.set(tokenReference(token),transformedProviderAst),transformedProviderAst},NgModuleProviderAnalyzer.prototype._getDependency=function(dep,eager,requestorSourceSpan){void 0===eager&&(eager=!1);return dep.isSkipSelf||null==dep.token||(tokenReference(dep.token)===this.reflector.resolveExternalReference(Identifiers.Injector)||tokenReference(dep.token)===this.reflector.resolveExternalReference(Identifiers.ComponentFactoryResolver)?!0:null!=this._getOrCreateLocalProvider(dep.token,eager)&&!0),dep},NgModuleProviderAnalyzer}();function _transformProvider(provider,_a){var useExisting=_a.useExisting,useValue=_a.useValue,deps=_a.deps;return{token:provider.token,useClass:provider.useClass,useExisting:useExisting,useFactory:provider.useFactory,useValue:useValue,deps:deps,multi:provider.multi}}function _transformProviderAst(provider,_a){var eager=_a.eager,providers=_a.providers;return new ProviderAst(provider.token,provider.multiProvider,provider.eager||eager,providers,provider.providerType,provider.lifecycleHooks,provider.sourceSpan,provider.isModule)}function _resolveProviders(providers,providerType,eager,sourceSpan,targetErrors,targetProvidersByToken,isModule){providers.forEach(function(provider){var resolvedProvider=targetProvidersByToken.get(tokenReference(provider.token));if(null!=resolvedProvider&&!!resolvedProvider.multiProvider!=!!provider.multi&&targetErrors.push(new ProviderError("Mixing multi and non multi provider is not possible for token "+tokenName(resolvedProvider.token),sourceSpan)),resolvedProvider)provider.multi||(resolvedProvider.providers.length=0),resolvedProvider.providers.push(provider);else{var lifecycleHooks=provider.token.identifier&&provider.token.identifier.lifecycleHooks?provider.token.identifier.lifecycleHooks:[],isUseValue=!(provider.useClass||provider.useExisting||provider.useFactory);resolvedProvider=new ProviderAst(provider.token,!!provider.multi,eager||isUseValue,[provider],providerType,lifecycleHooks,sourceSpan,isModule),targetProvidersByToken.set(tokenReference(provider.token),resolvedProvider)}})}function _addQueryToTokenMap(map,query){query.meta.selectors.forEach(function(token){var entry=map.get(tokenReference(token));entry||(entry=[],map.set(tokenReference(token),entry)),entry.push(query)})}var StyleWithImports=function(){return function(style,styleUrls){this.style=style,this.styleUrls=styleUrls}}();function isStyleUrlResolvable(url){if(null==url||0===url.length||"/"==url[0])return!1;var schemeMatch=url.match(URL_WITH_SCHEMA_REGEXP);return null===schemeMatch||"package"==schemeMatch[1]||"asset"==schemeMatch[1]}var CSS_IMPORT_REGEXP=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,CSS_STRIPPABLE_COMMENT_REGEXP=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,URL_WITH_SCHEMA_REGEXP=/^([^:/?#]+):/,BindingParser=function(){function BindingParser(_exprParser,_interpolationConfig,_schemaRegistry,pipes,errors){if(this._exprParser=_exprParser,this._interpolationConfig=_interpolationConfig,this._schemaRegistry=_schemaRegistry,this.errors=errors,this.pipesByName=null,this._usedPipes=new Map,pipes){var pipesByName_1=new Map;pipes.forEach(function(pipe){return pipesByName_1.set(pipe.name,pipe)}),this.pipesByName=pipesByName_1}}return Object.defineProperty(BindingParser.prototype,"interpolationConfig",{get:function(){return this._interpolationConfig},enumerable:!0,configurable:!0}),BindingParser.prototype.getUsedPipes=function(){return Array.from(this._usedPipes.values())},BindingParser.prototype.createBoundHostProperties=function(dirMeta,sourceSpan){var _this=this;if(dirMeta.hostProperties){var boundProps_1=[];return Object.keys(dirMeta.hostProperties).forEach(function(propName){var expression=dirMeta.hostProperties[propName];"string"==typeof expression?_this.parsePropertyBinding(propName,expression,!0,sourceSpan,sourceSpan.start.offset,void 0,[],boundProps_1):_this._reportError('Value of the host property binding "'+propName+'" needs to be a string representing an expression but got "'+expression+'" ('+typeof expression+")",sourceSpan)}),boundProps_1}return null},BindingParser.prototype.createDirectiveHostPropertyAsts=function(dirMeta,elementSelector,sourceSpan){var _this=this,boundProps=this.createBoundHostProperties(dirMeta,sourceSpan);return boundProps&&boundProps.map(function(prop){return _this.createBoundElementProperty(elementSelector,prop)})},BindingParser.prototype.createDirectiveHostEventAsts=function(dirMeta,sourceSpan){var _this=this;if(dirMeta.hostListeners){var targetEvents_1=[];return Object.keys(dirMeta.hostListeners).forEach(function(propName){var expression=dirMeta.hostListeners[propName];"string"==typeof expression?_this.parseEvent(propName,expression,sourceSpan,sourceSpan,[],targetEvents_1):_this._reportError('Value of the host listener "'+propName+'" needs to be a string representing an expression but got "'+expression+'" ('+typeof expression+")",sourceSpan)}),targetEvents_1}return null},BindingParser.prototype.parseInterpolation=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseInterpolation(value,sourceInfo,sourceSpan.start.offset,this._interpolationConfig);return ast&&this._reportExpressionParserErrors(ast.errors,sourceSpan),this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,sourceSpan.start.offset)}},BindingParser.prototype.parseInlineTemplateBinding=function(tplKey,tplValue,sourceSpan,absoluteOffset,targetMatchableAttrs,targetProps,targetVars){for(var bindings=this._parseTemplateBindings(tplKey,tplValue,sourceSpan),i=0;i<bindings.length;i++){var binding=bindings[i];binding.keyIsVar?targetVars.push(new ParsedVariable(binding.key,binding.name,sourceSpan)):binding.expression?this._parsePropertyAst(binding.key,binding.expression,sourceSpan,void 0,targetMatchableAttrs,targetProps):(targetMatchableAttrs.push([binding.key,""]),this.parseLiteralAttr(binding.key,null,sourceSpan,absoluteOffset,void 0,targetMatchableAttrs,targetProps))}},BindingParser.prototype._parseTemplateBindings=function(tplKey,tplValue,sourceSpan){var _this=this,sourceInfo=sourceSpan.start.toString();try{var bindingsResult=this._exprParser.parseTemplateBindings(tplKey,tplValue,sourceInfo,sourceSpan.start.offset);return this._reportExpressionParserErrors(bindingsResult.errors,sourceSpan),bindingsResult.templateBindings.forEach(function(binding){binding.expression&&_this._checkPipes(binding.expression,sourceSpan)}),bindingsResult.warnings.forEach(function(warning){_this._reportError(warning,sourceSpan,ParseErrorLevel.WARNING)}),bindingsResult.templateBindings}catch(e){return this._reportError(""+e,sourceSpan),[]}},BindingParser.prototype.parseLiteralAttr=function(name,value,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps){isAnimationLabel(name)?(name=name.substring(1),value&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',sourceSpan,ParseErrorLevel.ERROR),this._parseAnimation(name,value,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps)):targetProps.push(new ParsedProperty(name,this._exprParser.wrapLiteralPrimitive(value,"",absoluteOffset),ParsedPropertyType.LITERAL_ATTR,sourceSpan,valueSpan))},BindingParser.prototype.parsePropertyBinding=function(name,expression,isHost,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps){var isAnimationProp=!1;name.startsWith("animate-")?(isAnimationProp=!0,name=name.substring("animate-".length)):isAnimationLabel(name)&&(isAnimationProp=!0,name=name.substring(1)),isAnimationProp?this._parseAnimation(name,expression,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps):this._parsePropertyAst(name,this._parseBinding(expression,isHost,valueSpan||sourceSpan,absoluteOffset),sourceSpan,valueSpan,targetMatchableAttrs,targetProps)},BindingParser.prototype.parsePropertyInterpolation=function(name,value,sourceSpan,valueSpan,targetMatchableAttrs,targetProps){var expr=this.parseInterpolation(value,valueSpan||sourceSpan);return!!expr&&(this._parsePropertyAst(name,expr,sourceSpan,valueSpan,targetMatchableAttrs,targetProps),!0)},BindingParser.prototype._parsePropertyAst=function(name,ast,sourceSpan,valueSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]),targetProps.push(new ParsedProperty(name,ast,ParsedPropertyType.DEFAULT,sourceSpan,valueSpan))},BindingParser.prototype._parseAnimation=function(name,expression,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps){var ast=this._parseBinding(expression||"undefined",!1,valueSpan||sourceSpan,absoluteOffset);targetMatchableAttrs.push([name,ast.source]),targetProps.push(new ParsedProperty(name,ast,ParsedPropertyType.ANIMATION,sourceSpan,valueSpan))},BindingParser.prototype._parseBinding=function(value,isHostBinding,sourceSpan,absoluteOffset){var sourceInfo=(sourceSpan&&sourceSpan.start||"(unknown)").toString();try{var ast=isHostBinding?this._exprParser.parseSimpleBinding(value,sourceInfo,absoluteOffset,this._interpolationConfig):this._exprParser.parseBinding(value,sourceInfo,absoluteOffset,this._interpolationConfig);return ast&&this._reportExpressionParserErrors(ast.errors,sourceSpan),this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,absoluteOffset)}},BindingParser.prototype.createBoundElementProperty=function(elementSelector,boundProp,skipValidation,mapPropertyName){if(void 0===skipValidation&&(skipValidation=!1),void 0===mapPropertyName&&(mapPropertyName=!0),boundProp.isAnimation)return new BoundElementProperty(boundProp.name,4,SecurityContext.NONE,boundProp.expression,null,boundProp.sourceSpan,boundProp.valueSpan);var unit=null,bindingType=void 0,boundPropertyName=null,parts=boundProp.name.split("."),securityContexts=void 0;if(parts.length>1)if("attr"==parts[0]){boundPropertyName=parts[1],skipValidation||this._validatePropertyOrAttributeName(boundPropertyName,boundProp.sourceSpan,!0),securityContexts=calcPossibleSecurityContexts(this._schemaRegistry,elementSelector,boundPropertyName,!0);var nsSeparatorIdx=boundPropertyName.indexOf(":");if(nsSeparatorIdx>-1)boundPropertyName=mergeNsAndName(boundPropertyName.substring(0,nsSeparatorIdx),boundPropertyName.substring(nsSeparatorIdx+1));bindingType=1}else"class"==parts[0]?(boundPropertyName=parts[1],bindingType=2,securityContexts=[SecurityContext.NONE]):"style"==parts[0]&&(unit=parts.length>2?parts[2]:null,boundPropertyName=parts[1],bindingType=3,securityContexts=[SecurityContext.STYLE]);if(null===boundPropertyName){var mappedPropName=this._schemaRegistry.getMappedPropName(boundProp.name);boundPropertyName=mapPropertyName?mappedPropName:boundProp.name,securityContexts=calcPossibleSecurityContexts(this._schemaRegistry,elementSelector,mappedPropName,!1),bindingType=0,skipValidation||this._validatePropertyOrAttributeName(mappedPropName,boundProp.sourceSpan,!1)}return new BoundElementProperty(boundPropertyName,bindingType,securityContexts[0],boundProp.expression,unit,boundProp.sourceSpan,boundProp.valueSpan)},BindingParser.prototype.parseEvent=function(name,expression,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents){isAnimationLabel(name)?(name=name.substr(1),this._parseAnimationEvent(name,expression,sourceSpan,handlerSpan,targetEvents)):this._parseRegularEvent(name,expression,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents)},BindingParser.prototype.calcPossibleSecurityContexts=function(selector,propName,isAttribute){var prop=this._schemaRegistry.getMappedPropName(propName);return calcPossibleSecurityContexts(this._schemaRegistry,selector,prop,isAttribute)},BindingParser.prototype._parseAnimationEvent=function(name,expression,sourceSpan,handlerSpan,targetEvents){var matches=_splitAt(name,".",[name,""]),eventName=matches[0],phase=matches[1].toLowerCase();if(phase)switch(phase){case"start":case"done":var ast=this._parseAction(expression,handlerSpan);targetEvents.push(new ParsedEvent(eventName,phase,1,ast,sourceSpan,handlerSpan));break;default:this._reportError('The provided animation output phase value "'+phase+'" for "@'+eventName+'" is not supported (use start or done)',sourceSpan)}else this._reportError("The animation trigger output event (@"+eventName+") is missing its phase value name (start or done are currently supported)",sourceSpan)},BindingParser.prototype._parseRegularEvent=function(name,expression,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents){var _a=(0,_tslib.__read)(splitAtColon(name,[null,name]),2),target=_a[0],eventName=_a[1],ast=this._parseAction(expression,handlerSpan);targetMatchableAttrs.push([name,ast.source]),targetEvents.push(new ParsedEvent(eventName,target,0,ast,sourceSpan,handlerSpan))},BindingParser.prototype._parseAction=function(value,sourceSpan){var sourceInfo=(sourceSpan&&sourceSpan.start||"(unknown").toString(),absoluteOffset=sourceSpan&&sourceSpan.start?sourceSpan.start.offset:0;try{var ast=this._exprParser.parseAction(value,sourceInfo,absoluteOffset,this._interpolationConfig);return ast&&this._reportExpressionParserErrors(ast.errors,sourceSpan),!ast||ast.ast instanceof EmptyExpr?(this._reportError("Empty expressions are not allowed",sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,absoluteOffset)):(this._checkPipes(ast,sourceSpan),ast)}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,absoluteOffset)}},BindingParser.prototype._reportError=function(message,sourceSpan,level){void 0===level&&(level=ParseErrorLevel.ERROR),this.errors.push(new ParseError(sourceSpan,message,level))},BindingParser.prototype._reportExpressionParserErrors=function(errors,sourceSpan){var e_1,_a;try{for(var errors_1=(0,_tslib.__values)(errors),errors_1_1=errors_1.next();!errors_1_1.done;errors_1_1=errors_1.next()){var error=errors_1_1.value;this._reportError(error.message,sourceSpan)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{errors_1_1&&!errors_1_1.done&&(_a=errors_1.return)&&_a.call(errors_1)}finally{if(e_1)throw e_1.error}}},BindingParser.prototype._checkPipes=function(ast,sourceSpan){var _this=this;if(ast&&this.pipesByName){var collector=new PipeCollector;ast.visit(collector),collector.pipes.forEach(function(ast,pipeName){var pipeMeta=_this.pipesByName.get(pipeName);pipeMeta?_this._usedPipes.set(pipeName,pipeMeta):_this._reportError("The pipe '"+pipeName+"' could not be found",new ParseSourceSpan(sourceSpan.start.moveBy(ast.span.start),sourceSpan.start.moveBy(ast.span.end)))})}},BindingParser.prototype._validatePropertyOrAttributeName=function(propName,sourceSpan,isAttr){var report=isAttr?this._schemaRegistry.validateAttribute(propName):this._schemaRegistry.validateProperty(propName);report.error&&this._reportError(report.msg,sourceSpan,ParseErrorLevel.ERROR)},BindingParser}(),PipeCollector=function(_super){function PipeCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.pipes=new Map,_this}return(0,_tslib.__extends)(PipeCollector,_super),PipeCollector.prototype.visitPipe=function(ast,context){return this.pipes.set(ast.name,ast),ast.exp.visit(this),this.visitAll(ast.args,context),null},PipeCollector}(RecursiveAstVisitor$1);function isAnimationLabel(name){return"@"==name[0]}function calcPossibleSecurityContexts(registry,selector,propName,isAttribute){var ctxs=[];return CssSelector.parse(selector).forEach(function(selector){var elementNames=selector.element?[selector.element]:registry.allKnownElementNames(),notElementNames=new Set(selector.notSelectors.filter(function(selector){return selector.isElementSelector()}).map(function(selector){return selector.element})),possibleElementNames=elementNames.filter(function(elementName){return!notElementNames.has(elementName)});ctxs.push.apply(ctxs,(0,_tslib.__spread)(possibleElementNames.map(function(elementName){return registry.securityContext(elementName,propName,isAttribute)})))}),0===ctxs.length?[SecurityContext.NONE]:Array.from(new Set(ctxs)).sort()}var PreparsedElementType,NG_CONTENT_SELECT_ATTR="select",LINK_ELEMENT="link",LINK_STYLE_REL_ATTR="rel",LINK_STYLE_HREF_ATTR="href",LINK_STYLE_REL_VALUE="stylesheet",STYLE_ELEMENT="style",SCRIPT_ELEMENT="script",NG_NON_BINDABLE_ATTR="ngNonBindable",NG_PROJECT_AS="ngProjectAs";function preparseElement(ast){var selectAttr=null,hrefAttr=null,relAttr=null,nonBindable=!1,projectAs="";ast.attrs.forEach(function(attr){var lcAttrName=attr.name.toLowerCase();lcAttrName==NG_CONTENT_SELECT_ATTR?selectAttr=attr.value:lcAttrName==LINK_STYLE_HREF_ATTR?hrefAttr=attr.value:lcAttrName==LINK_STYLE_REL_ATTR?relAttr=attr.value:attr.name==NG_NON_BINDABLE_ATTR?nonBindable=!0:attr.name==NG_PROJECT_AS&&attr.value.length>0&&(projectAs=attr.value)}),selectAttr=function(selectAttr){if(null===selectAttr||0===selectAttr.length)return"*";return selectAttr}(selectAttr);var nodeName=ast.name.toLowerCase(),type=PreparsedElementType.OTHER;return isNgContent(nodeName)?type=PreparsedElementType.NG_CONTENT:nodeName==STYLE_ELEMENT?type=PreparsedElementType.STYLE:nodeName==SCRIPT_ELEMENT?type=PreparsedElementType.SCRIPT:nodeName==LINK_ELEMENT&&relAttr==LINK_STYLE_REL_VALUE&&(type=PreparsedElementType.STYLESHEET),new PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs)}!function(PreparsedElementType){PreparsedElementType[PreparsedElementType.NG_CONTENT=0]="NG_CONTENT",PreparsedElementType[PreparsedElementType.STYLE=1]="STYLE",PreparsedElementType[PreparsedElementType.STYLESHEET=2]="STYLESHEET",PreparsedElementType[PreparsedElementType.SCRIPT=3]="SCRIPT",PreparsedElementType[PreparsedElementType.OTHER=4]="OTHER"}(PreparsedElementType||(PreparsedElementType={}));var PreparsedElement=function(){return function(type,selectAttr,hrefAttr,nonBindable,projectAs){this.type=type,this.selectAttr=selectAttr,this.hrefAttr=hrefAttr,this.nonBindable=nonBindable,this.projectAs=projectAs}}();var _TEXT_CSS_SELECTOR,BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,CLASS_ATTR="class";function TEXT_CSS_SELECTOR(){return _TEXT_CSS_SELECTOR||(_TEXT_CSS_SELECTOR=CssSelector.parse("*")[0]),_TEXT_CSS_SELECTOR}var TemplateParseError=function(_super){function TemplateParseError(message,span,level){return _super.call(this,span,message,level)||this}return(0,_tslib.__extends)(TemplateParseError,_super),TemplateParseError}(ParseError);exports.TemplateParseError=TemplateParseError;var TemplateParseResult=function(){return function(templateAst,usedPipes,errors){this.templateAst=templateAst,this.usedPipes=usedPipes,this.errors=errors}}();exports.TemplateParseResult=TemplateParseResult;var TemplateParser=function(){function TemplateParser(_config,_reflector,_exprParser,_schemaRegistry,_htmlParser,_console,transforms){this._config=_config,this._reflector=_reflector,this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this._htmlParser=_htmlParser,this._console=_console,this.transforms=transforms}return Object.defineProperty(TemplateParser.prototype,"expressionParser",{get:function(){return this._exprParser},enumerable:!0,configurable:!0}),TemplateParser.prototype.parse=function(component,template,directives,pipes,schemas,templateUrl,preserveWhitespaces){var result=this.tryParse(component,template,directives,pipes,schemas,templateUrl,preserveWhitespaces),warnings=result.errors.filter(function(error){return error.level===ParseErrorLevel.WARNING}),errors=result.errors.filter(function(error){return error.level===ParseErrorLevel.ERROR});if(warnings.length>0&&this._console.warn("Template parse warnings:\n"+warnings.join("\n")),errors.length>0)throw syntaxError("Template parse errors:\n"+errors.join("\n"),errors);return{template:result.templateAst,pipes:result.usedPipes}},TemplateParser.prototype.tryParse=function(component,template,directives,pipes,schemas,templateUrl,preserveWhitespaces){var htmlParseResult="string"==typeof template?this._htmlParser.parse(template,templateUrl,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(component)}):template;return preserveWhitespaces||(htmlParseResult=removeWhitespaces(htmlParseResult)),this.tryParseHtml(this.expandHtml(htmlParseResult),component,directives,pipes,schemas)},TemplateParser.prototype.tryParseHtml=function(htmlAstWithErrors,component,directives,pipes,schemas){var result,errors=htmlAstWithErrors.errors,usedPipes=[];if(htmlAstWithErrors.rootNodes.length>0){var uniqDirectives=removeSummaryDuplicates(directives),uniqPipes=removeSummaryDuplicates(pipes),providerViewContext=new ProviderViewContext(this._reflector,component),interpolationConfig=void 0;component.template&&component.template.interpolation&&(interpolationConfig={start:component.template.interpolation[0],end:component.template.interpolation[1]});var bindingParser=new BindingParser(this._exprParser,interpolationConfig,this._schemaRegistry,uniqPipes,errors),parseVisitor=new TemplateParseVisitor(this._reflector,this._config,providerViewContext,uniqDirectives,bindingParser,this._schemaRegistry,schemas,errors);result=visitAll$1(parseVisitor,htmlAstWithErrors.rootNodes,EMPTY_ELEMENT_CONTEXT),errors.push.apply(errors,(0,_tslib.__spread)(providerViewContext.errors)),usedPipes.push.apply(usedPipes,(0,_tslib.__spread)(bindingParser.getUsedPipes()))}else result=[];return this._assertNoReferenceDuplicationOnTemplate(result,errors),errors.length>0?new TemplateParseResult(result,usedPipes,errors):(this.transforms&&this.transforms.forEach(function(transform){result=templateVisitAll(transform,result)}),new TemplateParseResult(result,usedPipes,errors))},TemplateParser.prototype.expandHtml=function(htmlAstWithErrors,forced){void 0===forced&&(forced=!1);var errors=htmlAstWithErrors.errors;if(0==errors.length||forced){var expandedHtmlAst=expandNodes(htmlAstWithErrors.rootNodes);errors.push.apply(errors,(0,_tslib.__spread)(expandedHtmlAst.errors)),htmlAstWithErrors=new ParseTreeResult(expandedHtmlAst.nodes,errors)}return htmlAstWithErrors},TemplateParser.prototype.getInterpolationConfig=function(component){if(component.template)return InterpolationConfig.fromArray(component.template.interpolation)},TemplateParser.prototype._assertNoReferenceDuplicationOnTemplate=function(result,errors){var existingReferences=[];result.filter(function(element){return!!element.references}).forEach(function(element){return element.references.forEach(function(reference){var name=reference.name;if(existingReferences.indexOf(name)<0)existingReferences.push(name);else{var error=new TemplateParseError('Reference "#'+name+'" is defined several times',reference.sourceSpan,ParseErrorLevel.ERROR);errors.push(error)}})})},TemplateParser}();exports.TemplateParser=TemplateParser;var TemplateParseVisitor=function(){function TemplateParseVisitor(reflector,config,providerViewContext,directives,_bindingParser,_schemaRegistry,_schemas,_targetErrors){var _this=this;this.reflector=reflector,this.config=config,this.providerViewContext=providerViewContext,this._bindingParser=_bindingParser,this._schemaRegistry=_schemaRegistry,this._schemas=_schemas,this._targetErrors=_targetErrors,this.selectorMatcher=new SelectorMatcher,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=providerViewContext.component.viewQueries.length+1,directives.forEach(function(directive,index){var selector=CssSelector.parse(directive.selector);_this.selectorMatcher.addSelectables(selector,directive),_this.directivesIndex.set(directive,index)})}return TemplateParseVisitor.prototype.visitExpansion=function(expansion,context){return null},TemplateParseVisitor.prototype.visitExpansionCase=function(expansionCase,context){return null},TemplateParseVisitor.prototype.visitText=function(text,parent){var ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR()),valueNoNgsp=replaceNgsp(text.value),expr=this._bindingParser.parseInterpolation(valueNoNgsp,text.sourceSpan);return expr?new BoundTextAst(expr,ngContentIndex,text.sourceSpan):new TextAst(valueNoNgsp,ngContentIndex,text.sourceSpan)},TemplateParseVisitor.prototype.visitAttribute=function(attribute,context){return new AttrAst(attribute.name,attribute.value,attribute.sourceSpan)},TemplateParseVisitor.prototype.visitComment=function(comment,context){return null},TemplateParseVisitor.prototype.visitElement=function(element,parent){var _this=this,queryStartIndex=this.contentQueryStartId,elName=element.name,preparsedElement=preparseElement(element);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE)return null;if(preparsedElement.type===PreparsedElementType.STYLESHEET&&isStyleUrlResolvable(preparsedElement.hrefAttr))return null;var matchableAttrs=[],elementOrDirectiveProps=[],elementOrDirectiveRefs=[],elementVars=[],events=[],templateElementOrDirectiveProps=[],templateMatchableAttrs=[],templateElementVars=[],hasInlineTemplates=!1,attrs=[],isTemplateElement=isNgTemplate(element.name);element.attrs.forEach(function(attr){var templateValue,templateKey,hasBinding=_this._parseAttr(isTemplateElement,attr,matchableAttrs,elementOrDirectiveProps,events,elementOrDirectiveRefs,elementVars);elementVars.push.apply(elementVars,(0,_tslib.__spread)([].map(function(v){return VariableAst.fromParsedVariable(v)})));var normalizedName=_this._normalizeAttributeName(attr.name);normalizedName.startsWith("*")&&(templateValue=attr.value,templateKey=normalizedName.substring("*".length));var hasTemplateBinding=null!=templateValue;if(hasTemplateBinding){hasInlineTemplates&&_this._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",attr.sourceSpan),hasInlineTemplates=!0;var parsedVariables_1=[];_this._bindingParser.parseInlineTemplateBinding(templateKey,templateValue,attr.sourceSpan,attr.sourceSpan.start.offset,templateMatchableAttrs,templateElementOrDirectiveProps,parsedVariables_1),templateElementVars.push.apply(templateElementVars,(0,_tslib.__spread)(parsedVariables_1.map(function(v){return VariableAst.fromParsedVariable(v)})))}hasBinding||hasTemplateBinding||(attrs.push(_this.visitAttribute(attr,null)),matchableAttrs.push([attr.name,attr.value]))});var elementCssSelector=createElementCssSelector(elName,matchableAttrs),_a=this._parseDirectives(this.selectorMatcher,elementCssSelector),directiveMetas=_a.directives,matchElement=_a.matchElement,references=[],boundDirectivePropNames=new Set,directiveAsts=this._createDirectiveAsts(isTemplateElement,element.name,directiveMetas,elementOrDirectiveProps,elementOrDirectiveRefs,element.sourceSpan,references,boundDirectivePropNames),elementProps=this._createElementPropertyAsts(element.name,elementOrDirectiveProps,boundDirectivePropNames),isViewRoot=parent.isTemplateElement||hasInlineTemplates,providerContext=new ProviderElementContext(this.providerViewContext,parent.providerContext,isViewRoot,directiveAsts,attrs,references,isTemplateElement,queryStartIndex,element.sourceSpan),children=visitAll$1(preparsedElement.nonBindable?NON_BINDABLE_VISITOR:this,element.children,ElementContext.create(isTemplateElement,directiveAsts,isTemplateElement?parent.providerContext:providerContext));providerContext.afterElement();var parsedElement,projectionSelector=""!=preparsedElement.projectAs?CssSelector.parse(preparsedElement.projectAs)[0]:elementCssSelector,ngContentIndex=parent.findNgContentIndex(projectionSelector);if(preparsedElement.type===PreparsedElementType.NG_CONTENT)element.children&&!element.children.every(_isEmptyTextNode)&&this._reportError("<ng-content> element cannot have content.",element.sourceSpan),parsedElement=new NgContentAst(this.ngContentCount++,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else if(isTemplateElement)this._assertAllEventsPublishedByDirectives(directiveAsts,events),this._assertNoComponentsNorElementBindingsOnTemplate(directiveAsts,elementProps,element.sourceSpan),parsedElement=new EmbeddedTemplateAst(attrs,events,references,elementVars,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,providerContext.queryMatches,children,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else{this._assertElementExists(matchElement,element),this._assertOnlyOneComponent(directiveAsts,element.sourceSpan);var ngContentIndex_1=hasInlineTemplates?null:parent.findNgContentIndex(projectionSelector);parsedElement=new ElementAst(elName,attrs,elementProps,events,references,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,providerContext.queryMatches,children,hasInlineTemplates?null:ngContentIndex_1,element.sourceSpan,element.endSourceSpan||null)}if(hasInlineTemplates){var templateQueryStartIndex=this.contentQueryStartId,templateSelector=createElementCssSelector("ng-template",templateMatchableAttrs),directives=this._parseDirectives(this.selectorMatcher,templateSelector).directives,templateBoundDirectivePropNames=new Set,templateDirectiveAsts=this._createDirectiveAsts(!0,elName,directives,templateElementOrDirectiveProps,[],element.sourceSpan,[],templateBoundDirectivePropNames),templateElementProps=this._createElementPropertyAsts(elName,templateElementOrDirectiveProps,templateBoundDirectivePropNames);this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectiveAsts,templateElementProps,element.sourceSpan);var templateProviderContext=new ProviderElementContext(this.providerViewContext,parent.providerContext,parent.isTemplateElement,templateDirectiveAsts,[],[],!0,templateQueryStartIndex,element.sourceSpan);templateProviderContext.afterElement(),parsedElement=new EmbeddedTemplateAst([],[],[],templateElementVars,templateProviderContext.transformedDirectiveAsts,templateProviderContext.transformProviders,templateProviderContext.transformedHasViewContainer,templateProviderContext.queryMatches,[parsedElement],ngContentIndex,element.sourceSpan)}return parsedElement},TemplateParseVisitor.prototype._parseAttr=function(isTemplateElement,attr,targetMatchableAttrs,targetProps,targetEvents,targetRefs,targetVars){var name=this._normalizeAttributeName(attr.name),value=attr.value,srcSpan=attr.sourceSpan,absoluteOffset=attr.valueSpan?attr.valueSpan.start.offset:srcSpan.start.offset,boundEvents=[],bindParts=name.match(BIND_NAME_REGEXP),hasBinding=!1;if(null!==bindParts)if(hasBinding=!0,null!=bindParts[1])this._bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps);else if(bindParts[2])if(isTemplateElement){var identifier=bindParts[7];this._parseVariable(identifier,value,srcSpan,targetVars)}else this._reportError('"let-" is only supported on ng-template elements.',srcSpan);else if(bindParts[3]){identifier=bindParts[7];this._parseReference(identifier,value,srcSpan,targetRefs)}else bindParts[4]?this._bindingParser.parseEvent(bindParts[7],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents):bindParts[5]?(this._bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[7],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents)):bindParts[6]?this._bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps):bindParts[8]?(this._bindingParser.parsePropertyBinding(bindParts[8],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[8],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents)):bindParts[9]?this._bindingParser.parsePropertyBinding(bindParts[9],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps):bindParts[10]&&this._bindingParser.parseEvent(bindParts[10],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents);else hasBinding=this._bindingParser.parsePropertyInterpolation(name,value,srcSpan,attr.valueSpan,targetMatchableAttrs,targetProps);return hasBinding||this._bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps),targetEvents.push.apply(targetEvents,(0,_tslib.__spread)(boundEvents.map(function(e){return BoundEventAst.fromParsedEvent(e)}))),hasBinding},TemplateParseVisitor.prototype._normalizeAttributeName=function(attrName){return/^data-/i.test(attrName)?attrName.substring(5):attrName},TemplateParseVisitor.prototype._parseVariable=function(identifier,value,sourceSpan,targetVars){identifier.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',sourceSpan),targetVars.push(new VariableAst(identifier,value,sourceSpan))},TemplateParseVisitor.prototype._parseReference=function(identifier,value,sourceSpan,targetRefs){identifier.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',sourceSpan),targetRefs.push(new ElementOrDirectiveRef(identifier,value,sourceSpan))},TemplateParseVisitor.prototype._parseAssignmentEvent=function(name,expression,sourceSpan,valueSpan,targetMatchableAttrs,targetEvents){this._bindingParser.parseEvent(name+"Change",expression+"=$event",sourceSpan,valueSpan,targetMatchableAttrs,targetEvents)},TemplateParseVisitor.prototype._parseDirectives=function(selectorMatcher,elementCssSelector){var _this=this,directives=new Array(this.directivesIndex.size),matchElement=!1;return selectorMatcher.match(elementCssSelector,function(selector,directive){directives[_this.directivesIndex.get(directive)]=directive,matchElement=matchElement||selector.hasElementSelector()}),{directives:directives.filter(function(dir){return!!dir}),matchElement:matchElement}},TemplateParseVisitor.prototype._createDirectiveAsts=function(isTemplateElement,elementName,directives,props,elementOrDirectiveRefs,elementSourceSpan,targetReferences,targetBoundDirectivePropNames){var _this=this,matchedReferences=new Set,component=null,directiveAsts=directives.map(function(directive){var sourceSpan=new ParseSourceSpan(elementSourceSpan.start,elementSourceSpan.end,"Directive "+identifierName(directive.type));directive.isComponent&&(component=directive);var directiveProperties=[],hostProperties=_this._bindingParser.createDirectiveHostPropertyAsts(directive,elementName,sourceSpan).map(function(prop){return BoundElementPropertyAst.fromBoundProperty(prop)});hostProperties=_this._checkPropertiesInSchema(elementName,hostProperties);var parsedEvents=_this._bindingParser.createDirectiveHostEventAsts(directive,sourceSpan);_this._createDirectivePropertyAsts(directive.inputs,props,directiveProperties,targetBoundDirectivePropNames),elementOrDirectiveRefs.forEach(function(elOrDirRef){(0===elOrDirRef.value.length&&directive.isComponent||elOrDirRef.isReferenceToDirective(directive))&&(targetReferences.push(new ReferenceAst(elOrDirRef.name,createTokenForReference(directive.type.reference),elOrDirRef.value,elOrDirRef.sourceSpan)),matchedReferences.add(elOrDirRef.name))});var hostEvents=parsedEvents.map(function(e){return BoundEventAst.fromParsedEvent(e)}),contentQueryStartId=_this.contentQueryStartId;return _this.contentQueryStartId+=directive.queries.length,new DirectiveAst(directive,directiveProperties,hostProperties,hostEvents,contentQueryStartId,sourceSpan)});return elementOrDirectiveRefs.forEach(function(elOrDirRef){if(elOrDirRef.value.length>0)matchedReferences.has(elOrDirRef.name)||_this._reportError('There is no directive with "exportAs" set to "'+elOrDirRef.value+'"',elOrDirRef.sourceSpan);else if(!component){var refToken=null;isTemplateElement&&(refToken=createTokenForExternalReference(_this.reflector,Identifiers.TemplateRef)),targetReferences.push(new ReferenceAst(elOrDirRef.name,refToken,elOrDirRef.value,elOrDirRef.sourceSpan))}}),directiveAsts},TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(directiveProperties,boundProps,targetBoundDirectiveProps,targetBoundDirectivePropNames){if(directiveProperties){var boundPropsByName_1=new Map;boundProps.forEach(function(boundProp){var prevValue=boundPropsByName_1.get(boundProp.name);prevValue&&!prevValue.isLiteral||boundPropsByName_1.set(boundProp.name,boundProp)}),Object.keys(directiveProperties).forEach(function(dirProp){var elProp=directiveProperties[dirProp],boundProp=boundPropsByName_1.get(elProp);boundProp&&(targetBoundDirectivePropNames.add(boundProp.name),isEmptyExpression(boundProp.expression)||targetBoundDirectiveProps.push(new BoundDirectivePropertyAst(dirProp,boundProp.name,boundProp.expression,boundProp.sourceSpan)))})}},TemplateParseVisitor.prototype._createElementPropertyAsts=function(elementName,props,boundDirectivePropNames){var _this=this,boundElementProps=[];return props.forEach(function(prop){if(!prop.isLiteral&&!boundDirectivePropNames.has(prop.name)){var boundProp=_this._bindingParser.createBoundElementProperty(elementName,prop);boundElementProps.push(BoundElementPropertyAst.fromBoundProperty(boundProp))}}),this._checkPropertiesInSchema(elementName,boundElementProps)},TemplateParseVisitor.prototype._findComponentDirectives=function(directives){return directives.filter(function(directive){return directive.directive.isComponent})},TemplateParseVisitor.prototype._findComponentDirectiveNames=function(directives){return this._findComponentDirectives(directives).map(function(directive){return identifierName(directive.directive.type)})},TemplateParseVisitor.prototype._assertOnlyOneComponent=function(directives,sourceSpan){var componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+componentTypeNames.join(","),sourceSpan)},TemplateParseVisitor.prototype._assertElementExists=function(matchElement,element){var elName=element.name.replace(/^:xhtml:/,"");if(!matchElement&&!this._schemaRegistry.hasElement(elName,this._schemas)){var errorMsg="'"+elName+"' is not a known element:\n";errorMsg+="1. If '"+elName+"' is an Angular component, then verify that it is part of this module.\n",elName.indexOf("-")>-1?errorMsg+="2. If '"+elName+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.":errorMsg+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(errorMsg,element.sourceSpan)}},TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(directives,elementProps,sourceSpan){var _this=this,componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>0&&this._reportError("Components on an embedded template: "+componentTypeNames.join(","),sourceSpan),elementProps.forEach(function(prop){_this._reportError("Property binding "+prop.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',sourceSpan)})},TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(directives,events){var _this=this,allDirectiveEvents=new Set;directives.forEach(function(directive){Object.keys(directive.directive.outputs).forEach(function(k){var eventName=directive.directive.outputs[k];allDirectiveEvents.add(eventName)})}),events.forEach(function(event){null==event.target&&allDirectiveEvents.has(event.name)||_this._reportError("Event binding "+event.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',event.sourceSpan)})},TemplateParseVisitor.prototype._checkPropertiesInSchema=function(elementName,boundProps){var _this=this;return boundProps.filter(function(boundProp){if(0===boundProp.type&&!_this._schemaRegistry.hasProperty(elementName,boundProp.name,_this._schemas)){var errorMsg="Can't bind to '"+boundProp.name+"' since it isn't a known property of '"+elementName+"'.";elementName.startsWith("ng-")?errorMsg+="\n1. If '"+boundProp.name+"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":elementName.indexOf("-")>-1&&(errorMsg+="\n1. If '"+elementName+"' is an Angular component and it has '"+boundProp.name+"' input, then verify that it is part of this module.\n2. If '"+elementName+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),_this._reportError(errorMsg,boundProp.sourceSpan)}return!isEmptyExpression(boundProp.value)})},TemplateParseVisitor.prototype._reportError=function(message,sourceSpan,level){void 0===level&&(level=ParseErrorLevel.ERROR),this._targetErrors.push(new ParseError(sourceSpan,message,level))},TemplateParseVisitor}(),NonBindableVisitor=function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(ast,parent){var preparsedElement=preparseElement(ast);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE||preparsedElement.type===PreparsedElementType.STYLESHEET)return null;var attrNameAndValues=ast.attrs.map(function(attr){return[attr.name,attr.value]}),selector=createElementCssSelector(ast.name,attrNameAndValues),ngContentIndex=parent.findNgContentIndex(selector),children=visitAll$1(this,ast.children,EMPTY_ELEMENT_CONTEXT);return new ElementAst(ast.name,visitAll$1(this,ast.attrs),[],[],[],[],[],!1,[],children,ngContentIndex,ast.sourceSpan,ast.endSourceSpan)},NonBindableVisitor.prototype.visitComment=function(comment,context){return null},NonBindableVisitor.prototype.visitAttribute=function(attribute,context){return new AttrAst(attribute.name,attribute.value,attribute.sourceSpan)},NonBindableVisitor.prototype.visitText=function(text,parent){var ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR());return new TextAst(text.value,ngContentIndex,text.sourceSpan)},NonBindableVisitor.prototype.visitExpansion=function(expansion,context){return expansion},NonBindableVisitor.prototype.visitExpansionCase=function(expansionCase,context){return expansionCase},NonBindableVisitor}(),ElementOrDirectiveRef=function(){function ElementOrDirectiveRef(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return ElementOrDirectiveRef.prototype.isReferenceToDirective=function(directive){return-1!==(exportAs=directive.exportAs,exportAs?exportAs.split(",").map(function(e){return e.trim()}):[]).indexOf(this.value);var exportAs},ElementOrDirectiveRef}();function splitClasses(classAttrValue){return classAttrValue.trim().split(/\s+/g)}var ElementContext=function(){function ElementContext(isTemplateElement,_ngContentIndexMatcher,_wildcardNgContentIndex,providerContext){this.isTemplateElement=isTemplateElement,this._ngContentIndexMatcher=_ngContentIndexMatcher,this._wildcardNgContentIndex=_wildcardNgContentIndex,this.providerContext=providerContext}return ElementContext.create=function(isTemplateElement,directives,providerContext){var matcher=new SelectorMatcher,wildcardNgContentIndex=null,component=directives.find(function(directive){return directive.directive.isComponent});if(component)for(var ngContentSelectors=component.directive.template.ngContentSelectors,i=0;i<ngContentSelectors.length;i++){"*"===ngContentSelectors[i]?wildcardNgContentIndex=i:matcher.addSelectables(CssSelector.parse(ngContentSelectors[i]),i)}return new ElementContext(isTemplateElement,matcher,wildcardNgContentIndex,providerContext)},ElementContext.prototype.findNgContentIndex=function(selector){var ngContentIndices=[];return this._ngContentIndexMatcher.match(selector,function(selector,ngContentIndex){ngContentIndices.push(ngContentIndex)}),ngContentIndices.sort(),null!=this._wildcardNgContentIndex&&ngContentIndices.push(this._wildcardNgContentIndex),ngContentIndices.length>0?ngContentIndices[0]:null},ElementContext}();function createElementCssSelector(elementName,attributes){var cssSelector=new CssSelector,elNameNoNs=splitNsName(elementName)[1];cssSelector.setElement(elNameNoNs);for(var i=0;i<attributes.length;i++){var attrName=attributes[i][0],attrNameNoNs=splitNsName(attrName)[1],attrValue=attributes[i][1];if(cssSelector.addAttribute(attrNameNoNs,attrValue),attrName.toLowerCase()==CLASS_ATTR)splitClasses(attrValue).forEach(function(className){return cssSelector.addClassName(className)})}return cssSelector}var EMPTY_ELEMENT_CONTEXT=new ElementContext(!0,new SelectorMatcher,null,null),NON_BINDABLE_VISITOR=new NonBindableVisitor;function _isEmptyTextNode(node){return node instanceof Text$3&&0==node.value.trim().length}function removeSummaryDuplicates(items){var map=new Map;return items.forEach(function(item){map.get(item.type.reference)||map.set(item.type.reference,item)}),Array.from(map.values())}function isEmptyExpression(ast){return ast instanceof ASTWithSource&&(ast=ast.ast),ast instanceof EmptyExpr}function stripUnnecessaryQuotes(value){var qS=value.charCodeAt(0);if(qS==value.charCodeAt(value.length-1)&&(39==qS||34==qS)){var tempValue=value.substring(1,value.length-1);-1==tempValue.indexOf("'")&&-1==tempValue.indexOf('"')&&(value=tempValue)}return value}function hyphenate(value){return value.replace(/[a-z][A-Z]/g,function(v){return v.charAt(0)+"-"+v.charAt(1)}).toLowerCase()}var TokenType$1,IMPORTANT_FLAG="!important",StylingBuilder=function(){function StylingBuilder(_elementIndexExpr,_directiveExpr){this._elementIndexExpr=_elementIndexExpr,this._directiveExpr=_directiveExpr,this._hasInitialValues=!1,this.hasBindings=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[],this._useDefaultSanitizer=!1}return StylingBuilder.prototype.registerBoundInput=function(input){var binding=null,name=input.name;switch(input.type){case 0:binding=this.registerInputBasedOnName(name,input.value,input.sourceSpan);break;case 3:binding=this.registerStyleInput(name,!1,input.value,input.sourceSpan,input.unit);break;case 2:binding=this.registerClassInput(name,!1,input.value,input.sourceSpan)}return!!binding},StylingBuilder.prototype.registerInputBasedOnName=function(name,expression,sourceSpan){var binding=null,nameToMatch=name.substring(0,5),isStyle="style"===nameToMatch;if(isStyle||!isStyle&&"class"===nameToMatch){var isMapBased="."!==name.charAt(5),property=name.substr(isMapBased?5:6);binding=isStyle?this.registerStyleInput(property,isMapBased,expression,sourceSpan):this.registerClassInput(property,isMapBased,expression,sourceSpan)}return binding},StylingBuilder.prototype.registerStyleInput=function(name,isMapBased,value,sourceSpan,unit){if(isEmptyExpression(value))return null;var _a=parseProperty(name=hyphenate(name)),property=_a.property,hasOverrideFlag=_a.hasOverrideFlag,bindingUnit=_a.unit,entry={name:property,unit:unit||bindingUnit,value:value,sourceSpan:sourceSpan,hasOverrideFlag:hasOverrideFlag};return isMapBased?(this._useDefaultSanitizer=!0,this._styleMapInput=entry):((this._singleStyleInputs=this._singleStyleInputs||[]).push(entry),this._useDefaultSanitizer=this._useDefaultSanitizer||function(prop){return"background-image"===prop||"backgroundImage"===prop||"background"===prop||"border-image"===prop||"borderImage"===prop||"filter"===prop||"list-style"===prop||"listStyle"===prop||"list-style-image"===prop||"listStyleImage"===prop||"clip-path"===prop||"clipPath"===prop}(name),registerIntoMap(this._stylesIndex,property)),this._lastStylingInput=entry,this._firstStylingInput=this._firstStylingInput||entry,this.hasBindings=!0,entry},StylingBuilder.prototype.registerClassInput=function(name,isMapBased,value,sourceSpan){if(isEmptyExpression(value))return null;var _a=parseProperty(name),property=_a.property,entry={name:property,value:value,sourceSpan:sourceSpan,hasOverrideFlag:_a.hasOverrideFlag,unit:null};return isMapBased?this._classMapInput=entry:((this._singleClassInputs=this._singleClassInputs||[]).push(entry),registerIntoMap(this._classesIndex,property)),this._lastStylingInput=entry,this._firstStylingInput=this._firstStylingInput||entry,this.hasBindings=!0,entry},StylingBuilder.prototype.registerStyleAttr=function(value){this._initialStyleValues=function(value){for(var styles=[],i=0,parenDepth=0,quote=0,valueStart=0,propStart=0,currentProp=null,valueHasQuotes=!1;i<value.length;)switch(value.charCodeAt(i++)){case 40:parenDepth++;break;case 41:parenDepth--;break;case 39:valueHasQuotes=valueHasQuotes||valueStart>0,0===quote?quote=39:39===quote&&92!==value.charCodeAt(i-1)&&(quote=0);break;case 34:valueHasQuotes=valueHasQuotes||valueStart>0,0===quote?quote=34:34===quote&&92!==value.charCodeAt(i-1)&&(quote=0);break;case 58:currentProp||0!==parenDepth||0!==quote||(currentProp=hyphenate(value.substring(propStart,i-1).trim()),valueStart=i);break;case 59:if(currentProp&&valueStart>0&&0===parenDepth&&0===quote){var styleVal=value.substring(valueStart,i-1).trim();styles.push(currentProp,valueHasQuotes?stripUnnecessaryQuotes(styleVal):styleVal),propStart=i,valueStart=0,currentProp=null,valueHasQuotes=!1}}currentProp&&valueStart&&(styleVal=value.substr(valueStart).trim(),styles.push(currentProp,valueHasQuotes?stripUnnecessaryQuotes(styleVal):styleVal));return styles}(value),this._hasInitialValues=!0},StylingBuilder.prototype.registerClassAttr=function(value){this._initialClassValues=value.trim().split(/\s+/g),this._hasInitialValues=!0},StylingBuilder.prototype.populateInitialStylingAttrs=function(attrs){if(this._initialClassValues.length){attrs.push(literal(1));for(var i=0;i<this._initialClassValues.length;i++)attrs.push(literal(this._initialClassValues[i]))}if(this._initialStyleValues.length){attrs.push(literal(2));for(i=0;i<this._initialStyleValues.length;i+=2)attrs.push(literal(this._initialStyleValues[i]),literal(this._initialStyleValues[i+1]))}},StylingBuilder.prototype.buildHostAttrsInstruction=function(sourceSpan,attrs,constantPool){var _this=this;return this._directiveExpr&&(attrs.length||this._hasInitialValues)?{sourceSpan:sourceSpan,reference:Identifiers$1.elementHostAttrs,allocateBindingSlots:0,params:function(){return _this.populateInitialStylingAttrs(attrs),[attrs.some(function(attr){return attr instanceof WrappedNodeExpr})?literalArr(attrs):function(constantPool,values){return values.length?constantPool.getConstLiteral(literalArr(values),!0):NULL_EXPR}(constantPool,attrs)]}}:null},StylingBuilder.prototype.buildStylingInstruction=function(sourceSpan,constantPool){return this.hasBindings?{sourceSpan:sourceSpan,allocateBindingSlots:0,reference:Identifiers$1.styling,params:function(){return[]}}:null},StylingBuilder.prototype.buildClassMapInstruction=function(valueConverter){return this._classMapInput?this._buildMapBasedInstruction(valueConverter,!0,this._classMapInput):null},StylingBuilder.prototype.buildStyleMapInstruction=function(valueConverter){return this._styleMapInput?this._buildMapBasedInstruction(valueConverter,!1,this._styleMapInput):null},StylingBuilder.prototype._buildMapBasedInstruction=function(valueConverter,isClassBased,stylingInput){var reference,totalBindingSlotsRequired=1,mapValue=stylingInput.value.visit(valueConverter);return mapValue instanceof Interpolation&&isClassBased?(totalBindingSlotsRequired+=mapValue.expressions.length,reference=function(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.classMap;case 3:return Identifiers$1.classMapInterpolate1;case 5:return Identifiers$1.classMapInterpolate2;case 7:return Identifiers$1.classMapInterpolate3;case 9:return Identifiers$1.classMapInterpolate4;case 11:return Identifiers$1.classMapInterpolate5;case 13:return Identifiers$1.classMapInterpolate6;case 15:return Identifiers$1.classMapInterpolate7;case 17:return Identifiers$1.classMapInterpolate8;default:return Identifiers$1.classMapInterpolateV}}(mapValue)):reference=isClassBased?Identifiers$1.classMap:Identifiers$1.styleMap,{sourceSpan:stylingInput.sourceSpan,reference:reference,allocateBindingSlots:totalBindingSlotsRequired,supportsInterpolation:isClassBased,params:function(convertFn){var convertResult=convertFn(mapValue);return Array.isArray(convertResult)?convertResult:[convertResult]}}},StylingBuilder.prototype._buildSingleInputs=function(reference,inputs,mapIndex,allowUnits,valueConverter,getInterpolationExpressionFn){return inputs.map(function(input){var value=input.value.visit(valueConverter),totalBindingSlotsRequired=1;return value instanceof Interpolation&&(totalBindingSlotsRequired+=value.expressions.length,getInterpolationExpressionFn&&(reference=getInterpolationExpressionFn(value))),{sourceSpan:input.sourceSpan,supportsInterpolation:!!getInterpolationExpressionFn,allocateBindingSlots:totalBindingSlotsRequired,reference:reference,params:function(convertFn){var params=[];params.push(literal(input.name));var convertResult=convertFn(value);return Array.isArray(convertResult)?params.push.apply(params,(0,_tslib.__spread)(convertResult)):params.push(convertResult),allowUnits&&input.unit&&params.push(literal(input.unit)),params}}})},StylingBuilder.prototype._buildClassInputs=function(valueConverter){return this._singleClassInputs?this._buildSingleInputs(Identifiers$1.classProp,this._singleClassInputs,this._classesIndex,!1,valueConverter):[]},StylingBuilder.prototype._buildStyleInputs=function(valueConverter){return this._singleStyleInputs?this._buildSingleInputs(Identifiers$1.styleProp,this._singleStyleInputs,this._stylesIndex,!0,valueConverter,getStylePropInterpolationExpression):[]},StylingBuilder.prototype._buildApplyFn=function(){return{sourceSpan:this._lastStylingInput?this._lastStylingInput.sourceSpan:null,reference:Identifiers$1.stylingApply,allocateBindingSlots:0,params:function(){return[]}}},StylingBuilder.prototype._buildSanitizerFn=function(){return{sourceSpan:this._firstStylingInput?this._firstStylingInput.sourceSpan:null,reference:Identifiers$1.styleSanitizer,allocateBindingSlots:0,params:function(){return[importExpr(Identifiers$1.defaultStyleSanitizer)]}}},StylingBuilder.prototype.buildUpdateLevelInstructions=function(valueConverter){var instructions=[];if(this.hasBindings){this._useDefaultSanitizer&&instructions.push(this._buildSanitizerFn());var styleMapInstruction=this.buildStyleMapInstruction(valueConverter);styleMapInstruction&&instructions.push(styleMapInstruction);var classMapInstruction=this.buildClassMapInstruction(valueConverter);classMapInstruction&&instructions.push(classMapInstruction),instructions.push.apply(instructions,(0,_tslib.__spread)(this._buildStyleInputs(valueConverter))),instructions.push.apply(instructions,(0,_tslib.__spread)(this._buildClassInputs(valueConverter))),instructions.push(this._buildApplyFn())}return instructions},StylingBuilder}();function registerIntoMap(map,key){map.has(key)||map.set(key,map.size)}function parseProperty(name){var hasOverrideFlag=!1,overrideIndex=name.indexOf(IMPORTANT_FLAG);-1!==overrideIndex&&(name=overrideIndex>0?name.substring(0,overrideIndex):"",hasOverrideFlag=!0);var unit="",property=name,unitIndex=name.lastIndexOf(".");return unitIndex>0&&(unit=name.substr(unitIndex+1),property=name.substring(0,unitIndex)),{property:property,unit:unit,hasOverrideFlag:hasOverrideFlag}}function getStylePropInterpolationExpression(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.styleProp;case 3:return Identifiers$1.stylePropInterpolate1;case 5:return Identifiers$1.stylePropInterpolate2;case 7:return Identifiers$1.stylePropInterpolate3;case 9:return Identifiers$1.stylePropInterpolate4;case 11:return Identifiers$1.stylePropInterpolate5;case 13:return Identifiers$1.stylePropInterpolate6;case 15:return Identifiers$1.stylePropInterpolate7;case 17:return Identifiers$1.stylePropInterpolate8;default:return Identifiers$1.stylePropInterpolateV}}exports.TokenType=TokenType$1,function(TokenType){TokenType[TokenType.Character=0]="Character",TokenType[TokenType.Identifier=1]="Identifier",TokenType[TokenType.Keyword=2]="Keyword",TokenType[TokenType.String=3]="String",TokenType[TokenType.Operator=4]="Operator",TokenType[TokenType.Number=5]="Number",TokenType[TokenType.Error=6]="Error"}(TokenType$1||(exports.TokenType=TokenType$1={}));var KEYWORDS=["var","let","as","null","undefined","true","false","if","else","this"],Lexer=function(){function Lexer(){}return Lexer.prototype.tokenize=function(text){for(var scanner=new _Scanner(text),tokens=[],token=scanner.scanToken();null!=token;)tokens.push(token),token=scanner.scanToken();return tokens},Lexer}();exports.Lexer=Lexer;var Token$1=function(){function Token(index,type,numValue,strValue){this.index=index,this.type=type,this.numValue=numValue,this.strValue=strValue}return Token.prototype.isCharacter=function(code){return this.type==TokenType$1.Character&&this.numValue==code},Token.prototype.isNumber=function(){return this.type==TokenType$1.Number},Token.prototype.isString=function(){return this.type==TokenType$1.String},Token.prototype.isOperator=function(operator){return this.type==TokenType$1.Operator&&this.strValue==operator},Token.prototype.isIdentifier=function(){return this.type==TokenType$1.Identifier},Token.prototype.isKeyword=function(){return this.type==TokenType$1.Keyword},Token.prototype.isKeywordLet=function(){return this.type==TokenType$1.Keyword&&"let"==this.strValue},Token.prototype.isKeywordAs=function(){return this.type==TokenType$1.Keyword&&"as"==this.strValue},Token.prototype.isKeywordNull=function(){return this.type==TokenType$1.Keyword&&"null"==this.strValue},Token.prototype.isKeywordUndefined=function(){return this.type==TokenType$1.Keyword&&"undefined"==this.strValue},Token.prototype.isKeywordTrue=function(){return this.type==TokenType$1.Keyword&&"true"==this.strValue},Token.prototype.isKeywordFalse=function(){return this.type==TokenType$1.Keyword&&"false"==this.strValue},Token.prototype.isKeywordThis=function(){return this.type==TokenType$1.Keyword&&"this"==this.strValue},Token.prototype.isError=function(){return this.type==TokenType$1.Error},Token.prototype.toNumber=function(){return this.type==TokenType$1.Number?this.numValue:-1},Token.prototype.toString=function(){switch(this.type){case TokenType$1.Character:case TokenType$1.Identifier:case TokenType$1.Keyword:case TokenType$1.Operator:case TokenType$1.String:case TokenType$1.Error:return this.strValue;case TokenType$1.Number:return this.numValue.toString();default:return null}},Token}();function newCharacterToken(index,code){return new Token$1(index,TokenType$1.Character,code,String.fromCharCode(code))}function newOperatorToken(index,text){return new Token$1(index,TokenType$1.Operator,0,text)}exports.Token=Token$1;var EOF=new Token$1(-1,TokenType$1.Character,0,"");exports.EOF=EOF;var _Scanner=function(){function _Scanner(input){this.input=input,this.peek=0,this.index=-1,this.length=input.length,this.advance()}return _Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?$EOF:this.input.charCodeAt(this.index)},_Scanner.prototype.scanToken=function(){for(var input=this.input,length=this.length,peek=this.peek,index=this.index;peek<=$SPACE;){if(++index>=length){peek=$EOF;break}peek=input.charCodeAt(index)}if(this.peek=peek,this.index=index,index>=length)return null;if(isIdentifierStart(peek))return this.scanIdentifier();if(isDigit(peek))return this.scanNumber(index);var start=index;switch(peek){case 46:return this.advance(),isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case $SEMICOLON:return this.scanCharacter(start,peek);case $SQ:case $DQ:return this.scanString();case 35:case $PLUS:case $MINUS:case 42:case $SLASH:case 37:case 94:return this.scanOperator(start,String.fromCharCode(peek));case 63:return this.scanComplexOperator(start,"?",46,".");case 60:case $GT:return this.scanComplexOperator(start,String.fromCharCode(peek),$EQ,"=");case 33:case $EQ:return this.scanComplexOperator(start,String.fromCharCode(peek),$EQ,"=",$EQ,"=");case 38:return this.scanComplexOperator(start,"&",38,"&");case 124:return this.scanComplexOperator(start,"|",124,"|");case $NBSP:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(peek)+"]",0)},_Scanner.prototype.scanCharacter=function(start,code){return this.advance(),newCharacterToken(start,code)},_Scanner.prototype.scanOperator=function(start,str){return this.advance(),newOperatorToken(start,str)},_Scanner.prototype.scanComplexOperator=function(start,one,twoCode,two,threeCode,three){this.advance();var str=one;return this.peek==twoCode&&(this.advance(),str+=two),null!=threeCode&&this.peek==threeCode&&(this.advance(),str+=three),newOperatorToken(start,str)},_Scanner.prototype.scanIdentifier=function(){var start=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var text,str=this.input.substring(start,this.index);return KEYWORDS.indexOf(str)>-1?(text=str,new Token$1(start,TokenType$1.Keyword,0,text)):function(index,text){return new Token$1(index,TokenType$1.Identifier,0,text)}(start,str)},_Scanner.prototype.scanNumber=function(start){var code,simple=this.index===start;for(this.advance();;){if(isDigit(this.peek));else if(46==this.peek)simple=!1;else{if((code=this.peek)!=$e&&code!=$E)break;if(this.advance(),isExponentSign(this.peek)&&this.advance(),!isDigit(this.peek))return this.error("Invalid exponent",-1);simple=!1}this.advance()}var n,str=this.input.substring(start,this.index),value=simple?function(text){var result=parseInt(text);if(isNaN(result))throw new Error("Invalid integer literal when parsing "+text);return result}(str):parseFloat(str);return n=value,new Token$1(start,TokenType$1.Number,n,"")},_Scanner.prototype.scanString=function(){var start=this.index,quote=this.peek;this.advance();for(var buffer="",marker=this.index,input=this.input;this.peek!=quote;)if(92==this.peek){buffer+=input.substring(marker,this.index),this.advance();var unescapedCode=void 0;if(this.peek=this.peek,117==this.peek){var hex=input.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(hex))return this.error("Invalid unicode escape [\\u"+hex+"]",0);unescapedCode=parseInt(hex,16);for(var i=0;i<5;i++)this.advance()}else unescapedCode=unescape(this.peek),this.advance();buffer+=String.fromCharCode(unescapedCode),marker=this.index}else{if(this.peek==$EOF)return this.error("Unterminated quote",0);this.advance()}var text,last=input.substring(marker,this.index);return this.advance(),text=buffer+last,new Token$1(start,TokenType$1.String,0,text)},_Scanner.prototype.error=function(message,offset){var position=this.index+offset;return function(index,message){return new Token$1(index,TokenType$1.Error,0,message)}(position,"Lexer Error: "+message+" at column "+position+" in expression ["+this.input+"]")},_Scanner}();function isIdentifierStart(code){return $a<=code&&code<=$z||$A<=code&&code<=$Z||code==$_||code==$$}function isIdentifier(input){if(0==input.length)return!1;var scanner=new _Scanner(input);if(!isIdentifierStart(scanner.peek))return!1;for(scanner.advance();scanner.peek!==$EOF;){if(!isIdentifierPart(scanner.peek))return!1;scanner.advance()}return!0}function isIdentifierPart(code){return isAsciiLetter(code)||isDigit(code)||code==$_||code==$$}function isExponentSign(code){return code==$MINUS||code==$PLUS}function isQuote(code){return code===$SQ||code===$DQ||code===$BT}function unescape(code){switch(code){case $n:return $LF;case $f:return $FF;case $r:return $CR;case $t:return $TAB;case $v:return $VTAB;default:return code}}var SplitInterpolation=function(){return function(strings,expressions,offsets){this.strings=strings,this.expressions=expressions,this.offsets=offsets}}();exports.SplitInterpolation=SplitInterpolation;var TemplateBindingParseResult=function(){return function(templateBindings,warnings,errors){this.templateBindings=templateBindings,this.warnings=warnings,this.errors=errors}}();function _createInterpolateRegExp(config){var pattern=escapeRegExp(config.start)+"([\\s\\S]*?)"+escapeRegExp(config.end);return new RegExp(pattern,"g")}exports.TemplateBindingParseResult=TemplateBindingParseResult;var Parser$1=function(){function Parser(_lexer){this._lexer=_lexer,this.errors=[]}return Parser.prototype.parseAction=function(input,location,absoluteOffset,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG),this._checkNoInterpolation(input,location,interpolationConfig);var sourceToLex=this._stripComments(input),tokens=this._lexer.tokenize(this._stripComments(input)),ast=new _ParseAST(input,location,absoluteOffset,tokens,sourceToLex.length,!0,this.errors,input.length-sourceToLex.length).parseChain();return new ASTWithSource(ast,input,location,absoluteOffset,this.errors)},Parser.prototype.parseBinding=function(input,location,absoluteOffset,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var ast=this._parseBindingAst(input,location,absoluteOffset,interpolationConfig);return new ASTWithSource(ast,input,location,absoluteOffset,this.errors)},Parser.prototype.parseSimpleBinding=function(input,location,absoluteOffset,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var ast=this._parseBindingAst(input,location,absoluteOffset,interpolationConfig),errors=SimpleExpressionChecker.check(ast);return errors.length>0&&this._reportError("Host binding expression cannot contain "+errors.join(" "),input,location),new ASTWithSource(ast,input,location,absoluteOffset,this.errors)},Parser.prototype._reportError=function(message,input,errLocation,ctxLocation){this.errors.push(new ParserError(message,input,errLocation,ctxLocation))},Parser.prototype._parseBindingAst=function(input,location,absoluteOffset,interpolationConfig){var quote=this._parseQuote(input,location);if(null!=quote)return quote;this._checkNoInterpolation(input,location,interpolationConfig);var sourceToLex=this._stripComments(input),tokens=this._lexer.tokenize(sourceToLex);return new _ParseAST(input,location,absoluteOffset,tokens,sourceToLex.length,!1,this.errors,input.length-sourceToLex.length).parseChain()},Parser.prototype._parseQuote=function(input,location){if(null==input)return null;var prefixSeparatorIndex=input.indexOf(":");if(-1==prefixSeparatorIndex)return null;var prefix=input.substring(0,prefixSeparatorIndex).trim();if(!isIdentifier(prefix))return null;var uninterpretedExpression=input.substring(prefixSeparatorIndex+1);return new Quote(new ParseSpan(0,input.length),prefix,uninterpretedExpression,location)},Parser.prototype.parseTemplateBindings=function(tplKey,tplValue,location,absoluteOffset){var tokens=this._lexer.tokenize(tplValue);return new _ParseAST(tplValue,location,absoluteOffset,tokens,tplValue.length,!1,this.errors,0).parseTemplateBindings(tplKey)},Parser.prototype.parseInterpolation=function(input,location,absoluteOffset,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var split=this.splitInterpolation(input,location,interpolationConfig);if(null==split)return null;for(var expressions=[],i=0;i<split.expressions.length;++i){var expressionText=split.expressions[i],sourceToLex=this._stripComments(expressionText),tokens=this._lexer.tokenize(sourceToLex),ast=new _ParseAST(input,location,absoluteOffset,tokens,sourceToLex.length,!1,this.errors,split.offsets[i]+(expressionText.length-sourceToLex.length)).parseChain();expressions.push(ast)}return new ASTWithSource(new Interpolation(new ParseSpan(0,null==input?0:input.length),split.strings,expressions),input,location,absoluteOffset,this.errors)},Parser.prototype.splitInterpolation=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var regexp=_createInterpolateRegExp(interpolationConfig),parts=input.split(regexp);if(parts.length<=1)return null;for(var strings=[],expressions=[],offsets=[],offset=0,i=0;i<parts.length;i++){var part=parts[i];i%2==0?(strings.push(part),offset+=part.length):part.trim().length>0?(offset+=interpolationConfig.start.length,expressions.push(part),offsets.push(offset),offset+=part.length+interpolationConfig.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",input,"at column "+this._findInterpolationErrorColumn(parts,i,interpolationConfig)+" in",location),expressions.push("$implict"),offsets.push(offset))}return new SplitInterpolation(strings,expressions,offsets)},Parser.prototype.wrapLiteralPrimitive=function(input,location,absoluteOffset){return new ASTWithSource(new LiteralPrimitive(new ParseSpan(0,null==input?0:input.length),input),input,location,absoluteOffset,this.errors)},Parser.prototype._stripComments=function(input){var i=this._commentStart(input);return null!=i?input.substring(0,i).trim():input},Parser.prototype._commentStart=function(input){for(var outerQuote=null,i=0;i<input.length-1;i++){var char=input.charCodeAt(i),nextChar=input.charCodeAt(i+1);if(char===$SLASH&&nextChar==$SLASH&&null==outerQuote)return i;outerQuote===char?outerQuote=null:null==outerQuote&&isQuote(char)&&(outerQuote=char)}return null},Parser.prototype._checkNoInterpolation=function(input,location,interpolationConfig){var regexp=_createInterpolateRegExp(interpolationConfig),parts=input.split(regexp);parts.length>1&&this._reportError("Got interpolation ("+interpolationConfig.start+interpolationConfig.end+") where expression was expected",input,"at column "+this._findInterpolationErrorColumn(parts,1,interpolationConfig)+" in",location)},Parser.prototype._findInterpolationErrorColumn=function(parts,partInErrIdx,interpolationConfig){for(var errLocation="",j=0;j<partInErrIdx;j++)errLocation+=j%2==0?parts[j]:""+interpolationConfig.start+parts[j]+interpolationConfig.end;return errLocation.length},Parser}();exports.Parser=Parser$1;var _ParseAST=function(){function _ParseAST(input,location,absoluteOffset,tokens,inputLength,parseAction,errors,offset){this.input=input,this.location=location,this.absoluteOffset=absoluteOffset,this.tokens=tokens,this.inputLength=inputLength,this.parseAction=parseAction,this.errors=errors,this.offset=offset,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return _ParseAST.prototype.peek=function(offset){var i=this.index+offset;return i<this.tokens.length?this.tokens[i]:EOF},Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),_ParseAST.prototype.span=function(start){return new ParseSpan(start,this.inputIndex)},_ParseAST.prototype.advance=function(){this.index++},_ParseAST.prototype.optionalCharacter=function(code){return!!this.next.isCharacter(code)&&(this.advance(),!0)},_ParseAST.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},_ParseAST.prototype.peekKeywordAs=function(){return this.next.isKeywordAs()},_ParseAST.prototype.expectCharacter=function(code){this.optionalCharacter(code)||this.error("Missing expected "+String.fromCharCode(code))},_ParseAST.prototype.optionalOperator=function(op){return!!this.next.isOperator(op)&&(this.advance(),!0)},_ParseAST.prototype.expectOperator=function(operator){this.optionalOperator(operator)||this.error("Missing expected operator "+operator)},_ParseAST.prototype.expectIdentifierOrKeyword=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()?(this.advance(),n.toString()):(this.error("Unexpected token "+n+", expected identifier or keyword"),"")},_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()||n.isString()?(this.advance(),n.toString()):(this.error("Unexpected token "+n+", expected identifier, keyword, or string"),"")},_ParseAST.prototype.parseChain=function(){for(var exprs=[],start=this.inputIndex;this.index<this.tokens.length;){var expr=this.parsePipe();if(exprs.push(expr),this.optionalCharacter($SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter($SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==exprs.length?new EmptyExpr(this.span(start)):1==exprs.length?exprs[0]:new Chain(this.span(start),exprs)},_ParseAST.prototype.parsePipe=function(){var result=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var name_1=this.expectIdentifierOrKeyword(),args=[];this.optionalCharacter(58);)args.push(this.parseExpression());result=new BindingPipe(this.span(result.span.start),result,name_1,args)}while(this.optionalOperator("|"))}return result},_ParseAST.prototype.parseExpression=function(){return this.parseConditional()},_ParseAST.prototype.parseConditional=function(){var start=this.inputIndex,result=this.parseLogicalOr();if(this.optionalOperator("?")){var yes=this.parsePipe(),no=void 0;if(this.optionalCharacter(58))no=this.parsePipe();else{var end=this.inputIndex,expression=this.input.substring(start,end);this.error("Conditional expression "+expression+" requires all 3 expressions"),no=new EmptyExpr(this.span(start))}return new Conditional(this.span(start),result,yes,no)}return result},_ParseAST.prototype.parseLogicalOr=function(){for(var result=this.parseLogicalAnd();this.optionalOperator("||");){var right=this.parseLogicalAnd();result=new Binary(this.span(result.span.start),"||",result,right)}return result},_ParseAST.prototype.parseLogicalAnd=function(){for(var result=this.parseEquality();this.optionalOperator("&&");){var right=this.parseEquality();result=new Binary(this.span(result.span.start),"&&",result,right)}return result},_ParseAST.prototype.parseEquality=function(){for(var result=this.parseRelational();this.next.type==TokenType$1.Operator;){var operator=this.next.strValue;switch(operator){case"==":case"===":case"!=":case"!==":this.advance();var right=this.parseRelational();result=new Binary(this.span(result.span.start),operator,result,right);continue}break}return result},_ParseAST.prototype.parseRelational=function(){for(var result=this.parseAdditive();this.next.type==TokenType$1.Operator;){var operator=this.next.strValue;switch(operator){case"<":case">":case"<=":case">=":this.advance();var right=this.parseAdditive();result=new Binary(this.span(result.span.start),operator,result,right);continue}break}return result},_ParseAST.prototype.parseAdditive=function(){for(var result=this.parseMultiplicative();this.next.type==TokenType$1.Operator;){var operator=this.next.strValue;switch(operator){case"+":case"-":this.advance();var right=this.parseMultiplicative();result=new Binary(this.span(result.span.start),operator,result,right);continue}break}return result},_ParseAST.prototype.parseMultiplicative=function(){for(var result=this.parsePrefix();this.next.type==TokenType$1.Operator;){var operator=this.next.strValue;switch(operator){case"*":case"%":case"/":this.advance();var right=this.parsePrefix();result=new Binary(this.span(result.span.start),operator,result,right);continue}break}return result},_ParseAST.prototype.parsePrefix=function(){if(this.next.type==TokenType$1.Operator){var start=this.inputIndex,operator=this.next.strValue,result=void 0;switch(operator){case"+":return this.advance(),result=this.parsePrefix(),new Binary(this.span(start),"-",result,new LiteralPrimitive(new ParseSpan(start,start),0));case"-":return this.advance(),result=this.parsePrefix(),new Binary(this.span(start),operator,new LiteralPrimitive(new ParseSpan(start,start),0),result);case"!":return this.advance(),result=this.parsePrefix(),new PrefixNot(this.span(start),result)}}return this.parseCallChain()},_ParseAST.prototype.parseCallChain=function(){for(var result=this.parsePrimary();;)if(this.optionalCharacter(46))result=this.parseAccessMemberOrMethodCall(result,!1);else if(this.optionalOperator("?."))result=this.parseAccessMemberOrMethodCall(result,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var key=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var value=this.parseConditional();result=new KeyedWrite(this.span(result.span.start),result,key,value)}else result=new KeyedRead(this.span(result.span.start),result,key)}else if(this.optionalCharacter(40)){this.rparensExpected++;var args=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),result=new FunctionCall(this.span(result.span.start),result,args)}else{if(!this.optionalOperator("!"))return result;result=new NonNullAssert(this.span(result.span.start),result)}},_ParseAST.prototype.parsePrimary=function(){var start=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var result=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),result}if(this.next.isKeywordNull())return this.advance(),new LiteralPrimitive(this.span(start),null);if(this.next.isKeywordUndefined())return this.advance(),new LiteralPrimitive(this.span(start),void 0);if(this.next.isKeywordTrue())return this.advance(),new LiteralPrimitive(this.span(start),!0);if(this.next.isKeywordFalse())return this.advance(),new LiteralPrimitive(this.span(start),!1);if(this.next.isKeywordThis())return this.advance(),new ImplicitReceiver(this.span(start));if(this.optionalCharacter(91)){this.rbracketsExpected++;var elements=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new LiteralArray(this.span(start),elements)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new ImplicitReceiver(this.span(start)),!1);if(this.next.isNumber()){var value=this.next.toNumber();return this.advance(),new LiteralPrimitive(this.span(start),value)}if(this.next.isString()){var literalValue=this.next.toString();return this.advance(),new LiteralPrimitive(this.span(start),literalValue)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new EmptyExpr(this.span(start))):(this.error("Unexpected token "+this.next),new EmptyExpr(this.span(start)))},_ParseAST.prototype.parseExpressionList=function(terminator){var result=[];if(!this.next.isCharacter(terminator))do{result.push(this.parsePipe())}while(this.optionalCharacter(44));return result},_ParseAST.prototype.parseLiteralMap=function(){var keys=[],values=[],start=this.inputIndex;if(this.expectCharacter(123),!this.optionalCharacter(125)){this.rbracesExpected++;do{var quoted=this.next.isString(),key=this.expectIdentifierOrKeywordOrString();keys.push({key:key,quoted:quoted}),this.expectCharacter(58),values.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new LiteralMap(this.span(start),keys,values)},_ParseAST.prototype.parseAccessMemberOrMethodCall=function(receiver,isSafe){void 0===isSafe&&(isSafe=!1);var start=receiver.span.start,id=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var args=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var span=this.span(start);return isSafe?new SafeMethodCall(span,receiver,id,args):new MethodCall(span,receiver,id,args)}if(isSafe)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new EmptyExpr(this.span(start))):new SafePropertyRead(this.span(start),receiver,id);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new EmptyExpr(this.span(start));var value=this.parseConditional();return new PropertyWrite(this.span(start),receiver,id,value)}return new PropertyRead(this.span(start),receiver,id)},_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(41))return[];var positionals=[];do{positionals.push(this.parsePipe())}while(this.optionalCharacter(44));return positionals},_ParseAST.prototype.expectTemplateBindingKey=function(){var result="",operatorFound=!1;do{result+=this.expectIdentifierOrKeywordOrString(),(operatorFound=this.optionalOperator("-"))&&(result+="-")}while(operatorFound);return result.toString()},_ParseAST.prototype.parseTemplateBindings=function(tplKey){var firstBinding=!0,bindings=[];do{var start=this.inputIndex,rawKey=void 0,key=void 0,isVar=!1;firstBinding?(rawKey=key=tplKey,firstBinding=!1):((isVar=this.peekKeywordLet())&&this.advance(),rawKey=this.expectTemplateBindingKey(),key=isVar?rawKey:tplKey+rawKey[0].toUpperCase()+rawKey.substring(1),this.optionalCharacter(58));var name_2=null,expression=null;if(isVar)name_2=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs())this.advance(),name_2=rawKey,key=this.expectTemplateBindingKey(),isVar=!0;else if(this.next!==EOF&&!this.peekKeywordLet()){var start_1=this.inputIndex,ast=this.parsePipe(),source=this.input.substring(start_1-this.offset,this.inputIndex-this.offset);expression=new ASTWithSource(ast,source,this.location,this.absoluteOffset,this.errors)}if(bindings.push(new TemplateBinding(this.span(start),key,isVar,name_2,expression)),this.peekKeywordAs()&&!isVar){var letStart=this.inputIndex;this.advance();var letName=this.expectTemplateBindingKey();bindings.push(new TemplateBinding(this.span(letStart),letName,!0,key,null))}this.optionalCharacter($SEMICOLON)||this.optionalCharacter(44)}while(this.index<this.tokens.length);return new TemplateBindingParseResult(bindings,[],this.errors)},_ParseAST.prototype.error=function(message,index){void 0===index&&(index=null),this.errors.push(new ParserError(message,this.input,this.locationText(index),this.location)),this.skip()},_ParseAST.prototype.locationText=function(index){return void 0===index&&(index=null),null==index&&(index=this.index),index<this.tokens.length?"at column "+(this.tokens[index].index+1)+" in":"at the end of the expression"},_ParseAST.prototype.skip=function(){for(var n=this.next;this.index<this.tokens.length&&!n.isCharacter($SEMICOLON)&&(this.rparensExpected<=0||!n.isCharacter(41))&&(this.rbracesExpected<=0||!n.isCharacter(125))&&(this.rbracketsExpected<=0||!n.isCharacter(93));)this.next.isError()&&this.errors.push(new ParserError(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),n=this.next},_ParseAST}();exports._ParseAST=_ParseAST;var _SECURITY_SCHEMA,SimpleExpressionChecker=function(){function SimpleExpressionChecker(){this.errors=[]}return SimpleExpressionChecker.check=function(ast){var s=new SimpleExpressionChecker;return ast.visit(s),s.errors},SimpleExpressionChecker.prototype.visitImplicitReceiver=function(ast,context){},SimpleExpressionChecker.prototype.visitInterpolation=function(ast,context){},SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(ast,context){},SimpleExpressionChecker.prototype.visitPropertyRead=function(ast,context){},SimpleExpressionChecker.prototype.visitPropertyWrite=function(ast,context){},SimpleExpressionChecker.prototype.visitSafePropertyRead=function(ast,context){},SimpleExpressionChecker.prototype.visitMethodCall=function(ast,context){},SimpleExpressionChecker.prototype.visitSafeMethodCall=function(ast,context){},SimpleExpressionChecker.prototype.visitFunctionCall=function(ast,context){},SimpleExpressionChecker.prototype.visitLiteralArray=function(ast,context){this.visitAll(ast.expressions)},SimpleExpressionChecker.prototype.visitLiteralMap=function(ast,context){this.visitAll(ast.values)},SimpleExpressionChecker.prototype.visitBinary=function(ast,context){},SimpleExpressionChecker.prototype.visitPrefixNot=function(ast,context){},SimpleExpressionChecker.prototype.visitNonNullAssert=function(ast,context){},SimpleExpressionChecker.prototype.visitConditional=function(ast,context){},SimpleExpressionChecker.prototype.visitPipe=function(ast,context){this.errors.push("pipes")},SimpleExpressionChecker.prototype.visitKeyedRead=function(ast,context){},SimpleExpressionChecker.prototype.visitKeyedWrite=function(ast,context){},SimpleExpressionChecker.prototype.visitAll=function(asts){var _this=this;return asts.map(function(node){return node.visit(_this)})},SimpleExpressionChecker.prototype.visitChain=function(ast,context){},SimpleExpressionChecker.prototype.visitQuote=function(ast,context){},SimpleExpressionChecker}();function SECURITY_SCHEMA(){return _SECURITY_SCHEMA||(_SECURITY_SCHEMA={},registerContext(SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(SecurityContext.STYLE,["*|style"]),registerContext(SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),registerContext(SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),_SECURITY_SCHEMA}function registerContext(ctx,specs){var e_1,_a;try{for(var specs_1=(0,_tslib.__values)(specs),specs_1_1=specs_1.next();!specs_1_1.done;specs_1_1=specs_1.next()){var spec=specs_1_1.value;_SECURITY_SCHEMA[spec.toLowerCase()]=ctx}}catch(e_1_1){e_1={error:e_1_1}}finally{try{specs_1_1&&!specs_1_1.done&&(_a=specs_1.return)&&_a.call(specs_1)}finally{if(e_1)throw e_1.error}}}var ElementSchemaRegistry=function(){return function(){}}();exports.ElementSchemaRegistry=ElementSchemaRegistry;var BOOLEAN="boolean",NUMBER="number",STRING="string",OBJECT="object",SCHEMA=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],_ATTR_TO_PROP={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DomElementSchemaRegistry=function(_super){function DomElementSchemaRegistry(){var _this=_super.call(this)||this;return _this._schema={},SCHEMA.forEach(function(encodedType){var type={},_a=(0,_tslib.__read)(encodedType.split("|"),2),strType=_a[0],properties=_a[1].split(","),_b=(0,_tslib.__read)(strType.split("^"),2),typeNames=_b[0],superName=_b[1];typeNames.split(",").forEach(function(tag){return _this._schema[tag.toLowerCase()]=type});var superType=superName&&_this._schema[superName.toLowerCase()];superType&&Object.keys(superType).forEach(function(prop){type[prop]=superType[prop]}),properties.forEach(function(property){if(property.length>0)switch(property[0]){case"*":break;case"!":type[property.substring(1)]=BOOLEAN;break;case"#":type[property.substring(1)]=NUMBER;break;case"%":type[property.substring(1)]=OBJECT;break;default:type[property]=STRING}})}),_this}return(0,_tslib.__extends)(DomElementSchemaRegistry,_super),DomElementSchemaRegistry.prototype.hasProperty=function(tagName,propName,schemaMetas){if(schemaMetas.some(function(schema){return schema.name===NO_ERRORS_SCHEMA.name}))return!0;if(tagName.indexOf("-")>-1){if(isNgContainer(tagName)||isNgContent(tagName))return!1;if(schemaMetas.some(function(schema){return schema.name===CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!(this._schema[tagName.toLowerCase()]||this._schema.unknown)[propName]},DomElementSchemaRegistry.prototype.hasElement=function(tagName,schemaMetas){if(schemaMetas.some(function(schema){return schema.name===NO_ERRORS_SCHEMA.name}))return!0;if(tagName.indexOf("-")>-1){if(isNgContainer(tagName)||isNgContent(tagName))return!0;if(schemaMetas.some(function(schema){return schema.name===CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!this._schema[tagName.toLowerCase()]},DomElementSchemaRegistry.prototype.securityContext=function(tagName,propName,isAttribute){isAttribute&&(propName=this.getMappedPropName(propName)),tagName=tagName.toLowerCase(),propName=propName.toLowerCase();var ctx=SECURITY_SCHEMA()[tagName+"|"+propName];return ctx||((ctx=SECURITY_SCHEMA()["*|"+propName])||SecurityContext.NONE)},DomElementSchemaRegistry.prototype.getMappedPropName=function(propName){return _ATTR_TO_PROP[propName]||propName},DomElementSchemaRegistry.prototype.getDefaultComponentElementName=function(){return"ng-component"},DomElementSchemaRegistry.prototype.validateProperty=function(name){return name.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event property '"+name+"' is disallowed for security reasons, please use ("+name.slice(2)+")=...\nIf '"+name+"' is a directive input, make sure the directive is imported by the current module."}:{error:!1}},DomElementSchemaRegistry.prototype.validateAttribute=function(name){return name.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event attribute '"+name+"' is disallowed for security reasons, please use ("+name.slice(2)+")=..."}:{error:!1}},DomElementSchemaRegistry.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},DomElementSchemaRegistry.prototype.normalizeAnimationStyleProperty=function(propName){return propName.replace(DASH_CASE_REGEXP,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i]=arguments[_i];return m[1].toUpperCase()})},DomElementSchemaRegistry.prototype.normalizeAnimationStyleValue=function(camelCaseProp,userProvidedProp,val){var unit="",strVal=val.toString().trim(),errorMsg=null;if(function(prop){switch(prop){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(camelCaseProp)&&0!==val&&"0"!==val)if("number"==typeof val)unit="px";else{var valAndSuffixMatch=val.match(/^[+-]?[\d\.]+([a-z]*)$/);valAndSuffixMatch&&0==valAndSuffixMatch[1].length&&(errorMsg="Please provide a CSS unit value for "+userProvidedProp+":"+val)}return{error:errorMsg,value:strVal+unit}},DomElementSchemaRegistry}(ElementSchemaRegistry);exports.DomElementSchemaRegistry=DomElementSchemaRegistry;var BIND_NAME_REGEXP$1=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function htmlAstToRender3Ast(htmlNodes,bindingParser){var transformer=new HtmlAstToIvyAst(bindingParser),ivyNodes=visitAll$1(transformer,htmlNodes),allErrors=bindingParser.errors.concat(transformer.errors),errors=allErrors.filter(function(e){return e.level===ParseErrorLevel.ERROR});if(errors.length>0)throw syntaxError("Template parse errors:\n"+errors.join("\n"),errors);return{nodes:ivyNodes,errors:allErrors,styleUrls:transformer.styleUrls,styles:transformer.styles}}var TagType,HtmlAstToIvyAst=function(){function HtmlAstToIvyAst(bindingParser){this.bindingParser=bindingParser,this.errors=[],this.styles=[],this.styleUrls=[]}return HtmlAstToIvyAst.prototype.visitElement=function(element){var e_1,_a,node,_this=this,preparsedElement=preparseElement(element);if(preparsedElement.type===PreparsedElementType.SCRIPT)return null;if(preparsedElement.type===PreparsedElementType.STYLE){var contents=1===(node=element).children.length&&node.children[0]instanceof Text$3?node.children[0].value:null;return null!==contents&&this.styles.push(contents),null}if(preparsedElement.type===PreparsedElementType.STYLESHEET&&isStyleUrlResolvable(preparsedElement.hrefAttr))return this.styleUrls.push(preparsedElement.hrefAttr),null;var isTemplateElement=isNgTemplate(element.name),parsedProperties=[],boundEvents=[],variables=[],references=[],attributes=[],i18nAttrsMeta={},templateParsedProperties=[],templateVariables=[],elementHasInlineTemplate=!1;try{for(var _b=(0,_tslib.__values)(element.attrs),_c=_b.next();!_c.done;_c=_b.next()){var attribute=_c.value,hasBinding=!1,normalizedName=normalizeAttributeName(attribute.name),isTemplateBinding=!1;if(attribute.i18n&&(i18nAttrsMeta[attribute.name]=attribute.i18n),normalizedName.startsWith("*")){elementHasInlineTemplate&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",attribute.sourceSpan),isTemplateBinding=!0,elementHasInlineTemplate=!0;var templateValue=attribute.value,templateKey=normalizedName.substring("*".length),parsedVariables=[],absoluteOffset=attribute.valueSpan?attribute.valueSpan.start.offset:attribute.sourceSpan.start.offset;this.bindingParser.parseInlineTemplateBinding(templateKey,templateValue,attribute.sourceSpan,absoluteOffset,[],templateParsedProperties,parsedVariables),templateVariables.push.apply(templateVariables,(0,_tslib.__spread)(parsedVariables.map(function(v){return new Variable(v.name,v.value,v.sourceSpan)})))}else hasBinding=this.parseAttribute(isTemplateElement,attribute,[],parsedProperties,boundEvents,variables,references);hasBinding||isTemplateBinding||attributes.push(this.visitAttribute(attribute))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}var parsedElement,children=visitAll$1(preparsedElement.nonBindable?NON_BINDABLE_VISITOR$1:this,element.children);if(preparsedElement.type===PreparsedElementType.NG_CONTENT){element.children&&!element.children.every(function(node){return function(node){return node instanceof Text$3&&0==node.value.trim().length}(node)||function(node){return node instanceof Comment}(node)})&&this.reportError("<ng-content> element cannot have content.",element.sourceSpan);var selector=preparsedElement.selectAttr,attrs=element.attrs.map(function(attr){return _this.visitAttribute(attr)});parsedElement=new Content(selector,attrs,element.sourceSpan,element.i18n)}else if(isTemplateElement){attrs=this.extractAttributes(element.name,parsedProperties,i18nAttrsMeta);parsedElement=new Template(element.name,attributes,attrs.bound,boundEvents,[],children,references,variables,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}else{attrs=this.extractAttributes(element.name,parsedProperties,i18nAttrsMeta);parsedElement=new Element(element.name,attributes,attrs.bound,boundEvents,children,references,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}if(elementHasInlineTemplate){var templateAttrs_1=[];(attrs=this.extractAttributes("ng-template",templateParsedProperties,i18nAttrsMeta)).literal.forEach(function(attr){return templateAttrs_1.push(attr)}),attrs.bound.forEach(function(attr){return templateAttrs_1.push(attr)});var hoistedAttrs=parsedElement instanceof Element?{attributes:parsedElement.attributes,inputs:parsedElement.inputs,outputs:parsedElement.outputs}:{attributes:[],inputs:[],outputs:[]};parsedElement=new Template(parsedElement.name,hoistedAttrs.attributes,hoistedAttrs.inputs,hoistedAttrs.outputs,templateAttrs_1,[parsedElement],[],templateVariables,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}return parsedElement},HtmlAstToIvyAst.prototype.visitAttribute=function(attribute){return new TextAttribute(attribute.name,attribute.value,attribute.sourceSpan,attribute.valueSpan,attribute.i18n)},HtmlAstToIvyAst.prototype.visitText=function(text){return this._visitTextWithInterpolation(text.value,text.sourceSpan,text.i18n)},HtmlAstToIvyAst.prototype.visitExpansion=function(expansion){var _this=this,meta=expansion.i18n;if(!meta)return null;var vars={},placeholders={};return Object.keys(meta.placeholders).forEach(function(key){var value=meta.placeholders[key];if(key.startsWith("VAR_")){var config=_this.bindingParser.interpolationConfig,wrapped=""+config.start+value+config.end;vars[key]=_this._visitTextWithInterpolation(wrapped,expansion.sourceSpan)}else placeholders[key]=_this._visitTextWithInterpolation(value,expansion.sourceSpan)}),new Icu(vars,placeholders,expansion.sourceSpan,meta)},HtmlAstToIvyAst.prototype.visitExpansionCase=function(expansionCase){return null},HtmlAstToIvyAst.prototype.visitComment=function(comment){return null},HtmlAstToIvyAst.prototype.extractAttributes=function(elementName,properties,i18nPropsMeta){var _this=this,bound=[],literal=[];return properties.forEach(function(prop){var i18n=i18nPropsMeta[prop.name];if(prop.isLiteral)literal.push(new TextAttribute(prop.name,prop.expression.source||"",prop.sourceSpan,void 0,i18n));else{var bep=_this.bindingParser.createBoundElementProperty(elementName,prop,!0,!1);bound.push(BoundAttribute.fromBoundElementProperty(bep,i18n))}}),{bound:bound,literal:literal}},HtmlAstToIvyAst.prototype.parseAttribute=function(isTemplateElement,attribute,matchableAttributes,parsedProperties,boundEvents,variables,references){var name=normalizeAttributeName(attribute.name),value=attribute.value,srcSpan=attribute.sourceSpan,absoluteOffset=attribute.valueSpan?attribute.valueSpan.start.offset:srcSpan.start.offset,bindParts=name.match(BIND_NAME_REGEXP$1),hasBinding=!1;if(bindParts){if(hasBinding=!0,null!=bindParts[1])this.bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties);else if(bindParts[2])if(isTemplateElement){var identifier=bindParts[7];this.parseVariable(identifier,value,srcSpan,attribute.valueSpan,variables)}else this.reportError('"let-" is only supported on ng-template elements.',srcSpan);else if(bindParts[3]){identifier=bindParts[7];this.parseReference(identifier,value,srcSpan,attribute.valueSpan,references)}else if(bindParts[4]){var events=[];this.bindingParser.parseEvent(bindParts[7],value,srcSpan,attribute.valueSpan||srcSpan,matchableAttributes,events),addEvents(events,boundEvents)}else if(bindParts[5])this.bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties),this.parseAssignmentEvent(bindParts[7],value,srcSpan,attribute.valueSpan,matchableAttributes,boundEvents);else if(bindParts[6])this.bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties);else if(bindParts[8])this.bindingParser.parsePropertyBinding(bindParts[8],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties),this.parseAssignmentEvent(bindParts[8],value,srcSpan,attribute.valueSpan,matchableAttributes,boundEvents);else if(bindParts[9])this.bindingParser.parsePropertyBinding(bindParts[9],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties);else if(bindParts[10]){events=[];this.bindingParser.parseEvent(bindParts[10],value,srcSpan,attribute.valueSpan||srcSpan,matchableAttributes,events),addEvents(events,boundEvents)}}else hasBinding=this.bindingParser.parsePropertyInterpolation(name,value,srcSpan,attribute.valueSpan,matchableAttributes,parsedProperties);return hasBinding},HtmlAstToIvyAst.prototype._visitTextWithInterpolation=function(value,sourceSpan,i18n){var valueNoNgsp=replaceNgsp(value),expr=this.bindingParser.parseInterpolation(valueNoNgsp,sourceSpan);return expr?new BoundText(expr,sourceSpan,i18n):new Text(valueNoNgsp,sourceSpan)},HtmlAstToIvyAst.prototype.parseVariable=function(identifier,value,sourceSpan,valueSpan,variables){identifier.indexOf("-")>-1&&this.reportError('"-" is not allowed in variable names',sourceSpan),variables.push(new Variable(identifier,value,sourceSpan,valueSpan))},HtmlAstToIvyAst.prototype.parseReference=function(identifier,value,sourceSpan,valueSpan,references){identifier.indexOf("-")>-1&&this.reportError('"-" is not allowed in reference names',sourceSpan),references.push(new Reference(identifier,value,sourceSpan,valueSpan))},HtmlAstToIvyAst.prototype.parseAssignmentEvent=function(name,expression,sourceSpan,valueSpan,targetMatchableAttrs,boundEvents){var events=[];this.bindingParser.parseEvent(name+"Change",expression+"=$event",sourceSpan,valueSpan||sourceSpan,targetMatchableAttrs,events),addEvents(events,boundEvents)},HtmlAstToIvyAst.prototype.reportError=function(message,sourceSpan,level){void 0===level&&(level=ParseErrorLevel.ERROR),this.errors.push(new ParseError(sourceSpan,message,level))},HtmlAstToIvyAst}(),NON_BINDABLE_VISITOR$1=new(function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(ast){var preparsedElement=preparseElement(ast);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE||preparsedElement.type===PreparsedElementType.STYLESHEET)return null;var children=visitAll$1(this,ast.children,null);return new Element(ast.name,visitAll$1(this,ast.attrs),[],[],children,[],ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan)},NonBindableVisitor.prototype.visitComment=function(comment){return null},NonBindableVisitor.prototype.visitAttribute=function(attribute){return new TextAttribute(attribute.name,attribute.value,attribute.sourceSpan,void 0,attribute.i18n)},NonBindableVisitor.prototype.visitText=function(text){return new Text(text.value,text.sourceSpan)},NonBindableVisitor.prototype.visitExpansion=function(expansion){return null},NonBindableVisitor.prototype.visitExpansionCase=function(expansionCase){return null},NonBindableVisitor}());function normalizeAttributeName(attrName){return/^data-/i.test(attrName)?attrName.substring(5):attrName}function addEvents(events,boundEvents){boundEvents.push.apply(boundEvents,(0,_tslib.__spread)(events.map(function(e){return BoundEvent.fromParsedEvent(e)})))}!function(TagType){TagType[TagType.ELEMENT=0]="ELEMENT",TagType[TagType.TEMPLATE=1]="TEMPLATE",TagType[TagType.PROJECTION=2]="PROJECTION"}(TagType||(TagType={}));var I18nContext=function(){function I18nContext(index,ref,level,templateIndex,meta,registry){void 0===level&&(level=0),void 0===templateIndex&&(templateIndex=null),this.index=index,this.ref=ref,this.level=level,this.templateIndex=templateIndex,this.meta=meta,this.registry=registry,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=registry||{getUniqueId:function(startsAt){void 0===startsAt&&(startsAt=0);var current=startsAt;return function(){return current++}}(),icus:new Map},this.id=this._registry.getUniqueId()}return I18nContext.prototype.appendTag=function(type,node,index,closed){if(!node.isVoid||!closed){var ph=node.isVoid||!closed?node.startName:node.closeName,content={type:type,index:index,ctx:this.id,isVoid:node.isVoid,closed:closed};updatePlaceholderMap(this.placeholders,ph,content)}},Object.defineProperty(I18nContext.prototype,"icus",{get:function(){return this._registry.icus},enumerable:!0,configurable:!0}),Object.defineProperty(I18nContext.prototype,"isRoot",{get:function(){return 0===this.level},enumerable:!0,configurable:!0}),Object.defineProperty(I18nContext.prototype,"isResolved",{get:function(){return 0===this._unresolvedCtxCount},enumerable:!0,configurable:!0}),I18nContext.prototype.getSerializedPlaceholders=function(){var result=new Map;return this.placeholders.forEach(function(values,key){return result.set(key,values.map(serializePlaceholderValue))}),result},I18nContext.prototype.appendBinding=function(binding){this.bindings.add(binding)},I18nContext.prototype.appendIcu=function(name,ref){updatePlaceholderMap(this._registry.icus,name,ref)},I18nContext.prototype.appendBoundText=function(node){var _this=this;assembleBoundTextPlaceholders(node,this.bindings.size,this.id).forEach(function(values,key){return updatePlaceholderMap.apply(void 0,(0,_tslib.__spread)([_this.placeholders,key],values))})},I18nContext.prototype.appendTemplate=function(node,index){this.appendTag(TagType.TEMPLATE,node,index,!1),this.appendTag(TagType.TEMPLATE,node,index,!0),this._unresolvedCtxCount++},I18nContext.prototype.appendElement=function(node,index,closed){this.appendTag(TagType.ELEMENT,node,index,closed)},I18nContext.prototype.appendProjection=function(node,index){this.appendTag(TagType.PROJECTION,node,index,!1),this.appendTag(TagType.PROJECTION,node,index,!0)},I18nContext.prototype.forkChildContext=function(index,templateIndex,meta){return new I18nContext(index,this.ref,this.level+1,templateIndex,meta,this._registry)},I18nContext.prototype.reconcileChildContext=function(context){var _this=this;["start","close"].forEach(function(op){var key=context.meta[op+"Name"],tag=(_this.placeholders.get(key)||[]).find(findTemplateFn(_this.id,context.templateIndex));tag&&(tag.ctx=context.id)}),context.placeholders.forEach(function(values,key){var phs=_this.placeholders.get(key);if(phs){var tmplIdx=function(items,callback){for(var i=0;i<items.length;i++)if(callback(items[i]))return i;return-1}(phs,findTemplateFn(context.id,context.templateIndex));if(tmplIdx>=0){var isCloseTag=key.startsWith("CLOSE");if(key.endsWith("NG-TEMPLATE"))phs.splice.apply(phs,(0,_tslib.__spread)([tmplIdx+(isCloseTag?0:1),0],values));else values[isCloseTag?values.length-1:0].tmpl=phs[tmplIdx],phs.splice.apply(phs,(0,_tslib.__spread)([tmplIdx,1],values))}else phs.push.apply(phs,(0,_tslib.__spread)(values));_this.placeholders.set(key,phs)}else _this.placeholders.set(key,values)}),this._unresolvedCtxCount--},I18nContext}();function wrap(symbol,index,contextId,closed){return wrapI18nPlaceholder(""+(closed?"/":"")+symbol+index,contextId)}function wrapTag(symbol,_a,closed){var index=_a.index,ctx=_a.ctx;return _a.isVoid?wrap(symbol,index,ctx)+wrap(symbol,index,ctx,!0):wrap(symbol,index,ctx,closed)}function findTemplateFn(ctx,templateIndex){return function(token){return"object"==typeof token&&token.type===TagType.TEMPLATE&&token.index===templateIndex&&token.ctx===ctx}}function serializePlaceholderValue(value){var data,closed,element=function(data,closed){return wrapTag("#",data,closed)},template=function(data,closed){return wrapTag("*",data,closed)};switch(value.type){case TagType.ELEMENT:return value.closed?element(value,!0)+(value.tmpl?template(value.tmpl,!0):""):value.tmpl?template(value.tmpl)+element(value)+(value.isVoid?template(value.tmpl,!0):""):element(value);case TagType.TEMPLATE:return template(value,value.closed);case TagType.PROJECTION:return data=value,closed=value.closed,wrapTag("!",data,closed);default:return value}}var TAG_TO_PLACEHOLDER_NAMES={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},PlaceholderRegistry=function(){function PlaceholderRegistry(){this._placeHolderNameCounts={},this._signatureToName={}}return PlaceholderRegistry.prototype.getStartTagPlaceholderName=function(tag,attrs,isVoid){var signature=this._hashTag(tag,attrs,isVoid);if(this._signatureToName[signature])return this._signatureToName[signature];var upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||"TAG_"+upperTag,name=this._generateUniqueName(isVoid?baseName:"START_"+baseName);return this._signatureToName[signature]=name,name},PlaceholderRegistry.prototype.getCloseTagPlaceholderName=function(tag){var signature=this._hashClosingTag(tag);if(this._signatureToName[signature])return this._signatureToName[signature];var upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||"TAG_"+upperTag,name=this._generateUniqueName("CLOSE_"+baseName);return this._signatureToName[signature]=name,name},PlaceholderRegistry.prototype.getPlaceholderName=function(name,content){var upperName=name.toUpperCase(),signature="PH: "+upperName+"="+content;if(this._signatureToName[signature])return this._signatureToName[signature];var uniqueName=this._generateUniqueName(upperName);return this._signatureToName[signature]=uniqueName,uniqueName},PlaceholderRegistry.prototype.getUniquePlaceholder=function(name){return this._generateUniqueName(name.toUpperCase())},PlaceholderRegistry.prototype._hashTag=function(tag,attrs,isVoid){return"<"+tag+Object.keys(attrs).sort().map(function(name){return" "+name+"="+attrs[name]}).join("")+(isVoid?"/>":"></"+tag+">")},PlaceholderRegistry.prototype._hashClosingTag=function(tag){return this._hashTag("/"+tag,{},!1)},PlaceholderRegistry.prototype._generateUniqueName=function(base){if(!this._placeHolderNameCounts.hasOwnProperty(base))return this._placeHolderNameCounts[base]=1,base;var id=this._placeHolderNameCounts[base];return this._placeHolderNameCounts[base]=id+1,base+"_"+id},PlaceholderRegistry}(),_expParser=new Parser$1(new Lexer);function createI18nMessageFactory(interpolationConfig){var visitor=new _I18nVisitor(_expParser,interpolationConfig);return function(nodes,meaning,description,id,visitNodeFn){return visitor.toI18nMessage(nodes,meaning,description,id,visitNodeFn)}}var _I18nVisitor=function(){function _I18nVisitor(_expressionParser,_interpolationConfig){this._expressionParser=_expressionParser,this._interpolationConfig=_interpolationConfig}return _I18nVisitor.prototype.toI18nMessage=function(nodes,meaning,description,id,visitNodeFn){this._isIcu=1==nodes.length&&nodes[0]instanceof Expansion,this._icuDepth=0,this._placeholderRegistry=new PlaceholderRegistry,this._placeholderToContent={},this._placeholderToMessage={},this._visitNodeFn=visitNodeFn;var i18nodes=visitAll$1(this,nodes,{});return new Message(i18nodes,this._placeholderToContent,this._placeholderToMessage,meaning,description,id)},_I18nVisitor.prototype._visitNode=function(html,i18n){return this._visitNodeFn&&this._visitNodeFn(html,i18n),i18n},_I18nVisitor.prototype.visitElement=function(el,context){var children=visitAll$1(this,el.children),attrs={};el.attrs.forEach(function(attr){attrs[attr.name]=attr.value});var isVoid=getHtmlTagDefinition(el.name).isVoid,startPhName=this._placeholderRegistry.getStartTagPlaceholderName(el.name,attrs,isVoid);this._placeholderToContent[startPhName]=el.sourceSpan.toString();var closePhName="";isVoid||(closePhName=this._placeholderRegistry.getCloseTagPlaceholderName(el.name),this._placeholderToContent[closePhName]="</"+el.name+">");var node=new TagPlaceholder(el.name,attrs,startPhName,closePhName,children,isVoid,el.sourceSpan);return this._visitNode(el,node)},_I18nVisitor.prototype.visitAttribute=function(attribute,context){var node=this._visitTextWithInterpolation(attribute.value,attribute.sourceSpan);return this._visitNode(attribute,node)},_I18nVisitor.prototype.visitText=function(text,context){var node=this._visitTextWithInterpolation(text.value,text.sourceSpan);return this._visitNode(text,node)},_I18nVisitor.prototype.visitComment=function(comment,context){return null},_I18nVisitor.prototype.visitExpansion=function(icu,context){var _this=this;this._icuDepth++;var i18nIcuCases={},i18nIcu=new Icu$1(icu.switchValue,icu.type,i18nIcuCases,icu.sourceSpan);if(icu.cases.forEach(function(caze){i18nIcuCases[caze.value]=new Container(caze.expression.map(function(node){return node.visit(_this,{})}),caze.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){var expPh=this._placeholderRegistry.getUniquePlaceholder("VAR_"+icu.type);return i18nIcu.expressionPlaceholder=expPh,this._placeholderToContent[expPh]=icu.switchValue,this._visitNode(icu,i18nIcu)}var phName=this._placeholderRegistry.getPlaceholderName("ICU",icu.sourceSpan.toString()),visitor=new _I18nVisitor(this._expressionParser,this._interpolationConfig);this._placeholderToMessage[phName]=visitor.toI18nMessage([icu],"","","");var node=new IcuPlaceholder(i18nIcu,phName,icu.sourceSpan);return this._visitNode(icu,node)},_I18nVisitor.prototype.visitExpansionCase=function(icuCase,context){throw new Error("Unreachable code")},_I18nVisitor.prototype._visitTextWithInterpolation=function(text,sourceSpan){var splitInterpolation=this._expressionParser.splitInterpolation(text,sourceSpan.start.toString(),this._interpolationConfig);if(!splitInterpolation)return new Text$1(text,sourceSpan);for(var nodes=[],container=new Container(nodes,sourceSpan),_a=this._interpolationConfig,sDelimiter=_a.start,eDelimiter=_a.end,i=0;i<splitInterpolation.strings.length-1;i++){var expression=splitInterpolation.expressions[i],baseName=expression.split(_CUSTOM_PH_EXP)[2]||"INTERPOLATION",phName=this._placeholderRegistry.getPlaceholderName(baseName,expression);splitInterpolation.strings[i].length&&nodes.push(new Text$1(splitInterpolation.strings[i],sourceSpan)),nodes.push(new Placeholder(expression,phName,sourceSpan)),this._placeholderToContent[phName]=sDelimiter+expression+eDelimiter}var lastStringIdx=splitInterpolation.strings.length-1;return splitInterpolation.strings[lastStringIdx].length&&nodes.push(new Text$1(splitInterpolation.strings[lastStringIdx],sourceSpan)),container},_I18nVisitor}(),_CUSTOM_PH_EXP=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function setI18nRefs(html,i18n){html.i18n=i18n}var I18nMetaVisitor=function(){function I18nMetaVisitor(interpolationConfig,keepI18nAttrs){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG),void 0===keepI18nAttrs&&(keepI18nAttrs=!1),this.interpolationConfig=interpolationConfig,this.keepI18nAttrs=keepI18nAttrs,this._createI18nMessage=createI18nMessageFactory(interpolationConfig)}return I18nMetaVisitor.prototype._generateI18nMessage=function(nodes,meta,visitNodeFn){void 0===meta&&(meta="");var parsed="string"==typeof meta?function(meta){var _a,_b,id,meaning,description;if(meta){var idIndex=meta.indexOf(I18N_ID_SEPARATOR),descIndex=meta.indexOf(I18N_MEANING_SEPARATOR),meaningAndDesc=void 0;meaningAndDesc=(_a=(0,_tslib.__read)(idIndex>-1?[meta.slice(0,idIndex),meta.slice(idIndex+2)]:[meta,""],2))[0],id=_a[1],meaning=(_b=(0,_tslib.__read)(descIndex>-1?[meaningAndDesc.slice(0,descIndex),meaningAndDesc.slice(descIndex+1)]:["",meaningAndDesc],2))[0],description=_b[1]}return{id:id,meaning:meaning,description:description}}(meta):metaFromI18nMessage(meta),message=this._createI18nMessage(nodes,parsed.meaning||"",parsed.description||"",parsed.id||"",visitNodeFn);return message.id||(message.id="string"!=typeof meta&&meta.id||decimalDigest(message)),message},I18nMetaVisitor.prototype.visitElement=function(element,context){var e_1,_a,e_2,_b;if(function(element){return element.attrs.some(function(attr){return isI18nAttribute(attr.name)})}(element)){var attrs=[],attrsMeta={};try{for(var _c=(0,_tslib.__values)(element.attrs),_d=_c.next();!_d.done;_d=_c.next()){if((attr=_d.value).name===I18N_ATTR){var i18n_1=element.i18n||attr.value,message=this._generateI18nMessage(element.children,i18n_1,setI18nRefs);message.nodes.length&&(element.i18n=message)}else if(attr.name.startsWith(I18N_ATTR_PREFIX)){attrsMeta[attr.name.slice(I18N_ATTR_PREFIX.length)]=attr.value}else attrs.push(attr)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}if(Object.keys(attrsMeta).length)try{for(var attrs_1=(0,_tslib.__values)(attrs),attrs_1_1=attrs_1.next();!attrs_1_1.done;attrs_1_1=attrs_1.next()){var attr,meta=attrsMeta[(attr=attrs_1_1.value).name];void 0!==meta&&attr.value&&(attr.i18n=this._generateI18nMessage([attr],attr.i18n||meta))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{attrs_1_1&&!attrs_1_1.done&&(_b=attrs_1.return)&&_b.call(attrs_1)}finally{if(e_2)throw e_2.error}}this.keepI18nAttrs||(element.attrs=attrs)}return visitAll$1(this,element.children),element},I18nMetaVisitor.prototype.visitExpansion=function(expansion,context){var message,meta=expansion.i18n;if(meta instanceof IcuPlaceholder){var name_1=meta.name;icuFromI18nMessage(message=this._generateI18nMessage([expansion],meta)).name=name_1}else message=this._generateI18nMessage([expansion],meta);return expansion.i18n=message,expansion},I18nMetaVisitor.prototype.visitText=function(text,context){return text},I18nMetaVisitor.prototype.visitAttribute=function(attribute,context){return attribute},I18nMetaVisitor.prototype.visitComment=function(comment,context){return comment},I18nMetaVisitor.prototype.visitExpansionCase=function(expansionCase,context){return expansionCase},I18nMetaVisitor}();var serializerVisitor$1=new(function(){function SerializerVisitor(){this.icuNestingLevel=0}return SerializerVisitor.prototype.formatPh=function(value){var isInsideIcu=this.icuNestingLevel>0,formatted=formatI18nPlaceholderName(value,!isInsideIcu);return isInsideIcu?"{"+formatted+"}":"{$"+formatted+"}"},SerializerVisitor.prototype.visitText=function(text,context){return text.value},SerializerVisitor.prototype.visitContainer=function(container,context){var _this=this;return container.children.map(function(child){return child.visit(_this)}).join("")},SerializerVisitor.prototype.visitIcu=function(icu,context){var _this=this;this.icuNestingLevel++;var strCases=Object.keys(icu.cases).map(function(k){return k+" {"+icu.cases[k].visit(_this)+"}"}),result="{"+icu.expressionPlaceholder+", "+icu.type+", "+strCases.join(" ")+"}";return this.icuNestingLevel--,result},SerializerVisitor.prototype.visitTagPlaceholder=function(ph,context){var _this=this;return ph.isVoid?this.formatPh(ph.startName):""+this.formatPh(ph.startName)+ph.children.map(function(child){return child.visit(_this)}).join("")+this.formatPh(ph.closeName)},SerializerVisitor.prototype.visitPlaceholder=function(ph,context){return this.formatPh(ph.name)},SerializerVisitor.prototype.visitIcuPlaceholder=function(ph,context){return this.formatPh(ph.name)},SerializerVisitor}());var GLOBAL_TARGET_RESOLVERS=new Map([["window",Identifiers$1.resolveWindow],["document",Identifiers$1.resolveDocument],["body",Identifiers$1.resolveBody]]),LEADING_TRIVIA_CHARS=[" ","\n","\r","\t"];function renderFlagCheckIfStmt(flags,statements){return ifStmt(variable(RENDER_FLAGS).bitwiseAnd(literal(flags),null,!1),statements)}function prepareEventListenerParameters(eventAst,handlerName,scope){void 0===handlerName&&(handlerName=null),void 0===scope&&(scope=null);var type=eventAst.type,name=eventAst.name,target=eventAst.target,phase=eventAst.phase,handler=eventAst.handler;if(target&&!GLOBAL_TARGET_RESOLVERS.has(target))throw new Error("Unexpected global target '"+target+"' defined for '"+name+"' event.\n        Supported list of global targets: "+Array.from(GLOBAL_TARGET_RESOLVERS.keys())+".");var bindingExpr=convertActionBinding(scope,null===scope||0===scope.bindingLevel?variable(CONTEXT_NAME):scope.getOrCreateSharedContextVar(0),handler,"b",function(){return error("Unexpected interpolation")},eventAst.handlerSpan),statements=[];scope&&(statements.push.apply(statements,(0,_tslib.__spread)(scope.restoreViewStatement())),statements.push.apply(statements,(0,_tslib.__spread)(scope.variableDeclarations()))),statements.push.apply(statements,(0,_tslib.__spread)(bindingExpr.render3Stmts));var eventName=1===type?function(name,phase){return""+ANIMATE_SYMBOL_PREFIX+name+"."+phase}(name,phase):name,fnName=handlerName&&sanitizeIdentifier(handlerName),handlerFn=fn([new FnParam("$event",DYNAMIC_TYPE)],statements,INFERRED_TYPE,null,fnName),params=[literal(eventName),handlerFn];return target&&params.push(literal(!1),importExpr(GLOBAL_TARGET_RESOLVERS.get(target))),params}var TemplateDefinitionBuilder=function(){function TemplateDefinitionBuilder(constantPool,parentBindingScope,level,contextName,i18nContext,templateIndex,templateName,directiveMatcher,directives,pipeTypeByName,pipes,_namespace,relativeContextFilePath,i18nUseExternalIds){var _this=this;void 0===level&&(level=0),this.constantPool=constantPool,this.level=level,this.contextName=contextName,this.i18nContext=i18nContext,this.templateIndex=templateIndex,this.templateName=templateName,this.directiveMatcher=directiveMatcher,this.directives=directives,this.pipeTypeByName=pipeTypeByName,this.pipes=pipes,this._namespace=_namespace,this.relativeContextFilePath=relativeContextFilePath,this.i18nUseExternalIds=i18nUseExternalIds,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._lastNodeIndexWithFlush=-1,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=unsupported,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=invalid$1,this.visitVariable=invalid$1,this.visitTextAttribute=invalid$1,this.visitBoundAttribute=invalid$1,this.visitBoundEvent=invalid$1,this._bindingScope=parentBindingScope.nestedScope(level),this.fileBasedI18nSuffix=relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new ValueConverter(constantPool,function(){return _this.allocateDataSlot()},function(numSlots){return _this.allocatePureFunctionSlots(numSlots)},function(name,localName,slot,value){var pipeType=pipeTypeByName.get(name);pipeType&&_this.pipes.add(pipeType),_this._bindingScope.set(_this.level,localName,value),_this.creationInstruction(null,Identifiers$1.pipe,[literal(slot),literal(name)])})}return TemplateDefinitionBuilder.prototype.registerContextVariables=function(variable$1){var scopedName=this._bindingScope.freshReferenceName(),retrievalLevel=this.level,lhs=variable(variable$1.name+scopedName);this._bindingScope.set(retrievalLevel,variable$1.name,lhs,1,function(scope,relativeLevel){var rhs;if(scope.bindingLevel===retrievalLevel)rhs=variable(CONTEXT_NAME);else{var sharedCtxVar=scope.getSharedContextName(retrievalLevel);rhs=sharedCtxVar||generateNextContextExpr(relativeLevel)}return[lhs.set(rhs.prop(variable$1.value||"$implicit")).toConstDecl()]})},TemplateDefinitionBuilder.prototype.buildTemplateFunction=function(nodes,variables,ngContentSelectorsOffset,i18n){var _this=this;void 0===ngContentSelectorsOffset&&(ngContentSelectorsOffset=0),this._ngContentSelectorsOffset=ngContentSelectorsOffset,this._namespace!==Identifiers$1.namespaceHTML&&this.creationInstruction(null,this._namespace),variables.forEach(function(v){return _this.registerContextVariables(v)});var children,initI18nContext=this.i18nContext||isI18nRootNode(i18n)&&!isSingleI18nIcu(i18n)&&!(1===(children=nodes).length&&children[0]instanceof Element&&nodes[0].i18n===i18n),selfClosingI18nInstruction=hasTextChildrenOnly(nodes);if(initI18nContext&&this.i18nStart(null,i18n,selfClosingI18nInstruction),visitAll(this,nodes),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(function(buildTemplateFn){return buildTemplateFn()}),0===this.level&&this._ngContentReservedSlots.length){var parameters=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){var r3ReservedSlots=this._ngContentReservedSlots.map(function(s){return"*"!==s?parseSelectorToR3Selector(s):s});parameters.push(this.constantPool.getConstLiteral(asLiteral(r3ReservedSlots),!0))}this.creationInstruction(null,Identifiers$1.projectionDef,parameters,!0)}initI18nContext&&this.i18nEnd(null,selfClosingI18nInstruction);var creationStatements=this._creationCodeFns.map(function(fn){return fn()}),updateStatements=this._updateCodeFns.map(function(fn){return fn()}),creationVariables=this._bindingScope.viewSnapshotStatements(),updateVariables=this._bindingScope.variableDeclarations().concat(this._tempVariables),creationBlock=creationStatements.length>0?[renderFlagCheckIfStmt(1,creationVariables.concat(creationStatements))]:[],updateBlock=updateStatements.length>0?[renderFlagCheckIfStmt(2,updateVariables.concat(updateStatements))]:[];return fn([new FnParam(RENDER_FLAGS,NUMBER_TYPE),new FnParam(CONTEXT_NAME,null)],(0,_tslib.__spread)(this._prefixCode,creationBlock,updateBlock),INFERRED_TYPE,null,this.templateName)},TemplateDefinitionBuilder.prototype.getLocal=function(name){return this._bindingScope.get(name)},TemplateDefinitionBuilder.prototype.notifyImplicitReceiverUse=function(){this._bindingScope.notifyImplicitReceiverUse()},TemplateDefinitionBuilder.prototype.i18nTranslate=function(message,params,ref,transformFn){var _a;void 0===params&&(params={});var _ref=ref||variable(this.constantPool.uniqueName("I18N_")),closureVar=this.i18nGenerateClosureVar(message.id),formattedParams=this.i18nFormatPlaceholderNames(params,!0),meta=metaFromI18nMessage(message),statements=function(variable,closureVar,message,meta,params,transformFn){void 0===params&&(params={});var statements=[];return statements.push.apply(statements,(0,_tslib.__spread)(i18nTranslationToDeclStmt(variable,closureVar,message,meta,params))),transformFn&&statements.push(new ExpressionStatement(variable.set(transformFn(variable)))),statements}(_ref,closureVar,function(message){return message.nodes.map(function(node){return node.visit(serializerVisitor$1,null)}).join("")}(message),meta,formattedParams,transformFn);return(_a=this.constantPool.statements).push.apply(_a,(0,_tslib.__spread)(statements)),_ref},TemplateDefinitionBuilder.prototype.i18nFormatPlaceholderNames=function(params,useCamelCase){void 0===params&&(params={});var _params={};return params&&Object.keys(params).length&&Object.keys(params).forEach(function(key){return _params[formatI18nPlaceholderName(key,useCamelCase)]=params[key]}),_params},TemplateDefinitionBuilder.prototype.i18nAppendBindings=function(expressions){var _this=this;expressions.length>0&&expressions.forEach(function(expression){return _this.i18n.appendBinding(expression)})},TemplateDefinitionBuilder.prototype.i18nBindProps=function(props){var _this=this,bound={};return Object.keys(props).forEach(function(key){var prop=props[key];if(prop instanceof Text)bound[key]=literal(prop.value);else{var value=prop.value.visit(_this._valueConverter);if(_this.allocateBindingSlots(value),value instanceof Interpolation){var strings=value.strings,expressions=value.expressions,_a=_this.i18n,id=_a.id,label=function(strings,bindingStartIndex,contextId){if(void 0===bindingStartIndex&&(bindingStartIndex=0),void 0===contextId&&(contextId=0),!strings.length)return"";for(var acc="",lastIdx=strings.length-1,i=0;i<lastIdx;i++)acc+=""+strings[i]+wrapI18nPlaceholder(bindingStartIndex+i,contextId);return acc+=strings[lastIdx]}(strings,_a.bindings.size,id);_this.i18nAppendBindings(expressions),bound[key]=literal(label)}}}),bound},TemplateDefinitionBuilder.prototype.i18nGenerateClosureVar=function(messageId){var name,suffix=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){var prefix=getTranslationConstPrefix("EXTERNAL_"),uniqueSuffix=this.constantPool.uniqueName(suffix);name=""+prefix+sanitizeIdentifier(messageId)+"$$"+uniqueSuffix}else{prefix=getTranslationConstPrefix(suffix);name=this.constantPool.uniqueName(prefix)}return variable(name)},TemplateDefinitionBuilder.prototype.i18nUpdateRef=function(context){var icus=context.icus,meta=context.meta,isRoot=context.isRoot,isResolved=context.isResolved,isEmitted=context.isEmitted;if(isRoot&&isResolved&&!isEmitted&&!isSingleI18nIcu(meta)){context.isEmitted=!0;var placeholders=context.getSerializedPlaceholders(),icuMapping_1={},params_1=placeholders.size?placeholdersToParams(placeholders):{};icus.size&&icus.forEach(function(refs,key){if(1===refs.length)params_1[key]=refs[0];else{var placeholder=wrapI18nPlaceholder("I18N_EXP_"+key);params_1[key]=literal(placeholder),icuMapping_1[key]=literalArr(refs)}});var transformFn=void 0;(Array.from(placeholders.values()).some(function(value){return value.length>1})||Object.keys(icuMapping_1).length)&&(transformFn=function(raw){var args=[raw];return Object.keys(icuMapping_1).length&&args.push(mapLiteral(icuMapping_1,!0)),instruction(null,Identifiers$1.i18nPostprocess,args)}),this.i18nTranslate(meta,params_1,context.ref,transformFn)}},TemplateDefinitionBuilder.prototype.i18nStart=function(span,meta,selfClosing){void 0===span&&(span=null);var index=this.allocateDataSlot();if(this.i18nContext)this.i18n=this.i18nContext.forkChildContext(index,this.templateIndex,meta);else{var ref_1=variable(this.constantPool.uniqueName("I18N_"));this.i18n=new I18nContext(index,ref_1,0,this.templateIndex,meta)}var _a=this.i18n,id=_a.id,ref=_a.ref,params=[literal(index),ref];id>0&&params.push(literal(id)),this.creationInstruction(span,selfClosing?Identifiers$1.i18n:Identifiers$1.i18nStart,params)},TemplateDefinitionBuilder.prototype.i18nEnd=function(span,selfClosing){var _this=this;if(void 0===span&&(span=null),!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);var _a=this.i18n,index=_a.index,bindings=_a.bindings;if(bindings.size){var chainBindings_1=[];bindings.forEach(function(binding){chainBindings_1.push({sourceSpan:span,value:function(){return _this.convertPropertyBinding(binding)}})}),this.updateInstructionChain(index,Identifiers$1.i18nExp,chainBindings_1),this.updateInstruction(index,span,Identifiers$1.i18nApply,[literal(index)])}selfClosing||this.creationInstruction(span,Identifiers$1.i18nEnd),this.i18n=null},TemplateDefinitionBuilder.prototype.visitContent=function(ngContent){var slot=this.allocateDataSlot(),projectionSlotIdx=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,parameters=[literal(slot)],attributes=[];this._ngContentReservedSlots.push(ngContent.selector),ngContent.attributes.forEach(function(attribute){var name=attribute.name,value=attribute.value;"ngProjectAs"===name?attributes.push.apply(attributes,(0,_tslib.__spread)(getNgProjectAsLiteral(attribute))):"select"!==name.toLowerCase()&&attributes.push(literal(name),literal(value))}),attributes.length>0?parameters.push(literal(projectionSlotIdx),literalArr(attributes)):0!==projectionSlotIdx&&parameters.push(literal(projectionSlotIdx)),this.creationInstruction(ngContent.sourceSpan,Identifiers$1.projection,parameters),this.i18n&&this.i18n.appendProjection(ngContent.i18n,slot)},TemplateDefinitionBuilder.prototype.getNamespaceInstruction=function(namespaceKey){switch(namespaceKey){case"math":return Identifiers$1.namespaceMathML;case"svg":return Identifiers$1.namespaceSVG;default:return Identifiers$1.namespaceHTML}},TemplateDefinitionBuilder.prototype.addNamespaceInstruction=function(nsInstruction,element){this._namespace=nsInstruction,this.creationInstruction(element.sourceSpan,nsInstruction)},TemplateDefinitionBuilder.prototype.visitElement=function(element){var e_1,_a,_this=this,elementIndex=this.allocateDataSlot(),stylingBuilder=new StylingBuilder(literal(elementIndex),null),isNonBindableMode=!1,isI18nRootElement=isI18nRootNode(element.i18n)&&!isSingleI18nIcu(element.i18n);if(isI18nRootElement&&this.i18n)throw new Error("Could not mark an element as translatable inside of a translatable section");var i18nAttrs=[],outputAttrs=[],_b=(0,_tslib.__read)(splitNsName(element.name),2),namespaceKey=_b[0],elementName=_b[1],isNgContainer$1=isNgContainer(element.name);try{for(var _c=(0,_tslib.__values)(element.attributes),_d=_c.next();!_d.done;_d=_c.next()){var attr=_d.value,name_1=attr.name,value=attr.value;"ngNonBindable"===name_1?isNonBindableMode=!0:"style"===name_1?stylingBuilder.registerStyleAttr(value):"class"===name_1?stylingBuilder.registerClassAttr(value):attr.i18n?i18nAttrs.push(attr):outputAttrs.push(attr)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}this.matchDirectives(element.name,element);var parameters=[literal(elementIndex)];isNgContainer$1||parameters.push(literal(elementName));var attributes=[],allOtherInputs=[];element.inputs.forEach(function(input){stylingBuilder.registerBoundInput(input)||(0===input.type&&input.i18n?i18nAttrs.push(input):allOtherInputs.push(input))}),outputAttrs.forEach(function(attr){"ngProjectAs"===attr.name?attributes.push.apply(attributes,(0,_tslib.__spread)(getNgProjectAsLiteral(attr))):attributes.push.apply(attributes,(0,_tslib.__spread)(getAttributeNameLiterals(attr.name),[literal(attr.value)]))}),attributes.push.apply(attributes,(0,_tslib.__spread)(this.prepareNonRenderAttrs(allOtherInputs,element.outputs,stylingBuilder,[],i18nAttrs))),parameters.push(this.toAttrsParam(attributes)),parameters.push(this.prepareRefsParameter(element.references));var wasInNamespace=this._namespace,currentNamespace=this.getNamespaceInstruction(namespaceKey);currentNamespace!==wasInNamespace&&this.addNamespaceInstruction(currentNamespace,element),this.i18n&&this.i18n.appendElement(element.i18n,elementIndex);var hasChildren=!isI18nRootElement&&this.i18n?!hasTextChildrenOnly(element.children):element.children.length>0,createSelfClosingInstruction=!stylingBuilder.hasBindings&&0===element.outputs.length&&0===i18nAttrs.length&&!hasChildren,createSelfClosingI18nInstruction=!createSelfClosingInstruction&&!stylingBuilder.hasBindings&&hasTextChildrenOnly(element.children);if(createSelfClosingInstruction)this.creationInstruction(element.sourceSpan,isNgContainer$1?Identifiers$1.elementContainer:Identifiers$1.element,trimTrailingNulls(parameters));else{if(this.creationInstruction(element.sourceSpan,isNgContainer$1?Identifiers$1.elementContainerStart:Identifiers$1.elementStart,trimTrailingNulls(parameters)),isNonBindableMode&&this.creationInstruction(element.sourceSpan,Identifiers$1.disableBindings),i18nAttrs.length){var hasBindings_1=!1,i18nAttrArgs_1=[],bindings_1=[];if(i18nAttrs.forEach(function(attr){var message=attr.i18n;if(attr instanceof TextAttribute)i18nAttrArgs_1.push(literal(attr.name),_this.i18nTranslate(message));else{var converted=attr.value.visit(_this._valueConverter);if(_this.allocateBindingSlots(converted),converted instanceof Interpolation){var params=placeholdersToParams(assembleBoundTextPlaceholders(message));i18nAttrArgs_1.push(literal(attr.name),_this.i18nTranslate(message,params)),converted.expressions.forEach(function(expression){hasBindings_1=!0,bindings_1.push({sourceSpan:element.sourceSpan,value:function(){return _this.convertExpressionBinding(expression)}})})}}}),bindings_1.length&&this.updateInstructionChain(elementIndex,Identifiers$1.i18nExp,bindings_1),i18nAttrArgs_1.length){var index=literal(this.allocateDataSlot()),args=this.constantPool.getConstLiteral(literalArr(i18nAttrArgs_1),!0);this.creationInstruction(element.sourceSpan,Identifiers$1.i18nAttributes,[index,args]),hasBindings_1&&this.updateInstruction(elementIndex,element.sourceSpan,Identifiers$1.i18nApply,[index])}}this.processStylingInstruction(elementIndex,stylingBuilder.buildStylingInstruction(element.sourceSpan,this.constantPool),!0),element.outputs.forEach(function(outputAst){_this.creationInstruction(outputAst.sourceSpan,Identifiers$1.listener,_this.prepareListenerParameter(element.name,outputAst,elementIndex))}),isI18nRootElement&&this.i18nStart(element.sourceSpan,element.i18n,createSelfClosingI18nInstruction)}for(var stylingInstructions=stylingBuilder.buildUpdateLevelInstructions(this._valueConverter),limit=stylingInstructions.length-1,i=0;i<=limit;i++){var instruction_1=stylingInstructions[i];this._bindingSlots+=instruction_1.allocateBindingSlots,this.processStylingInstruction(elementIndex,instruction_1,!1)}var emptyValueBindInstruction=literal(void 0),propertyBindings=[],attributeBindings=[];if(allOtherInputs.forEach(function(input){var inputType=input.type;if(4===inputType){var value_1=input.value.visit(_this._valueConverter),hasValue_1=!(value_1 instanceof LiteralPrimitive)||!!value_1.value;_this.allocateBindingSlots(value_1),propertyBindings.push({name:prepareSyntheticPropertyName(input.name),sourceSpan:input.sourceSpan,value:function(){return hasValue_1?_this.convertPropertyBinding(value_1):emptyValueBindInstruction}})}else{if(input.i18n)return;var value_2=input.value.visit(_this._valueConverter);if(void 0!==value_2){var params_2=[],_a=(0,_tslib.__read)(splitNsName(input.name),2),attrNamespace=_a[0],attrName_1=_a[1],isAttributeBinding=1===inputType,sanitizationRef=resolveSanitizationFn(input.securityContext,isAttributeBinding);if(sanitizationRef&&params_2.push(sanitizationRef),attrNamespace){var namespaceLiteral=literal(attrNamespace);sanitizationRef?params_2.push(namespaceLiteral):params_2.push(literal(null),namespaceLiteral)}if(_this.allocateBindingSlots(value_2),0===inputType)value_2 instanceof Interpolation?_this.interpolatedUpdateInstruction(function(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.propertyInterpolate;case 3:return Identifiers$1.propertyInterpolate1;case 5:return Identifiers$1.propertyInterpolate2;case 7:return Identifiers$1.propertyInterpolate3;case 9:return Identifiers$1.propertyInterpolate4;case 11:return Identifiers$1.propertyInterpolate5;case 13:return Identifiers$1.propertyInterpolate6;case 15:return Identifiers$1.propertyInterpolate7;case 17:return Identifiers$1.propertyInterpolate8;default:return Identifiers$1.propertyInterpolateV}}(value_2),elementIndex,attrName_1,input,value_2,params_2):propertyBindings.push({name:attrName_1,sourceSpan:input.sourceSpan,value:function(){return _this.convertPropertyBinding(value_2)},params:params_2});else if(1===inputType)if(value_2 instanceof Interpolation&&getInterpolationArgsLength(value_2)>1)_this.interpolatedUpdateInstruction(function(interpolation){switch(getInterpolationArgsLength(interpolation)){case 3:return Identifiers$1.attributeInterpolate1;case 5:return Identifiers$1.attributeInterpolate2;case 7:return Identifiers$1.attributeInterpolate3;case 9:return Identifiers$1.attributeInterpolate4;case 11:return Identifiers$1.attributeInterpolate5;case 13:return Identifiers$1.attributeInterpolate6;case 15:return Identifiers$1.attributeInterpolate7;case 17:return Identifiers$1.attributeInterpolate8;default:return Identifiers$1.attributeInterpolateV}}(value_2),elementIndex,attrName_1,input,value_2,params_2);else{var boundValue_1=value_2 instanceof Interpolation?value_2.expressions[0]:value_2;attributeBindings.push({name:attrName_1,sourceSpan:input.sourceSpan,value:function(){return _this.convertPropertyBinding(boundValue_1)},params:params_2})}else _this.updateInstruction(elementIndex,input.sourceSpan,Identifiers$1.classProp,function(){return(0,_tslib.__spread)([literal(elementIndex),literal(attrName_1),_this.convertPropertyBinding(value_2)],params_2)})}}}),propertyBindings.length>0&&this.updateInstructionChain(elementIndex,Identifiers$1.property,propertyBindings),attributeBindings.length>0&&this.updateInstructionChain(elementIndex,Identifiers$1.attribute,attributeBindings),visitAll(this,element.children),!isI18nRootElement&&this.i18n&&this.i18n.appendElement(element.i18n,elementIndex,!0),!createSelfClosingInstruction){var span=element.endSourceSpan||element.sourceSpan;isI18nRootElement&&this.i18nEnd(span,createSelfClosingI18nInstruction),isNonBindableMode&&this.creationInstruction(span,Identifiers$1.enableBindings),this.creationInstruction(span,isNgContainer$1?Identifiers$1.elementContainerEnd:Identifiers$1.elementEnd)}},TemplateDefinitionBuilder.prototype.interpolatedUpdateInstruction=function(instruction,elementIndex,attrName,input,value,params){var _this=this;this.updateInstruction(elementIndex,input.sourceSpan,instruction,function(){return(0,_tslib.__spread)([literal(attrName)],_this.getUpdateInstructionArguments(value),params)})},TemplateDefinitionBuilder.prototype.visitTemplate=function(template){var _this=this,templateIndex=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(template.i18n,templateIndex);var tagName=sanitizeIdentifier(template.tagName||""),contextName=this.contextName+(tagName?"_"+tagName:"")+"_"+templateIndex,templateName=contextName+"_Template",parameters=[literal(templateIndex),variable(templateName),literal(template.tagName?splitNsName(template.tagName)[1]:template.tagName)];this.matchDirectives("ng-template",template);var attrsExprs=[];template.attributes.forEach(function(a){attrsExprs.push(asLiteral(a.name),asLiteral(a.value))}),attrsExprs.push.apply(attrsExprs,(0,_tslib.__spread)(this.prepareNonRenderAttrs(template.inputs,template.outputs,void 0,template.templateAttrs))),parameters.push(this.toAttrsParam(attrsExprs)),template.references&&template.references.length&&(parameters.push(this.prepareRefsParameter(template.references)),parameters.push(importExpr(Identifiers$1.templateRefExtractor)));var templateVisitor=new TemplateDefinitionBuilder(this.constantPool,this._bindingScope,this.level+1,contextName,this.i18n,templateIndex,templateName,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds);this._nestedTemplateFns.push(function(){var _a,templateFunctionExpr=templateVisitor.buildTemplateFunction(template.children,template.variables,_this._ngContentReservedSlots.length+_this._ngContentSelectorsOffset,template.i18n);_this.constantPool.statements.push(templateFunctionExpr.toDeclStmt(templateName,null)),templateVisitor._ngContentReservedSlots.length&&(_a=_this._ngContentReservedSlots).push.apply(_a,(0,_tslib.__spread)(templateVisitor._ngContentReservedSlots))}),this.creationInstruction(template.sourceSpan,Identifiers$1.templateCreate,function(){return parameters.splice(2,0,literal(templateVisitor.getConstCount()),literal(templateVisitor.getVarCount())),trimTrailingNulls(parameters)}),this.templatePropertyBindings(templateIndex,template.templateAttrs),"ng-template"===template.tagName&&(this.templatePropertyBindings(templateIndex,template.inputs),template.outputs.forEach(function(outputAst){_this.creationInstruction(outputAst.sourceSpan,Identifiers$1.listener,_this.prepareListenerParameter("ng_template",outputAst,templateIndex))}))},TemplateDefinitionBuilder.prototype.visitBoundText=function(text){var _this=this;if(this.i18n){var value_3=text.value.visit(this._valueConverter);return this.allocateBindingSlots(value_3),void(value_3 instanceof Interpolation&&(this.i18n.appendBoundText(text.i18n),this.i18nAppendBindings(value_3.expressions)))}var nodeIndex=this.allocateDataSlot();this.creationInstruction(text.sourceSpan,Identifiers$1.text,[literal(nodeIndex)]);var value=text.value.visit(this._valueConverter);this.allocateBindingSlots(value),value instanceof Interpolation?this.updateInstruction(nodeIndex,text.sourceSpan,function(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.textInterpolate;case 3:return Identifiers$1.textInterpolate1;case 5:return Identifiers$1.textInterpolate2;case 7:return Identifiers$1.textInterpolate3;case 9:return Identifiers$1.textInterpolate4;case 11:return Identifiers$1.textInterpolate5;case 13:return Identifiers$1.textInterpolate6;case 15:return Identifiers$1.textInterpolate7;case 17:return Identifiers$1.textInterpolate8;default:return Identifiers$1.textInterpolateV}}(value),function(){return _this.getUpdateInstructionArguments(value)}):this.updateInstruction(nodeIndex,text.sourceSpan,Identifiers$1.textBinding,function(){return[_this.convertPropertyBinding(value)]})},TemplateDefinitionBuilder.prototype.visitText=function(text){this.i18n||this.creationInstruction(text.sourceSpan,Identifiers$1.text,[literal(this.allocateDataSlot()),literal(text.value)])},TemplateDefinitionBuilder.prototype.visitIcu=function(icu){var _this=this,initWasInvoked=!1;this.i18n||(initWasInvoked=!0,this.i18nStart(null,icu.i18n,!0));var i18n=this.i18n,vars=this.i18nBindProps(icu.vars),placeholders=this.i18nBindProps(icu.placeholders),message=icu.i18n,transformFn=function(raw){var params=(0,_tslib.__assign)({},vars,placeholders),formatted=_this.i18nFormatPlaceholderNames(params,!1);return instruction(null,Identifiers$1.i18nPostprocess,[raw,mapLiteral(formatted,!0)])};if(isSingleI18nIcu(i18n.meta))this.i18nTranslate(message,{},i18n.ref,transformFn);else{var ref=this.i18nTranslate(message,{},void 0,transformFn);i18n.appendIcu(icuFromI18nMessage(message).name,ref)}return initWasInvoked&&this.i18nEnd(null,!0),null},TemplateDefinitionBuilder.prototype.allocateDataSlot=function(){return this._dataIndex++},TemplateDefinitionBuilder.prototype.getConstCount=function(){return this._dataIndex},TemplateDefinitionBuilder.prototype.getVarCount=function(){return this._pureFunctionSlots},TemplateDefinitionBuilder.prototype.getNgContentSelectors=function(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(asLiteral(this._ngContentReservedSlots),!0):null},TemplateDefinitionBuilder.prototype.bindingContext=function(){return""+this._bindingContext++},TemplateDefinitionBuilder.prototype.templatePropertyBindings=function(templateIndex,attrs){var _this=this,propertyBindings=[];attrs.forEach(function(input){if(input instanceof BoundAttribute){var value_4=input.value.visit(_this._valueConverter);void 0!==value_4&&(_this.allocateBindingSlots(value_4),propertyBindings.push({name:input.name,sourceSpan:input.sourceSpan,value:function(){return _this.convertPropertyBinding(value_4)}}))}}),propertyBindings.length>0&&this.updateInstructionChain(templateIndex,Identifiers$1.property,propertyBindings)},TemplateDefinitionBuilder.prototype.instructionFn=function(fns,span,reference,paramsOrFn,prepend){void 0===prepend&&(prepend=!1),fns[prepend?"unshift":"push"](function(){var params=Array.isArray(paramsOrFn)?paramsOrFn:paramsOrFn();return instruction(span,reference,params).toStmt()})},TemplateDefinitionBuilder.prototype.processStylingInstruction=function(elementIndex,instruction,createMode){var _this=this;instruction&&(createMode?this.creationInstruction(instruction.sourceSpan,instruction.reference,function(){return instruction.params(function(value){return _this.convertPropertyBinding(value)})}):this.updateInstruction(elementIndex,instruction.sourceSpan,instruction.reference,function(){return instruction.params(function(value){return instruction.supportsInterpolation&&value instanceof Interpolation?_this.getUpdateInstructionArguments(value):_this.convertPropertyBinding(value)})}))},TemplateDefinitionBuilder.prototype.creationInstruction=function(span,reference,paramsOrFn,prepend){this.instructionFn(this._creationCodeFns,span,reference,paramsOrFn||[],prepend)},TemplateDefinitionBuilder.prototype.updateInstruction=function(nodeIndex,span,reference,paramsOrFn){this.addSelectInstructionIfNecessary(nodeIndex,span),this.instructionFn(this._updateCodeFns,span,reference,paramsOrFn||[])},TemplateDefinitionBuilder.prototype.updateInstructionChain=function(nodeIndex,reference,bindings){var span=bindings.length?bindings[0].sourceSpan:null;this.addSelectInstructionIfNecessary(nodeIndex,span),this._updateCodeFns.push(function(){var calls=bindings.map(function(property){var fnParams=(0,_tslib.__spread)([property.value()],property.params||[]);return property.name&&fnParams.unshift(literal(property.name)),fnParams});return chainedInstruction(reference,calls,span).toStmt()})},TemplateDefinitionBuilder.prototype.addSelectInstructionIfNecessary=function(nodeIndex,span){this._lastNodeIndexWithFlush<nodeIndex&&(nodeIndex>0&&this.instructionFn(this._updateCodeFns,span,Identifiers$1.select,[literal(nodeIndex)]),this._lastNodeIndexWithFlush=nodeIndex)},TemplateDefinitionBuilder.prototype.allocatePureFunctionSlots=function(numSlots){var originalSlots=this._pureFunctionSlots;return this._pureFunctionSlots+=numSlots,originalSlots},TemplateDefinitionBuilder.prototype.allocateBindingSlots=function(value){this._bindingSlots+=value instanceof Interpolation?value.expressions.length:1},TemplateDefinitionBuilder.prototype.getImplicitReceiverExpr=function(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?variable(CONTEXT_NAME):this._bindingScope.getOrCreateSharedContextVar(0)},TemplateDefinitionBuilder.prototype.convertExpressionBinding=function(value){return convertPropertyBinding(this,this.getImplicitReceiverExpr(),value,this.bindingContext(),BindingForm.TrySimple).currValExpr},TemplateDefinitionBuilder.prototype.convertPropertyBinding=function(value){var _a,convertedPropertyBinding=convertPropertyBinding(this,this.getImplicitReceiverExpr(),value,this.bindingContext(),BindingForm.TrySimple,function(){return error("Unexpected interpolation")}),valExpr=convertedPropertyBinding.currValExpr;return(_a=this._tempVariables).push.apply(_a,(0,_tslib.__spread)(convertedPropertyBinding.stmts)),valExpr},TemplateDefinitionBuilder.prototype.getUpdateInstructionArguments=function(value){var _a,_b=function(localResolver,contextVariableExpression,expressionWithArgumentsToExtract,bindingId){var visitor=new _AstToIrVisitor(localResolver,contextVariableExpression,bindingId,void 0),outputExpr=expressionWithArgumentsToExtract.visit(visitor,_Mode.Expression);visitor.usesImplicitReceiver&&localResolver.notifyImplicitReceiverUse();var stmts=getStatementsFromVisitor(visitor,bindingId),args=outputExpr.args.slice(1);if(expressionWithArgumentsToExtract instanceof Interpolation){var strings=expressionWithArgumentsToExtract.strings;3===args.length&&""===strings[0]&&""===strings[1]?args=[args[1]]:args.length>=19&&(args=[literalArr(args)])}return{stmts:stmts,args:args}}(this,this.getImplicitReceiverExpr(),value,this.bindingContext()),args=_b.args,stmts=_b.stmts;return(_a=this._tempVariables).push.apply(_a,(0,_tslib.__spread)(stmts)),args},TemplateDefinitionBuilder.prototype.matchDirectives=function(tagName,elOrTpl){var tag,attributes,cssSelector,_this=this;if(this.directiveMatcher){var selector=(tag=tagName,attributes=getAttrsForDirectiveMatching(elOrTpl),(cssSelector=new CssSelector).setElement(tag),Object.getOwnPropertyNames(attributes).forEach(function(name){var value=attributes[name];cssSelector.addAttribute(name,value),"class"===name.toLowerCase()&&value.trim().split(/\s+/).forEach(function(className){return cssSelector.addClassName(className)})}),cssSelector);this.directiveMatcher.match(selector,function(cssSelector,staticType){_this.directives.add(staticType)})}},TemplateDefinitionBuilder.prototype.prepareNonRenderAttrs=function(inputs,outputs,styles,templateAttrs,i18nAttrs){void 0===templateAttrs&&(templateAttrs=[]),void 0===i18nAttrs&&(i18nAttrs=[]);var alreadySeen=new Set,attrExprs=[];function addAttrExpr(key,value){"string"==typeof key?alreadySeen.has(key)||(attrExprs.push.apply(attrExprs,(0,_tslib.__spread)(getAttributeNameLiterals(key))),void 0!==value&&attrExprs.push(value),alreadySeen.add(key)):attrExprs.push(literal(key))}if(styles&&styles.populateInitialStylingAttrs(attrExprs),inputs.length||outputs.length){for(var attrsLengthBeforeInputs=attrExprs.length,i=0;i<inputs.length;i++){var input=inputs[i];4!==input.type&&1!==input.type&&addAttrExpr(input.name)}for(i=0;i<outputs.length;i++){var output=outputs[i];1!==output.type&&addAttrExpr(output.name)}attrExprs.length!==attrsLengthBeforeInputs&&attrExprs.splice(attrsLengthBeforeInputs,0,literal(3))}return templateAttrs.length&&(attrExprs.push(literal(4)),templateAttrs.forEach(function(attr){return addAttrExpr(attr.name)})),i18nAttrs.length&&(attrExprs.push(literal(6)),i18nAttrs.forEach(function(attr){return addAttrExpr(attr.name)})),attrExprs},TemplateDefinitionBuilder.prototype.toAttrsParam=function(attrsExprs){return attrsExprs.length>0?this.constantPool.getConstLiteral(literalArr(attrsExprs),!0):TYPED_NULL_EXPR},TemplateDefinitionBuilder.prototype.prepareRefsParameter=function(references){var _this=this;if(!references||0===references.length)return TYPED_NULL_EXPR;var refsParam=flatten(references.map(function(reference){var slot=_this.allocateDataSlot(),variableName=_this._bindingScope.freshReferenceName(),retrievalLevel=_this.level,lhs=variable(variableName);return _this._bindingScope.set(retrievalLevel,reference.name,lhs,0,function(scope,relativeLevel){var nextContextStmt=relativeLevel>0?[generateNextContextExpr(relativeLevel).toStmt()]:[],refExpr=lhs.set(importExpr(Identifiers$1.reference).callFn([literal(slot)]));return nextContextStmt.concat(refExpr.toConstDecl())},!0),[reference.name,reference.value]}));return this.constantPool.getConstLiteral(asLiteral(refsParam),!0)},TemplateDefinitionBuilder.prototype.prepareListenerParameter=function(tagName,outputAst,index){var _this=this;return function(){var eventName=outputAst.name,bindingFnName=1===outputAst.type?prepareSyntheticListenerFunctionName(eventName,outputAst.phase):sanitizeIdentifier(eventName),handlerName=_this.templateName+"_"+tagName+"_"+bindingFnName+"_"+index+"_listener",scope=_this._bindingScope.nestedScope(_this._bindingScope.bindingLevel);return prepareEventListenerParameters(outputAst,handlerName,scope)}},TemplateDefinitionBuilder}(),ValueConverter=function(_super){function ValueConverter(constantPool,allocateSlot,allocatePureFunctionSlots,definePipe){var _this=_super.call(this)||this;return _this.constantPool=constantPool,_this.allocateSlot=allocateSlot,_this.allocatePureFunctionSlots=allocatePureFunctionSlots,_this.definePipe=definePipe,_this._pipeBindExprs=[],_this}return(0,_tslib.__extends)(ValueConverter,_super),ValueConverter.prototype.visitPipe=function(pipe,context){var slot=this.allocateSlot(),slotPseudoLocal="PIPE:"+slot,pureFunctionSlot=this.allocatePureFunctionSlots(2+pipe.args.length),target=new PropertyRead(pipe.span,new ImplicitReceiver(pipe.span),slotPseudoLocal),_a=function(args){var identifier=pipeBindingIdentifiers[args.length];return{identifier:identifier||Identifiers$1.pipeBindV,isVarLength:!identifier}}(pipe.args),identifier=_a.identifier,isVarLength=_a.isVarLength;this.definePipe(pipe.name,slotPseudoLocal,slot,importExpr(identifier));var args=(0,_tslib.__spread)([pipe.exp],pipe.args),convertedArgs=isVarLength?this.visitAll([new LiteralArray(pipe.span,args)]):this.visitAll(args),pipeBindExpr=new FunctionCall(pipe.span,target,(0,_tslib.__spread)([new LiteralPrimitive(pipe.span,slot),new LiteralPrimitive(pipe.span,pureFunctionSlot)],convertedArgs));return this._pipeBindExprs.push(pipeBindExpr),pipeBindExpr},ValueConverter.prototype.updatePipeSlotOffsets=function(bindingSlots){this._pipeBindExprs.forEach(function(pipe){pipe.args[1].value+=bindingSlots})},ValueConverter.prototype.visitLiteralArray=function(array,context){var _this=this;return new BuiltinFunctionCall(array.span,this.visitAll(array.expressions),function(values){var literal=literalArr(values);return values.every(function(a){return a.isConstant()})?_this.constantPool.getConstLiteral(literal,!0):getLiteralFactory(_this.constantPool,literal,_this.allocatePureFunctionSlots)})},ValueConverter.prototype.visitLiteralMap=function(map,context){var _this=this;return new BuiltinFunctionCall(map.span,this.visitAll(map.values),function(values){var literal=literalMap(values.map(function(value,index){return{key:map.keys[index].key,value:value,quoted:map.keys[index].quoted}}));return values.every(function(a){return a.isConstant()})?_this.constantPool.getConstLiteral(literal,!0):getLiteralFactory(_this.constantPool,literal,_this.allocatePureFunctionSlots)})},ValueConverter}(AstMemoryEfficientTransformer),pipeBindingIdentifiers=[Identifiers$1.pipeBind1,Identifiers$1.pipeBind2,Identifiers$1.pipeBind3,Identifiers$1.pipeBind4];var pureFunctionIdentifiers=[Identifiers$1.pureFunction0,Identifiers$1.pureFunction1,Identifiers$1.pureFunction2,Identifiers$1.pureFunction3,Identifiers$1.pureFunction4,Identifiers$1.pureFunction5,Identifiers$1.pureFunction6,Identifiers$1.pureFunction7,Identifiers$1.pureFunction8];function instruction(span,reference,params){return importExpr(reference,null,span).callFn(params,span)}function generateNextContextExpr(relativeLevelDiff){return importExpr(Identifiers$1.nextContext).callFn(relativeLevelDiff>1?[literal(relativeLevelDiff)]:[])}function getLiteralFactory(constantPool,literal$1,allocateSlots){var _a=constantPool.getLiteralFactory(literal$1),literalFactory=_a.literalFactory,literalFactoryArguments=_a.literalFactoryArguments,startSlot=allocateSlots(1+literalFactoryArguments.length);literalFactoryArguments.length>0||error("Expected arguments to a literal factory function");var _b=function(args){var identifier=pureFunctionIdentifiers[args.length];return{identifier:identifier||Identifiers$1.pureFunctionV,isVarLength:!identifier}}(literalFactoryArguments),identifier=_b.identifier,isVarLength=_b.isVarLength,args=[literal(startSlot),literalFactory];return isVarLength?args.push(literalArr(literalFactoryArguments)):args.push.apply(args,(0,_tslib.__spread)(literalFactoryArguments)),importExpr(identifier).callFn(args)}function getAttributeNameLiterals(name){var _a=(0,_tslib.__read)(splitNsName(name),2),attributeNamespace=_a[0],nameLiteral=literal(_a[1]);return attributeNamespace?[literal(0),literal(attributeNamespace),nameLiteral]:[nameLiteral]}var BindingScope=function(){function BindingScope(bindingLevel,parent){void 0===bindingLevel&&(bindingLevel=0),void 0===parent&&(parent=null),this.bindingLevel=bindingLevel,this.parent=parent,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}return Object.defineProperty(BindingScope,"ROOT_SCOPE",{get:function(){return BindingScope._ROOT_SCOPE||(BindingScope._ROOT_SCOPE=(new BindingScope).set(0,"$event",variable("$event"))),BindingScope._ROOT_SCOPE},enumerable:!0,configurable:!0}),BindingScope.prototype.get=function(name){for(var current=this;current;){var value=current.map.get(name);if(null!=value)return current!==this&&(value={retrievalLevel:value.retrievalLevel,lhs:value.lhs,declareLocalCallback:value.declareLocalCallback,declare:!1,priority:value.priority,localRef:value.localRef},this.map.set(name,value),this.maybeGenerateSharedContextVar(value),this.maybeRestoreView(value.retrievalLevel,value.localRef)),value.declareLocalCallback&&!value.declare&&(value.declare=!0),value.lhs;current=current.parent}return 0===this.bindingLevel?null:this.getComponentProperty(name)},BindingScope.prototype.set=function(retrievalLevel,name,lhs,priority,declareLocalCallback,localRef){if(void 0===priority&&(priority=0),this.map.has(name)){if(localRef)return this;error("The name "+name+" is already defined in scope to be "+this.map.get(name))}return this.map.set(name,{retrievalLevel:retrievalLevel,lhs:lhs,declare:!1,declareLocalCallback:declareLocalCallback,priority:priority,localRef:localRef||!1}),this},BindingScope.prototype.getLocal=function(name){return this.get(name)},BindingScope.prototype.notifyImplicitReceiverUse=function(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)},BindingScope.prototype.nestedScope=function(level){var newScope=new BindingScope(level,this);return level>0&&newScope.generateSharedContextVar(0),newScope},BindingScope.prototype.getOrCreateSharedContextVar=function(retrievalLevel){var bindingKey="$$shared_ctx$$"+retrievalLevel;return this.map.has(bindingKey)||this.generateSharedContextVar(retrievalLevel),this.map.get(bindingKey).lhs},BindingScope.prototype.getSharedContextName=function(retrievalLevel){var sharedCtxObj=this.map.get("$$shared_ctx$$"+retrievalLevel);return sharedCtxObj&&sharedCtxObj.declare?sharedCtxObj.lhs:null},BindingScope.prototype.maybeGenerateSharedContextVar=function(value){if(1===value.priority&&value.retrievalLevel<this.bindingLevel){var sharedCtxObj=this.map.get("$$shared_ctx$$"+value.retrievalLevel);sharedCtxObj?sharedCtxObj.declare=!0:this.generateSharedContextVar(value.retrievalLevel)}},BindingScope.prototype.generateSharedContextVar=function(retrievalLevel){var lhs=variable(CONTEXT_NAME+this.freshReferenceName());this.map.set("$$shared_ctx$$"+retrievalLevel,{retrievalLevel:retrievalLevel,lhs:lhs,declareLocalCallback:function(scope,relativeLevel){return[lhs.set(generateNextContextExpr(relativeLevel)).toConstDecl()]},declare:!1,priority:2,localRef:!1})},BindingScope.prototype.getComponentProperty=function(name){var componentValue=this.map.get("$$shared_ctx$$0");return componentValue.declare=!0,this.maybeRestoreView(0,!1),componentValue.lhs.prop(name)},BindingScope.prototype.maybeRestoreView=function(retrievalLevel,localRefLookup){this.isListenerScope()&&(retrievalLevel<this.bindingLevel||localRefLookup)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=variable(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)},BindingScope.prototype.restoreViewStatement=function(){return this.restoreViewVariable?[instruction(null,Identifiers$1.restoreView,[this.restoreViewVariable]).toStmt()]:[]},BindingScope.prototype.viewSnapshotStatements=function(){var getCurrentViewInstruction=instruction(null,Identifiers$1.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(getCurrentViewInstruction).toConstDecl()]:[]},BindingScope.prototype.isListenerScope=function(){return this.parent&&this.parent.bindingLevel===this.bindingLevel},BindingScope.prototype.variableDeclarations=function(){var _this=this,currentContextLevel=0;return Array.from(this.map.values()).filter(function(value){return value.declare}).sort(function(a,b){return b.retrievalLevel-a.retrievalLevel||b.priority-a.priority}).reduce(function(stmts,value){var levelDiff=_this.bindingLevel-value.retrievalLevel,currStmts=value.declareLocalCallback(_this,levelDiff-currentContextLevel);return currentContextLevel=levelDiff,stmts.concat(currStmts)},[])},BindingScope.prototype.freshReferenceName=function(){for(var current=this;current.parent;)current=current.parent;return"_r"+current.referenceNameIndex++},BindingScope}();function getNgProjectAsLiteral(attribute){var parsedR3Selector=parseSelectorToR3Selector(attribute.value)[0];return[literal(5),asLiteral(parsedR3Selector)]}function parseTemplate(template,templateUrl,options){void 0===options&&(options={});var interpolationConfig=options.interpolationConfig,preserveWhitespaces=options.preserveWhitespaces,bindingParser=makeBindingParser(interpolationConfig),parseResult=(new HtmlParser).parse(template,templateUrl,(0,_tslib.__assign)({leadingTriviaChars:LEADING_TRIVIA_CHARS},options,{tokenizeExpansionForms:!0}));if(parseResult.errors&&parseResult.errors.length>0)return{errors:parseResult.errors,nodes:[],styleUrls:[],styles:[]};var rootNodes=parseResult.rootNodes;rootNodes=visitAll$1(new I18nMetaVisitor(interpolationConfig,!preserveWhitespaces),rootNodes),preserveWhitespaces||(rootNodes=visitAll$1(new WhitespaceVisitor,rootNodes),rootNodes=visitAll$1(new I18nMetaVisitor(interpolationConfig,!1),rootNodes));var _a=htmlAstToRender3Ast(rootNodes,bindingParser),nodes=_a.nodes,errors=_a.errors,styleUrls=_a.styleUrls,styles=_a.styles;return errors&&errors.length>0?{errors:errors,nodes:[],styleUrls:[],styles:[]}:{nodes:nodes,styleUrls:styleUrls,styles:styles}}function makeBindingParser(interpolationConfig){return void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG),new BindingParser(new Parser$1(new Lexer),interpolationConfig,new DomElementSchemaRegistry,null,[])}function resolveSanitizationFn(context,isAttribute){switch(context){case SecurityContext.HTML:return importExpr(Identifiers$1.sanitizeHtml);case SecurityContext.SCRIPT:return importExpr(Identifiers$1.sanitizeScript);case SecurityContext.STYLE:return isAttribute?importExpr(Identifiers$1.sanitizeStyle):null;case SecurityContext.URL:return importExpr(Identifiers$1.sanitizeUrl);case SecurityContext.RESOURCE_URL:return importExpr(Identifiers$1.sanitizeResourceUrl);default:return null}}function isTextNode(node){return node instanceof Text||node instanceof BoundText||node instanceof Icu}function hasTextChildrenOnly(children){return children.every(isTextNode)}var EMPTY_ARRAY=[],ATTR_REGEX=/attr\.([^\]]+)/;function baseDirectiveFields(meta,constantPool,bindingParser){var definitionMap=new DefinitionMap;definitionMap.set("type",meta.type),definitionMap.set("selectors",asLiteral(parseSelectorToR3Selector(meta.selector)));var result=compileFactoryFunction({name:meta.name,type:meta.type,deps:meta.deps,injectFn:Identifiers$1.directiveInject});return definitionMap.set("factory",result.factory),meta.queries.length>0&&definitionMap.set("contentQueries",createContentQueriesFunction(meta.queries,constantPool,meta.name)),meta.viewQueries.length&&definitionMap.set("viewQuery",createViewQueriesFunction(meta.viewQueries,constantPool,meta.name)),definitionMap.set("hostBindings",createHostBindingsFunction(meta.host,meta.typeSourceSpan,bindingParser,constantPool,meta.selector||"",meta.name)),definitionMap.set("inputs",conditionallyCreateMapObjectLiteral(meta.inputs,!0)),definitionMap.set("outputs",conditionallyCreateMapObjectLiteral(meta.outputs)),null!==meta.exportAs&&definitionMap.set("exportAs",literalArr(meta.exportAs.map(function(e){return literal(e)}))),{definitionMap:definitionMap,statements:result.statements}}function addFeatures(definitionMap,meta){var features=[],providers=meta.providers,viewProviders=meta.viewProviders;if(providers||viewProviders){var args=[providers||new LiteralArrayExpr([])];viewProviders&&args.push(viewProviders),features.push(importExpr(Identifiers$1.ProvidersFeature).callFn(args))}meta.usesInheritance&&features.push(importExpr(Identifiers$1.InheritDefinitionFeature)),meta.lifecycle.usesOnChanges&&features.push(importExpr(Identifiers$1.NgOnChangesFeature).callFn(EMPTY_ARRAY)),features.length&&definitionMap.set("features",literalArr(features))}function compileDirectiveFromMetadata(meta,constantPool,bindingParser){var _a=baseDirectiveFields(meta,constantPool,bindingParser),definitionMap=_a.definitionMap,statements=_a.statements;addFeatures(definitionMap,meta);var expression=importExpr(Identifiers$1.defineDirective).callFn([definitionMap.toLiteralMap()]);if(!meta.selector)throw new Error("Directive "+meta.name+" has no selector, please add it!");return{expression:expression,type:createTypeForDef(meta,Identifiers$1.DirectiveDefWithMeta),statements:statements}}function compileBaseDefFromMetadata(meta,constantPool,bindingParser){var definitionMap=new DefinitionMap;if(meta.inputs){var inputs_1=meta.inputs,inputsMap=Object.keys(inputs_1).map(function(key){var v=inputs_1[key];return{key:key,value:Array.isArray(v)?literalArr(v.map(function(vx){return literal(vx)})):literal(v),quoted:!1}});definitionMap.set("inputs",literalMap(inputsMap))}if(meta.outputs){var outputs_1=meta.outputs,outputsMap=Object.keys(outputs_1).map(function(key){return{key:key,value:literal(outputs_1[key]),quoted:!1}});definitionMap.set("outputs",literalMap(outputsMap))}return meta.viewQueries&&meta.viewQueries.length>0&&definitionMap.set("viewQuery",createViewQueriesFunction(meta.viewQueries,constantPool)),meta.queries&&meta.queries.length>0&&definitionMap.set("contentQueries",createContentQueriesFunction(meta.queries,constantPool)),meta.host&&definitionMap.set("hostBindings",createHostBindingsFunction(meta.host,meta.typeSourceSpan,bindingParser,constantPool,meta.name)),{expression:importExpr(Identifiers$1.defineBase).callFn([definitionMap.toLiteralMap()]),type:new ExpressionType(importExpr(Identifiers$1.BaseDef),null,[expressionType(meta.type)])}}function compileComponentFromMetadata(meta,constantPool,bindingParser){var e_1,_a,_b=baseDirectiveFields(meta,constantPool,bindingParser),definitionMap=_b.definitionMap,statements=_b.statements;addFeatures(definitionMap,meta);var selector=meta.selector&&CssSelector.parse(meta.selector),firstSelector=selector&&selector[0];if(firstSelector){var selectorAttributes=firstSelector.getAttrs();selectorAttributes.length&&definitionMap.set("attrs",constantPool.getConstLiteral(literalArr(selectorAttributes.map(function(value){return literal(null!=value?value:void 0)})),!0))}var directiveMatcher=null;if(meta.directives.length>0){var matcher=new SelectorMatcher;try{for(var _c=(0,_tslib.__values)(meta.directives),_d=_c.next();!_d.done;_d=_c.next()){var _e=_d.value,selector_1=_e.selector,expression_1=_e.expression;matcher.addSelectables(CssSelector.parse(selector_1),expression_1)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}directiveMatcher=matcher}var templateTypeName=meta.name,templateName=templateTypeName?templateTypeName+"_Template":null,directivesUsed=new Set,pipesUsed=new Set,changeDetection=meta.changeDetection,template=meta.template,templateBuilder=new TemplateDefinitionBuilder(constantPool,BindingScope.ROOT_SCOPE,0,templateTypeName,null,null,templateName,directiveMatcher,directivesUsed,meta.pipes,pipesUsed,Identifiers$1.namespaceHTML,meta.relativeContextFilePath,meta.i18nUseExternalIds),templateFunctionExpression=templateBuilder.buildTemplateFunction(template.nodes,[]),ngContentSelectors=templateBuilder.getNgContentSelectors();if(ngContentSelectors&&definitionMap.set("ngContentSelectors",ngContentSelectors),definitionMap.set("consts",literal(templateBuilder.getConstCount())),definitionMap.set("vars",literal(templateBuilder.getVarCount())),definitionMap.set("template",templateFunctionExpression),directivesUsed.size){var directivesExpr=literalArr(Array.from(directivesUsed));meta.wrapDirectivesAndPipesInClosure&&(directivesExpr=fn([],[new ReturnStatement(directivesExpr)])),definitionMap.set("directives",directivesExpr)}if(pipesUsed.size){var pipesExpr=literalArr(Array.from(pipesUsed));meta.wrapDirectivesAndPipesInClosure&&(pipesExpr=fn([],[new ReturnStatement(pipesExpr)])),definitionMap.set("pipes",pipesExpr)}if(null===meta.encapsulation&&(meta.encapsulation=ViewEncapsulation.Emulated),meta.styles&&meta.styles.length){var strings=(meta.encapsulation==ViewEncapsulation.Emulated?function(styles,selector,hostSelector){var shadowCss=new ShadowCss;return styles.map(function(style){return shadowCss.shimCssText(style,selector,hostSelector)})}(meta.styles,CONTENT_ATTR,HOST_ATTR):meta.styles).map(function(str){return literal(str)});definitionMap.set("styles",literalArr(strings))}else meta.encapsulation===ViewEncapsulation.Emulated&&(meta.encapsulation=ViewEncapsulation.None);meta.encapsulation!==ViewEncapsulation.Emulated&&definitionMap.set("encapsulation",literal(meta.encapsulation)),null!==meta.animations&&definitionMap.set("data",literalMap([{key:"animation",value:meta.animations,quoted:!1}])),null!=changeDetection&&changeDetection!==ChangeDetectionStrategy.Default&&definitionMap.set("changeDetection",literal(changeDetection));(meta.selector||"").replace(/\n/g,"");return{expression:importExpr(Identifiers$1.defineComponent).callFn([definitionMap.toLiteralMap()]),type:createTypeForDef(meta,Identifiers$1.ComponentDefWithMeta),statements:statements}}function compileComponentFromRender2(outputCtx,component,render3Ast,reflector,bindingParser,directiveTypeBySel,pipeTypeByName){var name=identifierName(component.type);name||error("Cannot resolver the name of "+component.type);var definitionField=outputCtx.constantPool.propertyNameOf(2),summary=component.toSummary(),res=compileComponentFromMetadata((0,_tslib.__assign)({},directiveMetadataFromGlobalMetadata(component,outputCtx,reflector),{selector:component.selector,template:{nodes:render3Ast.nodes},directives:[],pipes:function(map,outputCtx){var entries=Array.from(map).map(function(_a){var _b=(0,_tslib.__read)(_a,2),key=_b[0],type=_b[1];return[key,outputCtx.importExpr(type)]});return new Map(entries)}(pipeTypeByName,outputCtx),viewQueries:function(queries,outputCtx){return queries.map(function(query){var read=null;return query.read&&query.read.identifier&&(read=outputCtx.importExpr(query.read.identifier.reference)),{propertyName:query.propertyName,first:query.first,predicate:function(selectors,outputCtx){if(selectors.length>1||1==selectors.length&&selectors[0].value){var selectorStrings=selectors.map(function(value){return value.value});return selectorStrings.some(function(value){return!value})&&error("Found a type among the string selectors expected"),outputCtx.constantPool.getConstLiteral(literalArr(selectorStrings.map(function(value){return literal(value)})))}if(1==selectors.length){var first=selectors[0];if(first.identifier)return outputCtx.importExpr(first.identifier.reference)}return error("Unexpected query form"),NULL_EXPR}(query.selectors,outputCtx),descendants:query.descendants,read:read,static:!!query.static}})}(component.viewQueries,outputCtx),wrapDirectivesAndPipesInClosure:!1,styles:summary.template&&summary.template.styles||EMPTY_ARRAY,encapsulation:summary.template&&summary.template.encapsulation||ViewEncapsulation.Emulated,interpolation:DEFAULT_INTERPOLATION_CONFIG,animations:null,viewProviders:component.viewProviders.length>0?new WrappedNodeExpr(component.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),outputCtx.constantPool,bindingParser);outputCtx.statements.push(new ClassStmt(name,null,[new ClassField(definitionField,INFERRED_TYPE,[StmtModifier.Static],res.expression)],[],new ClassMethod(null,[],[]),[]))}function directiveMetadataFromGlobalMetadata(directive,outputCtx,reflector){throw new Error("unsupported")}function prepareQueryParams(query,constantPool){var parameters=[function(query,constantPool){if(Array.isArray(query.predicate)){var predicate_1=[];return query.predicate.forEach(function(selector){var selectors=selector.split(",").map(function(token){return literal(token.trim())});predicate_1.push.apply(predicate_1,(0,_tslib.__spread)(selectors))}),constantPool.getConstLiteral(literalArr(predicate_1),!0)}return query.predicate}(query,constantPool),literal(query.descendants)];return query.read&&parameters.push(query.read),parameters}function createContentQueriesFunction(queries,constantPool,name){var e_3,_a,createStatements=[],updateStatements=[],tempAllocator=temporaryAllocator(updateStatements,TEMPORARY_NAME);try{for(var queries_1=(0,_tslib.__values)(queries),queries_1_1=queries_1.next();!queries_1_1.done;queries_1_1=queries_1.next()){var query=queries_1_1.value,queryInstruction=query.static?Identifiers$1.staticContentQuery:Identifiers$1.contentQuery;createStatements.push(importExpr(queryInstruction).callFn((0,_tslib.__spread)([variable("dirIndex")],prepareQueryParams(query,constantPool))).toStmt());var temporary=tempAllocator(),getQueryList=importExpr(Identifiers$1.loadContentQuery).callFn([]),refresh=importExpr(Identifiers$1.queryRefresh).callFn([temporary.set(getQueryList)]),updateDirective=variable(CONTEXT_NAME).prop(query.propertyName).set(query.first?temporary.prop("first"):temporary);updateStatements.push(refresh.and(updateDirective).toStmt())}}catch(e_3_1){e_3={error:e_3_1}}finally{try{queries_1_1&&!queries_1_1.done&&(_a=queries_1.return)&&_a.call(queries_1)}finally{if(e_3)throw e_3.error}}var contentQueriesFnName=name?name+"_ContentQueries":null;return fn([new FnParam(RENDER_FLAGS,NUMBER_TYPE),new FnParam(CONTEXT_NAME,null),new FnParam("dirIndex",null)],[renderFlagCheckIfStmt(1,createStatements),renderFlagCheckIfStmt(2,updateStatements)],INFERRED_TYPE,null,contentQueriesFnName)}function stringMapAsType(map){return expressionType(literalMap(Object.keys(map).map(function(key){return{key:key,value:literal(Array.isArray(map[key])?map[key][0]:map[key]),quoted:!0}})))}function stringArrayAsType(arr){return arr.length>0?expressionType(literalArr(arr.map(function(value){return literal(value)}))):NONE_TYPE}function createTypeForDef(meta,typeBase){var str,selectorForType=(meta.selector||"").replace(/\n/g,"");return expressionType(importExpr(typeBase,[typeWithParameters(meta.type,meta.typeArgumentCount),(str=selectorForType,expressionType(literal(str))),null!==meta.exportAs?stringArrayAsType(meta.exportAs):NONE_TYPE,stringMapAsType(meta.inputs),stringMapAsType(meta.outputs),stringArrayAsType(meta.queries.map(function(q){return q.propertyName}))]))}function createViewQueriesFunction(viewQueries,constantPool,name){var createStatements=[],updateStatements=[],tempAllocator=temporaryAllocator(updateStatements,TEMPORARY_NAME);viewQueries.forEach(function(query){var queryDefinition=importExpr(query.static?Identifiers$1.staticViewQuery:Identifiers$1.viewQuery).callFn(prepareQueryParams(query,constantPool));createStatements.push(queryDefinition.toStmt());var temporary=tempAllocator(),getQueryList=importExpr(Identifiers$1.loadViewQuery).callFn([]),refresh=importExpr(Identifiers$1.queryRefresh).callFn([temporary.set(getQueryList)]),updateDirective=variable(CONTEXT_NAME).prop(query.propertyName).set(query.first?temporary.prop("first"):temporary);updateStatements.push(refresh.and(updateDirective).toStmt())});var viewQueryFnName=name?name+"_Query":null;return fn([new FnParam(RENDER_FLAGS,NUMBER_TYPE),new FnParam(CONTEXT_NAME,null)],[renderFlagCheckIfStmt(1,createStatements),renderFlagCheckIfStmt(2,updateStatements)],INFERRED_TYPE,null,viewQueryFnName)}function createHostBindingsFunction(hostBindingsMetadata,typeSourceSpan,bindingParser,constantPool,selector,name){var hostVarsCount=Object.keys(hostBindingsMetadata.properties).length,elVarExp=variable("elIndex"),bindingContext=variable(CONTEXT_NAME),styleBuilder=new StylingBuilder(elVarExp,bindingContext),_a=hostBindingsMetadata.specialAttributes,styleAttr=_a.styleAttr,classAttr=_a.classAttr;void 0!==styleAttr&&styleBuilder.registerStyleAttr(styleAttr),void 0!==classAttr&&styleBuilder.registerClassAttr(classAttr);var valueConverter,createStatements=[],updateStatements=[],totalHostVarsCount=hostVarsCount,hostBindingSourceSpan=typeSourceSpan,directiveSummary=metadataAsSummary(hostBindingsMetadata),getValueConverter=function(){if(!valueConverter){valueConverter=new ValueConverter(constantPool,function(){return error("Unexpected node")},function(numSlots){var originalVarsCount=totalHostVarsCount;return totalHostVarsCount+=numSlots,originalVarsCount},function(){return error("Unexpected pipe")})}return valueConverter},eventBindings=bindingParser.createDirectiveHostEventAsts(directiveSummary,hostBindingSourceSpan);if(eventBindings&&eventBindings.length){var listeners=function(eventBindings,name){return eventBindings.map(function(binding){var bindingName=binding.name&&sanitizeIdentifier(binding.name),bindingFnName=1===binding.type?prepareSyntheticListenerFunctionName(bindingName,binding.targetOrPhase):bindingName,handlerName=name&&bindingName?name+"_"+bindingFnName+"_HostBindingHandler":null,params=prepareEventListenerParameters(BoundEvent.fromParsedEvent(binding),handlerName),instruction=1==binding.type?Identifiers$1.componentHostSyntheticListener:Identifiers$1.listener;return importExpr(instruction).callFn(params).toStmt()})}(eventBindings,name);createStatements.push.apply(createStatements,(0,_tslib.__spread)(listeners))}var bindings=bindingParser.createBoundHostProperties(directiveSummary,hostBindingSourceSpan),propertyBindings=[],attributeBindings=[],syntheticHostBindings=[];bindings&&bindings.forEach(function(binding){var name=binding.name;if(!styleBuilder.registerInputBasedOnName(name,binding.expression,binding.sourceSpan)){var value=binding.expression.visit(getValueConverter()),bindingExpr=bindingFn(bindingContext,value),_a=function(binding){var instruction,bindingName=binding.name,attrMatches=bindingName.match(ATTR_REGEX);attrMatches?(bindingName=attrMatches[1],instruction=Identifiers$1.attribute):binding.isAnimation?(bindingName=prepareSyntheticPropertyName(bindingName),instruction=Identifiers$1.updateSyntheticHostBinding):instruction=Identifiers$1.hostProperty;return{bindingName:bindingName,instruction:instruction,isAttribute:!!attrMatches}}(binding),bindingName=_a.bindingName,instruction=_a.instruction,isAttribute=_a.isAttribute,securityContexts=bindingParser.calcPossibleSecurityContexts(selector,bindingName,isAttribute).filter(function(context){return context!==SecurityContext.NONE}),sanitizerFn=null;securityContexts.length&&(sanitizerFn=2===securityContexts.length&&securityContexts.indexOf(SecurityContext.URL)>-1&&securityContexts.indexOf(SecurityContext.RESOURCE_URL)>-1?importExpr(Identifiers$1.sanitizeUrlOrResourceUrl):resolveSanitizationFn(securityContexts[0],isAttribute));var instructionParams=[literal(bindingName),bindingExpr.currValExpr];sanitizerFn&&instructionParams.push(sanitizerFn),updateStatements.push.apply(updateStatements,(0,_tslib.__spread)(bindingExpr.stmts)),instruction===Identifiers$1.hostProperty?propertyBindings.push(instructionParams):instruction===Identifiers$1.attribute?attributeBindings.push(instructionParams):instruction===Identifiers$1.updateSyntheticHostBinding?syntheticHostBindings.push(instructionParams):updateStatements.push(importExpr(instruction).callFn(instructionParams).toStmt())}}),propertyBindings.length>0&&updateStatements.push(chainedInstruction(Identifiers$1.hostProperty,propertyBindings).toStmt()),attributeBindings.length>0&&updateStatements.push(chainedInstruction(Identifiers$1.attribute,attributeBindings).toStmt()),syntheticHostBindings.length>0&&updateStatements.push(chainedInstruction(Identifiers$1.updateSyntheticHostBinding,syntheticHostBindings).toStmt());var hostAttrs=function(attributes){var e_2,_a,values=[];try{for(var _b=(0,_tslib.__values)(Object.getOwnPropertyNames(attributes)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,value=attributes[key];values.push(literal(key),value)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}return values}(hostBindingsMetadata.attributes),hostInstruction=styleBuilder.buildHostAttrsInstruction(null,hostAttrs,constantPool);if(hostInstruction&&createStatements.push(createStylingStmt(hostInstruction,bindingContext,bindingFn)),styleBuilder.hasBindings){var stylingInstruction=styleBuilder.buildStylingInstruction(null,constantPool);stylingInstruction&&createStatements.push(createStylingStmt(stylingInstruction,bindingContext,bindingFn)),styleBuilder.buildUpdateLevelInstructions(getValueConverter()).forEach(function(instruction){totalHostVarsCount+=Math.max(instruction.allocateBindingSlots-1,0),updateStatements.push(createStylingStmt(instruction,bindingContext,bindingFn))})}if(totalHostVarsCount&&createStatements.unshift(importExpr(Identifiers$1.allocHostVars).callFn([literal(totalHostVarsCount)]).toStmt()),createStatements.length>0||updateStatements.length>0){var hostBindingsFnName=name?name+"_HostBindings":null,statements=[];return createStatements.length>0&&statements.push(renderFlagCheckIfStmt(1,createStatements)),updateStatements.length>0&&statements.push(renderFlagCheckIfStmt(2,updateStatements)),fn([new FnParam(RENDER_FLAGS,NUMBER_TYPE),new FnParam(CONTEXT_NAME,null),new FnParam(elVarExp.name,NUMBER_TYPE)],statements,INFERRED_TYPE,null,hostBindingsFnName)}return null}function bindingFn(implicit,value){return convertPropertyBinding(null,implicit,value,"b",BindingForm.TrySimple,function(){return error("Unexpected interpolation")})}function createStylingStmt(instruction,bindingContext,bindingFn){var params=instruction.params(function(value){return bindingFn(bindingContext,value).currValExpr});return importExpr(instruction.reference,null,instruction.sourceSpan).callFn(params,instruction.sourceSpan).toStmt()}function metadataAsSummary(meta){return{hostAttributes:{},hostListeners:meta.listeners,hostProperties:meta.properties}}var HOST_REG_EXP$1=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function parseHostBindings(host){var e_4,_a,attributes={},listeners={},properties={},specialAttributes={};try{for(var _b=(0,_tslib.__values)(Object.keys(host)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,value=host[key],matches=key.match(HOST_REG_EXP$1);if(null===matches)switch(key){case"class":if("string"!=typeof value)throw new Error("Class binding must be string");specialAttributes.classAttr=value;break;case"style":if("string"!=typeof value)throw new Error("Style binding must be string");specialAttributes.styleAttr=value;break;default:attributes[key]="string"==typeof value?literal(value):value}else if(null!=matches[1]){if("string"!=typeof value)throw new Error("Property binding must be string");properties[matches[1]]=value}else if(null!=matches[2]){if("string"!=typeof value)throw new Error("Event binding must be string");listeners[matches[2]]=value}}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_4)throw e_4.error}}return{attributes:attributes,listeners:listeners,properties:properties,specialAttributes:specialAttributes}}function verifyHostBindings(bindings,sourceSpan){var summary=metadataAsSummary(bindings),bindingParser=makeBindingParser();return bindingParser.createDirectiveHostEventAsts(summary,sourceSpan),bindingParser.createBoundHostProperties(summary,sourceSpan),bindingParser.errors}var ResourceLoader=function(){function ResourceLoader(){}return ResourceLoader.prototype.get=function(url){return""},ResourceLoader}();exports.ResourceLoader=ResourceLoader;var CompilerFacadeImpl=function(){function CompilerFacadeImpl(jitEvaluator){void 0===jitEvaluator&&(jitEvaluator=new JitEvaluator),this.jitEvaluator=jitEvaluator,this.R3ResolvedDependencyType=R3ResolvedDependencyType,this.ResourceLoader=ResourceLoader,this.elementSchemaRegistry=new DomElementSchemaRegistry}return CompilerFacadeImpl.prototype.compilePipe=function(angularCoreEnv,sourceMapUrl,facade){var res=compilePipeFromMetadata({name:facade.name,type:new WrappedNodeExpr(facade.type),typeArgumentCount:facade.typeArgumentCount,deps:convertR3DependencyMetadataArray(facade.deps),pipeName:facade.pipeName,pure:facade.pure});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,res.statements)},CompilerFacadeImpl.prototype.compileInjectable=function(angularCoreEnv,sourceMapUrl,facade){var providedIn,_a=compileInjectable({name:facade.name,type:new WrappedNodeExpr(facade.type),typeArgumentCount:facade.typeArgumentCount,providedIn:(providedIn=facade.providedIn,null==providedIn||"string"==typeof providedIn?new LiteralExpr(providedIn):new WrappedNodeExpr(providedIn)),useClass:wrapExpression(facade,USE_CLASS),useFactory:wrapExpression(facade,USE_FACTORY),useValue:wrapExpression(facade,USE_VALUE),useExisting:wrapExpression(facade,USE_EXISTING),ctorDeps:convertR3DependencyMetadataArray(facade.ctorDeps),userDeps:convertR3DependencyMetadataArray(facade.userDeps)||void 0}),expression=_a.expression,statements=_a.statements;return this.jitExpression(expression,angularCoreEnv,sourceMapUrl,statements)},CompilerFacadeImpl.prototype.compileInjector=function(angularCoreEnv,sourceMapUrl,facade){var res=compileInjector({name:facade.name,type:new WrappedNodeExpr(facade.type),deps:convertR3DependencyMetadataArray(facade.deps),providers:new WrappedNodeExpr(facade.providers),imports:facade.imports.map(function(i){return new WrappedNodeExpr(i)})});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,res.statements)},CompilerFacadeImpl.prototype.compileNgModule=function(angularCoreEnv,sourceMapUrl,facade){var res=compileNgModule({type:new WrappedNodeExpr(facade.type),bootstrap:facade.bootstrap.map(wrapReference),declarations:facade.declarations.map(wrapReference),imports:facade.imports.map(wrapReference),exports:facade.exports.map(wrapReference),emitInline:!0,containsForwardDecls:!1,schemas:facade.schemas?facade.schemas.map(wrapReference):null,id:facade.id?new WrappedNodeExpr(facade.id):null});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])},CompilerFacadeImpl.prototype.compileDirective=function(angularCoreEnv,sourceMapUrl,facade){var constantPool=new ConstantPool,bindingParser=makeBindingParser(),res=compileDirectiveFromMetadata(convertDirectiveFacadeToMetadata(facade),constantPool,bindingParser),preStatements=(0,_tslib.__spread)(constantPool.statements,res.statements);return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,preStatements)},CompilerFacadeImpl.prototype.compileComponent=function(angularCoreEnv,sourceMapUrl,facade){var constantPool=new ConstantPool,interpolationConfig=facade.interpolation?InterpolationConfig.fromArray(facade.interpolation):DEFAULT_INTERPOLATION_CONFIG,template=parseTemplate(facade.template,sourceMapUrl,{preserveWhitespaces:facade.preserveWhitespaces,interpolationConfig:interpolationConfig});if(void 0!==template.errors){var errors=template.errors.map(function(err){return err.toString()}).join(", ");throw new Error("Errors during JIT compilation of template for "+facade.name+": "+errors)}var res=compileComponentFromMetadata((0,_tslib.__assign)({},facade,convertDirectiveFacadeToMetadata(facade),{selector:facade.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:template,wrapDirectivesAndPipesInClosure:!1,styles:facade.styles||[],encapsulation:facade.encapsulation,interpolation:interpolationConfig,changeDetection:facade.changeDetection,animations:null!=facade.animations?new WrappedNodeExpr(facade.animations):null,viewProviders:null!=facade.viewProviders?new WrappedNodeExpr(facade.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),constantPool,makeBindingParser(interpolationConfig)),preStatements=(0,_tslib.__spread)(constantPool.statements,res.statements);return this.jitExpression(res.expression,angularCoreEnv,"ng:///"+facade.name+".js",preStatements)},CompilerFacadeImpl.prototype.compileBase=function(angularCoreEnv,sourceMapUrl,facade){var constantPool=new ConstantPool,typeSourceSpan=this.createParseSourceSpan("Base",facade.name,"ng:///"+facade.name+".js"),res=compileBaseDefFromMetadata((0,_tslib.__assign)({},facade,{typeSourceSpan:typeSourceSpan,viewQueries:facade.viewQueries?facade.viewQueries.map(convertToR3QueryMetadata):facade.viewQueries,queries:facade.queries?facade.queries.map(convertToR3QueryMetadata):facade.queries,host:extractHostBindings(facade.propMetadata,typeSourceSpan)}),constantPool,makeBindingParser());return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,constantPool.statements)},CompilerFacadeImpl.prototype.createParseSourceSpan=function(kind,typeName,sourceUrl){return r3JitTypeSourceSpan(kind,typeName,sourceUrl)},CompilerFacadeImpl.prototype.jitExpression=function(def,context,sourceUrl,preStatements){var statements=(0,_tslib.__spread)(preStatements,[new DeclareVarStmt("$def",def,void 0,[StmtModifier.Exported])]);return this.jitEvaluator.evaluateStatements(sourceUrl,statements,new R3JitReflector(context),!0).$def},CompilerFacadeImpl}(),USE_CLASS=Object.keys({useClass:null})[0],USE_FACTORY=Object.keys({useFactory:null})[0],USE_VALUE=Object.keys({useValue:null})[0],USE_EXISTING=Object.keys({useExisting:null})[0],wrapReference=function(value){var wrapped=new WrappedNodeExpr(value);return{value:wrapped,type:wrapped}};function convertToR3QueryMetadata(facade){return(0,_tslib.__assign)({},facade,{predicate:Array.isArray(facade.predicate)?facade.predicate:new WrappedNodeExpr(facade.predicate),read:facade.read?new WrappedNodeExpr(facade.read):null,static:facade.static})}function convertDirectiveFacadeToMetadata(facade){var inputsFromMetadata=parseInputOutputs(facade.inputs||[]),outputsFromMetadata=parseInputOutputs(facade.outputs||[]),propMetadata=facade.propMetadata,inputsFromType={},outputsFromType={},_loop_1=function(field){propMetadata.hasOwnProperty(field)&&propMetadata[field].forEach(function(ann){"Input"===ann.ngMetadataName?inputsFromType[field]=ann.bindingPropertyName?[ann.bindingPropertyName,field]:field:function(value){return"Output"===value.ngMetadataName}(ann)&&(outputsFromType[field]=ann.bindingPropertyName||field)})};for(var field in propMetadata)_loop_1(field);return(0,_tslib.__assign)({},facade,{typeSourceSpan:facade.typeSourceSpan,type:new WrappedNodeExpr(facade.type),deps:convertR3DependencyMetadataArray(facade.deps),host:extractHostBindings(facade.propMetadata,facade.typeSourceSpan,facade.host),inputs:(0,_tslib.__assign)({},inputsFromMetadata,inputsFromType),outputs:(0,_tslib.__assign)({},outputsFromMetadata,outputsFromType),queries:facade.queries.map(convertToR3QueryMetadata),providers:null!=facade.providers?new WrappedNodeExpr(facade.providers):null,viewQueries:facade.viewQueries.map(convertToR3QueryMetadata)})}function wrapExpression(obj,property){return obj.hasOwnProperty(property)?new WrappedNodeExpr(obj[property]):void 0}function convertR3DependencyMetadata(facade){return{token:null===facade.token?new LiteralExpr(null):facade.resolved===R3ResolvedDependencyType.Attribute?new LiteralExpr(facade.token):new WrappedNodeExpr(facade.token),resolved:facade.resolved,host:facade.host,optional:facade.optional,self:facade.self,skipSelf:facade.skipSelf}}function convertR3DependencyMetadataArray(facades){return null==facades?null:facades.map(convertR3DependencyMetadata)}function extractHostBindings(propMetadata,sourceSpan,host){var bindings=parseHostBindings(host||{}),errors=verifyHostBindings(bindings,sourceSpan);if(errors.length)throw new Error(errors.map(function(error){return error.msg}).join("\n"));var _loop_2=function(field){propMetadata.hasOwnProperty(field)&&propMetadata[field].forEach(function(ann){"HostBinding"===ann.ngMetadataName?bindings.properties[ann.hostPropertyName||field]=field:function(value){return"HostListener"===value.ngMetadataName}(ann)&&(bindings.listeners[ann.eventName||field]=field+"("+(ann.args||[]).join(",")+")")})};for(var field in propMetadata)_loop_2(field);return bindings}function parseInputOutputs(values){return values.reduce(function(map,value){var _a=(0,_tslib.__read)(value.split(",").map(function(piece){return piece.trim()}),2),field=_a[0],property=_a[1];return map[field]=property||field,map},{})}function publishFacade(global){(global.ng||(global.ng={})).compilerFacade=new CompilerFacadeImpl}var VERSION$1=new Version("8.2.13");exports.VERSION=VERSION$1;var CompilerConfig=function(){return function(_a){var _b=void 0===_a?{}:_a,_c=_b.defaultEncapsulation,defaultEncapsulation=void 0===_c?ViewEncapsulation.Emulated:_c,_d=_b.useJit,useJit=void 0===_d||_d,_e=_b.jitDevMode,jitDevMode=void 0!==_e&&_e,_f=_b.missingTranslation,missingTranslation=void 0===_f?null:_f,preserveWhitespaces=_b.preserveWhitespaces,strictInjectionParameters=_b.strictInjectionParameters;this.defaultEncapsulation=defaultEncapsulation,this.useJit=!!useJit,this.jitDevMode=!!jitDevMode,this.missingTranslation=missingTranslation,this.preserveWhitespaces=preserveWhitespacesDefault(noUndefined(preserveWhitespaces)),this.strictInjectionParameters=!0===strictInjectionParameters}}();function preserveWhitespacesDefault(preserveWhitespacesOption,defaultSetting){return void 0===defaultSetting&&(defaultSetting=!1),null===preserveWhitespacesOption?defaultSetting:preserveWhitespacesOption}exports.CompilerConfig=CompilerConfig;var DirectiveNormalizer=function(){function DirectiveNormalizer(_resourceLoader,_urlResolver,_htmlParser,_config){this._resourceLoader=_resourceLoader,this._urlResolver=_urlResolver,this._htmlParser=_htmlParser,this._config=_config,this._resourceLoaderCache=new Map}return DirectiveNormalizer.prototype.clearCache=function(){this._resourceLoaderCache.clear()},DirectiveNormalizer.prototype.clearCacheFor=function(normalizedDirective){var _this=this;if(normalizedDirective.isComponent){var template=normalizedDirective.template;this._resourceLoaderCache.delete(template.templateUrl),template.externalStylesheets.forEach(function(stylesheet){_this._resourceLoaderCache.delete(stylesheet.moduleUrl)})}},DirectiveNormalizer.prototype._fetch=function(url){var result=this._resourceLoaderCache.get(url);return result||(result=this._resourceLoader.get(url),this._resourceLoaderCache.set(url,result)),result},DirectiveNormalizer.prototype.normalizeTemplate=function(prenormData){var _this=this;if(isDefined(prenormData.template)){if(isDefined(prenormData.templateUrl))throw syntaxError("'"+stringify(prenormData.componentType)+"' component cannot define both template and templateUrl");if("string"!=typeof prenormData.template)throw syntaxError("The template specified for component "+stringify(prenormData.componentType)+" is not a string")}else{if(!isDefined(prenormData.templateUrl))throw syntaxError("No template specified for component "+stringify(prenormData.componentType));if("string"!=typeof prenormData.templateUrl)throw syntaxError("The templateUrl specified for component "+stringify(prenormData.componentType)+" is not a string")}if(isDefined(prenormData.preserveWhitespaces)&&"boolean"!=typeof prenormData.preserveWhitespaces)throw syntaxError("The preserveWhitespaces option for component "+stringify(prenormData.componentType)+" must be a boolean");return SyncAsync_then(this._preParseTemplate(prenormData),function(preparsedTemplate){return _this._normalizeTemplateMetadata(prenormData,preparsedTemplate)})},DirectiveNormalizer.prototype._preParseTemplate=function(prenomData){var template,templateUrl,_this=this;return null!=prenomData.template?(template=prenomData.template,templateUrl=prenomData.moduleUrl):(templateUrl=this._urlResolver.resolve(prenomData.moduleUrl,prenomData.templateUrl),template=this._fetch(templateUrl)),SyncAsync_then(template,function(template){return _this._preparseLoadedTemplate(prenomData,template,templateUrl)})},DirectiveNormalizer.prototype._preparseLoadedTemplate=function(prenormData,template,templateAbsUrl){var isInline=!!prenormData.template,interpolationConfig=InterpolationConfig.fromArray(prenormData.interpolation),templateUrl=templateSourceUrl({reference:prenormData.ngModuleType},{type:{reference:prenormData.componentType}},{isInline:isInline,templateUrl:templateAbsUrl}),rootNodesAndErrors=this._htmlParser.parse(template,templateUrl,{tokenizeExpansionForms:!0,interpolationConfig:interpolationConfig});if(rootNodesAndErrors.errors.length>0)throw syntaxError("Template parse errors:\n"+rootNodesAndErrors.errors.join("\n"));var templateMetadataStyles=this._normalizeStylesheet(new CompileStylesheetMetadata({styles:prenormData.styles,moduleUrl:prenormData.moduleUrl})),visitor=new TemplatePreparseVisitor;visitAll$1(visitor,rootNodesAndErrors.rootNodes);var templateStyles=this._normalizeStylesheet(new CompileStylesheetMetadata({styles:visitor.styles,styleUrls:visitor.styleUrls,moduleUrl:templateAbsUrl}));return{template:template,templateUrl:templateAbsUrl,isInline:isInline,htmlAst:rootNodesAndErrors,styles:templateMetadataStyles.styles.concat(templateStyles.styles),inlineStyleUrls:templateMetadataStyles.styleUrls.concat(templateStyles.styleUrls),styleUrls:this._normalizeStylesheet(new CompileStylesheetMetadata({styleUrls:prenormData.styleUrls,moduleUrl:prenormData.moduleUrl})).styleUrls,ngContentSelectors:visitor.ngContentSelectors}},DirectiveNormalizer.prototype._normalizeTemplateMetadata=function(prenormData,preparsedTemplate){var _this=this;return SyncAsync_then(this._loadMissingExternalStylesheets(preparsedTemplate.styleUrls.concat(preparsedTemplate.inlineStyleUrls)),function(externalStylesheets){return _this._normalizeLoadedTemplateMetadata(prenormData,preparsedTemplate,externalStylesheets)})},DirectiveNormalizer.prototype._normalizeLoadedTemplateMetadata=function(prenormData,preparsedTemplate,stylesheets){var _this=this,styles=(0,_tslib.__spread)(preparsedTemplate.styles);this._inlineStyles(preparsedTemplate.inlineStyleUrls,stylesheets,styles);var styleUrls=preparsedTemplate.styleUrls,externalStylesheets=styleUrls.map(function(styleUrl){var stylesheet=stylesheets.get(styleUrl),styles=(0,_tslib.__spread)(stylesheet.styles);return _this._inlineStyles(stylesheet.styleUrls,stylesheets,styles),new CompileStylesheetMetadata({moduleUrl:styleUrl,styles:styles})}),encapsulation=prenormData.encapsulation;return null==encapsulation&&(encapsulation=this._config.defaultEncapsulation),encapsulation===ViewEncapsulation.Emulated&&0===styles.length&&0===styleUrls.length&&(encapsulation=ViewEncapsulation.None),new CompileTemplateMetadata({encapsulation:encapsulation,template:preparsedTemplate.template,templateUrl:preparsedTemplate.templateUrl,htmlAst:preparsedTemplate.htmlAst,styles:styles,styleUrls:styleUrls,ngContentSelectors:preparsedTemplate.ngContentSelectors,animations:prenormData.animations,interpolation:prenormData.interpolation,isInline:preparsedTemplate.isInline,externalStylesheets:externalStylesheets,preserveWhitespaces:preserveWhitespacesDefault(prenormData.preserveWhitespaces,this._config.preserveWhitespaces)})},DirectiveNormalizer.prototype._inlineStyles=function(styleUrls,stylesheets,targetStyles){var _this=this;styleUrls.forEach(function(styleUrl){var stylesheet=stylesheets.get(styleUrl);stylesheet.styles.forEach(function(style){return targetStyles.push(style)}),_this._inlineStyles(stylesheet.styleUrls,stylesheets,targetStyles)})},DirectiveNormalizer.prototype._loadMissingExternalStylesheets=function(styleUrls,loadedStylesheets){var _this=this;return void 0===loadedStylesheets&&(loadedStylesheets=new Map),SyncAsync_then(SyncAsync_all(styleUrls.filter(function(styleUrl){return!loadedStylesheets.has(styleUrl)}).map(function(styleUrl){return SyncAsync_then(_this._fetch(styleUrl),function(loadedStyle){var stylesheet=_this._normalizeStylesheet(new CompileStylesheetMetadata({styles:[loadedStyle],moduleUrl:styleUrl}));return loadedStylesheets.set(styleUrl,stylesheet),_this._loadMissingExternalStylesheets(stylesheet.styleUrls,loadedStylesheets)})})),function(_){return loadedStylesheets})},DirectiveNormalizer.prototype._normalizeStylesheet=function(stylesheet){var _this=this,moduleUrl=stylesheet.moduleUrl,allStyleUrls=stylesheet.styleUrls.filter(isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(moduleUrl,url)}),allStyles=stylesheet.styles.map(function(style){var resolver,baseUrl,foundUrls,modifiedCssText,styleWithImports=(resolver=_this._urlResolver,baseUrl=moduleUrl,foundUrls=[],modifiedCssText=style.replace(CSS_STRIPPABLE_COMMENT_REGEXP,"").replace(CSS_IMPORT_REGEXP,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i]=arguments[_i];var url=m[1]||m[2];return isStyleUrlResolvable(url)?(foundUrls.push(resolver.resolve(baseUrl,url)),""):m[0]}),new StyleWithImports(modifiedCssText,foundUrls));return allStyleUrls.push.apply(allStyleUrls,(0,_tslib.__spread)(styleWithImports.styleUrls)),styleWithImports.style});return new CompileStylesheetMetadata({styles:allStyles,styleUrls:allStyleUrls,moduleUrl:moduleUrl})},DirectiveNormalizer}();exports.DirectiveNormalizer=DirectiveNormalizer;var TemplatePreparseVisitor=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return TemplatePreparseVisitor.prototype.visitElement=function(ast,context){var preparsedElement=preparseElement(ast);switch(preparsedElement.type){case PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(preparsedElement.selectAttr);break;case PreparsedElementType.STYLE:var textContent_1="";ast.children.forEach(function(child){child instanceof Text$3&&(textContent_1+=child.value)}),this.styles.push(textContent_1);break;case PreparsedElementType.STYLESHEET:this.styleUrls.push(preparsedElement.hrefAttr)}return preparsedElement.nonBindable&&this.ngNonBindableStackCount++,visitAll$1(this,ast.children),preparsedElement.nonBindable&&this.ngNonBindableStackCount--,null},TemplatePreparseVisitor.prototype.visitExpansion=function(ast,context){visitAll$1(this,ast.cases)},TemplatePreparseVisitor.prototype.visitExpansionCase=function(ast,context){visitAll$1(this,ast.expression)},TemplatePreparseVisitor.prototype.visitComment=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitAttribute=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitText=function(ast,context){return null},TemplatePreparseVisitor}(),QUERY_METADATA_IDENTIFIERS=[createViewChild,createViewChildren,createContentChild,createContentChildren],DirectiveResolver=function(){function DirectiveResolver(_reflector){this._reflector=_reflector}return DirectiveResolver.prototype.isDirective=function(type){var typeMetadata=this._reflector.annotations(resolveForwardRef(type));return typeMetadata&&typeMetadata.some(isDirectiveMetadata)},DirectiveResolver.prototype.resolve=function(type,throwIfNotFound){void 0===throwIfNotFound&&(throwIfNotFound=!0);var typeMetadata=this._reflector.annotations(resolveForwardRef(type));if(typeMetadata){var metadata=findLast(typeMetadata,isDirectiveMetadata);if(metadata){var propertyMetadata=this._reflector.propMetadata(type),guards=this._reflector.guards(type);return this._mergeWithPropertyMetadata(metadata,propertyMetadata,guards,type)}}if(throwIfNotFound)throw new Error("No Directive annotation found on "+stringify(type));return null},DirectiveResolver.prototype._mergeWithPropertyMetadata=function(dm,propertyMetadata,guards,directiveType){var inputs=[],outputs=[],host={},queries={};return Object.keys(propertyMetadata).forEach(function(propName){var input=findLast(propertyMetadata[propName],function(a){return createInput.isTypeOf(a)});input&&(input.bindingPropertyName?inputs.push(propName+": "+input.bindingPropertyName):inputs.push(propName));var output=findLast(propertyMetadata[propName],function(a){return createOutput.isTypeOf(a)});output&&(output.bindingPropertyName?outputs.push(propName+": "+output.bindingPropertyName):outputs.push(propName)),propertyMetadata[propName].filter(function(a){return createHostBinding.isTypeOf(a)}).forEach(function(hostBinding){if(hostBinding.hostPropertyName){var startWith=hostBinding.hostPropertyName[0];if("("===startWith)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===startWith)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");host["["+hostBinding.hostPropertyName+"]"]=propName}else host["["+propName+"]"]=propName}),propertyMetadata[propName].filter(function(a){return createHostListener.isTypeOf(a)}).forEach(function(hostListener){var args=hostListener.args||[];host["("+hostListener.eventName+")"]=propName+"("+args.join(",")+")"});var query=findLast(propertyMetadata[propName],function(a){return QUERY_METADATA_IDENTIFIERS.some(function(i){return i.isTypeOf(a)})});query&&(queries[propName]=query)}),this._merge(dm,inputs,outputs,host,queries,guards,directiveType)},DirectiveResolver.prototype._extractPublicName=function(def){return splitAtColon(def,[null,def])[1].trim()},DirectiveResolver.prototype._dedupeBindings=function(bindings){for(var names=new Set,publicNames=new Set,reversedResult=[],i=bindings.length-1;i>=0;i--){var binding=bindings[i],name_1=this._extractPublicName(binding);publicNames.add(name_1),names.has(name_1)||(names.add(name_1),reversedResult.push(binding))}return reversedResult.reverse()},DirectiveResolver.prototype._merge=function(directive,inputs,outputs,host,queries,guards,directiveType){var mergedInputs=this._dedupeBindings(directive.inputs?directive.inputs.concat(inputs):inputs),mergedOutputs=this._dedupeBindings(directive.outputs?directive.outputs.concat(outputs):outputs),mergedHost=directive.host?(0,_tslib.__assign)({},directive.host,host):host,mergedQueries=directive.queries?(0,_tslib.__assign)({},directive.queries,queries):queries;if(createComponent.isTypeOf(directive)){var comp=directive;return createComponent({selector:comp.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:comp.exportAs,moduleId:comp.moduleId,queries:mergedQueries,changeDetection:comp.changeDetection,providers:comp.providers,viewProviders:comp.viewProviders,entryComponents:comp.entryComponents,template:comp.template,templateUrl:comp.templateUrl,styles:comp.styles,styleUrls:comp.styleUrls,encapsulation:comp.encapsulation,animations:comp.animations,interpolation:comp.interpolation,preserveWhitespaces:directive.preserveWhitespaces})}return createDirective({selector:directive.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:directive.exportAs,queries:mergedQueries,providers:directive.providers,guards:guards})},DirectiveResolver}();function isDirectiveMetadata(type){return createDirective.isTypeOf(type)||createComponent.isTypeOf(type)}function findLast(arr,condition){for(var i=arr.length-1;i>=0;i--)if(condition(arr[i]))return arr[i];return null}exports.DirectiveResolver=DirectiveResolver;var I18nError=function(_super){function I18nError(span,msg){return _super.call(this,span,msg)||this}return(0,_tslib.__extends)(I18nError,_super),I18nError}(ParseError),_I18N_ATTR="i18n",_I18N_COMMENT_PREFIX_REGEXP=/^i18n:?/,MEANING_SEPARATOR="|",ID_SEPARATOR="@@",i18nCommentsWarned=!1;var _VisitorMode,ExtractionResult=function(){return function(messages,errors){this.messages=messages,this.errors=errors}}();!function(_VisitorMode){_VisitorMode[_VisitorMode.Extract=0]="Extract",_VisitorMode[_VisitorMode.Merge=1]="Merge"}(_VisitorMode||(_VisitorMode={}));var _Visitor$2=function(){function _Visitor(_implicitTags,_implicitAttrs){this._implicitTags=_implicitTags,this._implicitAttrs=_implicitAttrs}return _Visitor.prototype.extract=function(nodes,interpolationConfig){var _this=this;return this._init(_VisitorMode.Extract,interpolationConfig),nodes.forEach(function(node){return node.visit(_this,null)}),this._inI18nBlock&&this._reportError(nodes[nodes.length-1],"Unclosed block"),new ExtractionResult(this._messages,this._errors)},_Visitor.prototype.merge=function(nodes,translations,interpolationConfig){this._init(_VisitorMode.Merge,interpolationConfig),this._translations=translations;var translatedNode=new Element$1("wrapper",[],nodes,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(nodes[nodes.length-1],"Unclosed block"),new ParseTreeResult(translatedNode.children,this._errors)},_Visitor.prototype.visitExpansionCase=function(icuCase,context){var expression=visitAll$1(this,icuCase.expression,context);if(this._mode===_VisitorMode.Merge)return new ExpansionCase(icuCase.value,expression,icuCase.sourceSpan,icuCase.valueSourceSpan,icuCase.expSourceSpan)},_Visitor.prototype.visitExpansion=function(icu,context){this._mayBeAddBlockChildren(icu);var wasInIcu=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([icu]),this._inIcu=!0);var cases=visitAll$1(this,icu.cases,context);return this._mode===_VisitorMode.Merge&&(icu=new Expansion(icu.switchValue,icu.type,cases,icu.sourceSpan,icu.switchValueSourceSpan)),this._inIcu=wasInIcu,icu},_Visitor.prototype.visitComment=function(comment,context){var n,isOpening=!!((n=comment)instanceof Comment&&n.value&&n.value.startsWith("i18n"));if(isOpening&&this._isInTranslatableSection)this._reportError(comment,"Could not start a block inside a translatable section");else{var isClosing=function(n){return!!(n instanceof Comment&&n.value&&"/i18n"===n.value)}(comment);if(!isClosing||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(isClosing){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(comment,this._blockChildren),this._inI18nBlock=!1;var message=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return visitAll$1(this,this._translateMessage(comment,message))}return void this._reportError(comment,"I18N blocks should not cross element boundaries")}}else if(isOpening){if(!i18nCommentsWarned&&console&&console.warn){i18nCommentsWarned=!0;var details=comment.sourceSpan.details?", "+comment.sourceSpan.details:"";console.warn("I18n comments are deprecated, use an <ng-container> element instead ("+comment.sourceSpan.start+details+")")}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=comment.value.replace(_I18N_COMMENT_PREFIX_REGEXP,"").trim(),this._openTranslatableSection(comment)}}else this._reportError(comment,"Trying to close an unopened block")}},_Visitor.prototype.visitText=function(text,context){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(text),text},_Visitor.prototype.visitElement=function(el,context){var _this=this;this._mayBeAddBlockChildren(el),this._depth++;var wasInI18nNode=this._inI18nNode,wasInImplicitNode=this._inImplicitNode,childNodes=[],translatedChildNodes=void 0,i18nAttr=el.attrs.find(function(attr){return attr.name===_I18N_ATTR})||null,i18nMeta=i18nAttr?i18nAttr.value:"",isImplicit=this._implicitTags.some(function(tag){return el.name===tag})&&!this._inIcu&&!this._isInTranslatableSection,isTopLevelImplicit=!wasInImplicitNode&&isImplicit;if(this._inImplicitNode=wasInImplicitNode||isImplicit,this._isInTranslatableSection||this._inIcu)(i18nAttr||isTopLevelImplicit)&&this._reportError(el,"Could not mark an element as translatable inside a translatable section"),this._mode==_VisitorMode.Extract&&visitAll$1(this,el.children);else{if(i18nAttr||isTopLevelImplicit){this._inI18nNode=!0;var message=this._addMessage(el.children,i18nMeta);translatedChildNodes=this._translateMessage(el,message)}if(this._mode==_VisitorMode.Extract){var isTranslatable=i18nAttr||isTopLevelImplicit;isTranslatable&&this._openTranslatableSection(el),visitAll$1(this,el.children),isTranslatable&&this._closeTranslatableSection(el,el.children)}}this._mode===_VisitorMode.Merge&&(translatedChildNodes||el.children).forEach(function(child){var visited=child.visit(_this,context);visited&&!_this._isInTranslatableSection&&(childNodes=childNodes.concat(visited))});if(this._visitAttributesOf(el),this._depth--,this._inI18nNode=wasInI18nNode,this._inImplicitNode=wasInImplicitNode,this._mode===_VisitorMode.Merge){var translatedAttrs=this._translateAttributes(el);return new Element$1(el.name,translatedAttrs,childNodes,el.sourceSpan,el.startSourceSpan,el.endSourceSpan)}return null},_Visitor.prototype.visitAttribute=function(attribute,context){throw new Error("unreachable code")},_Visitor.prototype._init=function(mode,interpolationConfig){this._mode=mode,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=createI18nMessageFactory(interpolationConfig)},_Visitor.prototype._visitAttributesOf=function(el){var _this=this,explicitAttrNameToValue={},implicitAttrNames=this._implicitAttrs[el.name]||[];el.attrs.filter(function(attr){return attr.name.startsWith("i18n-")}).forEach(function(attr){return explicitAttrNameToValue[attr.name.slice("i18n-".length)]=attr.value}),el.attrs.forEach(function(attr){attr.name in explicitAttrNameToValue?_this._addMessage([attr],explicitAttrNameToValue[attr.name]):implicitAttrNames.some(function(name){return attr.name===name})&&_this._addMessage([attr])})},_Visitor.prototype._addMessage=function(ast,msgMeta){if(0==ast.length||1==ast.length&&ast[0]instanceof Attribute&&!ast[0].value)return null;var _a=_parseMessageMeta(msgMeta),meaning=_a.meaning,description=_a.description,id=_a.id,message=this._createI18nMessage(ast,meaning,description,id);return this._messages.push(message),message},_Visitor.prototype._translateMessage=function(el,message){if(message&&this._mode===_VisitorMode.Merge){var nodes=this._translations.get(message);if(nodes)return nodes;this._reportError(el,'Translation unavailable for message id="'+this._translations.digest(message)+'"')}return[]},_Visitor.prototype._translateAttributes=function(el){var _this=this,attributes=el.attrs,i18nParsedMessageMeta={};attributes.forEach(function(attr){attr.name.startsWith("i18n-")&&(i18nParsedMessageMeta[attr.name.slice("i18n-".length)]=_parseMessageMeta(attr.value))});var translatedAttributes=[];return attributes.forEach(function(attr){if(attr.name!==_I18N_ATTR&&!attr.name.startsWith("i18n-"))if(attr.value&&""!=attr.value&&i18nParsedMessageMeta.hasOwnProperty(attr.name)){var _a=i18nParsedMessageMeta[attr.name],meaning=_a.meaning,description=_a.description,id=_a.id,message=_this._createI18nMessage([attr],meaning,description,id),nodes=_this._translations.get(message);if(nodes)if(0==nodes.length)translatedAttributes.push(new Attribute(attr.name,"",attr.sourceSpan));else if(nodes[0]instanceof Text$3){var value=nodes[0].value;translatedAttributes.push(new Attribute(attr.name,value,attr.sourceSpan))}else _this._reportError(el,'Unexpected translation for attribute "'+attr.name+'" (id="'+(id||_this._translations.digest(message))+'")');else _this._reportError(el,'Translation unavailable for attribute "'+attr.name+'" (id="'+(id||_this._translations.digest(message))+'")')}else translatedAttributes.push(attr)}),translatedAttributes},_Visitor.prototype._mayBeAddBlockChildren=function(node){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(node)},_Visitor.prototype._openTranslatableSection=function(node){this._isInTranslatableSection?this._reportError(node,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(_Visitor.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),_Visitor.prototype._closeTranslatableSection=function(node,directChildren){if(this._isInTranslatableSection){var startIndex=this._msgCountAtSectionStart;if(1==directChildren.reduce(function(count,node){return count+(node instanceof Comment?0:1)},0))for(var i=this._messages.length-1;i>=startIndex;i--){var ast=this._messages[i].nodes;if(!(1==ast.length&&ast[0]instanceof Text$1)){this._messages.splice(i,1);break}}this._msgCountAtSectionStart=void 0}else this._reportError(node,"Unexpected section end")},_Visitor.prototype._reportError=function(node,msg){this._errors.push(new I18nError(node.sourceSpan,msg))},_Visitor}();function _parseMessageMeta(i18n){if(!i18n)return{meaning:"",description:"",id:""};var idIndex=i18n.indexOf(ID_SEPARATOR),descIndex=i18n.indexOf(MEANING_SEPARATOR),_a=(0,_tslib.__read)(idIndex>-1?[i18n.slice(0,idIndex),i18n.slice(idIndex+2)]:[i18n,""],2),meaningAndDesc=_a[0],id=_a[1],_b=(0,_tslib.__read)(descIndex>-1?[meaningAndDesc.slice(0,descIndex),meaningAndDesc.slice(descIndex+1)]:["",meaningAndDesc],2);return{meaning:_b[0],description:_b[1],id:id}}var _TAG_DEFINITION=new(function(){function XmlTagDefinition(){this.closedByParent=!1,this.contentType=TagContentType.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return XmlTagDefinition.prototype.requireExtraParent=function(currentParent){return!1},XmlTagDefinition.prototype.isClosedByChild=function(name){return!1},XmlTagDefinition}());function getXmlTagDefinition(tagName){return _TAG_DEFINITION}var XmlParser=function(_super){function XmlParser(){return _super.call(this,getXmlTagDefinition)||this}return(0,_tslib.__extends)(XmlParser,_super),XmlParser.prototype.parse=function(source,url,options){return _super.prototype.parse.call(this,source,url,options)},XmlParser}(Parser),Xliff=function(_super){function Xliff(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(Xliff,_super),Xliff.prototype.write=function(messages,locale){var visitor=new _WriteVisitor,transUnits=[];messages.forEach(function(message){var _a,contextTags=[];message.sources.forEach(function(source){var contextGroupTag=new Tag("context-group",{purpose:"location"});contextGroupTag.children.push(new CR(10),new Tag("context",{"context-type":"sourcefile"},[new Text$2(source.filePath)]),new CR(10),new Tag("context",{"context-type":"linenumber"},[new Text$2(""+source.startLine)]),new CR(8)),contextTags.push(new CR(8),contextGroupTag)});var transUnit=new Tag("trans-unit",{id:message.id,datatype:"html"});(_a=transUnit.children).push.apply(_a,(0,_tslib.__spread)([new CR(8),new Tag("source",{},visitor.serialize(message.nodes))],contextTags)),message.description&&transUnit.children.push(new CR(8),new Tag("note",{priority:"1",from:"description"},[new Text$2(message.description)])),message.meaning&&transUnit.children.push(new CR(8),new Tag("note",{priority:"1",from:"meaning"},[new Text$2(message.meaning)])),transUnit.children.push(new CR(6)),transUnits.push(new CR(6),transUnit)});var body=new Tag("body",{},(0,_tslib.__spread)(transUnits,[new CR(4)])),file=new Tag("file",{"source-language":locale||"en",datatype:"plaintext",original:"ng2.template"},[new CR(4),body,new CR(2)]),xliff=new Tag("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new CR(2),file,new CR]);return serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,xliff,new CR])},Xliff.prototype.load=function(content,url){var _a=(new XliffParser).parse(content,url),locale=_a.locale,msgIdToHtml=_a.msgIdToHtml,errors=_a.errors,i18nNodesByMsgId={},converter=new XmlToI18n;if(Object.keys(msgIdToHtml).forEach(function(msgId){var _a=converter.convert(msgIdToHtml[msgId],url),i18nNodes=_a.i18nNodes,e=_a.errors;errors.push.apply(errors,(0,_tslib.__spread)(e)),i18nNodesByMsgId[msgId]=i18nNodes}),errors.length)throw new Error("xliff parse errors:\n"+errors.join("\n"));return{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}},Xliff.prototype.digest=function(message){return digest(message)},Xliff}(Serializer);exports.Xliff=Xliff;var _WriteVisitor=function(){function _WriteVisitor(){}return _WriteVisitor.prototype.visitText=function(text,context){return[new Text$2(text.value)]},_WriteVisitor.prototype.visitContainer=function(container,context){var _this=this,nodes=[];return container.children.forEach(function(node){return nodes.push.apply(nodes,(0,_tslib.__spread)(node.visit(_this)))}),nodes},_WriteVisitor.prototype.visitIcu=function(icu,context){var _this=this,nodes=[new Text$2("{"+icu.expressionPlaceholder+", "+icu.type+", ")];return Object.keys(icu.cases).forEach(function(c){nodes.push.apply(nodes,(0,_tslib.__spread)([new Text$2(c+" {")],icu.cases[c].visit(_this),[new Text$2("} ")]))}),nodes.push(new Text$2("}")),nodes},_WriteVisitor.prototype.visitTagPlaceholder=function(ph,context){var ctype=function(tag){switch(tag.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+tag}}(ph.tag);if(ph.isVoid)return[new Tag("x",{id:ph.startName,ctype:ctype,"equiv-text":"<"+ph.tag+"/>"})];var startTagPh=new Tag("x",{id:ph.startName,ctype:ctype,"equiv-text":"<"+ph.tag+">"}),closeTagPh=new Tag("x",{id:ph.closeName,ctype:ctype,"equiv-text":"</"+ph.tag+">"});return(0,_tslib.__spread)([startTagPh],this.serialize(ph.children),[closeTagPh])},_WriteVisitor.prototype.visitPlaceholder=function(ph,context){return[new Tag("x",{id:ph.name,"equiv-text":"{{"+ph.value+"}}"})]},_WriteVisitor.prototype.visitIcuPlaceholder=function(ph,context){var equivText="{"+ph.value.expression+", "+ph.value.type+", "+Object.keys(ph.value.cases).map(function(value){return value+" {...}"}).join(" ")+"}";return[new Tag("x",{id:ph.name,"equiv-text":equivText})]},_WriteVisitor.prototype.serialize=function(nodes){var _this=this;return[].concat.apply([],(0,_tslib.__spread)(nodes.map(function(node){return node.visit(_this)})))},_WriteVisitor}(),XliffParser=function(){function XliffParser(){this._locale=null}return XliffParser.prototype.parse=function(xliff,url){this._unitMlString=null,this._msgIdToHtml={};var xml=(new XmlParser).parse(xliff,url);return this._errors=xml.errors,visitAll$1(this,xml.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},XliffParser.prototype.visitElement=function(element,context){switch(element.name){case"trans-unit":this._unitMlString=null;var idAttr=element.attrs.find(function(attr){return"id"===attr.name});if(idAttr){var id=idAttr.value;this._msgIdToHtml.hasOwnProperty(id)?this._addError(element,"Duplicated translations for msg "+id):(visitAll$1(this,element.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[id]=this._unitMlString:this._addError(element,"Message "+id+" misses a translation"))}else this._addError(element,'<trans-unit> misses the "id" attribute');break;case"source":case"seg-source":case"alt-trans":break;case"target":var innerTextStart=element.startSourceSpan.end.offset,innerTextEnd=element.endSourceSpan.start.offset,innerText=element.startSourceSpan.start.file.content.slice(innerTextStart,innerTextEnd);this._unitMlString=innerText;break;case"file":var localeAttr=element.attrs.find(function(attr){return"target-language"===attr.name});localeAttr&&(this._locale=localeAttr.value),visitAll$1(this,element.children,null);break;default:visitAll$1(this,element.children,null)}},XliffParser.prototype.visitAttribute=function(attribute,context){},XliffParser.prototype.visitText=function(text,context){},XliffParser.prototype.visitComment=function(comment,context){},XliffParser.prototype.visitExpansion=function(expansion,context){},XliffParser.prototype.visitExpansionCase=function(expansionCase,context){},XliffParser.prototype._addError=function(node,message){this._errors.push(new I18nError(node.sourceSpan,message))},XliffParser}(),XmlToI18n=function(){function XmlToI18n(){}return XmlToI18n.prototype.convert=function(message,url){var xmlIcu=(new XmlParser).parse(message,url,{tokenizeExpansionForms:!0});return this._errors=xmlIcu.errors,{i18nNodes:this._errors.length>0||0==xmlIcu.rootNodes.length?[]:[].concat.apply([],(0,_tslib.__spread)(visitAll$1(this,xmlIcu.rootNodes))),errors:this._errors}},XmlToI18n.prototype.visitText=function(text,context){return new Text$1(text.value,text.sourceSpan)},XmlToI18n.prototype.visitElement=function(el,context){if("x"===el.name){var nameAttr=el.attrs.find(function(attr){return"id"===attr.name});return nameAttr?new Placeholder("",nameAttr.value,el.sourceSpan):(this._addError(el,'<x> misses the "id" attribute'),null)}return"mrk"===el.name?[].concat.apply([],(0,_tslib.__spread)(visitAll$1(this,el.children))):(this._addError(el,"Unexpected tag"),null)},XmlToI18n.prototype.visitExpansion=function(icu,context){var caseMap={};return visitAll$1(this,icu.cases).forEach(function(c){caseMap[c.value]=new Container(c.nodes,icu.sourceSpan)}),new Icu$1(icu.switchValue,icu.type,caseMap,icu.sourceSpan)},XmlToI18n.prototype.visitExpansionCase=function(icuCase,context){return{value:icuCase.value,nodes:visitAll$1(this,icuCase.expression)}},XmlToI18n.prototype.visitComment=function(comment,context){},XmlToI18n.prototype.visitAttribute=function(attribute,context){},XmlToI18n.prototype._addError=function(node,message){this._errors.push(new I18nError(node.sourceSpan,message))},XmlToI18n}();var Xliff2=function(_super){function Xliff2(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(Xliff2,_super),Xliff2.prototype.write=function(messages,locale){var visitor=new _WriteVisitor$1,units=[];messages.forEach(function(message){var unit=new Tag("unit",{id:message.id}),notes=new Tag("notes");(message.description||message.meaning)&&(message.description&&notes.children.push(new CR(8),new Tag("note",{category:"description"},[new Text$2(message.description)])),message.meaning&&notes.children.push(new CR(8),new Tag("note",{category:"meaning"},[new Text$2(message.meaning)]))),message.sources.forEach(function(source){notes.children.push(new CR(8),new Tag("note",{category:"location"},[new Text$2(source.filePath+":"+source.startLine+(source.endLine!==source.startLine?","+source.endLine:""))]))}),notes.children.push(new CR(6)),unit.children.push(new CR(6),notes);var segment=new Tag("segment");segment.children.push(new CR(8),new Tag("source",{},visitor.serialize(message.nodes)),new CR(6)),unit.children.push(new CR(6),segment,new CR(4)),units.push(new CR(4),unit)});var file=new Tag("file",{original:"ng.template",id:"ngi18n"},(0,_tslib.__spread)(units,[new CR(2)])),xliff=new Tag("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:locale||"en"},[new CR(2),file,new CR]);return serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,xliff,new CR])},Xliff2.prototype.load=function(content,url){var _a=(new Xliff2Parser).parse(content,url),locale=_a.locale,msgIdToHtml=_a.msgIdToHtml,errors=_a.errors,i18nNodesByMsgId={},converter=new XmlToI18n$1;if(Object.keys(msgIdToHtml).forEach(function(msgId){var _a=converter.convert(msgIdToHtml[msgId],url),i18nNodes=_a.i18nNodes,e=_a.errors;errors.push.apply(errors,(0,_tslib.__spread)(e)),i18nNodesByMsgId[msgId]=i18nNodes}),errors.length)throw new Error("xliff2 parse errors:\n"+errors.join("\n"));return{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}},Xliff2.prototype.digest=function(message){return decimalDigest(message)},Xliff2}(Serializer);exports.Xliff2=Xliff2;var _WriteVisitor$1=function(){function _WriteVisitor(){}return _WriteVisitor.prototype.visitText=function(text,context){return[new Text$2(text.value)]},_WriteVisitor.prototype.visitContainer=function(container,context){var _this=this,nodes=[];return container.children.forEach(function(node){return nodes.push.apply(nodes,(0,_tslib.__spread)(node.visit(_this)))}),nodes},_WriteVisitor.prototype.visitIcu=function(icu,context){var _this=this,nodes=[new Text$2("{"+icu.expressionPlaceholder+", "+icu.type+", ")];return Object.keys(icu.cases).forEach(function(c){nodes.push.apply(nodes,(0,_tslib.__spread)([new Text$2(c+" {")],icu.cases[c].visit(_this),[new Text$2("} ")]))}),nodes.push(new Text$2("}")),nodes},_WriteVisitor.prototype.visitTagPlaceholder=function(ph,context){var _this=this,type=function(tag){switch(tag.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(ph.tag);if(ph.isVoid)return[new Tag("ph",{id:(this._nextPlaceholderId++).toString(),equiv:ph.startName,type:type,disp:"<"+ph.tag+"/>"})];var tagPc=new Tag("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:ph.startName,equivEnd:ph.closeName,type:type,dispStart:"<"+ph.tag+">",dispEnd:"</"+ph.tag+">"}),nodes=[].concat.apply([],(0,_tslib.__spread)(ph.children.map(function(node){return node.visit(_this)})));return nodes.length?nodes.forEach(function(node){return tagPc.children.push(node)}):tagPc.children.push(new Text$2("")),[tagPc]},_WriteVisitor.prototype.visitPlaceholder=function(ph,context){var idStr=(this._nextPlaceholderId++).toString();return[new Tag("ph",{id:idStr,equiv:ph.name,disp:"{{"+ph.value+"}}"})]},_WriteVisitor.prototype.visitIcuPlaceholder=function(ph,context){var cases=Object.keys(ph.value.cases).map(function(value){return value+" {...}"}).join(" "),idStr=(this._nextPlaceholderId++).toString();return[new Tag("ph",{id:idStr,equiv:ph.name,disp:"{"+ph.value.expression+", "+ph.value.type+", "+cases+"}"})]},_WriteVisitor.prototype.serialize=function(nodes){var _this=this;return this._nextPlaceholderId=0,[].concat.apply([],(0,_tslib.__spread)(nodes.map(function(node){return node.visit(_this)})))},_WriteVisitor}(),Xliff2Parser=function(){function Xliff2Parser(){this._locale=null}return Xliff2Parser.prototype.parse=function(xliff,url){this._unitMlString=null,this._msgIdToHtml={};var xml=(new XmlParser).parse(xliff,url);return this._errors=xml.errors,visitAll$1(this,xml.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},Xliff2Parser.prototype.visitElement=function(element,context){switch(element.name){case"unit":this._unitMlString=null;var idAttr=element.attrs.find(function(attr){return"id"===attr.name});if(idAttr){var id=idAttr.value;this._msgIdToHtml.hasOwnProperty(id)?this._addError(element,"Duplicated translations for msg "+id):(visitAll$1(this,element.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[id]=this._unitMlString:this._addError(element,"Message "+id+" misses a translation"))}else this._addError(element,'<unit> misses the "id" attribute');break;case"source":break;case"target":var innerTextStart=element.startSourceSpan.end.offset,innerTextEnd=element.endSourceSpan.start.offset,innerText=element.startSourceSpan.start.file.content.slice(innerTextStart,innerTextEnd);this._unitMlString=innerText;break;case"xliff":var localeAttr=element.attrs.find(function(attr){return"trgLang"===attr.name});localeAttr&&(this._locale=localeAttr.value);var versionAttr=element.attrs.find(function(attr){return"version"===attr.name});if(versionAttr){var version=versionAttr.value;"2.0"!==version?this._addError(element,"The XLIFF file version "+version+" is not compatible with XLIFF 2.0 serializer"):visitAll$1(this,element.children,null)}break;default:visitAll$1(this,element.children,null)}},Xliff2Parser.prototype.visitAttribute=function(attribute,context){},Xliff2Parser.prototype.visitText=function(text,context){},Xliff2Parser.prototype.visitComment=function(comment,context){},Xliff2Parser.prototype.visitExpansion=function(expansion,context){},Xliff2Parser.prototype.visitExpansionCase=function(expansionCase,context){},Xliff2Parser.prototype._addError=function(node,message){this._errors.push(new I18nError(node.sourceSpan,message))},Xliff2Parser}(),XmlToI18n$1=function(){function XmlToI18n(){}return XmlToI18n.prototype.convert=function(message,url){var xmlIcu=(new XmlParser).parse(message,url,{tokenizeExpansionForms:!0});return this._errors=xmlIcu.errors,{i18nNodes:this._errors.length>0||0==xmlIcu.rootNodes.length?[]:[].concat.apply([],(0,_tslib.__spread)(visitAll$1(this,xmlIcu.rootNodes))),errors:this._errors}},XmlToI18n.prototype.visitText=function(text,context){return new Text$1(text.value,text.sourceSpan)},XmlToI18n.prototype.visitElement=function(el,context){var _this=this;switch(el.name){case"ph":var nameAttr=el.attrs.find(function(attr){return"equiv"===attr.name});if(nameAttr)return[new Placeholder("",nameAttr.value,el.sourceSpan)];this._addError(el,'<ph> misses the "equiv" attribute');break;case"pc":var startAttr=el.attrs.find(function(attr){return"equivStart"===attr.name}),endAttr=el.attrs.find(function(attr){return"equivEnd"===attr.name});if(startAttr){if(endAttr){var startId=startAttr.value,endId=endAttr.value,nodes=[];return nodes.concat.apply(nodes,(0,_tslib.__spread)([new Placeholder("",startId,el.sourceSpan)],el.children.map(function(node){return node.visit(_this,null)}),[new Placeholder("",endId,el.sourceSpan)]))}this._addError(el,'<ph> misses the "equivEnd" attribute')}else this._addError(el,'<ph> misses the "equivStart" attribute');break;case"mrk":return[].concat.apply([],(0,_tslib.__spread)(visitAll$1(this,el.children)));default:this._addError(el,"Unexpected tag")}return null},XmlToI18n.prototype.visitExpansion=function(icu,context){var caseMap={};return visitAll$1(this,icu.cases).forEach(function(c){caseMap[c.value]=new Container(c.nodes,icu.sourceSpan)}),new Icu$1(icu.switchValue,icu.type,caseMap,icu.sourceSpan)},XmlToI18n.prototype.visitExpansionCase=function(icuCase,context){return{value:icuCase.value,nodes:[].concat.apply([],(0,_tslib.__spread)(visitAll$1(this,icuCase.expression)))}},XmlToI18n.prototype.visitComment=function(comment,context){},XmlToI18n.prototype.visitAttribute=function(attribute,context){},XmlToI18n.prototype._addError=function(node,message){this._errors.push(new I18nError(node.sourceSpan,message))},XmlToI18n}();var Xtb=function(_super){function Xtb(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(Xtb,_super),Xtb.prototype.write=function(messages,locale){throw new Error("Unsupported")},Xtb.prototype.load=function(content,url){var _a=(new XtbParser).parse(content,url),locale=_a.locale,msgIdToHtml=_a.msgIdToHtml,errors=_a.errors,i18nNodesByMsgId={},converter=new XmlToI18n$2;if(Object.keys(msgIdToHtml).forEach(function(msgId){!function(messages,id,valueFn){Object.defineProperty(messages,id,{configurable:!0,enumerable:!0,get:function(){var value=valueFn();return Object.defineProperty(messages,id,{enumerable:!0,value:value}),value},set:function(_){throw new Error("Could not overwrite an XTB translation")}})}(i18nNodesByMsgId,msgId,function(){var _a=converter.convert(msgIdToHtml[msgId],url),i18nNodes=_a.i18nNodes,errors=_a.errors;if(errors.length)throw new Error("xtb parse errors:\n"+errors.join("\n"));return i18nNodes})}),errors.length)throw new Error("xtb parse errors:\n"+errors.join("\n"));return{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}},Xtb.prototype.digest=function(message){return digest$1(message)},Xtb.prototype.createNameMapper=function(message){return new SimplePlaceholderMapper(message,toPublicName)},Xtb}(Serializer);exports.Xtb=Xtb;var XtbParser=function(){function XtbParser(){this._locale=null}return XtbParser.prototype.parse=function(xtb,url){this._bundleDepth=0,this._msgIdToHtml={};var xml=(new XmlParser).parse(xtb,url);return this._errors=xml.errors,visitAll$1(this,xml.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},XtbParser.prototype.visitElement=function(element,context){switch(element.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(element,"<translationbundle> elements can not be nested");var langAttr=element.attrs.find(function(attr){return"lang"===attr.name});langAttr&&(this._locale=langAttr.value),visitAll$1(this,element.children,null),this._bundleDepth--;break;case"translation":var idAttr=element.attrs.find(function(attr){return"id"===attr.name});if(idAttr){var id=idAttr.value;if(this._msgIdToHtml.hasOwnProperty(id))this._addError(element,"Duplicated translations for msg "+id);else{var innerTextStart=element.startSourceSpan.end.offset,innerTextEnd=element.endSourceSpan.start.offset,innerText=element.startSourceSpan.start.file.content.slice(innerTextStart,innerTextEnd);this._msgIdToHtml[id]=innerText}}else this._addError(element,'<translation> misses the "id" attribute');break;default:this._addError(element,"Unexpected tag")}},XtbParser.prototype.visitAttribute=function(attribute,context){},XtbParser.prototype.visitText=function(text,context){},XtbParser.prototype.visitComment=function(comment,context){},XtbParser.prototype.visitExpansion=function(expansion,context){},XtbParser.prototype.visitExpansionCase=function(expansionCase,context){},XtbParser.prototype._addError=function(node,message){this._errors.push(new I18nError(node.sourceSpan,message))},XtbParser}(),XmlToI18n$2=function(){function XmlToI18n(){}return XmlToI18n.prototype.convert=function(message,url){var xmlIcu=(new XmlParser).parse(message,url,{tokenizeExpansionForms:!0});return this._errors=xmlIcu.errors,{i18nNodes:this._errors.length>0||0==xmlIcu.rootNodes.length?[]:visitAll$1(this,xmlIcu.rootNodes),errors:this._errors}},XmlToI18n.prototype.visitText=function(text,context){return new Text$1(text.value,text.sourceSpan)},XmlToI18n.prototype.visitExpansion=function(icu,context){var caseMap={};return visitAll$1(this,icu.cases).forEach(function(c){caseMap[c.value]=new Container(c.nodes,icu.sourceSpan)}),new Icu$1(icu.switchValue,icu.type,caseMap,icu.sourceSpan)},XmlToI18n.prototype.visitExpansionCase=function(icuCase,context){return{value:icuCase.value,nodes:visitAll$1(this,icuCase.expression)}},XmlToI18n.prototype.visitElement=function(el,context){if("ph"===el.name){var nameAttr=el.attrs.find(function(attr){return"name"===attr.name});if(nameAttr)return new Placeholder("",nameAttr.value,el.sourceSpan);this._addError(el,'<ph> misses the "name" attribute')}else this._addError(el,"Unexpected tag");return null},XmlToI18n.prototype.visitComment=function(comment,context){},XmlToI18n.prototype.visitAttribute=function(attribute,context){},XmlToI18n.prototype._addError=function(node,message){this._errors.push(new I18nError(node.sourceSpan,message))},XmlToI18n}(),TranslationBundle=function(){function TranslationBundle(_i18nNodesByMsgId,locale,digest,mapperFactory,missingTranslationStrategy,console){void 0===_i18nNodesByMsgId&&(_i18nNodesByMsgId={}),void 0===missingTranslationStrategy&&(missingTranslationStrategy=MissingTranslationStrategy.Warning),this._i18nNodesByMsgId=_i18nNodesByMsgId,this.digest=digest,this.mapperFactory=mapperFactory,this._i18nToHtml=new I18nToHtmlVisitor(_i18nNodesByMsgId,locale,digest,mapperFactory,missingTranslationStrategy,console)}return TranslationBundle.load=function(content,url,serializer,missingTranslationStrategy,console){var _a=serializer.load(content,url),locale=_a.locale;return new TranslationBundle(_a.i18nNodesByMsgId,locale,function(m){return serializer.digest(m)},function(m){return serializer.createNameMapper(m)},missingTranslationStrategy,console)},TranslationBundle.prototype.get=function(srcMsg){var html=this._i18nToHtml.convert(srcMsg);if(html.errors.length)throw new Error(html.errors.join("\n"));return html.nodes},TranslationBundle.prototype.has=function(srcMsg){return this.digest(srcMsg)in this._i18nNodesByMsgId},TranslationBundle}(),I18nToHtmlVisitor=function(){function I18nToHtmlVisitor(_i18nNodesByMsgId,_locale,_digest,_mapperFactory,_missingTranslationStrategy,_console){void 0===_i18nNodesByMsgId&&(_i18nNodesByMsgId={}),this._i18nNodesByMsgId=_i18nNodesByMsgId,this._locale=_locale,this._digest=_digest,this._mapperFactory=_mapperFactory,this._missingTranslationStrategy=_missingTranslationStrategy,this._console=_console,this._contextStack=[],this._errors=[]}return I18nToHtmlVisitor.prototype.convert=function(srcMsg){this._contextStack.length=0,this._errors.length=0;var text=this._convertToText(srcMsg),url=srcMsg.nodes[0].sourceSpan.start.file.url,html=(new HtmlParser).parse(text,url,{tokenizeExpansionForms:!0});return{nodes:html.rootNodes,errors:(0,_tslib.__spread)(this._errors,html.errors)}},I18nToHtmlVisitor.prototype.visitText=function(text,context){return escapeXml(text.value)},I18nToHtmlVisitor.prototype.visitContainer=function(container,context){var _this=this;return container.children.map(function(n){return n.visit(_this)}).join("")},I18nToHtmlVisitor.prototype.visitIcu=function(icu,context){var _this=this,cases=Object.keys(icu.cases).map(function(k){return k+" {"+icu.cases[k].visit(_this)+"}"});return"{"+(this._srcMsg.placeholders.hasOwnProperty(icu.expression)?this._srcMsg.placeholders[icu.expression]:icu.expression)+", "+icu.type+", "+cases.join(" ")+"}"},I18nToHtmlVisitor.prototype.visitPlaceholder=function(ph,context){var phName=this._mapper(ph.name);return this._srcMsg.placeholders.hasOwnProperty(phName)?this._srcMsg.placeholders[phName]:this._srcMsg.placeholderToMessage.hasOwnProperty(phName)?this._convertToText(this._srcMsg.placeholderToMessage[phName]):(this._addError(ph,'Unknown placeholder "'+ph.name+'"'),"")},I18nToHtmlVisitor.prototype.visitTagPlaceholder=function(ph,context){var _this=this,tag=""+ph.tag,attrs=Object.keys(ph.attrs).map(function(name){return name+'="'+ph.attrs[name]+'"'}).join(" ");return ph.isVoid?"<"+tag+" "+attrs+"/>":"<"+tag+" "+attrs+">"+ph.children.map(function(c){return c.visit(_this)}).join("")+"</"+tag+">"},I18nToHtmlVisitor.prototype.visitIcuPlaceholder=function(ph,context){return this._convertToText(this._srcMsg.placeholderToMessage[ph.name])},I18nToHtmlVisitor.prototype._convertToText=function(srcMsg){var nodes,_this=this,id=this._digest(srcMsg),mapper=this._mapperFactory?this._mapperFactory(srcMsg):null;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=srcMsg,this._i18nNodesByMsgId.hasOwnProperty(id))nodes=this._i18nNodesByMsgId[id],this._mapper=function(name){return mapper?mapper.toInternalName(name):name};else{if(this._missingTranslationStrategy===MissingTranslationStrategy.Error){var ctx=this._locale?' for locale "'+this._locale+'"':"";this._addError(srcMsg.nodes[0],'Missing translation for message "'+id+'"'+ctx)}else if(this._console&&this._missingTranslationStrategy===MissingTranslationStrategy.Warning){ctx=this._locale?' for locale "'+this._locale+'"':"";this._console.warn('Missing translation for message "'+id+'"'+ctx)}nodes=srcMsg.nodes,this._mapper=function(name){return name}}var text=nodes.map(function(node){return node.visit(_this)}).join(""),context=this._contextStack.pop();return this._srcMsg=context.msg,this._mapper=context.mapper,text},I18nToHtmlVisitor.prototype._addError=function(el,msg){this._errors.push(new I18nError(el.sourceSpan,msg))},I18nToHtmlVisitor}(),I18NHtmlParser=function(){function I18NHtmlParser(_htmlParser,translations,translationsFormat,missingTranslation,console){if(void 0===missingTranslation&&(missingTranslation=MissingTranslationStrategy.Warning),this._htmlParser=_htmlParser,translations){var serializer=function(format){switch(format=(format||"xlf").toLowerCase()){case"xmb":return new Xmb;case"xtb":return new Xtb;case"xliff2":case"xlf2":return new Xliff2;case"xliff":case"xlf":default:return new Xliff}}(translationsFormat);this._translationBundle=TranslationBundle.load(translations,"i18n",serializer,missingTranslation,console)}else this._translationBundle=new TranslationBundle({},null,digest,void 0,missingTranslation,console)}return I18NHtmlParser.prototype.parse=function(source,url,options){void 0===options&&(options={});var interpolationConfig=options.interpolationConfig||DEFAULT_INTERPOLATION_CONFIG,parseResult=this._htmlParser.parse(source,url,(0,_tslib.__assign)({interpolationConfig:interpolationConfig},options));return parseResult.errors.length?new ParseTreeResult(parseResult.rootNodes,parseResult.errors):function(nodes,translations,interpolationConfig,implicitTags,implicitAttrs){return new _Visitor$2(implicitTags,implicitAttrs).merge(nodes,translations,interpolationConfig)}(parseResult.rootNodes,this._translationBundle,interpolationConfig,[],{})},I18NHtmlParser}();exports.I18NHtmlParser=I18NHtmlParser;function convertValueToOutputAst(ctx,value,type){return void 0===type&&(type=null),visitValue(value,new _ValueOutputAstTransformer(ctx),type)}var _ValueOutputAstTransformer=function(){function _ValueOutputAstTransformer(ctx){this.ctx=ctx}return _ValueOutputAstTransformer.prototype.visitArray=function(arr,type){var _this=this;return literalArr(arr.map(function(value){return visitValue(value,_this,null)}),type)},_ValueOutputAstTransformer.prototype.visitStringMap=function(map,type){var _this=this,entries=[],quotedSet=new Set(map&&map.$quoted$);return Object.keys(map).forEach(function(key){entries.push(new LiteralMapEntry(key,visitValue(map[key],_this,null),quotedSet.has(key)))}),new LiteralMapExpr(entries,type)},_ValueOutputAstTransformer.prototype.visitPrimitive=function(value,type){return literal(value,type)},_ValueOutputAstTransformer.prototype.visitOther=function(value,type){return value instanceof Expression?value:this.ctx.importExpr(value)},_ValueOutputAstTransformer}();function mapEntry$1(key,value){return{key:key,value:value,quoted:!1}}var InjectableCompiler=function(){function InjectableCompiler(reflector,alwaysGenerateDef){this.reflector=reflector,this.alwaysGenerateDef=alwaysGenerateDef,this.tokenInjector=reflector.resolveExternalReference(Identifiers.Injector)}return InjectableCompiler.prototype.depsArray=function(deps,ctx){var _this=this;return deps.map(function(dep){var tokenExpr,token=dep,args=[token],flags=0;if(Array.isArray(dep))for(var i=0;i<dep.length;i++){var v=dep[i];v&&("Optional"===v.ngMetadataName?flags|=8:"SkipSelf"===v.ngMetadataName?flags|=4:"Self"===v.ngMetadataName?flags|=2:token="Inject"===v.ngMetadataName?v.token:v)}return tokenExpr="string"==typeof token?literal(token):token===_this.tokenInjector?importExpr(Identifiers.INJECTOR):ctx.importExpr(token),args=0!==flags?[tokenExpr,literal(flags)]:[tokenExpr],importExpr(Identifiers.inject).callFn(args)})},InjectableCompiler.prototype.factoryFor=function(injectable,ctx){var retValue;if(injectable.useExisting)retValue=importExpr(Identifiers.inject).callFn([ctx.importExpr(injectable.useExisting)]);else if(injectable.useFactory){var deps=injectable.deps||[];if(!(deps.length>0))return ctx.importExpr(injectable.useFactory);retValue=ctx.importExpr(injectable.useFactory).callFn(this.depsArray(deps,ctx))}else if(injectable.useValue)retValue=convertValueToOutputAst(ctx,injectable.useValue);else{var clazz=injectable.useClass||injectable.symbol,depArgs=this.depsArray(this.reflector.parameters(clazz),ctx);retValue=new InstantiateExpr(ctx.importExpr(clazz),depArgs)}return fn([],[new ReturnStatement(retValue)],void 0,void 0,injectable.symbol.name+"_Factory")},InjectableCompiler.prototype.injectableDef=function(injectable,ctx){var providedIn=NULL_EXPR;void 0!==injectable.providedIn&&(providedIn=null===injectable.providedIn?NULL_EXPR:"string"==typeof injectable.providedIn?literal(injectable.providedIn):ctx.importExpr(injectable.providedIn));var def=[mapEntry$1("factory",this.factoryFor(injectable,ctx)),mapEntry$1("token",ctx.importExpr(injectable.type.reference)),mapEntry$1("providedIn",providedIn)];return importExpr(Identifiers.defineInjectable).callFn([literalMap(def)])},InjectableCompiler.prototype.compile=function(injectable,ctx){if(this.alwaysGenerateDef||void 0!==injectable.providedIn){var className=identifierName(injectable.type),clazz=new ClassStmt(className,null,[new ClassField("ngInjectableDef",INFERRED_TYPE,[StmtModifier.Static],this.injectableDef(injectable,ctx))],[],new ClassMethod(null,[],[]),[]);ctx.statements.push(clazz)}},InjectableCompiler}(),STRIP_SRC_FILE_SUFFIXES=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,GENERATED_FILE=/\.ngfactory\.|\.ngsummary\./,JIT_SUMMARY_FILE=/\.ngsummary\./,JIT_SUMMARY_NAME=/NgSummary$/;function ngfactoryFilePath(filePath,forceSourceFile){void 0===forceSourceFile&&(forceSourceFile=!1);var urlWithSuffix=splitTypescriptSuffix(filePath,forceSourceFile);return urlWithSuffix[0]+".ngfactory"+normalizeGenFileSuffix(urlWithSuffix[1])}function stripGeneratedFileSuffix(filePath){return filePath.replace(GENERATED_FILE,".")}function splitTypescriptSuffix(path,forceSourceFile){if(void 0===forceSourceFile&&(forceSourceFile=!1),path.endsWith(".d.ts"))return[path.slice(0,-5),forceSourceFile?".ts":".d.ts"];var lastDot=path.lastIndexOf(".");return-1!==lastDot?[path.substring(0,lastDot),path.substring(lastDot)]:[path,""]}function normalizeGenFileSuffix(srcFileSuffix){return".tsx"===srcFileSuffix?".ts":srcFileSuffix}function summaryFileName(fileName){return fileName.replace(STRIP_SRC_FILE_SUFFIXES,"")+".ngsummary.json"}function summaryForJitFileName(fileName,forceSourceFile){void 0===forceSourceFile&&(forceSourceFile=!1);var urlWithSuffix=splitTypescriptSuffix(stripGeneratedFileSuffix(fileName),forceSourceFile);return urlWithSuffix[0]+".ngsummary"+urlWithSuffix[1]}function summaryForJitName(symbolName){return symbolName+"NgSummary"}var LifecycleHooks,LOWERED_SYMBOL=/\u0275\d+/;function isLoweredSymbol(name){return LOWERED_SYMBOL.test(name)}!function(LifecycleHooks){LifecycleHooks[LifecycleHooks.OnInit=0]="OnInit",LifecycleHooks[LifecycleHooks.OnDestroy=1]="OnDestroy",LifecycleHooks[LifecycleHooks.DoCheck=2]="DoCheck",LifecycleHooks[LifecycleHooks.OnChanges=3]="OnChanges",LifecycleHooks[LifecycleHooks.AfterContentInit=4]="AfterContentInit",LifecycleHooks[LifecycleHooks.AfterContentChecked=5]="AfterContentChecked",LifecycleHooks[LifecycleHooks.AfterViewInit=6]="AfterViewInit",LifecycleHooks[LifecycleHooks.AfterViewChecked=7]="AfterViewChecked"}(LifecycleHooks||(LifecycleHooks={}));var LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked];function hasLifecycleHook(reflector,hook,token){return reflector.hasLifecycleHook(token,function(hook){switch(hook){case LifecycleHooks.OnInit:return"ngOnInit";case LifecycleHooks.OnDestroy:return"ngOnDestroy";case LifecycleHooks.DoCheck:return"ngDoCheck";case LifecycleHooks.OnChanges:return"ngOnChanges";case LifecycleHooks.AfterContentInit:return"ngAfterContentInit";case LifecycleHooks.AfterContentChecked:return"ngAfterContentChecked";case LifecycleHooks.AfterViewInit:return"ngAfterViewInit";case LifecycleHooks.AfterViewChecked:return"ngAfterViewChecked";default:var unexpected=hook;throw new Error("unexpected "+unexpected)}}(hook))}var ERROR_COMPONENT_TYPE="ngComponentType";exports.ERROR_COMPONENT_TYPE=ERROR_COMPONENT_TYPE;var CompileMetadataResolver=function(){function CompileMetadataResolver(_config,_htmlParser,_ngModuleResolver,_directiveResolver,_pipeResolver,_summaryResolver,_schemaRegistry,_directiveNormalizer,_console,_staticSymbolCache,_reflector,_errorCollector){this._config=_config,this._htmlParser=_htmlParser,this._ngModuleResolver=_ngModuleResolver,this._directiveResolver=_directiveResolver,this._pipeResolver=_pipeResolver,this._summaryResolver=_summaryResolver,this._schemaRegistry=_schemaRegistry,this._directiveNormalizer=_directiveNormalizer,this._console=_console,this._staticSymbolCache=_staticSymbolCache,this._reflector=_reflector,this._errorCollector=_errorCollector,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}return CompileMetadataResolver.prototype.getReflector=function(){return this._reflector},CompileMetadataResolver.prototype.clearCacheFor=function(type){var dirMeta=this._directiveCache.get(type);this._directiveCache.delete(type),this._nonNormalizedDirectiveCache.delete(type),this._summaryCache.delete(type),this._pipeCache.delete(type),this._ngModuleOfTypes.delete(type),this._ngModuleCache.clear(),dirMeta&&this._directiveNormalizer.clearCacheFor(dirMeta)},CompileMetadataResolver.prototype.clearCache=function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},CompileMetadataResolver.prototype._createProxyClass=function(baseType,name){var delegate=null,proxyClass=function(){if(!delegate)throw new Error("Illegal state: Class "+name+" for type "+stringify(baseType)+" is not compiled yet!");return delegate.apply(this,arguments)};return proxyClass.setDelegate=function(d){delegate=d,proxyClass.prototype=d.prototype},proxyClass.overriddenName=name,proxyClass},CompileMetadataResolver.prototype.getGeneratedClass=function(dirType,name){return dirType instanceof StaticSymbol?this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath),name):this._createProxyClass(dirType,name)},CompileMetadataResolver.prototype.getComponentViewClass=function(dirType){return this.getGeneratedClass(dirType,viewClassName(dirType,0))},CompileMetadataResolver.prototype.getHostComponentViewClass=function(dirType){return this.getGeneratedClass(dirType,hostViewClassName(dirType))},CompileMetadataResolver.prototype.getHostComponentType=function(dirType){var name=identifierName({reference:dirType})+"_Host";return dirType instanceof StaticSymbol?this._staticSymbolCache.get(dirType.filePath,name):this._createProxyClass(dirType,name)},CompileMetadataResolver.prototype.getRendererType=function(dirType){return dirType instanceof StaticSymbol?this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath),rendererTypeName(dirType)):{}},CompileMetadataResolver.prototype.getComponentFactory=function(selector,dirType,inputs,outputs){if(dirType instanceof StaticSymbol)return this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath),componentFactoryName(dirType));var hostView=this.getHostComponentViewClass(dirType);return this._reflector.resolveExternalReference(Identifiers.createComponentFactory)(selector,dirType,hostView,inputs,outputs,[])},CompileMetadataResolver.prototype.initComponentFactory=function(factory,ngContentSelectors){var _a;factory instanceof StaticSymbol||(_a=factory.ngContentSelectors).push.apply(_a,(0,_tslib.__spread)(ngContentSelectors))},CompileMetadataResolver.prototype._loadSummary=function(type,kind){var typeSummary=this._summaryCache.get(type);if(!typeSummary){var summary=this._summaryResolver.resolveSummary(type);typeSummary=summary?summary.type:null,this._summaryCache.set(type,typeSummary||null)}return typeSummary&&typeSummary.summaryKind===kind?typeSummary:null},CompileMetadataResolver.prototype.getHostComponentMetadata=function(compMeta,hostViewType){var hostType=this.getHostComponentType(compMeta.type.reference);hostViewType||(hostViewType=this.getHostComponentViewClass(hostType));var template=CssSelector.parse(compMeta.selector)[0].getMatchingElementTemplate(),htmlAst=this._htmlParser.parse(template,"");return CompileDirectiveMetadata.create({isHost:!0,type:{reference:hostType,diDeps:[],lifecycleHooks:[]},template:new CompileTemplateMetadata({encapsulation:ViewEncapsulation.None,template:template,templateUrl:"",htmlAst:htmlAst,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:hostViewType,rendererType:{id:"__Host__",encapsulation:ViewEncapsulation.None,styles:[],data:{}},entryComponents:[],componentFactory:null})},CompileMetadataResolver.prototype.loadDirectiveMetadata=function(ngModuleType,directiveType,isSync){var _this=this;if(this._directiveCache.has(directiveType))return null;directiveType=resolveForwardRef(directiveType);var compType,error,_a=this.getNonNormalizedDirectiveMetadata(directiveType),annotation=_a.annotation,metadata=_a.metadata,createDirectiveMetadata=function(templateMetadata){var normalizedDirMeta=new CompileDirectiveMetadata({isHost:!1,type:metadata.type,isComponent:metadata.isComponent,selector:metadata.selector,exportAs:metadata.exportAs,changeDetection:metadata.changeDetection,inputs:metadata.inputs,outputs:metadata.outputs,hostListeners:metadata.hostListeners,hostProperties:metadata.hostProperties,hostAttributes:metadata.hostAttributes,providers:metadata.providers,viewProviders:metadata.viewProviders,queries:metadata.queries,guards:metadata.guards,viewQueries:metadata.viewQueries,entryComponents:metadata.entryComponents,componentViewType:metadata.componentViewType,rendererType:metadata.rendererType,componentFactory:metadata.componentFactory,template:templateMetadata});return templateMetadata&&_this.initComponentFactory(metadata.componentFactory,templateMetadata.ngContentSelectors),_this._directiveCache.set(directiveType,normalizedDirMeta),_this._summaryCache.set(directiveType,normalizedDirMeta.toSummary()),null};if(metadata.isComponent){var template=metadata.template,templateMeta=this._directiveNormalizer.normalizeTemplate({ngModuleType:ngModuleType,componentType:directiveType,moduleUrl:this._reflector.componentModuleUrl(directiveType,annotation),encapsulation:template.encapsulation,template:template.template,templateUrl:template.templateUrl,styles:template.styles,styleUrls:template.styleUrls,animations:template.animations,interpolation:template.interpolation,preserveWhitespaces:template.preserveWhitespaces});return isPromise(templateMeta)&&isSync?(this._reportError((compType=directiveType,(error=Error("Can't compile synchronously as "+stringify(compType)+" is still being loaded!"))[ERROR_COMPONENT_TYPE]=compType,error),directiveType),null):SyncAsync_then(templateMeta,createDirectiveMetadata)}return createDirectiveMetadata(null),null},CompileMetadataResolver.prototype.getNonNormalizedDirectiveMetadata=function(directiveType){var _this=this;if(!(directiveType=resolveForwardRef(directiveType)))return null;var cacheEntry=this._nonNormalizedDirectiveCache.get(directiveType);if(cacheEntry)return cacheEntry;var dirMeta=this._directiveResolver.resolve(directiveType,!1);if(!dirMeta)return null;var nonNormalizedTemplateMetadata=void 0;if(createComponent.isTypeOf(dirMeta)){assertArrayOfStrings("styles",(compMeta=dirMeta).styles),assertArrayOfStrings("styleUrls",compMeta.styleUrls),assertInterpolationSymbols("interpolation",compMeta.interpolation);var animations=compMeta.animations;nonNormalizedTemplateMetadata=new CompileTemplateMetadata({encapsulation:noUndefined(compMeta.encapsulation),template:noUndefined(compMeta.template),templateUrl:noUndefined(compMeta.templateUrl),htmlAst:null,styles:compMeta.styles||[],styleUrls:compMeta.styleUrls||[],animations:animations||[],interpolation:noUndefined(compMeta.interpolation),isInline:!!compMeta.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:noUndefined(dirMeta.preserveWhitespaces)})}var compMeta,changeDetectionStrategy=null,viewProviders=[],entryComponentMetadata=[],selector=dirMeta.selector;createComponent.isTypeOf(dirMeta)?(changeDetectionStrategy=(compMeta=dirMeta).changeDetection,compMeta.viewProviders&&(viewProviders=this._getProvidersMetadata(compMeta.viewProviders,entryComponentMetadata,'viewProviders for "'+stringifyType(directiveType)+'"',[],directiveType)),compMeta.entryComponents&&(entryComponentMetadata=flattenAndDedupeArray(compMeta.entryComponents).map(function(type){return _this._getEntryComponentMetadata(type)}).concat(entryComponentMetadata)),selector||(selector=this._schemaRegistry.getDefaultComponentElementName())):selector||(this._reportError(syntaxError("Directive "+stringifyType(directiveType)+" has no selector, please add it!"),directiveType),selector="error");var providers=[];null!=dirMeta.providers&&(providers=this._getProvidersMetadata(dirMeta.providers,entryComponentMetadata,'providers for "'+stringifyType(directiveType)+'"',[],directiveType));var queries=[],viewQueries=[];null!=dirMeta.queries&&(queries=this._getQueriesMetadata(dirMeta.queries,!1,directiveType),viewQueries=this._getQueriesMetadata(dirMeta.queries,!0,directiveType));var metadata=CompileDirectiveMetadata.create({isHost:!1,selector:selector,exportAs:noUndefined(dirMeta.exportAs),isComponent:!!nonNormalizedTemplateMetadata,type:this._getTypeMetadata(directiveType),template:nonNormalizedTemplateMetadata,changeDetection:changeDetectionStrategy,inputs:dirMeta.inputs||[],outputs:dirMeta.outputs||[],host:dirMeta.host||{},providers:providers||[],viewProviders:viewProviders||[],queries:queries||[],guards:dirMeta.guards||{},viewQueries:viewQueries||[],entryComponents:entryComponentMetadata,componentViewType:nonNormalizedTemplateMetadata?this.getComponentViewClass(directiveType):null,rendererType:nonNormalizedTemplateMetadata?this.getRendererType(directiveType):null,componentFactory:null});return nonNormalizedTemplateMetadata&&(metadata.componentFactory=this.getComponentFactory(selector,directiveType,metadata.inputs,metadata.outputs)),cacheEntry={metadata:metadata,annotation:dirMeta},this._nonNormalizedDirectiveCache.set(directiveType,cacheEntry),cacheEntry},CompileMetadataResolver.prototype.getDirectiveMetadata=function(directiveType){var dirMeta=this._directiveCache.get(directiveType);return dirMeta||this._reportError(syntaxError("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+stringifyType(directiveType)+"."),directiveType),dirMeta},CompileMetadataResolver.prototype.getDirectiveSummary=function(dirType){var dirSummary=this._loadSummary(dirType,CompileSummaryKind.Directive);return dirSummary||this._reportError(syntaxError("Illegal state: Could not load the summary for directive "+stringifyType(dirType)+"."),dirType),dirSummary},CompileMetadataResolver.prototype.isDirective=function(type){return!!this._loadSummary(type,CompileSummaryKind.Directive)||this._directiveResolver.isDirective(type)},CompileMetadataResolver.prototype.isPipe=function(type){return!!this._loadSummary(type,CompileSummaryKind.Pipe)||this._pipeResolver.isPipe(type)},CompileMetadataResolver.prototype.isNgModule=function(type){return!!this._loadSummary(type,CompileSummaryKind.NgModule)||this._ngModuleResolver.isNgModule(type)},CompileMetadataResolver.prototype.getNgModuleSummary=function(moduleType,alreadyCollecting){void 0===alreadyCollecting&&(alreadyCollecting=null);var moduleSummary=this._loadSummary(moduleType,CompileSummaryKind.NgModule);if(!moduleSummary){var moduleMeta=this.getNgModuleMetadata(moduleType,!1,alreadyCollecting);(moduleSummary=moduleMeta?moduleMeta.toSummary():null)&&this._summaryCache.set(moduleType,moduleSummary)}return moduleSummary},CompileMetadataResolver.prototype.loadNgModuleDirectiveAndPipeMetadata=function(moduleType,isSync,throwIfNotFound){var _this=this;void 0===throwIfNotFound&&(throwIfNotFound=!0);var ngModule=this.getNgModuleMetadata(moduleType,throwIfNotFound),loading=[];return ngModule&&(ngModule.declaredDirectives.forEach(function(id){var promise=_this.loadDirectiveMetadata(moduleType,id.reference,isSync);promise&&loading.push(promise)}),ngModule.declaredPipes.forEach(function(id){return _this._loadPipeMetadata(id.reference)})),Promise.all(loading)},CompileMetadataResolver.prototype.getShallowModuleMetadata=function(moduleType){var compileMeta=this._shallowModuleCache.get(moduleType);if(compileMeta)return compileMeta;var ngModuleMeta=findLast(this._reflector.shallowAnnotations(moduleType),createNgModule.isTypeOf);return compileMeta={type:this._getTypeMetadata(moduleType),rawExports:ngModuleMeta.exports,rawImports:ngModuleMeta.imports,rawProviders:ngModuleMeta.providers},this._shallowModuleCache.set(moduleType,compileMeta),compileMeta},CompileMetadataResolver.prototype.getNgModuleMetadata=function(moduleType,throwIfNotFound,alreadyCollecting){var _this=this;void 0===throwIfNotFound&&(throwIfNotFound=!0),void 0===alreadyCollecting&&(alreadyCollecting=null),moduleType=resolveForwardRef(moduleType);var compileMeta=this._ngModuleCache.get(moduleType);if(compileMeta)return compileMeta;var meta=this._ngModuleResolver.resolve(moduleType,throwIfNotFound);if(!meta)return null;var declaredDirectives=[],exportedNonModuleIdentifiers=[],declaredPipes=[],importedModules=[],exportedModules=[],providers=[],entryComponents=[],bootstrapComponents=[],schemas=[];meta.imports&&flattenAndDedupeArray(meta.imports).forEach(function(importedType){var importedModuleType=void 0;if(isValidType(importedType))importedModuleType=importedType;else if(importedType&&importedType.ngModule){var moduleWithProviders=importedType;importedModuleType=moduleWithProviders.ngModule,moduleWithProviders.providers&&providers.push.apply(providers,(0,_tslib.__spread)(_this._getProvidersMetadata(moduleWithProviders.providers,entryComponents,"provider for the NgModule '"+stringifyType(importedModuleType)+"'",[],importedType)))}if(importedModuleType){if(!_this._checkSelfImport(moduleType,importedModuleType))if(alreadyCollecting||(alreadyCollecting=new Set),alreadyCollecting.has(importedModuleType))_this._reportError(syntaxError(_this._getTypeDescriptor(importedModuleType)+" '"+stringifyType(importedType)+"' is imported recursively by the module '"+stringifyType(moduleType)+"'."),moduleType);else{alreadyCollecting.add(importedModuleType);var importedModuleSummary=_this.getNgModuleSummary(importedModuleType,alreadyCollecting);alreadyCollecting.delete(importedModuleType),importedModuleSummary?importedModules.push(importedModuleSummary):_this._reportError(syntaxError("Unexpected "+_this._getTypeDescriptor(importedType)+" '"+stringifyType(importedType)+"' imported by the module '"+stringifyType(moduleType)+"'. Please add a @NgModule annotation."),moduleType)}}else _this._reportError(syntaxError("Unexpected value '"+stringifyType(importedType)+"' imported by the module '"+stringifyType(moduleType)+"'"),moduleType)}),meta.exports&&flattenAndDedupeArray(meta.exports).forEach(function(exportedType){if(isValidType(exportedType))if(alreadyCollecting||(alreadyCollecting=new Set),alreadyCollecting.has(exportedType))_this._reportError(syntaxError(_this._getTypeDescriptor(exportedType)+" '"+stringify(exportedType)+"' is exported recursively by the module '"+stringifyType(moduleType)+"'"),moduleType);else{alreadyCollecting.add(exportedType);var exportedModuleSummary=_this.getNgModuleSummary(exportedType,alreadyCollecting);alreadyCollecting.delete(exportedType),exportedModuleSummary?exportedModules.push(exportedModuleSummary):exportedNonModuleIdentifiers.push(_this._getIdentifierMetadata(exportedType))}else _this._reportError(syntaxError("Unexpected value '"+stringifyType(exportedType)+"' exported by the module '"+stringifyType(moduleType)+"'"),moduleType)});var transitiveModule=this._getTransitiveNgModuleMetadata(importedModules,exportedModules);meta.declarations&&flattenAndDedupeArray(meta.declarations).forEach(function(declaredType){if(isValidType(declaredType)){var declaredIdentifier=_this._getIdentifierMetadata(declaredType);if(_this.isDirective(declaredType))transitiveModule.addDirective(declaredIdentifier),declaredDirectives.push(declaredIdentifier),_this._addTypeToModule(declaredType,moduleType);else{if(!_this.isPipe(declaredType))return void _this._reportError(syntaxError("Unexpected "+_this._getTypeDescriptor(declaredType)+" '"+stringifyType(declaredType)+"' declared by the module '"+stringifyType(moduleType)+"'. Please add a @Pipe/@Directive/@Component annotation."),moduleType);transitiveModule.addPipe(declaredIdentifier),transitiveModule.pipes.push(declaredIdentifier),declaredPipes.push(declaredIdentifier),_this._addTypeToModule(declaredType,moduleType)}}else _this._reportError(syntaxError("Unexpected value '"+stringifyType(declaredType)+"' declared by the module '"+stringifyType(moduleType)+"'"),moduleType)});var exportedDirectives=[],exportedPipes=[];return exportedNonModuleIdentifiers.forEach(function(exportedId){if(transitiveModule.directivesSet.has(exportedId.reference))exportedDirectives.push(exportedId),transitiveModule.addExportedDirective(exportedId);else{if(!transitiveModule.pipesSet.has(exportedId.reference))return void _this._reportError(syntaxError("Can't export "+_this._getTypeDescriptor(exportedId.reference)+" "+stringifyType(exportedId.reference)+" from "+stringifyType(moduleType)+" as it was neither declared nor imported!"),moduleType);exportedPipes.push(exportedId),transitiveModule.addExportedPipe(exportedId)}}),meta.providers&&providers.push.apply(providers,(0,_tslib.__spread)(this._getProvidersMetadata(meta.providers,entryComponents,"provider for the NgModule '"+stringifyType(moduleType)+"'",[],moduleType))),meta.entryComponents&&entryComponents.push.apply(entryComponents,(0,_tslib.__spread)(flattenAndDedupeArray(meta.entryComponents).map(function(type){return _this._getEntryComponentMetadata(type)}))),meta.bootstrap&&flattenAndDedupeArray(meta.bootstrap).forEach(function(type){isValidType(type)?bootstrapComponents.push(_this._getIdentifierMetadata(type)):_this._reportError(syntaxError("Unexpected value '"+stringifyType(type)+"' used in the bootstrap property of module '"+stringifyType(moduleType)+"'"),moduleType)}),entryComponents.push.apply(entryComponents,(0,_tslib.__spread)(bootstrapComponents.map(function(type){return _this._getEntryComponentMetadata(type.reference)}))),meta.schemas&&schemas.push.apply(schemas,(0,_tslib.__spread)(flattenAndDedupeArray(meta.schemas))),compileMeta=new CompileNgModuleMetadata({type:this._getTypeMetadata(moduleType),providers:providers,entryComponents:entryComponents,bootstrapComponents:bootstrapComponents,schemas:schemas,declaredDirectives:declaredDirectives,exportedDirectives:exportedDirectives,declaredPipes:declaredPipes,exportedPipes:exportedPipes,importedModules:importedModules,exportedModules:exportedModules,transitiveModule:transitiveModule,id:meta.id||null}),entryComponents.forEach(function(id){return transitiveModule.addEntryComponent(id)}),providers.forEach(function(provider){return transitiveModule.addProvider(provider,compileMeta.type)}),transitiveModule.addModule(compileMeta.type),this._ngModuleCache.set(moduleType,compileMeta),compileMeta},CompileMetadataResolver.prototype._checkSelfImport=function(moduleType,importedModuleType){return moduleType===importedModuleType&&(this._reportError(syntaxError("'"+stringifyType(moduleType)+"' module can't import itself"),moduleType),!0)},CompileMetadataResolver.prototype._getTypeDescriptor=function(type){if(isValidType(type)){if(this.isDirective(type))return"directive";if(this.isPipe(type))return"pipe";if(this.isNgModule(type))return"module"}return type.provide?"provider":"value"},CompileMetadataResolver.prototype._addTypeToModule=function(type,moduleType){var oldModule=this._ngModuleOfTypes.get(type);oldModule&&oldModule!==moduleType?this._reportError(syntaxError("Type "+stringifyType(type)+" is part of the declarations of 2 modules: "+stringifyType(oldModule)+" and "+stringifyType(moduleType)+"! Please consider moving "+stringifyType(type)+" to a higher module that imports "+stringifyType(oldModule)+" and "+stringifyType(moduleType)+". You can also create a new NgModule that exports and includes "+stringifyType(type)+" then import that NgModule in "+stringifyType(oldModule)+" and "+stringifyType(moduleType)+"."),moduleType):this._ngModuleOfTypes.set(type,moduleType)},CompileMetadataResolver.prototype._getTransitiveNgModuleMetadata=function(importedModules,exportedModules){var result=new TransitiveCompileNgModuleMetadata,modulesByToken=new Map;return importedModules.concat(exportedModules).forEach(function(modSummary){modSummary.modules.forEach(function(mod){return result.addModule(mod)}),modSummary.entryComponents.forEach(function(comp){return result.addEntryComponent(comp)});var addedTokens=new Set;modSummary.providers.forEach(function(entry){var tokenRef=tokenReference(entry.provider.token),prevModules=modulesByToken.get(tokenRef);prevModules||(prevModules=new Set,modulesByToken.set(tokenRef,prevModules));var moduleRef=entry.module.reference;!addedTokens.has(tokenRef)&&prevModules.has(moduleRef)||(prevModules.add(moduleRef),addedTokens.add(tokenRef),result.addProvider(entry.provider,entry.module))})}),exportedModules.forEach(function(modSummary){modSummary.exportedDirectives.forEach(function(id){return result.addExportedDirective(id)}),modSummary.exportedPipes.forEach(function(id){return result.addExportedPipe(id)})}),importedModules.forEach(function(modSummary){modSummary.exportedDirectives.forEach(function(id){return result.addDirective(id)}),modSummary.exportedPipes.forEach(function(id){return result.addPipe(id)})}),result},CompileMetadataResolver.prototype._getIdentifierMetadata=function(type){return{reference:type=resolveForwardRef(type)}},CompileMetadataResolver.prototype.isInjectable=function(type){return this._reflector.tryAnnotations(type).some(function(ann){return createInjectable.isTypeOf(ann)})},CompileMetadataResolver.prototype.getInjectableSummary=function(type){return{summaryKind:CompileSummaryKind.Injectable,type:this._getTypeMetadata(type,null,!1)}},CompileMetadataResolver.prototype.getInjectableMetadata=function(type,dependencies,throwOnUnknownDeps){void 0===dependencies&&(dependencies=null),void 0===throwOnUnknownDeps&&(throwOnUnknownDeps=!0);var typeSummary=this._loadSummary(type,CompileSummaryKind.Injectable),typeMetadata=typeSummary?typeSummary.type:this._getTypeMetadata(type,dependencies,throwOnUnknownDeps),annotations=this._reflector.annotations(type).filter(function(ann){return createInjectable.isTypeOf(ann)});if(0===annotations.length)return null;var meta=annotations[annotations.length-1];return{symbol:type,type:typeMetadata,providedIn:meta.providedIn,useValue:meta.useValue,useClass:meta.useClass,useExisting:meta.useExisting,useFactory:meta.useFactory,deps:meta.deps}},CompileMetadataResolver.prototype._getTypeMetadata=function(type,dependencies,throwOnUnknownDeps){void 0===dependencies&&(dependencies=null),void 0===throwOnUnknownDeps&&(throwOnUnknownDeps=!0);var reflector,token,identifier=this._getIdentifierMetadata(type);return{reference:identifier.reference,diDeps:this._getDependenciesMetadata(identifier.reference,dependencies,throwOnUnknownDeps),lifecycleHooks:(reflector=this._reflector,token=identifier.reference,LIFECYCLE_HOOKS_VALUES.filter(function(hook){return hasLifecycleHook(reflector,hook,token)}))}},CompileMetadataResolver.prototype._getFactoryMetadata=function(factory,dependencies){return void 0===dependencies&&(dependencies=null),{reference:factory=resolveForwardRef(factory),diDeps:this._getDependenciesMetadata(factory,dependencies)}},CompileMetadataResolver.prototype.getPipeMetadata=function(pipeType){var pipeMeta=this._pipeCache.get(pipeType);return pipeMeta||this._reportError(syntaxError("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+stringifyType(pipeType)+"."),pipeType),pipeMeta||null},CompileMetadataResolver.prototype.getPipeSummary=function(pipeType){var pipeSummary=this._loadSummary(pipeType,CompileSummaryKind.Pipe);return pipeSummary||this._reportError(syntaxError("Illegal state: Could not load the summary for pipe "+stringifyType(pipeType)+"."),pipeType),pipeSummary},CompileMetadataResolver.prototype.getOrLoadPipeMetadata=function(pipeType){var pipeMeta=this._pipeCache.get(pipeType);return pipeMeta||(pipeMeta=this._loadPipeMetadata(pipeType)),pipeMeta},CompileMetadataResolver.prototype._loadPipeMetadata=function(pipeType){pipeType=resolveForwardRef(pipeType);var pipeAnnotation=this._pipeResolver.resolve(pipeType),pipeMeta=new CompilePipeMetadata({type:this._getTypeMetadata(pipeType),name:pipeAnnotation.name,pure:!!pipeAnnotation.pure});return this._pipeCache.set(pipeType,pipeMeta),this._summaryCache.set(pipeType,pipeMeta.toSummary()),pipeMeta},CompileMetadataResolver.prototype._getDependenciesMetadata=function(typeOrFunc,dependencies,throwOnUnknownDeps){var _this=this;void 0===throwOnUnknownDeps&&(throwOnUnknownDeps=!0);var hasUnknownDeps=!1,dependenciesMetadata=(dependencies||this._reflector.parameters(typeOrFunc)||[]).map(function(param){var isAttribute=!1,isHost=!1,isSelf=!1,isSkipSelf=!1,isOptional=!1,token=null;return Array.isArray(param)?param.forEach(function(paramEntry){createHost.isTypeOf(paramEntry)?isHost=!0:createSelf.isTypeOf(paramEntry)?isSelf=!0:createSkipSelf.isTypeOf(paramEntry)?isSkipSelf=!0:createOptional.isTypeOf(paramEntry)?isOptional=!0:createAttribute.isTypeOf(paramEntry)?(isAttribute=!0,token=paramEntry.attributeName):createInject.isTypeOf(paramEntry)?token=paramEntry.token:createInjectionToken.isTypeOf(paramEntry)||paramEntry instanceof StaticSymbol?token=paramEntry:isValidType(paramEntry)&&null==token&&(token=paramEntry)}):token=param,null==token?(hasUnknownDeps=!0,{}):{isAttribute:isAttribute,isHost:isHost,isSelf:isSelf,isSkipSelf:isSkipSelf,isOptional:isOptional,token:_this._getTokenMetadata(token)}});if(hasUnknownDeps){var depsTokens=dependenciesMetadata.map(function(dep){return dep.token?stringifyType(dep.token):"?"}).join(", "),message="Can't resolve all parameters for "+stringifyType(typeOrFunc)+": ("+depsTokens+").";throwOnUnknownDeps||this._config.strictInjectionParameters?this._reportError(syntaxError(message),typeOrFunc):this._console.warn("Warning: "+message+" This will become an error in Angular v6.x")}return dependenciesMetadata},CompileMetadataResolver.prototype._getTokenMetadata=function(token){return"string"==typeof(token=resolveForwardRef(token))?{value:token}:{identifier:{reference:token}}},CompileMetadataResolver.prototype._getProvidersMetadata=function(providers,targetEntryComponents,debugInfo,compileProviders,type){var _this=this;return void 0===compileProviders&&(compileProviders=[]),providers.forEach(function(provider,providerIdx){if(Array.isArray(provider))_this._getProvidersMetadata(provider,targetEntryComponents,debugInfo,compileProviders);else{var providerMeta=void 0;if((provider=resolveForwardRef(provider))&&"object"==typeof provider&&provider.hasOwnProperty("provide"))_this._validateProvider(provider),providerMeta=new ProviderMeta(provider.provide,provider);else{if(!isValidType(provider)){if(void 0===provider)return void _this._reportError(syntaxError("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));var providersInfo=providers.reduce(function(soFar,seenProvider,seenProviderIdx){return seenProviderIdx<providerIdx?soFar.push(""+stringifyType(seenProvider)):seenProviderIdx==providerIdx?soFar.push("?"+stringifyType(seenProvider)+"?"):seenProviderIdx==providerIdx+1&&soFar.push("..."),soFar},[]).join(", ");return void _this._reportError(syntaxError("Invalid "+(debugInfo||"provider")+" - only instances of Provider and Type are allowed, got: ["+providersInfo+"]"),type)}providerMeta=new ProviderMeta(provider,{useClass:provider})}providerMeta.token===_this._reflector.resolveExternalReference(Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS)?targetEntryComponents.push.apply(targetEntryComponents,(0,_tslib.__spread)(_this._getEntryComponentsFromProvider(providerMeta,type))):compileProviders.push(_this.getProviderMetadata(providerMeta))}}),compileProviders},CompileMetadataResolver.prototype._validateProvider=function(provider){provider.hasOwnProperty("useClass")&&null==provider.useClass&&this._reportError(syntaxError("Invalid provider for "+stringifyType(provider.provide)+". useClass cannot be "+provider.useClass+".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case."))},CompileMetadataResolver.prototype._getEntryComponentsFromProvider=function(provider,type){var value,targetIdentifiers,_this=this,components=[],collectedIdentifiers=[];return provider.useFactory||provider.useExisting||provider.useClass?(this._reportError(syntaxError("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),type),[]):provider.multi?(value=provider.useValue,targetIdentifiers=collectedIdentifiers,visitValue(value,new _CompileValueConverter,targetIdentifiers),collectedIdentifiers.forEach(function(identifier){var entry=_this._getEntryComponentMetadata(identifier.reference,!1);entry&&components.push(entry)}),components):(this._reportError(syntaxError("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),type),[])},CompileMetadataResolver.prototype._getEntryComponentMetadata=function(dirType,throwIfNotFound){void 0===throwIfNotFound&&(throwIfNotFound=!0);var dirMeta=this.getNonNormalizedDirectiveMetadata(dirType);if(dirMeta&&dirMeta.metadata.isComponent)return{componentType:dirType,componentFactory:dirMeta.metadata.componentFactory};var dirSummary=this._loadSummary(dirType,CompileSummaryKind.Directive);if(dirSummary&&dirSummary.isComponent)return{componentType:dirType,componentFactory:dirSummary.componentFactory};if(throwIfNotFound)throw syntaxError(dirType.name+" cannot be used as an entry component.");return null},CompileMetadataResolver.prototype._getInjectableTypeMetadata=function(type,dependencies){void 0===dependencies&&(dependencies=null);var typeSummary=this._loadSummary(type,CompileSummaryKind.Injectable);return typeSummary?typeSummary.type:this._getTypeMetadata(type,dependencies)},CompileMetadataResolver.prototype.getProviderMetadata=function(provider){var compileDeps=void 0,compileTypeMetadata=null,compileFactoryMetadata=null,token=this._getTokenMetadata(provider.token);return provider.useClass?(compileDeps=(compileTypeMetadata=this._getInjectableTypeMetadata(provider.useClass,provider.dependencies)).diDeps,provider.token===provider.useClass&&(token={identifier:compileTypeMetadata})):provider.useFactory&&(compileDeps=(compileFactoryMetadata=this._getFactoryMetadata(provider.useFactory,provider.dependencies)).diDeps),{token:token,useClass:compileTypeMetadata,useValue:provider.useValue,useFactory:compileFactoryMetadata,useExisting:provider.useExisting?this._getTokenMetadata(provider.useExisting):void 0,deps:compileDeps,multi:provider.multi}},CompileMetadataResolver.prototype._getQueriesMetadata=function(queries,isViewQuery,directiveType){var _this=this,res=[];return Object.keys(queries).forEach(function(propertyName){var query=queries[propertyName];query.isViewQuery===isViewQuery&&res.push(_this._getQueryMetadata(query,propertyName,directiveType))}),res},CompileMetadataResolver.prototype._queryVarBindings=function(selector){return selector.split(/\s*,\s*/)},CompileMetadataResolver.prototype._getQueryMetadata=function(q,propertyName,typeOrFunc){var selectors,_this=this;return"string"==typeof q.selector?selectors=this._queryVarBindings(q.selector).map(function(varName){return _this._getTokenMetadata(varName)}):q.selector?selectors=[this._getTokenMetadata(q.selector)]:(this._reportError(syntaxError("Can't construct a query for the property \""+propertyName+'" of "'+stringifyType(typeOrFunc)+"\" since the query selector wasn't defined."),typeOrFunc),selectors=[]),{selectors:selectors,first:q.first,descendants:q.descendants,propertyName:propertyName,read:q.read?this._getTokenMetadata(q.read):null,static:q.static}},CompileMetadataResolver.prototype._reportError=function(error,type,otherType){if(!this._errorCollector)throw error;this._errorCollector(error,type),otherType&&this._errorCollector(error,otherType)},CompileMetadataResolver}();function flattenAndDedupeArray(tree){return(array=function flattenArray(tree,out){if(void 0===out&&(out=[]),tree)for(var i=0;i<tree.length;i++){var item=resolveForwardRef(tree[i]);Array.isArray(item)?flattenArray(item,out):out.push(item)}return out}(tree))?Array.from(new Set(array)):[];var array}function isValidType(value){return value instanceof StaticSymbol||value instanceof Type}exports.CompileMetadataResolver=CompileMetadataResolver;var _CompileValueConverter=function(_super){function _CompileValueConverter(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(_CompileValueConverter,_super),_CompileValueConverter.prototype.visitOther=function(value,targetIdentifiers){targetIdentifiers.push({reference:value})},_CompileValueConverter}(ValueTransformer);function stringifyType(type){return type instanceof StaticSymbol?type.name+" in "+type.filePath:stringify(type)}function providerDef(ctx,providerAst){var flags=0;providerAst.eager||(flags|=4096),providerAst.providerType===ProviderAstType.PrivateService&&(flags|=8192),providerAst.isModule&&(flags|=1073741824),providerAst.lifecycleHooks.forEach(function(lifecycleHook){lifecycleHook!==LifecycleHooks.OnDestroy&&providerAst.providerType!==ProviderAstType.Directive&&providerAst.providerType!==ProviderAstType.Component||(flags|=lifecycleHookToNodeFlag(lifecycleHook))});var _a=providerAst.multiProvider?function(ctx,flags,providers){var allDepDefs=[],allParams=[],exprs=providers.map(function(provider,providerIndex){var expr;if(provider.useClass){var depExprs=convertDeps(providerIndex,provider.deps||provider.useClass.diDeps);expr=ctx.importExpr(provider.useClass.reference).instantiate(depExprs)}else if(provider.useFactory){var depExprs=convertDeps(providerIndex,provider.deps||provider.useFactory.diDeps);expr=ctx.importExpr(provider.useFactory.reference).callFn(depExprs)}else if(provider.useExisting){var depExprs=convertDeps(providerIndex,[{token:provider.useExisting}]);expr=depExprs[0]}else expr=convertValueToOutputAst(ctx,provider.useValue);return expr});return{providerExpr:fn(allParams,[new ReturnStatement(literalArr(exprs))],INFERRED_TYPE),flags:1024|flags,depsExpr:literalArr(allDepDefs)};function convertDeps(providerIndex,deps){return deps.map(function(dep,depIndex){var paramName="p"+providerIndex+"_"+depIndex;return allParams.push(new FnParam(paramName,DYNAMIC_TYPE)),allDepDefs.push(depDef(ctx,dep)),variable(paramName)})}}(ctx,flags,providerAst.providers):singleProviderDef(ctx,flags,providerAst.providerType,providerAst.providers[0]);return{providerExpr:_a.providerExpr,flags:_a.flags,depsExpr:_a.depsExpr,tokenExpr:tokenExpr(ctx,providerAst.token)}}function singleProviderDef(ctx,flags,providerType,providerMeta){var providerExpr,deps;return providerType===ProviderAstType.Directive||providerType===ProviderAstType.Component?(providerExpr=ctx.importExpr(providerMeta.useClass.reference),flags|=16384,deps=providerMeta.deps||providerMeta.useClass.diDeps):providerMeta.useClass?(providerExpr=ctx.importExpr(providerMeta.useClass.reference),flags|=512,deps=providerMeta.deps||providerMeta.useClass.diDeps):providerMeta.useFactory?(providerExpr=ctx.importExpr(providerMeta.useFactory.reference),flags|=1024,deps=providerMeta.deps||providerMeta.useFactory.diDeps):providerMeta.useExisting?(providerExpr=NULL_EXPR,flags|=2048,deps=[{token:providerMeta.useExisting}]):(providerExpr=convertValueToOutputAst(ctx,providerMeta.useValue),flags|=256,deps=[]),{providerExpr:providerExpr,flags:flags,depsExpr:literalArr(deps.map(function(dep){return depDef(ctx,dep)}))}}function tokenExpr(ctx,tokenMeta){return tokenMeta.identifier?ctx.importExpr(tokenMeta.identifier.reference):literal(tokenMeta.value)}function depDef(ctx,dep){var expr=dep.isValue?convertValueToOutputAst(ctx,dep.value):tokenExpr(ctx,dep.token),flags=0;return dep.isSkipSelf&&(flags|=1),dep.isOptional&&(flags|=2),dep.isSelf&&(flags|=4),dep.isValue&&(flags|=8),0===flags?expr:literalArr([literal(flags),expr])}function lifecycleHookToNodeFlag(lifecycleHook){var nodeFlag=0;switch(lifecycleHook){case LifecycleHooks.AfterContentChecked:nodeFlag=2097152;break;case LifecycleHooks.AfterContentInit:nodeFlag=1048576;break;case LifecycleHooks.AfterViewChecked:nodeFlag=8388608;break;case LifecycleHooks.AfterViewInit:nodeFlag=4194304;break;case LifecycleHooks.DoCheck:nodeFlag=262144;break;case LifecycleHooks.OnChanges:nodeFlag=524288;break;case LifecycleHooks.OnDestroy:nodeFlag=131072;break;case LifecycleHooks.OnInit:nodeFlag=65536}return nodeFlag}function componentFactoryResolverProviderDef(reflector,ctx,flags,entryComponents){var entryComponentFactories=entryComponents.map(function(entryComponent){return ctx.importExpr(entryComponent.componentFactory)}),token=createTokenForExternalReference(reflector,Identifiers.ComponentFactoryResolver),classMeta={diDeps:[{isValue:!0,value:literalArr(entryComponentFactories)},{token:token,isSkipSelf:!0,isOptional:!0},{token:createTokenForExternalReference(reflector,Identifiers.NgModuleRef)}],lifecycleHooks:[],reference:reflector.resolveExternalReference(Identifiers.CodegenComponentFactoryResolver)},_a=singleProviderDef(ctx,flags,ProviderAstType.PrivateService,{token:token,multi:!1,useClass:classMeta});return{providerExpr:_a.providerExpr,flags:_a.flags,depsExpr:_a.depsExpr,tokenExpr:tokenExpr(ctx,token)}}var NgModuleCompileResult=function(){return function(ngModuleFactoryVar){this.ngModuleFactoryVar=ngModuleFactoryVar}}(),LOG_VAR=variable("_l"),NgModuleCompiler=function(){function NgModuleCompiler(reflector){this.reflector=reflector}return NgModuleCompiler.prototype.compile=function(ctx,ngModuleMeta,extraProviders){var sourceSpan=typeSourceSpan("NgModule",ngModuleMeta.type),entryComponentFactories=ngModuleMeta.transitiveModule.entryComponents,bootstrapComponents=ngModuleMeta.bootstrapComponents,providerParser=new NgModuleProviderAnalyzer(this.reflector,ngModuleMeta,extraProviders,sourceSpan),providerDefs=[componentFactoryResolverProviderDef(this.reflector,ctx,0,entryComponentFactories)].concat(providerParser.parse().map(function(provider){return providerDef(ctx,provider)})).map(function(_a){var providerExpr=_a.providerExpr,depsExpr=_a.depsExpr,flags=_a.flags,tokenExpr=_a.tokenExpr;return importExpr(Identifiers.moduleProviderDef).callFn([literal(flags),tokenExpr,providerExpr,depsExpr])}),ngModuleDef=importExpr(Identifiers.moduleDef).callFn([literalArr(providerDefs)]),ngModuleDefFactory=fn([new FnParam(LOG_VAR.name)],[new ReturnStatement(ngModuleDef)],INFERRED_TYPE),ngModuleFactoryVar=identifierName(ngModuleMeta.type)+"NgFactory";if(this._createNgModuleFactory(ctx,ngModuleMeta.type.reference,importExpr(Identifiers.createModuleFactory).callFn([ctx.importExpr(ngModuleMeta.type.reference),literalArr(bootstrapComponents.map(function(id){return ctx.importExpr(id.reference)})),ngModuleDefFactory])),ngModuleMeta.id){var id="string"==typeof ngModuleMeta.id?literal(ngModuleMeta.id):ctx.importExpr(ngModuleMeta.id),registerFactoryStmt=importExpr(Identifiers.RegisterModuleFactoryFn).callFn([id,variable(ngModuleFactoryVar)]).toStmt();ctx.statements.push(registerFactoryStmt)}return new NgModuleCompileResult(ngModuleFactoryVar)},NgModuleCompiler.prototype.createStub=function(ctx,ngModuleReference){this._createNgModuleFactory(ctx,ngModuleReference,NULL_EXPR)},NgModuleCompiler.prototype._createNgModuleFactory=function(ctx,reference,value){var ngModuleFactoryStmt=variable(identifierName({reference:reference})+"NgFactory").set(value).toDeclStmt(importType(Identifiers.NgModuleFactory,[expressionType(ctx.importExpr(reference))],[TypeModifier.Const]),[StmtModifier.Final,StmtModifier.Exported]);ctx.statements.push(ngModuleFactoryStmt)},NgModuleCompiler}();exports.NgModuleCompiler=NgModuleCompiler;var NgModuleResolver=function(){function NgModuleResolver(_reflector){this._reflector=_reflector}return NgModuleResolver.prototype.isNgModule=function(type){return this._reflector.annotations(type).some(createNgModule.isTypeOf)},NgModuleResolver.prototype.resolve=function(type,throwIfNotFound){void 0===throwIfNotFound&&(throwIfNotFound=!0);var ngModuleMeta=findLast(this._reflector.annotations(type),createNgModule.isTypeOf);if(ngModuleMeta)return ngModuleMeta;if(throwIfNotFound)throw new Error("No NgModule metadata found for '"+stringify(type)+"'.");return null},NgModuleResolver}();exports.NgModuleResolver=NgModuleResolver;function debugOutputAstAsTypeScript(ast){var converter=new _TsEmitterVisitor,ctx=EmitterVisitorContext.createRoot();return(Array.isArray(ast)?ast:[ast]).forEach(function(ast){if(ast instanceof Statement)ast.visitStatement(converter,ctx);else if(ast instanceof Expression)ast.visitExpression(converter,ctx);else{if(!(ast instanceof Type$1))throw new Error("Don't know how to print debug info for "+ast);ast.visitType(converter,ctx)}}),ctx.toSource()}var TypeScriptEmitter=function(){function TypeScriptEmitter(){}return TypeScriptEmitter.prototype.emitStatementsAndContext=function(genFilePath,stmts,preamble,emitSourceMaps,referenceFilter,importFilter){void 0===preamble&&(preamble=""),void 0===emitSourceMaps&&(emitSourceMaps=!0);var converter=new _TsEmitterVisitor(referenceFilter,importFilter),ctx=EmitterVisitorContext.createRoot();converter.visitAllStatements(stmts,ctx);var preambleLines=preamble?preamble.split("\n"):[];converter.reexports.forEach(function(reexports,exportedModuleName){var reexportsCode=reexports.map(function(reexport){return reexport.name+" as "+reexport.as}).join(",");preambleLines.push("export {"+reexportsCode+"} from '"+exportedModuleName+"';")}),converter.importsWithPrefixes.forEach(function(prefix,importedModuleName){preambleLines.push("import * as "+prefix+" from '"+importedModuleName+"';")});var sm=emitSourceMaps?ctx.toSourceMapGenerator(genFilePath,preambleLines.length).toJsComment():"",lines=(0,_tslib.__spread)(preambleLines,[ctx.toSource(),sm]);return sm&&lines.push(""),ctx.setPreambleLineCount(preambleLines.length),{sourceText:lines.join("\n"),context:ctx}},TypeScriptEmitter.prototype.emitStatements=function(genFilePath,stmts,preamble){return void 0===preamble&&(preamble=""),this.emitStatementsAndContext(genFilePath,stmts,preamble).sourceText},TypeScriptEmitter}();exports.TypeScriptEmitter=TypeScriptEmitter;var _TsEmitterVisitor=function(_super){function _TsEmitterVisitor(referenceFilter,importFilter){var _this=_super.call(this,!1)||this;return _this.referenceFilter=referenceFilter,_this.importFilter=importFilter,_this.typeExpression=0,_this.importsWithPrefixes=new Map,_this.reexports=new Map,_this}return(0,_tslib.__extends)(_TsEmitterVisitor,_super),_TsEmitterVisitor.prototype.visitType=function(t,ctx,defaultType){void 0===defaultType&&(defaultType="any"),t?(this.typeExpression++,t.visitType(this,ctx),this.typeExpression--):ctx.print(null,defaultType)},_TsEmitterVisitor.prototype.visitLiteralExpr=function(ast,ctx){var value=ast.value;return null==value&&ast.type!=INFERRED_TYPE?(ctx.print(ast,"("+value+" as any)"),null):_super.prototype.visitLiteralExpr.call(this,ast,ctx)},_TsEmitterVisitor.prototype.visitLiteralArrayExpr=function(ast,ctx){0===ast.entries.length&&ctx.print(ast,"(");var result=_super.prototype.visitLiteralArrayExpr.call(this,ast,ctx);return 0===ast.entries.length&&ctx.print(ast," as any[])"),result},_TsEmitterVisitor.prototype.visitExternalExpr=function(ast,ctx){return this._visitIdentifier(ast.value,ast.typeParams,ctx),null},_TsEmitterVisitor.prototype.visitAssertNotNullExpr=function(ast,ctx){var result=_super.prototype.visitAssertNotNullExpr.call(this,ast,ctx);return ctx.print(ast,"!"),result},_TsEmitterVisitor.prototype.visitDeclareVarStmt=function(stmt,ctx){if(stmt.hasModifier(StmtModifier.Exported)&&stmt.value instanceof ExternalExpr&&!stmt.type){var _a=stmt.value.value,name_1=_a.name,moduleName=_a.moduleName;if(moduleName){var reexports=this.reexports.get(moduleName);return reexports||(reexports=[],this.reexports.set(moduleName,reexports)),reexports.push({name:name_1,as:stmt.name}),null}}return stmt.hasModifier(StmtModifier.Exported)&&ctx.print(stmt,"export "),stmt.hasModifier(StmtModifier.Final)?ctx.print(stmt,"const"):ctx.print(stmt,"var"),ctx.print(stmt," "+stmt.name),this._printColonType(stmt.type,ctx),stmt.value&&(ctx.print(stmt," = "),stmt.value.visitExpression(this,ctx)),ctx.println(stmt,";"),null},_TsEmitterVisitor.prototype.visitWrappedNodeExpr=function(ast,ctx){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")},_TsEmitterVisitor.prototype.visitCastExpr=function(ast,ctx){return ctx.print(ast,"(<"),ast.type.visitType(this,ctx),ctx.print(ast,">"),ast.value.visitExpression(this,ctx),ctx.print(ast,")"),null},_TsEmitterVisitor.prototype.visitInstantiateExpr=function(ast,ctx){return ctx.print(ast,"new "),this.typeExpression++,ast.classExpr.visitExpression(this,ctx),this.typeExpression--,ctx.print(ast,"("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(ast,")"),null},_TsEmitterVisitor.prototype.visitDeclareClassStmt=function(stmt,ctx){var _this=this;return ctx.pushClass(stmt),stmt.hasModifier(StmtModifier.Exported)&&ctx.print(stmt,"export "),ctx.print(stmt,"class "+stmt.name),null!=stmt.parent&&(ctx.print(stmt," extends "),this.typeExpression++,stmt.parent.visitExpression(this,ctx),this.typeExpression--),ctx.println(stmt," {"),ctx.incIndent(),stmt.fields.forEach(function(field){return _this._visitClassField(field,ctx)}),null!=stmt.constructorMethod&&this._visitClassConstructor(stmt,ctx),stmt.getters.forEach(function(getter){return _this._visitClassGetter(getter,ctx)}),stmt.methods.forEach(function(method){return _this._visitClassMethod(method,ctx)}),ctx.decIndent(),ctx.println(stmt,"}"),ctx.popClass(),null},_TsEmitterVisitor.prototype._visitClassField=function(field,ctx){field.hasModifier(StmtModifier.Private)&&ctx.print(null,"/*private*/ "),field.hasModifier(StmtModifier.Static)&&ctx.print(null,"static "),ctx.print(null,field.name),this._printColonType(field.type,ctx),field.initializer&&(ctx.print(null," = "),field.initializer.visitExpression(this,ctx)),ctx.println(null,";")},_TsEmitterVisitor.prototype._visitClassGetter=function(getter,ctx){getter.hasModifier(StmtModifier.Private)&&ctx.print(null,"private "),ctx.print(null,"get "+getter.name+"()"),this._printColonType(getter.type,ctx),ctx.println(null," {"),ctx.incIndent(),this.visitAllStatements(getter.body,ctx),ctx.decIndent(),ctx.println(null,"}")},_TsEmitterVisitor.prototype._visitClassConstructor=function(stmt,ctx){ctx.print(stmt,"constructor("),this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),this.visitAllStatements(stmt.constructorMethod.body,ctx),ctx.decIndent(),ctx.println(stmt,"}")},_TsEmitterVisitor.prototype._visitClassMethod=function(method,ctx){method.hasModifier(StmtModifier.Private)&&ctx.print(null,"private "),ctx.print(null,method.name+"("),this._visitParams(method.params,ctx),ctx.print(null,")"),this._printColonType(method.type,ctx,"void"),ctx.println(null," {"),ctx.incIndent(),this.visitAllStatements(method.body,ctx),ctx.decIndent(),ctx.println(null,"}")},_TsEmitterVisitor.prototype.visitFunctionExpr=function(ast,ctx){return ast.name&&(ctx.print(ast,"function "),ctx.print(ast,ast.name)),ctx.print(ast,"("),this._visitParams(ast.params,ctx),ctx.print(ast,")"),this._printColonType(ast.type,ctx,"void"),ast.name||ctx.print(ast," => "),ctx.println(ast,"{"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print(ast,"}"),null},_TsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&ctx.print(stmt,"export "),ctx.print(stmt,"function "+stmt.name+"("),this._visitParams(stmt.params,ctx),ctx.print(stmt,")"),this._printColonType(stmt.type,ctx,"void"),ctx.println(stmt," {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null},_TsEmitterVisitor.prototype.visitTryCatchStmt=function(stmt,ctx){ctx.println(stmt,"try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println(stmt,"} catch ("+CATCH_ERROR_VAR$1.name+") {"),ctx.incIndent();var catchStmts=[CATCH_STACK_VAR$1.set(CATCH_ERROR_VAR$1.prop("stack",null)).toDeclStmt(null,[StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null},_TsEmitterVisitor.prototype.visitBuiltinType=function(type,ctx){var typeStr;switch(type.name){case BuiltinTypeName.Bool:typeStr="boolean";break;case BuiltinTypeName.Dynamic:typeStr="any";break;case BuiltinTypeName.Function:typeStr="Function";break;case BuiltinTypeName.Number:case BuiltinTypeName.Int:typeStr="number";break;case BuiltinTypeName.String:typeStr="string";break;case BuiltinTypeName.None:typeStr="never";break;default:throw new Error("Unsupported builtin type "+type.name)}return ctx.print(null,typeStr),null},_TsEmitterVisitor.prototype.visitExpressionType=function(ast,ctx){var _this=this;return ast.value.visitExpression(this,ctx),null!==ast.typeParams&&(ctx.print(null,"<"),this.visitAllObjects(function(type){return _this.visitType(type,ctx)},ast.typeParams,ctx,","),ctx.print(null,">")),null},_TsEmitterVisitor.prototype.visitArrayType=function(type,ctx){return this.visitType(type.of,ctx),ctx.print(null,"[]"),null},_TsEmitterVisitor.prototype.visitMapType=function(type,ctx){return ctx.print(null,"{[key: string]:"),this.visitType(type.valueType,ctx),ctx.print(null,"}"),null},_TsEmitterVisitor.prototype.getBuiltinMethodName=function(method){var name;switch(method){case BuiltinMethod.ConcatArray:name="concat";break;case BuiltinMethod.SubscribeObservable:name="subscribe";break;case BuiltinMethod.Bind:name="bind";break;default:throw new Error("Unknown builtin method: "+method)}return name},_TsEmitterVisitor.prototype._visitParams=function(params,ctx){var _this=this;this.visitAllObjects(function(param){ctx.print(null,param.name),_this._printColonType(param.type,ctx)},params,ctx,",")},_TsEmitterVisitor.prototype._visitIdentifier=function(value,typeParams,ctx){var _this=this,name=value.name,moduleName=value.moduleName;if(this.referenceFilter&&this.referenceFilter(value))ctx.print(null,"(null as any)");else{if(moduleName&&(!this.importFilter||!this.importFilter(value))){var prefix=this.importsWithPrefixes.get(moduleName);null==prefix&&(prefix="i"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(moduleName,prefix)),ctx.print(null,prefix+".")}if(ctx.print(null,name),this.typeExpression>0)(typeParams||[]).length>0&&(ctx.print(null,"<"),this.visitAllObjects(function(type){return type.visitType(_this,ctx)},typeParams,ctx,","),ctx.print(null,">"))}},_TsEmitterVisitor.prototype._printColonType=function(type,ctx,defaultType){type!==INFERRED_TYPE&&(ctx.print(null,":"),this.visitType(type,ctx,defaultType))},_TsEmitterVisitor}(AbstractEmitterVisitor),PipeResolver=function(){function PipeResolver(_reflector){this._reflector=_reflector}return PipeResolver.prototype.isPipe=function(type){var typeMetadata=this._reflector.annotations(resolveForwardRef(type));return typeMetadata&&typeMetadata.some(createPipe.isTypeOf)},PipeResolver.prototype.resolve=function(type,throwIfNotFound){void 0===throwIfNotFound&&(throwIfNotFound=!0);var metas=this._reflector.annotations(resolveForwardRef(type));if(metas){var annotation=findLast(metas,createPipe.isTypeOf);if(annotation)return annotation}if(throwIfNotFound)throw new Error("No Pipe decorator found on "+stringify(type));return null},PipeResolver}();exports.PipeResolver=PipeResolver;var TypeCheckCompiler=function(){function TypeCheckCompiler(options,reflector){this.options=options,this.reflector=reflector}return TypeCheckCompiler.prototype.compileComponent=function(componentId,component,template,usedPipes,externalReferenceVars,ctx){var _this=this,pipes=new Map;usedPipes.forEach(function(p){return pipes.set(p.name,p.type.reference)});var embeddedViewCount=0,viewBuilderFactory=function(parent,guards){var embeddedViewIndex=embeddedViewCount++;return new ViewBuilder(_this.options,_this.reflector,externalReferenceVars,parent,component.type.reference,component.isHost,embeddedViewIndex,pipes,guards,ctx,viewBuilderFactory)},visitor=viewBuilderFactory(null,[]);return visitor.visitAll([],template),visitor.build(componentId)},TypeCheckCompiler}(),defaultResolver=new(function(){function TypeCheckLocalResolver(){}return TypeCheckLocalResolver.prototype.notifyImplicitReceiverUse=function(){},TypeCheckLocalResolver.prototype.getLocal=function(name){return name===EventHandlerVars.event.name?variable("_any"):null},TypeCheckLocalResolver}()),ViewBuilder=function(){function ViewBuilder(options,reflector,externalReferenceVars,parent,component,isHostComponent,embeddedViewIndex,pipes,guards,ctx,viewBuilderFactory){this.options=options,this.reflector=reflector,this.externalReferenceVars=externalReferenceVars,this.parent=parent,this.component=component,this.isHostComponent=isHostComponent,this.embeddedViewIndex=embeddedViewIndex,this.pipes=pipes,this.guards=guards,this.ctx=ctx,this.viewBuilderFactory=viewBuilderFactory,this.refOutputVars=new Map,this.variables=[],this.children=[],this.updates=[],this.actions=[]}return ViewBuilder.prototype.getOutputVar=function(type){var varName;if(!(varName=type===this.component&&this.isHostComponent?"_any":type instanceof StaticSymbol?this.externalReferenceVars.get(type):"_any"))throw new Error("Illegal State: referring to a type without a variable "+JSON.stringify(type));return varName},ViewBuilder.prototype.getTypeGuardExpressions=function(ast){var e_1,_a,e_2,_b,result=(0,_tslib.__spread)(this.guards);try{for(var _c=(0,_tslib.__values)(ast.directives),_d=_c.next();!_d.done;_d=_c.next()){var directive=_d.value;try{for(var _e=(e_2=void 0,(0,_tslib.__values)(directive.inputs)),_f=_e.next();!_f.done;_f=_e.next()){var input=_f.value,guard=directive.directive.guards[input.directiveName];if(guard){var useIf="UseIf"===guard;result.push({guard:guard,useIf:useIf,expression:{context:this.component,value:input.value}})}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_2)throw e_2.error}}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}return result},ViewBuilder.prototype.visitAll=function(variables,astNodes){this.variables=variables,templateVisitAll(this,astNodes)},ViewBuilder.prototype.build=function(componentId,targetStatements){var e_3,_a,_this=this;void 0===targetStatements&&(targetStatements=[]),this.children.forEach(function(child){return child.build(componentId,targetStatements)});var viewStmts=[variable("_any").set(NULL_EXPR).toDeclStmt(DYNAMIC_TYPE)],bindingCount=0;if(this.updates.forEach(function(expression){var _a=_this.preprocessUpdateExpression(expression),sourceSpan=_a.sourceSpan,context=_a.context,value=_a.value,bindingId=""+bindingCount++,_b=convertPropertyBinding(context===_this.component?_this:defaultResolver,variable(_this.getOutputVar(context)),value,bindingId,BindingForm.General),stmts=_b.stmts,currValExpr=_b.currValExpr;stmts.push(new ExpressionStatement(currValExpr)),viewStmts.push.apply(viewStmts,(0,_tslib.__spread)(stmts.map(function(stmt){return applySourceSpanToStatementIfNeeded(stmt,sourceSpan)})))}),this.actions.forEach(function(_a){var sourceSpan=_a.sourceSpan,context=_a.context,value=_a.value,bindingId=""+bindingCount++,stmts=convertActionBinding(context===_this.component?_this:defaultResolver,variable(_this.getOutputVar(context)),value,bindingId).stmts;viewStmts.push.apply(viewStmts,(0,_tslib.__spread)(stmts.map(function(stmt){return applySourceSpanToStatementIfNeeded(stmt,sourceSpan)})))}),this.guards.length){var guardExpression=void 0;try{for(var _b=(0,_tslib.__values)(this.guards),_c=_b.next();!_c.done;_c=_b.next()){var guard=_c.value,_d=this.preprocessUpdateExpression(guard.expression),context=_d.context,value=_d.value,bindingId=""+bindingCount++,_e=convertPropertyBinding(context===this.component?this:defaultResolver,variable(this.getOutputVar(context)),value,bindingId,BindingForm.TrySimple),stmts=_e.stmts,currValExpr=_e.currValExpr;if(0==stmts.length){var guardClause=guard.useIf?currValExpr:this.ctx.importExpr(guard.guard).callFn([currValExpr]);guardExpression=guardExpression?guardExpression.and(guardClause):guardClause}}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_3)throw e_3.error}}guardExpression&&(viewStmts=[new IfStmt(guardExpression,viewStmts)])}var viewName="_View_"+componentId+"_"+this.embeddedViewIndex,viewFactory=new DeclareFunctionStmt(viewName,[],viewStmts);return targetStatements.push(viewFactory),targetStatements},ViewBuilder.prototype.visitBoundText=function(ast,context){var _this=this;ast.value.ast.expressions.forEach(function(expr){return _this.updates.push({context:_this.component,value:expr,sourceSpan:ast.sourceSpan})})},ViewBuilder.prototype.visitEmbeddedTemplate=function(ast,context){if(this.visitElementOrTemplate(ast),this.options.fullTemplateTypeCheck){var guards=this.getTypeGuardExpressions(ast),childVisitor=this.viewBuilderFactory(this,guards);this.children.push(childVisitor),childVisitor.visitAll(ast.variables,ast.children)}},ViewBuilder.prototype.visitElement=function(ast,context){var _this=this;this.visitElementOrTemplate(ast);ast.inputs.forEach(function(inputAst){_this.updates.push({context:_this.component,value:inputAst.value,sourceSpan:inputAst.sourceSpan})}),templateVisitAll(this,ast.children)},ViewBuilder.prototype.visitElementOrTemplate=function(ast){var _this=this;ast.directives.forEach(function(dirAst){_this.visitDirective(dirAst)}),ast.references.forEach(function(ref){var outputVarType=null;outputVarType=ref.value&&ref.value.identifier&&_this.options.fullTemplateTypeCheck?ref.value.identifier.reference:BuiltinTypeName.Dynamic,_this.refOutputVars.set(ref.name,outputVarType)}),ast.outputs.forEach(function(outputAst){_this.actions.push({context:_this.component,value:outputAst.handler,sourceSpan:outputAst.sourceSpan})})},ViewBuilder.prototype.visitDirective=function(dirAst){var _this=this,dirType=dirAst.directive.type.reference;dirAst.inputs.forEach(function(input){return _this.updates.push({context:_this.component,value:input.value,sourceSpan:input.sourceSpan})}),this.options.fullTemplateTypeCheck&&(dirAst.hostProperties.forEach(function(inputAst){return _this.updates.push({context:dirType,value:inputAst.value,sourceSpan:inputAst.sourceSpan})}),dirAst.hostEvents.forEach(function(hostEventAst){return _this.actions.push({context:dirType,value:hostEventAst.handler,sourceSpan:hostEventAst.sourceSpan})}))},ViewBuilder.prototype.notifyImplicitReceiverUse=function(){},ViewBuilder.prototype.getLocal=function(name){if(name==EventHandlerVars.event.name)return variable(this.getOutputVar(BuiltinTypeName.Dynamic));for(var currBuilder=this;currBuilder;currBuilder=currBuilder.parent){var outputVarType=void 0;if(null==(outputVarType=currBuilder.refOutputVars.get(name)))currBuilder.variables.find(function(varAst){return varAst.name===name})&&(outputVarType=BuiltinTypeName.Dynamic);if(null!=outputVarType)return variable(this.getOutputVar(outputVarType))}return null},ViewBuilder.prototype.pipeOutputVar=function(name){var pipe=this.pipes.get(name);if(!pipe)throw new Error("Illegal State: Could not find pipe "+name+" in template of "+this.component);return this.getOutputVar(pipe)},ViewBuilder.prototype.preprocessUpdateExpression=function(expression){var _this=this;return{sourceSpan:expression.sourceSpan,context:expression.context,value:convertPropertyBindingBuiltins({createLiteralArrayConverter:function(argCount){return function(args){var arr=literalArr(args);return _this.options.fullTemplateTypeCheck?arr:arr.cast(DYNAMIC_TYPE)}},createLiteralMapConverter:function(keys){return function(values){var map=literalMap(keys.map(function(k,i){return{key:k.key,value:values[i],quoted:k.quoted}}));return _this.options.fullTemplateTypeCheck?map:map.cast(DYNAMIC_TYPE)}},createPipeConverter:function(name,argCount){return function(args){return(_this.options.fullTemplateTypeCheck?variable(_this.pipeOutputVar(name)):variable(_this.getOutputVar(BuiltinTypeName.Dynamic))).callMethod("transform",args)}}},expression.value)}},ViewBuilder.prototype.visitNgContent=function(ast,context){},ViewBuilder.prototype.visitText=function(ast,context){},ViewBuilder.prototype.visitDirectiveProperty=function(ast,context){},ViewBuilder.prototype.visitReference=function(ast,context){},ViewBuilder.prototype.visitVariable=function(ast,context){},ViewBuilder.prototype.visitEvent=function(ast,context){},ViewBuilder.prototype.visitElementProperty=function(ast,context){},ViewBuilder.prototype.visitAttr=function(ast,context){},ViewBuilder}(),CLASS_ATTR$1="class",STYLE_ATTR="style",ViewCompileResult=function(){return function(viewClassVar,rendererTypeVar){this.viewClassVar=viewClassVar,this.rendererTypeVar=rendererTypeVar}}(),ViewCompiler=function(){function ViewCompiler(_reflector){this._reflector=_reflector}return ViewCompiler.prototype.compileComponent=function(outputCtx,component,template,styles,usedPipes){var _a,_this=this,embeddedViewCount=0,staticQueryIds=findStaticQueryIds(template),renderComponentVarName=void 0;if(!component.isHost){var template_1=component.template,customRenderData=[];template_1.animations&&template_1.animations.length&&customRenderData.push(new LiteralMapEntry("animation",convertValueToOutputAst(outputCtx,template_1.animations),!0));var renderComponentVar=variable(rendererTypeName(component.type.reference));renderComponentVarName=renderComponentVar.name,outputCtx.statements.push(renderComponentVar.set(importExpr(Identifiers.createRendererType2).callFn([new LiteralMapExpr([new LiteralMapEntry("encapsulation",literal(template_1.encapsulation),!1),new LiteralMapEntry("styles",styles,!1),new LiteralMapEntry("data",new LiteralMapExpr(customRenderData),!1)])])).toDeclStmt(importType(Identifiers.RendererType2),[StmtModifier.Final,StmtModifier.Exported]))}var viewBuilderFactory=function(parent){var embeddedViewIndex=embeddedViewCount++;return new ViewBuilder$1(_this._reflector,outputCtx,parent,component,embeddedViewIndex,usedPipes,staticQueryIds,viewBuilderFactory)},visitor=viewBuilderFactory(null);return visitor.visitAll([],template),(_a=outputCtx.statements).push.apply(_a,(0,_tslib.__spread)(visitor.build())),new ViewCompileResult(visitor.viewName,renderComponentVarName)},ViewCompiler}();exports.ViewCompiler=ViewCompiler;var LOG_VAR$1=variable("_l"),VIEW_VAR=variable("_v"),CHECK_VAR=variable("_ck"),COMP_VAR=variable("_co"),EVENT_NAME_VAR=variable("en"),ALLOW_DEFAULT_VAR=variable("ad"),ViewBuilder$1=function(){function ViewBuilder(reflector,outputCtx,parent,component,embeddedViewIndex,usedPipes,staticQueryIds,viewBuilderFactory){this.reflector=reflector,this.outputCtx=outputCtx,this.parent=parent,this.component=component,this.embeddedViewIndex=embeddedViewIndex,this.usedPipes=usedPipes,this.staticQueryIds=staticQueryIds,this.viewBuilderFactory=viewBuilderFactory,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?DYNAMIC_TYPE:expressionType(outputCtx.importExpr(this.component.type.reference)),this.viewName=viewClassName(this.component.type.reference,this.embeddedViewIndex)}return ViewBuilder.prototype.visitAll=function(variables,astNodes){var _this=this;if(this.variables=variables,this.parent||this.usedPipes.forEach(function(pipe){pipe.pure&&(_this.purePipeNodeIndices[pipe.name]=_this._createPipe(null,pipe))}),!this.parent){var queryIds_1=staticViewQueryIds(this.staticQueryIds);this.component.viewQueries.forEach(function(query,queryIndex){var queryId=queryIndex+1,bindingType=query.first?0:1,flags=134217728|calcStaticDynamicQueryFlags(queryIds_1,queryId,query);_this.nodes.push(function(){return{sourceSpan:null,nodeFlags:flags,nodeDef:importExpr(Identifiers.queryDef).callFn([literal(flags),literal(queryId),new LiteralMapExpr([new LiteralMapEntry(query.propertyName,literal(bindingType),!1)])])}})})}templateVisitAll(this,astNodes),this.parent&&(0===astNodes.length||function needsAdditionalRootNode(astNodes){var lastAstNode=astNodes[astNodes.length-1];if(lastAstNode instanceof EmbeddedTemplateAst)return lastAstNode.hasViewContainer;if(lastAstNode instanceof ElementAst)return isNgContainer(lastAstNode.name)&&lastAstNode.children.length?needsAdditionalRootNode(lastAstNode.children):lastAstNode.hasViewContainer;return lastAstNode instanceof NgContentAst}(astNodes))&&this.nodes.push(function(){return{sourceSpan:null,nodeFlags:1,nodeDef:importExpr(Identifiers.anchorDef).callFn([literal(0),NULL_EXPR,NULL_EXPR,literal(0)])}})},ViewBuilder.prototype.build=function(targetStatements){void 0===targetStatements&&(targetStatements=[]),this.children.forEach(function(child){return child.build(targetStatements)});var _a=this._createNodeExpressions(),updateRendererStmts=_a.updateRendererStmts,updateDirectivesStmts=_a.updateDirectivesStmts,nodeDefExprs=_a.nodeDefExprs,updateRendererFn=this._createUpdateFn(updateRendererStmts),updateDirectivesFn=this._createUpdateFn(updateDirectivesStmts),viewFlags=0;this.parent||this.component.changeDetection!==ChangeDetectionStrategy.OnPush||(viewFlags|=2);var viewFactory=new DeclareFunctionStmt(this.viewName,[new FnParam(LOG_VAR$1.name)],[new ReturnStatement(importExpr(Identifiers.viewDef).callFn([literal(viewFlags),literalArr(nodeDefExprs),updateDirectivesFn,updateRendererFn]))],importType(Identifiers.ViewDefinition),0===this.embeddedViewIndex?[StmtModifier.Exported]:[]);return targetStatements.push(viewFactory),targetStatements},ViewBuilder.prototype._createUpdateFn=function(updateStmts){var updateFn;if(updateStmts.length>0){var preStmts=[];!this.component.isHost&&findReadVarNames(updateStmts).has(COMP_VAR.name)&&preStmts.push(COMP_VAR.set(VIEW_VAR.prop("component")).toDeclStmt(this.compType)),updateFn=fn([new FnParam(CHECK_VAR.name,INFERRED_TYPE),new FnParam(VIEW_VAR.name,INFERRED_TYPE)],(0,_tslib.__spread)(preStmts,updateStmts),INFERRED_TYPE)}else updateFn=NULL_EXPR;return updateFn},ViewBuilder.prototype.visitNgContent=function(ast,context){this.nodes.push(function(){return{sourceSpan:ast.sourceSpan,nodeFlags:8,nodeDef:importExpr(Identifiers.ngContentDef).callFn([literal(ast.ngContentIndex),literal(ast.index)])}})},ViewBuilder.prototype.visitText=function(ast,context){this.nodes.push(function(){return{sourceSpan:ast.sourceSpan,nodeFlags:2,nodeDef:importExpr(Identifiers.textDef).callFn([literal(-1),literal(ast.ngContentIndex),literalArr([literal(ast.value)])])}})},ViewBuilder.prototype.visitBoundText=function(ast,context){var _this=this,nodeIndex=this.nodes.length;this.nodes.push(null);var inter=ast.value.ast,updateRendererExpressions=inter.expressions.map(function(expr,bindingIndex){return _this._preprocessUpdateExpression({nodeIndex:nodeIndex,bindingIndex:bindingIndex,sourceSpan:ast.sourceSpan,context:COMP_VAR,value:expr})}),checkIndex=nodeIndex;this.nodes[nodeIndex]=function(){return{sourceSpan:ast.sourceSpan,nodeFlags:2,nodeDef:importExpr(Identifiers.textDef).callFn([literal(checkIndex),literal(ast.ngContentIndex),literalArr(inter.strings.map(function(s){return literal(s)}))]),updateRenderer:updateRendererExpressions}}},ViewBuilder.prototype.visitEmbeddedTemplate=function(ast,context){var _this=this,nodeIndex=this.nodes.length;this.nodes.push(null);var _a=this._visitElementOrTemplate(nodeIndex,ast),flags=_a.flags,queryMatchesExpr=_a.queryMatchesExpr,hostEvents=_a.hostEvents,childVisitor=this.viewBuilderFactory(this);this.children.push(childVisitor),childVisitor.visitAll(ast.variables,ast.children);var childCount=this.nodes.length-nodeIndex-1;this.nodes[nodeIndex]=function(){return{sourceSpan:ast.sourceSpan,nodeFlags:1|flags,nodeDef:importExpr(Identifiers.anchorDef).callFn([literal(flags),queryMatchesExpr,literal(ast.ngContentIndex),literal(childCount),_this._createElementHandleEventFn(nodeIndex,hostEvents),variable(childVisitor.viewName)])}}},ViewBuilder.prototype.visitElement=function(ast,context){var _this=this,nodeIndex=this.nodes.length;this.nodes.push(null);var elName=isNgContainer(ast.name)?null:ast.name,_a=this._visitElementOrTemplate(nodeIndex,ast),flags=_a.flags,usedEvents=_a.usedEvents,queryMatchesExpr=_a.queryMatchesExpr,dirHostBindings=_a.hostBindings,hostEvents=_a.hostEvents,inputDefs=[],updateRendererExpressions=[],outputDefs=[];if(elName){var hostBindings=ast.inputs.map(function(inputAst){return{context:COMP_VAR,inputAst:inputAst,dirAst:null}}).concat(dirHostBindings);hostBindings.length&&(updateRendererExpressions=hostBindings.map(function(hostBinding,bindingIndex){return _this._preprocessUpdateExpression({context:hostBinding.context,nodeIndex:nodeIndex,bindingIndex:bindingIndex,sourceSpan:hostBinding.inputAst.sourceSpan,value:hostBinding.inputAst.value})}),inputDefs=hostBindings.map(function(hostBinding){return function(inputAst,dirAst){var inputType=inputAst.type;switch(inputType){case 1:return literalArr([literal(1),literal(inputAst.name),literal(inputAst.securityContext)]);case 0:return literalArr([literal(8),literal(inputAst.name),literal(inputAst.securityContext)]);case 4:var bindingType=8|(dirAst&&dirAst.directive.isComponent?32:16);return literalArr([literal(bindingType),literal("@"+inputAst.name),literal(inputAst.securityContext)]);case 2:return literalArr([literal(2),literal(inputAst.name),NULL_EXPR]);case 3:return literalArr([literal(4),literal(inputAst.name),literal(inputAst.unit)]);default:var unexpected=inputType;throw new Error("unexpected "+unexpected)}}(hostBinding.inputAst,hostBinding.dirAst)})),outputDefs=usedEvents.map(function(_a){var _b=(0,_tslib.__read)(_a,2),target=_b[0],eventName=_b[1];return literalArr([literal(target),literal(eventName)])})}templateVisitAll(this,ast.children);var childCount=this.nodes.length-nodeIndex-1,compAst=ast.directives.find(function(dirAst){return dirAst.directive.isComponent}),compRendererType=NULL_EXPR,compView=NULL_EXPR;compAst&&(compView=this.outputCtx.importExpr(compAst.directive.componentViewType),compRendererType=this.outputCtx.importExpr(compAst.directive.rendererType));var checkIndex=nodeIndex;this.nodes[nodeIndex]=function(){return{sourceSpan:ast.sourceSpan,nodeFlags:1|flags,nodeDef:importExpr(Identifiers.elementDef).callFn([literal(checkIndex),literal(flags),queryMatchesExpr,literal(ast.ngContentIndex),literal(childCount),literal(elName),elName?(elementAst=ast,mapResult=Object.create(null),elementAst.attrs.forEach(function(attrAst){mapResult[attrAst.name]=attrAst.value}),elementAst.directives.forEach(function(dirAst){Object.keys(dirAst.directive.hostAttributes).forEach(function(name){var attrName,attrValue2,value=dirAst.directive.hostAttributes[name],prevValue=mapResult[name];mapResult[name]=null!=prevValue?(attrValue2=value,(attrName=name)==CLASS_ATTR$1||attrName==STYLE_ATTR?prevValue+" "+attrValue2:attrValue2):value})}),literalArr(Object.keys(mapResult).sort().map(function(attrName){return literalArr([literal(attrName),literal(mapResult[attrName])])}))):NULL_EXPR,inputDefs.length?literalArr(inputDefs):NULL_EXPR,outputDefs.length?literalArr(outputDefs):NULL_EXPR,_this._createElementHandleEventFn(nodeIndex,hostEvents),compView,compRendererType]),updateRenderer:updateRendererExpressions};var elementAst,mapResult}},ViewBuilder.prototype._visitElementOrTemplate=function(nodeIndex,ast){var _this=this,flags=0;ast.hasViewContainer&&(flags|=16777216);var usedEvents=new Map;ast.outputs.forEach(function(event){var _a=elementEventNameAndTarget(event,null),name=_a.name,target=_a.target;usedEvents.set(elementEventFullName(target,name),[target,name])}),ast.directives.forEach(function(dirAst){dirAst.hostEvents.forEach(function(event){var _a=elementEventNameAndTarget(event,dirAst),name=_a.name,target=_a.target;usedEvents.set(elementEventFullName(target,name),[target,name])})});var hostBindings=[],hostEvents=[];this._visitComponentFactoryResolverProvider(ast.directives),ast.providers.forEach(function(providerAst,providerIndex){var dirAst=void 0,dirIndex=void 0;if(ast.directives.forEach(function(localDirAst,i){localDirAst.directive.type.reference===tokenReference(providerAst.token)&&(dirAst=localDirAst,dirIndex=i)}),dirAst){var _a=_this._visitDirective(providerAst,dirAst,dirIndex,nodeIndex,ast.references,ast.queryMatches,usedEvents,_this.staticQueryIds.get(ast)),dirHostBindings=_a.hostBindings,dirHostEvents=_a.hostEvents;hostBindings.push.apply(hostBindings,(0,_tslib.__spread)(dirHostBindings)),hostEvents.push.apply(hostEvents,(0,_tslib.__spread)(dirHostEvents))}else _this._visitProvider(providerAst,ast.queryMatches)});var queryMatchExprs=[];return ast.queryMatches.forEach(function(match){var valueType=void 0;tokenReference(match.value)===_this.reflector.resolveExternalReference(Identifiers.ElementRef)?valueType=0:tokenReference(match.value)===_this.reflector.resolveExternalReference(Identifiers.ViewContainerRef)?valueType=3:tokenReference(match.value)===_this.reflector.resolveExternalReference(Identifiers.TemplateRef)&&(valueType=2),null!=valueType&&queryMatchExprs.push(literalArr([literal(match.queryId),literal(valueType)]))}),ast.references.forEach(function(ref){var valueType=void 0;ref.value?tokenReference(ref.value)===_this.reflector.resolveExternalReference(Identifiers.TemplateRef)&&(valueType=2):valueType=1,null!=valueType&&(_this.refNodeIndices[ref.name]=nodeIndex,queryMatchExprs.push(literalArr([literal(ref.name),literal(valueType)])))}),ast.outputs.forEach(function(outputAst){hostEvents.push({context:COMP_VAR,eventAst:outputAst,dirAst:null})}),{flags:flags,usedEvents:Array.from(usedEvents.values()),queryMatchesExpr:queryMatchExprs.length?literalArr(queryMatchExprs):NULL_EXPR,hostBindings:hostBindings,hostEvents:hostEvents}},ViewBuilder.prototype._visitDirective=function(providerAst,dirAst,directiveIndex,elementNodeIndex,refs,queryMatches,usedEvents,queryIds){var _this=this,nodeIndex=this.nodes.length;this.nodes.push(null),dirAst.directive.queries.forEach(function(query,queryIndex){var queryId=dirAst.contentQueryStartId+queryIndex,flags=67108864|calcStaticDynamicQueryFlags(queryIds,queryId,query),bindingType=query.first?0:1;_this.nodes.push(function(){return{sourceSpan:dirAst.sourceSpan,nodeFlags:flags,nodeDef:importExpr(Identifiers.queryDef).callFn([literal(flags),literal(queryId),new LiteralMapExpr([new LiteralMapEntry(query.propertyName,literal(bindingType),!1)])])}})});var childCount=this.nodes.length-nodeIndex-1,_a=this._visitProviderOrDirective(providerAst,queryMatches),flags=_a.flags,queryMatchExprs=_a.queryMatchExprs,providerExpr=_a.providerExpr,depsExpr=_a.depsExpr;refs.forEach(function(ref){ref.value&&tokenReference(ref.value)===tokenReference(providerAst.token)&&(_this.refNodeIndices[ref.name]=nodeIndex,queryMatchExprs.push(literalArr([literal(ref.name),literal(4)])))}),dirAst.directive.isComponent&&(flags|=32768);var inputDefs=dirAst.inputs.map(function(inputAst,inputIndex){var mapValue=literalArr([literal(inputIndex),literal(inputAst.directiveName)]);return new LiteralMapEntry(inputAst.directiveName,mapValue,!1)}),outputDefs=[],dirMeta=dirAst.directive;Object.keys(dirMeta.outputs).forEach(function(propName){var eventName=dirMeta.outputs[propName];usedEvents.has(eventName)&&outputDefs.push(new LiteralMapEntry(propName,literal(eventName),!1))});var updateDirectiveExpressions=[];(dirAst.inputs.length||(327680&flags)>0)&&(updateDirectiveExpressions=dirAst.inputs.map(function(input,bindingIndex){return _this._preprocessUpdateExpression({nodeIndex:nodeIndex,bindingIndex:bindingIndex,sourceSpan:input.sourceSpan,context:COMP_VAR,value:input.value})}));var dirContextExpr=importExpr(Identifiers.nodeValue).callFn([VIEW_VAR,literal(nodeIndex)]),hostBindings=dirAst.hostProperties.map(function(inputAst){return{context:dirContextExpr,dirAst:dirAst,inputAst:inputAst}}),hostEvents=dirAst.hostEvents.map(function(hostEventAst){return{context:dirContextExpr,eventAst:hostEventAst,dirAst:dirAst}}),checkIndex=nodeIndex;return this.nodes[nodeIndex]=function(){return{sourceSpan:dirAst.sourceSpan,nodeFlags:16384|flags,nodeDef:importExpr(Identifiers.directiveDef).callFn([literal(checkIndex),literal(flags),queryMatchExprs.length?literalArr(queryMatchExprs):NULL_EXPR,literal(childCount),providerExpr,depsExpr,inputDefs.length?new LiteralMapExpr(inputDefs):NULL_EXPR,outputDefs.length?new LiteralMapExpr(outputDefs):NULL_EXPR]),updateDirectives:updateDirectiveExpressions,directive:dirAst.directive.type}},{hostBindings:hostBindings,hostEvents:hostEvents}},ViewBuilder.prototype._visitProvider=function(providerAst,queryMatches){this._addProviderNode(this._visitProviderOrDirective(providerAst,queryMatches))},ViewBuilder.prototype._visitComponentFactoryResolverProvider=function(directives){var componentDirMeta=directives.find(function(dirAst){return dirAst.directive.isComponent});if(componentDirMeta&&componentDirMeta.directive.entryComponents.length){var _a=componentFactoryResolverProviderDef(this.reflector,this.outputCtx,8192,componentDirMeta.directive.entryComponents),providerExpr=_a.providerExpr,depsExpr=_a.depsExpr,flags=_a.flags,tokenExpr=_a.tokenExpr;this._addProviderNode({providerExpr:providerExpr,depsExpr:depsExpr,flags:flags,tokenExpr:tokenExpr,queryMatchExprs:[],sourceSpan:componentDirMeta.sourceSpan})}},ViewBuilder.prototype._addProviderNode=function(data){this.nodes.length;this.nodes.push(function(){return{sourceSpan:data.sourceSpan,nodeFlags:data.flags,nodeDef:importExpr(Identifiers.providerDef).callFn([literal(data.flags),data.queryMatchExprs.length?literalArr(data.queryMatchExprs):NULL_EXPR,data.tokenExpr,data.providerExpr,data.depsExpr])}})},ViewBuilder.prototype._visitProviderOrDirective=function(providerAst,queryMatches){var queryMatchExprs=[];queryMatches.forEach(function(match){tokenReference(match.value)===tokenReference(providerAst.token)&&queryMatchExprs.push(literalArr([literal(match.queryId),literal(4)]))});var _a=providerDef(this.outputCtx,providerAst),providerExpr=_a.providerExpr,depsExpr=_a.depsExpr,providerFlags=_a.flags,tokenExpr=_a.tokenExpr;return{flags:0|providerFlags,queryMatchExprs:queryMatchExprs,providerExpr:providerExpr,depsExpr:depsExpr,tokenExpr:tokenExpr,sourceSpan:providerAst.sourceSpan}},ViewBuilder.prototype.getLocal=function(name){if(name==EventHandlerVars.event.name)return EventHandlerVars.event;for(var currViewExpr=VIEW_VAR,currBuilder=this;currBuilder;currBuilder=currBuilder.parent,currViewExpr=currViewExpr.prop("parent").cast(DYNAMIC_TYPE)){var refNodeIndex=currBuilder.refNodeIndices[name];if(null!=refNodeIndex)return importExpr(Identifiers.nodeValue).callFn([currViewExpr,literal(refNodeIndex)]);var varAst=currBuilder.variables.find(function(varAst){return varAst.name===name});if(varAst){var varValue=varAst.value||"$implicit";return currViewExpr.prop("context").prop(varValue)}}return null},ViewBuilder.prototype.notifyImplicitReceiverUse=function(){},ViewBuilder.prototype._createLiteralArrayConverter=function(sourceSpan,argCount){if(0===argCount){var valueExpr_1=importExpr(Identifiers.EMPTY_ARRAY);return function(){return valueExpr_1}}var checkIndex=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:sourceSpan,nodeFlags:32,nodeDef:importExpr(Identifiers.pureArrayDef).callFn([literal(checkIndex),literal(argCount)])}}),function(args){return callCheckStmt(checkIndex,args)}},ViewBuilder.prototype._createLiteralMapConverter=function(sourceSpan,keys){if(0===keys.length){var valueExpr_2=importExpr(Identifiers.EMPTY_MAP);return function(){return valueExpr_2}}var map=literalMap(keys.map(function(e,i){return(0,_tslib.__assign)({},e,{value:literal(i)})})),checkIndex=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:sourceSpan,nodeFlags:64,nodeDef:importExpr(Identifiers.pureObjectDef).callFn([literal(checkIndex),map])}}),function(args){return callCheckStmt(checkIndex,args)}},ViewBuilder.prototype._createPipeConverter=function(expression,name,argCount){var pipe=this.usedPipes.find(function(pipeSummary){return pipeSummary.name===name});if(pipe.pure){var checkIndex_1=this.nodes.length;this.nodes.push(function(){return{sourceSpan:expression.sourceSpan,nodeFlags:128,nodeDef:importExpr(Identifiers.purePipeDef).callFn([literal(checkIndex_1),literal(argCount)])}});for(var compViewExpr=VIEW_VAR,compBuilder=this;compBuilder.parent;)compBuilder=compBuilder.parent,compViewExpr=compViewExpr.prop("parent").cast(DYNAMIC_TYPE);var pipeNodeIndex=compBuilder.purePipeNodeIndices[name],pipeValueExpr_1=importExpr(Identifiers.nodeValue).callFn([compViewExpr,literal(pipeNodeIndex)]);return function(args){return callUnwrapValue(expression.nodeIndex,expression.bindingIndex,callCheckStmt(checkIndex_1,[pipeValueExpr_1].concat(args)))}}var nodeIndex=this._createPipe(expression.sourceSpan,pipe),nodeValueExpr_1=importExpr(Identifiers.nodeValue).callFn([VIEW_VAR,literal(nodeIndex)]);return function(args){return callUnwrapValue(expression.nodeIndex,expression.bindingIndex,nodeValueExpr_1.callMethod("transform",args))}},ViewBuilder.prototype._createPipe=function(sourceSpan,pipe){var _this=this,nodeIndex=this.nodes.length,flags=0;pipe.type.lifecycleHooks.forEach(function(lifecycleHook){lifecycleHook===LifecycleHooks.OnDestroy&&(flags|=lifecycleHookToNodeFlag(lifecycleHook))});var depExprs=pipe.type.diDeps.map(function(diDep){return depDef(_this.outputCtx,diDep)});return this.nodes.push(function(){return{sourceSpan:sourceSpan,nodeFlags:16,nodeDef:importExpr(Identifiers.pipeDef).callFn([literal(flags),_this.outputCtx.importExpr(pipe.type.reference),literalArr(depExprs)])}}),nodeIndex},ViewBuilder.prototype._preprocessUpdateExpression=function(expression){var _this=this;return{nodeIndex:expression.nodeIndex,bindingIndex:expression.bindingIndex,sourceSpan:expression.sourceSpan,context:expression.context,value:convertPropertyBindingBuiltins({createLiteralArrayConverter:function(argCount){return _this._createLiteralArrayConverter(expression.sourceSpan,argCount)},createLiteralMapConverter:function(keys){return _this._createLiteralMapConverter(expression.sourceSpan,keys)},createPipeConverter:function(name,argCount){return _this._createPipeConverter(expression,name,argCount)}},expression.value)}},ViewBuilder.prototype._createNodeExpressions=function(){var self=this,updateBindingCount=0,updateRendererStmts=[],updateDirectivesStmts=[],nodeDefExprs=this.nodes.map(function(factory,nodeIndex){var _a=factory(),nodeDef=_a.nodeDef,nodeFlags=_a.nodeFlags,updateDirectives=_a.updateDirectives,updateRenderer=_a.updateRenderer,sourceSpan=_a.sourceSpan;return updateRenderer&&updateRendererStmts.push.apply(updateRendererStmts,(0,_tslib.__spread)(createUpdateStatements(nodeIndex,sourceSpan,updateRenderer,!1))),updateDirectives&&updateDirectivesStmts.push.apply(updateDirectivesStmts,(0,_tslib.__spread)(createUpdateStatements(nodeIndex,sourceSpan,updateDirectives,(327680&nodeFlags)>0))),applySourceSpanToExpressionIfNeeded(3&nodeFlags?new CommaExpr([LOG_VAR$1.callFn([]).callFn([]),nodeDef]):nodeDef,sourceSpan)});return{updateRendererStmts:updateRendererStmts,updateDirectivesStmts:updateDirectivesStmts,nodeDefExprs:nodeDefExprs};function createUpdateStatements(nodeIndex,sourceSpan,expressions,allowEmptyExprs){var updateStmts=[],exprs=expressions.map(function(_a){var sourceSpan=_a.sourceSpan,context=_a.context,value=_a.value,bindingId=""+updateBindingCount++,_b=convertPropertyBinding(context===COMP_VAR?self:null,context,value,bindingId,BindingForm.General),stmts=_b.stmts,currValExpr=_b.currValExpr;return updateStmts.push.apply(updateStmts,(0,_tslib.__spread)(stmts.map(function(stmt){return applySourceSpanToStatementIfNeeded(stmt,sourceSpan)}))),applySourceSpanToExpressionIfNeeded(currValExpr,sourceSpan)});return(expressions.length||allowEmptyExprs)&&updateStmts.push(applySourceSpanToStatementIfNeeded(callCheckStmt(nodeIndex,exprs).toStmt(),sourceSpan)),updateStmts}},ViewBuilder.prototype._createElementHandleEventFn=function(nodeIndex,handlers){var handleEventFn,_this=this,handleEventStmts=[],handleEventBindingCount=0;if(handlers.forEach(function(_a){var context=_a.context,eventAst=_a.eventAst,dirAst=_a.dirAst,bindingId=""+handleEventBindingCount++,_b=convertActionBinding(context===COMP_VAR?_this:null,context,eventAst.handler,bindingId),stmts=_b.stmts,allowDefault=_b.allowDefault,trueStmts=stmts;allowDefault&&trueStmts.push(ALLOW_DEFAULT_VAR.set(allowDefault.and(ALLOW_DEFAULT_VAR)).toStmt());var _c=elementEventNameAndTarget(eventAst,dirAst),fullEventName=elementEventFullName(_c.target,_c.name);handleEventStmts.push(applySourceSpanToStatementIfNeeded(new IfStmt(literal(fullEventName).identical(EVENT_NAME_VAR),trueStmts),eventAst.sourceSpan))}),handleEventStmts.length>0){var preStmts=[ALLOW_DEFAULT_VAR.set(literal(!0)).toDeclStmt(BOOL_TYPE)];!this.component.isHost&&findReadVarNames(handleEventStmts).has(COMP_VAR.name)&&preStmts.push(COMP_VAR.set(VIEW_VAR.prop("component")).toDeclStmt(this.compType)),handleEventFn=fn([new FnParam(VIEW_VAR.name,INFERRED_TYPE),new FnParam(EVENT_NAME_VAR.name,INFERRED_TYPE),new FnParam(EventHandlerVars.event.name,INFERRED_TYPE)],(0,_tslib.__spread)(preStmts,handleEventStmts,[new ReturnStatement(ALLOW_DEFAULT_VAR)]),INFERRED_TYPE)}else handleEventFn=NULL_EXPR;return handleEventFn},ViewBuilder.prototype.visitDirective=function(ast,context){},ViewBuilder.prototype.visitDirectiveProperty=function(ast,context){},ViewBuilder.prototype.visitReference=function(ast,context){},ViewBuilder.prototype.visitVariable=function(ast,context){},ViewBuilder.prototype.visitEvent=function(ast,context){},ViewBuilder.prototype.visitElementProperty=function(ast,context){},ViewBuilder.prototype.visitAttr=function(ast,context){},ViewBuilder}();function callCheckStmt(nodeIndex,exprs){return exprs.length>10?CHECK_VAR.callFn([VIEW_VAR,literal(nodeIndex),literal(1),literalArr(exprs)]):CHECK_VAR.callFn((0,_tslib.__spread)([VIEW_VAR,literal(nodeIndex),literal(0)],exprs))}function callUnwrapValue(nodeIndex,bindingIdx,expr){return importExpr(Identifiers.unwrapValue).callFn([VIEW_VAR,literal(nodeIndex),literal(bindingIdx),expr])}function findStaticQueryIds(nodes,result){return void 0===result&&(result=new Map),nodes.forEach(function(node){var staticQueryIds=new Set,dynamicQueryIds=new Set,queryMatches=void 0;node instanceof ElementAst?(findStaticQueryIds(node.children,result),node.children.forEach(function(child){var childData=result.get(child);childData.staticQueryIds.forEach(function(queryId){return staticQueryIds.add(queryId)}),childData.dynamicQueryIds.forEach(function(queryId){return dynamicQueryIds.add(queryId)})}),queryMatches=node.queryMatches):node instanceof EmbeddedTemplateAst&&(findStaticQueryIds(node.children,result),node.children.forEach(function(child){var childData=result.get(child);childData.staticQueryIds.forEach(function(queryId){return dynamicQueryIds.add(queryId)}),childData.dynamicQueryIds.forEach(function(queryId){return dynamicQueryIds.add(queryId)})}),queryMatches=node.queryMatches),queryMatches&&queryMatches.forEach(function(match){return staticQueryIds.add(match.queryId)}),dynamicQueryIds.forEach(function(queryId){return staticQueryIds.delete(queryId)}),result.set(node,{staticQueryIds:staticQueryIds,dynamicQueryIds:dynamicQueryIds})}),result}function staticViewQueryIds(nodeStaticQueryIds){var staticQueryIds=new Set,dynamicQueryIds=new Set;return Array.from(nodeStaticQueryIds.values()).forEach(function(entry){entry.staticQueryIds.forEach(function(queryId){return staticQueryIds.add(queryId)}),entry.dynamicQueryIds.forEach(function(queryId){return dynamicQueryIds.add(queryId)})}),dynamicQueryIds.forEach(function(queryId){return staticQueryIds.delete(queryId)}),{staticQueryIds:staticQueryIds,dynamicQueryIds:dynamicQueryIds}}function elementEventNameAndTarget(eventAst,dirAst){return eventAst.isAnimation?{name:"@"+eventAst.name+"."+eventAst.phase,target:dirAst&&dirAst.directive.isComponent?"component":null}:eventAst}function calcStaticDynamicQueryFlags(queryIds,queryId,query){var flags=0;return query.first&&function(queryIds,queryId,query){return query.static||null==query.static&&(queryIds.staticQueryIds.has(queryId)||!queryIds.dynamicQueryIds.has(queryId))}(queryIds,queryId,query)?flags|=268435456:flags|=536870912,flags}function elementEventFullName(target,name){return target?target+":"+name:name}var MessageBundle=function(){function MessageBundle(_htmlParser,_implicitTags,_implicitAttrs,_locale){void 0===_locale&&(_locale=null),this._htmlParser=_htmlParser,this._implicitTags=_implicitTags,this._implicitAttrs=_implicitAttrs,this._locale=_locale,this._messages=[]}return MessageBundle.prototype.updateFromTemplate=function(html,url,interpolationConfig){var _a,htmlParserResult=this._htmlParser.parse(html,url,{tokenizeExpansionForms:!0,interpolationConfig:interpolationConfig});if(htmlParserResult.errors.length)return htmlParserResult.errors;var i18nParserResult=function(nodes,interpolationConfig,implicitTags,implicitAttrs){return new _Visitor$2(implicitTags,implicitAttrs).extract(nodes,interpolationConfig)}(htmlParserResult.rootNodes,interpolationConfig,this._implicitTags,this._implicitAttrs);return i18nParserResult.errors.length?i18nParserResult.errors:((_a=this._messages).push.apply(_a,(0,_tslib.__spread)(i18nParserResult.messages)),[])},MessageBundle.prototype.getMessages=function(){return this._messages},MessageBundle.prototype.write=function(serializer,filterSources){var messages={},mapperVisitor=new MapPlaceholderNames;this._messages.forEach(function(message){var _a,id=serializer.digest(message);messages.hasOwnProperty(id)?(_a=messages[id].sources).push.apply(_a,(0,_tslib.__spread)(message.sources)):messages[id]=message});var msgList=Object.keys(messages).map(function(id){var mapper=serializer.createNameMapper(messages[id]),src=messages[id],nodes=mapper?mapperVisitor.convert(src.nodes,mapper):src.nodes,transformedMessage=new Message(nodes,{},{},src.meaning,src.description,id);return transformedMessage.sources=src.sources,filterSources&&transformedMessage.sources.forEach(function(source){return source.filePath=filterSources(source.filePath)}),transformedMessage});return serializer.write(msgList,this._locale)},MessageBundle}();exports.MessageBundle=MessageBundle;var MapPlaceholderNames=function(_super){function MapPlaceholderNames(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(MapPlaceholderNames,_super),MapPlaceholderNames.prototype.convert=function(nodes,mapper){var _this=this;return mapper?nodes.map(function(n){return n.visit(_this,mapper)}):nodes},MapPlaceholderNames.prototype.visitTagPlaceholder=function(ph,mapper){var _this=this,startName=mapper.toPublicName(ph.startName),closeName=ph.closeName?mapper.toPublicName(ph.closeName):ph.closeName,children=ph.children.map(function(n){return n.visit(_this,mapper)});return new TagPlaceholder(ph.tag,ph.attrs,startName,closeName,children,ph.isVoid,ph.sourceSpan)},MapPlaceholderNames.prototype.visitPlaceholder=function(ph,mapper){return new Placeholder(ph.value,mapper.toPublicName(ph.name),ph.sourceSpan)},MapPlaceholderNames.prototype.visitIcuPlaceholder=function(ph,mapper){return new IcuPlaceholder(ph.value,mapper.toPublicName(ph.name),ph.sourceSpan)},MapPlaceholderNames}(CloneVisitor),GeneratedFile=function(){function GeneratedFile(srcFileUrl,genFileUrl,sourceOrStmts){this.srcFileUrl=srcFileUrl,this.genFileUrl=genFileUrl,"string"==typeof sourceOrStmts?(this.source=sourceOrStmts,this.stmts=null):(this.source=null,this.stmts=sourceOrStmts)}return GeneratedFile.prototype.isEquivalent=function(other){return this.genFileUrl===other.genFileUrl&&(this.source?this.source===other.source:null!=other.stmts&&areAllEquivalent(this.stmts,other.stmts))},GeneratedFile}();function listLazyRoutes(moduleMeta,reflector){var e_1,_a,e_2,_b,allLazyRoutes=[];try{for(var _c=(0,_tslib.__values)(moduleMeta.transitiveModule.providers),_d=_c.next();!_d.done;_d=_c.next()){var _e=_d.value,provider=_e.provider,module=_e.module;if(tokenReference(provider.token)===reflector.ROUTES){var loadChildren=_collectLoadChildren(provider.useValue);try{for(var loadChildren_1=(e_2=void 0,(0,_tslib.__values)(loadChildren)),loadChildren_1_1=loadChildren_1.next();!loadChildren_1_1.done;loadChildren_1_1=loadChildren_1.next()){var route=loadChildren_1_1.value;allLazyRoutes.push(parseLazyRoute(route,reflector,module.reference))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{loadChildren_1_1&&!loadChildren_1_1.done&&(_b=loadChildren_1.return)&&_b.call(loadChildren_1)}finally{if(e_2)throw e_2.error}}}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}return allLazyRoutes}function _collectLoadChildren(routes,target){var e_3,_a;if(void 0===target&&(target=[]),"string"==typeof routes)target.push(routes);else if(Array.isArray(routes))try{for(var routes_1=(0,_tslib.__values)(routes),routes_1_1=routes_1.next();!routes_1_1.done;routes_1_1=routes_1.next()){_collectLoadChildren(routes_1_1.value,target)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{routes_1_1&&!routes_1_1.done&&(_a=routes_1.return)&&_a.call(routes_1)}finally{if(e_3)throw e_3.error}}else routes.loadChildren?_collectLoadChildren(routes.loadChildren,target):routes.children&&_collectLoadChildren(routes.children,target);return target}function parseLazyRoute(route,reflector,module){var _a=(0,_tslib.__read)(route.split("#"),2),routePath=_a[0],routeName=_a[1],referencedModule=reflector.resolveExternalReference({moduleName:routePath,name:routeName},module?module.filePath:void 0);return{route:route,module:module||referencedModule,referencedModule:referencedModule}}exports.GeneratedFile=GeneratedFile;var TS=/^(?!.*\.d\.ts$).*\.ts$/,ResolvedStaticSymbol=function(){return function(symbol,metadata){this.symbol=symbol,this.metadata=metadata}}();exports.ResolvedStaticSymbol=ResolvedStaticSymbol;var StaticSymbolResolver=function(){function StaticSymbolResolver(host,staticSymbolCache,summaryResolver,errorRecorder){this.host=host,this.staticSymbolCache=staticSymbolCache,this.summaryResolver=summaryResolver,this.errorRecorder=errorRecorder,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.resolvedFilePaths=new Set,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map,this.knownFileNameToModuleNames=new Map}return StaticSymbolResolver.prototype.resolveSymbol=function(staticSymbol){if(staticSymbol.members.length>0)return this._resolveSymbolMembers(staticSymbol);var resultFromSummary=this._resolveSymbolFromSummary(staticSymbol);if(resultFromSummary)return resultFromSummary;var resultFromCache=this.resolvedSymbols.get(staticSymbol);return resultFromCache||(this._createSymbolsOf(staticSymbol.filePath),this.resolvedSymbols.get(staticSymbol))},StaticSymbolResolver.prototype.getImportAs=function(staticSymbol,useSummaries){if(void 0===useSummaries&&(useSummaries=!0),staticSymbol.members.length){var baseSymbol=this.getStaticSymbol(staticSymbol.filePath,staticSymbol.name);return(baseImportAs=this.getImportAs(baseSymbol,useSummaries))?this.getStaticSymbol(baseImportAs.filePath,baseImportAs.name,staticSymbol.members):null}var summarizedFileName=staticSymbol.filePath.replace(JIT_SUMMARY_FILE,".");if(summarizedFileName!==staticSymbol.filePath){var baseImportAs,summarizedName=staticSymbol.name.replace(JIT_SUMMARY_NAME,"");baseSymbol=this.getStaticSymbol(summarizedFileName,summarizedName,staticSymbol.members);return(baseImportAs=this.getImportAs(baseSymbol,useSummaries))?this.getStaticSymbol(summaryForJitFileName(baseImportAs.filePath),summaryForJitName(baseImportAs.name),baseSymbol.members):null}var result=useSummaries&&this.summaryResolver.getImportAs(staticSymbol)||null;return result||(result=this.importAs.get(staticSymbol)),result},StaticSymbolResolver.prototype.getResourcePath=function(staticSymbol){return this.symbolResourcePaths.get(staticSymbol)||staticSymbol.filePath},StaticSymbolResolver.prototype.getTypeArity=function(staticSymbol){if(filePath=staticSymbol.filePath,GENERATED_FILE.test(filePath))return null;for(var filePath,resolvedSymbol=unwrapResolvedMetadata(this.resolveSymbol(staticSymbol));resolvedSymbol&&resolvedSymbol.metadata instanceof StaticSymbol;)resolvedSymbol=unwrapResolvedMetadata(this.resolveSymbol(resolvedSymbol.metadata));return resolvedSymbol&&resolvedSymbol.metadata&&resolvedSymbol.metadata.arity||null},StaticSymbolResolver.prototype.getKnownModuleName=function(filePath){return this.knownFileNameToModuleNames.get(filePath)||null},StaticSymbolResolver.prototype.recordImportAs=function(sourceSymbol,targetSymbol){sourceSymbol.assertNoMembers(),targetSymbol.assertNoMembers(),this.importAs.set(sourceSymbol,targetSymbol)},StaticSymbolResolver.prototype.recordModuleNameForFileName=function(fileName,moduleName){this.knownFileNameToModuleNames.set(fileName,moduleName)},StaticSymbolResolver.prototype.invalidateFile=function(fileName){var e_1,_a;this.metadataCache.delete(fileName),this.resolvedFilePaths.delete(fileName);var symbols=this.symbolFromFile.get(fileName);if(symbols){this.symbolFromFile.delete(fileName);try{for(var symbols_1=(0,_tslib.__values)(symbols),symbols_1_1=symbols_1.next();!symbols_1_1.done;symbols_1_1=symbols_1.next()){var symbol=symbols_1_1.value;this.resolvedSymbols.delete(symbol),this.importAs.delete(symbol),this.symbolResourcePaths.delete(symbol)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{symbols_1_1&&!symbols_1_1.done&&(_a=symbols_1.return)&&_a.call(symbols_1)}finally{if(e_1)throw e_1.error}}}},StaticSymbolResolver.prototype.ignoreErrorsFor=function(cb){var recorder=this.errorRecorder;this.errorRecorder=function(){};try{return cb()}finally{this.errorRecorder=recorder}},StaticSymbolResolver.prototype._resolveSymbolMembers=function(staticSymbol){var members=staticSymbol.members,baseResolvedSymbol=this.resolveSymbol(this.getStaticSymbol(staticSymbol.filePath,staticSymbol.name));if(!baseResolvedSymbol)return null;var baseMetadata=unwrapResolvedMetadata(baseResolvedSymbol.metadata);if(baseMetadata instanceof StaticSymbol)return new ResolvedStaticSymbol(staticSymbol,this.getStaticSymbol(baseMetadata.filePath,baseMetadata.name,members));if(!baseMetadata||"class"!==baseMetadata.__symbolic){for(var value=baseMetadata,i=0;i<members.length&&value;i++)value=value[members[i]];return new ResolvedStaticSymbol(staticSymbol,value)}return baseMetadata.statics&&1===members.length?new ResolvedStaticSymbol(staticSymbol,baseMetadata.statics[members[0]]):null},StaticSymbolResolver.prototype._resolveSymbolFromSummary=function(staticSymbol){var summary=this.summaryResolver.resolveSummary(staticSymbol);return summary?new ResolvedStaticSymbol(staticSymbol,summary.metadata):null},StaticSymbolResolver.prototype.getStaticSymbol=function(declarationFile,name,members){return this.staticSymbolCache.get(declarationFile,name,members)},StaticSymbolResolver.prototype.hasDecorators=function(filePath){var metadata=this.getModuleMetadata(filePath);return!!metadata.metadata&&Object.keys(metadata.metadata).some(function(metadataKey){var entry=metadata.metadata[metadataKey];return entry&&"class"===entry.__symbolic&&entry.decorators})},StaticSymbolResolver.prototype.getSymbolsOf=function(filePath){var summarySymbols=this.summaryResolver.getSymbolsOf(filePath);if(summarySymbols)return summarySymbols;this._createSymbolsOf(filePath);var metadataSymbols=[];return this.resolvedSymbols.forEach(function(resolvedSymbol){resolvedSymbol.symbol.filePath===filePath&&metadataSymbols.push(resolvedSymbol.symbol)}),metadataSymbols},StaticSymbolResolver.prototype._createSymbolsOf=function(filePath){var e_2,_a,_this=this;if(!this.resolvedFilePaths.has(filePath)){this.resolvedFilePaths.add(filePath);var resolvedSymbols=[],metadata=this.getModuleMetadata(filePath);if(metadata.importAs&&this.knownFileNameToModuleNames.set(filePath,metadata.importAs),metadata.exports){var _loop_1=function(moduleExport){if(moduleExport.export)moduleExport.export.forEach(function(exportSymbol){var symbolName,symName=symbolName=unescapeIdentifier(symbolName="string"==typeof exportSymbol?exportSymbol:exportSymbol.as);"string"!=typeof exportSymbol&&(symName=unescapeIdentifier(exportSymbol.name));var resolvedModule=_this.resolveModule(moduleExport.from,filePath);if(resolvedModule){var targetSymbol=_this.getStaticSymbol(resolvedModule,symName),sourceSymbol=_this.getStaticSymbol(filePath,symbolName);resolvedSymbols.push(_this.createExport(sourceSymbol,targetSymbol))}});else{var resolvedModule=this_1.resolveModule(moduleExport.from,filePath);if(resolvedModule)this_1.getSymbolsOf(resolvedModule).forEach(function(targetSymbol){var sourceSymbol=_this.getStaticSymbol(filePath,targetSymbol.name);resolvedSymbols.push(_this.createExport(sourceSymbol,targetSymbol))})}},this_1=this;try{for(var _b=(0,_tslib.__values)(metadata.exports),_c=_b.next();!_c.done;_c=_b.next()){_loop_1(_c.value)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}}if(metadata.metadata){var topLevelSymbolNames_1=new Set(Object.keys(metadata.metadata).map(unescapeIdentifier)),origins_1=metadata.origins||{};Object.keys(metadata.metadata).forEach(function(metadataKey){var symbolMeta=metadata.metadata[metadataKey],name=unescapeIdentifier(metadataKey),symbol=_this.getStaticSymbol(filePath,name),origin=origins_1.hasOwnProperty(metadataKey)&&origins_1[metadataKey];if(origin){var originFilePath=_this.resolveModule(origin,filePath);originFilePath?_this.symbolResourcePaths.set(symbol,originFilePath):_this.reportError(new Error("Couldn't resolve original symbol for "+origin+" from "+_this.host.getOutputName(filePath)))}resolvedSymbols.push(_this.createResolvedSymbol(symbol,filePath,topLevelSymbolNames_1,symbolMeta))})}resolvedSymbols.forEach(function(resolvedSymbol){return _this.resolvedSymbols.set(resolvedSymbol.symbol,resolvedSymbol)}),this.symbolFromFile.set(filePath,resolvedSymbols.map(function(resolvedSymbol){return resolvedSymbol.symbol}))}},StaticSymbolResolver.prototype.createResolvedSymbol=function(sourceSymbol,topLevelPath,topLevelSymbolNames,metadata){var _originalFileMemo,_this=this,isTsFile=TS.test(sourceSymbol.filePath);if(this.summaryResolver.isLibraryFile(sourceSymbol.filePath)&&!isTsFile&&metadata&&"class"===metadata.__symbolic){var transformedMeta_1={__symbolic:"class",arity:metadata.arity};return new ResolvedStaticSymbol(sourceSymbol,transformedMeta_1)}var getOriginalName=function(){return _originalFileMemo||(_originalFileMemo=_this.host.getOutputName(topLevelPath.replace(/((\.ts)|(\.d\.ts)|)$/,".ts").replace(/^.*node_modules[/\\]/,""))),_originalFileMemo},self=this,transformedMeta=visitValue(metadata,new(function(_super){function ReferenceTransformer(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(ReferenceTransformer,_super),ReferenceTransformer.prototype.visitStringMap=function(map,functionParams){var symbolic=map.__symbolic;if("function"===symbolic){var oldLen=functionParams.length;functionParams.push.apply(functionParams,(0,_tslib.__spread)(map.parameters||[]));var result=_super.prototype.visitStringMap.call(this,map,functionParams);return functionParams.length=oldLen,result}if("reference"!==symbolic)return"error"===symbolic?(0,_tslib.__assign)({},map,{fileName:getOriginalName()}):_super.prototype.visitStringMap.call(this,map,functionParams);var module=map.module,name_1=map.name?unescapeIdentifier(map.name):map.name;if(!name_1)return null;var filePath=void 0;return module?(filePath=self.resolveModule(module,sourceSymbol.filePath))?{__symbolic:"resolved",symbol:self.getStaticSymbol(filePath,name_1),line:map.line,character:map.character,fileName:getOriginalName()}:{__symbolic:"error",message:"Could not resolve "+module+" relative to "+self.host.getMetadataFor(sourceSymbol.filePath)+".",line:map.line,character:map.character,fileName:getOriginalName()}:functionParams.indexOf(name_1)>=0?{__symbolic:"reference",name:name_1}:topLevelSymbolNames.has(name_1)?self.getStaticSymbol(topLevelPath,name_1):void 0},ReferenceTransformer}(ValueTransformer)),[]),unwrappedTransformedMeta=unwrapResolvedMetadata(transformedMeta);return unwrappedTransformedMeta instanceof StaticSymbol?this.createExport(sourceSymbol,unwrappedTransformedMeta):new ResolvedStaticSymbol(sourceSymbol,transformedMeta)},StaticSymbolResolver.prototype.createExport=function(sourceSymbol,targetSymbol){return sourceSymbol.assertNoMembers(),targetSymbol.assertNoMembers(),this.summaryResolver.isLibraryFile(sourceSymbol.filePath)&&this.summaryResolver.isLibraryFile(targetSymbol.filePath)&&this.importAs.set(targetSymbol,this.getImportAs(sourceSymbol)||sourceSymbol),new ResolvedStaticSymbol(sourceSymbol,targetSymbol)},StaticSymbolResolver.prototype.reportError=function(error,context,path){if(!this.errorRecorder)throw error;this.errorRecorder(error,context&&context.filePath||path)},StaticSymbolResolver.prototype.getModuleMetadata=function(module){var moduleMetadata=this.metadataCache.get(module);if(!moduleMetadata){var moduleMetadatas=this.host.getMetadataFor(module);if(moduleMetadatas){var maxVersion_1=-1;moduleMetadatas.forEach(function(md){md&&md.version>maxVersion_1&&(maxVersion_1=md.version,moduleMetadata=md)})}if(moduleMetadata||(moduleMetadata={__symbolic:"module",version:4,module:module,metadata:{}}),4!=moduleMetadata.version){var errorMessage=2==moduleMetadata.version?"Unsupported metadata version "+moduleMetadata.version+" for module "+module+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+this.host.getOutputName(module)+", found version "+moduleMetadata.version+", expected 4";this.reportError(new Error(errorMessage))}this.metadataCache.set(module,moduleMetadata)}return moduleMetadata},StaticSymbolResolver.prototype.getSymbolByModule=function(module,symbolName,containingFile){var filePath=this.resolveModule(module,containingFile);return filePath?this.getStaticSymbol(filePath,symbolName):(this.reportError(new Error("Could not resolve module "+module+(containingFile?" relative to "+this.host.getOutputName(containingFile):""))),this.getStaticSymbol("ERROR:"+module,symbolName))},StaticSymbolResolver.prototype.resolveModule=function(module,containingFile){try{return this.host.moduleNameToFileName(module,containingFile)}catch(e){console.error("Could not resolve module '"+module+"' relative to file "+containingFile),this.reportError(e,void 0,containingFile)}return null},StaticSymbolResolver}();function unescapeIdentifier(identifier){return identifier.startsWith("___")?identifier.substr(1):identifier}function unwrapResolvedMetadata(metadata){return metadata&&"resolved"===metadata.__symbolic?metadata.symbol:metadata}function createSummaryForJitFunction(outputCtx,reference,value){var fnName=summaryForJitName(reference.name);outputCtx.statements.push(fn([],[new ReturnStatement(value)],new ArrayType(DYNAMIC_TYPE)).toDeclStmt(fnName,[StmtModifier.Final,StmtModifier.Exported]))}exports.StaticSymbolResolver=StaticSymbolResolver;var ToJsonSerializer=function(_super){function ToJsonSerializer(symbolResolver,summaryResolver,srcFileName){var _this=_super.call(this)||this;return _this.symbolResolver=symbolResolver,_this.summaryResolver=summaryResolver,_this.srcFileName=srcFileName,_this.symbols=[],_this.indexBySymbol=new Map,_this.reexportedBy=new Map,_this.processedSummaryBySymbol=new Map,_this.processedSummaries=[],_this.unprocessedSymbolSummariesBySymbol=new Map,_this.moduleName=symbolResolver.getKnownModuleName(srcFileName),_this}return(0,_tslib.__extends)(ToJsonSerializer,_super),ToJsonSerializer.prototype.addSummary=function(summary){var metadata,_this=this,unprocessedSummary=this.unprocessedSymbolSummariesBySymbol.get(summary.symbol),processedSummary=this.processedSummaryBySymbol.get(summary.symbol);if(unprocessedSummary||(unprocessedSummary={symbol:summary.symbol,metadata:void 0},this.unprocessedSymbolSummariesBySymbol.set(summary.symbol,unprocessedSummary),processedSummary={symbol:this.processValue(summary.symbol,0)},this.processedSummaries.push(processedSummary),this.processedSummaryBySymbol.set(summary.symbol,processedSummary)),!unprocessedSummary.metadata&&summary.metadata){var metadata_1=summary.metadata||{};if("class"===metadata_1.__symbolic){var clone_1={};Object.keys(metadata_1).forEach(function(propName){"decorators"!==propName&&(clone_1[propName]=metadata_1[propName])}),metadata_1=clone_1}else isCall(metadata_1)&&(isCall(metadata=metadata_1)&&unwrapResolvedMetadata(metadata.expression)instanceof StaticSymbol||function(metadata){return isCall(metadata)&&metadata.expression&&"select"===metadata.expression.__symbolic&&unwrapResolvedMetadata(metadata.expression.expression)instanceof StaticSymbol}(metadata_1)||(metadata_1={__symbolic:"error",message:"Complex function calls are not supported."}));if(unprocessedSummary.metadata=metadata_1,processedSummary.metadata=this.processValue(metadata_1,1),metadata_1 instanceof StaticSymbol&&this.summaryResolver.isLibraryFile(metadata_1.filePath)){var declarationSymbol=this.symbols[this.indexBySymbol.get(metadata_1)];isLoweredSymbol(declarationSymbol.name)||this.reexportedBy.set(declarationSymbol,summary.symbol)}}if(!unprocessedSummary.type&&summary.type&&(unprocessedSummary.type=summary.type,processedSummary.type=this.processValue(summary.type,0),summary.type.summaryKind===CompileSummaryKind.NgModule)){var ngModuleSummary=summary.type;ngModuleSummary.exportedDirectives.concat(ngModuleSummary.exportedPipes).forEach(function(id){var symbol=id.reference;if(_this.summaryResolver.isLibraryFile(symbol.filePath)&&!_this.unprocessedSymbolSummariesBySymbol.has(symbol)){var summary_1=_this.summaryResolver.resolveSummary(symbol);summary_1&&_this.addSummary(summary_1)}})}},ToJsonSerializer.prototype.serialize=function(createExternalSymbolReexports){var _this=this,exportAs=[];return{json:JSON.stringify({moduleName:this.moduleName,summaries:this.processedSummaries,symbols:this.symbols.map(function(symbol,index){symbol.assertNoMembers();var importAs=void 0;if(_this.summaryResolver.isLibraryFile(symbol.filePath)){var reexportSymbol=_this.reexportedBy.get(symbol);if(reexportSymbol)importAs=_this.indexBySymbol.get(reexportSymbol);else if(createExternalSymbolReexports){var summary=_this.unprocessedSymbolSummariesBySymbol.get(symbol);summary&&summary.metadata&&"interface"===summary.metadata.__symbolic||(importAs=symbol.name+"_"+index,exportAs.push({symbol:symbol,exportAs:importAs}))}}return{__symbol:index,name:symbol.name,filePath:_this.summaryResolver.toSummaryFileName(symbol.filePath,_this.srcFileName),importAs:importAs}})}),exportAs:exportAs}},ToJsonSerializer.prototype.processValue=function(value,flags){return visitValue(value,this,flags)},ToJsonSerializer.prototype.visitOther=function(value,context){if(value instanceof StaticSymbol){var baseSymbol=this.symbolResolver.getStaticSymbol(value.filePath,value.name);return{__symbol:this.visitStaticSymbol(baseSymbol,context),members:value.members}}},ToJsonSerializer.prototype.visitStringMap=function(map,context){return"resolved"===map.__symbolic?visitValue(map.symbol,this,context):("error"===map.__symbolic&&(delete map.line,delete map.character),_super.prototype.visitStringMap.call(this,map,context))},ToJsonSerializer.prototype.visitStaticSymbol=function(baseSymbol,flags){var index=this.indexBySymbol.get(baseSymbol),summary=null;if(1&flags&&this.summaryResolver.isLibraryFile(baseSymbol.filePath)){if(this.unprocessedSymbolSummariesBySymbol.has(baseSymbol))return index;(summary=this.loadSummary(baseSymbol))&&summary.metadata instanceof StaticSymbol&&(index=this.visitStaticSymbol(summary.metadata,flags),summary=null)}else if(null!=index)return index;return null==index&&(index=this.symbols.length,this.symbols.push(baseSymbol)),this.indexBySymbol.set(baseSymbol,index),summary&&this.addSummary(summary),index},ToJsonSerializer.prototype.loadSummary=function(symbol){var summary=this.summaryResolver.resolveSummary(symbol);if(!summary){var resolvedSymbol=this.symbolResolver.resolveSymbol(symbol);resolvedSymbol&&(summary={symbol:resolvedSymbol.symbol,metadata:resolvedSymbol.metadata})}return summary},ToJsonSerializer}(ValueTransformer),ForJitSerializer=function(){function ForJitSerializer(outputCtx,symbolResolver,summaryResolver){this.outputCtx=outputCtx,this.symbolResolver=symbolResolver,this.summaryResolver=summaryResolver,this.data=[]}return ForJitSerializer.prototype.addSourceType=function(summary,metadata){this.data.push({summary:summary,metadata:metadata,isLibrary:!1})},ForJitSerializer.prototype.addLibType=function(summary){this.data.push({summary:summary,metadata:null,isLibrary:!0})},ForJitSerializer.prototype.serialize=function(exportAsArr){var e_1,_a,e_2,_b,e_3,_c,_this=this,exportAsBySymbol=new Map;try{for(var exportAsArr_1=(0,_tslib.__values)(exportAsArr),exportAsArr_1_1=exportAsArr_1.next();!exportAsArr_1_1.done;exportAsArr_1_1=exportAsArr_1.next()){var _d=exportAsArr_1_1.value,symbol=_d.symbol,exportAs=_d.exportAs;exportAsBySymbol.set(symbol,exportAs)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{exportAsArr_1_1&&!exportAsArr_1_1.done&&(_a=exportAsArr_1.return)&&_a.call(exportAsArr_1)}finally{if(e_1)throw e_1.error}}var ngModuleSymbols=new Set;try{for(var _e=(0,_tslib.__values)(this.data),_f=_e.next();!_f.done;_f=_e.next()){var _g=_f.value,summary=_g.summary,metadata=_g.metadata,isLibrary=_g.isLibrary;if(summary.summaryKind===CompileSummaryKind.NgModule){ngModuleSymbols.add(summary.type.reference);var modSummary=summary;try{for(var _h=(e_3=void 0,(0,_tslib.__values)(modSummary.modules)),_j=_h.next();!_j.done;_j=_h.next()){var mod=_j.value;ngModuleSymbols.add(mod.reference)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_j&&!_j.done&&(_c=_h.return)&&_c.call(_h)}finally{if(e_3)throw e_3.error}}}if(!isLibrary){summaryForJitName(summary.type.reference.name);createSummaryForJitFunction(this.outputCtx,summary.type.reference,this.serializeSummaryWithDeps(summary,metadata))}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_2)throw e_2.error}}ngModuleSymbols.forEach(function(ngModuleSymbol){if(_this.summaryResolver.isLibraryFile(ngModuleSymbol.filePath)){var jitExportAsName=summaryForJitName(exportAsBySymbol.get(ngModuleSymbol)||ngModuleSymbol.name);_this.outputCtx.statements.push(variable(jitExportAsName).set(_this.serializeSummaryRef(ngModuleSymbol)).toDeclStmt(null,[StmtModifier.Exported]))}})},ForJitSerializer.prototype.serializeSummaryWithDeps=function(summary,metadata){var _this=this,expressions=[this.serializeSummary(summary)],providers=[];if(metadata instanceof CompileNgModuleMetadata)expressions.push.apply(expressions,(0,_tslib.__spread)(metadata.declaredDirectives.concat(metadata.declaredPipes).map(function(type){return type.reference}).concat(metadata.transitiveModule.modules.map(function(type){return type.reference}).filter(function(ref){return ref!==metadata.type.reference})).map(function(ref){return _this.serializeSummaryRef(ref)}))),providers=metadata.providers;else if(summary.summaryKind===CompileSummaryKind.Directive){var dirSummary=summary;providers=dirSummary.providers.concat(dirSummary.viewProviders)}return expressions.push.apply(expressions,(0,_tslib.__spread)(providers.filter(function(provider){return!!provider.useClass}).map(function(provider){return _this.serializeSummary({summaryKind:CompileSummaryKind.Injectable,type:provider.useClass})}))),literalArr(expressions)},ForJitSerializer.prototype.serializeSummaryRef=function(typeSymbol){var jitImportedSymbol=this.symbolResolver.getStaticSymbol(summaryForJitFileName(typeSymbol.filePath),summaryForJitName(typeSymbol.name));return this.outputCtx.importExpr(jitImportedSymbol)},ForJitSerializer.prototype.serializeSummary=function(data){var outputCtx=this.outputCtx;return visitValue(data,new(function(){function Transformer(){}return Transformer.prototype.visitArray=function(arr,context){var _this=this;return literalArr(arr.map(function(entry){return visitValue(entry,_this,context)}))},Transformer.prototype.visitStringMap=function(map,context){var _this=this;return new LiteralMapExpr(Object.keys(map).map(function(key){return new LiteralMapEntry(key,visitValue(map[key],_this,context),!1)}))},Transformer.prototype.visitPrimitive=function(value,context){return literal(value)},Transformer.prototype.visitOther=function(value,context){if(value instanceof StaticSymbol)return outputCtx.importExpr(value);throw new Error("Illegal State: Encountered value "+value)},Transformer}()),null)},ForJitSerializer}(),FromJsonDeserializer=function(_super){function FromJsonDeserializer(symbolCache,summaryResolver){var _this=_super.call(this)||this;return _this.symbolCache=symbolCache,_this.summaryResolver=summaryResolver,_this}return(0,_tslib.__extends)(FromJsonDeserializer,_super),FromJsonDeserializer.prototype.deserialize=function(libraryFileName,json){var _this=this,data=JSON.parse(json),allImportAs=[];this.symbols=data.symbols.map(function(serializedSymbol){return _this.symbolCache.get(_this.summaryResolver.fromSummaryFileName(serializedSymbol.filePath,libraryFileName),serializedSymbol.name)}),data.symbols.forEach(function(serializedSymbol,index){var symbol=_this.symbols[index],importAs=serializedSymbol.importAs;"number"==typeof importAs?allImportAs.push({symbol:symbol,importAs:_this.symbols[importAs]}):"string"==typeof importAs&&allImportAs.push({symbol:symbol,importAs:_this.symbolCache.get(ngfactoryFilePath(libraryFileName),importAs)})});var summaries=visitValue(data.summaries,this,null);return{moduleName:data.moduleName,summaries:summaries,importAs:allImportAs}},FromJsonDeserializer.prototype.visitStringMap=function(map,context){if("__symbol"in map){var baseSymbol=this.symbols[map.__symbol],members=map.members;return members.length?this.symbolCache.get(baseSymbol.filePath,baseSymbol.name,members):baseSymbol}return _super.prototype.visitStringMap.call(this,map,context)},FromJsonDeserializer}(ValueTransformer);function isCall(metadata){return metadata&&"call"===metadata.__symbolic}var AotCompiler=function(){function AotCompiler(_config,_options,_host,reflector,_metadataResolver,_templateParser,_styleCompiler,_viewCompiler,_typeCheckCompiler,_ngModuleCompiler,_injectableCompiler,_outputEmitter,_summaryResolver,_symbolResolver){this._config=_config,this._options=_options,this._host=_host,this.reflector=reflector,this._metadataResolver=_metadataResolver,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._viewCompiler=_viewCompiler,this._typeCheckCompiler=_typeCheckCompiler,this._ngModuleCompiler=_ngModuleCompiler,this._injectableCompiler=_injectableCompiler,this._outputEmitter=_outputEmitter,this._summaryResolver=_summaryResolver,this._symbolResolver=_symbolResolver,this._templateAstCache=new Map,this._analyzedFiles=new Map,this._analyzedFilesForInjectables=new Map}return AotCompiler.prototype.clearCache=function(){this._metadataResolver.clearCache()},AotCompiler.prototype.analyzeModulesSync=function(rootFiles){var _this=this,analyzeResult=analyzeAndValidateNgModules(rootFiles,this._host,this._symbolResolver,this._metadataResolver);return analyzeResult.ngModules.forEach(function(ngModule){return _this._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference,!0)}),analyzeResult},AotCompiler.prototype.analyzeModulesAsync=function(rootFiles){var _this=this,analyzeResult=analyzeAndValidateNgModules(rootFiles,this._host,this._symbolResolver,this._metadataResolver);return Promise.all(analyzeResult.ngModules.map(function(ngModule){return _this._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference,!1)})).then(function(){return analyzeResult})},AotCompiler.prototype._analyzeFile=function(fileName){var analyzedFile=this._analyzedFiles.get(fileName);return analyzedFile||(analyzedFile=analyzeFile(this._host,this._symbolResolver,this._metadataResolver,fileName),this._analyzedFiles.set(fileName,analyzedFile)),analyzedFile},AotCompiler.prototype._analyzeFileForInjectables=function(fileName){var analyzedFile=this._analyzedFilesForInjectables.get(fileName);return analyzedFile||(analyzedFile=analyzeFileForInjectables(this._host,this._symbolResolver,this._metadataResolver,fileName),this._analyzedFilesForInjectables.set(fileName,analyzedFile)),analyzedFile},AotCompiler.prototype.findGeneratedFileNames=function(fileName){var _this=this,genFileNames=[],file=this._analyzeFile(fileName);(this._options.allowEmptyCodegenFiles||file.directives.length||file.pipes.length||file.injectables.length||file.ngModules.length||file.exportsNonSourceFiles)&&(genFileNames.push(ngfactoryFilePath(file.fileName,!0)),this._options.enableSummariesForJit&&genFileNames.push(summaryForJitFileName(file.fileName,!0)));var fileSuffix=normalizeGenFileSuffix(splitTypescriptSuffix(file.fileName,!0)[1]);return file.directives.forEach(function(dirSymbol){var compMeta=_this._metadataResolver.getNonNormalizedDirectiveMetadata(dirSymbol).metadata;compMeta.isComponent&&compMeta.template.styleUrls.forEach(function(styleUrl){var normalizedUrl=_this._host.resourceNameToFileName(styleUrl,file.fileName);if(!normalizedUrl)throw syntaxError("Couldn't resolve resource "+styleUrl+" relative to "+file.fileName);var needsShim=(compMeta.template.encapsulation||_this._config.defaultEncapsulation)===ViewEncapsulation.Emulated;genFileNames.push(_stylesModuleUrl(normalizedUrl,needsShim,fileSuffix)),_this._options.allowEmptyCodegenFiles&&genFileNames.push(_stylesModuleUrl(normalizedUrl,!needsShim,fileSuffix))})}),genFileNames},AotCompiler.prototype.emitBasicStub=function(genFileName,originalFileName){var outputCtx=this._createOutputContext(genFileName);if(genFileName.endsWith(".ngfactory.ts")){if(!originalFileName)throw new Error("Assertion error: require the original file for .ngfactory.ts stubs. File: "+genFileName);var originalFile=this._analyzeFile(originalFileName);this._createNgFactoryStub(outputCtx,originalFile,1)}else if(genFileName.endsWith(".ngsummary.ts")){if(this._options.enableSummariesForJit){if(!originalFileName)throw new Error("Assertion error: require the original file for .ngsummary.ts stubs. File: "+genFileName);originalFile=this._analyzeFile(originalFileName);_createEmptyStub(outputCtx),originalFile.ngModules.forEach(function(ngModule){!function(outputCtx,reference){createSummaryForJitFunction(outputCtx,reference,NULL_EXPR)}(outputCtx,ngModule.type.reference)})}}else genFileName.endsWith(".ngstyle.ts")&&_createEmptyStub(outputCtx);return this._codegenSourceModule("unknown",outputCtx)},AotCompiler.prototype.emitTypeCheckStub=function(genFileName,originalFileName){var originalFile=this._analyzeFile(originalFileName),outputCtx=this._createOutputContext(genFileName);return genFileName.endsWith(".ngfactory.ts")&&this._createNgFactoryStub(outputCtx,originalFile,2),outputCtx.statements.length>0?this._codegenSourceModule(originalFile.fileName,outputCtx):null},AotCompiler.prototype.loadFilesAsync=function(fileNames,tsFiles){var _this=this,files=fileNames.map(function(fileName){return _this._analyzeFile(fileName)}),loadingPromises=[];files.forEach(function(file){return file.ngModules.forEach(function(ngModule){return loadingPromises.push(_this._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference,!1))})});var analyzedInjectables=tsFiles.map(function(tsFile){return _this._analyzeFileForInjectables(tsFile)});return Promise.all(loadingPromises).then(function(_){return{analyzedModules:mergeAndValidateNgFiles(files),analyzedInjectables:analyzedInjectables}})},AotCompiler.prototype.loadFilesSync=function(fileNames,tsFiles){var _this=this,files=fileNames.map(function(fileName){return _this._analyzeFile(fileName)});files.forEach(function(file){return file.ngModules.forEach(function(ngModule){return _this._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference,!0)})});var analyzedInjectables=tsFiles.map(function(tsFile){return _this._analyzeFileForInjectables(tsFile)});return{analyzedModules:mergeAndValidateNgFiles(files),analyzedInjectables:analyzedInjectables}},AotCompiler.prototype._createNgFactoryStub=function(outputCtx,file,emitFlags){var _this=this,componentId=0;file.ngModules.forEach(function(ngModuleMeta,ngModuleIndex){_this._ngModuleCompiler.createStub(outputCtx,ngModuleMeta.type.reference);var externalReferences=(0,_tslib.__spread)(ngModuleMeta.transitiveModule.directives.map(function(d){return d.reference}),ngModuleMeta.transitiveModule.pipes.map(function(d){return d.reference}),ngModuleMeta.importedModules.map(function(m){return m.type.reference}),ngModuleMeta.exportedModules.map(function(m){return m.type.reference}),_this._externalIdentifierReferences([Identifiers.TemplateRef,Identifiers.ElementRef])),externalReferenceVars=new Map;externalReferences.forEach(function(ref,typeIndex){externalReferenceVars.set(ref,"_decl"+ngModuleIndex+"_"+typeIndex)}),externalReferenceVars.forEach(function(varName,reference){outputCtx.statements.push(variable(varName).set(NULL_EXPR.cast(DYNAMIC_TYPE)).toDeclStmt(expressionType(outputCtx.importExpr(reference,null,!1))))}),2&emitFlags&&ngModuleMeta.declaredDirectives.forEach(function(dirId){var compMeta=_this._metadataResolver.getDirectiveMetadata(dirId.reference);compMeta.isComponent&&(componentId++,_this._createTypeCheckBlock(outputCtx,compMeta.type.reference.name+"_Host_"+componentId,ngModuleMeta,_this._metadataResolver.getHostComponentMetadata(compMeta),[compMeta.type],externalReferenceVars),_this._createTypeCheckBlock(outputCtx,compMeta.type.reference.name+"_"+componentId,ngModuleMeta,compMeta,ngModuleMeta.transitiveModule.directives,externalReferenceVars))})}),0===outputCtx.statements.length&&_createEmptyStub(outputCtx)},AotCompiler.prototype._externalIdentifierReferences=function(references){var e_1,_a,result=[];try{for(var references_1=(0,_tslib.__values)(references),references_1_1=references_1.next();!references_1_1.done;references_1_1=references_1.next()){var reference=references_1_1.value,token=createTokenForExternalReference(this.reflector,reference);token.identifier&&result.push(token.identifier.reference)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{references_1_1&&!references_1_1.done&&(_a=references_1.return)&&_a.call(references_1)}finally{if(e_1)throw e_1.error}}return result},AotCompiler.prototype._createTypeCheckBlock=function(ctx,componentId,moduleMeta,compMeta,directives,externalReferenceVars){var _a,_b=this._parseTemplate(compMeta,moduleMeta,directives),parsedTemplate=_b.template,usedPipes=_b.pipes;(_a=ctx.statements).push.apply(_a,(0,_tslib.__spread)(this._typeCheckCompiler.compileComponent(componentId,compMeta,parsedTemplate,usedPipes,externalReferenceVars,ctx)))},AotCompiler.prototype.emitMessageBundle=function(analyzeResult,locale){var _this=this,errors=[],htmlParser=new HtmlParser,messageBundle=new MessageBundle(htmlParser,[],{},locale);if(analyzeResult.files.forEach(function(file){var compMetas=[];file.directives.forEach(function(directiveType){var dirMeta=_this._metadataResolver.getDirectiveMetadata(directiveType);dirMeta&&dirMeta.isComponent&&compMetas.push(dirMeta)}),compMetas.forEach(function(compMeta){var html=compMeta.template.template,templateUrl=compMeta.template.templateUrl,interpolationConfig=InterpolationConfig.fromArray(compMeta.template.interpolation);errors.push.apply(errors,(0,_tslib.__spread)(messageBundle.updateFromTemplate(html,templateUrl,interpolationConfig)))})}),errors.length)throw new Error(errors.map(function(e){return e.toString()}).join("\n"));return messageBundle},AotCompiler.prototype.emitAllPartialModules=function(_a,r3Files){var _this=this,ngModuleByPipeOrDirective=_a.ngModuleByPipeOrDirective,files=_a.files,contextMap=new Map,getContext=function(fileName){return contextMap.has(fileName)||contextMap.set(fileName,_this._createOutputContext(fileName)),contextMap.get(fileName)};return files.forEach(function(file){return _this._compilePartialModule(file.fileName,ngModuleByPipeOrDirective,file.directives,file.pipes,file.ngModules,file.injectables,getContext(file.fileName))}),r3Files.forEach(function(file){return _this._compileShallowModules(file.fileName,file.shallowModules,getContext(file.fileName))}),Array.from(contextMap.values()).map(function(context){return{fileName:context.genFilePath,statements:(0,_tslib.__spread)(context.constantPool.statements,context.statements)}})},AotCompiler.prototype._compileShallowModules=function(fileName,shallowModules,context){var _this=this;shallowModules.forEach(function(module){return ctx=context,ngModule=module,injectableCompiler=_this._injectableCompiler,className=identifierName(ngModule.type),rawImports=ngModule.rawImports?[ngModule.rawImports]:[],rawExports=ngModule.rawExports?[ngModule.rawExports]:[],injectorDefArg=mapLiteral({factory:injectableCompiler.factoryFor({type:ngModule.type,symbol:ngModule.type.reference},ctx),providers:convertMetaToOutput(ngModule.rawProviders,ctx),imports:convertMetaToOutput((0,_tslib.__spread)(rawImports,rawExports),ctx)}),injectorDef=importExpr(Identifiers$1.defineInjector).callFn([injectorDefArg]),void ctx.statements.push(new ClassStmt(className,null,[new ClassField("ngInjectorDef",INFERRED_TYPE,[StmtModifier.Static],injectorDef)],[],new ClassMethod(null,[],[]),[]));var ctx,ngModule,injectableCompiler,className,rawImports,rawExports,injectorDefArg,injectorDef})},AotCompiler.prototype._compilePartialModule=function(fileName,ngModuleByPipeOrDirective,directives,pipes,ngModules,injectables,context){var _this=this,schemaRegistry=new DomElementSchemaRegistry,hostBindingParser=new BindingParser(this._templateParser.expressionParser,DEFAULT_INTERPOLATION_CONFIG,schemaRegistry,[],[]);directives.forEach(function(directiveType){var directiveMetadata=_this._metadataResolver.getDirectiveMetadata(directiveType);if(directiveMetadata.isComponent){var module=ngModuleByPipeOrDirective.get(directiveType);module||error("Cannot determine the module for component '"+identifierName(directiveMetadata.type)+"'");var htmlAst=directiveMetadata.template.htmlAst;directiveMetadata.template.preserveWhitespaces||(htmlAst=removeWhitespaces(htmlAst));var render3Ast=htmlAstToRender3Ast(htmlAst.rootNodes,hostBindingParser),directiveTypeBySel_1=new Map;module.transitiveModule.directives.map(function(dir){return _this._metadataResolver.getDirectiveSummary(dir.reference)}).forEach(function(directive){directive.selector&&directiveTypeBySel_1.set(directive.selector,directive.type.reference)});var pipeTypeByName_1=new Map;module.transitiveModule.pipes.map(function(pipe){return _this._metadataResolver.getPipeSummary(pipe.reference)}).forEach(function(pipe){pipeTypeByName_1.set(pipe.name,pipe.type.reference)}),compileComponentFromRender2(context,directiveMetadata,render3Ast,_this.reflector,hostBindingParser,0,pipeTypeByName_1)}else!function(outputCtx,directive,reflector,bindingParser){var name=identifierName(directive.type);name||error("Cannot resolver the name of "+directive.type);var definitionField=outputCtx.constantPool.propertyNameOf(1),res=compileDirectiveFromMetadata(directiveMetadataFromGlobalMetadata(),outputCtx.constantPool,bindingParser);outputCtx.statements.push(new ClassStmt(name,null,[new ClassField(definitionField,INFERRED_TYPE,[StmtModifier.Static],res.expression)],[],new ClassMethod(null,[],[]),[]))}(context,directiveMetadata,_this.reflector,hostBindingParser)}),pipes.forEach(function(pipeType){var pipeMetadata=_this._metadataResolver.getPipeMetadata(pipeType);pipeMetadata&&compilePipeFromRender2(context,pipeMetadata,_this.reflector)}),injectables.forEach(function(injectable){return _this._injectableCompiler.compile(injectable,context)})},AotCompiler.prototype.emitAllPartialModules2=function(files){var _this=this;return files.reduce(function(r,file){return r.push.apply(r,(0,_tslib.__spread)(_this._emitPartialModule2(file.fileName,file.injectables))),r},[])},AotCompiler.prototype._emitPartialModule2=function(fileName,injectables){var _this=this,context=this._createOutputContext(fileName);return injectables.forEach(function(injectable){return _this._injectableCompiler.compile(injectable,context)}),context.statements&&context.statements.length>0?[{fileName:fileName,statements:(0,_tslib.__spread)(context.constantPool.statements,context.statements)}]:[]},AotCompiler.prototype.emitAllImpls=function(analyzeResult){var _this=this,ngModuleByPipeOrDirective=analyzeResult.ngModuleByPipeOrDirective;return flatten(analyzeResult.files.map(function(file){return _this._compileImplFile(file.fileName,ngModuleByPipeOrDirective,file.directives,file.pipes,file.ngModules,file.injectables)}))},AotCompiler.prototype._compileImplFile=function(srcFileUrl,ngModuleByPipeOrDirective,directives,pipes,ngModules,injectables){var _this=this,fileSuffix=normalizeGenFileSuffix(splitTypescriptSuffix(srcFileUrl,!0)[1]),generatedFiles=[],outputCtx=this._createOutputContext(ngfactoryFilePath(srcFileUrl,!0));if(generatedFiles.push.apply(generatedFiles,(0,_tslib.__spread)(this._createSummary(srcFileUrl,directives,pipes,ngModules,injectables,outputCtx))),ngModules.forEach(function(ngModuleMeta){return _this._compileModule(outputCtx,ngModuleMeta)}),directives.forEach(function(dirType){var compMeta=_this._metadataResolver.getDirectiveMetadata(dirType);if(compMeta.isComponent){var ngModule=ngModuleByPipeOrDirective.get(dirType);if(!ngModule)throw new Error("Internal Error: cannot determine the module for component "+identifierName(compMeta.type)+"!");var componentStylesheet=_this._styleCompiler.compileComponent(outputCtx,compMeta);compMeta.template.externalStylesheets.forEach(function(stylesheetMeta){var shim=_this._styleCompiler.needsStyleShim(compMeta);generatedFiles.push(_this._codegenStyles(srcFileUrl,compMeta,stylesheetMeta,shim,fileSuffix)),_this._options.allowEmptyCodegenFiles&&generatedFiles.push(_this._codegenStyles(srcFileUrl,compMeta,stylesheetMeta,!shim,fileSuffix))});_this._compileComponent(outputCtx,compMeta,ngModule,ngModule.transitiveModule.directives,componentStylesheet,fileSuffix);_this._compileComponentFactory(outputCtx,compMeta,ngModule,fileSuffix)}}),outputCtx.statements.length>0||this._options.allowEmptyCodegenFiles){var srcModule=this._codegenSourceModule(srcFileUrl,outputCtx);generatedFiles.unshift(srcModule)}return generatedFiles},AotCompiler.prototype._createSummary=function(srcFileName,directives,pipes,ngModules,injectables,ngFactoryCtx){var _this=this,symbolSummaries=this._symbolResolver.getSymbolsOf(srcFileName).map(function(symbol){return _this._symbolResolver.resolveSymbol(symbol)}),typeData=(0,_tslib.__spread)(ngModules.map(function(meta){return{summary:_this._metadataResolver.getNgModuleSummary(meta.type.reference),metadata:_this._metadataResolver.getNgModuleMetadata(meta.type.reference)}}),directives.map(function(ref){return{summary:_this._metadataResolver.getDirectiveSummary(ref),metadata:_this._metadataResolver.getDirectiveMetadata(ref)}}),pipes.map(function(ref){return{summary:_this._metadataResolver.getPipeSummary(ref),metadata:_this._metadataResolver.getPipeMetadata(ref)}}),injectables.map(function(ref){return{summary:_this._metadataResolver.getInjectableSummary(ref.symbol),metadata:_this._metadataResolver.getInjectableSummary(ref.symbol).type}})),forJitOutputCtx=this._options.enableSummariesForJit?this._createOutputContext(summaryForJitFileName(srcFileName,!0)):null,_a=function(srcFileName,forJitCtx,summaryResolver,symbolResolver,symbols,types,createExternalSymbolReexports){void 0===createExternalSymbolReexports&&(createExternalSymbolReexports=!1);var toJsonSerializer=new ToJsonSerializer(symbolResolver,summaryResolver,srcFileName);symbols.forEach(function(resolvedSymbol){return toJsonSerializer.addSummary({symbol:resolvedSymbol.symbol,metadata:resolvedSymbol.metadata})}),types.forEach(function(_a){var summary=_a.summary;_a.metadata,toJsonSerializer.addSummary({symbol:summary.type.reference,metadata:void 0,type:summary})});var _a=toJsonSerializer.serialize(createExternalSymbolReexports),json=_a.json,exportAs=_a.exportAs;if(forJitCtx){var forJitSerializer_1=new ForJitSerializer(forJitCtx,symbolResolver,summaryResolver);types.forEach(function(_a){var summary=_a.summary,metadata=_a.metadata;forJitSerializer_1.addSourceType(summary,metadata)}),toJsonSerializer.unprocessedSymbolSummariesBySymbol.forEach(function(summary){summaryResolver.isLibraryFile(summary.symbol.filePath)&&summary.type&&forJitSerializer_1.addLibType(summary.type)}),forJitSerializer_1.serialize(exportAs)}return{json:json,exportAs:exportAs}}(srcFileName,forJitOutputCtx,this._summaryResolver,this._symbolResolver,symbolSummaries,typeData,this._options.createExternalSymbolFactoryReexports),json=_a.json;_a.exportAs.forEach(function(entry){ngFactoryCtx.statements.push(variable(entry.exportAs).set(ngFactoryCtx.importExpr(entry.symbol)).toDeclStmt(null,[StmtModifier.Exported]))});var result=[new GeneratedFile(srcFileName,summaryFileName(srcFileName),json)];return forJitOutputCtx&&result.push(this._codegenSourceModule(srcFileName,forJitOutputCtx)),result},AotCompiler.prototype._compileModule=function(outputCtx,ngModule){var providers=[];if(this._options.locale){var normalizedLocale=this._options.locale.replace(/_/g,"-");providers.push({token:createTokenForExternalReference(this.reflector,Identifiers.LOCALE_ID),useValue:normalizedLocale})}this._options.i18nFormat&&providers.push({token:createTokenForExternalReference(this.reflector,Identifiers.TRANSLATIONS_FORMAT),useValue:this._options.i18nFormat}),this._ngModuleCompiler.compile(outputCtx,ngModule,providers)},AotCompiler.prototype._compileComponentFactory=function(outputCtx,compMeta,ngModule,fileSuffix){var hostMeta=this._metadataResolver.getHostComponentMetadata(compMeta),hostViewFactoryVar=this._compileComponent(outputCtx,hostMeta,ngModule,[compMeta.type],null,fileSuffix).viewClassVar,compFactoryVar=componentFactoryName(compMeta.type.reference),inputsExprs=[];for(var propName in compMeta.inputs){var templateName=compMeta.inputs[propName];inputsExprs.push(new LiteralMapEntry(propName,literal(templateName),!1))}var outputsExprs=[];for(var propName in compMeta.outputs){templateName=compMeta.outputs[propName];outputsExprs.push(new LiteralMapEntry(propName,literal(templateName),!1))}outputCtx.statements.push(variable(compFactoryVar).set(importExpr(Identifiers.createComponentFactory).callFn([literal(compMeta.selector),outputCtx.importExpr(compMeta.type.reference),variable(hostViewFactoryVar),new LiteralMapExpr(inputsExprs),new LiteralMapExpr(outputsExprs),literalArr(compMeta.template.ngContentSelectors.map(function(selector){return literal(selector)}))])).toDeclStmt(importType(Identifiers.ComponentFactory,[expressionType(outputCtx.importExpr(compMeta.type.reference))],[TypeModifier.Const]),[StmtModifier.Final,StmtModifier.Exported]))},AotCompiler.prototype._compileComponent=function(outputCtx,compMeta,ngModule,directiveIdentifiers,componentStyles,fileSuffix){var _a=this._parseTemplate(compMeta,ngModule,directiveIdentifiers),parsedTemplate=_a.template,usedPipes=_a.pipes,stylesExpr=componentStyles?variable(componentStyles.stylesVar):literalArr([]),viewResult=this._viewCompiler.compileComponent(outputCtx,compMeta,parsedTemplate,stylesExpr,usedPipes);return componentStyles&&_resolveStyleStatements(this._symbolResolver,componentStyles,this._styleCompiler.needsStyleShim(compMeta),fileSuffix),viewResult},AotCompiler.prototype._parseTemplate=function(compMeta,ngModule,directiveIdentifiers){var _this=this;if(this._templateAstCache.has(compMeta.type.reference))return this._templateAstCache.get(compMeta.type.reference);var preserveWhitespaces=compMeta.template.preserveWhitespaces,directives=directiveIdentifiers.map(function(dir){return _this._metadataResolver.getDirectiveSummary(dir.reference)}),pipes=ngModule.transitiveModule.pipes.map(function(pipe){return _this._metadataResolver.getPipeSummary(pipe.reference)}),result=this._templateParser.parse(compMeta,compMeta.template.htmlAst,directives,pipes,ngModule.schemas,templateSourceUrl(ngModule.type,compMeta,compMeta.template),preserveWhitespaces);return this._templateAstCache.set(compMeta.type.reference,result),result},AotCompiler.prototype._createOutputContext=function(genFilePath){var _this=this;return{statements:[],genFilePath:genFilePath,importExpr:function(symbol,typeParams,useSummaries){if(void 0===typeParams&&(typeParams=null),void 0===useSummaries&&(useSummaries=!0),!(symbol instanceof StaticSymbol))throw new Error("Internal error: unknown identifier "+JSON.stringify(symbol));var arity=_this._symbolResolver.getTypeArity(symbol)||0,_a=_this._symbolResolver.getImportAs(symbol,useSummaries)||symbol,filePath=_a.filePath,name=_a.name,members=_a.members,importModule=_this._fileNameToModuleName(filePath,genFilePath),moduleName=importModule===_this._fileNameToModuleName(genFilePath,genFilePath)?null:importModule,suppliedTypeParams=typeParams||[],missingTypeParamsCount=arity-suppliedTypeParams.length,allTypeParams=suppliedTypeParams.concat(new Array(missingTypeParamsCount).fill(DYNAMIC_TYPE));return members.reduce(function(expr,memberName){return expr.prop(memberName)},importExpr(new ExternalReference(moduleName,name,null),allTypeParams))},constantPool:new ConstantPool}},AotCompiler.prototype._fileNameToModuleName=function(importedFilePath,containingFilePath){return this._summaryResolver.getKnownModuleName(importedFilePath)||this._symbolResolver.getKnownModuleName(importedFilePath)||this._host.fileNameToModuleName(importedFilePath,containingFilePath)},AotCompiler.prototype._codegenStyles=function(srcFileUrl,compMeta,stylesheetMetadata,isShimmed,fileSuffix){var outputCtx=this._createOutputContext(_stylesModuleUrl(stylesheetMetadata.moduleUrl,isShimmed,fileSuffix)),compiledStylesheet=this._styleCompiler.compileStyles(outputCtx,compMeta,stylesheetMetadata,isShimmed);return _resolveStyleStatements(this._symbolResolver,compiledStylesheet,isShimmed,fileSuffix),this._codegenSourceModule(srcFileUrl,outputCtx)},AotCompiler.prototype._codegenSourceModule=function(srcFileUrl,ctx){return new GeneratedFile(srcFileUrl,ctx.genFilePath,ctx.statements)},AotCompiler.prototype.listLazyRoutes=function(entryRoute,analyzedModules){var e_2,_a,e_3,_b,self=this;if(entryRoute)return function visitLazyRoute(symbol,seenRoutes,allLazyRoutes){var e_4,_a;void 0===seenRoutes&&(seenRoutes=new Set);void 0===allLazyRoutes&&(allLazyRoutes=[]);if(seenRoutes.has(symbol)||!symbol.name)return allLazyRoutes;seenRoutes.add(symbol);var lazyRoutes=listLazyRoutes(self._metadataResolver.getNgModuleMetadata(symbol,!0),self.reflector);try{for(var lazyRoutes_2=(0,_tslib.__values)(lazyRoutes),lazyRoutes_2_1=lazyRoutes_2.next();!lazyRoutes_2_1.done;lazyRoutes_2_1=lazyRoutes_2.next()){var lazyRoute=lazyRoutes_2_1.value;allLazyRoutes.push(lazyRoute),visitLazyRoute(lazyRoute.referencedModule,seenRoutes,allLazyRoutes)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{lazyRoutes_2_1&&!lazyRoutes_2_1.done&&(_a=lazyRoutes_2.return)&&_a.call(lazyRoutes_2)}finally{if(e_4)throw e_4.error}}return allLazyRoutes}(parseLazyRoute(entryRoute,this.reflector).referencedModule);if(analyzedModules){var allLazyRoutes=[];try{for(var _c=(0,_tslib.__values)(analyzedModules.ngModules),_d=_c.next();!_d.done;_d=_c.next()){var lazyRoutes=listLazyRoutes(_d.value,this.reflector);try{for(var lazyRoutes_1=(e_3=void 0,(0,_tslib.__values)(lazyRoutes)),lazyRoutes_1_1=lazyRoutes_1.next();!lazyRoutes_1_1.done;lazyRoutes_1_1=lazyRoutes_1.next()){var lazyRoute=lazyRoutes_1_1.value;allLazyRoutes.push(lazyRoute)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{lazyRoutes_1_1&&!lazyRoutes_1_1.done&&(_b=lazyRoutes_1.return)&&_b.call(lazyRoutes_1)}finally{if(e_3)throw e_3.error}}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_2)throw e_2.error}}return allLazyRoutes}throw new Error("Either route or analyzedModules has to be specified!")},AotCompiler}();function _createEmptyStub(outputCtx){outputCtx.statements.push(importExpr(Identifiers.ComponentFactory).toStmt())}function _resolveStyleStatements(symbolResolver,compileResult,needsShim,fileSuffix){compileResult.dependencies.forEach(function(dep){dep.setValue(symbolResolver.getStaticSymbol(_stylesModuleUrl(dep.moduleUrl,needsShim,fileSuffix),dep.name))})}function _stylesModuleUrl(stylesheetUrl,shim,suffix){return stylesheetUrl+(shim?".shim":"")+".ngstyle"+suffix}function analyzeNgModules(fileNames,host,staticSymbolResolver,metadataResolver){return mergeAnalyzedFiles(function(fileNames,host,staticSymbolResolver,metadataResolver){var seenFiles=new Set,files=[],visitFile=function(fileName){if(seenFiles.has(fileName)||!host.isSourceFile(fileName))return!1;seenFiles.add(fileName);var analyzedFile=analyzeFile(host,staticSymbolResolver,metadataResolver,fileName);files.push(analyzedFile),analyzedFile.ngModules.forEach(function(ngModule){ngModule.transitiveModule.modules.forEach(function(modMeta){return visitFile(modMeta.reference.filePath)})})};return fileNames.forEach(function(fileName){return visitFile(fileName)}),files}(fileNames,host,staticSymbolResolver,metadataResolver))}function analyzeAndValidateNgModules(fileNames,host,staticSymbolResolver,metadataResolver){return validateAnalyzedModules(analyzeNgModules(fileNames,host,staticSymbolResolver,metadataResolver))}function validateAnalyzedModules(analyzedModules){if(analyzedModules.symbolsMissingModule&&analyzedModules.symbolsMissingModule.length)throw syntaxError(analyzedModules.symbolsMissingModule.map(function(s){return"Cannot determine the module for class "+s.name+" in "+s.filePath+"! Add "+s.name+" to the NgModule to fix it."}).join("\n"));return analyzedModules}function analyzeFile(host,staticSymbolResolver,metadataResolver,fileName){var directives=[],pipes=[],injectables=[],ngModules=[],hasDecorators=staticSymbolResolver.hasDecorators(fileName),exportsNonSourceFiles=!1;return fileName.endsWith(".d.ts")&&!hasDecorators||staticSymbolResolver.getSymbolsOf(fileName).forEach(function(symbol){var symbolMeta=staticSymbolResolver.resolveSymbol(symbol).metadata;if(symbolMeta&&"error"!==symbolMeta.__symbolic){var isNgSymbol=!1;if("class"===symbolMeta.__symbolic)if(metadataResolver.isDirective(symbol))isNgSymbol=!0,directives.push(symbol);else if(metadataResolver.isPipe(symbol))isNgSymbol=!0,pipes.push(symbol);else if(metadataResolver.isNgModule(symbol)){var ngModule=metadataResolver.getNgModuleMetadata(symbol,!1);ngModule&&(isNgSymbol=!0,ngModules.push(ngModule))}else if(metadataResolver.isInjectable(symbol)){isNgSymbol=!0;var injectable=metadataResolver.getInjectableMetadata(symbol,null,!1);injectable&&injectables.push(injectable)}isNgSymbol||(exportsNonSourceFiles=exportsNonSourceFiles||function(host,metadata){var exportsNonSourceFiles=!1,Visitor=function(){function Visitor(){}return Visitor.prototype.visitArray=function(arr,context){var _this=this;arr.forEach(function(v){return visitValue(v,_this,context)})},Visitor.prototype.visitStringMap=function(map,context){var _this=this;Object.keys(map).forEach(function(key){return visitValue(map[key],_this,context)})},Visitor.prototype.visitPrimitive=function(value,context){},Visitor.prototype.visitOther=function(value,context){value instanceof StaticSymbol&&!host.isSourceFile(value.filePath)&&(exportsNonSourceFiles=!0)},Visitor}();return visitValue(metadata,new Visitor,null),exportsNonSourceFiles}(host,symbolMeta))}}),{fileName:fileName,directives:directives,pipes:pipes,ngModules:ngModules,injectables:injectables,exportsNonSourceFiles:exportsNonSourceFiles}}function analyzeFileForInjectables(host,staticSymbolResolver,metadataResolver,fileName){var injectables=[],shallowModules=[];return staticSymbolResolver.hasDecorators(fileName)&&staticSymbolResolver.getSymbolsOf(fileName).forEach(function(symbol){var symbolMeta=staticSymbolResolver.resolveSymbol(symbol).metadata;if(symbolMeta&&"error"!==symbolMeta.__symbolic&&"class"===symbolMeta.__symbolic)if(metadataResolver.isInjectable(symbol)){var injectable=metadataResolver.getInjectableMetadata(symbol,null,!1);injectable&&injectables.push(injectable)}else if(metadataResolver.isNgModule(symbol)){var module=metadataResolver.getShallowModuleMetadata(symbol);module&&shallowModules.push(module)}}),{fileName:fileName,injectables:injectables,shallowModules:shallowModules}}function mergeAnalyzedFiles(analyzedFiles){var allNgModules=[],ngModuleByPipeOrDirective=new Map,allPipesAndDirectives=new Set;analyzedFiles.forEach(function(af){af.ngModules.forEach(function(ngModule){allNgModules.push(ngModule),ngModule.declaredDirectives.forEach(function(d){return ngModuleByPipeOrDirective.set(d.reference,ngModule)}),ngModule.declaredPipes.forEach(function(p){return ngModuleByPipeOrDirective.set(p.reference,ngModule)})}),af.directives.forEach(function(d){return allPipesAndDirectives.add(d)}),af.pipes.forEach(function(p){return allPipesAndDirectives.add(p)})});var symbolsMissingModule=[];return allPipesAndDirectives.forEach(function(ref){ngModuleByPipeOrDirective.has(ref)||symbolsMissingModule.push(ref)}),{ngModules:allNgModules,ngModuleByPipeOrDirective:ngModuleByPipeOrDirective,symbolsMissingModule:symbolsMissingModule,files:analyzedFiles}}function mergeAndValidateNgFiles(files){return validateAnalyzedModules(mergeAnalyzedFiles(files))}exports.AotCompiler=AotCompiler;var FORMATTED_MESSAGE="ngFormattedMessage";function formatChain(chain,indent){if(void 0===indent&&(indent=0),!chain)return"";var position=chain.position?chain.position.fileName+"("+(chain.position.line+1)+","+(chain.position.column+1)+")":"",postfix=position&&0!==indent?" at "+position:"",message=""+(position&&0===indent?position+": ":"")+chain.message+postfix;return""+function indentStr(level){if(level<=0)return"";if(level<6)return[""," ","  ","   ","    ","     "][level];var half=indentStr(Math.floor(level/2));return half+half+(level%2==1?" ":"")}(indent)+message+(chain.next&&"\n"+formatChain(chain.next,indent+2)||"")}function formattedError(chain){var error=syntaxError(formatChain(chain)+".");return error[FORMATTED_MESSAGE]=!0,error.chain=chain,error.position=chain.position,error}var ANGULAR_CORE="@angular/core",HIDDEN_KEY=/^\$.*\$$/,IGNORE={__symbolic:"ignore"},USE_VALUE$1="useValue",PROVIDE="provide",REFERENCE_SET=new Set([USE_VALUE$1,"useFactory","data","id","loadChildren"]);function shouldIgnore(value){return value&&"ignore"==value.__symbolic}var StaticReflector=function(){function StaticReflector(summaryResolver,symbolResolver,knownMetadataClasses,knownMetadataFunctions,errorRecorder){var _this=this;void 0===knownMetadataClasses&&(knownMetadataClasses=[]),void 0===knownMetadataFunctions&&(knownMetadataFunctions=[]),this.summaryResolver=summaryResolver,this.symbolResolver=symbolResolver,this.errorRecorder=errorRecorder,this.annotationCache=new Map,this.shallowAnnotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.staticCache=new Map,this.conversionMap=new Map,this.resolvedExternalReferences=new Map,this.annotationForParentClassWithSummaryKind=new Map,this.initializeConversionMap(),knownMetadataClasses.forEach(function(kc){return _this._registerDecoratorOrConstructor(_this.getStaticSymbol(kc.filePath,kc.name),kc.ctor)}),knownMetadataFunctions.forEach(function(kf){return _this._registerFunction(_this.getStaticSymbol(kf.filePath,kf.name),kf.fn)}),this.annotationForParentClassWithSummaryKind.set(CompileSummaryKind.Directive,[createDirective,createComponent]),this.annotationForParentClassWithSummaryKind.set(CompileSummaryKind.Pipe,[createPipe]),this.annotationForParentClassWithSummaryKind.set(CompileSummaryKind.NgModule,[createNgModule]),this.annotationForParentClassWithSummaryKind.set(CompileSummaryKind.Injectable,[createInjectable,createPipe,createDirective,createComponent,createNgModule])}return StaticReflector.prototype.componentModuleUrl=function(typeOrFunc){var staticSymbol=this.findSymbolDeclaration(typeOrFunc);return this.symbolResolver.getResourcePath(staticSymbol)},StaticReflector.prototype.resolveExternalReference=function(ref,containingFile){var key=void 0;if(!containingFile){key=ref.moduleName+":"+ref.name;var declarationSymbol_1=this.resolvedExternalReferences.get(key);if(declarationSymbol_1)return declarationSymbol_1}var refSymbol=this.symbolResolver.getSymbolByModule(ref.moduleName,ref.name,containingFile),declarationSymbol=this.findSymbolDeclaration(refSymbol);return containingFile||(this.symbolResolver.recordModuleNameForFileName(refSymbol.filePath,ref.moduleName),this.symbolResolver.recordImportAs(declarationSymbol,refSymbol)),key&&this.resolvedExternalReferences.set(key,declarationSymbol),declarationSymbol},StaticReflector.prototype.findDeclaration=function(moduleUrl,name,containingFile){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(moduleUrl,name,containingFile))},StaticReflector.prototype.tryFindDeclaration=function(moduleUrl,name,containingFile){var _this=this;return this.symbolResolver.ignoreErrorsFor(function(){return _this.findDeclaration(moduleUrl,name,containingFile)})},StaticReflector.prototype.findSymbolDeclaration=function(symbol){var resolvedSymbol=this.symbolResolver.resolveSymbol(symbol);if(resolvedSymbol){var resolvedMetadata=resolvedSymbol.metadata;if(resolvedMetadata&&"resolved"===resolvedMetadata.__symbolic&&(resolvedMetadata=resolvedMetadata.symbol),resolvedMetadata instanceof StaticSymbol)return this.findSymbolDeclaration(resolvedSymbol.metadata)}return symbol},StaticReflector.prototype.tryAnnotations=function(type){var originalRecorder=this.errorRecorder;this.errorRecorder=function(error,fileName){};try{return this.annotations(type)}finally{this.errorRecorder=originalRecorder}},StaticReflector.prototype.annotations=function(type){var _this=this;return this._annotations(type,function(type,decorators){return _this.simplify(type,decorators)},this.annotationCache)},StaticReflector.prototype.shallowAnnotations=function(type){var _this=this;return this._annotations(type,function(type,decorators){return _this.simplify(type,decorators,!0)},this.shallowAnnotationCache)},StaticReflector.prototype._annotations=function(type,simplify,annotationCache){var annotations=annotationCache.get(type);if(!annotations){annotations=[];var classMetadata=this.getTypeMetadata(type),parentType=this.findParentType(type,classMetadata);if(parentType){var parentAnnotations=this.annotations(parentType);annotations.push.apply(annotations,(0,_tslib.__spread)(parentAnnotations))}var ownAnnotations_1=[];if(classMetadata.decorators&&(ownAnnotations_1=simplify(type,classMetadata.decorators))&&annotations.push.apply(annotations,(0,_tslib.__spread)(ownAnnotations_1)),parentType&&!this.summaryResolver.isLibraryFile(type.filePath)&&this.summaryResolver.isLibraryFile(parentType.filePath)){var summary=this.summaryResolver.resolveSummary(parentType);if(summary&&summary.type){var requiredAnnotationTypes=this.annotationForParentClassWithSummaryKind.get(summary.type.summaryKind);requiredAnnotationTypes.some(function(requiredType){return ownAnnotations_1.some(function(ann){return requiredType.isTypeOf(ann)})})||this.reportError(formatMetadataError(metadataError("Class "+type.name+" in "+type.filePath+" extends from a "+CompileSummaryKind[summary.type.summaryKind]+" in another compilation unit without duplicating the decorator",void 0,"Please add a "+requiredAnnotationTypes.map(function(type){return type.ngMetadataName}).join(" or ")+" decorator to the class"),type),type)}}annotationCache.set(type,annotations.filter(function(ann){return!!ann}))}return annotations},StaticReflector.prototype.propMetadata=function(type){var _this=this,propMetadata=this.propertyCache.get(type);if(!propMetadata){var classMetadata=this.getTypeMetadata(type);propMetadata={};var parentType=this.findParentType(type,classMetadata);if(parentType){var parentPropMetadata_1=this.propMetadata(parentType);Object.keys(parentPropMetadata_1).forEach(function(parentProp){propMetadata[parentProp]=parentPropMetadata_1[parentProp]})}var members_1=classMetadata.members||{};Object.keys(members_1).forEach(function(propName){var prop=members_1[propName].find(function(a){return"property"==a.__symbolic||"method"==a.__symbolic}),decorators=[];propMetadata[propName]&&decorators.push.apply(decorators,(0,_tslib.__spread)(propMetadata[propName])),propMetadata[propName]=decorators,prop&&prop.decorators&&decorators.push.apply(decorators,(0,_tslib.__spread)(_this.simplify(type,prop.decorators)))}),this.propertyCache.set(type,propMetadata)}return propMetadata},StaticReflector.prototype.parameters=function(type){var _this=this;if(!(type instanceof StaticSymbol))return this.reportError(new Error("parameters received "+JSON.stringify(type)+" which is not a StaticSymbol"),type),[];try{var parameters_1=this.parameterCache.get(type);if(!parameters_1){var classMetadata=this.getTypeMetadata(type),parentType=this.findParentType(type,classMetadata),members=classMetadata?classMetadata.members:null,ctorData=members?members.__ctor__:null;if(ctorData){var ctor=ctorData.find(function(a){return"constructor"==a.__symbolic}),rawParameterTypes=ctor.parameters||[],parameterDecorators_1=this.simplify(type,ctor.parameterDecorators||[]);parameters_1=[],rawParameterTypes.forEach(function(rawParamType,index){var nestedResult=[],paramType=_this.trySimplify(type,rawParamType);paramType&&nestedResult.push(paramType);var decorators=parameterDecorators_1?parameterDecorators_1[index]:null;decorators&&nestedResult.push.apply(nestedResult,(0,_tslib.__spread)(decorators)),parameters_1.push(nestedResult)})}else parentType&&(parameters_1=this.parameters(parentType));parameters_1||(parameters_1=[]),this.parameterCache.set(type,parameters_1)}return parameters_1}catch(e){throw console.error("Failed on type "+JSON.stringify(type)+" with error "+e),e}},StaticReflector.prototype._methodNames=function(type){var methodNames=this.methodCache.get(type);if(!methodNames){var classMetadata=this.getTypeMetadata(type);methodNames={};var parentType=this.findParentType(type,classMetadata);if(parentType){var parentMethodNames_1=this._methodNames(parentType);Object.keys(parentMethodNames_1).forEach(function(parentProp){methodNames[parentProp]=parentMethodNames_1[parentProp]})}var members_2=classMetadata.members||{};Object.keys(members_2).forEach(function(propName){var isMethod=members_2[propName].some(function(a){return"method"==a.__symbolic});methodNames[propName]=methodNames[propName]||isMethod}),this.methodCache.set(type,methodNames)}return methodNames},StaticReflector.prototype._staticMembers=function(type){var staticMembers=this.staticCache.get(type);if(!staticMembers){var staticMemberData=this.getTypeMetadata(type).statics||{};staticMembers=Object.keys(staticMemberData),this.staticCache.set(type,staticMembers)}return staticMembers},StaticReflector.prototype.findParentType=function(type,classMetadata){var parentType=this.trySimplify(type,classMetadata.extends);if(parentType instanceof StaticSymbol)return parentType},StaticReflector.prototype.hasLifecycleHook=function(type,lcProperty){type instanceof StaticSymbol||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(type)+" which is not a StaticSymbol"),type);try{return!!this._methodNames(type)[lcProperty]}catch(e){throw console.error("Failed on type "+JSON.stringify(type)+" with error "+e),e}},StaticReflector.prototype.guards=function(type){var e_1,_a;if(!(type instanceof StaticSymbol))return this.reportError(new Error("guards received "+JSON.stringify(type)+" which is not a StaticSymbol"),type),{};var staticMembers=this._staticMembers(type),result={};try{for(var staticMembers_1=(0,_tslib.__values)(staticMembers),staticMembers_1_1=staticMembers_1.next();!staticMembers_1_1.done;staticMembers_1_1=staticMembers_1.next()){var name_1=staticMembers_1_1.value;if(name_1.endsWith("TypeGuard")){var property=name_1.substr(0,name_1.length-"TypeGuard".length),value=void 0;property.endsWith("UseIf")?(property=name_1.substr(0,property.length-"UseIf".length),value="UseIf"):value=this.getStaticSymbol(type.filePath,type.name,[name_1]),result[property]=value}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{staticMembers_1_1&&!staticMembers_1_1.done&&(_a=staticMembers_1.return)&&_a.call(staticMembers_1)}finally{if(e_1)throw e_1.error}}return result},StaticReflector.prototype._registerDecoratorOrConstructor=function(type,ctor){this.conversionMap.set(type,function(context,args){return new(ctor.bind.apply(ctor,(0,_tslib.__spread)([void 0],args)))})},StaticReflector.prototype._registerFunction=function(type,fn){this.conversionMap.set(type,function(context,args){return fn.apply(void 0,args)})},StaticReflector.prototype.initializeConversionMap=function(){this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Injectable"),createInjectable),this.injectionToken=this.findDeclaration(ANGULAR_CORE,"InjectionToken"),this.opaqueToken=this.findDeclaration(ANGULAR_CORE,"OpaqueToken"),this.ROUTES=this.tryFindDeclaration("@angular/router","ROUTES"),this.ANALYZE_FOR_ENTRY_COMPONENTS=this.findDeclaration(ANGULAR_CORE,"ANALYZE_FOR_ENTRY_COMPONENTS"),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Host"),createHost),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Self"),createSelf),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"SkipSelf"),createSkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Inject"),createInject),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Optional"),createOptional),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Attribute"),createAttribute),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"ContentChild"),createContentChild),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"ContentChildren"),createContentChildren),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"ViewChild"),createViewChild),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"ViewChildren"),createViewChildren),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Input"),createInput),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Output"),createOutput),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Pipe"),createPipe),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"HostBinding"),createHostBinding),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"HostListener"),createHostListener),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Directive"),createDirective),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Component"),createComponent),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"NgModule"),createNgModule),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Host"),createHost),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Self"),createSelf),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"SkipSelf"),createSkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE,"Optional"),createOptional)},StaticReflector.prototype.getStaticSymbol=function(declarationFile,name,members){return this.symbolResolver.getStaticSymbol(declarationFile,name,members)},StaticReflector.prototype.trySimplify=function(context,value){var originalRecorder=this.errorRecorder;this.errorRecorder=function(error,fileName){};var result=this.simplify(context,value);return this.errorRecorder=originalRecorder,result},StaticReflector.prototype.simplify=function(context,value,lazy){void 0===lazy&&(lazy=!1);var result,self=this,scope=BindingScope$1.empty,calling=new Map;try{result=function simplifyInContext(context,value,depth,references){function resolveReferenceValue(staticSymbol){var resolvedSymbol=self.symbolResolver.resolveSymbol(staticSymbol);return resolvedSymbol?resolvedSymbol.metadata:null}function simplifyEagerly(value){return simplifyInContext(context,value,depth,0)}function simplifyNested(nestedContext,value){if(nestedContext===context)return simplifyInContext(nestedContext,value,depth+1,references);try{return simplifyInContext(nestedContext,value,depth+1,references)}catch(e){if(!isMetadataError(e))throw e;var summaryMsg=e.chain?"references '"+e.symbol.name+"'":function(error){if(error.summary)return error.summary;switch(error.message){case REFERENCE_TO_NONEXPORTED_CLASS:if(error.context&&error.context.className)return"references non-exported class "+error.context.className;break;case VARIABLE_NOT_INITIALIZED:return"is not initialized";case DESTRUCTURE_NOT_SUPPORTED:return"is a destructured variable";case COULD_NOT_RESOLVE_TYPE:return"could not be resolved";case FUNCTION_CALL_NOT_SUPPORTED:return error.context&&error.context.name?"calls '"+error.context.name+"'":"calls a function";case REFERENCE_TO_LOCAL_SYMBOL:return error.context&&error.context.name?"references local variable "+error.context.name:"references a local variable"}return"contains the error"}(e),chain={message:"'"+nestedContext.name+"' "+summaryMsg,position:e.position,next:e.chain};self.error({message:e.message,advise:e.advise,context:e.context,chain:chain,symbol:nestedContext},context)}}function simplify(expression){var e_2,_a,e_3,_b;if(isPrimitive(expression))return expression;if(expression instanceof Array){var result_2=[];try{for(var _c=(0,_tslib.__values)(expression),_d=_c.next();!_d.done;_d=_c.next()){var item=_d.value;if(item&&"spread"===item.__symbolic){var spreadArray=simplifyEagerly(item.expression);if(Array.isArray(spreadArray)){try{for(var spreadArray_1=(e_3=void 0,(0,_tslib.__values)(spreadArray)),spreadArray_1_1=spreadArray_1.next();!spreadArray_1_1.done;spreadArray_1_1=spreadArray_1.next()){var spreadItem=spreadArray_1_1.value;result_2.push(spreadItem)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{spreadArray_1_1&&!spreadArray_1_1.done&&(_b=spreadArray_1.return)&&_b.call(spreadArray_1)}finally{if(e_3)throw e_3.error}}continue}}var value_2=simplify(item);shouldIgnore(value_2)||result_2.push(value_2)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_2)throw e_2.error}}return result_2}if(expression instanceof StaticSymbol)return expression===self.injectionToken||self.conversionMap.has(expression)||references>0&&!expression.members.length?expression:null!=(declarationValue=resolveReferenceValue(staticSymbol=expression))?simplifyNested(staticSymbol,declarationValue):staticSymbol;if(expression){if(expression.__symbolic){var staticSymbol=void 0;switch(expression.__symbolic){case"binop":var left=simplify(expression.left);if(shouldIgnore(left))return left;var right=simplify(expression.right);if(shouldIgnore(right))return right;switch(expression.operator){case"&&":return left&&right;case"||":return left||right;case"|":return left|right;case"^":return left^right;case"&":return left&right;case"==":return left==right;case"!=":return left!=right;case"===":return left===right;case"!==":return left!==right;case"<":return left<right;case">":return left>right;case"<=":return left<=right;case">=":return left>=right;case"<<":return left<<right;case">>":return left>>right;case"+":return left+right;case"-":return left-right;case"*":return left*right;case"/":return left/right;case"%":return left%right}return null;case"if":return simplify(simplify(expression.condition)?expression.thenExpression:expression.elseExpression);case"pre":var operand=simplify(expression.operand);if(shouldIgnore(operand))return operand;switch(expression.operator){case"+":return operand;case"-":return-operand;case"!":return!operand;case"~":return~operand}return null;case"index":var indexTarget=simplifyEagerly(expression.expression),index=simplifyEagerly(expression.index);return indexTarget&&isPrimitive(index)?indexTarget[index]:null;case"select":var member=expression.member,selectContext=context,selectTarget=simplify(expression.expression);if(selectTarget instanceof StaticSymbol){var declarationValue,members=selectTarget.members.concat(member);return null!=(declarationValue=resolveReferenceValue(selectContext=self.getStaticSymbol(selectTarget.filePath,selectTarget.name,members)))?simplifyNested(selectContext,declarationValue):selectContext}return selectTarget&&isPrimitive(member)?simplifyNested(selectContext,selectTarget[member]):null;case"reference":var name_2=expression.name,localValue=scope.resolve(name_2);if(localValue!=BindingScope$1.missing)return localValue;break;case"resolved":try{return simplify(expression.symbol)}catch(e){throw isMetadataError(e)&&null!=expression.fileName&&null!=expression.line&&null!=expression.character&&(e.position={fileName:expression.fileName,line:expression.line,column:expression.character}),e}case"class":case"function":return context;case"new":case"call":if((staticSymbol=simplifyInContext(context,expression.expression,depth+1,0))instanceof StaticSymbol){if(staticSymbol===self.injectionToken||staticSymbol===self.opaqueToken)return context;var argExpressions=expression.arguments||[],converter=self.conversionMap.get(staticSymbol);if(converter){var args=argExpressions.map(function(arg){return simplifyNested(context,arg)}).map(function(arg){return shouldIgnore(arg)?void 0:arg});return converter(context,args)}return function(functionSymbol,targetFunction,args,targetExpression){if(targetFunction&&"function"==targetFunction.__symbolic){calling.get(functionSymbol)&&self.error({message:"Recursion is not supported",summary:"called '"+functionSymbol.name+"' recursively",value:targetFunction},functionSymbol);try{var value_1=targetFunction.value;if(value_1&&(0!=depth||"error"!=value_1.__symbolic)){var parameters=targetFunction.parameters,defaults=targetFunction.defaults;args=args.map(function(arg){return simplifyNested(context,arg)}).map(function(arg){return shouldIgnore(arg)?void 0:arg}),defaults&&defaults.length>args.length&&args.push.apply(args,(0,_tslib.__spread)(defaults.slice(args.length).map(function(value){return simplify(value)}))),calling.set(functionSymbol,!0);for(var functionScope=BindingScope$1.build(),i=0;i<parameters.length;i++)functionScope.define(parameters[i],args[i]);var result_1,oldScope=scope;try{scope=functionScope.done(),result_1=simplifyNested(functionSymbol,value_1)}finally{scope=oldScope}return result_1}}finally{calling.delete(functionSymbol)}}if(0===depth)return IGNORE;var position=void 0;if(targetExpression&&"resolved"==targetExpression.__symbolic){var line=targetExpression.line,character=targetExpression.character,fileName=targetExpression.fileName;null!=fileName&&null!=line&&null!=character&&(position={fileName:fileName,line:line,column:character})}self.error({message:FUNCTION_CALL_NOT_SUPPORTED,context:functionSymbol,value:targetFunction,position:position},context)}(staticSymbol,resolveReferenceValue(staticSymbol),argExpressions,expression.expression)}return IGNORE;case"error":var message=expression.message;return null!=expression.line?self.error({message:message,context:expression.context,value:expression,position:{fileName:expression.fileName,line:expression.line,column:expression.character}},context):self.error({message:message,context:expression.context},context),IGNORE;case"ignore":return expression}return null}return function(input,transform){if(!input)return{};var result={};return Object.keys(input).forEach(function(key){var value=transform(input[key],key);shouldIgnore(value)||(HIDDEN_KEY.test(key)?Object.defineProperty(result,key,{enumerable:!1,configurable:!0,value:value}):result[key]=value)}),result}(expression,function(value,name){if(REFERENCE_SET.has(name)){if(name===USE_VALUE$1&&PROVIDE in expression){var provide=simplify(expression.provide);if(provide===self.ROUTES||provide==self.ANALYZE_FOR_ENTRY_COMPONENTS)return simplify(value)}return function(value){return simplifyInContext(context,value,depth,references+1)}(value)}return simplify(value)})}return IGNORE}return simplify(value)}(context,value,0,lazy?1:0)}catch(e){if(!this.errorRecorder)throw formatMetadataError(e,context);this.reportError(e,context)}if(!shouldIgnore(result))return result},StaticReflector.prototype.getTypeMetadata=function(type){var resolvedSymbol=this.symbolResolver.resolveSymbol(type);return resolvedSymbol&&resolvedSymbol.metadata?resolvedSymbol.metadata:{__symbolic:"class"}},StaticReflector.prototype.reportError=function(error,context,path){if(!this.errorRecorder)throw error;this.errorRecorder(formatMetadataError(error,context),context&&context.filePath||path)},StaticReflector.prototype.error=function(_a,reportingContext){var message=_a.message,summary=_a.summary,advise=_a.advise,position=_a.position,context=_a.context,symbol=(_a.value,_a.symbol),chain=_a.chain;this.reportError(metadataError(message,summary,advise,position,symbol,context,chain),reportingContext)},StaticReflector}();exports.StaticReflector=StaticReflector;var METADATA_ERROR="ngMetadataError";function metadataError(message,summary,advise,position,symbol,context,chain){var error=syntaxError(message);return error[METADATA_ERROR]=!0,advise&&(error.advise=advise),position&&(error.position=position),summary&&(error.summary=summary),context&&(error.context=context),chain&&(error.chain=chain),symbol&&(error.symbol=symbol),error}function isMetadataError(error){return!!error[METADATA_ERROR]}var REFERENCE_TO_NONEXPORTED_CLASS="Reference to non-exported class",VARIABLE_NOT_INITIALIZED="Variable not initialized",DESTRUCTURE_NOT_SUPPORTED="Destructuring not supported",COULD_NOT_RESOLVE_TYPE="Could not resolve type",FUNCTION_CALL_NOT_SUPPORTED="Function call not supported",REFERENCE_TO_LOCAL_SYMBOL="Reference to a local symbol",LAMBDA_NOT_SUPPORTED="Lambda not supported";function isPrimitive(o){return null===o||"function"!=typeof o&&"object"!=typeof o}var BindingScope$1=function(){function BindingScope(){}return BindingScope.build=function(){var current=new Map;return{define:function(name,value){return current.set(name,value),this},done:function(){return current.size>0?new PopulatedScope(current):BindingScope.empty}}},BindingScope.missing={},BindingScope.empty={resolve:function(name){return BindingScope.missing}},BindingScope}(),PopulatedScope=function(_super){function PopulatedScope(bindings){var _this=_super.call(this)||this;return _this.bindings=bindings,_this}return(0,_tslib.__extends)(PopulatedScope,_super),PopulatedScope.prototype.resolve=function(name){return this.bindings.has(name)?this.bindings.get(name):BindingScope$1.missing},PopulatedScope}(BindingScope$1);function formatMetadataMessageChain(chain,advise){return{message:""+function(message,context){switch(message){case REFERENCE_TO_NONEXPORTED_CLASS:if(context&&context.className)return"References to a non-exported class are not supported in decorators but "+context.className+" was referenced.";break;case VARIABLE_NOT_INITIALIZED:return"Only initialized variables and constants can be referenced in decorators because the value of this variable is needed by the template compiler";case DESTRUCTURE_NOT_SUPPORTED:return"Referencing an exported destructured variable or constant is not supported in decorators and this value is needed by the template compiler";case COULD_NOT_RESOLVE_TYPE:if(context&&context.typeName)return"Could not resolve type "+context.typeName;break;case FUNCTION_CALL_NOT_SUPPORTED:return context&&context.name?"Function calls are not supported in decorators but '"+context.name+"' was called":"Function calls are not supported in decorators";case REFERENCE_TO_LOCAL_SYMBOL:if(context&&context.name)return"Reference to a local (non-exported) symbols are not supported in decorators but '"+context.name+"' was referenced";break;case LAMBDA_NOT_SUPPORTED:return"Function expressions are not supported in decorators"}return message}(chain.message,chain.context)+(chain.symbol?" in '"+chain.symbol.name+"'":""),position:chain.position,next:chain.next?formatMetadataMessageChain(chain.next,advise):advise?{message:advise}:void 0}}function formatMetadataError(e,context){if(isMetadataError(e)){var position=e.position;return formattedError(formatMetadataMessageChain({message:"Error during template compile of '"+context.name+"'",position:position,next:{message:e.message,next:e.chain,context:e.context,symbol:e.symbol}},e.advise||function(message,context){switch(message){case REFERENCE_TO_NONEXPORTED_CLASS:if(context&&context.className)return"Consider exporting '"+context.className+"'";break;case DESTRUCTURE_NOT_SUPPORTED:return"Consider simplifying to avoid destructuring";case REFERENCE_TO_LOCAL_SYMBOL:if(context&&context.name)return"Consider exporting '"+context.name+"'";break;case LAMBDA_NOT_SUPPORTED:return"Consider changing the function expression into an exported function"}}(e.message,e.context)))}return e}var AotSummaryResolver=function(){function AotSummaryResolver(host,staticSymbolCache){this.host=host,this.staticSymbolCache=staticSymbolCache,this.summaryCache=new Map,this.loadedFilePaths=new Map,this.importAs=new Map,this.knownFileNameToModuleNames=new Map}return AotSummaryResolver.prototype.isLibraryFile=function(filePath){return!this.host.isSourceFile(stripGeneratedFileSuffix(filePath))},AotSummaryResolver.prototype.toSummaryFileName=function(filePath,referringSrcFileName){return this.host.toSummaryFileName(filePath,referringSrcFileName)},AotSummaryResolver.prototype.fromSummaryFileName=function(fileName,referringLibFileName){return this.host.fromSummaryFileName(fileName,referringLibFileName)},AotSummaryResolver.prototype.resolveSummary=function(staticSymbol){var rootSymbol=staticSymbol.members.length?this.staticSymbolCache.get(staticSymbol.filePath,staticSymbol.name):staticSymbol,summary=this.summaryCache.get(rootSymbol);return summary||(this._loadSummaryFile(staticSymbol.filePath),summary=this.summaryCache.get(staticSymbol)),rootSymbol===staticSymbol&&summary||null},AotSummaryResolver.prototype.getSymbolsOf=function(filePath){return this._loadSummaryFile(filePath)?Array.from(this.summaryCache.keys()).filter(function(symbol){return symbol.filePath===filePath}):null},AotSummaryResolver.prototype.getImportAs=function(staticSymbol){return staticSymbol.assertNoMembers(),this.importAs.get(staticSymbol)},AotSummaryResolver.prototype.getKnownModuleName=function(importedFilePath){return this.knownFileNameToModuleNames.get(importedFilePath)||null},AotSummaryResolver.prototype.addSummary=function(summary){this.summaryCache.set(summary.symbol,summary)},AotSummaryResolver.prototype._loadSummaryFile=function(filePath){var _this=this,hasSummary=this.loadedFilePaths.get(filePath);if(null!=hasSummary)return hasSummary;var json=null;if(this.isLibraryFile(filePath)){var summaryFilePath=summaryFileName(filePath);try{json=this.host.loadSummary(summaryFilePath)}catch(e){throw console.error("Error loading summary file "+summaryFilePath),e}}if(hasSummary=null!=json,this.loadedFilePaths.set(filePath,hasSummary),json){var _a=function(symbolCache,summaryResolver,libraryFileName,json){return new FromJsonDeserializer(symbolCache,summaryResolver).deserialize(libraryFileName,json)}(this.staticSymbolCache,this,filePath,json),moduleName=_a.moduleName,summaries=_a.summaries,importAs=_a.importAs;summaries.forEach(function(summary){return _this.summaryCache.set(summary.symbol,summary)}),moduleName&&this.knownFileNameToModuleNames.set(filePath,moduleName),importAs.forEach(function(importAs){_this.importAs.set(importAs.symbol,importAs.importAs)})}return hasSummary},AotSummaryResolver}();function createAotUrlResolver(host){return{resolve:function(basePath,url){var filePath=host.resourceNameToFileName(url,basePath);if(!filePath)throw syntaxError("Couldn't resolve resource "+url+" from "+basePath);return filePath}}}exports.AotSummaryResolver=AotSummaryResolver;var SummaryResolver=function(){return function(){}}();exports.SummaryResolver=SummaryResolver;var JitSummaryResolver=function(){function JitSummaryResolver(){this._summaries=new Map}return JitSummaryResolver.prototype.isLibraryFile=function(){return!1},JitSummaryResolver.prototype.toSummaryFileName=function(fileName){return fileName},JitSummaryResolver.prototype.fromSummaryFileName=function(fileName){return fileName},JitSummaryResolver.prototype.resolveSummary=function(reference){return this._summaries.get(reference)||null},JitSummaryResolver.prototype.getSymbolsOf=function(){return[]},JitSummaryResolver.prototype.getImportAs=function(reference){return reference},JitSummaryResolver.prototype.getKnownModuleName=function(fileName){return null},JitSummaryResolver.prototype.addSummary=function(summary){this._summaries.set(summary.symbol,summary)},JitSummaryResolver}();function _executeFunctionStatements(varNames,varValues,statements,ctx,visitor){for(var childCtx=ctx.createChildWihtLocalVars(),i=0;i<varNames.length;i++)childCtx.vars.set(varNames[i],varValues[i]);var result=visitor.visitAllStatements(statements,childCtx);return result?result.value:null}exports.JitSummaryResolver=JitSummaryResolver;var _ExecutionContext=function(){function _ExecutionContext(parent,instance,className,vars){this.parent=parent,this.instance=instance,this.className=className,this.vars=vars,this.exports=[]}return _ExecutionContext.prototype.createChildWihtLocalVars=function(){return new _ExecutionContext(this,this.instance,this.className,new Map)},_ExecutionContext}(),ReturnValue=function(){return function(value){this.value=value}}();var StatementInterpreter=function(){function StatementInterpreter(reflector){this.reflector=reflector}return StatementInterpreter.prototype.debugAst=function(ast){return debugOutputAstAsTypeScript(ast)},StatementInterpreter.prototype.visitDeclareVarStmt=function(stmt,ctx){var initialValue=stmt.value?stmt.value.visitExpression(this,ctx):void 0;return ctx.vars.set(stmt.name,initialValue),stmt.hasModifier(StmtModifier.Exported)&&ctx.exports.push(stmt.name),null},StatementInterpreter.prototype.visitWriteVarExpr=function(expr,ctx){for(var value=expr.value.visitExpression(this,ctx),currCtx=ctx;null!=currCtx;){if(currCtx.vars.has(expr.name))return currCtx.vars.set(expr.name,value),value;currCtx=currCtx.parent}throw new Error("Not declared variable "+expr.name)},StatementInterpreter.prototype.visitWrappedNodeExpr=function(ast,ctx){throw new Error("Cannot interpret a WrappedNodeExpr.")},StatementInterpreter.prototype.visitTypeofExpr=function(ast,ctx){throw new Error("Cannot interpret a TypeofExpr")},StatementInterpreter.prototype.visitReadVarExpr=function(ast,ctx){var varName=ast.name;if(null!=ast.builtin)switch(ast.builtin){case BuiltinVar.Super:return Object.getPrototypeOf(ctx.instance);case BuiltinVar.This:return ctx.instance;case BuiltinVar.CatchError:varName=CATCH_ERROR_VAR$2;break;case BuiltinVar.CatchStack:varName=CATCH_STACK_VAR$2;break;default:throw new Error("Unknown builtin variable "+ast.builtin)}for(var currCtx=ctx;null!=currCtx;){if(currCtx.vars.has(varName))return currCtx.vars.get(varName);currCtx=currCtx.parent}throw new Error("Not declared variable "+varName)},StatementInterpreter.prototype.visitWriteKeyExpr=function(expr,ctx){var receiver=expr.receiver.visitExpression(this,ctx),index=expr.index.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);return receiver[index]=value,value},StatementInterpreter.prototype.visitWritePropExpr=function(expr,ctx){var receiver=expr.receiver.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);return receiver[expr.name]=value,value},StatementInterpreter.prototype.visitInvokeMethodExpr=function(expr,ctx){var result,receiver=expr.receiver.visitExpression(this,ctx),args=this.visitAllExpressions(expr.args,ctx);if(null!=expr.builtin)switch(expr.builtin){case BuiltinMethod.ConcatArray:result=receiver.concat.apply(receiver,(0,_tslib.__spread)(args));break;case BuiltinMethod.SubscribeObservable:result=receiver.subscribe({next:args[0]});break;case BuiltinMethod.Bind:result=receiver.bind.apply(receiver,(0,_tslib.__spread)(args));break;default:throw new Error("Unknown builtin method "+expr.builtin)}else result=receiver[expr.name].apply(receiver,args);return result},StatementInterpreter.prototype.visitInvokeFunctionExpr=function(stmt,ctx){var args=this.visitAllExpressions(stmt.args,ctx),fnExpr=stmt.fn;return fnExpr instanceof ReadVarExpr&&fnExpr.builtin===BuiltinVar.Super?(ctx.instance.constructor.prototype.constructor.apply(ctx.instance,args),null):stmt.fn.visitExpression(this,ctx).apply(null,args)},StatementInterpreter.prototype.visitReturnStmt=function(stmt,ctx){return new ReturnValue(stmt.value.visitExpression(this,ctx))},StatementInterpreter.prototype.visitDeclareClassStmt=function(stmt,ctx){var clazz=function(_classStmt,_ctx,_visitor){var propertyDescriptors={};_classStmt.getters.forEach(function(getter){propertyDescriptors[getter.name]={configurable:!1,get:function(){var instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);return _executeFunctionStatements([],[],getter.body,instanceCtx,_visitor)}}}),_classStmt.methods.forEach(function(method){var paramNames=method.params.map(function(param){return param.name});propertyDescriptors[method.name]={writable:!1,configurable:!1,value:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);return _executeFunctionStatements(paramNames,args,method.body,instanceCtx,_visitor)}}});var ctorParamNames=_classStmt.constructorMethod.params.map(function(param){return param.name}),ctor=function(){for(var _this=this,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);_classStmt.fields.forEach(function(field){_this[field.name]=void 0}),_executeFunctionStatements(ctorParamNames,args,_classStmt.constructorMethod.body,instanceCtx,_visitor)},superClass=_classStmt.parent?_classStmt.parent.visitExpression(_visitor,_ctx):Object;return ctor.prototype=Object.create(superClass.prototype,propertyDescriptors),ctor}(stmt,ctx,this);return ctx.vars.set(stmt.name,clazz),stmt.hasModifier(StmtModifier.Exported)&&ctx.exports.push(stmt.name),null},StatementInterpreter.prototype.visitExpressionStmt=function(stmt,ctx){return stmt.expr.visitExpression(this,ctx)},StatementInterpreter.prototype.visitIfStmt=function(stmt,ctx){return stmt.condition.visitExpression(this,ctx)?this.visitAllStatements(stmt.trueCase,ctx):null!=stmt.falseCase?this.visitAllStatements(stmt.falseCase,ctx):null},StatementInterpreter.prototype.visitTryCatchStmt=function(stmt,ctx){try{return this.visitAllStatements(stmt.bodyStmts,ctx)}catch(e){var childCtx=ctx.createChildWihtLocalVars();return childCtx.vars.set(CATCH_ERROR_VAR$2,e),childCtx.vars.set(CATCH_STACK_VAR$2,e.stack),this.visitAllStatements(stmt.catchStmts,childCtx)}},StatementInterpreter.prototype.visitThrowStmt=function(stmt,ctx){throw stmt.error.visitExpression(this,ctx)},StatementInterpreter.prototype.visitCommentStmt=function(stmt,context){return null},StatementInterpreter.prototype.visitJSDocCommentStmt=function(stmt,context){return null},StatementInterpreter.prototype.visitInstantiateExpr=function(ast,ctx){var args=this.visitAllExpressions(ast.args,ctx),clazz=ast.classExpr.visitExpression(this,ctx);return new(clazz.bind.apply(clazz,(0,_tslib.__spread)([void 0],args)))},StatementInterpreter.prototype.visitLiteralExpr=function(ast,ctx){return ast.value},StatementInterpreter.prototype.visitExternalExpr=function(ast,ctx){return this.reflector.resolveExternalReference(ast.value)},StatementInterpreter.prototype.visitConditionalExpr=function(ast,ctx){return ast.condition.visitExpression(this,ctx)?ast.trueCase.visitExpression(this,ctx):null!=ast.falseCase?ast.falseCase.visitExpression(this,ctx):null},StatementInterpreter.prototype.visitNotExpr=function(ast,ctx){return!ast.condition.visitExpression(this,ctx)},StatementInterpreter.prototype.visitAssertNotNullExpr=function(ast,ctx){return ast.condition.visitExpression(this,ctx)},StatementInterpreter.prototype.visitCastExpr=function(ast,ctx){return ast.value.visitExpression(this,ctx)},StatementInterpreter.prototype.visitFunctionExpr=function(ast,ctx){return _declareFn(ast.params.map(function(param){return param.name}),ast.statements,ctx,this)},StatementInterpreter.prototype.visitDeclareFunctionStmt=function(stmt,ctx){var paramNames=stmt.params.map(function(param){return param.name});return ctx.vars.set(stmt.name,_declareFn(paramNames,stmt.statements,ctx,this)),stmt.hasModifier(StmtModifier.Exported)&&ctx.exports.push(stmt.name),null},StatementInterpreter.prototype.visitBinaryOperatorExpr=function(ast,ctx){var _this=this,lhs=function(){return ast.lhs.visitExpression(_this,ctx)},rhs=function(){return ast.rhs.visitExpression(_this,ctx)};switch(ast.operator){case BinaryOperator.Equals:return lhs()==rhs();case BinaryOperator.Identical:return lhs()===rhs();case BinaryOperator.NotEquals:return lhs()!=rhs();case BinaryOperator.NotIdentical:return lhs()!==rhs();case BinaryOperator.And:return lhs()&&rhs();case BinaryOperator.Or:return lhs()||rhs();case BinaryOperator.Plus:return lhs()+rhs();case BinaryOperator.Minus:return lhs()-rhs();case BinaryOperator.Divide:return lhs()/rhs();case BinaryOperator.Multiply:return lhs()*rhs();case BinaryOperator.Modulo:return lhs()%rhs();case BinaryOperator.Lower:return lhs()<rhs();case BinaryOperator.LowerEquals:return lhs()<=rhs();case BinaryOperator.Bigger:return lhs()>rhs();case BinaryOperator.BiggerEquals:return lhs()>=rhs();default:throw new Error("Unknown operator "+ast.operator)}},StatementInterpreter.prototype.visitReadPropExpr=function(ast,ctx){return ast.receiver.visitExpression(this,ctx)[ast.name]},StatementInterpreter.prototype.visitReadKeyExpr=function(ast,ctx){return ast.receiver.visitExpression(this,ctx)[ast.index.visitExpression(this,ctx)]},StatementInterpreter.prototype.visitLiteralArrayExpr=function(ast,ctx){return this.visitAllExpressions(ast.entries,ctx)},StatementInterpreter.prototype.visitLiteralMapExpr=function(ast,ctx){var _this=this,result={};return ast.entries.forEach(function(entry){return result[entry.key]=entry.value.visitExpression(_this,ctx)}),result},StatementInterpreter.prototype.visitCommaExpr=function(ast,context){var values=this.visitAllExpressions(ast.parts,context);return values[values.length-1]},StatementInterpreter.prototype.visitAllExpressions=function(expressions,ctx){var _this=this;return expressions.map(function(expr){return expr.visitExpression(_this,ctx)})},StatementInterpreter.prototype.visitAllStatements=function(statements,ctx){for(var i=0;i<statements.length;i++){var val=statements[i].visitStatement(this,ctx);if(val instanceof ReturnValue)return val}return null},StatementInterpreter}();function _declareFn(varNames,statements,ctx,visitor){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _executeFunctionStatements(varNames,args,statements,ctx,visitor)}}var CATCH_ERROR_VAR$2="error",CATCH_STACK_VAR$2="stack",JitCompiler=function(){function JitCompiler(_metadataResolver,_templateParser,_styleCompiler,_viewCompiler,_ngModuleCompiler,_summaryResolver,_reflector,_jitEvaluator,_compilerConfig,_console,getExtraNgModuleProviders){this._metadataResolver=_metadataResolver,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._viewCompiler=_viewCompiler,this._ngModuleCompiler=_ngModuleCompiler,this._summaryResolver=_summaryResolver,this._reflector=_reflector,this._jitEvaluator=_jitEvaluator,this._compilerConfig=_compilerConfig,this._console=_console,this.getExtraNgModuleProviders=getExtraNgModuleProviders,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}return JitCompiler.prototype.compileModuleSync=function(moduleType){return SyncAsync_assertSync(this._compileModuleAndComponents(moduleType,!0))},JitCompiler.prototype.compileModuleAsync=function(moduleType){return Promise.resolve(this._compileModuleAndComponents(moduleType,!1))},JitCompiler.prototype.compileModuleAndAllComponentsSync=function(moduleType){return SyncAsync_assertSync(this._compileModuleAndAllComponents(moduleType,!0))},JitCompiler.prototype.compileModuleAndAllComponentsAsync=function(moduleType){return Promise.resolve(this._compileModuleAndAllComponents(moduleType,!1))},JitCompiler.prototype.getComponentFactory=function(component){return this._metadataResolver.getDirectiveSummary(component).componentFactory},JitCompiler.prototype.loadAotSummaries=function(summaries){this.clearCache(),this._addAotSummaries(summaries)},JitCompiler.prototype._addAotSummaries=function(fn){if(!this._addedAotSummaries.has(fn)){this._addedAotSummaries.add(fn);for(var summaries=fn(),i=0;i<summaries.length;i++){var entry=summaries[i];if("function"==typeof entry)this._addAotSummaries(entry);else{var summary=entry;this._summaryResolver.addSummary({symbol:summary.type.reference,metadata:null,type:summary})}}}},JitCompiler.prototype.hasAotSummary=function(ref){return!!this._summaryResolver.resolveSummary(ref)},JitCompiler.prototype._filterJitIdentifiers=function(ids){var _this=this;return ids.map(function(mod){return mod.reference}).filter(function(ref){return!_this.hasAotSummary(ref)})},JitCompiler.prototype._compileModuleAndComponents=function(moduleType,isSync){var _this=this;return SyncAsync_then(this._loadModules(moduleType,isSync),function(){return _this._compileComponents(moduleType,null),_this._compileModule(moduleType)})},JitCompiler.prototype._compileModuleAndAllComponents=function(moduleType,isSync){var _this=this;return SyncAsync_then(this._loadModules(moduleType,isSync),function(){var componentFactories=[];return _this._compileComponents(moduleType,componentFactories),{ngModuleFactory:_this._compileModule(moduleType),componentFactories:componentFactories}})},JitCompiler.prototype._loadModules=function(mainModule,isSync){var _this=this,loading=[],mainNgModule=this._metadataResolver.getNgModuleMetadata(mainModule);return this._filterJitIdentifiers(mainNgModule.transitiveModule.modules).forEach(function(nestedNgModule){var moduleMeta=_this._metadataResolver.getNgModuleMetadata(nestedNgModule);_this._filterJitIdentifiers(moduleMeta.declaredDirectives).forEach(function(ref){var promise=_this._metadataResolver.loadDirectiveMetadata(moduleMeta.type.reference,ref,isSync);promise&&loading.push(promise)}),_this._filterJitIdentifiers(moduleMeta.declaredPipes).forEach(function(ref){return _this._metadataResolver.getOrLoadPipeMetadata(ref)})}),SyncAsync_all(loading)},JitCompiler.prototype._compileModule=function(moduleType){var ngModuleFactory=this._compiledNgModuleCache.get(moduleType);if(!ngModuleFactory){var moduleMeta=this._metadataResolver.getNgModuleMetadata(moduleType),extraProviders=this.getExtraNgModuleProviders(moduleMeta.type.reference),outputCtx=createOutputContext(),compileResult=this._ngModuleCompiler.compile(outputCtx,moduleMeta,extraProviders);ngModuleFactory=this._interpretOrJit(ngModuleJitUrl(moduleMeta),outputCtx.statements)[compileResult.ngModuleFactoryVar],this._compiledNgModuleCache.set(moduleMeta.type.reference,ngModuleFactory)}return ngModuleFactory},JitCompiler.prototype._compileComponents=function(mainModule,allComponentFactories){var _this=this,ngModule=this._metadataResolver.getNgModuleMetadata(mainModule),moduleByJitDirective=new Map,templates=new Set,transJitModules=this._filterJitIdentifiers(ngModule.transitiveModule.modules);transJitModules.forEach(function(localMod){var localModuleMeta=_this._metadataResolver.getNgModuleMetadata(localMod);_this._filterJitIdentifiers(localModuleMeta.declaredDirectives).forEach(function(dirRef){moduleByJitDirective.set(dirRef,localModuleMeta);var dirMeta=_this._metadataResolver.getDirectiveMetadata(dirRef);if(dirMeta.isComponent&&(templates.add(_this._createCompiledTemplate(dirMeta,localModuleMeta)),allComponentFactories)){var template=_this._createCompiledHostTemplate(dirMeta.type.reference,localModuleMeta);templates.add(template),allComponentFactories.push(dirMeta.componentFactory)}})}),transJitModules.forEach(function(localMod){var localModuleMeta=_this._metadataResolver.getNgModuleMetadata(localMod);_this._filterJitIdentifiers(localModuleMeta.declaredDirectives).forEach(function(dirRef){var dirMeta=_this._metadataResolver.getDirectiveMetadata(dirRef);dirMeta.isComponent&&dirMeta.entryComponents.forEach(function(entryComponentType){var moduleMeta=moduleByJitDirective.get(entryComponentType.componentType);templates.add(_this._createCompiledHostTemplate(entryComponentType.componentType,moduleMeta))})}),localModuleMeta.entryComponents.forEach(function(entryComponentType){if(!_this.hasAotSummary(entryComponentType.componentType)){var moduleMeta=moduleByJitDirective.get(entryComponentType.componentType);templates.add(_this._createCompiledHostTemplate(entryComponentType.componentType,moduleMeta))}})}),templates.forEach(function(template){return _this._compileTemplate(template)})},JitCompiler.prototype.clearCacheFor=function(type){this._compiledNgModuleCache.delete(type),this._metadataResolver.clearCacheFor(type),this._compiledHostTemplateCache.delete(type),this._compiledTemplateCache.get(type)&&this._compiledTemplateCache.delete(type)},JitCompiler.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},JitCompiler.prototype._createCompiledHostTemplate=function(compType,ngModule){if(!ngModule)throw new Error("Component "+stringify(compType)+" is not part of any NgModule or the module has not been imported into your module.");var compiledTemplate=this._compiledHostTemplateCache.get(compType);if(!compiledTemplate){var compMeta=this._metadataResolver.getDirectiveMetadata(compType);assertComponent(compMeta);var hostMeta=this._metadataResolver.getHostComponentMetadata(compMeta,compMeta.componentFactory.viewDefFactory);compiledTemplate=new CompiledTemplate(!0,compMeta.type,hostMeta,ngModule,[compMeta.type]),this._compiledHostTemplateCache.set(compType,compiledTemplate)}return compiledTemplate},JitCompiler.prototype._createCompiledTemplate=function(compMeta,ngModule){var compiledTemplate=this._compiledTemplateCache.get(compMeta.type.reference);return compiledTemplate||(assertComponent(compMeta),compiledTemplate=new CompiledTemplate(!1,compMeta.type,compMeta,ngModule,ngModule.transitiveModule.directives),this._compiledTemplateCache.set(compMeta.type.reference,compiledTemplate)),compiledTemplate},JitCompiler.prototype._compileTemplate=function(template){var _this=this;if(!template.isCompiled){var compMeta=template.compMeta,externalStylesheetsByModuleUrl=new Map,outputContext=createOutputContext(),componentStylesheet=this._styleCompiler.compileComponent(outputContext,compMeta);compMeta.template.externalStylesheets.forEach(function(stylesheetMeta){var compiledStylesheet=_this._styleCompiler.compileStyles(createOutputContext(),compMeta,stylesheetMeta);externalStylesheetsByModuleUrl.set(stylesheetMeta.moduleUrl,compiledStylesheet)}),this._resolveStylesCompileResult(componentStylesheet,externalStylesheetsByModuleUrl);template.ngModule.transitiveModule.pipes.map(function(pipe){return _this._metadataResolver.getPipeSummary(pipe.reference)});var _a=this._parseTemplate(compMeta,template.ngModule,template.directives),parsedTemplate=_a.template,usedPipes=_a.pipes,compileResult=this._viewCompiler.compileComponent(outputContext,compMeta,parsedTemplate,variable(componentStylesheet.stylesVar),usedPipes),evalResult=this._interpretOrJit(templateJitUrl(template.ngModule.type,template.compMeta),outputContext.statements),viewClass=evalResult[compileResult.viewClassVar],rendererType=evalResult[compileResult.rendererTypeVar];template.compiled(viewClass,rendererType)}},JitCompiler.prototype._parseTemplate=function(compMeta,ngModule,directiveIdentifiers){var _this=this,preserveWhitespaces=compMeta.template.preserveWhitespaces,directives=directiveIdentifiers.map(function(dir){return _this._metadataResolver.getDirectiveSummary(dir.reference)}),pipes=ngModule.transitiveModule.pipes.map(function(pipe){return _this._metadataResolver.getPipeSummary(pipe.reference)});return this._templateParser.parse(compMeta,compMeta.template.htmlAst,directives,pipes,ngModule.schemas,templateSourceUrl(ngModule.type,compMeta,compMeta.template),preserveWhitespaces)},JitCompiler.prototype._resolveStylesCompileResult=function(result,externalStylesheetsByModuleUrl){var _this=this;result.dependencies.forEach(function(dep,i){var nestedCompileResult=externalStylesheetsByModuleUrl.get(dep.moduleUrl),nestedStylesArr=_this._resolveAndEvalStylesCompileResult(nestedCompileResult,externalStylesheetsByModuleUrl);dep.setValue(nestedStylesArr)})},JitCompiler.prototype._resolveAndEvalStylesCompileResult=function(result,externalStylesheetsByModuleUrl){return this._resolveStylesCompileResult(result,externalStylesheetsByModuleUrl),this._interpretOrJit(sharedStylesheetJitUrl(result.meta,this._sharedStylesheetCount++),result.outputCtx.statements)[result.stylesVar]},JitCompiler.prototype._interpretOrJit=function(sourceUrl,statements){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(sourceUrl,statements,this._reflector,this._compilerConfig.jitDevMode):function(statements,reflector){var ctx=new _ExecutionContext(null,null,null,new Map);new StatementInterpreter(reflector).visitAllStatements(statements,ctx);var result={};return ctx.exports.forEach(function(exportName){result[exportName]=ctx.vars.get(exportName)}),result}(statements,this._reflector)},JitCompiler}();exports.JitCompiler=JitCompiler;var CompiledTemplate=function(){function CompiledTemplate(isHost,compType,compMeta,ngModule,directives){this.isHost=isHost,this.compType=compType,this.compMeta=compMeta,this.ngModule=ngModule,this.directives=directives,this._viewClass=null,this.isCompiled=!1}return CompiledTemplate.prototype.compiled=function(viewClass,rendererType){for(var prop in this._viewClass=viewClass,this.compMeta.componentViewType.setDelegate(viewClass),rendererType)this.compMeta.rendererType[prop]=rendererType[prop];this.isCompiled=!0},CompiledTemplate}();function assertComponent(meta){if(!meta.isComponent)throw new Error("Could not compile '"+identifierName(meta.type)+"' because it is not a component.")}function createOutputContext(){return{statements:[],genFilePath:"",importExpr:function(symbol){return importExpr({name:identifierName(symbol),moduleName:null,runtime:symbol})},constantPool:new ConstantPool}}var CompileReflector=function(){return function(){}}();exports.CompileReflector=CompileReflector;var UrlResolver=function(){function UrlResolverImpl(_packagePrefix){void 0===_packagePrefix&&(_packagePrefix=null),this._packagePrefix=_packagePrefix}return UrlResolverImpl.prototype.resolve=function(baseUrl,url){var resolvedUrl=url;null!=baseUrl&&baseUrl.length>0&&(resolvedUrl=function(base,url){var parts=_split(encodeURI(url)),baseParts=_split(base);if(null!=parts[_ComponentIndex.Scheme])return _joinAndCanonicalizePath(parts);parts[_ComponentIndex.Scheme]=baseParts[_ComponentIndex.Scheme];for(var i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++)null==parts[i]&&(parts[i]=baseParts[i]);if("/"==parts[_ComponentIndex.Path][0])return _joinAndCanonicalizePath(parts);var path=baseParts[_ComponentIndex.Path];null==path&&(path="/");var index=path.lastIndexOf("/");return path=path.substring(0,index+1)+parts[_ComponentIndex.Path],parts[_ComponentIndex.Path]=path,_joinAndCanonicalizePath(parts)}(baseUrl,resolvedUrl));var resolvedParts=_split(resolvedUrl),prefix=this._packagePrefix;if(null!=prefix&&null!=resolvedParts&&"package"==resolvedParts[_ComponentIndex.Scheme]){var path=resolvedParts[_ComponentIndex.Path];return(prefix=prefix.replace(/\/+$/,""))+"/"+(path=path.replace(/^\/+/,""))}return resolvedUrl},UrlResolverImpl}();exports.UrlResolver=UrlResolver;var _ComponentIndex,_splitRe=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function _split(uri){return uri.match(_splitRe)}function _joinAndCanonicalizePath(parts){var opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment,out,path=parts[_ComponentIndex.Path];return path=null==path?"":function(path){if("/"==path)return"/";for(var leadingSlash="/"==path[0]?"/":"",trailingSlash="/"===path[path.length-1]?"/":"",segments=path.split("/"),out=[],up=0,pos=0;pos<segments.length;pos++){var segment=segments[pos];switch(segment){case"":case".":break;case"..":out.length>0?out.pop():up++;break;default:out.push(segment)}}if(""==leadingSlash){for(;up-- >0;)out.unshift("..");0===out.length&&out.push(".")}return leadingSlash+out.join("/")+trailingSlash}(path),parts[_ComponentIndex.Path]=path,opt_scheme=parts[_ComponentIndex.Scheme],opt_userInfo=parts[_ComponentIndex.UserInfo],opt_domain=parts[_ComponentIndex.Domain],opt_port=parts[_ComponentIndex.Port],opt_path=path,opt_queryData=parts[_ComponentIndex.QueryData],opt_fragment=parts[_ComponentIndex.Fragment],out=[],null!=opt_scheme&&out.push(opt_scheme+":"),null!=opt_domain&&(out.push("//"),null!=opt_userInfo&&out.push(opt_userInfo+"@"),out.push(opt_domain),null!=opt_port&&out.push(":"+opt_port)),null!=opt_path&&out.push(opt_path),null!=opt_queryData&&out.push("?"+opt_queryData),null!=opt_fragment&&out.push("#"+opt_fragment),out.join("")}!function(_ComponentIndex){_ComponentIndex[_ComponentIndex.Scheme=1]="Scheme",_ComponentIndex[_ComponentIndex.UserInfo=2]="UserInfo",_ComponentIndex[_ComponentIndex.Domain=3]="Domain",_ComponentIndex[_ComponentIndex.Port=4]="Port",_ComponentIndex[_ComponentIndex.Path=5]="Path",_ComponentIndex[_ComponentIndex.QueryData=6]="QueryData",_ComponentIndex[_ComponentIndex.Fragment=7]="Fragment"}(_ComponentIndex||(_ComponentIndex={}));var Extractor=function(){function Extractor(host,staticSymbolResolver,messageBundle,metadataResolver){this.host=host,this.staticSymbolResolver=staticSymbolResolver,this.messageBundle=messageBundle,this.metadataResolver=metadataResolver}return Extractor.prototype.extract=function(rootFiles){var _this=this,_a=analyzeAndValidateNgModules(rootFiles,this.host,this.staticSymbolResolver,this.metadataResolver),files=_a.files,ngModules=_a.ngModules;return Promise.all(ngModules.map(function(ngModule){return _this.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference,!1)})).then(function(){var errors=[];if(files.forEach(function(file){var compMetas=[];file.directives.forEach(function(directiveType){var dirMeta=_this.metadataResolver.getDirectiveMetadata(directiveType);dirMeta&&dirMeta.isComponent&&compMetas.push(dirMeta)}),compMetas.forEach(function(compMeta){var html=compMeta.template.template,templateUrl=compMeta.template.templateUrl,interpolationConfig=InterpolationConfig.fromArray(compMeta.template.interpolation);errors.push.apply(errors,(0,_tslib.__spread)(_this.messageBundle.updateFromTemplate(html,templateUrl,interpolationConfig)))})}),errors.length)throw new Error(errors.map(function(e){return e.toString()}).join("\n"));return _this.messageBundle})},Extractor.create=function(host,locale){var htmlParser=new HtmlParser,urlResolver=createAotUrlResolver(host),symbolCache=new StaticSymbolCache,summaryResolver=new AotSummaryResolver(host,symbolCache),staticSymbolResolver=new StaticSymbolResolver(host,symbolCache,summaryResolver),staticReflector=new StaticReflector(summaryResolver,staticSymbolResolver),config=new CompilerConfig({defaultEncapsulation:ViewEncapsulation.Emulated,useJit:!1}),normalizer=new DirectiveNormalizer({get:function(url){return host.loadResource(url)}},urlResolver,htmlParser,config),elementSchemaRegistry=new DomElementSchemaRegistry,resolver=new CompileMetadataResolver(config,htmlParser,new NgModuleResolver(staticReflector),new DirectiveResolver(staticReflector),new PipeResolver(staticReflector),summaryResolver,elementSchemaRegistry,normalizer,console,symbolCache,staticReflector),messageBundle=new MessageBundle(htmlParser,[],{},locale);return{extractor:new Extractor(host,staticSymbolResolver,messageBundle,resolver),staticReflector:staticReflector}},Extractor}();exports.Extractor=Extractor;var R3TargetBinder=function(){function R3TargetBinder(directiveMatcher){this.directiveMatcher=directiveMatcher}return R3TargetBinder.prototype.bind=function(target){if(!target.template)throw new Error("Binding without a template not yet supported");var scope=Scope.apply(target.template),_a=DirectiveBinder.apply(target.template,this.directiveMatcher),directives=_a.directives,bindings=_a.bindings,references=_a.references,_b=TemplateBinder.apply(target.template,scope),expressions=_b.expressions,symbols=_b.symbols,nestingLevel=_b.nestingLevel,usedPipes=_b.usedPipes;return new R3BoundTarget(target,directives,bindings,references,expressions,symbols,nestingLevel,usedPipes)},R3TargetBinder}();exports.R3TargetBinder=R3TargetBinder;var Scope=function(){function Scope(parentScope){this.parentScope=parentScope,this.namedEntities=new Map,this.childScopes=new Map}return Scope.apply=function(template){var scope=new Scope;return scope.ingest(template),scope},Scope.prototype.ingest=function(template){var _this=this;template instanceof Template?(template.variables.forEach(function(node){return _this.visitVariable(node)}),template.children.forEach(function(node){return node.visit(_this)})):template.forEach(function(node){return node.visit(_this)})},Scope.prototype.visitElement=function(element){var _this=this;element.references.forEach(function(node){return _this.visitReference(node)}),element.children.forEach(function(node){return node.visit(_this)})},Scope.prototype.visitTemplate=function(template){var _this=this;template.references.forEach(function(node){return _this.visitReference(node)});var scope=new Scope(this);scope.ingest(template),this.childScopes.set(template,scope)},Scope.prototype.visitVariable=function(variable){this.maybeDeclare(variable)},Scope.prototype.visitReference=function(reference){this.maybeDeclare(reference)},Scope.prototype.visitContent=function(content){},Scope.prototype.visitBoundAttribute=function(attr){},Scope.prototype.visitBoundEvent=function(event){},Scope.prototype.visitBoundText=function(text){},Scope.prototype.visitText=function(text){},Scope.prototype.visitTextAttribute=function(attr){},Scope.prototype.visitIcu=function(icu){},Scope.prototype.maybeDeclare=function(thing){this.namedEntities.has(thing.name)||this.namedEntities.set(thing.name,thing)},Scope.prototype.lookup=function(name){return this.namedEntities.has(name)?this.namedEntities.get(name):void 0!==this.parentScope?this.parentScope.lookup(name):null},Scope.prototype.getChildScope=function(template){var res=this.childScopes.get(template);if(void 0===res)throw new Error("Assertion error: child scope for "+template+" not found");return res},Scope}(),DirectiveBinder=function(){function DirectiveBinder(matcher,directives,bindings,references){this.matcher=matcher,this.directives=directives,this.bindings=bindings,this.references=references}return DirectiveBinder.apply=function(template,selectorMatcher){var directives=new Map,bindings=new Map,references=new Map;return new DirectiveBinder(selectorMatcher,directives,bindings,references).ingest(template),{directives:directives,bindings:bindings,references:references}},DirectiveBinder.prototype.ingest=function(template){var _this=this;template.forEach(function(node){return node.visit(_this)})},DirectiveBinder.prototype.visitElement=function(element){this.visitElementOrTemplate(element.name,element)},DirectiveBinder.prototype.visitTemplate=function(template){this.visitElementOrTemplate("ng-template",template)},DirectiveBinder.prototype.visitElementOrTemplate=function(tag,node){var _this=this,cssSelector=new CssSelector;cssSelector.setElement(tag);var attrs=getAttrsForDirectiveMatching(node);Object.getOwnPropertyNames(attrs).forEach(function(name){var value=attrs[name];(cssSelector.addAttribute(name,value),"class"===name.toLowerCase())&&value.trim().split(/\s+/g).forEach(function(className){return cssSelector.addClassName(className)})});var directives=[];this.matcher.match(cssSelector,function(_,directive){return directives.push(directive)}),directives.length>0&&this.directives.set(node,directives),node.references.forEach(function(ref){var dirTarget=null;if(""===ref.value.trim())dirTarget=directives.find(function(dir){return dir.isComponent})||null;else if(null===(dirTarget=directives.find(function(dir){return null!==dir.exportAs&&dir.exportAs.some(function(value){return value===ref.value})})||null))throw new Error("Assertion error: failed to find directive with exportAs: "+ref.value);null!==dirTarget?_this.references.set(ref,{directive:dirTarget,node:node}):_this.references.set(ref,node)});var processAttribute=function(attribute){var dir=directives.find(function(dir){return dir.inputs.hasOwnProperty(attribute.name)});void 0!==dir?_this.bindings.set(attribute,dir):_this.bindings.set(attribute,node)};node.attributes.forEach(processAttribute),node.inputs.forEach(processAttribute),node.outputs.forEach(processAttribute),node instanceof Template&&node.templateAttrs.forEach(processAttribute),node.children.forEach(function(child){return child.visit(_this)})},DirectiveBinder.prototype.visitContent=function(content){},DirectiveBinder.prototype.visitVariable=function(variable){},DirectiveBinder.prototype.visitReference=function(reference){},DirectiveBinder.prototype.visitTextAttribute=function(attribute){},DirectiveBinder.prototype.visitBoundAttribute=function(attribute){},DirectiveBinder.prototype.visitBoundEvent=function(attribute){},DirectiveBinder.prototype.visitBoundAttributeOrEvent=function(node){},DirectiveBinder.prototype.visitText=function(text){},DirectiveBinder.prototype.visitBoundText=function(text){},DirectiveBinder.prototype.visitIcu=function(icu){},DirectiveBinder}(),TemplateBinder=function(_super){function TemplateBinder(bindings,symbols,usedPipes,nestingLevel,scope,template,level){var _this=_super.call(this)||this;return _this.bindings=bindings,_this.symbols=symbols,_this.usedPipes=usedPipes,_this.nestingLevel=nestingLevel,_this.scope=scope,_this.template=template,_this.level=level,_this.pipesUsed=[],_this.visitNode=function(node){return node.visit(_this)},_this}return(0,_tslib.__extends)(TemplateBinder,_super),TemplateBinder.apply=function(template,scope){var expressions=new Map,symbols=new Map,nestingLevel=new Map,usedPipes=new Set;return new TemplateBinder(expressions,symbols,usedPipes,nestingLevel,scope,template instanceof Template?template:null,0).ingest(template),{expressions:expressions,symbols:symbols,nestingLevel:nestingLevel,usedPipes:usedPipes}},TemplateBinder.prototype.ingest=function(template){template instanceof Template?(template.variables.forEach(this.visitNode),template.children.forEach(this.visitNode),this.nestingLevel.set(template,this.level)):template.forEach(this.visitNode)},TemplateBinder.prototype.visitElement=function(element){element.inputs.forEach(this.visitNode),element.outputs.forEach(this.visitNode),element.children.forEach(this.visitNode)},TemplateBinder.prototype.visitTemplate=function(template){template.inputs.forEach(this.visitNode),template.outputs.forEach(this.visitNode),template.templateAttrs.forEach(this.visitNode),template.references.forEach(this.visitNode);var childScope=this.scope.getChildScope(template);new TemplateBinder(this.bindings,this.symbols,this.usedPipes,this.nestingLevel,childScope,template,this.level+1).ingest(template)},TemplateBinder.prototype.visitVariable=function(variable){null!==this.template&&this.symbols.set(variable,this.template)},TemplateBinder.prototype.visitReference=function(reference){null!==this.template&&this.symbols.set(reference,this.template)},TemplateBinder.prototype.visitText=function(text){},TemplateBinder.prototype.visitContent=function(content){},TemplateBinder.prototype.visitTextAttribute=function(attribute){},TemplateBinder.prototype.visitIcu=function(icu){},TemplateBinder.prototype.visitBoundAttribute=function(attribute){attribute.value.visit(this)},TemplateBinder.prototype.visitBoundEvent=function(event){event.handler.visit(this)},TemplateBinder.prototype.visitBoundText=function(text){text.value.visit(this)},TemplateBinder.prototype.visitPipe=function(ast,context){return this.usedPipes.add(ast.name),_super.prototype.visitPipe.call(this,ast,context)},TemplateBinder.prototype.visitPropertyRead=function(ast,context){return this.maybeMap(context,ast,ast.name),_super.prototype.visitPropertyRead.call(this,ast,context)},TemplateBinder.prototype.visitSafePropertyRead=function(ast,context){return this.maybeMap(context,ast,ast.name),_super.prototype.visitSafePropertyRead.call(this,ast,context)},TemplateBinder.prototype.visitPropertyWrite=function(ast,context){return this.maybeMap(context,ast,ast.name),_super.prototype.visitPropertyWrite.call(this,ast,context)},TemplateBinder.prototype.visitMethodCall=function(ast,context){return this.maybeMap(context,ast,ast.name),_super.prototype.visitMethodCall.call(this,ast,context)},TemplateBinder.prototype.visitSafeMethodCall=function(ast,context){return this.maybeMap(context,ast,ast.name),_super.prototype.visitSafeMethodCall.call(this,ast,context)},TemplateBinder.prototype.maybeMap=function(scope,ast,name){if(ast.receiver instanceof ImplicitReceiver){var target=this.scope.lookup(name);null!==target&&this.bindings.set(ast,target)}},TemplateBinder}(RecursiveAstVisitor$1),R3BoundTarget=function(){function R3BoundTarget(target,directives,bindings,references,exprTargets,symbols,nestingLevel,usedPipes){this.target=target,this.directives=directives,this.bindings=bindings,this.references=references,this.exprTargets=exprTargets,this.symbols=symbols,this.nestingLevel=nestingLevel,this.usedPipes=usedPipes}return R3BoundTarget.prototype.getDirectivesOfNode=function(node){return this.directives.get(node)||null},R3BoundTarget.prototype.getReferenceTarget=function(ref){return this.references.get(ref)||null},R3BoundTarget.prototype.getConsumerOfBinding=function(binding){return this.bindings.get(binding)||null},R3BoundTarget.prototype.getExpressionTarget=function(expr){return this.exprTargets.get(expr)||null},R3BoundTarget.prototype.getTemplateOfSymbol=function(symbol){return this.symbols.get(symbol)||null},R3BoundTarget.prototype.getNestingLevel=function(template){return this.nestingLevel.get(template)||0},R3BoundTarget.prototype.getUsedDirectives=function(){var set=new Set;return this.directives.forEach(function(dirs){return dirs.forEach(function(dir){return set.add(dir)})}),Array.from(set.values())},R3BoundTarget.prototype.getUsedPipes=function(){return Array.from(this.usedPipes)},R3BoundTarget}();exports.R3BoundTarget=R3BoundTarget,publishFacade(_global)},{tslib:"vCxL"}],Qnsq:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFunction=function(x){return"function"==typeof x}},{}],Q3iD:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.config=void 0;var _enable_super_gross_mode_that_will_cause_bad_things=!1,config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){value&&(new Error).stack;_enable_super_gross_mode_that_will_cause_bad_things=value},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};exports.config=config},{}],JfKC:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hostReportError=function(err){setTimeout(function(){throw err},0)}},{}],wIlR:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.empty=void 0;var _config=require("./config"),_hostReportError=require("./util/hostReportError"),empty={closed:!0,next:function(value){},error:function(err){if(_config.config.useDeprecatedSynchronousErrorHandling)throw err;(0,_hostReportError.hostReportError)(err)},complete:function(){}};exports.empty=empty},{"./config":"Q3iD","./util/hostReportError":"JfKC"}],KeTG:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArray=void 0;var isArray=function(){return Array.isArray||function(x){return x&&"number"==typeof x.length}}();exports.isArray=isArray},{}],nU7r:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=function(x){return null!==x&&"object"==typeof x}},{}],pMaL:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnsubscriptionError=void 0;var UnsubscriptionError=function(){function UnsubscriptionErrorImpl(errors){return Error.call(this),this.message=errors?errors.length+" errors occurred during unsubscription:\n"+errors.map(function(err,i){return i+1+") "+err.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=errors,this}return UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype),UnsubscriptionErrorImpl}();exports.UnsubscriptionError=UnsubscriptionError},{}],I8KM:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Subscription=void 0;var _isArray=require("./util/isArray"),_isObject=require("./util/isObject"),_isFunction=require("./util/isFunction"),_UnsubscriptionError=require("./util/UnsubscriptionError"),Subscription=function(){function Subscription(unsubscribe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,unsubscribe&&(this._unsubscribe=unsubscribe)}var empty;return Subscription.prototype.unsubscribe=function(){var errors;if(!this.closed){var _parentOrParents=this._parentOrParents,_unsubscribe=this._unsubscribe,_subscriptions=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,_parentOrParents instanceof Subscription)_parentOrParents.remove(this);else if(null!==_parentOrParents)for(var index=0;index<_parentOrParents.length;++index){_parentOrParents[index].remove(this)}if((0,_isFunction.isFunction)(_unsubscribe))try{_unsubscribe.call(this)}catch(e){errors=e instanceof _UnsubscriptionError.UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}if((0,_isArray.isArray)(_subscriptions)){index=-1;for(var len=_subscriptions.length;++index<len;){var sub=_subscriptions[index];if((0,_isObject.isObject)(sub))try{sub.unsubscribe()}catch(e){errors=errors||[],e instanceof _UnsubscriptionError.UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(e.errors)):errors.push(e)}}}if(errors)throw new _UnsubscriptionError.UnsubscriptionError(errors)}},Subscription.prototype.add=function(teardown){var subscription=teardown;if(!teardown)return Subscription.EMPTY;switch(typeof teardown){case"function":subscription=new Subscription(teardown);case"object":if(subscription===this||subscription.closed||"function"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if(!(subscription instanceof Subscription)){var tmp=subscription;(subscription=new Subscription)._subscriptions=[tmp]}break;default:throw new Error("unrecognized teardown "+teardown+" added to Subscription.")}var _parentOrParents=subscription._parentOrParents;if(null===_parentOrParents)subscription._parentOrParents=this;else if(_parentOrParents instanceof Subscription){if(_parentOrParents===this)return subscription;subscription._parentOrParents=[_parentOrParents,this]}else{if(-1!==_parentOrParents.indexOf(this))return subscription;_parentOrParents.push(this)}var subscriptions=this._subscriptions;return null===subscriptions?this._subscriptions=[subscription]:subscriptions.push(subscription),subscription},Subscription.prototype.remove=function(subscription){var subscriptions=this._subscriptions;if(subscriptions){var subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}},Subscription.EMPTY=((empty=new Subscription).closed=!0,empty),Subscription}();function flattenUnsubscriptionErrors(errors){return errors.reduce(function(errs,err){return errs.concat(err instanceof _UnsubscriptionError.UnsubscriptionError?err.errors:err)},[])}exports.Subscription=Subscription},{"./util/isArray":"KeTG","./util/isObject":"nU7r","./util/isFunction":"Qnsq","./util/UnsubscriptionError":"pMaL"}],yAZp:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$$rxSubscriber=exports.rxSubscriber=void 0;var rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();exports.rxSubscriber=rxSubscriber;var $$rxSubscriber=rxSubscriber;exports.$$rxSubscriber=$$rxSubscriber},{}],RaFB:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SafeSubscriber=exports.Subscriber=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_isFunction=require("./util/isFunction"),_Observer=require("./Observer"),_Subscription=require("./Subscription"),_rxSubscriber=require("../internal/symbol/rxSubscriber"),_config=require("./config"),_hostReportError=require("./util/hostReportError");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var Subscriber=function(_super){function Subscriber(destinationOrNext,error,complete){var _this=_super.call(this)||this;switch(_this.syncErrorValue=null,_this.syncErrorThrown=!1,_this.syncErrorThrowable=!1,_this.isStopped=!1,arguments.length){case 0:_this.destination=_Observer.empty;break;case 1:if(!destinationOrNext){_this.destination=_Observer.empty;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber?(_this.syncErrorThrowable=destinationOrNext.syncErrorThrowable,_this.destination=destinationOrNext,destinationOrNext.add(_this)):(_this.syncErrorThrowable=!0,_this.destination=new SafeSubscriber(_this,destinationOrNext));break}default:_this.syncErrorThrowable=!0,_this.destination=new SafeSubscriber(_this,destinationOrNext,error,complete)}return _this}return tslib_1.__extends(Subscriber,_super),Subscriber.prototype[_rxSubscriber.rxSubscriber]=function(){return this},Subscriber.create=function(next,error,complete){var subscriber=new Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber},Subscriber.prototype.next=function(value){this.isStopped||this._next(value)},Subscriber.prototype.error=function(err){this.isStopped||(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){this.destination.error(err),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype._unsubscribeAndRecycle=function(){var _parentOrParents=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=_parentOrParents,this},Subscriber}(_Subscription.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(_super){function SafeSubscriber(_parentSubscriber,observerOrNext,error,complete){var next,_this=_super.call(this)||this;_this._parentSubscriber=_parentSubscriber;var context=_this;return(0,_isFunction.isFunction)(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==_Observer.empty&&(context=Object.create(observerOrNext),(0,_isFunction.isFunction)(context.unsubscribe)&&_this.add(context.unsubscribe.bind(context)),context.unsubscribe=_this.unsubscribe.bind(_this))),_this._context=context,_this._next=next,_this._error=error,_this._complete=complete,_this}return tslib_1.__extends(SafeSubscriber,_super),SafeSubscriber.prototype.next=function(value){if(!this.isStopped&&this._next){var _parentSubscriber=this._parentSubscriber;_config.config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}},SafeSubscriber.prototype.error=function(err){if(!this.isStopped){var _parentSubscriber=this._parentSubscriber,useDeprecatedSynchronousErrorHandling=_config.config.useDeprecatedSynchronousErrorHandling;if(this._error)useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else if(_parentSubscriber.syncErrorThrowable)useDeprecatedSynchronousErrorHandling?(_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0):(0,_hostReportError.hostReportError)(err),this.unsubscribe();else{if(this.unsubscribe(),useDeprecatedSynchronousErrorHandling)throw err;(0,_hostReportError.hostReportError)(err)}}},SafeSubscriber.prototype.complete=function(){var _this=this;if(!this.isStopped){var _parentSubscriber=this._parentSubscriber;if(this._complete){var wrappedComplete=function(){return _this._complete.call(_this._context)};_config.config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(fn,value){try{fn.call(this._context,value)}catch(err){if(this.unsubscribe(),_config.config.useDeprecatedSynchronousErrorHandling)throw err;(0,_hostReportError.hostReportError)(err)}},SafeSubscriber.prototype.__tryOrSetError=function(parent,fn,value){if(!_config.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{fn.call(this._context,value)}catch(err){return _config.config.useDeprecatedSynchronousErrorHandling?(parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0):((0,_hostReportError.hostReportError)(err),!0)}return!1},SafeSubscriber.prototype._unsubscribe=function(){var _parentSubscriber=this._parentSubscriber;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()},SafeSubscriber}(Subscriber);exports.SafeSubscriber=SafeSubscriber},{tslib:"vCxL","./util/isFunction":"Qnsq","./Observer":"wIlR","./Subscription":"I8KM","../internal/symbol/rxSubscriber":"yAZp","./config":"Q3iD","./util/hostReportError":"JfKC"}],wHmS:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.canReportError=function(observer){for(;observer;){var _a=observer,closed_1=_a.closed,destination=_a.destination,isStopped=_a.isStopped;if(closed_1||isStopped)return!1;observer=destination&&destination instanceof _Subscriber.Subscriber?destination:null}return!0};var _Subscriber=require("../Subscriber")},{"../Subscriber":"RaFB"}],SEU0:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toSubscriber=function(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof _Subscriber.Subscriber)return nextOrObserver;if(nextOrObserver[_rxSubscriber.rxSubscriber])return nextOrObserver[_rxSubscriber.rxSubscriber]()}if(!nextOrObserver&&!error&&!complete)return new _Subscriber.Subscriber(_Observer.empty);return new _Subscriber.Subscriber(nextOrObserver,error,complete)};var _Subscriber=require("../Subscriber"),_rxSubscriber=require("../symbol/rxSubscriber"),_Observer=require("../Observer")},{"../Subscriber":"RaFB","../symbol/rxSubscriber":"yAZp","../Observer":"wIlR"}],tjV3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.observable=void 0;var observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();exports.observable=observable},{}],rXfM:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=function(){}},{}],HQCS:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pipe=function(){for(var fns=[],_i=0;_i<arguments.length;_i++)fns[_i]=arguments[_i];return pipeFromArray(fns)},exports.pipeFromArray=pipeFromArray;var _noop=require("./noop");function pipeFromArray(fns){return fns?1===fns.length?fns[0]:function(input){return fns.reduce(function(prev,fn){return fn(prev)},input)}:_noop.noop}},{"./noop":"rXfM"}],wbSE:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Observable=void 0;var _canReportError=require("./util/canReportError"),_toSubscriber=require("./util/toSubscriber"),_observable=require("./symbol/observable"),_pipe=require("./util/pipe"),_config=require("./config"),Observable=function(){function Observable(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var operator=this.operator,sink=(0,_toSubscriber.toSubscriber)(observerOrNext,error,complete);if(operator?sink.add(operator.call(sink,this.source)):sink.add(this.source||_config.config.useDeprecatedSynchronousErrorHandling&&!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),_config.config.useDeprecatedSynchronousErrorHandling&&sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink},Observable.prototype._trySubscribe=function(sink){try{return this._subscribe(sink)}catch(err){_config.config.useDeprecatedSynchronousErrorHandling&&(sink.syncErrorThrown=!0,sink.syncErrorValue=err),(0,_canReportError.canReportError)(sink)?sink.error(err):console.warn(err)}},Observable.prototype.forEach=function(next,promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))(function(resolve,reject){var subscription;subscription=_this.subscribe(function(value){try{next(value)}catch(err){reject(err),subscription&&subscription.unsubscribe()}},reject,resolve)})},Observable.prototype._subscribe=function(subscriber){var source=this.source;return source&&source.subscribe(subscriber)},Observable.prototype[_observable.observable]=function(){return this},Observable.prototype.pipe=function(){for(var operations=[],_i=0;_i<arguments.length;_i++)operations[_i]=arguments[_i];return 0===operations.length?this:(0,_pipe.pipeFromArray)(operations)(this)},Observable.prototype.toPromise=function(promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)})})},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();function getPromiseCtor(promiseCtor){if(promiseCtor||(promiseCtor=_config.config.Promise||Promise),!promiseCtor)throw new Error("no Promise impl found");return promiseCtor}exports.Observable=Observable},{"./util/canReportError":"wHmS","./util/toSubscriber":"SEU0","./symbol/observable":"tjV3","./util/pipe":"HQCS","./config":"Q3iD"}],xQEi:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectUnsubscribedError=void 0;var ObjectUnsubscribedError=function(){function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype),ObjectUnsubscribedErrorImpl}();exports.ObjectUnsubscribedError=ObjectUnsubscribedError},{}],fyc3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubjectSubscription=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SubjectSubscription=function(_super){function SubjectSubscription(subject,subscriber){var _this=_super.call(this)||this;return _this.subject=subject,_this.subscriber=subscriber,_this.closed=!1,_this}return tslib_1.__extends(SubjectSubscription,_super),SubjectSubscription.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var subject=this.subject,observers=subject.observers;if(this.subject=null,observers&&0!==observers.length&&!subject.isStopped&&!subject.closed){var subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}},SubjectSubscription}(require("./Subscription").Subscription);exports.SubjectSubscription=SubjectSubscription},{tslib:"vCxL","./Subscription":"I8KM"}],r9t1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnonymousSubject=exports.Subject=exports.SubjectSubscriber=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Observable=require("./Observable"),_Subscriber=require("./Subscriber"),_Subscription=require("./Subscription"),_ObjectUnsubscribedError=require("./util/ObjectUnsubscribedError"),_SubjectSubscription=require("./SubjectSubscription"),_rxSubscriber=require("../internal/symbol/rxSubscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SubjectSubscriber=function(_super){function SubjectSubscriber(destination){var _this=_super.call(this,destination)||this;return _this.destination=destination,_this}return tslib_1.__extends(SubjectSubscriber,_super),SubjectSubscriber}(_Subscriber.Subscriber);exports.SubjectSubscriber=SubjectSubscriber;var Subject=function(_super){function Subject(){var _this=_super.call(this)||this;return _this.observers=[],_this.closed=!1,_this.isStopped=!1,_this.hasError=!1,_this.thrownError=null,_this}return tslib_1.__extends(Subject,_super),Subject.prototype[_rxSubscriber.rxSubscriber]=function(){return new SubjectSubscriber(this)},Subject.prototype.lift=function(operator){var subject=new AnonymousSubject(this,this);return subject.operator=operator,subject},Subject.prototype.next=function(value){if(this.closed)throw new _ObjectUnsubscribedError.ObjectUnsubscribedError;if(!this.isStopped)for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++)copy[i].next(value)},Subject.prototype.error=function(err){if(this.closed)throw new _ObjectUnsubscribedError.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++)copy[i].error(err);this.observers.length=0},Subject.prototype.complete=function(){if(this.closed)throw new _ObjectUnsubscribedError.ObjectUnsubscribedError;this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++)copy[i].complete();this.observers.length=0},Subject.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},Subject.prototype._trySubscribe=function(subscriber){if(this.closed)throw new _ObjectUnsubscribedError.ObjectUnsubscribedError;return _super.prototype._trySubscribe.call(this,subscriber)},Subject.prototype._subscribe=function(subscriber){if(this.closed)throw new _ObjectUnsubscribedError.ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),_Subscription.Subscription.EMPTY):this.isStopped?(subscriber.complete(),_Subscription.Subscription.EMPTY):(this.observers.push(subscriber),new _SubjectSubscription.SubjectSubscription(this,subscriber))},Subject.prototype.asObservable=function(){var observable=new _Observable.Observable;return observable.source=this,observable},Subject.create=function(destination,source){return new AnonymousSubject(destination,source)},Subject}(_Observable.Observable);exports.Subject=Subject;var AnonymousSubject=function(_super){function AnonymousSubject(destination,source){var _this=_super.call(this)||this;return _this.destination=destination,_this.source=source,_this}return tslib_1.__extends(AnonymousSubject,_super),AnonymousSubject.prototype.next=function(value){var destination=this.destination;destination&&destination.next&&destination.next(value)},AnonymousSubject.prototype.error=function(err){var destination=this.destination;destination&&destination.error&&this.destination.error(err)},AnonymousSubject.prototype.complete=function(){var destination=this.destination;destination&&destination.complete&&this.destination.complete()},AnonymousSubject.prototype._subscribe=function(subscriber){return this.source?this.source.subscribe(subscriber):_Subscription.Subscription.EMPTY},AnonymousSubject}(Subject);exports.AnonymousSubject=AnonymousSubject},{tslib:"vCxL","./Observable":"wbSE","./Subscriber":"RaFB","./Subscription":"I8KM","./util/ObjectUnsubscribedError":"xQEi","./SubjectSubscription":"fyc3","../internal/symbol/rxSubscriber":"yAZp"}],vT9o:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.refCount=function(){return function(source){return source.lift(new RefCountOperator(source))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var RefCountOperator=function(){function RefCountOperator(connectable){this.connectable=connectable}return RefCountOperator.prototype.call=function(subscriber,source){var connectable=this.connectable;connectable._refCount++;var refCounter=new RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription},RefCountOperator}(),RefCountSubscriber=function(_super){function RefCountSubscriber(destination,connectable){var _this=_super.call(this,destination)||this;return _this.connectable=connectable,_this}return tslib_1.__extends(RefCountSubscriber,_super),RefCountSubscriber.prototype._unsubscribe=function(){var connectable=this.connectable;if(connectable){this.connectable=null;var refCount=connectable._refCount;if(refCount<=0)this.connection=null;else if(connectable._refCount=refCount-1,refCount>1)this.connection=null;else{var connection=this.connection,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}else this.connection=null},RefCountSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],kkfD:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.connectableObservableDescriptor=exports.ConnectableObservable=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("../Subject"),_Observable=require("../Observable"),_Subscriber=require("../Subscriber"),_Subscription=require("../Subscription"),_refCount=require("../operators/refCount");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ConnectableObservable=function(_super){function ConnectableObservable(source,subjectFactory){var _this=_super.call(this)||this;return _this.source=source,_this.subjectFactory=subjectFactory,_this._refCount=0,_this._isComplete=!1,_this}return tslib_1.__extends(ConnectableObservable,_super),ConnectableObservable.prototype._subscribe=function(subscriber){return this.getSubject().subscribe(subscriber)},ConnectableObservable.prototype.getSubject=function(){var subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject},ConnectableObservable.prototype.connect=function(){var connection=this._connection;return connection||(this._isComplete=!1,(connection=this._connection=new _Subscription.Subscription).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),connection.closed&&(this._connection=null,connection=_Subscription.Subscription.EMPTY)),connection},ConnectableObservable.prototype.refCount=function(){return(0,_refCount.refCount)()(this)},ConnectableObservable}(_Observable.Observable);exports.ConnectableObservable=ConnectableObservable;var connectableObservableDescriptor=function(){var connectableProto=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}}}();exports.connectableObservableDescriptor=connectableObservableDescriptor;var ConnectableSubscriber=function(_super){function ConnectableSubscriber(destination,connectable){var _this=_super.call(this,destination)||this;return _this.connectable=connectable,_this}return tslib_1.__extends(ConnectableSubscriber,_super),ConnectableSubscriber.prototype._error=function(err){this._unsubscribe(),_super.prototype._error.call(this,err)},ConnectableSubscriber.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),_super.prototype._complete.call(this)},ConnectableSubscriber.prototype._unsubscribe=function(){var connectable=this.connectable;if(connectable){this.connectable=null;var connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}},ConnectableSubscriber}(_Subject.SubjectSubscriber);_Subscriber.Subscriber},{tslib:"vCxL","../Subject":"r9t1","../Observable":"wbSE","../Subscriber":"RaFB","../Subscription":"I8KM","../operators/refCount":"vT9o"}],dNgG:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupBy=function(keySelector,elementSelector,durationSelector,subjectSelector){return function(source){return source.lift(new GroupByOperator(keySelector,elementSelector,durationSelector,subjectSelector))}},exports.GroupedObservable=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_Subscription=require("../Subscription"),_Observable=require("../Observable"),_Subject=require("../Subject");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var GroupByOperator=function(){function GroupByOperator(keySelector,elementSelector,durationSelector,subjectSelector){this.keySelector=keySelector,this.elementSelector=elementSelector,this.durationSelector=durationSelector,this.subjectSelector=subjectSelector}return GroupByOperator.prototype.call=function(subscriber,source){return source.subscribe(new GroupBySubscriber(subscriber,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},GroupByOperator}(),GroupBySubscriber=function(_super){function GroupBySubscriber(destination,keySelector,elementSelector,durationSelector,subjectSelector){var _this=_super.call(this,destination)||this;return _this.keySelector=keySelector,_this.elementSelector=elementSelector,_this.durationSelector=durationSelector,_this.subjectSelector=subjectSelector,_this.groups=null,_this.attemptedToUnsubscribe=!1,_this.count=0,_this}return tslib_1.__extends(GroupBySubscriber,_super),GroupBySubscriber.prototype._next=function(value){var key;try{key=this.keySelector(value)}catch(err){return void this.error(err)}this._group(value,key)},GroupBySubscriber.prototype._group=function(value,key){var groups=this.groups;groups||(groups=this.groups=new Map);var element,group=groups.get(key);if(this.elementSelector)try{element=this.elementSelector(value)}catch(err){this.error(err)}else element=value;if(!group){group=this.subjectSelector?this.subjectSelector():new _Subject.Subject,groups.set(key,group);var groupedObservable=new GroupedObservable(key,group,this);if(this.destination.next(groupedObservable),this.durationSelector){var duration=void 0;try{duration=this.durationSelector(new GroupedObservable(key,group))}catch(err){return void this.error(err)}this.add(duration.subscribe(new GroupDurationSubscriber(key,group,this)))}}group.closed||group.next(element)},GroupBySubscriber.prototype._error=function(err){var groups=this.groups;groups&&(groups.forEach(function(group,key){group.error(err)}),groups.clear()),this.destination.error(err)},GroupBySubscriber.prototype._complete=function(){var groups=this.groups;groups&&(groups.forEach(function(group,key){group.complete()}),groups.clear()),this.destination.complete()},GroupBySubscriber.prototype.removeGroup=function(key){this.groups.delete(key)},GroupBySubscriber.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_super.prototype.unsubscribe.call(this))},GroupBySubscriber}(_Subscriber.Subscriber),GroupDurationSubscriber=function(_super){function GroupDurationSubscriber(key,group,parent){var _this=_super.call(this,group)||this;return _this.key=key,_this.group=group,_this.parent=parent,_this}return tslib_1.__extends(GroupDurationSubscriber,_super),GroupDurationSubscriber.prototype._next=function(value){this.complete()},GroupDurationSubscriber.prototype._unsubscribe=function(){var parent=this.parent,key=this.key;this.key=this.parent=null,parent&&parent.removeGroup(key)},GroupDurationSubscriber}(_Subscriber.Subscriber),GroupedObservable=function(_super){function GroupedObservable(key,groupSubject,refCountSubscription){var _this=_super.call(this)||this;return _this.key=key,_this.groupSubject=groupSubject,_this.refCountSubscription=refCountSubscription,_this}return tslib_1.__extends(GroupedObservable,_super),GroupedObservable.prototype._subscribe=function(subscriber){var subscription=new _Subscription.Subscription,refCountSubscription=this.refCountSubscription,groupSubject=this.groupSubject;return refCountSubscription&&!refCountSubscription.closed&&subscription.add(new InnerRefCountSubscription(refCountSubscription)),subscription.add(groupSubject.subscribe(subscriber)),subscription},GroupedObservable}(_Observable.Observable);exports.GroupedObservable=GroupedObservable;var InnerRefCountSubscription=function(_super){function InnerRefCountSubscription(parent){var _this=_super.call(this)||this;return _this.parent=parent,parent.count++,_this}return tslib_1.__extends(InnerRefCountSubscription,_super),InnerRefCountSubscription.prototype.unsubscribe=function(){var parent=this.parent;parent.closed||this.closed||(_super.prototype.unsubscribe.call(this),parent.count-=1,0===parent.count&&parent.attemptedToUnsubscribe&&parent.unsubscribe())},InnerRefCountSubscription}(_Subscription.Subscription)},{tslib:"vCxL","../Subscriber":"RaFB","../Subscription":"I8KM","../Observable":"wbSE","../Subject":"r9t1"}],MPU6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BehaviorSubject=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("./Subject"),_ObjectUnsubscribedError=require("./util/ObjectUnsubscribedError");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var BehaviorSubject=function(_super){function BehaviorSubject(_value){var _this=_super.call(this)||this;return _this._value=_value,_this}return tslib_1.__extends(BehaviorSubject,_super),Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),BehaviorSubject.prototype._subscribe=function(subscriber){var subscription=_super.prototype._subscribe.call(this,subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription},BehaviorSubject.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _ObjectUnsubscribedError.ObjectUnsubscribedError;return this._value},BehaviorSubject.prototype.next=function(value){_super.prototype.next.call(this,this._value=value)},BehaviorSubject}(_Subject.Subject);exports.BehaviorSubject=BehaviorSubject},{tslib:"vCxL","./Subject":"r9t1","./util/ObjectUnsubscribedError":"xQEi"}],arqX:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Action=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var Action=function(_super){function Action(scheduler,work){return _super.call(this)||this}return tslib_1.__extends(Action,_super),Action.prototype.schedule=function(state,delay){return void 0===delay&&(delay=0),this},Action}(require("../Subscription").Subscription);exports.Action=Action},{tslib:"vCxL","../Subscription":"I8KM"}],llYF:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncAction=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var AsyncAction=function(_super){function AsyncAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;return _this.scheduler=scheduler,_this.work=work,_this.pending=!1,_this}return tslib_1.__extends(AsyncAction,_super),AsyncAction.prototype.schedule=function(state,delay){if(void 0===delay&&(delay=0),this.closed)return this;this.state=state;var id=this.id,scheduler=this.scheduler;return null!=id&&(this.id=this.recycleAsyncId(scheduler,id,delay)),this.pending=!0,this.delay=delay,this.id=this.id||this.requestAsyncId(scheduler,this.id,delay),this},AsyncAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),setInterval(scheduler.flush.bind(scheduler,this),delay)},AsyncAction.prototype.recycleAsyncId=function(scheduler,id,delay){if(void 0===delay&&(delay=0),null!==delay&&this.delay===delay&&!1===this.pending)return id;clearInterval(id)},AsyncAction.prototype.execute=function(state,delay){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var error=this._execute(state,delay);if(error)return error;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(state,delay){var errored=!1,errorValue=void 0;try{this.work(state)}catch(e){errored=!0,errorValue=!!e&&e||new Error(e)}if(errored)return this.unsubscribe(),errorValue},AsyncAction.prototype._unsubscribe=function(){var id=this.id,scheduler=this.scheduler,actions=scheduler.actions,index=actions.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==index&&actions.splice(index,1),null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null)),this.delay=null},AsyncAction}(require("./Action").Action);exports.AsyncAction=AsyncAction},{tslib:"vCxL","./Action":"arqX"}],pLkv:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueueAction=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var QueueAction=function(_super){function QueueAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;return _this.scheduler=scheduler,_this.work=work,_this}return tslib_1.__extends(QueueAction,_super),QueueAction.prototype.schedule=function(state,delay){return void 0===delay&&(delay=0),delay>0?_super.prototype.schedule.call(this,state,delay):(this.delay=delay,this.state=state,this.scheduler.flush(this),this)},QueueAction.prototype.execute=function(state,delay){return delay>0||this.closed?_super.prototype.execute.call(this,state,delay):this._execute(state,delay)},QueueAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0||null===delay&&this.delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):scheduler.flush(this)},QueueAction}(require("./AsyncAction").AsyncAction);exports.QueueAction=QueueAction},{tslib:"vCxL","./AsyncAction":"llYF"}],QglZ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scheduler=void 0;var Scheduler=function(){function Scheduler(SchedulerAction,now){void 0===now&&(now=Scheduler.now),this.SchedulerAction=SchedulerAction,this.now=now}return Scheduler.prototype.schedule=function(work,delay,state){return void 0===delay&&(delay=0),new this.SchedulerAction(this,work).schedule(state,delay)},Scheduler.now=function(){return Date.now()},Scheduler}();exports.Scheduler=Scheduler},{}],hnPK:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncScheduler=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Scheduler=require("../Scheduler");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var AsyncScheduler=function(_super){function AsyncScheduler(SchedulerAction,now){void 0===now&&(now=_Scheduler.Scheduler.now);var _this=_super.call(this,SchedulerAction,function(){return AsyncScheduler.delegate&&AsyncScheduler.delegate!==_this?AsyncScheduler.delegate.now():now()})||this;return _this.actions=[],_this.active=!1,_this.scheduled=void 0,_this}return tslib_1.__extends(AsyncScheduler,_super),AsyncScheduler.prototype.schedule=function(work,delay,state){return void 0===delay&&(delay=0),AsyncScheduler.delegate&&AsyncScheduler.delegate!==this?AsyncScheduler.delegate.schedule(work,delay,state):_super.prototype.schedule.call(this,work,delay,state)},AsyncScheduler.prototype.flush=function(action){var actions=this.actions;if(this.active)actions.push(action);else{var error;this.active=!0;do{if(error=action.execute(action.state,action.delay))break}while(action=actions.shift());if(this.active=!1,error){for(;action=actions.shift();)action.unsubscribe();throw error}}},AsyncScheduler}(_Scheduler.Scheduler);exports.AsyncScheduler=AsyncScheduler},{tslib:"vCxL","../Scheduler":"QglZ"}],j0lZ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueueScheduler=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var QueueScheduler=function(_super){function QueueScheduler(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(QueueScheduler,_super),QueueScheduler}(require("./AsyncScheduler").AsyncScheduler);exports.QueueScheduler=QueueScheduler},{tslib:"vCxL","./AsyncScheduler":"hnPK"}],HGOP:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.queue=void 0;var _QueueAction=require("./QueueAction"),queue=new(require("./QueueScheduler").QueueScheduler)(_QueueAction.QueueAction);exports.queue=queue},{"./QueueAction":"pLkv","./QueueScheduler":"j0lZ"}],XsKQ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.empty=function(scheduler){return scheduler?function(scheduler){return new _Observable.Observable(function(subscriber){return scheduler.schedule(function(){return subscriber.complete()})})}(scheduler):EMPTY},exports.EMPTY=void 0;var _Observable=require("../Observable"),EMPTY=new _Observable.Observable(function(subscriber){return subscriber.complete()});exports.EMPTY=EMPTY},{"../Observable":"wbSE"}],VqoH:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isScheduler=function(value){return value&&"function"==typeof value.schedule}},{}],lrFe:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToArray=void 0;exports.subscribeToArray=function(array){return function(subscriber){for(var i=0,len=array.length;i<len&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.complete()}}},{}],ZGwk:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleArray=function(input,scheduler){return new _Observable.Observable(function(subscriber){var sub=new _Subscription.Subscription,i=0;return sub.add(scheduler.schedule(function(){i!==input.length?(subscriber.next(input[i++]),subscriber.closed||sub.add(this.schedule())):subscriber.complete()})),sub})};var _Observable=require("../Observable"),_Subscription=require("../Subscription")},{"../Observable":"wbSE","../Subscription":"I8KM"}],PJGF:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromArray=function(input,scheduler){return scheduler?(0,_scheduleArray.scheduleArray)(input,scheduler):new _Observable.Observable((0,_subscribeToArray.subscribeToArray)(input))};var _Observable=require("../Observable"),_subscribeToArray=require("../util/subscribeToArray"),_scheduleArray=require("../scheduled/scheduleArray")},{"../Observable":"wbSE","../util/subscribeToArray":"lrFe","../scheduled/scheduleArray":"ZGwk"}],wZuk:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.of=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var scheduler=args[args.length-1];return(0,_isScheduler.isScheduler)(scheduler)?(args.pop(),(0,_scheduleArray.scheduleArray)(args,scheduler)):(0,_fromArray.fromArray)(args)};var _isScheduler=require("../util/isScheduler"),_fromArray=require("./fromArray"),_scheduleArray=require("../scheduled/scheduleArray")},{"../util/isScheduler":"VqoH","./fromArray":"PJGF","../scheduled/scheduleArray":"ZGwk"}],FdIu:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throwError=function(error,scheduler){return scheduler?new _Observable.Observable(function(subscriber){return scheduler.schedule(dispatch,0,{error:error,subscriber:subscriber})}):new _Observable.Observable(function(subscriber){return subscriber.error(error)})};var _Observable=require("../Observable");function dispatch(_a){var error=_a.error;_a.subscriber.error(error)}},{"../Observable":"wbSE"}],n7Mc:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Notification=exports.NotificationKind=void 0;var NotificationKind,_empty=require("./observable/empty"),_of=require("./observable/of"),_throwError=require("./observable/throwError");exports.NotificationKind=NotificationKind,function(NotificationKind){NotificationKind.NEXT="N",NotificationKind.ERROR="E",NotificationKind.COMPLETE="C"}(NotificationKind||(exports.NotificationKind=NotificationKind={}));var Notification=function(){function Notification(kind,value,error){this.kind=kind,this.value=value,this.error=error,this.hasValue="N"===kind}return Notification.prototype.observe=function(observer){switch(this.kind){case"N":return observer.next&&observer.next(this.value);case"E":return observer.error&&observer.error(this.error);case"C":return observer.complete&&observer.complete()}},Notification.prototype.do=function(next,error,complete){switch(this.kind){case"N":return next&&next(this.value);case"E":return error&&error(this.error);case"C":return complete&&complete()}},Notification.prototype.accept=function(nextOrObserver,error,complete){return nextOrObserver&&"function"==typeof nextOrObserver.next?this.observe(nextOrObserver):this.do(nextOrObserver,error,complete)},Notification.prototype.toObservable=function(){switch(this.kind){case"N":return(0,_of.of)(this.value);case"E":return(0,_throwError.throwError)(this.error);case"C":return(0,_empty.empty)()}throw new Error("unexpected notification kind value")},Notification.createNext=function(value){return void 0!==value?new Notification("N",value):Notification.undefinedValueNotification},Notification.createError=function(err){return new Notification("E",void 0,err)},Notification.createComplete=function(){return Notification.completeNotification},Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",void 0),Notification}();exports.Notification=Notification},{"./observable/empty":"XsKQ","./observable/of":"wZuk","./observable/throwError":"FdIu"}],ezNs:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.observeOn=function(scheduler,delay){void 0===delay&&(delay=0);return function(source){return source.lift(new ObserveOnOperator(scheduler,delay))}},exports.ObserveOnMessage=exports.ObserveOnSubscriber=exports.ObserveOnOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_Notification=require("../Notification");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ObserveOnOperator=function(){function ObserveOnOperator(scheduler,delay){void 0===delay&&(delay=0),this.scheduler=scheduler,this.delay=delay}return ObserveOnOperator.prototype.call=function(subscriber,source){return source.subscribe(new ObserveOnSubscriber(subscriber,this.scheduler,this.delay))},ObserveOnOperator}();exports.ObserveOnOperator=ObserveOnOperator;var ObserveOnSubscriber=function(_super){function ObserveOnSubscriber(destination,scheduler,delay){void 0===delay&&(delay=0);var _this=_super.call(this,destination)||this;return _this.scheduler=scheduler,_this.delay=delay,_this}return tslib_1.__extends(ObserveOnSubscriber,_super),ObserveOnSubscriber.dispatch=function(arg){var notification=arg.notification,destination=arg.destination;notification.observe(destination),this.unsubscribe()},ObserveOnSubscriber.prototype.scheduleMessage=function(notification){this.destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,new ObserveOnMessage(notification,this.destination)))},ObserveOnSubscriber.prototype._next=function(value){this.scheduleMessage(_Notification.Notification.createNext(value))},ObserveOnSubscriber.prototype._error=function(err){this.scheduleMessage(_Notification.Notification.createError(err)),this.unsubscribe()},ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(_Notification.Notification.createComplete()),this.unsubscribe()},ObserveOnSubscriber}(_Subscriber.Subscriber);exports.ObserveOnSubscriber=ObserveOnSubscriber;var ObserveOnMessage=function(){return function(notification,destination){this.notification=notification,this.destination=destination}}();exports.ObserveOnMessage=ObserveOnMessage},{tslib:"vCxL","../Subscriber":"RaFB","../Notification":"n7Mc"}],Cp6P:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReplaySubject=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("./Subject"),_queue=require("./scheduler/queue"),_Subscription=require("./Subscription"),_observeOn=require("./operators/observeOn"),_ObjectUnsubscribedError=require("./util/ObjectUnsubscribedError"),_SubjectSubscription=require("./SubjectSubscription");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ReplaySubject=function(_super){function ReplaySubject(bufferSize,windowTime,scheduler){void 0===bufferSize&&(bufferSize=Number.POSITIVE_INFINITY),void 0===windowTime&&(windowTime=Number.POSITIVE_INFINITY);var _this=_super.call(this)||this;return _this.scheduler=scheduler,_this._events=[],_this._infiniteTimeWindow=!1,_this._bufferSize=bufferSize<1?1:bufferSize,_this._windowTime=windowTime<1?1:windowTime,windowTime===Number.POSITIVE_INFINITY?(_this._infiniteTimeWindow=!0,_this.next=_this.nextInfiniteTimeWindow):_this.next=_this.nextTimeWindow,_this}return tslib_1.__extends(ReplaySubject,_super),ReplaySubject.prototype.nextInfiniteTimeWindow=function(value){var _events=this._events;_events.push(value),_events.length>this._bufferSize&&_events.shift(),_super.prototype.next.call(this,value)},ReplaySubject.prototype.nextTimeWindow=function(value){this._events.push(new ReplayEvent(this._getNow(),value)),this._trimBufferThenGetEvents(),_super.prototype.next.call(this,value)},ReplaySubject.prototype._subscribe=function(subscriber){var subscription,_infiniteTimeWindow=this._infiniteTimeWindow,_events=_infiniteTimeWindow?this._events:this._trimBufferThenGetEvents(),scheduler=this.scheduler,len=_events.length;if(this.closed)throw new _ObjectUnsubscribedError.ObjectUnsubscribedError;if(this.isStopped||this.hasError?subscription=_Subscription.Subscription.EMPTY:(this.observers.push(subscriber),subscription=new _SubjectSubscription.SubjectSubscription(this,subscriber)),scheduler&&subscriber.add(subscriber=new _observeOn.ObserveOnSubscriber(subscriber,scheduler)),_infiniteTimeWindow)for(var i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i]);else for(i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i].value);return this.hasError?subscriber.error(this.thrownError):this.isStopped&&subscriber.complete(),subscription},ReplaySubject.prototype._getNow=function(){return(this.scheduler||_queue.queue).now()},ReplaySubject.prototype._trimBufferThenGetEvents=function(){for(var now=this._getNow(),_bufferSize=this._bufferSize,_windowTime=this._windowTime,_events=this._events,eventsCount=_events.length,spliceCount=0;spliceCount<eventsCount&&!(now-_events[spliceCount].time<_windowTime);)spliceCount++;return eventsCount>_bufferSize&&(spliceCount=Math.max(spliceCount,eventsCount-_bufferSize)),spliceCount>0&&_events.splice(0,spliceCount),_events},ReplaySubject}(_Subject.Subject);exports.ReplaySubject=ReplaySubject;var ReplayEvent=function(){return function(time,value){this.time=time,this.value=value}}()},{tslib:"vCxL","./Subject":"r9t1","./scheduler/queue":"HGOP","./Subscription":"I8KM","./operators/observeOn":"ezNs","./util/ObjectUnsubscribedError":"xQEi","./SubjectSubscription":"fyc3"}],Scvc:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncSubject=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("./Subject"),_Subscription=require("./Subscription");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var AsyncSubject=function(_super){function AsyncSubject(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.value=null,_this.hasNext=!1,_this.hasCompleted=!1,_this}return tslib_1.__extends(AsyncSubject,_super),AsyncSubject.prototype._subscribe=function(subscriber){return this.hasError?(subscriber.error(this.thrownError),_Subscription.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(subscriber.next(this.value),subscriber.complete(),_Subscription.Subscription.EMPTY):_super.prototype._subscribe.call(this,subscriber)},AsyncSubject.prototype.next=function(value){this.hasCompleted||(this.value=value,this.hasNext=!0)},AsyncSubject.prototype.error=function(error){this.hasCompleted||_super.prototype.error.call(this,error)},AsyncSubject.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&_super.prototype.next.call(this,this.value),_super.prototype.complete.call(this)},AsyncSubject}(_Subject.Subject);exports.AsyncSubject=AsyncSubject},{tslib:"vCxL","./Subject":"r9t1","./Subscription":"I8KM"}],Z56L:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Immediate=void 0;var nextHandle=1,tasksByHandle={};var Immediate={setImmediate:function(cb){var handle=nextHandle++;return tasksByHandle[handle]=cb,Promise.resolve().then(function(){return function(handle){var cb=tasksByHandle[handle];cb&&cb()}(handle)}),handle},clearImmediate:function(handle){delete tasksByHandle[handle]}};exports.Immediate=Immediate},{}],k3eS:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsapAction=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Immediate=require("../util/Immediate");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var AsapAction=function(_super){function AsapAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;return _this.scheduler=scheduler,_this.work=work,_this}return tslib_1.__extends(AsapAction,_super),AsapAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=_Immediate.Immediate.setImmediate(scheduler.flush.bind(scheduler,null))))},AsapAction.prototype.recycleAsyncId=function(scheduler,id,delay){if(void 0===delay&&(delay=0),null!==delay&&delay>0||null===delay&&this.delay>0)return _super.prototype.recycleAsyncId.call(this,scheduler,id,delay);0===scheduler.actions.length&&(_Immediate.Immediate.clearImmediate(id),scheduler.scheduled=void 0)},AsapAction}(require("./AsyncAction").AsyncAction);exports.AsapAction=AsapAction},{tslib:"vCxL","../util/Immediate":"Z56L","./AsyncAction":"llYF"}],czze:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsapScheduler=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var AsapScheduler=function(_super){function AsapScheduler(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(AsapScheduler,_super),AsapScheduler.prototype.flush=function(action){this.active=!0,this.scheduled=void 0;var error,actions=this.actions,index=-1,count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}},AsapScheduler}(require("./AsyncScheduler").AsyncScheduler);exports.AsapScheduler=AsapScheduler},{tslib:"vCxL","./AsyncScheduler":"hnPK"}],ZqYc:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asap=void 0;var _AsapAction=require("./AsapAction"),asap=new(require("./AsapScheduler").AsapScheduler)(_AsapAction.AsapAction);exports.asap=asap},{"./AsapAction":"k3eS","./AsapScheduler":"czze"}],jun6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.async=void 0;var _AsyncAction=require("./AsyncAction"),async=new(require("./AsyncScheduler").AsyncScheduler)(_AsyncAction.AsyncAction);exports.async=async},{"./AsyncAction":"llYF","./AsyncScheduler":"hnPK"}],m8qQ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimationFrameAction=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var AnimationFrameAction=function(_super){function AnimationFrameAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;return _this.scheduler=scheduler,_this.work=work,_this}return tslib_1.__extends(AnimationFrameAction,_super),AnimationFrameAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=requestAnimationFrame(function(){return scheduler.flush(null)})))},AnimationFrameAction.prototype.recycleAsyncId=function(scheduler,id,delay){if(void 0===delay&&(delay=0),null!==delay&&delay>0||null===delay&&this.delay>0)return _super.prototype.recycleAsyncId.call(this,scheduler,id,delay);0===scheduler.actions.length&&(cancelAnimationFrame(id),scheduler.scheduled=void 0)},AnimationFrameAction}(require("./AsyncAction").AsyncAction);exports.AnimationFrameAction=AnimationFrameAction},{tslib:"vCxL","./AsyncAction":"llYF"}],gboY:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimationFrameScheduler=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var AnimationFrameScheduler=function(_super){function AnimationFrameScheduler(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(AnimationFrameScheduler,_super),AnimationFrameScheduler.prototype.flush=function(action){this.active=!0,this.scheduled=void 0;var error,actions=this.actions,index=-1,count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}},AnimationFrameScheduler}(require("./AsyncScheduler").AsyncScheduler);exports.AnimationFrameScheduler=AnimationFrameScheduler},{tslib:"vCxL","./AsyncScheduler":"hnPK"}],zUKp:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.animationFrame=void 0;var _AnimationFrameAction=require("./AnimationFrameAction"),animationFrame=new(require("./AnimationFrameScheduler").AnimationFrameScheduler)(_AnimationFrameAction.AnimationFrameAction);exports.animationFrame=animationFrame},{"./AnimationFrameAction":"m8qQ","./AnimationFrameScheduler":"gboY"}],RuMO:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VirtualAction=exports.VirtualTimeScheduler=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_AsyncAction=require("./AsyncAction");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var VirtualTimeScheduler=function(_super){function VirtualTimeScheduler(SchedulerAction,maxFrames){void 0===SchedulerAction&&(SchedulerAction=VirtualAction),void 0===maxFrames&&(maxFrames=Number.POSITIVE_INFINITY);var _this=_super.call(this,SchedulerAction,function(){return _this.frame})||this;return _this.maxFrames=maxFrames,_this.frame=0,_this.index=-1,_this}return tslib_1.__extends(VirtualTimeScheduler,_super),VirtualTimeScheduler.prototype.flush=function(){for(var error,action,actions=this.actions,maxFrames=this.maxFrames;(action=actions[0])&&action.delay<=maxFrames&&(actions.shift(),this.frame=action.delay,!(error=action.execute(action.state,action.delay))););if(error){for(;action=actions.shift();)action.unsubscribe();throw error}},VirtualTimeScheduler.frameTimeFactor=10,VirtualTimeScheduler}(require("./AsyncScheduler").AsyncScheduler);exports.VirtualTimeScheduler=VirtualTimeScheduler;var VirtualAction=function(_super){function VirtualAction(scheduler,work,index){void 0===index&&(index=scheduler.index+=1);var _this=_super.call(this,scheduler,work)||this;return _this.scheduler=scheduler,_this.work=work,_this.index=index,_this.active=!0,_this.index=scheduler.index=index,_this}return tslib_1.__extends(VirtualAction,_super),VirtualAction.prototype.schedule=function(state,delay){if(void 0===delay&&(delay=0),!this.id)return _super.prototype.schedule.call(this,state,delay);this.active=!1;var action=new VirtualAction(this.scheduler,this.work);return this.add(action),action.schedule(state,delay)},VirtualAction.prototype.requestAsyncId=function(scheduler,id,delay){void 0===delay&&(delay=0),this.delay=scheduler.frame+delay;var actions=scheduler.actions;return actions.push(this),actions.sort(VirtualAction.sortActions),!0},VirtualAction.prototype.recycleAsyncId=function(scheduler,id,delay){void 0===delay&&(delay=0)},VirtualAction.prototype._execute=function(state,delay){if(!0===this.active)return _super.prototype._execute.call(this,state,delay)},VirtualAction.sortActions=function(a,b){return a.delay===b.delay?a.index===b.index?0:a.index>b.index?1:-1:a.delay>b.delay?1:-1},VirtualAction}(_AsyncAction.AsyncAction);exports.VirtualAction=VirtualAction},{tslib:"vCxL","./AsyncAction":"llYF","./AsyncScheduler":"hnPK"}],LXph:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=function(x){return x}},{}],cUXi:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObservable=function(obj){return!!obj&&(obj instanceof _Observable.Observable||"function"==typeof obj.lift&&"function"==typeof obj.subscribe)};var _Observable=require("../Observable")},{"../Observable":"wbSE"}],Qh4I:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArgumentOutOfRangeError=void 0;var ArgumentOutOfRangeError=function(){function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype),ArgumentOutOfRangeErrorImpl}();exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError},{}],vsl0:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmptyError=void 0;var EmptyError=function(){function EmptyErrorImpl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return EmptyErrorImpl.prototype=Object.create(Error.prototype),EmptyErrorImpl}();exports.EmptyError=EmptyError},{}],SZK7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeoutError=void 0;var TimeoutError=function(){function TimeoutErrorImpl(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return TimeoutErrorImpl.prototype=Object.create(Error.prototype),TimeoutErrorImpl}();exports.TimeoutError=TimeoutError},{}],dNh5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map=function(project,thisArg){return function(source){if("function"!=typeof project)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return source.lift(new MapOperator(project,thisArg))}},exports.MapOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var MapOperator=function(){function MapOperator(project,thisArg){this.project=project,this.thisArg=thisArg}return MapOperator.prototype.call=function(subscriber,source){return source.subscribe(new MapSubscriber(subscriber,this.project,this.thisArg))},MapOperator}();exports.MapOperator=MapOperator;var MapSubscriber=function(_super){function MapSubscriber(destination,project,thisArg){var _this=_super.call(this,destination)||this;return _this.project=project,_this.count=0,_this.thisArg=thisArg||_this,_this}return tslib_1.__extends(MapSubscriber,_super),MapSubscriber.prototype._next=function(value){var result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)},MapSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],lxDK:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindCallback=function bindCallback(callbackFunc,resultSelector,scheduler){if(resultSelector){if(!(0,_isScheduler.isScheduler)(resultSelector))return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return bindCallback(callbackFunc,scheduler).apply(void 0,args).pipe((0,_map.map)(function(args){return(0,_isArray.isArray)(args)?resultSelector.apply(void 0,args):resultSelector(args)}))};scheduler=resultSelector}return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var subject,context=this,params={context:context,subject:subject,callbackFunc:callbackFunc,scheduler:scheduler};return new _Observable.Observable(function(subscriber){if(scheduler){var state={args:args,subscriber:subscriber,params:params};return scheduler.schedule(dispatch,0,state)}if(!subject){subject=new _AsyncSubject.AsyncSubject;try{callbackFunc.apply(context,args.concat([function(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i]=arguments[_i];subject.next(innerArgs.length<=1?innerArgs[0]:innerArgs),subject.complete()}]))}catch(err){(0,_canReportError.canReportError)(subject)?subject.error(err):console.warn(err)}}return subject.subscribe(subscriber)})}};var _Observable=require("../Observable"),_AsyncSubject=require("../AsyncSubject"),_map=require("../operators/map"),_canReportError=require("../util/canReportError"),_isArray=require("../util/isArray"),_isScheduler=require("../util/isScheduler");function dispatch(state){var _this=this,args=state.args,subscriber=state.subscriber,params=state.params,callbackFunc=params.callbackFunc,context=params.context,scheduler=params.scheduler,subject=params.subject;if(!subject){subject=params.subject=new _AsyncSubject.AsyncSubject;try{callbackFunc.apply(context,args.concat([function(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i]=arguments[_i];var value=innerArgs.length<=1?innerArgs[0]:innerArgs;_this.add(scheduler.schedule(dispatchNext,0,{value:value,subject:subject}))}]))}catch(err){subject.error(err)}}this.add(subject.subscribe(subscriber))}function dispatchNext(state){var value=state.value,subject=state.subject;subject.next(value),subject.complete()}},{"../Observable":"wbSE","../AsyncSubject":"Scvc","../operators/map":"dNh5","../util/canReportError":"wHmS","../util/isArray":"KeTG","../util/isScheduler":"VqoH"}],uTDa:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindNodeCallback=function bindNodeCallback(callbackFunc,resultSelector,scheduler){if(resultSelector){if(!(0,_isScheduler.isScheduler)(resultSelector))return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return bindNodeCallback(callbackFunc,scheduler).apply(void 0,args).pipe((0,_map.map)(function(args){return(0,_isArray.isArray)(args)?resultSelector.apply(void 0,args):resultSelector(args)}))};scheduler=resultSelector}return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var params={subject:void 0,args:args,callbackFunc:callbackFunc,scheduler:scheduler,context:this};return new _Observable.Observable(function(subscriber){var context=params.context,subject=params.subject;if(scheduler)return scheduler.schedule(dispatch,0,{params:params,subscriber:subscriber,context:context});if(!subject){subject=params.subject=new _AsyncSubject.AsyncSubject;try{callbackFunc.apply(context,args.concat([function(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i]=arguments[_i];var err=innerArgs.shift();if(err)return void subject.error(err);subject.next(innerArgs.length<=1?innerArgs[0]:innerArgs),subject.complete()}]))}catch(err){(0,_canReportError.canReportError)(subject)?subject.error(err):console.warn(err)}}return subject.subscribe(subscriber)})}};var _Observable=require("../Observable"),_AsyncSubject=require("../AsyncSubject"),_map=require("../operators/map"),_canReportError=require("../util/canReportError"),_isScheduler=require("../util/isScheduler"),_isArray=require("../util/isArray");function dispatch(state){var _this=this,params=state.params,subscriber=state.subscriber,context=state.context,callbackFunc=params.callbackFunc,args=params.args,scheduler=params.scheduler,subject=params.subject;if(!subject){subject=params.subject=new _AsyncSubject.AsyncSubject;try{callbackFunc.apply(context,args.concat([function(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i]=arguments[_i];var err=innerArgs.shift();if(err)_this.add(scheduler.schedule(dispatchError,0,{err:err,subject:subject}));else{var value=innerArgs.length<=1?innerArgs[0]:innerArgs;_this.add(scheduler.schedule(dispatchNext,0,{value:value,subject:subject}))}}]))}catch(err){this.add(scheduler.schedule(dispatchError,0,{err:err,subject:subject}))}}this.add(subject.subscribe(subscriber))}function dispatchNext(arg){var value=arg.value,subject=arg.subject;subject.next(value),subject.complete()}function dispatchError(arg){var err=arg.err;arg.subject.error(err)}},{"../Observable":"wbSE","../AsyncSubject":"Scvc","../operators/map":"dNh5","../util/canReportError":"wHmS","../util/isScheduler":"VqoH","../util/isArray":"KeTG"}],hZYI:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OuterSubscriber=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var OuterSubscriber=function(_super){function OuterSubscriber(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(OuterSubscriber,_super),OuterSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)},OuterSubscriber.prototype.notifyError=function(error,innerSub){this.destination.error(error)},OuterSubscriber.prototype.notifyComplete=function(innerSub){this.destination.complete()},OuterSubscriber}(require("./Subscriber").Subscriber);exports.OuterSubscriber=OuterSubscriber},{tslib:"vCxL","./Subscriber":"RaFB"}],aQbR:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InnerSubscriber=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var InnerSubscriber=function(_super){function InnerSubscriber(parent,outerValue,outerIndex){var _this=_super.call(this)||this;return _this.parent=parent,_this.outerValue=outerValue,_this.outerIndex=outerIndex,_this.index=0,_this}return tslib_1.__extends(InnerSubscriber,_super),InnerSubscriber.prototype._next=function(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)},InnerSubscriber.prototype._error=function(error){this.parent.notifyError(error,this),this.unsubscribe()},InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},InnerSubscriber}(require("./Subscriber").Subscriber);exports.InnerSubscriber=InnerSubscriber},{tslib:"vCxL","./Subscriber":"RaFB"}],eggw:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToPromise=void 0;var _hostReportError=require("./hostReportError");exports.subscribeToPromise=function(promise){return function(subscriber){return promise.then(function(value){subscriber.closed||(subscriber.next(value),subscriber.complete())},function(err){return subscriber.error(err)}).then(null,_hostReportError.hostReportError),subscriber}}},{"./hostReportError":"JfKC"}],AqTP:[function(require,module,exports){"use strict";function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSymbolIterator=getSymbolIterator,exports.$$iterator=exports.iterator=void 0;var iterator=getSymbolIterator();exports.iterator=iterator;var $$iterator=iterator;exports.$$iterator=$$iterator},{}],QEdH:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToIterable=void 0;var _iterator=require("../symbol/iterator");exports.subscribeToIterable=function(iterable){return function(subscriber){for(var iterator=iterable[_iterator.iterator]();;){var item=iterator.next();if(item.done){subscriber.complete();break}if(subscriber.next(item.value),subscriber.closed)break}return"function"==typeof iterator.return&&subscriber.add(function(){iterator.return&&iterator.return()}),subscriber}}},{"../symbol/iterator":"AqTP"}],buzG:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToObservable=void 0;var _observable=require("../symbol/observable");exports.subscribeToObservable=function(obj){return function(subscriber){var obs=obj[_observable.observable]();if("function"!=typeof obs.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return obs.subscribe(subscriber)}}},{"../symbol/observable":"tjV3"}],LS84:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArrayLike=void 0;exports.isArrayLike=function(x){return x&&"number"==typeof x.length&&"function"!=typeof x}},{}],Ok8F:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromise=function(value){return!!value&&"function"!=typeof value.subscribe&&"function"==typeof value.then}},{}],vq9L:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeTo=void 0;var _subscribeToArray=require("./subscribeToArray"),_subscribeToPromise=require("./subscribeToPromise"),_subscribeToIterable=require("./subscribeToIterable"),_subscribeToObservable=require("./subscribeToObservable"),_isArrayLike=require("./isArrayLike"),_isPromise=require("./isPromise"),_isObject=require("./isObject"),_iterator=require("../symbol/iterator"),_observable=require("../symbol/observable");exports.subscribeTo=function(result){if(result&&"function"==typeof result[_observable.observable])return(0,_subscribeToObservable.subscribeToObservable)(result);if((0,_isArrayLike.isArrayLike)(result))return(0,_subscribeToArray.subscribeToArray)(result);if((0,_isPromise.isPromise)(result))return(0,_subscribeToPromise.subscribeToPromise)(result);if(result&&"function"==typeof result[_iterator.iterator])return(0,_subscribeToIterable.subscribeToIterable)(result);var value=(0,_isObject.isObject)(result)?"an invalid object":"'"+result+"'";throw new TypeError("You provided "+value+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},{"./subscribeToArray":"lrFe","./subscribeToPromise":"eggw","./subscribeToIterable":"QEdH","./subscribeToObservable":"buzG","./isArrayLike":"LS84","./isPromise":"Ok8F","./isObject":"nU7r","../symbol/iterator":"AqTP","../symbol/observable":"tjV3"}],JM7e:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToResult=function(outerSubscriber,result,outerValue,outerIndex,destination){void 0===destination&&(destination=new _InnerSubscriber.InnerSubscriber(outerSubscriber,outerValue,outerIndex));if(destination.closed)return;if(result instanceof _Observable.Observable)return result.subscribe(destination);return(0,_subscribeTo.subscribeTo)(result)(destination)};var _InnerSubscriber=require("../InnerSubscriber"),_subscribeTo=require("./subscribeTo"),_Observable=require("../Observable")},{"../InnerSubscriber":"aQbR","./subscribeTo":"vq9L","../Observable":"wbSE"}],omVc:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.combineLatest=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];var resultSelector=null,scheduler=null;(0,_isScheduler.isScheduler)(observables[observables.length-1])&&(scheduler=observables.pop());"function"==typeof observables[observables.length-1]&&(resultSelector=observables.pop());1===observables.length&&(0,_isArray.isArray)(observables[0])&&(observables=observables[0]);return(0,_fromArray.fromArray)(observables,scheduler).lift(new CombineLatestOperator(resultSelector))},exports.CombineLatestSubscriber=exports.CombineLatestOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_isScheduler=require("../util/isScheduler"),_isArray=require("../util/isArray"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult"),_fromArray=require("./fromArray");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var NONE={};var CombineLatestOperator=function(){function CombineLatestOperator(resultSelector){this.resultSelector=resultSelector}return CombineLatestOperator.prototype.call=function(subscriber,source){return source.subscribe(new CombineLatestSubscriber(subscriber,this.resultSelector))},CombineLatestOperator}();exports.CombineLatestOperator=CombineLatestOperator;var CombineLatestSubscriber=function(_super){function CombineLatestSubscriber(destination,resultSelector){var _this=_super.call(this,destination)||this;return _this.resultSelector=resultSelector,_this.active=0,_this.values=[],_this.observables=[],_this}return tslib_1.__extends(CombineLatestSubscriber,_super),CombineLatestSubscriber.prototype._next=function(observable){this.values.push(NONE),this.observables.push(observable)},CombineLatestSubscriber.prototype._complete=function(){var observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(var i=0;i<len;i++){var observable=observables[i];this.add((0,_subscribeToResult.subscribeToResult)(this,observable,observable,i))}}},CombineLatestSubscriber.prototype.notifyComplete=function(unused){0==(this.active-=1)&&this.destination.complete()},CombineLatestSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var values=this.values,oldVal=values[outerIndex],toRespond=this.toRespond?oldVal===NONE?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.resultSelector?this._tryResultSelector(values):this.destination.next(values.slice()))},CombineLatestSubscriber.prototype._tryResultSelector=function(values){var result;try{result=this.resultSelector.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)},CombineLatestSubscriber}(_OuterSubscriber.OuterSubscriber);exports.CombineLatestSubscriber=CombineLatestSubscriber},{tslib:"vCxL","../util/isScheduler":"VqoH","../util/isArray":"KeTG","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e","./fromArray":"PJGF"}],lgBy:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleObservable=function(input,scheduler){return new _Observable.Observable(function(subscriber){var sub=new _Subscription.Subscription;return sub.add(scheduler.schedule(function(){var observable=input[_observable.observable]();sub.add(observable.subscribe({next:function(value){sub.add(scheduler.schedule(function(){return subscriber.next(value)}))},error:function(err){sub.add(scheduler.schedule(function(){return subscriber.error(err)}))},complete:function(){sub.add(scheduler.schedule(function(){return subscriber.complete()}))}}))})),sub})};var _Observable=require("../Observable"),_Subscription=require("../Subscription"),_observable=require("../symbol/observable")},{"../Observable":"wbSE","../Subscription":"I8KM","../symbol/observable":"tjV3"}],aPE6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.schedulePromise=function(input,scheduler){return new _Observable.Observable(function(subscriber){var sub=new _Subscription.Subscription;return sub.add(scheduler.schedule(function(){return input.then(function(value){sub.add(scheduler.schedule(function(){subscriber.next(value),sub.add(scheduler.schedule(function(){return subscriber.complete()}))}))},function(err){sub.add(scheduler.schedule(function(){return subscriber.error(err)}))})})),sub})};var _Observable=require("../Observable"),_Subscription=require("../Subscription")},{"../Observable":"wbSE","../Subscription":"I8KM"}],XzIO:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleIterable=function(input,scheduler){if(!input)throw new Error("Iterable cannot be null");return new _Observable.Observable(function(subscriber){var iterator,sub=new _Subscription.Subscription;return sub.add(function(){iterator&&"function"==typeof iterator.return&&iterator.return()}),sub.add(scheduler.schedule(function(){iterator=input[_iterator.iterator](),sub.add(scheduler.schedule(function(){if(!subscriber.closed){var value,done;try{var result=iterator.next();value=result.value,done=result.done}catch(err){return void subscriber.error(err)}done?subscriber.complete():(subscriber.next(value),this.schedule())}}))})),sub})};var _Observable=require("../Observable"),_Subscription=require("../Subscription"),_iterator=require("../symbol/iterator")},{"../Observable":"wbSE","../Subscription":"I8KM","../symbol/iterator":"AqTP"}],CTP2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInteropObservable=function(input){return input&&"function"==typeof input[_observable.observable]};var _observable=require("../symbol/observable")},{"../symbol/observable":"tjV3"}],NjuQ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIterable=function(input){return input&&"function"==typeof input[_iterator.iterator]};var _iterator=require("../symbol/iterator")},{"../symbol/iterator":"AqTP"}],mNZE:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduled=function(input,scheduler){if(null!=input){if((0,_isInteropObservable.isInteropObservable)(input))return(0,_scheduleObservable.scheduleObservable)(input,scheduler);if((0,_isPromise.isPromise)(input))return(0,_schedulePromise.schedulePromise)(input,scheduler);if((0,_isArrayLike.isArrayLike)(input))return(0,_scheduleArray.scheduleArray)(input,scheduler);if((0,_isIterable.isIterable)(input)||"string"==typeof input)return(0,_scheduleIterable.scheduleIterable)(input,scheduler)}throw new TypeError((null!==input&&typeof input||input)+" is not observable")};var _scheduleObservable=require("./scheduleObservable"),_schedulePromise=require("./schedulePromise"),_scheduleArray=require("./scheduleArray"),_scheduleIterable=require("./scheduleIterable"),_isInteropObservable=require("../util/isInteropObservable"),_isPromise=require("../util/isPromise"),_isArrayLike=require("../util/isArrayLike"),_isIterable=require("../util/isIterable")},{"./scheduleObservable":"lgBy","./schedulePromise":"aPE6","./scheduleArray":"ZGwk","./scheduleIterable":"XzIO","../util/isInteropObservable":"CTP2","../util/isPromise":"Ok8F","../util/isArrayLike":"LS84","../util/isIterable":"NjuQ"}],WXUl:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.from=function(input,scheduler){return scheduler?(0,_scheduled.scheduled)(input,scheduler):input instanceof _Observable.Observable?input:new _Observable.Observable((0,_subscribeTo.subscribeTo)(input))};var _Observable=require("../Observable"),_subscribeTo=require("../util/subscribeTo"),_scheduled=require("../scheduled/scheduled")},{"../Observable":"wbSE","../util/subscribeTo":"vq9L","../scheduled/scheduled":"mNZE"}],nFsM:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeMap=function mergeMap(project,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY);if("function"==typeof resultSelector)return function(source){return source.pipe(mergeMap(function(a,i){return(0,_from.from)(project(a,i)).pipe((0,_map.map)(function(b,ii){return resultSelector(a,b,i,ii)}))},concurrent))};"number"==typeof resultSelector&&(concurrent=resultSelector);return function(source){return source.lift(new MergeMapOperator(project,concurrent))}},exports.MergeMapSubscriber=exports.MergeMapOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_subscribeToResult=require("../util/subscribeToResult"),_OuterSubscriber=require("../OuterSubscriber"),_InnerSubscriber=require("../InnerSubscriber"),_map=require("./map"),_from=require("../observable/from");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var MergeMapOperator=function(){function MergeMapOperator(project,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.project=project,this.concurrent=concurrent}return MergeMapOperator.prototype.call=function(observer,source){return source.subscribe(new MergeMapSubscriber(observer,this.project,this.concurrent))},MergeMapOperator}();exports.MergeMapOperator=MergeMapOperator;var MergeMapSubscriber=function(_super){function MergeMapSubscriber(destination,project,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY);var _this=_super.call(this,destination)||this;return _this.project=project,_this.concurrent=concurrent,_this.hasCompleted=!1,_this.buffer=[],_this.active=0,_this.index=0,_this}return tslib_1.__extends(MergeMapSubscriber,_super),MergeMapSubscriber.prototype._next=function(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)},MergeMapSubscriber.prototype._tryNext=function(value){var result,index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)},MergeMapSubscriber.prototype._innerSub=function(ish,value,index){var innerSubscriber=new _InnerSubscriber.InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),(0,_subscribeToResult.subscribeToResult)(this,ish,value,index,innerSubscriber)},MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},MergeMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)},MergeMapSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapSubscriber}(_OuterSubscriber.OuterSubscriber);exports.MergeMapSubscriber=MergeMapSubscriber},{tslib:"vCxL","../util/subscribeToResult":"JM7e","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","./map":"dNh5","../observable/from":"WXUl"}],Nkv4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeAll=function(concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY);return(0,_mergeMap.mergeMap)(_identity.identity,concurrent)};var _mergeMap=require("./mergeMap"),_identity=require("../util/identity")},{"./mergeMap":"nFsM","../util/identity":"LXph"}],Yxey:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatAll=function(){return(0,_mergeAll.mergeAll)(1)};var _mergeAll=require("./mergeAll")},{"./mergeAll":"Nkv4"}],CsdO:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concat=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];return(0,_concatAll.concatAll)()(_of.of.apply(void 0,observables))};var _of=require("./of"),_concatAll=require("../operators/concatAll")},{"./of":"wZuk","../operators/concatAll":"Yxey"}],w9G6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defer=function(observableFactory){return new _Observable.Observable(function(subscriber){var input;try{input=observableFactory()}catch(err){return void subscriber.error(err)}var source=input?(0,_from.from)(input):(0,_empty.empty)();return source.subscribe(subscriber)})};var _Observable=require("../Observable"),_from=require("./from"),_empty=require("./empty")},{"../Observable":"wbSE","./from":"WXUl","./empty":"XsKQ"}],R2GC:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.forkJoin=function(){for(var sources=[],_i=0;_i<arguments.length;_i++)sources[_i]=arguments[_i];if(1===sources.length){var first_1=sources[0];if((0,_isArray.isArray)(first_1))return forkJoinInternal(first_1,null);if((0,_isObject.isObject)(first_1)&&Object.getPrototypeOf(first_1)===Object.prototype){var keys=Object.keys(first_1);return forkJoinInternal(keys.map(function(key){return first_1[key]}),keys)}}if("function"==typeof sources[sources.length-1]){var resultSelector_1=sources.pop();return forkJoinInternal(sources=1===sources.length&&(0,_isArray.isArray)(sources[0])?sources[0]:sources,null).pipe((0,_map.map)(function(args){return resultSelector_1.apply(void 0,args)}))}return forkJoinInternal(sources,null)};var _Observable=require("../Observable"),_isArray=require("../util/isArray"),_map=require("../operators/map"),_isObject=require("../util/isObject"),_from=require("./from");function forkJoinInternal(sources,keys){return new _Observable.Observable(function(subscriber){var len=sources.length;if(0!==len)for(var values=new Array(len),completed=0,emitted=0,_loop_1=function(i){var source=(0,_from.from)(sources[i]),hasValue=!1;subscriber.add(source.subscribe({next:function(value){hasValue||(hasValue=!0,emitted++),values[i]=value},error:function(err){return subscriber.error(err)},complete:function(){++completed!==len&&hasValue||(emitted===len&&subscriber.next(keys?keys.reduce(function(result,key,i){return result[key]=values[i],result},{}):values),subscriber.complete())}}))},i=0;i<len;i++)_loop_1(i);else subscriber.complete()})}},{"../Observable":"wbSE","../util/isArray":"KeTG","../operators/map":"dNh5","../util/isObject":"nU7r","./from":"WXUl"}],ZHZV:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEvent=function fromEvent(target,eventName,options,resultSelector){(0,_isFunction.isFunction)(options)&&(resultSelector=options,options=void 0);if(resultSelector)return fromEvent(target,eventName,options).pipe((0,_map.map)(function(args){return(0,_isArray.isArray)(args)?resultSelector.apply(void 0,args):resultSelector(args)}));return new _Observable.Observable(function(subscriber){!function setupSubscription(sourceObj,eventName,handler,subscriber,options){var unsubscribe;if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.addEventListener&&"function"==typeof sourceObj.removeEventListener}(sourceObj)){var source_1=sourceObj;sourceObj.addEventListener(eventName,handler,options),unsubscribe=function(){return source_1.removeEventListener(eventName,handler,options)}}else if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.on&&"function"==typeof sourceObj.off}(sourceObj)){var source_2=sourceObj;sourceObj.on(eventName,handler),unsubscribe=function(){return source_2.off(eventName,handler)}}else if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.addListener&&"function"==typeof sourceObj.removeListener}(sourceObj)){var source_3=sourceObj;sourceObj.addListener(eventName,handler),unsubscribe=function(){return source_3.removeListener(eventName,handler)}}else{if(!sourceObj||!sourceObj.length)throw new TypeError("Invalid event target");for(var i=0,len=sourceObj.length;i<len;i++)setupSubscription(sourceObj[i],eventName,handler,subscriber,options)}subscriber.add(unsubscribe)}(target,eventName,function(e){arguments.length>1?subscriber.next(Array.prototype.slice.call(arguments)):subscriber.next(e)},subscriber,options)})};var _Observable=require("../Observable"),_isArray=require("../util/isArray"),_isFunction=require("../util/isFunction"),_map=require("../operators/map")},{"../Observable":"wbSE","../util/isArray":"KeTG","../util/isFunction":"Qnsq","../operators/map":"dNh5"}],HFE7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEventPattern=function fromEventPattern(addHandler,removeHandler,resultSelector){if(resultSelector)return fromEventPattern(addHandler,removeHandler).pipe((0,_map.map)(function(args){return(0,_isArray.isArray)(args)?resultSelector.apply(void 0,args):resultSelector(args)}));return new _Observable.Observable(function(subscriber){var retValue,handler=function(){for(var e=[],_i=0;_i<arguments.length;_i++)e[_i]=arguments[_i];return subscriber.next(1===e.length?e[0]:e)};try{retValue=addHandler(handler)}catch(err){return void subscriber.error(err)}if((0,_isFunction.isFunction)(removeHandler))return function(){return removeHandler(handler,retValue)}})};var _Observable=require("../Observable"),_isArray=require("../util/isArray"),_isFunction=require("../util/isFunction"),_map=require("../operators/map")},{"../Observable":"wbSE","../util/isArray":"KeTG","../util/isFunction":"Qnsq","../operators/map":"dNh5"}],xNZb:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generate=function(initialStateOrOptions,condition,iterate,resultSelectorOrObservable,scheduler){var resultSelector,initialState;if(1==arguments.length){var options=initialStateOrOptions;initialState=options.initialState,condition=options.condition,iterate=options.iterate,resultSelector=options.resultSelector||_identity.identity,scheduler=options.scheduler}else void 0===resultSelectorOrObservable||(0,_isScheduler.isScheduler)(resultSelectorOrObservable)?(initialState=initialStateOrOptions,resultSelector=_identity.identity,scheduler=resultSelectorOrObservable):(initialState=initialStateOrOptions,resultSelector=resultSelectorOrObservable);return new _Observable.Observable(function(subscriber){var state=initialState;if(scheduler)return scheduler.schedule(dispatch,0,{subscriber:subscriber,iterate:iterate,condition:condition,resultSelector:resultSelector,state:state});for(;;){if(condition){var conditionResult=void 0;try{conditionResult=condition(state)}catch(err){return void subscriber.error(err)}if(!conditionResult){subscriber.complete();break}}var value=void 0;try{value=resultSelector(state)}catch(err){return void subscriber.error(err)}if(subscriber.next(value),subscriber.closed)break;try{state=iterate(state)}catch(err){return void subscriber.error(err)}}})};var _Observable=require("../Observable"),_identity=require("../util/identity"),_isScheduler=require("../util/isScheduler");function dispatch(state){var subscriber=state.subscriber,condition=state.condition;if(!subscriber.closed){if(state.needIterate)try{state.state=state.iterate(state.state)}catch(err){return void subscriber.error(err)}else state.needIterate=!0;if(condition){var conditionResult=void 0;try{conditionResult=condition(state.state)}catch(err){return void subscriber.error(err)}if(!conditionResult)return void subscriber.complete();if(subscriber.closed)return}var value;try{value=state.resultSelector(state.state)}catch(err){return void subscriber.error(err)}if(!subscriber.closed&&(subscriber.next(value),!subscriber.closed))return this.schedule(state)}}},{"../Observable":"wbSE","../util/identity":"LXph","../util/isScheduler":"VqoH"}],SXp5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iif=function(condition,trueResult,falseResult){void 0===trueResult&&(trueResult=_empty.EMPTY);void 0===falseResult&&(falseResult=_empty.EMPTY);return(0,_defer.defer)(function(){return condition()?trueResult:falseResult})};var _defer=require("./defer"),_empty=require("./empty")},{"./defer":"w9G6","./empty":"XsKQ"}],wBpm:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumeric=function(val){return!(0,_isArray.isArray)(val)&&val-parseFloat(val)+1>=0};var _isArray=require("./isArray")},{"./isArray":"KeTG"}],QHLS:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interval=function(period,scheduler){void 0===period&&(period=0);void 0===scheduler&&(scheduler=_async.async);(!(0,_isNumeric.isNumeric)(period)||period<0)&&(period=0);scheduler&&"function"==typeof scheduler.schedule||(scheduler=_async.async);return new _Observable.Observable(function(subscriber){return subscriber.add(scheduler.schedule(dispatch,period,{subscriber:subscriber,counter:0,period:period})),subscriber})};var _Observable=require("../Observable"),_async=require("../scheduler/async"),_isNumeric=require("../util/isNumeric");function dispatch(state){var subscriber=state.subscriber,counter=state.counter,period=state.period;subscriber.next(counter),this.schedule({subscriber:subscriber,counter:counter+1,period:period},period)}},{"../Observable":"wbSE","../scheduler/async":"jun6","../util/isNumeric":"wBpm"}],DQig:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];var concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];(0,_isScheduler.isScheduler)(last)?(scheduler=observables.pop(),observables.length>1&&"number"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):"number"==typeof last&&(concurrent=observables.pop());if(null===scheduler&&1===observables.length&&observables[0]instanceof _Observable.Observable)return observables[0];return(0,_mergeAll.mergeAll)(concurrent)((0,_fromArray.fromArray)(observables,scheduler))};var _Observable=require("../Observable"),_isScheduler=require("../util/isScheduler"),_mergeAll=require("../operators/mergeAll"),_fromArray=require("./fromArray")},{"../Observable":"wbSE","../util/isScheduler":"VqoH","../operators/mergeAll":"Nkv4","./fromArray":"PJGF"}],TBTl:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.never=function(){return NEVER},exports.NEVER=void 0;var _Observable=require("../Observable"),_noop=require("../util/noop"),NEVER=new _Observable.Observable(_noop.noop);exports.NEVER=NEVER},{"../Observable":"wbSE","../util/noop":"rXfM"}],VCq5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onErrorResumeNext=function onErrorResumeNext(){var sources=[];for(var _i=0;_i<arguments.length;_i++)sources[_i]=arguments[_i];if(0===sources.length)return _empty.EMPTY;var first=sources[0],remainder=sources.slice(1);if(1===sources.length&&(0,_isArray.isArray)(first))return onErrorResumeNext.apply(void 0,first);return new _Observable.Observable(function(subscriber){var subNext=function(){return subscriber.add(onErrorResumeNext.apply(void 0,remainder).subscribe(subscriber))};return(0,_from.from)(first).subscribe({next:function(value){subscriber.next(value)},error:subNext,complete:subNext})})};var _Observable=require("../Observable"),_from=require("./from"),_isArray=require("../util/isArray"),_empty=require("./empty")},{"../Observable":"wbSE","./from":"WXUl","../util/isArray":"KeTG","./empty":"XsKQ"}],QHfc:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pairs=function(obj,scheduler){return scheduler?new _Observable.Observable(function(subscriber){var keys=Object.keys(obj),subscription=new _Subscription.Subscription;return subscription.add(scheduler.schedule(dispatch,0,{keys:keys,index:0,subscriber:subscriber,subscription:subscription,obj:obj})),subscription}):new _Observable.Observable(function(subscriber){for(var keys=Object.keys(obj),i=0;i<keys.length&&!subscriber.closed;i++){var key=keys[i];obj.hasOwnProperty(key)&&subscriber.next([key,obj[key]])}subscriber.complete()})},exports.dispatch=dispatch;var _Observable=require("../Observable"),_Subscription=require("../Subscription");function dispatch(state){var keys=state.keys,index=state.index,subscriber=state.subscriber,subscription=state.subscription,obj=state.obj;if(!subscriber.closed)if(index<keys.length){var key=keys[index];subscriber.next([key,obj[key]]),subscription.add(this.schedule({keys:keys,index:index+1,subscriber:subscriber,subscription:subscription,obj:obj}))}else subscriber.complete()}},{"../Observable":"wbSE","../Subscription":"I8KM"}],nij6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.not=function(pred,thisArg){function notPred(){return!notPred.pred.apply(notPred.thisArg,arguments)}return notPred.pred=pred,notPred.thisArg=thisArg,notPred}},{}],HKzi:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filter=function(predicate,thisArg){return function(source){return source.lift(new FilterOperator(predicate,thisArg))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var FilterOperator=function(){function FilterOperator(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}return FilterOperator.prototype.call=function(subscriber,source){return source.subscribe(new FilterSubscriber(subscriber,this.predicate,this.thisArg))},FilterOperator}(),FilterSubscriber=function(_super){function FilterSubscriber(destination,predicate,thisArg){var _this=_super.call(this,destination)||this;return _this.predicate=predicate,_this.thisArg=thisArg,_this.count=0,_this}return tslib_1.__extends(FilterSubscriber,_super),FilterSubscriber.prototype._next=function(value){var result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)},FilterSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],wJ9V:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partition=function(source,predicate,thisArg){return[(0,_filter.filter)(predicate,thisArg)(new _Observable.Observable((0,_subscribeTo.subscribeTo)(source))),(0,_filter.filter)((0,_not.not)(predicate,thisArg))(new _Observable.Observable((0,_subscribeTo.subscribeTo)(source)))]};var _not=require("../util/not"),_subscribeTo=require("../util/subscribeTo"),_filter=require("../operators/filter"),_Observable=require("../Observable")},{"../util/not":"nij6","../util/subscribeTo":"vq9L","../operators/filter":"HKzi","../Observable":"wbSE"}],bwYX:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.race=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];if(1===observables.length){if(!(0,_isArray.isArray)(observables[0]))return observables[0];observables=observables[0]}return(0,_fromArray.fromArray)(observables,void 0).lift(new RaceOperator)},exports.RaceSubscriber=exports.RaceOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_isArray=require("../util/isArray"),_fromArray=require("./fromArray"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var RaceOperator=function(){function RaceOperator(){}return RaceOperator.prototype.call=function(subscriber,source){return source.subscribe(new RaceSubscriber(subscriber))},RaceOperator}();exports.RaceOperator=RaceOperator;var RaceSubscriber=function(_super){function RaceSubscriber(destination){var _this=_super.call(this,destination)||this;return _this.hasFirst=!1,_this.observables=[],_this.subscriptions=[],_this}return tslib_1.__extends(RaceSubscriber,_super),RaceSubscriber.prototype._next=function(observable){this.observables.push(observable)},RaceSubscriber.prototype._complete=function(){var observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{for(var i=0;i<len&&!this.hasFirst;i++){var observable=observables[i],subscription=(0,_subscribeToResult.subscribeToResult)(this,observable,observable,i);this.subscriptions&&this.subscriptions.push(subscription),this.add(subscription)}this.observables=null}},RaceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==outerIndex){var subscription=this.subscriptions[i];subscription.unsubscribe(),this.remove(subscription)}this.subscriptions=null}this.destination.next(innerValue)},RaceSubscriber}(_OuterSubscriber.OuterSubscriber);exports.RaceSubscriber=RaceSubscriber},{tslib:"vCxL","../util/isArray":"KeTG","./fromArray":"PJGF","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],N84r:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range=function(start,count,scheduler){void 0===start&&(start=0);return new _Observable.Observable(function(subscriber){void 0===count&&(count=start,start=0);var index=0,current=start;if(scheduler)return scheduler.schedule(dispatch,0,{index:index,count:count,start:start,subscriber:subscriber});for(;;){if(index++>=count){subscriber.complete();break}if(subscriber.next(current++),subscriber.closed)break}})},exports.dispatch=dispatch;var _Observable=require("../Observable");function dispatch(state){var start=state.start,index=state.index,count=state.count,subscriber=state.subscriber;index>=count?subscriber.complete():(subscriber.next(start),subscriber.closed||(state.index=index+1,state.start=start+1,this.schedule(state)))}},{"../Observable":"wbSE"}],RPvN:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timer=function(dueTime,periodOrScheduler,scheduler){void 0===dueTime&&(dueTime=0);var period=-1;(0,_isNumeric.isNumeric)(periodOrScheduler)?period=Number(periodOrScheduler)<1?1:Number(periodOrScheduler):(0,_isScheduler.isScheduler)(periodOrScheduler)&&(scheduler=periodOrScheduler);(0,_isScheduler.isScheduler)(scheduler)||(scheduler=_async.async);return new _Observable.Observable(function(subscriber){var due=(0,_isNumeric.isNumeric)(dueTime)?dueTime:+dueTime-scheduler.now();return scheduler.schedule(dispatch,due,{index:0,period:period,subscriber:subscriber})})};var _Observable=require("../Observable"),_async=require("../scheduler/async"),_isNumeric=require("../util/isNumeric"),_isScheduler=require("../util/isScheduler");function dispatch(state){var index=state.index,period=state.period,subscriber=state.subscriber;if(subscriber.next(index),!subscriber.closed){if(-1===period)return subscriber.complete();state.index=index+1,this.schedule(state,period)}}},{"../Observable":"wbSE","../scheduler/async":"jun6","../util/isNumeric":"wBpm","../util/isScheduler":"VqoH"}],gc1W:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.using=function(resourceFactory,observableFactory){return new _Observable.Observable(function(subscriber){var resource,result;try{resource=resourceFactory()}catch(err){return void subscriber.error(err)}try{result=observableFactory(resource)}catch(err){return void subscriber.error(err)}var source=result?(0,_from.from)(result):_empty.EMPTY,subscription=source.subscribe(subscriber);return function(){subscription.unsubscribe(),resource&&resource.unsubscribe()}})};var _Observable=require("../Observable"),_from=require("./from"),_empty=require("./empty")},{"../Observable":"wbSE","./from":"WXUl","./empty":"XsKQ"}],ff2A:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.zip=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];var resultSelector=observables[observables.length-1];"function"==typeof resultSelector&&observables.pop();return(0,_fromArray.fromArray)(observables,void 0).lift(new ZipOperator(resultSelector))},exports.ZipSubscriber=exports.ZipOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_fromArray=require("./fromArray"),_isArray=require("../util/isArray"),_Subscriber=require("../Subscriber"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult"),_iterator=require("../../internal/symbol/iterator");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ZipOperator=function(){function ZipOperator(resultSelector){this.resultSelector=resultSelector}return ZipOperator.prototype.call=function(subscriber,source){return source.subscribe(new ZipSubscriber(subscriber,this.resultSelector))},ZipOperator}();exports.ZipOperator=ZipOperator;var ZipSubscriber=function(_super){function ZipSubscriber(destination,resultSelector,values){void 0===values&&(values=Object.create(null));var _this=_super.call(this,destination)||this;return _this.iterators=[],_this.active=0,_this.resultSelector="function"==typeof resultSelector?resultSelector:null,_this.values=values,_this}return tslib_1.__extends(ZipSubscriber,_super),ZipSubscriber.prototype._next=function(value){var iterators=this.iterators;(0,_isArray.isArray)(value)?iterators.push(new StaticArrayIterator(value)):"function"==typeof value[_iterator.iterator]?iterators.push(new StaticIterator(value[_iterator.iterator]())):iterators.push(new ZipBufferIterator(this.destination,this,value))},ZipSubscriber.prototype._complete=function(){var iterators=this.iterators,len=iterators.length;if(this.unsubscribe(),0!==len){this.active=len;for(var i=0;i<len;i++){var iterator=iterators[i];if(iterator.stillUnsubscribed)this.destination.add(iterator.subscribe(iterator,i));else this.active--}}else this.destination.complete()},ZipSubscriber.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},ZipSubscriber.prototype.checkIterators=function(){for(var iterators=this.iterators,len=iterators.length,destination=this.destination,i=0;i<len;i++){if("function"==typeof(iterator=iterators[i]).hasValue&&!iterator.hasValue())return}var shouldComplete=!1,args=[];for(i=0;i<len;i++){var iterator,result=(iterator=iterators[i]).next();if(iterator.hasCompleted()&&(shouldComplete=!0),result.done)return void destination.complete();args.push(result.value)}this.resultSelector?this._tryresultSelector(args):destination.next(args),shouldComplete&&destination.complete()},ZipSubscriber.prototype._tryresultSelector=function(args){var result;try{result=this.resultSelector.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)},ZipSubscriber}(_Subscriber.Subscriber);exports.ZipSubscriber=ZipSubscriber;var StaticIterator=function(){function StaticIterator(iterator){this.iterator=iterator,this.nextResult=iterator.next()}return StaticIterator.prototype.hasValue=function(){return!0},StaticIterator.prototype.next=function(){var result=this.nextResult;return this.nextResult=this.iterator.next(),result},StaticIterator.prototype.hasCompleted=function(){var nextResult=this.nextResult;return nextResult&&nextResult.done},StaticIterator}(),StaticArrayIterator=function(){function StaticArrayIterator(array){this.array=array,this.index=0,this.length=0,this.length=array.length}return StaticArrayIterator.prototype[_iterator.iterator]=function(){return this},StaticArrayIterator.prototype.next=function(value){var i=this.index++,array=this.array;return i<this.length?{value:array[i],done:!1}:{value:null,done:!0}},StaticArrayIterator.prototype.hasValue=function(){return this.array.length>this.index},StaticArrayIterator.prototype.hasCompleted=function(){return this.array.length===this.index},StaticArrayIterator}(),ZipBufferIterator=function(_super){function ZipBufferIterator(destination,parent,observable){var _this=_super.call(this,destination)||this;return _this.parent=parent,_this.observable=observable,_this.stillUnsubscribed=!0,_this.buffer=[],_this.isComplete=!1,_this}return tslib_1.__extends(ZipBufferIterator,_super),ZipBufferIterator.prototype[_iterator.iterator]=function(){return this},ZipBufferIterator.prototype.next=function(){var buffer=this.buffer;return 0===buffer.length&&this.isComplete?{value:null,done:!0}:{value:buffer.shift(),done:!1}},ZipBufferIterator.prototype.hasValue=function(){return this.buffer.length>0},ZipBufferIterator.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},ZipBufferIterator.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},ZipBufferIterator.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.buffer.push(innerValue),this.parent.checkIterators()},ZipBufferIterator.prototype.subscribe=function(value,index){return(0,_subscribeToResult.subscribeToResult)(this,this.observable,this,index)},ZipBufferIterator}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","./fromArray":"PJGF","../util/isArray":"KeTG","../Subscriber":"RaFB","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e","../../internal/symbol/iterator":"AqTP"}],iRqj:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Observable",{enumerable:!0,get:function(){return _Observable.Observable}}),Object.defineProperty(exports,"ConnectableObservable",{enumerable:!0,get:function(){return _ConnectableObservable.ConnectableObservable}}),Object.defineProperty(exports,"GroupedObservable",{enumerable:!0,get:function(){return _groupBy.GroupedObservable}}),Object.defineProperty(exports,"observable",{enumerable:!0,get:function(){return _observable.observable}}),Object.defineProperty(exports,"Subject",{enumerable:!0,get:function(){return _Subject.Subject}}),Object.defineProperty(exports,"BehaviorSubject",{enumerable:!0,get:function(){return _BehaviorSubject.BehaviorSubject}}),Object.defineProperty(exports,"ReplaySubject",{enumerable:!0,get:function(){return _ReplaySubject.ReplaySubject}}),Object.defineProperty(exports,"AsyncSubject",{enumerable:!0,get:function(){return _AsyncSubject.AsyncSubject}}),Object.defineProperty(exports,"asapScheduler",{enumerable:!0,get:function(){return _asap.asap}}),Object.defineProperty(exports,"asyncScheduler",{enumerable:!0,get:function(){return _async.async}}),Object.defineProperty(exports,"queueScheduler",{enumerable:!0,get:function(){return _queue.queue}}),Object.defineProperty(exports,"animationFrameScheduler",{enumerable:!0,get:function(){return _animationFrame.animationFrame}}),Object.defineProperty(exports,"VirtualTimeScheduler",{enumerable:!0,get:function(){return _VirtualTimeScheduler.VirtualTimeScheduler}}),Object.defineProperty(exports,"VirtualAction",{enumerable:!0,get:function(){return _VirtualTimeScheduler.VirtualAction}}),Object.defineProperty(exports,"Scheduler",{enumerable:!0,get:function(){return _Scheduler.Scheduler}}),Object.defineProperty(exports,"Subscription",{enumerable:!0,get:function(){return _Subscription.Subscription}}),Object.defineProperty(exports,"Subscriber",{enumerable:!0,get:function(){return _Subscriber.Subscriber}}),Object.defineProperty(exports,"Notification",{enumerable:!0,get:function(){return _Notification.Notification}}),Object.defineProperty(exports,"NotificationKind",{enumerable:!0,get:function(){return _Notification.NotificationKind}}),Object.defineProperty(exports,"pipe",{enumerable:!0,get:function(){return _pipe.pipe}}),Object.defineProperty(exports,"noop",{enumerable:!0,get:function(){return _noop.noop}}),Object.defineProperty(exports,"identity",{enumerable:!0,get:function(){return _identity.identity}}),Object.defineProperty(exports,"isObservable",{enumerable:!0,get:function(){return _isObservable.isObservable}}),Object.defineProperty(exports,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return _ArgumentOutOfRangeError.ArgumentOutOfRangeError}}),Object.defineProperty(exports,"EmptyError",{enumerable:!0,get:function(){return _EmptyError.EmptyError}}),Object.defineProperty(exports,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return _ObjectUnsubscribedError.ObjectUnsubscribedError}}),Object.defineProperty(exports,"UnsubscriptionError",{enumerable:!0,get:function(){return _UnsubscriptionError.UnsubscriptionError}}),Object.defineProperty(exports,"TimeoutError",{enumerable:!0,get:function(){return _TimeoutError.TimeoutError}}),Object.defineProperty(exports,"bindCallback",{enumerable:!0,get:function(){return _bindCallback.bindCallback}}),Object.defineProperty(exports,"bindNodeCallback",{enumerable:!0,get:function(){return _bindNodeCallback.bindNodeCallback}}),Object.defineProperty(exports,"combineLatest",{enumerable:!0,get:function(){return _combineLatest.combineLatest}}),Object.defineProperty(exports,"concat",{enumerable:!0,get:function(){return _concat.concat}}),Object.defineProperty(exports,"defer",{enumerable:!0,get:function(){return _defer.defer}}),Object.defineProperty(exports,"empty",{enumerable:!0,get:function(){return _empty.empty}}),Object.defineProperty(exports,"EMPTY",{enumerable:!0,get:function(){return _empty.EMPTY}}),Object.defineProperty(exports,"forkJoin",{enumerable:!0,get:function(){return _forkJoin.forkJoin}}),Object.defineProperty(exports,"from",{enumerable:!0,get:function(){return _from.from}}),Object.defineProperty(exports,"fromEvent",{enumerable:!0,get:function(){return _fromEvent.fromEvent}}),Object.defineProperty(exports,"fromEventPattern",{enumerable:!0,get:function(){return _fromEventPattern.fromEventPattern}}),Object.defineProperty(exports,"generate",{enumerable:!0,get:function(){return _generate.generate}}),Object.defineProperty(exports,"iif",{enumerable:!0,get:function(){return _iif.iif}}),Object.defineProperty(exports,"interval",{enumerable:!0,get:function(){return _interval.interval}}),Object.defineProperty(exports,"merge",{enumerable:!0,get:function(){return _merge.merge}}),Object.defineProperty(exports,"never",{enumerable:!0,get:function(){return _never.never}}),Object.defineProperty(exports,"NEVER",{enumerable:!0,get:function(){return _never.NEVER}}),Object.defineProperty(exports,"of",{enumerable:!0,get:function(){return _of.of}}),Object.defineProperty(exports,"onErrorResumeNext",{enumerable:!0,get:function(){return _onErrorResumeNext.onErrorResumeNext}}),Object.defineProperty(exports,"pairs",{enumerable:!0,get:function(){return _pairs.pairs}}),Object.defineProperty(exports,"partition",{enumerable:!0,get:function(){return _partition.partition}}),Object.defineProperty(exports,"race",{enumerable:!0,get:function(){return _race.race}}),Object.defineProperty(exports,"range",{enumerable:!0,get:function(){return _range.range}}),Object.defineProperty(exports,"throwError",{enumerable:!0,get:function(){return _throwError.throwError}}),Object.defineProperty(exports,"timer",{enumerable:!0,get:function(){return _timer.timer}}),Object.defineProperty(exports,"using",{enumerable:!0,get:function(){return _using.using}}),Object.defineProperty(exports,"zip",{enumerable:!0,get:function(){return _zip.zip}}),Object.defineProperty(exports,"scheduled",{enumerable:!0,get:function(){return _scheduled.scheduled}}),Object.defineProperty(exports,"config",{enumerable:!0,get:function(){return _config.config}});var _Observable=require("./internal/Observable"),_ConnectableObservable=require("./internal/observable/ConnectableObservable"),_groupBy=require("./internal/operators/groupBy"),_observable=require("./internal/symbol/observable"),_Subject=require("./internal/Subject"),_BehaviorSubject=require("./internal/BehaviorSubject"),_ReplaySubject=require("./internal/ReplaySubject"),_AsyncSubject=require("./internal/AsyncSubject"),_asap=require("./internal/scheduler/asap"),_async=require("./internal/scheduler/async"),_queue=require("./internal/scheduler/queue"),_animationFrame=require("./internal/scheduler/animationFrame"),_VirtualTimeScheduler=require("./internal/scheduler/VirtualTimeScheduler"),_Scheduler=require("./internal/Scheduler"),_Subscription=require("./internal/Subscription"),_Subscriber=require("./internal/Subscriber"),_Notification=require("./internal/Notification"),_pipe=require("./internal/util/pipe"),_noop=require("./internal/util/noop"),_identity=require("./internal/util/identity"),_isObservable=require("./internal/util/isObservable"),_ArgumentOutOfRangeError=require("./internal/util/ArgumentOutOfRangeError"),_EmptyError=require("./internal/util/EmptyError"),_ObjectUnsubscribedError=require("./internal/util/ObjectUnsubscribedError"),_UnsubscriptionError=require("./internal/util/UnsubscriptionError"),_TimeoutError=require("./internal/util/TimeoutError"),_bindCallback=require("./internal/observable/bindCallback"),_bindNodeCallback=require("./internal/observable/bindNodeCallback"),_combineLatest=require("./internal/observable/combineLatest"),_concat=require("./internal/observable/concat"),_defer=require("./internal/observable/defer"),_empty=require("./internal/observable/empty"),_forkJoin=require("./internal/observable/forkJoin"),_from=require("./internal/observable/from"),_fromEvent=require("./internal/observable/fromEvent"),_fromEventPattern=require("./internal/observable/fromEventPattern"),_generate=require("./internal/observable/generate"),_iif=require("./internal/observable/iif"),_interval=require("./internal/observable/interval"),_merge=require("./internal/observable/merge"),_never=require("./internal/observable/never"),_of=require("./internal/observable/of"),_onErrorResumeNext=require("./internal/observable/onErrorResumeNext"),_pairs=require("./internal/observable/pairs"),_partition=require("./internal/observable/partition"),_race=require("./internal/observable/race"),_range=require("./internal/observable/range"),_throwError=require("./internal/observable/throwError"),_timer=require("./internal/observable/timer"),_using=require("./internal/observable/using"),_zip=require("./internal/observable/zip"),_scheduled=require("./internal/scheduled/scheduled"),_config=require("./internal/config")},{"./internal/Observable":"wbSE","./internal/observable/ConnectableObservable":"kkfD","./internal/operators/groupBy":"dNgG","./internal/symbol/observable":"tjV3","./internal/Subject":"r9t1","./internal/BehaviorSubject":"MPU6","./internal/ReplaySubject":"Cp6P","./internal/AsyncSubject":"Scvc","./internal/scheduler/asap":"ZqYc","./internal/scheduler/async":"jun6","./internal/scheduler/queue":"HGOP","./internal/scheduler/animationFrame":"zUKp","./internal/scheduler/VirtualTimeScheduler":"RuMO","./internal/Scheduler":"QglZ","./internal/Subscription":"I8KM","./internal/Subscriber":"RaFB","./internal/Notification":"n7Mc","./internal/util/pipe":"HQCS","./internal/util/noop":"rXfM","./internal/util/identity":"LXph","./internal/util/isObservable":"cUXi","./internal/util/ArgumentOutOfRangeError":"Qh4I","./internal/util/EmptyError":"vsl0","./internal/util/ObjectUnsubscribedError":"xQEi","./internal/util/UnsubscriptionError":"pMaL","./internal/util/TimeoutError":"SZK7","./internal/observable/bindCallback":"lxDK","./internal/observable/bindNodeCallback":"uTDa","./internal/observable/combineLatest":"omVc","./internal/observable/concat":"CsdO","./internal/observable/defer":"w9G6","./internal/observable/empty":"XsKQ","./internal/observable/forkJoin":"R2GC","./internal/observable/from":"WXUl","./internal/observable/fromEvent":"ZHZV","./internal/observable/fromEventPattern":"HFE7","./internal/observable/generate":"xNZb","./internal/observable/iif":"SXp5","./internal/observable/interval":"QHLS","./internal/observable/merge":"DQig","./internal/observable/never":"TBTl","./internal/observable/of":"wZuk","./internal/observable/onErrorResumeNext":"VCq5","./internal/observable/pairs":"QHfc","./internal/observable/partition":"wJ9V","./internal/observable/race":"bwYX","./internal/observable/range":"N84r","./internal/observable/throwError":"FdIu","./internal/observable/timer":"RPvN","./internal/observable/using":"gc1W","./internal/observable/zip":"ff2A","./internal/scheduled/scheduled":"mNZE","./internal/config":"Q3iD"}],Pdg2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.audit=function(durationSelector){return function(source){return source.lift(new AuditOperator(durationSelector))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var AuditOperator=function(){function AuditOperator(durationSelector){this.durationSelector=durationSelector}return AuditOperator.prototype.call=function(subscriber,source){return source.subscribe(new AuditSubscriber(subscriber,this.durationSelector))},AuditOperator}(),AuditSubscriber=function(_super){function AuditSubscriber(destination,durationSelector){var _this=_super.call(this,destination)||this;return _this.durationSelector=durationSelector,_this.hasValue=!1,_this}return tslib_1.__extends(AuditSubscriber,_super),AuditSubscriber.prototype._next=function(value){if(this.value=value,this.hasValue=!0,!this.throttled){var duration=void 0;try{duration=(0,this.durationSelector)(value)}catch(err){return this.destination.error(err)}var innerSubscription=(0,_subscribeToResult.subscribeToResult)(this,duration);!innerSubscription||innerSubscription.closed?this.clearThrottle():this.add(this.throttled=innerSubscription)}},AuditSubscriber.prototype.clearThrottle=function(){var value=this.value,hasValue=this.hasValue,throttled=this.throttled;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe()),hasValue&&(this.value=null,this.hasValue=!1,this.destination.next(value))},AuditSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){this.clearThrottle()},AuditSubscriber.prototype.notifyComplete=function(){this.clearThrottle()},AuditSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],jcYn:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.auditTime=function(duration,scheduler){void 0===scheduler&&(scheduler=_async.async);return(0,_audit.audit)(function(){return(0,_timer.timer)(duration,scheduler)})};var _async=require("../scheduler/async"),_audit=require("./audit"),_timer=require("../observable/timer")},{"../scheduler/async":"jun6","./audit":"Pdg2","../observable/timer":"RPvN"}],mG6b:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buffer=function(closingNotifier){return function(source){return source.lift(new BufferOperator(closingNotifier))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var BufferOperator=function(){function BufferOperator(closingNotifier){this.closingNotifier=closingNotifier}return BufferOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferSubscriber(subscriber,this.closingNotifier))},BufferOperator}(),BufferSubscriber=function(_super){function BufferSubscriber(destination,closingNotifier){var _this=_super.call(this,destination)||this;return _this.buffer=[],_this.add((0,_subscribeToResult.subscribeToResult)(_this,closingNotifier)),_this}return tslib_1.__extends(BufferSubscriber,_super),BufferSubscriber.prototype._next=function(value){this.buffer.push(value)},BufferSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var buffer=this.buffer;this.buffer=[],this.destination.next(buffer)},BufferSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],f9IP:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bufferCount=function(bufferSize,startBufferEvery){void 0===startBufferEvery&&(startBufferEvery=null);return function(source){return source.lift(new BufferCountOperator(bufferSize,startBufferEvery))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var BufferCountOperator=function(){function BufferCountOperator(bufferSize,startBufferEvery){this.bufferSize=bufferSize,this.startBufferEvery=startBufferEvery,this.subscriberClass=startBufferEvery&&bufferSize!==startBufferEvery?BufferSkipCountSubscriber:BufferCountSubscriber}return BufferCountOperator.prototype.call=function(subscriber,source){return source.subscribe(new this.subscriberClass(subscriber,this.bufferSize,this.startBufferEvery))},BufferCountOperator}(),BufferCountSubscriber=function(_super){function BufferCountSubscriber(destination,bufferSize){var _this=_super.call(this,destination)||this;return _this.bufferSize=bufferSize,_this.buffer=[],_this}return tslib_1.__extends(BufferCountSubscriber,_super),BufferCountSubscriber.prototype._next=function(value){var buffer=this.buffer;buffer.push(value),buffer.length==this.bufferSize&&(this.destination.next(buffer),this.buffer=[])},BufferCountSubscriber.prototype._complete=function(){var buffer=this.buffer;buffer.length>0&&this.destination.next(buffer),_super.prototype._complete.call(this)},BufferCountSubscriber}(_Subscriber.Subscriber),BufferSkipCountSubscriber=function(_super){function BufferSkipCountSubscriber(destination,bufferSize,startBufferEvery){var _this=_super.call(this,destination)||this;return _this.bufferSize=bufferSize,_this.startBufferEvery=startBufferEvery,_this.buffers=[],_this.count=0,_this}return tslib_1.__extends(BufferSkipCountSubscriber,_super),BufferSkipCountSubscriber.prototype._next=function(value){var bufferSize=this.bufferSize,startBufferEvery=this.startBufferEvery,buffers=this.buffers,count=this.count;this.count++,count%startBufferEvery==0&&buffers.push([]);for(var i=buffers.length;i--;){var buffer=buffers[i];buffer.push(value),buffer.length===bufferSize&&(buffers.splice(i,1),this.destination.next(buffer))}},BufferSkipCountSubscriber.prototype._complete=function(){for(var buffers=this.buffers,destination=this.destination;buffers.length>0;){var buffer=buffers.shift();buffer.length>0&&destination.next(buffer)}_super.prototype._complete.call(this)},BufferSkipCountSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],Axj2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bufferTime=function(bufferTimeSpan){var length=arguments.length,scheduler=_async.async;(0,_isScheduler.isScheduler)(arguments[arguments.length-1])&&(scheduler=arguments[arguments.length-1],length--);var bufferCreationInterval=null;length>=2&&(bufferCreationInterval=arguments[1]);var maxBufferSize=Number.POSITIVE_INFINITY;length>=3&&(maxBufferSize=arguments[2]);return function(source){return source.lift(new BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_async=require("../scheduler/async"),_Subscriber=require("../Subscriber"),_isScheduler=require("../util/isScheduler");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var BufferTimeOperator=function(){function BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler){this.bufferTimeSpan=bufferTimeSpan,this.bufferCreationInterval=bufferCreationInterval,this.maxBufferSize=maxBufferSize,this.scheduler=scheduler}return BufferTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferTimeSubscriber(subscriber,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},BufferTimeOperator}(),Context=function(){return function(){this.buffer=[]}}(),BufferTimeSubscriber=function(_super){function BufferTimeSubscriber(destination,bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler){var _this=_super.call(this,destination)||this;_this.bufferTimeSpan=bufferTimeSpan,_this.bufferCreationInterval=bufferCreationInterval,_this.maxBufferSize=maxBufferSize,_this.scheduler=scheduler,_this.contexts=[];var context=_this.openContext();if(_this.timespanOnly=null==bufferCreationInterval||bufferCreationInterval<0,_this.timespanOnly){var timeSpanOnlyState={subscriber:_this,context:context,bufferTimeSpan:bufferTimeSpan};_this.add(context.closeAction=scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState))}else{var closeState={subscriber:_this,context:context},creationState={bufferTimeSpan:bufferTimeSpan,bufferCreationInterval:bufferCreationInterval,subscriber:_this,scheduler:scheduler};_this.add(context.closeAction=scheduler.schedule(dispatchBufferClose,bufferTimeSpan,closeState)),_this.add(scheduler.schedule(dispatchBufferCreation,bufferCreationInterval,creationState))}return _this}return tslib_1.__extends(BufferTimeSubscriber,_super),BufferTimeSubscriber.prototype._next=function(value){for(var filledBufferContext,contexts=this.contexts,len=contexts.length,i=0;i<len;i++){var context_1=contexts[i],buffer=context_1.buffer;buffer.push(value),buffer.length==this.maxBufferSize&&(filledBufferContext=context_1)}filledBufferContext&&this.onBufferFull(filledBufferContext)},BufferTimeSubscriber.prototype._error=function(err){this.contexts.length=0,_super.prototype._error.call(this,err)},BufferTimeSubscriber.prototype._complete=function(){for(var contexts=this.contexts,destination=this.destination;contexts.length>0;){var context_2=contexts.shift();destination.next(context_2.buffer)}_super.prototype._complete.call(this)},BufferTimeSubscriber.prototype._unsubscribe=function(){this.contexts=null},BufferTimeSubscriber.prototype.onBufferFull=function(context){this.closeContext(context);var closeAction=context.closeAction;if(closeAction.unsubscribe(),this.remove(closeAction),!this.closed&&this.timespanOnly){context=this.openContext();var bufferTimeSpan=this.bufferTimeSpan,timeSpanOnlyState={subscriber:this,context:context,bufferTimeSpan:bufferTimeSpan};this.add(context.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState))}},BufferTimeSubscriber.prototype.openContext=function(){var context=new Context;return this.contexts.push(context),context},BufferTimeSubscriber.prototype.closeContext=function(context){this.destination.next(context.buffer);var contexts=this.contexts;(contexts?contexts.indexOf(context):-1)>=0&&contexts.splice(contexts.indexOf(context),1)},BufferTimeSubscriber}(_Subscriber.Subscriber);function dispatchBufferTimeSpanOnly(state){var subscriber=state.subscriber,prevContext=state.context;prevContext&&subscriber.closeContext(prevContext),subscriber.closed||(state.context=subscriber.openContext(),state.context.closeAction=this.schedule(state,state.bufferTimeSpan))}function dispatchBufferCreation(state){var bufferCreationInterval=state.bufferCreationInterval,bufferTimeSpan=state.bufferTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,context=subscriber.openContext();subscriber.closed||(subscriber.add(context.closeAction=scheduler.schedule(dispatchBufferClose,bufferTimeSpan,{subscriber:subscriber,context:context})),this.schedule(state,bufferCreationInterval))}function dispatchBufferClose(arg){var subscriber=arg.subscriber,context=arg.context;subscriber.closeContext(context)}},{tslib:"vCxL","../scheduler/async":"jun6","../Subscriber":"RaFB","../util/isScheduler":"VqoH"}],ZTTP:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bufferToggle=function(openings,closingSelector){return function(source){return source.lift(new BufferToggleOperator(openings,closingSelector))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscription=require("../Subscription"),_subscribeToResult=require("../util/subscribeToResult"),_OuterSubscriber=require("../OuterSubscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var BufferToggleOperator=function(){function BufferToggleOperator(openings,closingSelector){this.openings=openings,this.closingSelector=closingSelector}return BufferToggleOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferToggleSubscriber(subscriber,this.openings,this.closingSelector))},BufferToggleOperator}(),BufferToggleSubscriber=function(_super){function BufferToggleSubscriber(destination,openings,closingSelector){var _this=_super.call(this,destination)||this;return _this.openings=openings,_this.closingSelector=closingSelector,_this.contexts=[],_this.add((0,_subscribeToResult.subscribeToResult)(_this,openings)),_this}return tslib_1.__extends(BufferToggleSubscriber,_super),BufferToggleSubscriber.prototype._next=function(value){for(var contexts=this.contexts,len=contexts.length,i=0;i<len;i++)contexts[i].buffer.push(value)},BufferToggleSubscriber.prototype._error=function(err){for(var contexts=this.contexts;contexts.length>0;){var context_1=contexts.shift();context_1.subscription.unsubscribe(),context_1.buffer=null,context_1.subscription=null}this.contexts=null,_super.prototype._error.call(this,err)},BufferToggleSubscriber.prototype._complete=function(){for(var contexts=this.contexts;contexts.length>0;){var context_2=contexts.shift();this.destination.next(context_2.buffer),context_2.subscription.unsubscribe(),context_2.buffer=null,context_2.subscription=null}this.contexts=null,_super.prototype._complete.call(this)},BufferToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){outerValue?this.closeBuffer(outerValue):this.openBuffer(innerValue)},BufferToggleSubscriber.prototype.notifyComplete=function(innerSub){this.closeBuffer(innerSub.context)},BufferToggleSubscriber.prototype.openBuffer=function(value){try{var closingNotifier=this.closingSelector.call(this,value);closingNotifier&&this.trySubscribe(closingNotifier)}catch(err){this._error(err)}},BufferToggleSubscriber.prototype.closeBuffer=function(context){var contexts=this.contexts;if(contexts&&context){var buffer=context.buffer,subscription=context.subscription;this.destination.next(buffer),contexts.splice(contexts.indexOf(context),1),this.remove(subscription),subscription.unsubscribe()}},BufferToggleSubscriber.prototype.trySubscribe=function(closingNotifier){var contexts=this.contexts,subscription=new _Subscription.Subscription,context={buffer:[],subscription:subscription};contexts.push(context);var innerSubscription=(0,_subscribeToResult.subscribeToResult)(this,closingNotifier,context);!innerSubscription||innerSubscription.closed?this.closeBuffer(context):(innerSubscription.context=context,this.add(innerSubscription),subscription.add(innerSubscription))},BufferToggleSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../Subscription":"I8KM","../util/subscribeToResult":"JM7e","../OuterSubscriber":"hZYI"}],Ul3A:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bufferWhen=function(closingSelector){return function(source){return source.lift(new BufferWhenOperator(closingSelector))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscription=require("../Subscription"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var BufferWhenOperator=function(){function BufferWhenOperator(closingSelector){this.closingSelector=closingSelector}return BufferWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferWhenSubscriber(subscriber,this.closingSelector))},BufferWhenOperator}(),BufferWhenSubscriber=function(_super){function BufferWhenSubscriber(destination,closingSelector){var _this=_super.call(this,destination)||this;return _this.closingSelector=closingSelector,_this.subscribing=!1,_this.openBuffer(),_this}return tslib_1.__extends(BufferWhenSubscriber,_super),BufferWhenSubscriber.prototype._next=function(value){this.buffer.push(value)},BufferWhenSubscriber.prototype._complete=function(){var buffer=this.buffer;buffer&&this.destination.next(buffer),_super.prototype._complete.call(this)},BufferWhenSubscriber.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},BufferWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openBuffer()},BufferWhenSubscriber.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},BufferWhenSubscriber.prototype.openBuffer=function(){var closingSubscription=this.closingSubscription;closingSubscription&&(this.remove(closingSubscription),closingSubscription.unsubscribe());var closingNotifier,buffer=this.buffer;this.buffer&&this.destination.next(buffer),this.buffer=[];try{closingNotifier=(0,this.closingSelector)()}catch(err){return this.error(err)}closingSubscription=new _Subscription.Subscription,this.closingSubscription=closingSubscription,this.add(closingSubscription),this.subscribing=!0,closingSubscription.add((0,_subscribeToResult.subscribeToResult)(this,closingNotifier)),this.subscribing=!1},BufferWhenSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../Subscription":"I8KM","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],THoY:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.catchError=function(selector){return function(source){var operator=new CatchOperator(selector),caught=source.lift(operator);return operator.caught=caught}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_InnerSubscriber=require("../InnerSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var CatchOperator=function(){function CatchOperator(selector){this.selector=selector}return CatchOperator.prototype.call=function(subscriber,source){return source.subscribe(new CatchSubscriber(subscriber,this.selector,this.caught))},CatchOperator}(),CatchSubscriber=function(_super){function CatchSubscriber(destination,selector,caught){var _this=_super.call(this,destination)||this;return _this.selector=selector,_this.caught=caught,_this}return tslib_1.__extends(CatchSubscriber,_super),CatchSubscriber.prototype.error=function(err){if(!this.isStopped){var result=void 0;try{result=this.selector(err,this.caught)}catch(err2){return void _super.prototype.error.call(this,err2)}this._unsubscribeAndRecycle();var innerSubscriber=new _InnerSubscriber.InnerSubscriber(this,void 0,void 0);this.add(innerSubscriber),(0,_subscribeToResult.subscribeToResult)(this,result,void 0,void 0,innerSubscriber)}},CatchSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e"}],TMFF:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.combineAll=function(project){return function(source){return source.lift(new _combineLatest.CombineLatestOperator(project))}};var _combineLatest=require("../observable/combineLatest")},{"../observable/combineLatest":"omVc"}],DJQm:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.combineLatest=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];var project=null;"function"==typeof observables[observables.length-1]&&(project=observables.pop());1===observables.length&&(0,_isArray.isArray)(observables[0])&&(observables=observables[0].slice());return function(source){return source.lift.call((0,_from.from)([source].concat(observables)),new _combineLatest.CombineLatestOperator(project))}};var _isArray=require("../util/isArray"),_combineLatest=require("../observable/combineLatest"),_from=require("../observable/from")},{"../util/isArray":"KeTG","../observable/combineLatest":"omVc","../observable/from":"WXUl"}],ZHmI:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concat=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];return function(source){return source.lift.call(_concat.concat.apply(void 0,[source].concat(observables)))}};var _concat=require("../observable/concat")},{"../observable/concat":"CsdO"}],DoUK:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatMap=function(project,resultSelector){return(0,_mergeMap.mergeMap)(project,resultSelector,1)};var _mergeMap=require("./mergeMap")},{"./mergeMap":"nFsM"}],APQq:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatMapTo=function(innerObservable,resultSelector){return(0,_concatMap.concatMap)(function(){return innerObservable},resultSelector)};var _concatMap=require("./concatMap")},{"./concatMap":"DoUK"}],U1Ln:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.count=function(predicate){return function(source){return source.lift(new CountOperator(predicate,source))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var CountOperator=function(){function CountOperator(predicate,source){this.predicate=predicate,this.source=source}return CountOperator.prototype.call=function(subscriber,source){return source.subscribe(new CountSubscriber(subscriber,this.predicate,this.source))},CountOperator}(),CountSubscriber=function(_super){function CountSubscriber(destination,predicate,source){var _this=_super.call(this,destination)||this;return _this.predicate=predicate,_this.source=source,_this.count=0,_this.index=0,_this}return tslib_1.__extends(CountSubscriber,_super),CountSubscriber.prototype._next=function(value){this.predicate?this._tryPredicate(value):this.count++},CountSubscriber.prototype._tryPredicate=function(value){var result;try{result=this.predicate(value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result&&this.count++},CountSubscriber.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},CountSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],y9EZ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounce=function(durationSelector){return function(source){return source.lift(new DebounceOperator(durationSelector))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DebounceOperator=function(){function DebounceOperator(durationSelector){this.durationSelector=durationSelector}return DebounceOperator.prototype.call=function(subscriber,source){return source.subscribe(new DebounceSubscriber(subscriber,this.durationSelector))},DebounceOperator}(),DebounceSubscriber=function(_super){function DebounceSubscriber(destination,durationSelector){var _this=_super.call(this,destination)||this;return _this.durationSelector=durationSelector,_this.hasValue=!1,_this.durationSubscription=null,_this}return tslib_1.__extends(DebounceSubscriber,_super),DebounceSubscriber.prototype._next=function(value){try{var result=this.durationSelector.call(this,value);result&&this._tryNext(value,result)}catch(err){this.destination.error(err)}},DebounceSubscriber.prototype._complete=function(){this.emitValue(),this.destination.complete()},DebounceSubscriber.prototype._tryNext=function(value,duration){var subscription=this.durationSubscription;this.value=value,this.hasValue=!0,subscription&&(subscription.unsubscribe(),this.remove(subscription)),(subscription=(0,_subscribeToResult.subscribeToResult)(this,duration))&&!subscription.closed&&this.add(this.durationSubscription=subscription)},DebounceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue()},DebounceSubscriber.prototype.notifyComplete=function(){this.emitValue()},DebounceSubscriber.prototype.emitValue=function(){if(this.hasValue){var value=this.value,subscription=this.durationSubscription;subscription&&(this.durationSubscription=null,subscription.unsubscribe(),this.remove(subscription)),this.value=null,this.hasValue=!1,_super.prototype._next.call(this,value)}},DebounceSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],KBFO:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounceTime=function(dueTime,scheduler){void 0===scheduler&&(scheduler=_async.async);return function(source){return source.lift(new DebounceTimeOperator(dueTime,scheduler))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_async=require("../scheduler/async");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DebounceTimeOperator=function(){function DebounceTimeOperator(dueTime,scheduler){this.dueTime=dueTime,this.scheduler=scheduler}return DebounceTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler))},DebounceTimeOperator}(),DebounceTimeSubscriber=function(_super){function DebounceTimeSubscriber(destination,dueTime,scheduler){var _this=_super.call(this,destination)||this;return _this.dueTime=dueTime,_this.scheduler=scheduler,_this.debouncedSubscription=null,_this.lastValue=null,_this.hasValue=!1,_this}return tslib_1.__extends(DebounceTimeSubscriber,_super),DebounceTimeSubscriber.prototype._next=function(value){this.clearDebounce(),this.lastValue=value,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},DebounceTimeSubscriber.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var lastValue=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(lastValue)}},DebounceTimeSubscriber.prototype.clearDebounce=function(){var debouncedSubscription=this.debouncedSubscription;null!==debouncedSubscription&&(this.remove(debouncedSubscription),debouncedSubscription.unsubscribe(),this.debouncedSubscription=null)},DebounceTimeSubscriber}(_Subscriber.Subscriber);function dispatchNext(subscriber){subscriber.debouncedNext()}},{tslib:"vCxL","../Subscriber":"RaFB","../scheduler/async":"jun6"}],YBdz:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultIfEmpty=function(defaultValue){void 0===defaultValue&&(defaultValue=null);return function(source){return source.lift(new DefaultIfEmptyOperator(defaultValue))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DefaultIfEmptyOperator=function(){function DefaultIfEmptyOperator(defaultValue){this.defaultValue=defaultValue}return DefaultIfEmptyOperator.prototype.call=function(subscriber,source){return source.subscribe(new DefaultIfEmptySubscriber(subscriber,this.defaultValue))},DefaultIfEmptyOperator}(),DefaultIfEmptySubscriber=function(_super){function DefaultIfEmptySubscriber(destination,defaultValue){var _this=_super.call(this,destination)||this;return _this.defaultValue=defaultValue,_this.isEmpty=!0,_this}return tslib_1.__extends(DefaultIfEmptySubscriber,_super),DefaultIfEmptySubscriber.prototype._next=function(value){this.isEmpty=!1,this.destination.next(value)},DefaultIfEmptySubscriber.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},DefaultIfEmptySubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],rxSS:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDate=function(value){return value instanceof Date&&!isNaN(+value)}},{}],zkgx:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delay=function(delay,scheduler){void 0===scheduler&&(scheduler=_async.async);var delayFor=(0,_isDate.isDate)(delay)?+delay-scheduler.now():Math.abs(delay);return function(source){return source.lift(new DelayOperator(delayFor,scheduler))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_async=require("../scheduler/async"),_isDate=require("../util/isDate"),_Subscriber=require("../Subscriber"),_Notification=require("../Notification");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DelayOperator=function(){function DelayOperator(delay,scheduler){this.delay=delay,this.scheduler=scheduler}return DelayOperator.prototype.call=function(subscriber,source){return source.subscribe(new DelaySubscriber(subscriber,this.delay,this.scheduler))},DelayOperator}(),DelaySubscriber=function(_super){function DelaySubscriber(destination,delay,scheduler){var _this=_super.call(this,destination)||this;return _this.delay=delay,_this.scheduler=scheduler,_this.queue=[],_this.active=!1,_this.errored=!1,_this}return tslib_1.__extends(DelaySubscriber,_super),DelaySubscriber.dispatch=function(state){for(var source=state.source,queue=source.queue,scheduler=state.scheduler,destination=state.destination;queue.length>0&&queue[0].time-scheduler.now()<=0;)queue.shift().notification.observe(destination);if(queue.length>0){var delay_1=Math.max(0,queue[0].time-scheduler.now());this.schedule(state,delay_1)}else this.unsubscribe(),source.active=!1},DelaySubscriber.prototype._schedule=function(scheduler){this.active=!0,this.destination.add(scheduler.schedule(DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:scheduler}))},DelaySubscriber.prototype.scheduleNotification=function(notification){if(!0!==this.errored){var scheduler=this.scheduler,message=new DelayMessage(scheduler.now()+this.delay,notification);this.queue.push(message),!1===this.active&&this._schedule(scheduler)}},DelaySubscriber.prototype._next=function(value){this.scheduleNotification(_Notification.Notification.createNext(value))},DelaySubscriber.prototype._error=function(err){this.errored=!0,this.queue=[],this.destination.error(err),this.unsubscribe()},DelaySubscriber.prototype._complete=function(){this.scheduleNotification(_Notification.Notification.createComplete()),this.unsubscribe()},DelaySubscriber}(_Subscriber.Subscriber),DelayMessage=function(){return function(time,notification){this.time=time,this.notification=notification}}()},{tslib:"vCxL","../scheduler/async":"jun6","../util/isDate":"rxSS","../Subscriber":"RaFB","../Notification":"n7Mc"}],iVuv:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delayWhen=function(delayDurationSelector,subscriptionDelay){if(subscriptionDelay)return function(source){return new SubscriptionDelayObservable(source,subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector))};return function(source){return source.lift(new DelayWhenOperator(delayDurationSelector))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_Observable=require("../Observable"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DelayWhenOperator=function(){function DelayWhenOperator(delayDurationSelector){this.delayDurationSelector=delayDurationSelector}return DelayWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new DelayWhenSubscriber(subscriber,this.delayDurationSelector))},DelayWhenOperator}(),DelayWhenSubscriber=function(_super){function DelayWhenSubscriber(destination,delayDurationSelector){var _this=_super.call(this,destination)||this;return _this.delayDurationSelector=delayDurationSelector,_this.completed=!1,_this.delayNotifierSubscriptions=[],_this.index=0,_this}return tslib_1.__extends(DelayWhenSubscriber,_super),DelayWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(outerValue),this.removeSubscription(innerSub),this.tryComplete()},DelayWhenSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},DelayWhenSubscriber.prototype.notifyComplete=function(innerSub){var value=this.removeSubscription(innerSub);value&&this.destination.next(value),this.tryComplete()},DelayWhenSubscriber.prototype._next=function(value){var index=this.index++;try{var delayNotifier=this.delayDurationSelector(value,index);delayNotifier&&this.tryDelay(delayNotifier,value)}catch(err){this.destination.error(err)}},DelayWhenSubscriber.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},DelayWhenSubscriber.prototype.removeSubscription=function(subscription){subscription.unsubscribe();var subscriptionIdx=this.delayNotifierSubscriptions.indexOf(subscription);return-1!==subscriptionIdx&&this.delayNotifierSubscriptions.splice(subscriptionIdx,1),subscription.outerValue},DelayWhenSubscriber.prototype.tryDelay=function(delayNotifier,value){var notifierSubscription=(0,_subscribeToResult.subscribeToResult)(this,delayNotifier,value);notifierSubscription&&!notifierSubscription.closed&&(this.destination.add(notifierSubscription),this.delayNotifierSubscriptions.push(notifierSubscription))},DelayWhenSubscriber.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},DelayWhenSubscriber}(_OuterSubscriber.OuterSubscriber),SubscriptionDelayObservable=function(_super){function SubscriptionDelayObservable(source,subscriptionDelay){var _this=_super.call(this)||this;return _this.source=source,_this.subscriptionDelay=subscriptionDelay,_this}return tslib_1.__extends(SubscriptionDelayObservable,_super),SubscriptionDelayObservable.prototype._subscribe=function(subscriber){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber,this.source))},SubscriptionDelayObservable}(_Observable.Observable),SubscriptionDelaySubscriber=function(_super){function SubscriptionDelaySubscriber(parent,source){var _this=_super.call(this)||this;return _this.parent=parent,_this.source=source,_this.sourceSubscribed=!1,_this}return tslib_1.__extends(SubscriptionDelaySubscriber,_super),SubscriptionDelaySubscriber.prototype._next=function(unused){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype._error=function(err){this.unsubscribe(),this.parent.error(err)},SubscriptionDelaySubscriber.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},SubscriptionDelaySubscriber.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},SubscriptionDelaySubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../Observable":"wbSE","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],v6b5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dematerialize=function(){return function(source){return source.lift(new DeMaterializeOperator)}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DeMaterializeOperator=function(){function DeMaterializeOperator(){}return DeMaterializeOperator.prototype.call=function(subscriber,source){return source.subscribe(new DeMaterializeSubscriber(subscriber))},DeMaterializeOperator}(),DeMaterializeSubscriber=function(_super){function DeMaterializeSubscriber(destination){return _super.call(this,destination)||this}return tslib_1.__extends(DeMaterializeSubscriber,_super),DeMaterializeSubscriber.prototype._next=function(value){value.observe(this.destination)},DeMaterializeSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],H608:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distinct=function(keySelector,flushes){return function(source){return source.lift(new DistinctOperator(keySelector,flushes))}},exports.DistinctSubscriber=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DistinctOperator=function(){function DistinctOperator(keySelector,flushes){this.keySelector=keySelector,this.flushes=flushes}return DistinctOperator.prototype.call=function(subscriber,source){return source.subscribe(new DistinctSubscriber(subscriber,this.keySelector,this.flushes))},DistinctOperator}(),DistinctSubscriber=function(_super){function DistinctSubscriber(destination,keySelector,flushes){var _this=_super.call(this,destination)||this;return _this.keySelector=keySelector,_this.values=new Set,flushes&&_this.add((0,_subscribeToResult.subscribeToResult)(_this,flushes)),_this}return tslib_1.__extends(DistinctSubscriber,_super),DistinctSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values.clear()},DistinctSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},DistinctSubscriber.prototype._next=function(value){this.keySelector?this._useKeySelector(value):this._finalizeNext(value,value)},DistinctSubscriber.prototype._useKeySelector=function(value){var key,destination=this.destination;try{key=this.keySelector(value)}catch(err){return void destination.error(err)}this._finalizeNext(key,value)},DistinctSubscriber.prototype._finalizeNext=function(key,value){var values=this.values;values.has(key)||(values.add(key),this.destination.next(value))},DistinctSubscriber}(_OuterSubscriber.OuterSubscriber);exports.DistinctSubscriber=DistinctSubscriber},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],hFX7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distinctUntilChanged=function(compare,keySelector){return function(source){return source.lift(new DistinctUntilChangedOperator(compare,keySelector))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DistinctUntilChangedOperator=function(){function DistinctUntilChangedOperator(compare,keySelector){this.compare=compare,this.keySelector=keySelector}return DistinctUntilChangedOperator.prototype.call=function(subscriber,source){return source.subscribe(new DistinctUntilChangedSubscriber(subscriber,this.compare,this.keySelector))},DistinctUntilChangedOperator}(),DistinctUntilChangedSubscriber=function(_super){function DistinctUntilChangedSubscriber(destination,compare,keySelector){var _this=_super.call(this,destination)||this;return _this.keySelector=keySelector,_this.hasKey=!1,"function"==typeof compare&&(_this.compare=compare),_this}return tslib_1.__extends(DistinctUntilChangedSubscriber,_super),DistinctUntilChangedSubscriber.prototype.compare=function(x,y){return x===y},DistinctUntilChangedSubscriber.prototype._next=function(value){var key;try{var keySelector=this.keySelector;key=keySelector?keySelector(value):value}catch(err){return this.destination.error(err)}var result=!1;if(this.hasKey)try{result=(0,this.compare)(this.key,key)}catch(err){return this.destination.error(err)}else this.hasKey=!0;result||(this.key=key,this.destination.next(value))},DistinctUntilChangedSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],Egbr:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distinctUntilKeyChanged=function(key,compare){return(0,_distinctUntilChanged.distinctUntilChanged)(function(x,y){return compare?compare(x[key],y[key]):x[key]===y[key]})};var _distinctUntilChanged=require("./distinctUntilChanged")},{"./distinctUntilChanged":"hFX7"}],D7Ma:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throwIfEmpty=function(errorFactory){void 0===errorFactory&&(errorFactory=defaultErrorFactory);return function(source){return source.lift(new ThrowIfEmptyOperator(errorFactory))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_EmptyError=require("../util/EmptyError"),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ThrowIfEmptyOperator=function(){function ThrowIfEmptyOperator(errorFactory){this.errorFactory=errorFactory}return ThrowIfEmptyOperator.prototype.call=function(subscriber,source){return source.subscribe(new ThrowIfEmptySubscriber(subscriber,this.errorFactory))},ThrowIfEmptyOperator}(),ThrowIfEmptySubscriber=function(_super){function ThrowIfEmptySubscriber(destination,errorFactory){var _this=_super.call(this,destination)||this;return _this.errorFactory=errorFactory,_this.hasValue=!1,_this}return tslib_1.__extends(ThrowIfEmptySubscriber,_super),ThrowIfEmptySubscriber.prototype._next=function(value){this.hasValue=!0,this.destination.next(value)},ThrowIfEmptySubscriber.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var err=void 0;try{err=this.errorFactory()}catch(e){err=e}this.destination.error(err)},ThrowIfEmptySubscriber}(_Subscriber.Subscriber);function defaultErrorFactory(){return new _EmptyError.EmptyError}},{tslib:"vCxL","../util/EmptyError":"vsl0","../Subscriber":"RaFB"}],JVEz:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.take=function(count){return function(source){return 0===count?(0,_empty.empty)():source.lift(new TakeOperator(count))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_ArgumentOutOfRangeError=require("../util/ArgumentOutOfRangeError"),_empty=require("../observable/empty");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var TakeOperator=function(){function TakeOperator(total){if(this.total=total,this.total<0)throw new _ArgumentOutOfRangeError.ArgumentOutOfRangeError}return TakeOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeSubscriber(subscriber,this.total))},TakeOperator}(),TakeSubscriber=function(_super){function TakeSubscriber(destination,total){var _this=_super.call(this,destination)||this;return _this.total=total,_this.count=0,_this}return tslib_1.__extends(TakeSubscriber,_super),TakeSubscriber.prototype._next=function(value){var total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))},TakeSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/ArgumentOutOfRangeError":"Qh4I","../observable/empty":"XsKQ"}],TbZV:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.elementAt=function(index,defaultValue){if(index<0)throw new _ArgumentOutOfRangeError.ArgumentOutOfRangeError;var hasDefaultValue=arguments.length>=2;return function(source){return source.pipe((0,_filter.filter)(function(v,i){return i===index}),(0,_take.take)(1),hasDefaultValue?(0,_defaultIfEmpty.defaultIfEmpty)(defaultValue):(0,_throwIfEmpty.throwIfEmpty)(function(){return new _ArgumentOutOfRangeError.ArgumentOutOfRangeError}))}};var _ArgumentOutOfRangeError=require("../util/ArgumentOutOfRangeError"),_filter=require("./filter"),_throwIfEmpty=require("./throwIfEmpty"),_defaultIfEmpty=require("./defaultIfEmpty"),_take=require("./take")},{"../util/ArgumentOutOfRangeError":"Qh4I","./filter":"HKzi","./throwIfEmpty":"D7Ma","./defaultIfEmpty":"YBdz","./take":"JVEz"}],loee:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.endWith=function(){for(var array=[],_i=0;_i<arguments.length;_i++)array[_i]=arguments[_i];return function(source){return(0,_concat.concat)(source,_of.of.apply(void 0,array))}};var _concat=require("../observable/concat"),_of=require("../observable/of")},{"../observable/concat":"CsdO","../observable/of":"wZuk"}],eEZZ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.every=function(predicate,thisArg){return function(source){return source.lift(new EveryOperator(predicate,thisArg,source))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var EveryOperator=function(){function EveryOperator(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}return EveryOperator.prototype.call=function(observer,source){return source.subscribe(new EverySubscriber(observer,this.predicate,this.thisArg,this.source))},EveryOperator}(),EverySubscriber=function(_super){function EverySubscriber(destination,predicate,thisArg,source){var _this=_super.call(this,destination)||this;return _this.predicate=predicate,_this.thisArg=thisArg,_this.source=source,_this.index=0,_this.thisArg=thisArg||_this,_this}return tslib_1.__extends(EverySubscriber,_super),EverySubscriber.prototype.notifyComplete=function(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()},EverySubscriber.prototype._next=function(value){var result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)},EverySubscriber.prototype._complete=function(){this.notifyComplete(!0)},EverySubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],ifNj:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exhaust=function(){return function(source){return source.lift(new SwitchFirstOperator)}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SwitchFirstOperator=function(){function SwitchFirstOperator(){}return SwitchFirstOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchFirstSubscriber(subscriber))},SwitchFirstOperator}(),SwitchFirstSubscriber=function(_super){function SwitchFirstSubscriber(destination){var _this=_super.call(this,destination)||this;return _this.hasCompleted=!1,_this.hasSubscription=!1,_this}return tslib_1.__extends(SwitchFirstSubscriber,_super),SwitchFirstSubscriber.prototype._next=function(value){this.hasSubscription||(this.hasSubscription=!0,this.add((0,_subscribeToResult.subscribeToResult)(this,value)))},SwitchFirstSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},SwitchFirstSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},SwitchFirstSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],DGWU:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exhaustMap=function exhaustMap(project,resultSelector){if(resultSelector)return function(source){return source.pipe(exhaustMap(function(a,i){return(0,_from.from)(project(a,i)).pipe((0,_map.map)(function(b,ii){return resultSelector(a,b,i,ii)}))}))};return function(source){return source.lift(new ExhaustMapOperator(project))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_InnerSubscriber=require("../InnerSubscriber"),_subscribeToResult=require("../util/subscribeToResult"),_map=require("./map"),_from=require("../observable/from");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ExhaustMapOperator=function(){function ExhaustMapOperator(project){this.project=project}return ExhaustMapOperator.prototype.call=function(subscriber,source){return source.subscribe(new ExhaustMapSubscriber(subscriber,this.project))},ExhaustMapOperator}(),ExhaustMapSubscriber=function(_super){function ExhaustMapSubscriber(destination,project){var _this=_super.call(this,destination)||this;return _this.project=project,_this.hasSubscription=!1,_this.hasCompleted=!1,_this.index=0,_this}return tslib_1.__extends(ExhaustMapSubscriber,_super),ExhaustMapSubscriber.prototype._next=function(value){this.hasSubscription||this.tryNext(value)},ExhaustMapSubscriber.prototype.tryNext=function(value){var result,index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.hasSubscription=!0,this._innerSub(result,value,index)},ExhaustMapSubscriber.prototype._innerSub=function(result,value,index){var innerSubscriber=new _InnerSubscriber.InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),(0,_subscribeToResult.subscribeToResult)(this,result,value,index,innerSubscriber)},ExhaustMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},ExhaustMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)},ExhaustMapSubscriber.prototype.notifyError=function(err){this.destination.error(err)},ExhaustMapSubscriber.prototype.notifyComplete=function(innerSub){this.destination.remove(innerSub),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},ExhaustMapSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e","./map":"dNh5","../observable/from":"WXUl"}],iYcS:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.expand=function(project,concurrent,scheduler){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY);void 0===scheduler&&(scheduler=void 0);return concurrent=(concurrent||0)<1?Number.POSITIVE_INFINITY:concurrent,function(source){return source.lift(new ExpandOperator(project,concurrent,scheduler))}},exports.ExpandSubscriber=exports.ExpandOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ExpandOperator=function(){function ExpandOperator(project,concurrent,scheduler){this.project=project,this.concurrent=concurrent,this.scheduler=scheduler}return ExpandOperator.prototype.call=function(subscriber,source){return source.subscribe(new ExpandSubscriber(subscriber,this.project,this.concurrent,this.scheduler))},ExpandOperator}();exports.ExpandOperator=ExpandOperator;var ExpandSubscriber=function(_super){function ExpandSubscriber(destination,project,concurrent,scheduler){var _this=_super.call(this,destination)||this;return _this.project=project,_this.concurrent=concurrent,_this.scheduler=scheduler,_this.index=0,_this.active=0,_this.hasCompleted=!1,concurrent<Number.POSITIVE_INFINITY&&(_this.buffer=[]),_this}return tslib_1.__extends(ExpandSubscriber,_super),ExpandSubscriber.dispatch=function(arg){var subscriber=arg.subscriber,result=arg.result,value=arg.value,index=arg.index;subscriber.subscribeToProjection(result,value,index)},ExpandSubscriber.prototype._next=function(value){var destination=this.destination;if(destination.closed)this._complete();else{var index=this.index++;if(this.active<this.concurrent){destination.next(value);try{var result=(0,this.project)(value,index);if(this.scheduler){var state={subscriber:this,result:result,value:value,index:index};this.destination.add(this.scheduler.schedule(ExpandSubscriber.dispatch,0,state))}else this.subscribeToProjection(result,value,index)}catch(e){destination.error(e)}}else this.buffer.push(value)}},ExpandSubscriber.prototype.subscribeToProjection=function(result,value,index){this.active++,this.destination.add((0,_subscribeToResult.subscribeToResult)(this,result,value,index))},ExpandSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},ExpandSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this._next(innerValue)},ExpandSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.destination.remove(innerSub),this.active--,buffer&&buffer.length>0&&this._next(buffer.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber}(_OuterSubscriber.OuterSubscriber);exports.ExpandSubscriber=ExpandSubscriber},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],x5qu:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.finalize=function(callback){return function(source){return source.lift(new FinallyOperator(callback))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_Subscription=require("../Subscription");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var FinallyOperator=function(){function FinallyOperator(callback){this.callback=callback}return FinallyOperator.prototype.call=function(subscriber,source){return source.subscribe(new FinallySubscriber(subscriber,this.callback))},FinallyOperator}(),FinallySubscriber=function(_super){function FinallySubscriber(destination,callback){var _this=_super.call(this,destination)||this;return _this.add(new _Subscription.Subscription(callback)),_this}return tslib_1.__extends(FinallySubscriber,_super),FinallySubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../Subscription":"I8KM"}],t6rP:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.find=function(predicate,thisArg){if("function"!=typeof predicate)throw new TypeError("predicate is not a function");return function(source){return source.lift(new FindValueOperator(predicate,source,!1,thisArg))}},exports.FindValueSubscriber=exports.FindValueOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var FindValueOperator=function(){function FindValueOperator(predicate,source,yieldIndex,thisArg){this.predicate=predicate,this.source=source,this.yieldIndex=yieldIndex,this.thisArg=thisArg}return FindValueOperator.prototype.call=function(observer,source){return source.subscribe(new FindValueSubscriber(observer,this.predicate,this.source,this.yieldIndex,this.thisArg))},FindValueOperator}();exports.FindValueOperator=FindValueOperator;var FindValueSubscriber=function(_super){function FindValueSubscriber(destination,predicate,source,yieldIndex,thisArg){var _this=_super.call(this,destination)||this;return _this.predicate=predicate,_this.source=source,_this.yieldIndex=yieldIndex,_this.thisArg=thisArg,_this.index=0,_this}return tslib_1.__extends(FindValueSubscriber,_super),FindValueSubscriber.prototype.notifyComplete=function(value){var destination=this.destination;destination.next(value),destination.complete(),this.unsubscribe()},FindValueSubscriber.prototype._next=function(value){var predicate=this.predicate,thisArg=this.thisArg,index=this.index++;try{predicate.call(thisArg||this,value,index,this.source)&&this.notifyComplete(this.yieldIndex?index:value)}catch(err){this.destination.error(err)}},FindValueSubscriber.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},FindValueSubscriber}(_Subscriber.Subscriber);exports.FindValueSubscriber=FindValueSubscriber},{tslib:"vCxL","../Subscriber":"RaFB"}],GIlo:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findIndex=function(predicate,thisArg){return function(source){return source.lift(new _find.FindValueOperator(predicate,source,!0,thisArg))}};var _find=require("../operators/find")},{"../operators/find":"t6rP"}],f9sd:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.first=function(predicate,defaultValue){var hasDefaultValue=arguments.length>=2;return function(source){return source.pipe(predicate?(0,_filter.filter)(function(v,i){return predicate(v,i,source)}):_identity.identity,(0,_take.take)(1),hasDefaultValue?(0,_defaultIfEmpty.defaultIfEmpty)(defaultValue):(0,_throwIfEmpty.throwIfEmpty)(function(){return new _EmptyError.EmptyError}))}};var _EmptyError=require("../util/EmptyError"),_filter=require("./filter"),_take=require("./take"),_defaultIfEmpty=require("./defaultIfEmpty"),_throwIfEmpty=require("./throwIfEmpty"),_identity=require("../util/identity")},{"../util/EmptyError":"vsl0","./filter":"HKzi","./take":"JVEz","./defaultIfEmpty":"YBdz","./throwIfEmpty":"D7Ma","../util/identity":"LXph"}],P82l:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ignoreElements=function(){return function(source){return source.lift(new IgnoreElementsOperator)}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var IgnoreElementsOperator=function(){function IgnoreElementsOperator(){}return IgnoreElementsOperator.prototype.call=function(subscriber,source){return source.subscribe(new IgnoreElementsSubscriber(subscriber))},IgnoreElementsOperator}(),IgnoreElementsSubscriber=function(_super){function IgnoreElementsSubscriber(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(IgnoreElementsSubscriber,_super),IgnoreElementsSubscriber.prototype._next=function(unused){},IgnoreElementsSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],LqVv:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEmpty=function(){return function(source){return source.lift(new IsEmptyOperator)}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var IsEmptyOperator=function(){function IsEmptyOperator(){}return IsEmptyOperator.prototype.call=function(observer,source){return source.subscribe(new IsEmptySubscriber(observer))},IsEmptyOperator}(),IsEmptySubscriber=function(_super){function IsEmptySubscriber(destination){return _super.call(this,destination)||this}return tslib_1.__extends(IsEmptySubscriber,_super),IsEmptySubscriber.prototype.notifyComplete=function(isEmpty){var destination=this.destination;destination.next(isEmpty),destination.complete()},IsEmptySubscriber.prototype._next=function(value){this.notifyComplete(!1)},IsEmptySubscriber.prototype._complete=function(){this.notifyComplete(!0)},IsEmptySubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],FbHg:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeLast=function(count){return function(source){return 0===count?(0,_empty.empty)():source.lift(new TakeLastOperator(count))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_ArgumentOutOfRangeError=require("../util/ArgumentOutOfRangeError"),_empty=require("../observable/empty");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var TakeLastOperator=function(){function TakeLastOperator(total){if(this.total=total,this.total<0)throw new _ArgumentOutOfRangeError.ArgumentOutOfRangeError}return TakeLastOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeLastSubscriber(subscriber,this.total))},TakeLastOperator}(),TakeLastSubscriber=function(_super){function TakeLastSubscriber(destination,total){var _this=_super.call(this,destination)||this;return _this.total=total,_this.ring=new Array,_this.count=0,_this}return tslib_1.__extends(TakeLastSubscriber,_super),TakeLastSubscriber.prototype._next=function(value){var ring=this.ring,total=this.total,count=this.count++;ring.length<total?ring.push(value):ring[count%total]=value},TakeLastSubscriber.prototype._complete=function(){var destination=this.destination,count=this.count;if(count>0)for(var total=this.count>=this.total?this.total:this.count,ring=this.ring,i=0;i<total;i++){var idx=count++%total;destination.next(ring[idx])}destination.complete()},TakeLastSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/ArgumentOutOfRangeError":"Qh4I","../observable/empty":"XsKQ"}],xu0X:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.last=function(predicate,defaultValue){var hasDefaultValue=arguments.length>=2;return function(source){return source.pipe(predicate?(0,_filter.filter)(function(v,i){return predicate(v,i,source)}):_identity.identity,(0,_takeLast.takeLast)(1),hasDefaultValue?(0,_defaultIfEmpty.defaultIfEmpty)(defaultValue):(0,_throwIfEmpty.throwIfEmpty)(function(){return new _EmptyError.EmptyError}))}};var _EmptyError=require("../util/EmptyError"),_filter=require("./filter"),_takeLast=require("./takeLast"),_throwIfEmpty=require("./throwIfEmpty"),_defaultIfEmpty=require("./defaultIfEmpty"),_identity=require("../util/identity")},{"../util/EmptyError":"vsl0","./filter":"HKzi","./takeLast":"FbHg","./throwIfEmpty":"D7Ma","./defaultIfEmpty":"YBdz","../util/identity":"LXph"}],yJbZ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapTo=function(value){return function(source){return source.lift(new MapToOperator(value))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var MapToOperator=function(){function MapToOperator(value){this.value=value}return MapToOperator.prototype.call=function(subscriber,source){return source.subscribe(new MapToSubscriber(subscriber,this.value))},MapToOperator}(),MapToSubscriber=function(_super){function MapToSubscriber(destination,value){var _this=_super.call(this,destination)||this;return _this.value=value,_this}return tslib_1.__extends(MapToSubscriber,_super),MapToSubscriber.prototype._next=function(x){this.destination.next(this.value)},MapToSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],ZwCH:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.materialize=function(){return function(source){return source.lift(new MaterializeOperator)}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_Notification=require("../Notification");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var MaterializeOperator=function(){function MaterializeOperator(){}return MaterializeOperator.prototype.call=function(subscriber,source){return source.subscribe(new MaterializeSubscriber(subscriber))},MaterializeOperator}(),MaterializeSubscriber=function(_super){function MaterializeSubscriber(destination){return _super.call(this,destination)||this}return tslib_1.__extends(MaterializeSubscriber,_super),MaterializeSubscriber.prototype._next=function(value){this.destination.next(_Notification.Notification.createNext(value))},MaterializeSubscriber.prototype._error=function(err){var destination=this.destination;destination.next(_Notification.Notification.createError(err)),destination.complete()},MaterializeSubscriber.prototype._complete=function(){var destination=this.destination;destination.next(_Notification.Notification.createComplete()),destination.complete()},MaterializeSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../Notification":"n7Mc"}],U785:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scan=function(accumulator,seed){var hasSeed=!1;arguments.length>=2&&(hasSeed=!0);return function(source){return source.lift(new ScanOperator(accumulator,seed,hasSeed))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ScanOperator=function(){function ScanOperator(accumulator,seed,hasSeed){void 0===hasSeed&&(hasSeed=!1),this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}return ScanOperator.prototype.call=function(subscriber,source){return source.subscribe(new ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))},ScanOperator}(),ScanSubscriber=function(_super){function ScanSubscriber(destination,accumulator,_seed,hasSeed){var _this=_super.call(this,destination)||this;return _this.accumulator=accumulator,_this._seed=_seed,_this.hasSeed=hasSeed,_this.index=0,_this}return tslib_1.__extends(ScanSubscriber,_super),Object.defineProperty(ScanSubscriber.prototype,"seed",{get:function(){return this._seed},set:function(value){this.hasSeed=!0,this._seed=value},enumerable:!0,configurable:!0}),ScanSubscriber.prototype._next=function(value){if(this.hasSeed)return this._tryNext(value);this.seed=value,this.destination.next(value)},ScanSubscriber.prototype._tryNext=function(value){var result,index=this.index++;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)},ScanSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],BORG:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reduce=function(accumulator,seed){if(arguments.length>=2)return function(source){return(0,_pipe.pipe)((0,_scan.scan)(accumulator,seed),(0,_takeLast.takeLast)(1),(0,_defaultIfEmpty.defaultIfEmpty)(seed))(source)};return function(source){return(0,_pipe.pipe)((0,_scan.scan)(function(acc,value,index){return accumulator(acc,value,index+1)}),(0,_takeLast.takeLast)(1))(source)}};var _scan=require("./scan"),_takeLast=require("./takeLast"),_defaultIfEmpty=require("./defaultIfEmpty"),_pipe=require("../util/pipe")},{"./scan":"U785","./takeLast":"FbHg","./defaultIfEmpty":"YBdz","../util/pipe":"HQCS"}],BgD2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.max=function(comparer){var max="function"==typeof comparer?function(x,y){return comparer(x,y)>0?x:y}:function(x,y){return x>y?x:y};return(0,_reduce.reduce)(max)};var _reduce=require("./reduce")},{"./reduce":"BORG"}],sbfV:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];return function(source){return source.lift.call(_merge.merge.apply(void 0,[source].concat(observables)))}};var _merge=require("../observable/merge")},{"../observable/merge":"DQig"}],S3q6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeMapTo=function(innerObservable,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY);if("function"==typeof resultSelector)return(0,_mergeMap.mergeMap)(function(){return innerObservable},resultSelector,concurrent);"number"==typeof resultSelector&&(concurrent=resultSelector);return(0,_mergeMap.mergeMap)(function(){return innerObservable},concurrent)};var _mergeMap=require("./mergeMap")},{"./mergeMap":"nFsM"}],wQne:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeScan=function(accumulator,seed,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY);return function(source){return source.lift(new MergeScanOperator(accumulator,seed,concurrent))}},exports.MergeScanSubscriber=exports.MergeScanOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_subscribeToResult=require("../util/subscribeToResult"),_OuterSubscriber=require("../OuterSubscriber"),_InnerSubscriber=require("../InnerSubscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var MergeScanOperator=function(){function MergeScanOperator(accumulator,seed,concurrent){this.accumulator=accumulator,this.seed=seed,this.concurrent=concurrent}return MergeScanOperator.prototype.call=function(subscriber,source){return source.subscribe(new MergeScanSubscriber(subscriber,this.accumulator,this.seed,this.concurrent))},MergeScanOperator}();exports.MergeScanOperator=MergeScanOperator;var MergeScanSubscriber=function(_super){function MergeScanSubscriber(destination,accumulator,acc,concurrent){var _this=_super.call(this,destination)||this;return _this.accumulator=accumulator,_this.acc=acc,_this.concurrent=concurrent,_this.hasValue=!1,_this.hasCompleted=!1,_this.buffer=[],_this.active=0,_this.index=0,_this}return tslib_1.__extends(MergeScanSubscriber,_super),MergeScanSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var index=this.index++,destination=this.destination,ish=void 0;try{ish=(0,this.accumulator)(this.acc,value,index)}catch(e){return destination.error(e)}this.active++,this._innerSub(ish,value,index)}else this.buffer.push(value)},MergeScanSubscriber.prototype._innerSub=function(ish,value,index){var innerSubscriber=new _InnerSubscriber.InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),(0,_subscribeToResult.subscribeToResult)(this,ish,value,index,innerSubscriber)},MergeScanSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},MergeScanSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var destination=this.destination;this.acc=innerValue,this.hasValue=!0,destination.next(innerValue)},MergeScanSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.destination.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},MergeScanSubscriber}(_OuterSubscriber.OuterSubscriber);exports.MergeScanSubscriber=MergeScanSubscriber},{tslib:"vCxL","../util/subscribeToResult":"JM7e","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR"}],bAWd:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.min=function(comparer){var min="function"==typeof comparer?function(x,y){return comparer(x,y)<0?x:y}:function(x,y){return x<y?x:y};return(0,_reduce.reduce)(min)};var _reduce=require("./reduce")},{"./reduce":"BORG"}],M6Em:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multicast=function(subjectOrSubjectFactory,selector){return function(source){var subjectFactory;if(subjectFactory="function"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory},"function"==typeof selector)return source.lift(new MulticastOperator(subjectFactory,selector));var connectable=Object.create(source,_ConnectableObservable.connectableObservableDescriptor);return connectable.source=source,connectable.subjectFactory=subjectFactory,connectable}},exports.MulticastOperator=void 0;var _ConnectableObservable=require("../observable/ConnectableObservable");var MulticastOperator=function(){function MulticastOperator(subjectFactory,selector){this.subjectFactory=subjectFactory,this.selector=selector}return MulticastOperator.prototype.call=function(subscriber,source){var selector=this.selector,subject=this.subjectFactory(),subscription=selector(subject).subscribe(subscriber);return subscription.add(source.subscribe(subject)),subscription},MulticastOperator}();exports.MulticastOperator=MulticastOperator},{"../observable/ConnectableObservable":"kkfD"}],S4UH:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onErrorResumeNext=function(){for(var nextSources=[],_i=0;_i<arguments.length;_i++)nextSources[_i]=arguments[_i];1===nextSources.length&&(0,_isArray.isArray)(nextSources[0])&&(nextSources=nextSources[0]);return function(source){return source.lift(new OnErrorResumeNextOperator(nextSources))}},exports.onErrorResumeNextStatic=function(){for(var nextSources=[],_i=0;_i<arguments.length;_i++)nextSources[_i]=arguments[_i];var source=null;1===nextSources.length&&(0,_isArray.isArray)(nextSources[0])&&(nextSources=nextSources[0]);return source=nextSources.shift(),(0,_from.from)(source,null).lift(new OnErrorResumeNextOperator(nextSources))};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_from=require("../observable/from"),_isArray=require("../util/isArray"),_OuterSubscriber=require("../OuterSubscriber"),_InnerSubscriber=require("../InnerSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var OnErrorResumeNextOperator=function(){function OnErrorResumeNextOperator(nextSources){this.nextSources=nextSources}return OnErrorResumeNextOperator.prototype.call=function(subscriber,source){return source.subscribe(new OnErrorResumeNextSubscriber(subscriber,this.nextSources))},OnErrorResumeNextOperator}(),OnErrorResumeNextSubscriber=function(_super){function OnErrorResumeNextSubscriber(destination,nextSources){var _this=_super.call(this,destination)||this;return _this.destination=destination,_this.nextSources=nextSources,_this}return tslib_1.__extends(OnErrorResumeNextSubscriber,_super),OnErrorResumeNextSubscriber.prototype.notifyError=function(error,innerSub){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype.notifyComplete=function(innerSub){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype._error=function(err){this.subscribeToNextSource(),this.unsubscribe()},OnErrorResumeNextSubscriber.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},OnErrorResumeNextSubscriber.prototype.subscribeToNextSource=function(){var next=this.nextSources.shift();if(next){var innerSubscriber=new _InnerSubscriber.InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),(0,_subscribeToResult.subscribeToResult)(this,next,void 0,void 0,innerSubscriber)}else this.destination.complete()},OnErrorResumeNextSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../observable/from":"WXUl","../util/isArray":"KeTG","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e"}],u6OS:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pairwise=function(){return function(source){return source.lift(new PairwiseOperator)}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var PairwiseOperator=function(){function PairwiseOperator(){}return PairwiseOperator.prototype.call=function(subscriber,source){return source.subscribe(new PairwiseSubscriber(subscriber))},PairwiseOperator}(),PairwiseSubscriber=function(_super){function PairwiseSubscriber(destination){var _this=_super.call(this,destination)||this;return _this.hasPrev=!1,_this}return tslib_1.__extends(PairwiseSubscriber,_super),PairwiseSubscriber.prototype._next=function(value){var pair;this.hasPrev?pair=[this.prev,value]:this.hasPrev=!0,this.prev=value,pair&&this.destination.next(pair)},PairwiseSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],jvG2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partition=function(predicate,thisArg){return function(source){return[(0,_filter.filter)(predicate,thisArg)(source),(0,_filter.filter)((0,_not.not)(predicate,thisArg))(source)]}};var _not=require("../util/not"),_filter=require("./filter")},{"../util/not":"nij6","./filter":"HKzi"}],TdE4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pluck=function(){for(var properties=[],_i=0;_i<arguments.length;_i++)properties[_i]=arguments[_i];var length=properties.length;if(0===length)throw new Error("list of properties cannot be empty.");return function(source){return(0,_map.map)(function(props,length){return function(x){for(var currentProp=x,i=0;i<length;i++){var p=currentProp[props[i]];if(void 0===p)return;currentProp=p}return currentProp}}(properties,length))(source)}};var _map=require("./map")},{"./map":"dNh5"}],TQAB:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.publish=function(selector){return selector?(0,_multicast.multicast)(function(){return new _Subject.Subject},selector):(0,_multicast.multicast)(new _Subject.Subject)};var _Subject=require("../Subject"),_multicast=require("./multicast")},{"../Subject":"r9t1","./multicast":"M6Em"}],fUyM:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.publishBehavior=function(value){return function(source){return(0,_multicast.multicast)(new _BehaviorSubject.BehaviorSubject(value))(source)}};var _BehaviorSubject=require("../BehaviorSubject"),_multicast=require("./multicast")},{"../BehaviorSubject":"MPU6","./multicast":"M6Em"}],fQ7S:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.publishLast=function(){return function(source){return(0,_multicast.multicast)(new _AsyncSubject.AsyncSubject)(source)}};var _AsyncSubject=require("../AsyncSubject"),_multicast=require("./multicast")},{"../AsyncSubject":"Scvc","./multicast":"M6Em"}],aqWk:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.publishReplay=function(bufferSize,windowTime,selectorOrScheduler,scheduler){selectorOrScheduler&&"function"!=typeof selectorOrScheduler&&(scheduler=selectorOrScheduler);var selector="function"==typeof selectorOrScheduler?selectorOrScheduler:void 0,subject=new _ReplaySubject.ReplaySubject(bufferSize,windowTime,scheduler);return function(source){return(0,_multicast.multicast)(function(){return subject},selector)(source)}};var _ReplaySubject=require("../ReplaySubject"),_multicast=require("./multicast")},{"../ReplaySubject":"Cp6P","./multicast":"M6Em"}],EAaA:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.race=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];return function(source){return 1===observables.length&&(0,_isArray.isArray)(observables[0])&&(observables=observables[0]),source.lift.call(_race.race.apply(void 0,[source].concat(observables)))}};var _isArray=require("../util/isArray"),_race=require("../observable/race")},{"../util/isArray":"KeTG","../observable/race":"bwYX"}],Fbxf:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=function(count){void 0===count&&(count=-1);return function(source){return 0===count?(0,_empty.empty)():count<0?source.lift(new RepeatOperator(-1,source)):source.lift(new RepeatOperator(count-1,source))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_empty=require("../observable/empty");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var RepeatOperator=function(){function RepeatOperator(count,source){this.count=count,this.source=source}return RepeatOperator.prototype.call=function(subscriber,source){return source.subscribe(new RepeatSubscriber(subscriber,this.count,this.source))},RepeatOperator}(),RepeatSubscriber=function(_super){function RepeatSubscriber(destination,count,source){var _this=_super.call(this,destination)||this;return _this.count=count,_this.source=source,_this}return tslib_1.__extends(RepeatSubscriber,_super),RepeatSubscriber.prototype.complete=function(){if(!this.isStopped){var source=this.source,count=this.count;if(0===count)return _super.prototype.complete.call(this);count>-1&&(this.count=count-1),source.subscribe(this._unsubscribeAndRecycle())}},RepeatSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../observable/empty":"XsKQ"}],CT9q:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeatWhen=function(notifier){return function(source){return source.lift(new RepeatWhenOperator(notifier))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("../Subject"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var RepeatWhenOperator=function(){function RepeatWhenOperator(notifier){this.notifier=notifier}return RepeatWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new RepeatWhenSubscriber(subscriber,this.notifier,source))},RepeatWhenOperator}(),RepeatWhenSubscriber=function(_super){function RepeatWhenSubscriber(destination,notifier,source){var _this=_super.call(this,destination)||this;return _this.notifier=notifier,_this.source=source,_this.sourceIsBeingSubscribedTo=!0,_this}return tslib_1.__extends(RepeatWhenSubscriber,_super),RepeatWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},RepeatWhenSubscriber.prototype.notifyComplete=function(innerSub){if(!1===this.sourceIsBeingSubscribedTo)return _super.prototype.complete.call(this)},RepeatWhenSubscriber.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return _super.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},RepeatWhenSubscriber.prototype._unsubscribe=function(){var notifications=this.notifications,retriesSubscription=this.retriesSubscription;notifications&&(notifications.unsubscribe(),this.notifications=null),retriesSubscription&&(retriesSubscription.unsubscribe(),this.retriesSubscription=null),this.retries=null},RepeatWhenSubscriber.prototype._unsubscribeAndRecycle=function(){var _unsubscribe=this._unsubscribe;return this._unsubscribe=null,_super.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=_unsubscribe,this},RepeatWhenSubscriber.prototype.subscribeToRetries=function(){var retries;this.notifications=new _Subject.Subject;try{retries=(0,this.notifier)(this.notifications)}catch(e){return _super.prototype.complete.call(this)}this.retries=retries,this.retriesSubscription=(0,_subscribeToResult.subscribeToResult)(this,retries)},RepeatWhenSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],ZHEI:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.retry=function(count){void 0===count&&(count=-1);return function(source){return source.lift(new RetryOperator(count,source))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var RetryOperator=function(){function RetryOperator(count,source){this.count=count,this.source=source}return RetryOperator.prototype.call=function(subscriber,source){return source.subscribe(new RetrySubscriber(subscriber,this.count,this.source))},RetryOperator}(),RetrySubscriber=function(_super){function RetrySubscriber(destination,count,source){var _this=_super.call(this,destination)||this;return _this.count=count,_this.source=source,_this}return tslib_1.__extends(RetrySubscriber,_super),RetrySubscriber.prototype.error=function(err){if(!this.isStopped){var source=this.source,count=this.count;if(0===count)return _super.prototype.error.call(this,err);count>-1&&(this.count=count-1),source.subscribe(this._unsubscribeAndRecycle())}},RetrySubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],GHe2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.retryWhen=function(notifier){return function(source){return source.lift(new RetryWhenOperator(notifier,source))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("../Subject"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var RetryWhenOperator=function(){function RetryWhenOperator(notifier,source){this.notifier=notifier,this.source=source}return RetryWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new RetryWhenSubscriber(subscriber,this.notifier,this.source))},RetryWhenOperator}(),RetryWhenSubscriber=function(_super){function RetryWhenSubscriber(destination,notifier,source){var _this=_super.call(this,destination)||this;return _this.notifier=notifier,_this.source=source,_this}return tslib_1.__extends(RetryWhenSubscriber,_super),RetryWhenSubscriber.prototype.error=function(err){if(!this.isStopped){var errors=this.errors,retries=this.retries,retriesSubscription=this.retriesSubscription;if(retries)this.errors=null,this.retriesSubscription=null;else{errors=new _Subject.Subject;try{retries=(0,this.notifier)(errors)}catch(e){return _super.prototype.error.call(this,e)}retriesSubscription=(0,_subscribeToResult.subscribeToResult)(this,retries)}this._unsubscribeAndRecycle(),this.errors=errors,this.retries=retries,this.retriesSubscription=retriesSubscription,errors.next(err)}},RetryWhenSubscriber.prototype._unsubscribe=function(){var errors=this.errors,retriesSubscription=this.retriesSubscription;errors&&(errors.unsubscribe(),this.errors=null),retriesSubscription&&(retriesSubscription.unsubscribe(),this.retriesSubscription=null),this.retries=null},RetryWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _unsubscribe=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=_unsubscribe,this.source.subscribe(this)},RetryWhenSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],Rd9o:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sample=function(notifier){return function(source){return source.lift(new SampleOperator(notifier))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SampleOperator=function(){function SampleOperator(notifier){this.notifier=notifier}return SampleOperator.prototype.call=function(subscriber,source){var sampleSubscriber=new SampleSubscriber(subscriber),subscription=source.subscribe(sampleSubscriber);return subscription.add((0,_subscribeToResult.subscribeToResult)(sampleSubscriber,this.notifier)),subscription},SampleOperator}(),SampleSubscriber=function(_super){function SampleSubscriber(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.hasValue=!1,_this}return tslib_1.__extends(SampleSubscriber,_super),SampleSubscriber.prototype._next=function(value){this.value=value,this.hasValue=!0},SampleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue()},SampleSubscriber.prototype.notifyComplete=function(){this.emitValue()},SampleSubscriber.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},SampleSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],nb45:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sampleTime=function(period,scheduler){void 0===scheduler&&(scheduler=_async.async);return function(source){return source.lift(new SampleTimeOperator(period,scheduler))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_async=require("../scheduler/async");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SampleTimeOperator=function(){function SampleTimeOperator(period,scheduler){this.period=period,this.scheduler=scheduler}return SampleTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new SampleTimeSubscriber(subscriber,this.period,this.scheduler))},SampleTimeOperator}(),SampleTimeSubscriber=function(_super){function SampleTimeSubscriber(destination,period,scheduler){var _this=_super.call(this,destination)||this;return _this.period=period,_this.scheduler=scheduler,_this.hasValue=!1,_this.add(scheduler.schedule(dispatchNotification,period,{subscriber:_this,period:period})),_this}return tslib_1.__extends(SampleTimeSubscriber,_super),SampleTimeSubscriber.prototype._next=function(value){this.lastValue=value,this.hasValue=!0},SampleTimeSubscriber.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},SampleTimeSubscriber}(_Subscriber.Subscriber);function dispatchNotification(state){var subscriber=state.subscriber,period=state.period;subscriber.notifyNext(),this.schedule(state,period)}},{tslib:"vCxL","../Subscriber":"RaFB","../scheduler/async":"jun6"}],PMGC:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sequenceEqual=function(compareTo,comparator){return function(source){return source.lift(new SequenceEqualOperator(compareTo,comparator))}},exports.SequenceEqualSubscriber=exports.SequenceEqualOperator=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SequenceEqualOperator=function(){function SequenceEqualOperator(compareTo,comparator){this.compareTo=compareTo,this.comparator=comparator}return SequenceEqualOperator.prototype.call=function(subscriber,source){return source.subscribe(new SequenceEqualSubscriber(subscriber,this.compareTo,this.comparator))},SequenceEqualOperator}();exports.SequenceEqualOperator=SequenceEqualOperator;var SequenceEqualSubscriber=function(_super){function SequenceEqualSubscriber(destination,compareTo,comparator){var _this=_super.call(this,destination)||this;return _this.compareTo=compareTo,_this.comparator=comparator,_this._a=[],_this._b=[],_this._oneComplete=!1,_this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination,_this))),_this}return tslib_1.__extends(SequenceEqualSubscriber,_super),SequenceEqualSubscriber.prototype._next=function(value){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(value),this.checkValues())},SequenceEqualSubscriber.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},SequenceEqualSubscriber.prototype.checkValues=function(){for(var _a=this._a,_b=this._b,comparator=this.comparator;_a.length>0&&_b.length>0;){var a=_a.shift(),b=_b.shift(),areEqual=!1;try{areEqual=comparator?comparator(a,b):a===b}catch(e){this.destination.error(e)}areEqual||this.emit(!1)}},SequenceEqualSubscriber.prototype.emit=function(value){var destination=this.destination;destination.next(value),destination.complete()},SequenceEqualSubscriber.prototype.nextB=function(value){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(value),this.checkValues())},SequenceEqualSubscriber.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},SequenceEqualSubscriber}(_Subscriber.Subscriber);exports.SequenceEqualSubscriber=SequenceEqualSubscriber;var SequenceEqualCompareToSubscriber=function(_super){function SequenceEqualCompareToSubscriber(destination,parent){var _this=_super.call(this,destination)||this;return _this.parent=parent,_this}return tslib_1.__extends(SequenceEqualCompareToSubscriber,_super),SequenceEqualCompareToSubscriber.prototype._next=function(value){this.parent.nextB(value)},SequenceEqualCompareToSubscriber.prototype._error=function(err){this.parent.error(err),this.unsubscribe()},SequenceEqualCompareToSubscriber.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},SequenceEqualCompareToSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],KBGh:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.share=function(){return function(source){return(0,_refCount.refCount)()((0,_multicast.multicast)(shareSubjectFactory)(source))}};var _multicast=require("./multicast"),_refCount=require("./refCount"),_Subject=require("../Subject");function shareSubjectFactory(){return new _Subject.Subject}},{"./multicast":"M6Em","./refCount":"vT9o","../Subject":"r9t1"}],xsrM:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shareReplay=function(configOrBufferSize,windowTime,scheduler){var config;config=configOrBufferSize&&"object"==typeof configOrBufferSize?configOrBufferSize:{bufferSize:configOrBufferSize,windowTime:windowTime,refCount:!1,scheduler:scheduler};return function(source){return source.lift((_b=(_a=config).bufferSize,bufferSize=void 0===_b?Number.POSITIVE_INFINITY:_b,_c=_a.windowTime,windowTime=void 0===_c?Number.POSITIVE_INFINITY:_c,useRefCount=_a.refCount,scheduler=_a.scheduler,refCount=0,hasError=!1,isComplete=!1,function(source){refCount++,subject&&!hasError||(hasError=!1,subject=new _ReplaySubject.ReplaySubject(bufferSize,windowTime,scheduler),subscription=source.subscribe({next:function(value){subject.next(value)},error:function(err){hasError=!0,subject.error(err)},complete:function(){isComplete=!0,subject.complete()}}));var innerSub=subject.subscribe(this);this.add(function(){refCount--,innerSub.unsubscribe(),subscription&&!isComplete&&useRefCount&&0===refCount&&(subscription.unsubscribe(),subscription=void 0,subject=void 0)})}));var _a,subject,subscription,_b,bufferSize,_c,windowTime,useRefCount,scheduler,refCount,hasError,isComplete}};var _ReplaySubject=require("../ReplaySubject")},{"../ReplaySubject":"Cp6P"}],angX:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.single=function(predicate){return function(source){return source.lift(new SingleOperator(predicate,source))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_EmptyError=require("../util/EmptyError");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SingleOperator=function(){function SingleOperator(predicate,source){this.predicate=predicate,this.source=source}return SingleOperator.prototype.call=function(subscriber,source){return source.subscribe(new SingleSubscriber(subscriber,this.predicate,this.source))},SingleOperator}(),SingleSubscriber=function(_super){function SingleSubscriber(destination,predicate,source){var _this=_super.call(this,destination)||this;return _this.predicate=predicate,_this.source=source,_this.seenValue=!1,_this.index=0,_this}return tslib_1.__extends(SingleSubscriber,_super),SingleSubscriber.prototype.applySingleValue=function(value){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=value)},SingleSubscriber.prototype._next=function(value){var index=this.index++;this.predicate?this.tryNext(value,index):this.applySingleValue(value)},SingleSubscriber.prototype.tryNext=function(value,index){try{this.predicate(value,index,this.source)&&this.applySingleValue(value)}catch(err){this.destination.error(err)}},SingleSubscriber.prototype._complete=function(){var destination=this.destination;this.index>0?(destination.next(this.seenValue?this.singleValue:void 0),destination.complete()):destination.error(new _EmptyError.EmptyError)},SingleSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/EmptyError":"vsl0"}],vMIz:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skip=function(count){return function(source){return source.lift(new SkipOperator(count))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SkipOperator=function(){function SkipOperator(total){this.total=total}return SkipOperator.prototype.call=function(subscriber,source){return source.subscribe(new SkipSubscriber(subscriber,this.total))},SkipOperator}(),SkipSubscriber=function(_super){function SkipSubscriber(destination,total){var _this=_super.call(this,destination)||this;return _this.total=total,_this.count=0,_this}return tslib_1.__extends(SkipSubscriber,_super),SkipSubscriber.prototype._next=function(x){++this.count>this.total&&this.destination.next(x)},SkipSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],iB53:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skipLast=function(count){return function(source){return source.lift(new SkipLastOperator(count))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_ArgumentOutOfRangeError=require("../util/ArgumentOutOfRangeError");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SkipLastOperator=function(){function SkipLastOperator(_skipCount){if(this._skipCount=_skipCount,this._skipCount<0)throw new _ArgumentOutOfRangeError.ArgumentOutOfRangeError}return SkipLastOperator.prototype.call=function(subscriber,source){return 0===this._skipCount?source.subscribe(new _Subscriber.Subscriber(subscriber)):source.subscribe(new SkipLastSubscriber(subscriber,this._skipCount))},SkipLastOperator}(),SkipLastSubscriber=function(_super){function SkipLastSubscriber(destination,_skipCount){var _this=_super.call(this,destination)||this;return _this._skipCount=_skipCount,_this._count=0,_this._ring=new Array(_skipCount),_this}return tslib_1.__extends(SkipLastSubscriber,_super),SkipLastSubscriber.prototype._next=function(value){var skipCount=this._skipCount,count=this._count++;if(count<skipCount)this._ring[count]=value;else{var currentIndex=count%skipCount,ring=this._ring,oldValue=ring[currentIndex];ring[currentIndex]=value,this.destination.next(oldValue)}},SkipLastSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/ArgumentOutOfRangeError":"Qh4I"}],xmsT:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skipUntil=function(notifier){return function(source){return source.lift(new SkipUntilOperator(notifier))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_InnerSubscriber=require("../InnerSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SkipUntilOperator=function(){function SkipUntilOperator(notifier){this.notifier=notifier}return SkipUntilOperator.prototype.call=function(destination,source){return source.subscribe(new SkipUntilSubscriber(destination,this.notifier))},SkipUntilOperator}(),SkipUntilSubscriber=function(_super){function SkipUntilSubscriber(destination,notifier){var _this=_super.call(this,destination)||this;_this.hasValue=!1;var innerSubscriber=new _InnerSubscriber.InnerSubscriber(_this,void 0,void 0);return _this.add(innerSubscriber),_this.innerSubscription=innerSubscriber,(0,_subscribeToResult.subscribeToResult)(_this,notifier,void 0,void 0,innerSubscriber),_this}return tslib_1.__extends(SkipUntilSubscriber,_super),SkipUntilSubscriber.prototype._next=function(value){this.hasValue&&_super.prototype._next.call(this,value)},SkipUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},SkipUntilSubscriber.prototype.notifyComplete=function(){},SkipUntilSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e"}],qjDA:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skipWhile=function(predicate){return function(source){return source.lift(new SkipWhileOperator(predicate))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SkipWhileOperator=function(){function SkipWhileOperator(predicate){this.predicate=predicate}return SkipWhileOperator.prototype.call=function(subscriber,source){return source.subscribe(new SkipWhileSubscriber(subscriber,this.predicate))},SkipWhileOperator}(),SkipWhileSubscriber=function(_super){function SkipWhileSubscriber(destination,predicate){var _this=_super.call(this,destination)||this;return _this.predicate=predicate,_this.skipping=!0,_this.index=0,_this}return tslib_1.__extends(SkipWhileSubscriber,_super),SkipWhileSubscriber.prototype._next=function(value){var destination=this.destination;this.skipping&&this.tryCallPredicate(value),this.skipping||destination.next(value)},SkipWhileSubscriber.prototype.tryCallPredicate=function(value){try{var result=this.predicate(value,this.index++);this.skipping=Boolean(result)}catch(err){this.destination.error(err)}},SkipWhileSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],doo6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startWith=function(){for(var array=[],_i=0;_i<arguments.length;_i++)array[_i]=arguments[_i];var scheduler=array[array.length-1];return(0,_isScheduler.isScheduler)(scheduler)?(array.pop(),function(source){return(0,_concat.concat)(array,source,scheduler)}):function(source){return(0,_concat.concat)(array,source)}};var _concat=require("../observable/concat"),_isScheduler=require("../util/isScheduler")},{"../observable/concat":"CsdO","../util/isScheduler":"VqoH"}],r9wA:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubscribeOnObservable=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Observable=require("../Observable"),_asap=require("../scheduler/asap"),_isNumeric=require("../util/isNumeric");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SubscribeOnObservable=function(_super){function SubscribeOnObservable(source,delayTime,scheduler){void 0===delayTime&&(delayTime=0),void 0===scheduler&&(scheduler=_asap.asap);var _this=_super.call(this)||this;return _this.source=source,_this.delayTime=delayTime,_this.scheduler=scheduler,(!(0,_isNumeric.isNumeric)(delayTime)||delayTime<0)&&(_this.delayTime=0),scheduler&&"function"==typeof scheduler.schedule||(_this.scheduler=_asap.asap),_this}return tslib_1.__extends(SubscribeOnObservable,_super),SubscribeOnObservable.create=function(source,delay,scheduler){return void 0===delay&&(delay=0),void 0===scheduler&&(scheduler=_asap.asap),new SubscribeOnObservable(source,delay,scheduler)},SubscribeOnObservable.dispatch=function(arg){var source=arg.source,subscriber=arg.subscriber;return this.add(source.subscribe(subscriber))},SubscribeOnObservable.prototype._subscribe=function(subscriber){var delay=this.delayTime,source=this.source;return this.scheduler.schedule(SubscribeOnObservable.dispatch,delay,{source:source,subscriber:subscriber})},SubscribeOnObservable}(_Observable.Observable);exports.SubscribeOnObservable=SubscribeOnObservable},{tslib:"vCxL","../Observable":"wbSE","../scheduler/asap":"ZqYc","../util/isNumeric":"wBpm"}],Et1l:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeOn=function(scheduler,delay){void 0===delay&&(delay=0);return function(source){return source.lift(new SubscribeOnOperator(scheduler,delay))}};var _SubscribeOnObservable=require("../observable/SubscribeOnObservable");var SubscribeOnOperator=function(){function SubscribeOnOperator(scheduler,delay){this.scheduler=scheduler,this.delay=delay}return SubscribeOnOperator.prototype.call=function(subscriber,source){return new _SubscribeOnObservable.SubscribeOnObservable(source,this.delay,this.scheduler).subscribe(subscriber)},SubscribeOnOperator}()},{"../observable/SubscribeOnObservable":"r9wA"}],g5Rk:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.switchMap=function switchMap(project,resultSelector){if("function"==typeof resultSelector)return function(source){return source.pipe(switchMap(function(a,i){return(0,_from.from)(project(a,i)).pipe((0,_map.map)(function(b,ii){return resultSelector(a,b,i,ii)}))}))};return function(source){return source.lift(new SwitchMapOperator(project))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_InnerSubscriber=require("../InnerSubscriber"),_subscribeToResult=require("../util/subscribeToResult"),_map=require("./map"),_from=require("../observable/from");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SwitchMapOperator=function(){function SwitchMapOperator(project){this.project=project}return SwitchMapOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchMapSubscriber(subscriber,this.project))},SwitchMapOperator}(),SwitchMapSubscriber=function(_super){function SwitchMapSubscriber(destination,project){var _this=_super.call(this,destination)||this;return _this.project=project,_this.index=0,_this}return tslib_1.__extends(SwitchMapSubscriber,_super),SwitchMapSubscriber.prototype._next=function(value){var result,index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)},SwitchMapSubscriber.prototype._innerSub=function(result,value,index){var innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe();var innerSubscriber=new _InnerSubscriber.InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),this.innerSubscription=(0,_subscribeToResult.subscribeToResult)(this,result,value,index,innerSubscriber)},SwitchMapSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;innerSubscription&&!innerSubscription.closed||_super.prototype._complete.call(this),this.unsubscribe()},SwitchMapSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapSubscriber.prototype.notifyComplete=function(innerSub){this.destination.remove(innerSub),this.innerSubscription=null,this.isStopped&&_super.prototype._complete.call(this)},SwitchMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)},SwitchMapSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e","./map":"dNh5","../observable/from":"WXUl"}],CBg8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.switchAll=function(){return(0,_switchMap.switchMap)(_identity.identity)};var _switchMap=require("./switchMap"),_identity=require("../util/identity")},{"./switchMap":"g5Rk","../util/identity":"LXph"}],Hs9S:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.switchMapTo=function(innerObservable,resultSelector){return resultSelector?(0,_switchMap.switchMap)(function(){return innerObservable},resultSelector):(0,_switchMap.switchMap)(function(){return innerObservable})};var _switchMap=require("./switchMap")},{"./switchMap":"g5Rk"}],qGSv:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeUntil=function(notifier){return function(source){return source.lift(new TakeUntilOperator(notifier))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var TakeUntilOperator=function(){function TakeUntilOperator(notifier){this.notifier=notifier}return TakeUntilOperator.prototype.call=function(subscriber,source){var takeUntilSubscriber=new TakeUntilSubscriber(subscriber),notifierSubscription=(0,_subscribeToResult.subscribeToResult)(takeUntilSubscriber,this.notifier);return notifierSubscription&&!takeUntilSubscriber.seenValue?(takeUntilSubscriber.add(notifierSubscription),source.subscribe(takeUntilSubscriber)):takeUntilSubscriber},TakeUntilOperator}(),TakeUntilSubscriber=function(_super){function TakeUntilSubscriber(destination){var _this=_super.call(this,destination)||this;return _this.seenValue=!1,_this}return tslib_1.__extends(TakeUntilSubscriber,_super),TakeUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.seenValue=!0,this.complete()},TakeUntilSubscriber.prototype.notifyComplete=function(){},TakeUntilSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],EYJX:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeWhile=function(predicate,inclusive){void 0===inclusive&&(inclusive=!1);return function(source){return source.lift(new TakeWhileOperator(predicate,inclusive))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var TakeWhileOperator=function(){function TakeWhileOperator(predicate,inclusive){this.predicate=predicate,this.inclusive=inclusive}return TakeWhileOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeWhileSubscriber(subscriber,this.predicate,this.inclusive))},TakeWhileOperator}(),TakeWhileSubscriber=function(_super){function TakeWhileSubscriber(destination,predicate,inclusive){var _this=_super.call(this,destination)||this;return _this.predicate=predicate,_this.inclusive=inclusive,_this.index=0,_this}return tslib_1.__extends(TakeWhileSubscriber,_super),TakeWhileSubscriber.prototype._next=function(value){var result,destination=this.destination;try{result=this.predicate(value,this.index++)}catch(err){return void destination.error(err)}this.nextOrComplete(value,result)},TakeWhileSubscriber.prototype.nextOrComplete=function(value,predicateResult){var destination=this.destination;Boolean(predicateResult)?destination.next(value):(this.inclusive&&destination.next(value),destination.complete())},TakeWhileSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],okAI:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tap=function(nextOrObserver,error,complete){return function(source){return source.lift(new DoOperator(nextOrObserver,error,complete))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_noop=require("../util/noop"),_isFunction=require("../util/isFunction");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DoOperator=function(){function DoOperator(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}return DoOperator.prototype.call=function(subscriber,source){return source.subscribe(new TapSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))},DoOperator}(),TapSubscriber=function(_super){function TapSubscriber(destination,observerOrNext,error,complete){var _this=_super.call(this,destination)||this;return _this._tapNext=_noop.noop,_this._tapError=_noop.noop,_this._tapComplete=_noop.noop,_this._tapError=error||_noop.noop,_this._tapComplete=complete||_noop.noop,(0,_isFunction.isFunction)(observerOrNext)?(_this._context=_this,_this._tapNext=observerOrNext):observerOrNext&&(_this._context=observerOrNext,_this._tapNext=observerOrNext.next||_noop.noop,_this._tapError=observerOrNext.error||_noop.noop,_this._tapComplete=observerOrNext.complete||_noop.noop),_this}return tslib_1.__extends(TapSubscriber,_super),TapSubscriber.prototype._next=function(value){try{this._tapNext.call(this._context,value)}catch(err){return void this.destination.error(err)}this.destination.next(value)},TapSubscriber.prototype._error=function(err){try{this._tapError.call(this._context,err)}catch(err){return void this.destination.error(err)}this.destination.error(err)},TapSubscriber.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(err){return void this.destination.error(err)}return this.destination.complete()},TapSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/noop":"rXfM","../util/isFunction":"Qnsq"}],Yoo8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttle=function(durationSelector,config){void 0===config&&(config=defaultThrottleConfig);return function(source){return source.lift(new ThrottleOperator(durationSelector,config.leading,config.trailing))}},exports.defaultThrottleConfig=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var defaultThrottleConfig={leading:!0,trailing:!1};exports.defaultThrottleConfig=defaultThrottleConfig;var ThrottleOperator=function(){function ThrottleOperator(durationSelector,leading,trailing){this.durationSelector=durationSelector,this.leading=leading,this.trailing=trailing}return ThrottleOperator.prototype.call=function(subscriber,source){return source.subscribe(new ThrottleSubscriber(subscriber,this.durationSelector,this.leading,this.trailing))},ThrottleOperator}(),ThrottleSubscriber=function(_super){function ThrottleSubscriber(destination,durationSelector,_leading,_trailing){var _this=_super.call(this,destination)||this;return _this.destination=destination,_this.durationSelector=durationSelector,_this._leading=_leading,_this._trailing=_trailing,_this._hasValue=!1,_this}return tslib_1.__extends(ThrottleSubscriber,_super),ThrottleSubscriber.prototype._next=function(value){this._hasValue=!0,this._sendValue=value,this._throttled||(this._leading?this.send():this.throttle(value))},ThrottleSubscriber.prototype.send=function(){var _hasValue=this._hasValue,_sendValue=this._sendValue;_hasValue&&(this.destination.next(_sendValue),this.throttle(_sendValue)),this._hasValue=!1,this._sendValue=null},ThrottleSubscriber.prototype.throttle=function(value){var duration=this.tryDurationSelector(value);duration&&this.add(this._throttled=(0,_subscribeToResult.subscribeToResult)(this,duration))},ThrottleSubscriber.prototype.tryDurationSelector=function(value){try{return this.durationSelector(value)}catch(err){return this.destination.error(err),null}},ThrottleSubscriber.prototype.throttlingDone=function(){var _throttled=this._throttled,_trailing=this._trailing;_throttled&&_throttled.unsubscribe(),this._throttled=null,_trailing&&this.send()},ThrottleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.throttlingDone()},ThrottleSubscriber.prototype.notifyComplete=function(){this.throttlingDone()},ThrottleSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],v3FQ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttleTime=function(duration,scheduler,config){void 0===scheduler&&(scheduler=_async.async);void 0===config&&(config=_throttle.defaultThrottleConfig);return function(source){return source.lift(new ThrottleTimeOperator(duration,scheduler,config.leading,config.trailing))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_async=require("../scheduler/async"),_throttle=require("./throttle");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ThrottleTimeOperator=function(){function ThrottleTimeOperator(duration,scheduler,leading,trailing){this.duration=duration,this.scheduler=scheduler,this.leading=leading,this.trailing=trailing}return ThrottleTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new ThrottleTimeSubscriber(subscriber,this.duration,this.scheduler,this.leading,this.trailing))},ThrottleTimeOperator}(),ThrottleTimeSubscriber=function(_super){function ThrottleTimeSubscriber(destination,duration,scheduler,leading,trailing){var _this=_super.call(this,destination)||this;return _this.duration=duration,_this.scheduler=scheduler,_this.leading=leading,_this.trailing=trailing,_this._hasTrailingValue=!1,_this._trailingValue=null,_this}return tslib_1.__extends(ThrottleTimeSubscriber,_super),ThrottleTimeSubscriber.prototype._next=function(value){this.throttled?this.trailing&&(this._trailingValue=value,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(value):this.trailing&&(this._trailingValue=value,this._hasTrailingValue=!0))},ThrottleTimeSubscriber.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},ThrottleTimeSubscriber.prototype.clearThrottle=function(){var throttled=this.throttled;throttled&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),throttled.unsubscribe(),this.remove(throttled),this.throttled=null)},ThrottleTimeSubscriber}(_Subscriber.Subscriber);function dispatchNext(arg){arg.subscriber.clearThrottle()}},{tslib:"vCxL","../Subscriber":"RaFB","../scheduler/async":"jun6","./throttle":"Yoo8"}],n6SK:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timeInterval=function(scheduler){void 0===scheduler&&(scheduler=_async.async);return function(source){return(0,_defer.defer)(function(){return source.pipe((0,_scan.scan)(function(_a,value){var current=_a.current;return{value:value,current:scheduler.now(),last:current}},{current:scheduler.now(),value:void 0,last:void 0}),(0,_map.map)(function(_a){var current=_a.current,last=_a.last,value=_a.value;return new TimeInterval(value,current-last)}))})}},exports.TimeInterval=void 0;var _async=require("../scheduler/async"),_scan=require("./scan"),_defer=require("../observable/defer"),_map=require("./map");var TimeInterval=function(){return function(value,interval){this.value=value,this.interval=interval}}();exports.TimeInterval=TimeInterval},{"../scheduler/async":"jun6","./scan":"U785","../observable/defer":"w9G6","./map":"dNh5"}],L72b:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timeoutWith=function(due,withObservable,scheduler){void 0===scheduler&&(scheduler=_async.async);return function(source){var absoluteTimeout=(0,_isDate.isDate)(due),waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);return source.lift(new TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_async=require("../scheduler/async"),_isDate=require("../util/isDate"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var TimeoutWithOperator=function(){function TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler){this.waitFor=waitFor,this.absoluteTimeout=absoluteTimeout,this.withObservable=withObservable,this.scheduler=scheduler}return TimeoutWithOperator.prototype.call=function(subscriber,source){return source.subscribe(new TimeoutWithSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},TimeoutWithOperator}(),TimeoutWithSubscriber=function(_super){function TimeoutWithSubscriber(destination,absoluteTimeout,waitFor,withObservable,scheduler){var _this=_super.call(this,destination)||this;return _this.absoluteTimeout=absoluteTimeout,_this.waitFor=waitFor,_this.withObservable=withObservable,_this.scheduler=scheduler,_this.action=null,_this.scheduleTimeout(),_this}return tslib_1.__extends(TimeoutWithSubscriber,_super),TimeoutWithSubscriber.dispatchTimeout=function(subscriber){var withObservable=subscriber.withObservable;subscriber._unsubscribeAndRecycle(),subscriber.add((0,_subscribeToResult.subscribeToResult)(subscriber,withObservable))},TimeoutWithSubscriber.prototype.scheduleTimeout=function(){var action=this.action;action?this.action=action.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout,this.waitFor,this))},TimeoutWithSubscriber.prototype._next=function(value){this.absoluteTimeout||this.scheduleTimeout(),_super.prototype._next.call(this,value)},TimeoutWithSubscriber.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},TimeoutWithSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../scheduler/async":"jun6","../util/isDate":"rxSS","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],Cp8V:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timeout=function(due,scheduler){void 0===scheduler&&(scheduler=_async.async);return(0,_timeoutWith.timeoutWith)(due,(0,_throwError.throwError)(new _TimeoutError.TimeoutError),scheduler)};var _async=require("../scheduler/async"),_TimeoutError=require("../util/TimeoutError"),_timeoutWith=require("./timeoutWith"),_throwError=require("../observable/throwError")},{"../scheduler/async":"jun6","../util/TimeoutError":"SZK7","./timeoutWith":"L72b","../observable/throwError":"FdIu"}],pXuq:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timestamp=function(scheduler){void 0===scheduler&&(scheduler=_async.async);return(0,_map.map)(function(value){return new Timestamp(value,scheduler.now())})},exports.Timestamp=void 0;var _async=require("../scheduler/async"),_map=require("./map");var Timestamp=function(){return function(value,timestamp){this.value=value,this.timestamp=timestamp}}();exports.Timestamp=Timestamp},{"../scheduler/async":"jun6","./map":"dNh5"}],LA40:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toArray=function(){return(0,_reduce.reduce)(toArrayReducer,[])};var _reduce=require("./reduce");function toArrayReducer(arr,item,index){return 0===index?[item]:(arr.push(item),arr)}},{"./reduce":"BORG"}],Iygx:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.window=function(windowBoundaries){return function(source){return source.lift(new WindowOperator(windowBoundaries))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("../Subject"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var WindowOperator=function(){function WindowOperator(windowBoundaries){this.windowBoundaries=windowBoundaries}return WindowOperator.prototype.call=function(subscriber,source){var windowSubscriber=new WindowSubscriber(subscriber),sourceSubscription=source.subscribe(windowSubscriber);return sourceSubscription.closed||windowSubscriber.add((0,_subscribeToResult.subscribeToResult)(windowSubscriber,this.windowBoundaries)),sourceSubscription},WindowOperator}(),WindowSubscriber=function(_super){function WindowSubscriber(destination){var _this=_super.call(this,destination)||this;return _this.window=new _Subject.Subject,destination.next(_this.window),_this}return tslib_1.__extends(WindowSubscriber,_super),WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow()},WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},WindowSubscriber.prototype.notifyComplete=function(innerSub){this._complete()},WindowSubscriber.prototype._next=function(value){this.window.next(value)},WindowSubscriber.prototype._error=function(err){this.window.error(err),this.destination.error(err)},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete()},WindowSubscriber.prototype._unsubscribe=function(){this.window=null},WindowSubscriber.prototype.openWindow=function(){var prevWindow=this.window;prevWindow&&prevWindow.complete();var destination=this.destination,newWindow=this.window=new _Subject.Subject;destination.next(newWindow)},WindowSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],GYT2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowCount=function(windowSize,startWindowEvery){void 0===startWindowEvery&&(startWindowEvery=0);return function(source){return source.lift(new WindowCountOperator(windowSize,startWindowEvery))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subscriber=require("../Subscriber"),_Subject=require("../Subject");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var WindowCountOperator=function(){function WindowCountOperator(windowSize,startWindowEvery){this.windowSize=windowSize,this.startWindowEvery=startWindowEvery}return WindowCountOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowCountSubscriber(subscriber,this.windowSize,this.startWindowEvery))},WindowCountOperator}(),WindowCountSubscriber=function(_super){function WindowCountSubscriber(destination,windowSize,startWindowEvery){var _this=_super.call(this,destination)||this;return _this.destination=destination,_this.windowSize=windowSize,_this.startWindowEvery=startWindowEvery,_this.windows=[new _Subject.Subject],_this.count=0,destination.next(_this.windows[0]),_this}return tslib_1.__extends(WindowCountSubscriber,_super),WindowCountSubscriber.prototype._next=function(value){for(var startWindowEvery=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,destination=this.destination,windowSize=this.windowSize,windows=this.windows,len=windows.length,i=0;i<len&&!this.closed;i++)windows[i].next(value);var c=this.count-windowSize+1;if(c>=0&&c%startWindowEvery==0&&!this.closed&&windows.shift().complete(),++this.count%startWindowEvery==0&&!this.closed){var window_1=new _Subject.Subject;windows.push(window_1),destination.next(window_1)}},WindowCountSubscriber.prototype._error=function(err){var windows=this.windows;if(windows)for(;windows.length>0&&!this.closed;)windows.shift().error(err);this.destination.error(err)},WindowCountSubscriber.prototype._complete=function(){var windows=this.windows;if(windows)for(;windows.length>0&&!this.closed;)windows.shift().complete();this.destination.complete()},WindowCountSubscriber.prototype._unsubscribe=function(){this.count=0,this.windows=null},WindowCountSubscriber}(_Subscriber.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../Subject":"r9t1"}],Okss:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowTime=function(windowTimeSpan){var scheduler=_async.async,windowCreationInterval=null,maxWindowSize=Number.POSITIVE_INFINITY;(0,_isScheduler.isScheduler)(arguments[3])&&(scheduler=arguments[3]);(0,_isScheduler.isScheduler)(arguments[2])?scheduler=arguments[2]:(0,_isNumeric.isNumeric)(arguments[2])&&(maxWindowSize=arguments[2]);(0,_isScheduler.isScheduler)(arguments[1])?scheduler=arguments[1]:(0,_isNumeric.isNumeric)(arguments[1])&&(windowCreationInterval=arguments[1]);return function(source){return source.lift(new WindowTimeOperator(windowTimeSpan,windowCreationInterval,maxWindowSize,scheduler))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("../Subject"),_async=require("../scheduler/async"),_Subscriber=require("../Subscriber"),_isNumeric=require("../util/isNumeric"),_isScheduler=require("../util/isScheduler");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var WindowTimeOperator=function(){function WindowTimeOperator(windowTimeSpan,windowCreationInterval,maxWindowSize,scheduler){this.windowTimeSpan=windowTimeSpan,this.windowCreationInterval=windowCreationInterval,this.maxWindowSize=maxWindowSize,this.scheduler=scheduler}return WindowTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowTimeSubscriber(subscriber,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},WindowTimeOperator}(),CountedSubject=function(_super){function CountedSubject(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._numberOfNextedValues=0,_this}return tslib_1.__extends(CountedSubject,_super),CountedSubject.prototype.next=function(value){this._numberOfNextedValues++,_super.prototype.next.call(this,value)},Object.defineProperty(CountedSubject.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),CountedSubject}(_Subject.Subject),WindowTimeSubscriber=function(_super){function WindowTimeSubscriber(destination,windowTimeSpan,windowCreationInterval,maxWindowSize,scheduler){var _this=_super.call(this,destination)||this;_this.destination=destination,_this.windowTimeSpan=windowTimeSpan,_this.windowCreationInterval=windowCreationInterval,_this.maxWindowSize=maxWindowSize,_this.scheduler=scheduler,_this.windows=[];var window=_this.openWindow();if(null!==windowCreationInterval&&windowCreationInterval>=0){var closeState={subscriber:_this,window:window,context:null},creationState={windowTimeSpan:windowTimeSpan,windowCreationInterval:windowCreationInterval,subscriber:_this,scheduler:scheduler};_this.add(scheduler.schedule(dispatchWindowClose,windowTimeSpan,closeState)),_this.add(scheduler.schedule(dispatchWindowCreation,windowCreationInterval,creationState))}else{var timeSpanOnlyState={subscriber:_this,window:window,windowTimeSpan:windowTimeSpan};_this.add(scheduler.schedule(dispatchWindowTimeSpanOnly,windowTimeSpan,timeSpanOnlyState))}return _this}return tslib_1.__extends(WindowTimeSubscriber,_super),WindowTimeSubscriber.prototype._next=function(value){for(var windows=this.windows,len=windows.length,i=0;i<len;i++){var window_1=windows[i];window_1.closed||(window_1.next(value),window_1.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(window_1))}},WindowTimeSubscriber.prototype._error=function(err){for(var windows=this.windows;windows.length>0;)windows.shift().error(err);this.destination.error(err)},WindowTimeSubscriber.prototype._complete=function(){for(var windows=this.windows;windows.length>0;){var window_2=windows.shift();window_2.closed||window_2.complete()}this.destination.complete()},WindowTimeSubscriber.prototype.openWindow=function(){var window=new CountedSubject;return this.windows.push(window),this.destination.next(window),window},WindowTimeSubscriber.prototype.closeWindow=function(window){window.complete();var windows=this.windows;windows.splice(windows.indexOf(window),1)},WindowTimeSubscriber}(_Subscriber.Subscriber);function dispatchWindowTimeSpanOnly(state){var subscriber=state.subscriber,windowTimeSpan=state.windowTimeSpan,window=state.window;window&&subscriber.closeWindow(window),state.window=subscriber.openWindow(),this.schedule(state,windowTimeSpan)}function dispatchWindowCreation(state){var windowTimeSpan=state.windowTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,windowCreationInterval=state.windowCreationInterval,context={action:this,subscription:null},timeSpanState={subscriber:subscriber,window:subscriber.openWindow(),context:context};context.subscription=scheduler.schedule(dispatchWindowClose,windowTimeSpan,timeSpanState),this.add(context.subscription),this.schedule(state,windowCreationInterval)}function dispatchWindowClose(state){var subscriber=state.subscriber,window=state.window,context=state.context;context&&context.action&&context.subscription&&context.action.remove(context.subscription),subscriber.closeWindow(window)}},{tslib:"vCxL","../Subject":"r9t1","../scheduler/async":"jun6","../Subscriber":"RaFB","../util/isNumeric":"wBpm","../util/isScheduler":"VqoH"}],JiQj:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowToggle=function(openings,closingSelector){return function(source){return source.lift(new WindowToggleOperator(openings,closingSelector))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("../Subject"),_Subscription=require("../Subscription"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var WindowToggleOperator=function(){function WindowToggleOperator(openings,closingSelector){this.openings=openings,this.closingSelector=closingSelector}return WindowToggleOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowToggleSubscriber(subscriber,this.openings,this.closingSelector))},WindowToggleOperator}(),WindowToggleSubscriber=function(_super){function WindowToggleSubscriber(destination,openings,closingSelector){var _this=_super.call(this,destination)||this;return _this.openings=openings,_this.closingSelector=closingSelector,_this.contexts=[],_this.add(_this.openSubscription=(0,_subscribeToResult.subscribeToResult)(_this,openings,openings)),_this}return tslib_1.__extends(WindowToggleSubscriber,_super),WindowToggleSubscriber.prototype._next=function(value){var contexts=this.contexts;if(contexts)for(var len=contexts.length,i=0;i<len;i++)contexts[i].window.next(value)},WindowToggleSubscriber.prototype._error=function(err){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context_1=contexts[index];context_1.window.error(err),context_1.subscription.unsubscribe()}_super.prototype._error.call(this,err)},WindowToggleSubscriber.prototype._complete=function(){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context_2=contexts[index];context_2.window.complete(),context_2.subscription.unsubscribe()}_super.prototype._complete.call(this)},WindowToggleSubscriber.prototype._unsubscribe=function(){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context_3=contexts[index];context_3.window.unsubscribe(),context_3.subscription.unsubscribe()}},WindowToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(outerValue===this.openings){var closingNotifier=void 0;try{closingNotifier=(0,this.closingSelector)(innerValue)}catch(e){return this.error(e)}var window_1=new _Subject.Subject,subscription=new _Subscription.Subscription,context_4={window:window_1,subscription:subscription};this.contexts.push(context_4);var innerSubscription=(0,_subscribeToResult.subscribeToResult)(this,closingNotifier,context_4);innerSubscription.closed?this.closeWindow(this.contexts.length-1):(innerSubscription.context=context_4,subscription.add(innerSubscription)),this.destination.next(window_1)}else this.closeWindow(this.contexts.indexOf(outerValue))},WindowToggleSubscriber.prototype.notifyError=function(err){this.error(err)},WindowToggleSubscriber.prototype.notifyComplete=function(inner){inner!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(inner.context))},WindowToggleSubscriber.prototype.closeWindow=function(index){if(-1!==index){var contexts=this.contexts,context=contexts[index],window=context.window,subscription=context.subscription;contexts.splice(index,1),window.complete(),subscription.unsubscribe()}},WindowToggleSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../Subscription":"I8KM","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],YaG1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowWhen=function(closingSelector){return function(source){return source.lift(new WindowOperator(closingSelector))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_Subject=require("../Subject"),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var WindowOperator=function(){function WindowOperator(closingSelector){this.closingSelector=closingSelector}return WindowOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowSubscriber(subscriber,this.closingSelector))},WindowOperator}(),WindowSubscriber=function(_super){function WindowSubscriber(destination,closingSelector){var _this=_super.call(this,destination)||this;return _this.destination=destination,_this.closingSelector=closingSelector,_this.openWindow(),_this}return tslib_1.__extends(WindowSubscriber,_super),WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow(innerSub)},WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},WindowSubscriber.prototype.notifyComplete=function(innerSub){this.openWindow(innerSub)},WindowSubscriber.prototype._next=function(value){this.window.next(value)},WindowSubscriber.prototype._error=function(err){this.window.error(err),this.destination.error(err),this.unsubscribeClosingNotification()},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},WindowSubscriber.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},WindowSubscriber.prototype.openWindow=function(innerSub){void 0===innerSub&&(innerSub=null),innerSub&&(this.remove(innerSub),innerSub.unsubscribe());var prevWindow=this.window;prevWindow&&prevWindow.complete();var closingNotifier,window=this.window=new _Subject.Subject;this.destination.next(window);try{closingNotifier=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=(0,_subscribeToResult.subscribeToResult)(this,closingNotifier))},WindowSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],JDwQ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.withLatestFrom=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return function(source){var project;"function"==typeof args[args.length-1]&&(project=args.pop());var observables=args;return source.lift(new WithLatestFromOperator(observables,project))}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_OuterSubscriber=require("../OuterSubscriber"),_subscribeToResult=require("../util/subscribeToResult");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var WithLatestFromOperator=function(){function WithLatestFromOperator(observables,project){this.observables=observables,this.project=project}return WithLatestFromOperator.prototype.call=function(subscriber,source){return source.subscribe(new WithLatestFromSubscriber(subscriber,this.observables,this.project))},WithLatestFromOperator}(),WithLatestFromSubscriber=function(_super){function WithLatestFromSubscriber(destination,observables,project){var _this=_super.call(this,destination)||this;_this.observables=observables,_this.project=project,_this.toRespond=[];var len=observables.length;_this.values=new Array(len);for(var i=0;i<len;i++)_this.toRespond.push(i);for(i=0;i<len;i++){var observable=observables[i];_this.add((0,_subscribeToResult.subscribeToResult)(_this,observable,observable,i))}return _this}return tslib_1.__extends(WithLatestFromSubscriber,_super),WithLatestFromSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue;var toRespond=this.toRespond;if(toRespond.length>0){var found=toRespond.indexOf(outerIndex);-1!==found&&toRespond.splice(found,1)}},WithLatestFromSubscriber.prototype.notifyComplete=function(){},WithLatestFromSubscriber.prototype._next=function(value){if(0===this.toRespond.length){var args=[value].concat(this.values);this.project?this._tryProject(args):this.destination.next(args)}},WithLatestFromSubscriber.prototype._tryProject=function(args){var result;try{result=this.project.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)},WithLatestFromSubscriber}(_OuterSubscriber.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],UwLD:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.zip=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];return function(source){return source.lift.call(_zip.zip.apply(void 0,[source].concat(observables)))}};var _zip=require("../observable/zip")},{"../observable/zip":"ff2A"}],DmwP:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.zipAll=function(project){return function(source){return source.lift(new _zip.ZipOperator(project))}};var _zip=require("../observable/zip")},{"../observable/zip":"ff2A"}],cVrl:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"audit",{enumerable:!0,get:function(){return _audit.audit}}),Object.defineProperty(exports,"auditTime",{enumerable:!0,get:function(){return _auditTime.auditTime}}),Object.defineProperty(exports,"buffer",{enumerable:!0,get:function(){return _buffer.buffer}}),Object.defineProperty(exports,"bufferCount",{enumerable:!0,get:function(){return _bufferCount.bufferCount}}),Object.defineProperty(exports,"bufferTime",{enumerable:!0,get:function(){return _bufferTime.bufferTime}}),Object.defineProperty(exports,"bufferToggle",{enumerable:!0,get:function(){return _bufferToggle.bufferToggle}}),Object.defineProperty(exports,"bufferWhen",{enumerable:!0,get:function(){return _bufferWhen.bufferWhen}}),Object.defineProperty(exports,"catchError",{enumerable:!0,get:function(){return _catchError.catchError}}),Object.defineProperty(exports,"combineAll",{enumerable:!0,get:function(){return _combineAll.combineAll}}),Object.defineProperty(exports,"combineLatest",{enumerable:!0,get:function(){return _combineLatest.combineLatest}}),Object.defineProperty(exports,"concat",{enumerable:!0,get:function(){return _concat.concat}}),Object.defineProperty(exports,"concatAll",{enumerable:!0,get:function(){return _concatAll.concatAll}}),Object.defineProperty(exports,"concatMap",{enumerable:!0,get:function(){return _concatMap.concatMap}}),Object.defineProperty(exports,"concatMapTo",{enumerable:!0,get:function(){return _concatMapTo.concatMapTo}}),Object.defineProperty(exports,"count",{enumerable:!0,get:function(){return _count.count}}),Object.defineProperty(exports,"debounce",{enumerable:!0,get:function(){return _debounce.debounce}}),Object.defineProperty(exports,"debounceTime",{enumerable:!0,get:function(){return _debounceTime.debounceTime}}),Object.defineProperty(exports,"defaultIfEmpty",{enumerable:!0,get:function(){return _defaultIfEmpty.defaultIfEmpty}}),Object.defineProperty(exports,"delay",{enumerable:!0,get:function(){return _delay.delay}}),Object.defineProperty(exports,"delayWhen",{enumerable:!0,get:function(){return _delayWhen.delayWhen}}),Object.defineProperty(exports,"dematerialize",{enumerable:!0,get:function(){return _dematerialize.dematerialize}}),Object.defineProperty(exports,"distinct",{enumerable:!0,get:function(){return _distinct.distinct}}),Object.defineProperty(exports,"distinctUntilChanged",{enumerable:!0,get:function(){return _distinctUntilChanged.distinctUntilChanged}}),Object.defineProperty(exports,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return _distinctUntilKeyChanged.distinctUntilKeyChanged}}),Object.defineProperty(exports,"elementAt",{enumerable:!0,get:function(){return _elementAt.elementAt}}),Object.defineProperty(exports,"endWith",{enumerable:!0,get:function(){return _endWith.endWith}}),Object.defineProperty(exports,"every",{enumerable:!0,get:function(){return _every.every}}),Object.defineProperty(exports,"exhaust",{enumerable:!0,get:function(){return _exhaust.exhaust}}),Object.defineProperty(exports,"exhaustMap",{enumerable:!0,get:function(){return _exhaustMap.exhaustMap}}),Object.defineProperty(exports,"expand",{enumerable:!0,get:function(){return _expand.expand}}),Object.defineProperty(exports,"filter",{enumerable:!0,get:function(){return _filter.filter}}),Object.defineProperty(exports,"finalize",{enumerable:!0,get:function(){return _finalize.finalize}}),Object.defineProperty(exports,"find",{enumerable:!0,get:function(){return _find.find}}),Object.defineProperty(exports,"findIndex",{enumerable:!0,get:function(){return _findIndex.findIndex}}),Object.defineProperty(exports,"first",{enumerable:!0,get:function(){return _first.first}}),Object.defineProperty(exports,"groupBy",{enumerable:!0,get:function(){return _groupBy.groupBy}}),Object.defineProperty(exports,"ignoreElements",{enumerable:!0,get:function(){return _ignoreElements.ignoreElements}}),Object.defineProperty(exports,"isEmpty",{enumerable:!0,get:function(){return _isEmpty.isEmpty}}),Object.defineProperty(exports,"last",{enumerable:!0,get:function(){return _last.last}}),Object.defineProperty(exports,"map",{enumerable:!0,get:function(){return _map.map}}),Object.defineProperty(exports,"mapTo",{enumerable:!0,get:function(){return _mapTo.mapTo}}),Object.defineProperty(exports,"materialize",{enumerable:!0,get:function(){return _materialize.materialize}}),Object.defineProperty(exports,"max",{enumerable:!0,get:function(){return _max.max}}),Object.defineProperty(exports,"merge",{enumerable:!0,get:function(){return _merge.merge}}),Object.defineProperty(exports,"mergeAll",{enumerable:!0,get:function(){return _mergeAll.mergeAll}}),Object.defineProperty(exports,"mergeMap",{enumerable:!0,get:function(){return _mergeMap.mergeMap}}),Object.defineProperty(exports,"flatMap",{enumerable:!0,get:function(){return _mergeMap.mergeMap}}),Object.defineProperty(exports,"mergeMapTo",{enumerable:!0,get:function(){return _mergeMapTo.mergeMapTo}}),Object.defineProperty(exports,"mergeScan",{enumerable:!0,get:function(){return _mergeScan.mergeScan}}),Object.defineProperty(exports,"min",{enumerable:!0,get:function(){return _min.min}}),Object.defineProperty(exports,"multicast",{enumerable:!0,get:function(){return _multicast.multicast}}),Object.defineProperty(exports,"observeOn",{enumerable:!0,get:function(){return _observeOn.observeOn}}),Object.defineProperty(exports,"onErrorResumeNext",{enumerable:!0,get:function(){return _onErrorResumeNext.onErrorResumeNext}}),Object.defineProperty(exports,"pairwise",{enumerable:!0,get:function(){return _pairwise.pairwise}}),Object.defineProperty(exports,"partition",{enumerable:!0,get:function(){return _partition.partition}}),Object.defineProperty(exports,"pluck",{enumerable:!0,get:function(){return _pluck.pluck}}),Object.defineProperty(exports,"publish",{enumerable:!0,get:function(){return _publish.publish}}),Object.defineProperty(exports,"publishBehavior",{enumerable:!0,get:function(){return _publishBehavior.publishBehavior}}),Object.defineProperty(exports,"publishLast",{enumerable:!0,get:function(){return _publishLast.publishLast}}),Object.defineProperty(exports,"publishReplay",{enumerable:!0,get:function(){return _publishReplay.publishReplay}}),Object.defineProperty(exports,"race",{enumerable:!0,get:function(){return _race.race}}),Object.defineProperty(exports,"reduce",{enumerable:!0,get:function(){return _reduce.reduce}}),Object.defineProperty(exports,"repeat",{enumerable:!0,get:function(){return _repeat.repeat}}),Object.defineProperty(exports,"repeatWhen",{enumerable:!0,get:function(){return _repeatWhen.repeatWhen}}),Object.defineProperty(exports,"retry",{enumerable:!0,get:function(){return _retry.retry}}),Object.defineProperty(exports,"retryWhen",{enumerable:!0,get:function(){return _retryWhen.retryWhen}}),Object.defineProperty(exports,"refCount",{enumerable:!0,get:function(){return _refCount.refCount}}),Object.defineProperty(exports,"sample",{enumerable:!0,get:function(){return _sample.sample}}),Object.defineProperty(exports,"sampleTime",{enumerable:!0,get:function(){return _sampleTime.sampleTime}}),Object.defineProperty(exports,"scan",{enumerable:!0,get:function(){return _scan.scan}}),Object.defineProperty(exports,"sequenceEqual",{enumerable:!0,get:function(){return _sequenceEqual.sequenceEqual}}),Object.defineProperty(exports,"share",{enumerable:!0,get:function(){return _share.share}}),Object.defineProperty(exports,"shareReplay",{enumerable:!0,get:function(){return _shareReplay.shareReplay}}),Object.defineProperty(exports,"single",{enumerable:!0,get:function(){return _single.single}}),Object.defineProperty(exports,"skip",{enumerable:!0,get:function(){return _skip.skip}}),Object.defineProperty(exports,"skipLast",{enumerable:!0,get:function(){return _skipLast.skipLast}}),Object.defineProperty(exports,"skipUntil",{enumerable:!0,get:function(){return _skipUntil.skipUntil}}),Object.defineProperty(exports,"skipWhile",{enumerable:!0,get:function(){return _skipWhile.skipWhile}}),Object.defineProperty(exports,"startWith",{enumerable:!0,get:function(){return _startWith.startWith}}),Object.defineProperty(exports,"subscribeOn",{enumerable:!0,get:function(){return _subscribeOn.subscribeOn}}),Object.defineProperty(exports,"switchAll",{enumerable:!0,get:function(){return _switchAll.switchAll}}),Object.defineProperty(exports,"switchMap",{enumerable:!0,get:function(){return _switchMap.switchMap}}),Object.defineProperty(exports,"switchMapTo",{enumerable:!0,get:function(){return _switchMapTo.switchMapTo}}),Object.defineProperty(exports,"take",{enumerable:!0,get:function(){return _take.take}}),Object.defineProperty(exports,"takeLast",{enumerable:!0,get:function(){return _takeLast.takeLast}}),Object.defineProperty(exports,"takeUntil",{enumerable:!0,get:function(){return _takeUntil.takeUntil}}),Object.defineProperty(exports,"takeWhile",{enumerable:!0,get:function(){return _takeWhile.takeWhile}}),Object.defineProperty(exports,"tap",{enumerable:!0,get:function(){return _tap.tap}}),Object.defineProperty(exports,"throttle",{enumerable:!0,get:function(){return _throttle.throttle}}),Object.defineProperty(exports,"throttleTime",{enumerable:!0,get:function(){return _throttleTime.throttleTime}}),Object.defineProperty(exports,"throwIfEmpty",{enumerable:!0,get:function(){return _throwIfEmpty.throwIfEmpty}}),Object.defineProperty(exports,"timeInterval",{enumerable:!0,get:function(){return _timeInterval.timeInterval}}),Object.defineProperty(exports,"timeout",{enumerable:!0,get:function(){return _timeout.timeout}}),Object.defineProperty(exports,"timeoutWith",{enumerable:!0,get:function(){return _timeoutWith.timeoutWith}}),Object.defineProperty(exports,"timestamp",{enumerable:!0,get:function(){return _timestamp.timestamp}}),Object.defineProperty(exports,"toArray",{enumerable:!0,get:function(){return _toArray.toArray}}),Object.defineProperty(exports,"window",{enumerable:!0,get:function(){return _window.window}}),Object.defineProperty(exports,"windowCount",{enumerable:!0,get:function(){return _windowCount.windowCount}}),Object.defineProperty(exports,"windowTime",{enumerable:!0,get:function(){return _windowTime.windowTime}}),Object.defineProperty(exports,"windowToggle",{enumerable:!0,get:function(){return _windowToggle.windowToggle}}),Object.defineProperty(exports,"windowWhen",{enumerable:!0,get:function(){return _windowWhen.windowWhen}}),Object.defineProperty(exports,"withLatestFrom",{enumerable:!0,get:function(){return _withLatestFrom.withLatestFrom}}),Object.defineProperty(exports,"zip",{enumerable:!0,get:function(){return _zip.zip}}),Object.defineProperty(exports,"zipAll",{enumerable:!0,get:function(){return _zipAll.zipAll}});var _audit=require("../internal/operators/audit"),_auditTime=require("../internal/operators/auditTime"),_buffer=require("../internal/operators/buffer"),_bufferCount=require("../internal/operators/bufferCount"),_bufferTime=require("../internal/operators/bufferTime"),_bufferToggle=require("../internal/operators/bufferToggle"),_bufferWhen=require("../internal/operators/bufferWhen"),_catchError=require("../internal/operators/catchError"),_combineAll=require("../internal/operators/combineAll"),_combineLatest=require("../internal/operators/combineLatest"),_concat=require("../internal/operators/concat"),_concatAll=require("../internal/operators/concatAll"),_concatMap=require("../internal/operators/concatMap"),_concatMapTo=require("../internal/operators/concatMapTo"),_count=require("../internal/operators/count"),_debounce=require("../internal/operators/debounce"),_debounceTime=require("../internal/operators/debounceTime"),_defaultIfEmpty=require("../internal/operators/defaultIfEmpty"),_delay=require("../internal/operators/delay"),_delayWhen=require("../internal/operators/delayWhen"),_dematerialize=require("../internal/operators/dematerialize"),_distinct=require("../internal/operators/distinct"),_distinctUntilChanged=require("../internal/operators/distinctUntilChanged"),_distinctUntilKeyChanged=require("../internal/operators/distinctUntilKeyChanged"),_elementAt=require("../internal/operators/elementAt"),_endWith=require("../internal/operators/endWith"),_every=require("../internal/operators/every"),_exhaust=require("../internal/operators/exhaust"),_exhaustMap=require("../internal/operators/exhaustMap"),_expand=require("../internal/operators/expand"),_filter=require("../internal/operators/filter"),_finalize=require("../internal/operators/finalize"),_find=require("../internal/operators/find"),_findIndex=require("../internal/operators/findIndex"),_first=require("../internal/operators/first"),_groupBy=require("../internal/operators/groupBy"),_ignoreElements=require("../internal/operators/ignoreElements"),_isEmpty=require("../internal/operators/isEmpty"),_last=require("../internal/operators/last"),_map=require("../internal/operators/map"),_mapTo=require("../internal/operators/mapTo"),_materialize=require("../internal/operators/materialize"),_max=require("../internal/operators/max"),_merge=require("../internal/operators/merge"),_mergeAll=require("../internal/operators/mergeAll"),_mergeMap=require("../internal/operators/mergeMap"),_mergeMapTo=require("../internal/operators/mergeMapTo"),_mergeScan=require("../internal/operators/mergeScan"),_min=require("../internal/operators/min"),_multicast=require("../internal/operators/multicast"),_observeOn=require("../internal/operators/observeOn"),_onErrorResumeNext=require("../internal/operators/onErrorResumeNext"),_pairwise=require("../internal/operators/pairwise"),_partition=require("../internal/operators/partition"),_pluck=require("../internal/operators/pluck"),_publish=require("../internal/operators/publish"),_publishBehavior=require("../internal/operators/publishBehavior"),_publishLast=require("../internal/operators/publishLast"),_publishReplay=require("../internal/operators/publishReplay"),_race=require("../internal/operators/race"),_reduce=require("../internal/operators/reduce"),_repeat=require("../internal/operators/repeat"),_repeatWhen=require("../internal/operators/repeatWhen"),_retry=require("../internal/operators/retry"),_retryWhen=require("../internal/operators/retryWhen"),_refCount=require("../internal/operators/refCount"),_sample=require("../internal/operators/sample"),_sampleTime=require("../internal/operators/sampleTime"),_scan=require("../internal/operators/scan"),_sequenceEqual=require("../internal/operators/sequenceEqual"),_share=require("../internal/operators/share"),_shareReplay=require("../internal/operators/shareReplay"),_single=require("../internal/operators/single"),_skip=require("../internal/operators/skip"),_skipLast=require("../internal/operators/skipLast"),_skipUntil=require("../internal/operators/skipUntil"),_skipWhile=require("../internal/operators/skipWhile"),_startWith=require("../internal/operators/startWith"),_subscribeOn=require("../internal/operators/subscribeOn"),_switchAll=require("../internal/operators/switchAll"),_switchMap=require("../internal/operators/switchMap"),_switchMapTo=require("../internal/operators/switchMapTo"),_take=require("../internal/operators/take"),_takeLast=require("../internal/operators/takeLast"),_takeUntil=require("../internal/operators/takeUntil"),_takeWhile=require("../internal/operators/takeWhile"),_tap=require("../internal/operators/tap"),_throttle=require("../internal/operators/throttle"),_throttleTime=require("../internal/operators/throttleTime"),_throwIfEmpty=require("../internal/operators/throwIfEmpty"),_timeInterval=require("../internal/operators/timeInterval"),_timeout=require("../internal/operators/timeout"),_timeoutWith=require("../internal/operators/timeoutWith"),_timestamp=require("../internal/operators/timestamp"),_toArray=require("../internal/operators/toArray"),_window=require("../internal/operators/window"),_windowCount=require("../internal/operators/windowCount"),_windowTime=require("../internal/operators/windowTime"),_windowToggle=require("../internal/operators/windowToggle"),_windowWhen=require("../internal/operators/windowWhen"),_withLatestFrom=require("../internal/operators/withLatestFrom"),_zip=require("../internal/operators/zip"),_zipAll=require("../internal/operators/zipAll")},{"../internal/operators/audit":"Pdg2","../internal/operators/auditTime":"jcYn","../internal/operators/buffer":"mG6b","../internal/operators/bufferCount":"f9IP","../internal/operators/bufferTime":"Axj2","../internal/operators/bufferToggle":"ZTTP","../internal/operators/bufferWhen":"Ul3A","../internal/operators/catchError":"THoY","../internal/operators/combineAll":"TMFF","../internal/operators/combineLatest":"DJQm","../internal/operators/concat":"ZHmI","../internal/operators/concatAll":"Yxey","../internal/operators/concatMap":"DoUK","../internal/operators/concatMapTo":"APQq","../internal/operators/count":"U1Ln","../internal/operators/debounce":"y9EZ","../internal/operators/debounceTime":"KBFO","../internal/operators/defaultIfEmpty":"YBdz","../internal/operators/delay":"zkgx","../internal/operators/delayWhen":"iVuv","../internal/operators/dematerialize":"v6b5","../internal/operators/distinct":"H608","../internal/operators/distinctUntilChanged":"hFX7","../internal/operators/distinctUntilKeyChanged":"Egbr","../internal/operators/elementAt":"TbZV","../internal/operators/endWith":"loee","../internal/operators/every":"eEZZ","../internal/operators/exhaust":"ifNj","../internal/operators/exhaustMap":"DGWU","../internal/operators/expand":"iYcS","../internal/operators/filter":"HKzi","../internal/operators/finalize":"x5qu","../internal/operators/find":"t6rP","../internal/operators/findIndex":"GIlo","../internal/operators/first":"f9sd","../internal/operators/groupBy":"dNgG","../internal/operators/ignoreElements":"P82l","../internal/operators/isEmpty":"LqVv","../internal/operators/last":"xu0X","../internal/operators/map":"dNh5","../internal/operators/mapTo":"yJbZ","../internal/operators/materialize":"ZwCH","../internal/operators/max":"BgD2","../internal/operators/merge":"sbfV","../internal/operators/mergeAll":"Nkv4","../internal/operators/mergeMap":"nFsM","../internal/operators/mergeMapTo":"S3q6","../internal/operators/mergeScan":"wQne","../internal/operators/min":"bAWd","../internal/operators/multicast":"M6Em","../internal/operators/observeOn":"ezNs","../internal/operators/onErrorResumeNext":"S4UH","../internal/operators/pairwise":"u6OS","../internal/operators/partition":"jvG2","../internal/operators/pluck":"TdE4","../internal/operators/publish":"TQAB","../internal/operators/publishBehavior":"fUyM","../internal/operators/publishLast":"fQ7S","../internal/operators/publishReplay":"aqWk","../internal/operators/race":"EAaA","../internal/operators/reduce":"BORG","../internal/operators/repeat":"Fbxf","../internal/operators/repeatWhen":"CT9q","../internal/operators/retry":"ZHEI","../internal/operators/retryWhen":"GHe2","../internal/operators/refCount":"vT9o","../internal/operators/sample":"Rd9o","../internal/operators/sampleTime":"nb45","../internal/operators/scan":"U785","../internal/operators/sequenceEqual":"PMGC","../internal/operators/share":"KBGh","../internal/operators/shareReplay":"xsrM","../internal/operators/single":"angX","../internal/operators/skip":"vMIz","../internal/operators/skipLast":"iB53","../internal/operators/skipUntil":"xmsT","../internal/operators/skipWhile":"qjDA","../internal/operators/startWith":"doo6","../internal/operators/subscribeOn":"Et1l","../internal/operators/switchAll":"CBg8","../internal/operators/switchMap":"g5Rk","../internal/operators/switchMapTo":"Hs9S","../internal/operators/take":"JVEz","../internal/operators/takeLast":"FbHg","../internal/operators/takeUntil":"qGSv","../internal/operators/takeWhile":"EYJX","../internal/operators/tap":"okAI","../internal/operators/throttle":"Yoo8","../internal/operators/throttleTime":"v3FQ","../internal/operators/throwIfEmpty":"D7Ma","../internal/operators/timeInterval":"n6SK","../internal/operators/timeout":"Cp8V","../internal/operators/timeoutWith":"L72b","../internal/operators/timestamp":"pXuq","../internal/operators/toArray":"LA40","../internal/operators/window":"Iygx","../internal/operators/windowCount":"GYT2","../internal/operators/windowTime":"Okss","../internal/operators/windowToggle":"JiQj","../internal/operators/windowWhen":"YaG1","../internal/operators/withLatestFrom":"JDwQ","../internal/operators/zip":"UwLD","../internal/operators/zipAll":"DmwP"}],XDhY:[function(require,module,exports){var global=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.angular_packages_core_core_n=_iterableDiffersFactory,exports.angular_packages_core_core_o=_keyValueDiffersFactory,exports.angular_packages_core_core_p=_localeFactory,exports.angular_packages_core_core_r=zoneSchedulerFactory,exports.angular_packages_core_core_f=_appIdRandomProviderFactory,exports.angular_packages_core_core_a=injectInjectorOnly,exports.angular_packages_core_core_e=resolveReflectiveProviders,exports.angular_packages_core_core_i=getModuleFactory__PRE_R3__,exports.angular_packages_core_core_u=createScope,exports.angular_packages_core_core_t=detectWTF,exports.angular_packages_core_core_x=endTimeRange,exports.angular_packages_core_core_v=leave,exports.angular_packages_core_core_w=startTimeRange,exports.angular_packages_core_core_bb=injectAttributeImpl,exports.angular_packages_core_core_bc=getLView,exports.angular_packages_core_core_bd=getPreviousOrParentTNode,exports.angular_packages_core_core_be=nextContextImpl,exports.angular_packages_core_core_bm=getRootContext,exports.angular_packages_core_core_bl=loadInternal,exports.angular_packages_core_core_g=createElementRef,exports.angular_packages_core_core_h=createTemplateRef,exports.angular_packages_core_core_bg=getUrlSanitizer,exports.angular_packages_core_core_bk=noSideEffects,exports.angular_packages_core_core_bh=makeParamDecorator,exports.angular_packages_core_core_bi=makePropDecorator,exports.angular_packages_core_core_bn=getClosureSafeProperty,exports.angular_packages_core_core_y=_def,exports.createPlatform=createPlatform,exports.assertPlatform=assertPlatform,exports.destroyPlatform=function(){_platform&&!_platform.destroyed&&_platform.destroy()},exports.getPlatform=getPlatform,exports.createPlatformFactory=createPlatformFactory,exports.enableProdMode=function(){if(_runModeLocked)throw new Error("Cannot enable prod mode after platform setup.");_devMode=!1},exports.isDevMode=isDevMode,exports.asNativeElements=function(debugEls){return debugEls.map(function(el){return el.nativeElement})},exports.setTestabilityGetter=function(getter){_testabilityGetter=getter},exports.defineInjectable=defineInjectable,exports.defineInjector=defineInjector,exports.forwardRef=forwardRef,exports.resolveForwardRef=resolveForwardRef,exports.inject=inject,exports.devModeEqual=devModeEqual$1,exports.isListLikeIterable=isListLikeIterable$1,exports.isDefaultChangeDetectionStrategy=function(changeDetectionStrategy){return null==changeDetectionStrategy||changeDetectionStrategy===ChangeDetectionStrategy.Default},exports.setCurrentInjector=setCurrentInjector,exports.getInjectableDef=getInjectableDef,exports.clearResolutionOfComponentResourcesQueue=clearResolutionOfComponentResourcesQueue,exports.resolveComponentResources=resolveComponentResources,exports._sanitizeHtml=_sanitizeHtml,exports._sanitizeStyle=_sanitizeStyle,exports._sanitizeUrl=_sanitizeUrl,exports.looseIdentical=looseIdentical,exports.stringify=stringify,exports.makeDecorator=makeDecorator,exports.isObservable=isObservable,exports.isPromise=isPromise,exports.clearOverrides=function(){return initServicesIfNeeded(),Services.clearOverrides()},exports.initServicesIfNeeded=initServicesIfNeeded,exports.overrideComponentView=function(comp,componentFactory){return initServicesIfNeeded(),Services.overrideComponentView(comp,componentFactory)},exports.overrideProvider=function(override){return initServicesIfNeeded(),Services.overrideProvider(override)},exports.getLocalePluralCase=getLocalePluralCase,exports.findLocaleData=findLocaleData,exports.attribute=attribute,exports.attributeInterpolate1=attributeInterpolate1,exports.attributeInterpolate2=attributeInterpolate2,exports.attributeInterpolate3=attributeInterpolate3,exports.attributeInterpolate4=attributeInterpolate4,exports.attributeInterpolate5=attributeInterpolate5,exports.attributeInterpolate6=attributeInterpolate6,exports.attributeInterpolate7=attributeInterpolate7,exports.attributeInterpolate8=attributeInterpolate8,exports.attributeInterpolateV=attributeInterpolateV,exports.defineBase=defineBase,exports.defineComponent=defineComponent,exports.definePipe=definePipe,exports.defineNgModule=defineNgModule,exports.detectChanges=function(component){detectChangesInternal(getComponentViewByInstance(component),component)},exports.renderComponent=function(componentType,opts){void 0===opts&&(opts={});ngDevMode&&publishDefaultGlobalUtils(),ngDevMode&&assertComponentType(componentType),setActiveHostElement(null);var rendererFactory=opts.rendererFactory||domRendererFactory3,sanitizer=opts.sanitizer||null,componentDef=getComponentDef(componentType);componentDef.type!=componentType&&(componentDef.type=componentType);var component,componentTag=componentDef.selectors[0][0],hostRNode=locateHostElement(rendererFactory,opts.host||componentTag),rootFlags=componentDef.onPush?576:528,rootContext=createRootContext(opts.scheduler,opts.playerHandler),renderer=rendererFactory.createRenderer(hostRNode,componentDef),rootView=createLView(null,createTView(-1,null,1,0,null,null,null,null),rootContext,rootFlags,null,null,rendererFactory,renderer,void 0,opts.injector||null),oldView=enterView(rootView,null),safeToRunHooks=!1;try{rendererFactory.begin&&rendererFactory.begin();var componentView=createRootComponentView(hostRNode,componentDef,rootView,rendererFactory,renderer,sanitizer);component=createRootComponent(componentView,componentDef,rootView,rootContext,opts.hostFeatures||null),addToViewTree(rootView,componentView),refreshDescendantViews(rootView),rootView[FLAGS]&=-5,resetPreOrderHookFlags(rootView),refreshDescendantViews(rootView),safeToRunHooks=!0}finally{leaveView(oldView,safeToRunHooks),rendererFactory.end&&rendererFactory.end()}return component},exports.directiveInject=directiveInject,exports.injectAttribute=injectAttribute,exports.injectPipeChangeDetectorRef=injectPipeChangeDetectorRef,exports.getFactoryOf=getFactoryOf,exports.getInheritedFactory=getInheritedFactory,exports.setComponentScope=setComponentScope,exports.setNgModuleScope=setNgModuleScope,exports.templateRefExtractor=templateRefExtractor,exports.ProvidersFeature=ProvidersFeature,exports.InheritDefinitionFeature=InheritDefinitionFeature,exports.NgOnChangesFeature=NgOnChangesFeature,exports.LifecycleHooksFeature=LifecycleHooksFeature,exports.markDirty=markDirty,exports.container=container,exports.nextContext=nextContext,exports.elementStart=elementStart,exports.namespaceHTML=namespaceHTML,exports.namespaceMathML=namespaceMathML,exports.namespaceSVG=namespaceSVG,exports.element=element,exports.listener=listener,exports.text=text,exports.textInterpolate=textInterpolate,exports.textInterpolate1=textInterpolate1,exports.textInterpolate2=textInterpolate2,exports.textInterpolate3=textInterpolate3,exports.textInterpolate4=textInterpolate4,exports.textInterpolate5=textInterpolate5,exports.textInterpolate6=textInterpolate6,exports.textInterpolate7=textInterpolate7,exports.textInterpolate8=textInterpolate8,exports.textInterpolateV=textInterpolateV,exports.embeddedViewStart=embeddedViewStart,exports.projection=projection,exports.pipeBind1=pipeBind1,exports.pipeBind2=pipeBind2,exports.pipeBind3=pipeBind3,exports.pipeBind4=pipeBind4,exports.pipeBindV=pipeBindV,exports.pureFunction0=pureFunction0,exports.pureFunction1=pureFunction1,exports.pureFunction2=pureFunction2,exports.pureFunction3=pureFunction3,exports.pureFunction4=pureFunction4,exports.pureFunction5=pureFunction5,exports.pureFunction6=pureFunction6,exports.pureFunction7=pureFunction7,exports.pureFunction8=pureFunction8,exports.pureFunctionV=pureFunctionV,exports.getCurrentView=getCurrentView,exports.getDirectives=getDirectives,exports.getHostElement=getHostElement,exports.restoreView=restoreView,exports.containerRefreshStart=containerRefreshStart,exports.containerRefreshEnd=containerRefreshEnd,exports.queryRefresh=queryRefresh,exports.viewQuery=viewQuery,exports.staticViewQuery=staticViewQuery,exports.staticContentQuery=staticContentQuery,exports.loadViewQuery=loadViewQuery,exports.contentQuery=contentQuery,exports.loadContentQuery=loadContentQuery,exports.elementEnd=elementEnd,exports.hostProperty=hostProperty,exports.property=property,exports.propertyInterpolate=propertyInterpolate,exports.propertyInterpolate1=propertyInterpolate1,exports.propertyInterpolate2=propertyInterpolate2,exports.propertyInterpolate3=propertyInterpolate3,exports.propertyInterpolate4=propertyInterpolate4,exports.propertyInterpolate5=propertyInterpolate5,exports.propertyInterpolate6=propertyInterpolate6,exports.propertyInterpolate7=propertyInterpolate7,exports.propertyInterpolate8=propertyInterpolate8,exports.propertyInterpolateV=propertyInterpolateV,exports.updateSyntheticHostBinding=updateSyntheticHostBinding,exports.componentHostSyntheticListener=componentHostSyntheticListener,exports.projectionDef=projectionDef,exports.reference=reference,exports.enableBindings=enableBindings,exports.disableBindings=disableBindings,exports.allocHostVars=allocHostVars,exports.elementContainerStart=elementContainerStart,exports.elementContainerEnd=elementContainerEnd,exports.elementContainer=elementContainer,exports.styling=styling,exports.styleMap=styleMap,exports.styleSanitizer=styleSanitizer,exports.classMap=classMap,exports.classMapInterpolate1=classMapInterpolate1,exports.classMapInterpolate2=classMapInterpolate2,exports.classMapInterpolate3=classMapInterpolate3,exports.classMapInterpolate4=classMapInterpolate4,exports.classMapInterpolate5=classMapInterpolate5,exports.classMapInterpolate6=classMapInterpolate6,exports.classMapInterpolate7=classMapInterpolate7,exports.classMapInterpolate8=classMapInterpolate8,exports.classMapInterpolateV=classMapInterpolateV,exports.styleProp=styleProp,exports.stylePropInterpolate1=stylePropInterpolate1,exports.stylePropInterpolate2=stylePropInterpolate2,exports.stylePropInterpolate3=stylePropInterpolate3,exports.stylePropInterpolate4=stylePropInterpolate4,exports.stylePropInterpolate5=stylePropInterpolate5,exports.stylePropInterpolate6=stylePropInterpolate6,exports.stylePropInterpolate7=stylePropInterpolate7,exports.stylePropInterpolate8=stylePropInterpolate8,exports.stylePropInterpolateV=stylePropInterpolateV,exports.stylingApply=stylingApply,exports.classProp=classProp,exports.elementHostAttrs=elementHostAttrs,exports.select=select,exports.textBinding=textBinding,exports.template=template,exports.embeddedViewEnd=embeddedViewEnd,exports.store=store,exports.load=load,exports.pipe=pipe,exports.whenRendered=function(component){return getRootContext(component).clean},exports.i18n=i18n,exports.i18nAttributes=i18nAttributes,exports.i18nExp=i18nExp,exports.i18nStart=i18nStart,exports.i18nEnd=i18nEnd,exports.i18nApply=i18nApply,exports.i18nPostprocess=i18nPostprocess,exports.i18nConfigureLocalize=function(options){void 0===options&&(options={translations:{}});TRANSLATIONS=options.translations},exports.i18nLocalize=i18nLocalize,exports.setLocaleId=setLocaleId,exports.setClassMetadata=function(type,decorators,ctorParameters,propDecorators){return noSideEffects(function(){var _a,clazz=type,parentPrototype=clazz.prototype?Object.getPrototypeOf(clazz.prototype):null,parentConstructor=parentPrototype&&parentPrototype.constructor;null!==decorators&&(void 0===clazz.decorators||parentConstructor&&parentConstructor.decorators===clazz.decorators?clazz.decorators=decorators:(_a=clazz.decorators).push.apply(_a,(0,_tslib.__spread)(decorators))),null!==ctorParameters&&(clazz.ctorParameters=ctorParameters),null!==propDecorators&&(void 0===clazz.propDecorators||parentConstructor&&parentConstructor.propDecorators===clazz.propDecorators?clazz.propDecorators=propDecorators:clazz.propDecorators=(0,_tslib.__assign)({},clazz.propDecorators,propDecorators))})},exports.resolveWindow=resolveWindow,exports.resolveDocument=resolveDocument,exports.resolveBody=resolveBody,exports.compileComponent=compileComponent,exports.compileDirective=compileDirective,exports.compileNgModule=compileNgModule,exports.compileNgModuleDefs=compileNgModuleDefs,exports.patchComponentDefWithScope=patchComponentDefWithScope,exports.resetCompiledComponents=function(){ownerNgModule=new Map,verifiedNgModule=new Map,moduleQueue.length=0},exports.flushModuleScopingQueueAsMuchAsPossible=flushModuleScopingQueueAsMuchAsPossible,exports.transitiveScopesFor=transitiveScopesFor,exports.compilePipe=compilePipe,exports.sanitizeHtml=sanitizeHtml,exports.sanitizeStyle=sanitizeStyle,exports.sanitizeScript=sanitizeScript,exports.sanitizeUrl=sanitizeUrl,exports.sanitizeResourceUrl=sanitizeResourceUrl,exports.sanitizeUrlOrResourceUrl=sanitizeUrlOrResourceUrl,exports.bypassSanitizationTrustHtml=function(trustedHtml){return bypassSanitizationTrustString(trustedHtml,"Html")},exports.bypassSanitizationTrustStyle=function(trustedStyle){return bypassSanitizationTrustString(trustedStyle,"Style")},exports.bypassSanitizationTrustScript=function(trustedScript){return bypassSanitizationTrustString(trustedScript,"Script")},exports.bypassSanitizationTrustUrl=function(trustedUrl){return bypassSanitizationTrustString(trustedUrl,"Url")},exports.bypassSanitizationTrustResourceUrl=function(trustedResourceUrl){return bypassSanitizationTrustString(trustedResourceUrl,"ResourceUrl")},exports.getLContext=getLContext,exports.compileNgModuleFactory__POST_R3__=function(injector,options,moduleType){ngDevMode&&function(actual,msg){void 0===msg&&(msg="Type passed in is not NgModuleType, it does not have 'ngModuleDef' property.");getNgModuleDef(actual)||throwError(msg)}(moduleType);var moduleFactory=new NgModuleFactory$1(moduleType);if(0===componentResourceResolutionQueue.size)return Promise.resolve(moduleFactory);var compilerProviders=(parts=injector.get(COMPILER_OPTIONS,[]).concat(options).map(function(o){return o.providers}),result=[],parts.forEach(function(part){return part&&result.push.apply(result,(0,_tslib.__spread)(part))}),result);var parts,result;if(0===compilerProviders.length)return Promise.resolve(moduleFactory);var compiler=getCompilerFacade(),resourceLoader=Injector.create({providers:compilerProviders}).get(compiler.ResourceLoader);return resolveComponentResources(function(url){return Promise.resolve(resourceLoader.get(url))}).then(function(){return moduleFactory})},exports.isBoundToModule__POST_R3__=function(cf){return cf.isBoundToModule},exports.getDebugNode__POST_R3__=getDebugNode__POST_R3__,exports.getModuleFactory__POST_R3__=function(id){var type=getRegisteredNgModuleType(id);if(!type)throw noModuleError(id);return new NgModuleFactory$1(type)},exports.registerNgModuleType=registerNgModuleType,exports.publishGlobalUtil=publishGlobalUtil,exports.publishDefaultGlobalUtils=publishDefaultGlobalUtils,exports.createInjector=createInjector,exports.INJECTOR_IMPL__POST_R3__=function(providers,parent,name){return createInjector({name:name},parent,providers,name)},exports.registerModuleFactory=function(id,factory){var existing=modules.get(id);assertSameOrNotExisting(id,existing&&existing.moduleType,factory.moduleType),modules.set(id,factory)},exports.and=function(flags,matchedQueriesDsl,ngContentIndex,childCount,handleEvent,templateFactory){flags|=1;var _a=splitMatchedQueriesDsl(matchedQueriesDsl),matchedQueries=_a.matchedQueries,references=_a.references,matchedQueryIds=_a.matchedQueryIds,template=templateFactory?resolveDefinition(templateFactory):null;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:flags,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:template,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}},exports.ccf=function(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors){return new ComponentFactory_(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors)},exports.cmf=function(ngModuleType,bootstrapComponents,defFactory){return new NgModuleFactory_(ngModuleType,bootstrapComponents,defFactory)},exports.crt=function(values){return{id:UNDEFINED_RENDERER_TYPE_ID,styles:values.styles,encapsulation:values.encapsulation,data:values.data}},exports.did=function(checkIndex,flags,matchedQueries,childCount,ctor,deps,props,outputs){var bindings=[];if(props)for(var prop in props){var _a=(0,_tslib.__read)(props[prop],2),bindingIndex=_a[0],nonMinifiedName=_a[1];bindings[bindingIndex]={flags:8,name:prop,nonMinifiedName:nonMinifiedName,ns:null,securityContext:null,suffix:null}}var outputDefs=[];if(outputs)for(var propName in outputs)outputDefs.push({type:1,propName:propName,target:null,eventName:outputs[propName]});return _def(checkIndex,flags|=16384,matchedQueries,childCount,ctor,ctor,deps,bindings,outputDefs)},exports.eld=function(checkIndex,flags,matchedQueriesDsl,ngContentIndex,childCount,namespaceAndName,fixedAttrs,bindings,outputs,handleEvent,componentView,componentRendererType){var _a;void 0===fixedAttrs&&(fixedAttrs=[]);handleEvent||(handleEvent=NOOP);var _b=splitMatchedQueriesDsl(matchedQueriesDsl),matchedQueries=_b.matchedQueries,references=_b.references,matchedQueryIds=_b.matchedQueryIds,ns=null,name=null;namespaceAndName&&(_a=(0,_tslib.__read)(splitNamespace(namespaceAndName),2),ns=_a[0],name=_a[1]);bindings=bindings||[];for(var bindingDefs=new Array(bindings.length),i=0;i<bindings.length;i++){var _c=(0,_tslib.__read)(bindings[i],3),bindingFlags=_c[0],namespaceAndName_1=_c[1],suffixOrSecurityContext=_c[2],_d=(0,_tslib.__read)(splitNamespace(namespaceAndName_1),2),ns_1=_d[0],name_1=_d[1],securityContext=void 0,suffix=void 0;switch(15&bindingFlags){case 4:suffix=suffixOrSecurityContext;break;case 1:case 8:securityContext=suffixOrSecurityContext}bindingDefs[i]={flags:bindingFlags,ns:ns_1,name:name_1,nonMinifiedName:name_1,securityContext:securityContext,suffix:suffix}}outputs=outputs||[];for(var outputDefs=new Array(outputs.length),i=0;i<outputs.length;i++){var _e=(0,_tslib.__read)(outputs[i],2),target=_e[0],eventName=_e[1];outputDefs[i]={type:0,target:target,eventName:eventName,propName:null}}var attrs=(fixedAttrs=fixedAttrs||[]).map(function(_a){var _b=(0,_tslib.__read)(_a,2),namespaceAndName=_b[0],value=_b[1],_c=(0,_tslib.__read)(splitNamespace(namespaceAndName),2),ns=_c[0],name=_c[1];return[ns,name,value]});componentRendererType=function(type){if(type&&type.id===UNDEFINED_RENDERER_TYPE_ID){var isFilled=null!=type.encapsulation&&type.encapsulation!==ViewEncapsulation.None||type.styles.length||Object.keys(type.data).length;type.id=isFilled?"c"+_renderCompCount$1++:EMPTY_RENDERER_TYPE_ID}return type&&type.id===EMPTY_RENDERER_TYPE_ID&&(type=null),type||null}(componentRendererType),componentView&&(flags|=33554432);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:bindingDefs,bindingFlags:calcBindingFlags(bindingDefs),outputs:outputDefs,element:{ns:ns,name:name,attrs:attrs,template:null,componentProvider:null,componentView:componentView||null,componentRendererType:componentRendererType,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}},exports.getComponentViewDefinitionFactory=getComponentViewDefinitionFactory,exports.inlineInterpolate=function(valueCount,c0,a1,c1,a2,c2,a3,c3,a4,c4,a5,c5,a6,c6,a7,c7,a8,c8,a9,c9){switch(valueCount){case 1:return c0+_toStringWithNull(a1)+c1;case 2:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2;case 3:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3;case 4:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4;case 5:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5;case 6:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6;case 7:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7;case 8:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8;case 9:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8+_toStringWithNull(a9)+c9;default:throw new Error("Does not support more than 9 expressions")}},exports.interpolate=function(valueCount,constAndInterp){for(var result="",i=0;i<2*valueCount;i+=2)result=result+constAndInterp[i]+_toStringWithNull(constAndInterp[i+1]);return result+constAndInterp[2*valueCount]},exports.mod=function(providers){for(var providersByKey={},modules=[],isRoot=!1,i=0;i<providers.length;i++){var provider=providers[i];provider.token===APP_ROOT&&!0===provider.value&&(isRoot=!0),1073741824&provider.flags&&modules.push(provider.token),provider.index=i,providersByKey[tokenKey(provider.token)]=provider}return{factory:null,providersByKey:providersByKey,providers:providers,modules:modules,isRoot:isRoot}},exports.mpd=function(flags,token,value,deps){return value=resolveForwardRef(value),{index:-1,deps:splitDepsDsl(deps,stringify(token)),flags:flags,token:token,value:value}},exports.ncd=function(ngContentIndex,index){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:index}}},exports.nov=function(view,index){var def=view.def.nodes[index];if(1&def.flags){var elData=asElementData(view,def.nodeIndex);return def.element.template?elData.template:elData.renderElement}if(2&def.flags)return asTextData(view,def.nodeIndex).renderText;if(20240&def.flags)return asProviderData(view,def.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+index)},exports.pid=function(flags,ctor,deps){return _def(-1,flags|=16,null,0,ctor,ctor,deps)},exports.prd=function(flags,matchedQueries,token,value,deps){return _def(-1,flags,matchedQueries,0,token,value,deps)},exports.pad=function(checkIndex,argCount){return _pureExpressionDef(32,checkIndex,new Array(argCount))},exports.pod=function(checkIndex,propToIndex){for(var keys=Object.keys(propToIndex),nbKeys=keys.length,propertyNames=new Array(nbKeys),i=0;i<nbKeys;i++){var key=keys[i],index=propToIndex[key];propertyNames[index]=key}return _pureExpressionDef(64,checkIndex,propertyNames)},exports.ppd=function(checkIndex,argCount){return _pureExpressionDef(128,checkIndex,new Array(argCount+1))},exports.qud=function(flags,id,bindings){var bindingDefs=[];for(var propName in bindings){var bindingType=bindings[propName];bindingDefs.push({propName:propName,bindingType:bindingType})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:id,filterId:filterQueryId(id),bindings:bindingDefs},ngContent:null}},exports.ted=function(checkIndex,ngContentIndex,staticText){for(var bindings=new Array(staticText.length-1),i=1;i<staticText.length;i++)bindings[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:staticText[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:bindings,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:staticText[0]},query:null,ngContent:null}},exports.unv=function(view,nodeIdx,bindingIdx,value){if(WrappedValue.isWrapped(value)){value=WrappedValue.unwrap(value);var globalBindingIdx=view.def.nodes[nodeIdx].bindingIndex+bindingIdx,oldValue=WrappedValue.unwrap(view.oldValues[globalBindingIdx]);view.oldValues[globalBindingIdx]=new WrappedValue(oldValue)}return value},exports.vid=function(flags,nodes,updateDirectives,updateRenderer){for(var viewBindingCount=0,viewDisposableCount=0,viewNodeFlags=0,viewRootNodeFlags=0,viewMatchedQueries=0,currentParent=null,currentRenderParent=null,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,lastRenderRootNode=null,i=0;i<nodes.length;i++){var node=nodes[i];if(node.nodeIndex=i,node.parent=currentParent,node.bindingIndex=viewBindingCount,node.outputIndex=viewDisposableCount,node.renderParent=currentRenderParent,viewNodeFlags|=node.flags,viewMatchedQueries|=node.matchedQueryIds,node.element){var elDef=node.element;elDef.publicProviders=currentParent?currentParent.element.publicProviders:Object.create(null),elDef.allProviders=elDef.publicProviders,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,node.element.template&&(viewMatchedQueries|=node.element.template.nodeMatchedQueries)}if(validateNode(currentParent,node,nodes.length),viewBindingCount+=node.bindings.length,viewDisposableCount+=node.outputs.length,!currentRenderParent&&3&node.flags&&(lastRenderRootNode=node),20224&node.flags){currentElementHasPublicProviders||(currentElementHasPublicProviders=!0,currentParent.element.publicProviders=Object.create(currentParent.element.publicProviders),currentParent.element.allProviders=currentParent.element.publicProviders);var isPrivateService=0!=(8192&node.flags),isComponent=0!=(32768&node.flags);!isPrivateService||isComponent?currentParent.element.publicProviders[tokenKey(node.provider.token)]=node:(currentElementHasPrivateProviders||(currentElementHasPrivateProviders=!0,currentParent.element.allProviders=Object.create(currentParent.element.publicProviders)),currentParent.element.allProviders[tokenKey(node.provider.token)]=node),isComponent&&(currentParent.element.componentProvider=node)}if(currentParent?(currentParent.childFlags|=node.flags,currentParent.directChildFlags|=node.flags,currentParent.childMatchedQueries|=node.matchedQueryIds,node.element&&node.element.template&&(currentParent.childMatchedQueries|=node.element.template.nodeMatchedQueries)):viewRootNodeFlags|=node.flags,node.childCount>0)currentParent=node,isNgContainer(node)||(currentRenderParent=node);else for(;currentParent&&i===currentParent.nodeIndex+currentParent.childCount;){var newParent=currentParent.parent;newParent&&(newParent.childFlags|=currentParent.childFlags,newParent.childMatchedQueries|=currentParent.childMatchedQueries),currentRenderParent=(currentParent=newParent)&&isNgContainer(currentParent)?currentParent.renderParent:currentParent}}return{factory:null,nodeFlags:viewNodeFlags,rootNodeFlags:viewRootNodeFlags,nodeMatchedQueries:viewMatchedQueries,flags:flags,nodes:nodes,updateDirectives:updateDirectives||NOOP,updateRenderer:updateRenderer||NOOP,handleEvent:function(view,nodeIndex,eventName,event){return nodes[nodeIndex].element.handleEvent(view,eventName,event)},bindingCount:viewBindingCount,outputCount:viewDisposableCount,lastRenderRootNode:lastRenderRootNode}},exports.QueryList=exports.getModuleFactory=exports.NgModuleFactoryLoader=exports.NgModuleRef=exports.NgModuleFactory=exports.ElementRef=exports.ComponentFactoryResolver=exports.ComponentRef=exports.ComponentFactory=exports.ComponentFactory=exports.ModuleWithComponentFactories=exports.CompilerFactory=exports.Compiler=exports.COMPILER_OPTIONS=exports.RootRenderer=exports.RendererStyleFlags2=exports.RendererFactory2=exports.Renderer2=exports.Renderer=exports.RenderComponentType=exports.NoopNgZone=exports.NgZone=exports.1=exports.0=exports.Host=exports.SkipSelf=exports.Self=exports.Optional=exports.Inject=exports.InjectionToken=exports.ReflectiveKey=exports.ResolvedReflectiveFactory=exports.ReflectiveInjector=exports.INJECTOR=exports.inject=exports.Injector=exports.Injectable=exports.defineInjectable=exports.InjectFlags=exports.VERSION=exports.Version=exports.ViewEncapsulation=exports.NO_ERRORS_SCHEMA=exports.CUSTOM_ELEMENTS_SCHEMA=exports.NgModule=exports.Pipe=exports.Output=exports.Input=exports.HostListener=exports.HostBinding=exports.Directive=exports.Component=exports.ViewChildren=exports.ViewChild=exports.Query=exports.ContentChildren=exports.ContentChild=exports.ANALYZE_FOR_ENTRY_COMPONENTS=exports.Attribute=exports.SecurityContext=exports.Sanitizer=exports.ErrorHandler=exports.EventEmitter=exports.Type=exports.wtfEndTimeRange=exports.wtfStartTimeRange=exports.wtfLeave=exports.wtfCreateScope=exports.ApplicationModule=exports.MissingTranslationStrategy=exports.LOCALE_ID=exports.TRANSLATIONS_FORMAT=exports.TRANSLATIONS=exports.TestabilityRegistry=exports.Testability=exports.getDebugNode=exports.DebugNode=exports.DebugEventListener=exports.DebugElement=exports.ApplicationInitStatus=exports.APP_INITIALIZER=exports.APP_BOOTSTRAP_LISTENER=exports.PLATFORM_ID=exports.PLATFORM_INITIALIZER=exports.PACKAGE_ROOT_URL=exports.APP_ID=exports.NgProbeToken=exports.ApplicationRef=exports.PlatformRef=exports.angular_packages_core_core_z=exports.angular_packages_core_core_ba=exports.angular_packages_core_core_s=exports.angular_packages_core_core_d=exports.angular_packages_core_core_c=exports.angular_packages_core_core_b=exports.angular_packages_core_core_j=exports.angular_packages_core_core_k=exports.angular_packages_core_core_m=exports.angular_packages_core_core_l=exports.angular_packages_core_core_q=void 0,exports.EMPTY_MAP=exports.EMPTY_ARRAY=exports.SWITCH_RENDERER2_FACTORY__POST_R3__=exports.SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__=exports.SWITCH_TEMPLATE_REF_FACTORY__POST_R3__=exports.SWITCH_ELEMENT_REF_FACTORY__POST_R3__=exports.Compiler_compileModuleAndAllComponentsAsync__POST_R3__=exports.Compiler_compileModuleAndAllComponentsSync__POST_R3__=exports.Compiler_compileModuleAsync__POST_R3__=exports.Compiler_compileModuleSync__POST_R3__=exports.SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__=exports.SWITCH_IVY_ENABLED__POST_R3__=exports.SWITCH_COMPILE_INJECTABLE__POST_R3__=exports.SWITCH_COMPILE_NGMODULE__POST_R3__=exports.SWITCH_COMPILE_PIPE__POST_R3__=exports.SWITCH_COMPILE_DIRECTIVE__POST_R3__=exports.SWITCH_COMPILE_COMPONENT__POST_R3__=exports.NG_INJECTOR_DEF=exports.NG_INJECTABLE_DEF=exports.NG_BASE_DEF=exports.NG_MODULE_DEF=exports.NG_PIPE_DEF=exports.NG_DIRECTIVE_DEF=exports.NG_COMPONENT_DEF=exports.NG_ELEMENT_ID=exports.defaultStyleSanitizer=exports.NO_CHANGE=exports.NgModuleFactory=exports.Render3NgModuleRef=exports.Render3ComponentRef=exports.Render3ComponentFactory=exports.defineDirective=exports.LocaleDataIndex=exports.LOCALE_DATA=exports.NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR=exports.global=exports.RenderDebugInfo=exports.ReflectionCapabilities=exports.CodegenComponentFactoryResolver=exports.ivyEnabled=exports.DEFAULT_LOCALE_ID=exports.APP_ROOT=exports.Console=exports.ChangeDetectorStatus=exports.defaultKeyValueDiffers=exports.defaultIterableDiffers=exports.APP_ID_RANDOM_PROVIDER=exports.ALLOW_MULTIPLE_PLATFORMS=exports.platformCore=exports.WrappedValue=exports.SimpleChange=exports.KeyValueDiffers=exports.IterableDiffers=exports.DefaultIterableDiffer=exports.ChangeDetectorRef=exports.ChangeDetectionStrategy=exports.ViewRef=exports.EmbeddedViewRef=exports.ViewContainerRef=exports.TemplateRef=exports.SystemJsNgModuleLoaderConfig=exports.SystemJsNgModuleLoader=void 0;var _tslib=require("tslib"),_rxjs=require("rxjs"),_operators=require("rxjs/operators"),ANNOTATIONS="__annotations__",PARAMETERS="__parameters__",PROP_METADATA="__prop__metadata__";function makeDecorator(name,props,parentClass,additionalProcessing,typeFn){var metaCtor=makeMetadataCtor(props);function DecoratorFactory(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(this instanceof DecoratorFactory)return metaCtor.call.apply(metaCtor,(0,_tslib.__spread)([this],args)),this;var annotationInstance=new((_a=DecoratorFactory).bind.apply(_a,(0,_tslib.__spread)([void 0],args)));return function(cls){return typeFn&&typeFn.apply(void 0,(0,_tslib.__spread)([cls],args)),(cls.hasOwnProperty(ANNOTATIONS)?cls[ANNOTATIONS]:Object.defineProperty(cls,ANNOTATIONS,{value:[]})[ANNOTATIONS]).push(annotationInstance),additionalProcessing&&additionalProcessing(cls),cls}}return parentClass&&(DecoratorFactory.prototype=Object.create(parentClass.prototype)),DecoratorFactory.prototype.ngMetadataName=name,DecoratorFactory.annotationCls=DecoratorFactory,DecoratorFactory}function makeMetadataCtor(props){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(props){var values=props.apply(void 0,(0,_tslib.__spread)(args));for(var propName in values)this[propName]=values[propName]}}}function makeParamDecorator(name,props,parentClass){var metaCtor=makeMetadataCtor(props);function ParamDecoratorFactory(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;var annotationInstance=new((_a=ParamDecoratorFactory).bind.apply(_a,(0,_tslib.__spread)([void 0],args)));return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){for(var parameters=cls.hasOwnProperty(PARAMETERS)?cls[PARAMETERS]:Object.defineProperty(cls,PARAMETERS,{value:[]})[PARAMETERS];parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory}function makePropDecorator(name,props,parentClass,additionalProcessing){var metaCtor=makeMetadataCtor(props);function PropDecoratorFactory(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(this instanceof PropDecoratorFactory)return metaCtor.apply(this,args),this;var decoratorInstance=new((_a=PropDecoratorFactory).bind.apply(_a,(0,_tslib.__spread)([void 0],args)));return function(target,name){var constructor=target.constructor,meta=constructor.hasOwnProperty(PROP_METADATA)?constructor[PROP_METADATA]:Object.defineProperty(constructor,PROP_METADATA,{value:{}})[PROP_METADATA];meta[name]=meta.hasOwnProperty(name)&&meta[name]||[],meta[name].unshift(decoratorInstance),additionalProcessing&&additionalProcessing.apply(void 0,(0,_tslib.__spread)([target,name],args))}}return parentClass&&(PropDecoratorFactory.prototype=Object.create(parentClass.prototype)),PropDecoratorFactory.prototype.ngMetadataName=name,PropDecoratorFactory.annotationCls=PropDecoratorFactory,PropDecoratorFactory}var 0=function(token){return{token:token}};exports.0=0;var Inject=makeParamDecorator("Inject",0);exports.Inject=Inject;var Optional=makeParamDecorator("Optional");exports.Optional=Optional;var Self=makeParamDecorator("Self");exports.Self=Self;var SkipSelf=makeParamDecorator("SkipSelf");exports.SkipSelf=SkipSelf;var Host=makeParamDecorator("Host");exports.Host=Host;var 1=function(attributeName){return{attributeName:attributeName}};exports.1=1;var InjectFlags,Attribute=makeParamDecorator("Attribute",1);function getClosureSafeProperty(objWithPropertyToExtract){for(var key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===getClosureSafeProperty)return key;throw Error("Could not find renamed property on target object.")}function fillProperties(target,source){for(var key in source)source.hasOwnProperty(key)&&!target.hasOwnProperty(key)&&(target[key]=source[key])}function defineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}exports.Attribute=Attribute,exports.InjectFlags=InjectFlags,function(InjectFlags){InjectFlags[InjectFlags.Default=0]="Default",InjectFlags[InjectFlags.Host=1]="Host",InjectFlags[InjectFlags.Self=2]="Self",InjectFlags[InjectFlags.SkipSelf=4]="SkipSelf",InjectFlags[InjectFlags.Optional=8]="Optional"}(InjectFlags||(exports.InjectFlags=InjectFlags={}));var defineInjectable=defineInjectable;function defineInjector(options){return{factory:options.factory,providers:options.providers||[],imports:options.imports||[]}}function getInjectableDef(type){var def=type[NG_INJECTABLE_DEF];return def&&def.token===type?def:null}function getInjectorDef(type){return type&&type.hasOwnProperty(NG_INJECTOR_DEF)?type[NG_INJECTOR_DEF]:null}exports.defineInjectable=defineInjectable;var NG_INJECTABLE_DEF=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty});exports.NG_INJECTABLE_DEF=NG_INJECTABLE_DEF;var NG_INJECTOR_DEF=getClosureSafeProperty({ngInjectorDef:getClosureSafeProperty});function stringify(token){if("string"==typeof token)return token;if(token instanceof Array)return"["+token.map(stringify).join(", ")+"]";if(null==token)return""+token;if(token.overriddenName)return""+token.overriddenName;if(token.name)return""+token.name;var res=token.toString();if(null==res)return""+res;var newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}exports.NG_INJECTOR_DEF=NG_INJECTOR_DEF;var __forward_ref__=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){var fn=type;return"function"==typeof fn&&fn.hasOwnProperty(__forward_ref__)&&fn.__forward_ref__===forwardRef?fn():type}var R3ResolvedDependencyType,__globalThis="undefined"!=typeof globalThis&&globalThis,__window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_global=__globalThis||void 0!==global&&global||__window||__self;function getCompilerFacade(){var globalNg=_global.ng;if(!globalNg||!globalNg.compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return globalNg.compilerFacade}exports.global=_global,function(R3ResolvedDependencyType){R3ResolvedDependencyType[R3ResolvedDependencyType.Token=0]="Token",R3ResolvedDependencyType[R3ResolvedDependencyType.Attribute=1]="Attribute",R3ResolvedDependencyType[R3ResolvedDependencyType.ChangeDetectorRef=2]="ChangeDetectorRef"}(R3ResolvedDependencyType||(R3ResolvedDependencyType={}));var InjectionToken=function(){function InjectionToken(_desc,options){this._desc=_desc,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof options?this.__NG_ELEMENT_ID__=options:void 0!==options&&(this.ngInjectableDef=defineInjectable({token:this,providedIn:options.providedIn||"root",factory:options.factory}))}return InjectionToken.prototype.toString=function(){return"InjectionToken "+this._desc},InjectionToken}();exports.InjectionToken=InjectionToken;var INJECTOR=new InjectionToken("INJECTOR",-1);exports.INJECTOR=INJECTOR;var _injectImplementation,THROW_IF_NOT_FOUND=new Object,NG_TEMP_TOKEN_PATH="ngTempTokenPath",NG_TOKEN_PATH="ngTokenPath",NEW_LINE=/\n/gm,NO_NEW_LINE="",SOURCE="__source",USE_VALUE=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty}),_currentInjector=void 0;function setCurrentInjector(injector){var former=_currentInjector;return _currentInjector=injector,former}function setInjectImplementation(impl){var previous=_injectImplementation;return _injectImplementation=impl,previous}function injectInjectorOnly(token,flags){if(void 0===flags&&(flags=InjectFlags.Default),void 0===_currentInjector)throw new Error("inject() must be called from an injection context");return null===_currentInjector?injectRootLimpMode(token,void 0,flags):_currentInjector.get(token,flags&InjectFlags.Optional?null:void 0,flags)}function inject(token,flags){return void 0===flags&&(flags=InjectFlags.Default),(_injectImplementation||injectInjectorOnly)(token,flags)}var inject=inject;function injectRootLimpMode(token,notFoundValue,flags){var injectableDef=getInjectableDef(token);if(injectableDef&&"root"==injectableDef.providedIn)return void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value;if(flags&InjectFlags.Optional)return null;if(void 0!==notFoundValue)return notFoundValue;throw new Error("Injector: NOT_FOUND ["+stringify(token)+"]")}function injectArgs(types){for(var args=[],i=0;i<types.length;i++){var arg=resolveForwardRef(types[i]);if(Array.isArray(arg)){if(0===arg.length)throw new Error("Arguments array must have arguments.");for(var type=void 0,flags=InjectFlags.Default,j=0;j<arg.length;j++){var meta=arg[j];meta instanceof Optional||"Optional"===meta.ngMetadataName||meta===Optional?flags|=InjectFlags.Optional:meta instanceof SkipSelf||"SkipSelf"===meta.ngMetadataName||meta===SkipSelf?flags|=InjectFlags.SkipSelf:meta instanceof Self||"Self"===meta.ngMetadataName||meta===Self?flags|=InjectFlags.Self:type=meta instanceof Inject||meta===Inject?meta.token:meta}args.push(inject(type,flags))}else args.push(inject(arg))}return args}exports.inject=inject;var NullInjector=function(){function NullInjector(){}return NullInjector.prototype.get=function(token,notFoundValue){if(void 0===notFoundValue&&(notFoundValue=THROW_IF_NOT_FOUND),notFoundValue===THROW_IF_NOT_FOUND){var error=new Error("NullInjectorError: No provider for "+stringify(token)+"!");throw error.name="NullInjectorError",error}return notFoundValue},NullInjector}();function catchInjectorError(e,token,injectorErrorName,source){var tokenPath=e[NG_TEMP_TOKEN_PATH];throw token[SOURCE]&&tokenPath.unshift(token[SOURCE]),e.message=formatError("\n"+e.message,tokenPath,injectorErrorName,source),e[NG_TOKEN_PATH]=tokenPath,e[NG_TEMP_TOKEN_PATH]=null,e}function formatError(text,obj,injectorErrorName,source){void 0===source&&(source=null),text=text&&"\n"===text.charAt(0)&&text.charAt(1)==NO_NEW_LINE?text.substr(2):text;var context=stringify(obj);if(obj instanceof Array)context=obj.map(stringify).join(" -> ");else if("object"==typeof obj){var parts=[];for(var key in obj)if(obj.hasOwnProperty(key)){var value=obj[key];parts.push(key+":"+("string"==typeof value?JSON.stringify(value):stringify(value)))}context="{"+parts.join(", ")+"}"}return injectorErrorName+(source?"("+source+")":"")+"["+context+"]: "+text.replace(NEW_LINE,"\n  ")}exports.angular_packages_core_core_b=NullInjector;var angularCoreDiEnv={"defineInjectable":defineInjectable,"defineInjector":defineInjector,"inject":inject,"getFactoryOf":function(type){var typeAny=type,def=getInjectableDef(typeAny)||getInjectorDef(typeAny);if(!def||void 0===def.factory)return null;return def.factory}};var NgModuleRef=function(){return function(){}}();exports.NgModuleRef=NgModuleRef;var locationString,newCounters,allowNgDevModeTrue,ChangeDetectionStrategy,ChangeDetectorStatus,ViewEncapsulation,NgModuleFactory=function(){return function(){}}();function addAllToArray(items,arr){for(var i=0;i<items.length;i++)arr.push(items[i])}function flatten(list,dst){void 0===dst&&(dst=list);for(var i=0;i<list.length;i++){var item=list[i];Array.isArray(item)?(dst===list&&(dst=list.slice(0,i)),flatten(item,dst)):dst!==list&&dst.push(item)}return dst}function deepForEach(input,fn){input.forEach(function(value){return Array.isArray(value)?deepForEach(value,fn):fn(value)})}function addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}function assertEqual(actual,expected,msg){actual!=expected&&throwError(msg)}function assertNotEqual(actual,expected,msg){actual==expected&&throwError(msg)}function assertNotSame(actual,expected,msg){actual===expected&&throwError(msg)}function assertLessThan(actual,expected,msg){actual>=expected&&throwError(msg)}function assertGreaterThan(actual,expected,msg){actual<=expected&&throwError(msg)}function assertDefined(actual,msg){null==actual&&throwError(msg)}function throwError(msg){throw new Error("ASSERTION ERROR: "+msg)}function assertDomNode(node){assertEqual("undefined"!=typeof Node&&node instanceof Node||"object"==typeof node&&null!=node&&"WebWorkerRenderNode"===node.constructor.name,!0,"The provided value must be an instance of a DOM Node but got "+stringify(node))}function assertDataInRange(arr,index){var maxLen=arr?arr.length:0;assertLessThan(index,maxLen,"Index expected to be less than "+maxLen+" but got "+index)}function noSideEffects(fn){return""+{toString:fn}}exports.NgModuleFactory=NgModuleFactory,("undefined"==typeof ngDevMode||ngDevMode)&&(locationString="undefined"!=typeof location?location.toString():"",newCounters={namedConstructors:-1!=locationString.indexOf("ngDevMode=namedConstructors"),firstTemplatePass:0,tNode:0,tView:0,rendererCreateTextNode:0,rendererSetText:0,rendererCreateElement:0,rendererAddEventListener:0,rendererSetAttribute:0,rendererRemoveAttribute:0,rendererSetProperty:0,rendererSetClassName:0,rendererAddClass:0,rendererRemoveClass:0,rendererSetStyle:0,rendererRemoveStyle:0,rendererDestroy:0,rendererDestroyNode:0,rendererMoveNode:0,rendererRemoveNode:0,rendererAppendChild:0,rendererInsertBefore:0,rendererCreateComment:0,styleMap:0,styleMapCacheMiss:0,classMap:0,classMapCacheMiss:0,styleProp:0,stylePropCacheMiss:0,classProp:0,classPropCacheMiss:0,flushStyling:0,classesApplied:0,stylesApplied:0,stylingWritePersistedState:0,stylingReadPersistedState:0},allowNgDevModeTrue=-1===locationString.indexOf("ngDevMode=false"),_global.ngDevMode=allowNgDevModeTrue&&newCounters),exports.ChangeDetectionStrategy=ChangeDetectionStrategy,function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=0]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=1]="Default"}(ChangeDetectionStrategy||(exports.ChangeDetectionStrategy=ChangeDetectionStrategy={})),exports.ChangeDetectorStatus=ChangeDetectorStatus,function(ChangeDetectorStatus){ChangeDetectorStatus[ChangeDetectorStatus.CheckOnce=0]="CheckOnce",ChangeDetectorStatus[ChangeDetectorStatus.Checked=1]="Checked",ChangeDetectorStatus[ChangeDetectorStatus.CheckAlways=2]="CheckAlways",ChangeDetectorStatus[ChangeDetectorStatus.Detached=3]="Detached",ChangeDetectorStatus[ChangeDetectorStatus.Errored=4]="Errored",ChangeDetectorStatus[ChangeDetectorStatus.Destroyed=5]="Destroyed"}(ChangeDetectorStatus||(exports.ChangeDetectorStatus=ChangeDetectorStatus={})),exports.ViewEncapsulation=ViewEncapsulation,function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(ViewEncapsulation||(exports.ViewEncapsulation=ViewEncapsulation={}));var EMPTY_OBJ={},EMPTY_ARRAY=[];"undefined"!=typeof ngDevMode&&ngDevMode&&(Object.freeze(EMPTY_OBJ),Object.freeze(EMPTY_ARRAY));var NG_COMPONENT_DEF=getClosureSafeProperty({ngComponentDef:getClosureSafeProperty});exports.NG_COMPONENT_DEF=NG_COMPONENT_DEF;var NG_DIRECTIVE_DEF=getClosureSafeProperty({ngDirectiveDef:getClosureSafeProperty});exports.NG_DIRECTIVE_DEF=NG_DIRECTIVE_DEF;var NG_PIPE_DEF=getClosureSafeProperty({ngPipeDef:getClosureSafeProperty});exports.NG_PIPE_DEF=NG_PIPE_DEF;var NG_MODULE_DEF=getClosureSafeProperty({ngModuleDef:getClosureSafeProperty});exports.NG_MODULE_DEF=NG_MODULE_DEF;var NG_LOCALE_ID_DEF=getClosureSafeProperty({ngLocaleIdDef:getClosureSafeProperty}),NG_BASE_DEF=getClosureSafeProperty({ngBaseDef:getClosureSafeProperty});exports.NG_BASE_DEF=NG_BASE_DEF;var NG_ELEMENT_ID=getClosureSafeProperty({__NG_ELEMENT_ID__:getClosureSafeProperty});exports.NG_ELEMENT_ID=NG_ELEMENT_ID;var _renderCompCount=0;function defineComponent(componentDefinition){var type=componentDefinition.type,typePrototype=type.prototype,declaredInputs={},def={type:type,providersResolver:null,consts:componentDefinition.consts,vars:componentDefinition.vars,factory:componentDefinition.factory,template:componentDefinition.template||null,ngContentSelectors:componentDefinition.ngContentSelectors,hostBindings:componentDefinition.hostBindings||null,contentQueries:componentDefinition.contentQueries||null,declaredInputs:declaredInputs,inputs:null,outputs:null,exportAs:componentDefinition.exportAs||null,onChanges:null,onInit:typePrototype.ngOnInit||null,doCheck:typePrototype.ngDoCheck||null,afterContentInit:typePrototype.ngAfterContentInit||null,afterContentChecked:typePrototype.ngAfterContentChecked||null,afterViewInit:typePrototype.ngAfterViewInit||null,afterViewChecked:typePrototype.ngAfterViewChecked||null,onDestroy:typePrototype.ngOnDestroy||null,onPush:componentDefinition.changeDetection===ChangeDetectionStrategy.OnPush,directiveDefs:null,pipeDefs:null,selectors:componentDefinition.selectors,viewQuery:componentDefinition.viewQuery||null,features:componentDefinition.features||null,data:componentDefinition.data||{},encapsulation:componentDefinition.encapsulation||ViewEncapsulation.Emulated,id:"c",styles:componentDefinition.styles||EMPTY_ARRAY,_:null,setInput:null,schemas:componentDefinition.schemas||null,tView:null};return def._=noSideEffects(function(){var directiveTypes=componentDefinition.directives,feature=componentDefinition.features,pipeTypes=componentDefinition.pipes;def.id+=_renderCompCount++,def.inputs=invertObject(componentDefinition.inputs,declaredInputs),def.outputs=invertObject(componentDefinition.outputs),feature&&feature.forEach(function(fn){return fn(def)}),def.directiveDefs=directiveTypes?function(){return("function"==typeof directiveTypes?directiveTypes():directiveTypes).map(extractDirectiveDef)}:null,def.pipeDefs=pipeTypes?function(){return("function"==typeof pipeTypes?pipeTypes():pipeTypes).map(extractPipeDef)}:null,type.hasOwnProperty(NG_INJECTABLE_DEF)||(type[NG_INJECTABLE_DEF]=defineInjectable({token:type,factory:componentDefinition.factory}))}),def}function setComponentScope(type,directives,pipes){var def=type.ngComponentDef;def.directiveDefs=function(){return directives.map(extractDirectiveDef)},def.pipeDefs=function(){return pipes.map(extractPipeDef)}}function extractDirectiveDef(type){var def=getComponentDef(type)||getDirectiveDef(type);if(ngDevMode&&!def)throw new Error("'"+type.name+"' is neither 'ComponentType' or 'DirectiveType'.");return def}function extractPipeDef(type){var def=getPipeDef(type);if(ngDevMode&&!def)throw new Error("'"+type.name+"' is not a 'PipeType'.");return def}function defineNgModule(def){return{type:def.type,bootstrap:def.bootstrap||EMPTY_ARRAY,declarations:def.declarations||EMPTY_ARRAY,imports:def.imports||EMPTY_ARRAY,exports:def.exports||EMPTY_ARRAY,transitiveCompileScopes:null,schemas:def.schemas||null,id:def.id||null}}function setNgModuleScope(type,scope){return noSideEffects(function(){var ngModuleDef=getNgModuleDef(type,!0);ngModuleDef.declarations=scope.declarations||EMPTY_ARRAY,ngModuleDef.imports=scope.imports||EMPTY_ARRAY,ngModuleDef.exports=scope.exports||EMPTY_ARRAY})}function invertObject(obj,secondary){if(null==obj)return EMPTY_OBJ;var newLookup={};for(var minifiedKey in obj)if(obj.hasOwnProperty(minifiedKey)){var publicName=obj[minifiedKey],declaredName=publicName;Array.isArray(publicName)&&(declaredName=publicName[1],publicName=publicName[0]),newLookup[publicName]=minifiedKey,secondary&&(secondary[publicName]=declaredName)}return newLookup}function defineBase(baseDefinition){var declaredInputs={};return{inputs:invertObject(baseDefinition.inputs,declaredInputs),declaredInputs:declaredInputs,outputs:invertObject(baseDefinition.outputs),viewQuery:baseDefinition.viewQuery||null,contentQueries:baseDefinition.contentQueries||null,hostBindings:baseDefinition.hostBindings||null}}var defineDirective=defineComponent;function definePipe(pipeDef){return{name:pipeDef.name,factory:pipeDef.factory,pure:!1!==pipeDef.pure,onDestroy:pipeDef.type.prototype.ngOnDestroy||null}}function getComponentDef(type){return type[NG_COMPONENT_DEF]||null}function getDirectiveDef(type){return type[NG_DIRECTIVE_DEF]||null}function getPipeDef(type){return type[NG_PIPE_DEF]||null}function getBaseDef(type){return type[NG_BASE_DEF]||null}function getNgModuleDef(type,throwNotFound){var ngModuleDef=type[NG_MODULE_DEF]||null;if(!ngModuleDef&&!0===throwNotFound)throw new Error("Type "+stringify(type)+" does not have 'ngModuleDef' property.");return ngModuleDef}exports.defineDirective=defineDirective;var HOST=0,TVIEW=1,FLAGS=2,PARENT=3,NEXT=4,QUERIES=5,T_HOST=6,BINDING_INDEX=7,CLEANUP=8,CONTEXT=9,INJECTOR$1=10,RENDERER_FACTORY=11,RENDERER=12,SANITIZER=13,CHILD_HEAD=14,CHILD_TAIL=15,DECLARATION_VIEW=16,DECLARATION_LCONTAINER=17,PREORDER_HOOK_FLAGS=18,HEADER_OFFSET=19,TYPE=1,ACTIVE_INDEX=2,MOVED_VIEWS=5,NATIVE=7,VIEW_REFS=8,CONTAINER_HEADER_OFFSET=9;function isLView(value){return Array.isArray(value)&&"object"==typeof value[TYPE]}function isLContainer(value){return Array.isArray(value)&&!0===value[TYPE]}function isContentQueryHost(tNode){return 0!=(4&tNode.flags)}function isComponent(tNode){return 1==(1&tNode.flags)}function isComponentDef(def){return null!==def.template}function isRootView(target){return 0!=(512&target[FLAGS])}function assertTNodeForLView(tNode,lView){tNode.hasOwnProperty("tView_")&&assertEqual(tNode.tView_,lView[TVIEW],"This TNode does not belong to this LView.")}function assertComponentType(actual,msg){void 0===msg&&(msg="Type passed in is not ComponentType, it does not have 'ngComponentDef' property."),getComponentDef(actual)||throwError(msg)}function assertHasParent(tNode){assertDefined(tNode,"previousOrParentTNode should exist!"),assertDefined(tNode.parent,"previousOrParentTNode should have a parent")}function assertLContainer(value){assertDefined(value,"LContainer must be defined"),assertEqual(isLContainer(value),!0,"Expecting LContainer")}function assertLViewOrUndefined(value){value&&assertEqual(isLView(value),!0,"Expecting LView or undefined or null")}function assertLView(value){assertDefined(value,"LView must be defined"),assertEqual(isLView(value),!0,"Expecting LView")}function assertFirstTemplatePass(tView,errMessage){assertEqual(tView.firstTemplatePass,!0,errMessage)}var TNODE=8,PARENT_INJECTOR=8,INJECTOR_BLOOM_PARENT_SIZE=9,NO_PARENT_INJECTOR=-1,NodeInjectorFactory=function(){return function(factory,isViewProvider,injectImplementation){this.factory=factory,this.resolving=!1,this.canSeeViewProviders=isViewProvider,this.injectImpl=injectImplementation}}();function assertNodeType(tNode,type){assertDefined(tNode,"should be called with a TNode"),assertEqual(tNode.type,type,"should be a "+typeName(type))}function assertNodeOfPossibleTypes(tNode){for(var types=[],_i=1;_i<arguments.length;_i++)types[_i-1]=arguments[_i];assertDefined(tNode,"should be called with a TNode"),assertEqual(types.some(function(type){return tNode.type===type}),!0,"Should be one of "+types.map(typeName).join(", ")+" but got "+typeName(tNode.type))}function typeName(type){return 1==type?"Projection":0==type?"Container":2==type?"View":3==type?"Element":4==type?"ElementContainer":"<unknown>"}function registerPreOrderHooks(directiveIndex,directiveDef,tView,nodeIndex,initialPreOrderHooksLength,initialPreOrderCheckHooksLength){ngDevMode&&assertEqual(tView.firstTemplatePass,!0,"Should only be called on first template pass");var onChanges=directiveDef.onChanges,onInit=directiveDef.onInit,doCheck=directiveDef.doCheck;initialPreOrderHooksLength>=0&&(!tView.preOrderHooks||initialPreOrderHooksLength===tView.preOrderHooks.length)&&(onChanges||onInit||doCheck)&&(tView.preOrderHooks||(tView.preOrderHooks=[])).push(nodeIndex),initialPreOrderCheckHooksLength>=0&&(!tView.preOrderCheckHooks||initialPreOrderCheckHooksLength===tView.preOrderCheckHooks.length)&&(onChanges||doCheck)&&(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(nodeIndex),onChanges&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,onChanges),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,onChanges)),onInit&&(tView.preOrderHooks||(tView.preOrderHooks=[])).push(-directiveIndex,onInit),doCheck&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,doCheck),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,doCheck))}function registerPostOrderHooks(tView,tNode){if(tView.firstTemplatePass)for(var i=tNode.directiveStart,end=tNode.directiveEnd;i<end;i++){var directiveDef=tView.data[i];directiveDef.afterContentInit&&(tView.contentHooks||(tView.contentHooks=[])).push(-i,directiveDef.afterContentInit),directiveDef.afterContentChecked&&((tView.contentHooks||(tView.contentHooks=[])).push(i,directiveDef.afterContentChecked),(tView.contentCheckHooks||(tView.contentCheckHooks=[])).push(i,directiveDef.afterContentChecked)),directiveDef.afterViewInit&&(tView.viewHooks||(tView.viewHooks=[])).push(-i,directiveDef.afterViewInit),directiveDef.afterViewChecked&&((tView.viewHooks||(tView.viewHooks=[])).push(i,directiveDef.afterViewChecked),(tView.viewCheckHooks||(tView.viewCheckHooks=[])).push(i,directiveDef.afterViewChecked)),null!=directiveDef.onDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(i,directiveDef.onDestroy)}}function executePreOrderHooks(currentView,tView,checkNoChangesMode,currentNodeIndex){checkNoChangesMode||executeHooks(currentView,tView.preOrderHooks,tView.preOrderCheckHooks,checkNoChangesMode,0,void 0!==currentNodeIndex?currentNodeIndex:null)}function executeHooks(currentView,firstPassHooks,checkHooks,checkNoChangesMode,initPhaseState,currentNodeIndex){if(!checkNoChangesMode){var hooksToCall=(3&currentView[FLAGS])===initPhaseState?firstPassHooks:checkHooks;hooksToCall&&function(currentView,arr,initPhase,currentNodeIndex){for(var startIndex=void 0!==currentNodeIndex?65535&currentView[PREORDER_HOOK_FLAGS]:0,nodeIndexLimit=null!=currentNodeIndex?currentNodeIndex:-1,lastNodeIndexFound=0,i=startIndex;i<arr.length;i++){var hook=arr[i+1];if("number"==typeof hook){if(lastNodeIndexFound=arr[i],null!=currentNodeIndex&&lastNodeIndexFound>=currentNodeIndex)break}else{var isInitHook=arr[i]<0;isInitHook&&(currentView[PREORDER_HOOK_FLAGS]+=65536),(lastNodeIndexFound<nodeIndexLimit||-1==nodeIndexLimit)&&(callHook(currentView,initPhase,arr,i),currentView[PREORDER_HOOK_FLAGS]=(4294901760&currentView[PREORDER_HOOK_FLAGS])+i+2),i++}}}(currentView,hooksToCall,initPhaseState,currentNodeIndex),null==currentNodeIndex&&(3&currentView[FLAGS])===initPhaseState&&3!==initPhaseState&&(currentView[FLAGS]&=1023,currentView[FLAGS]+=1)}}function callHook(currentView,initPhase,arr,i){var isInitHook=arr[i]<0,hook=arr[i+1],directive=currentView[isInitHook?-arr[i]:arr[i]];isInitHook?currentView[FLAGS]>>10<currentView[PREORDER_HOOK_FLAGS]>>16&&(3&currentView[FLAGS])===initPhase&&(currentView[FLAGS]+=1024,hook.call(directive)):hook.call(directive)}var _stylingState=null,_stateStorage=new Map,_stylingElement=null,STYLING_INDEX_START_VALUE=1,BIT_MASK_START_VALUE=0;function getStylingState(element,readFromMap){return _stylingElement&&element===_stylingElement||(_stylingElement=element,readFromMap&&(_stylingState=_stateStorage.get(element)||null,ngDevMode&&ngDevMode.stylingReadPersistedState++),_stylingState=_stylingState||{classesBitMask:BIT_MASK_START_VALUE,classesIndex:STYLING_INDEX_START_VALUE,stylesBitMask:BIT_MASK_START_VALUE,stylesIndex:STYLING_INDEX_START_VALUE}),_stylingState}function resetStylingState(){_stylingState=null,_stylingElement=null}var elementDepthCount,MONKEY_PATCH_KEY_NAME="__ngContext__";function unwrapRNode(value){for(;Array.isArray(value);)value=value[HOST];return value}function getNativeByIndex(index,lView){return unwrapRNode(lView[index+HEADER_OFFSET])}function getNativeByTNode(tNode,lView){ngDevMode&&assertTNodeForLView(tNode,lView),ngDevMode&&assertDataInRange(lView,tNode.index);var node=unwrapRNode(lView[tNode.index]);return ngDevMode&&assertDomNode(node),node}function getNativeByTNodeOrNull(tNode,lView){ngDevMode&&assertTNodeForLView(tNode,lView);var index=tNode.index,node=-1==index?null:unwrapRNode(lView[index]);return ngDevMode&&null!==node&&assertDomNode(node),node}function getTNode(index,view){return ngDevMode&&assertGreaterThan(index,-1,"wrong index for TNode"),ngDevMode&&assertLessThan(index,view[TVIEW].data.length,"wrong index for TNode"),view[TVIEW].data[index+HEADER_OFFSET]}function loadInternal(view,index){return ngDevMode&&assertDataInRange(view,index+HEADER_OFFSET),view[index+HEADER_OFFSET]}function getComponentViewByIndex(nodeIndex,hostView){var slotValue=hostView[nodeIndex];return isLView(slotValue)?slotValue:slotValue[HOST]}function readPatchedData(target){return ngDevMode&&assertDefined(target,"Target expected"),target[MONKEY_PATCH_KEY_NAME]}function readPatchedLView(target){var value=readPatchedData(target);return value?Array.isArray(value)?value:value.lView:null}function resetPreOrderHookFlags(lView){lView[PREORDER_HOOK_FLAGS]=0}var bindingsEnabled,currentDirectiveDef=null;function setCurrentDirectiveDef(def){currentDirectiveDef=def}function getBindingsEnabled(){return bindingsEnabled}function enableBindings(){bindingsEnabled=!0}function disableBindings(){bindingsEnabled=!1}function getLView(){return lView}var previousOrParentTNode,isParent,lView,MIN_DIRECTIVE_ID=1,activeDirectiveId=MIN_DIRECTIVE_ID,activeDirectiveSuperClassDepthPosition=0,activeDirectiveSuperClassHeight=0;function setActiveHostElement(elementIndex){void 0===elementIndex&&(elementIndex=null),_selectedIndex!==elementIndex&&(setSelectedIndex(null==elementIndex?-1:elementIndex),activeDirectiveId=null==elementIndex?0:MIN_DIRECTIVE_ID,activeDirectiveSuperClassDepthPosition=0,activeDirectiveSuperClassHeight=0)}function incrementActiveDirectiveId(){activeDirectiveId+=1+activeDirectiveSuperClassHeight,activeDirectiveSuperClassDepthPosition=0,activeDirectiveSuperClassHeight=0}function adjustActiveDirectiveSuperClassDepthPosition(delta){activeDirectiveSuperClassDepthPosition+=delta,activeDirectiveSuperClassHeight=Math.max(activeDirectiveSuperClassHeight,activeDirectiveSuperClassDepthPosition)}function restoreView(viewToRestore){contextLView=viewToRestore}function getPreviousOrParentTNode(){return previousOrParentTNode}function setPreviousOrParentTNode(tNode,_isParent){previousOrParentTNode=tNode,isParent=_isParent}function setTNodeAndViewData(tNode,view){ngDevMode&&assertLViewOrUndefined(view),previousOrParentTNode=tNode,lView=view}function getIsParent(){return isParent}function setIsNotParent(){isParent=!1}function isCreationMode(view){return void 0===view&&(view=lView),4==(4&view[FLAGS])}var contextLView=null;function getContextLView(){return contextLView}var checkNoChangesMode=!1;function getCheckNoChangesMode(){return checkNoChangesMode}function setCheckNoChangesMode(mode){checkNoChangesMode=mode}var bindingRootIndex=-1;function getBindingRoot(){return bindingRootIndex}function setBindingRoot(value){bindingRootIndex=value}var currentQueryIndex=0;function getCurrentQueryIndex(){return currentQueryIndex}function setCurrentQueryIndex(value){currentQueryIndex=value}function enterView(newView,hostTNode){ngDevMode&&assertLViewOrUndefined(newView);var oldView=lView;if(newView){var tView=newView[TVIEW];bindingRootIndex=tView.bindingStartIndex}return previousOrParentTNode=hostTNode,isParent=!0,lView=contextLView=newView,oldView}function nextContextImpl(level){return void 0===level&&(level=1),(contextLView=function(nestingLevel,currentView){for(;nestingLevel>0;)ngDevMode&&assertDefined(currentView[DECLARATION_VIEW],"Declaration view should be defined if nesting level is greater than 0."),currentView=currentView[DECLARATION_VIEW],nestingLevel--;return currentView}(level,contextLView))[CONTEXT]}function resetComponentState(){isParent=!1,previousOrParentTNode=null,elementDepthCount=0,bindingsEnabled=!0,setCurrentStyleSanitizer(null),resetStylingState(),_stateStorage.clear()}function leaveView(newView,safeToRunHooks){var tView=lView[TVIEW];if(isCreationMode(lView))lView[FLAGS]&=-5;else try{resetPreOrderHookFlags(lView),safeToRunHooks&&executeHooks(lView,tView.viewHooks,tView.viewCheckHooks,checkNoChangesMode,2,void 0)}finally{lView[FLAGS]&=-73,lView[BINDING_INDEX]=tView.bindingStartIndex}enterView(newView,null)}var _selectedIndex=-1;function getSelectedIndex(){return _selectedIndex}function setSelectedIndex(index){_selectedIndex=index,resetStylingState()}var _currentSanitizer,_currentNamespace=null;function namespaceSVG(){_currentNamespace="http://www.w3.org/2000/svg"}function namespaceMathML(){_currentNamespace="http://www.w3.org/1998/MathML/"}function namespaceHTML(){namespaceHTMLInternal()}function namespaceHTMLInternal(){_currentNamespace=null}function setCurrentStyleSanitizer(sanitizer){_currentSanitizer=sanitizer}function getCurrentStyleSanitizer(){return _currentSanitizer}function isDifferent(a,b){return!(a!=a&&b!=b)&&a!==b}function renderStringify(value){return"string"==typeof value?value:null==value?"":""+value}function stringifyForError(value){return"function"==typeof value?value.name||value.toString():"object"==typeof value&&null!=value&&"function"==typeof value.type?value.type.name||value.type.toString():renderStringify(value)}var defaultScheduler=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_global);function resolveWindow(element){return{name:"window",target:element.ownerDocument.defaultView}}function resolveDocument(element){return{name:"document",target:element.ownerDocument}}function resolveBody(element){return{name:"body",target:element.ownerDocument.body}}var INTERPOLATION_DELIMITER="";function isPropMetadataString(str){return str.indexOf(INTERPOLATION_DELIMITER)>=0}function maybeUnwrapFn(value){return value instanceof Function?value():value}var RendererStyleFlags3,MAP_BASED_ENTRY_PROP_NAME="--MAP--",TEMPLATE_DIRECTIVE_INDEX=0;function updateLastDirectiveIndex(context,lastDirectiveIndex){lastDirectiveIndex===TEMPLATE_DIRECTIVE_INDEX?context[2]>TEMPLATE_DIRECTIVE_INDEX&&function(context){setConfig(context,2|getConfig(context))}(context):context[2]=lastDirectiveIndex}function getConfig(context){return context[1]}function setConfig(context,value){context[1]=value}function getProp(context,index){return context[index+2]}function getPropConfig(context,index){return 1&context[index+0]}function isSanitizationRequired(context,index){return(1&getPropConfig(context,index))>0}function getGuardMask(context,index){return context[index+0]>>1}function setGuardMask(context,index,maskValue){var config=getPropConfig(context,index),guardMask=maskValue<<1;context[index+0]=config|guardMask}function getValuesCount(context,index){return context[index+1]}function getBindingValue(context,index,offset){return context[index+3+offset]}function getDefaultValue(context,index){return context[index+3+getValuesCount(context,index)-1]}function allowStylingFlush(context,index){return!(!context||index!==context[2])}function isContextLocked(context){return(1&getConfig(context))>0}function stateIsPersisted(context){return(2&getConfig(context))>0}function getPropValuesStartPosition(context){return 6+context[4]}function hasValueChanged(a,b){var compareValueA=Array.isArray(a)?a[0]:a,compareValueB=Array.isArray(b)?b[0]:b;return compareValueA instanceof String&&(compareValueA=compareValueA.toString()),compareValueB instanceof String&&(compareValueB=compareValueB.toString()),isDifferent(compareValueA,compareValueB)}function isStylingValueDefined(value){return null!=value&&""!==value}function concatString(a,b,separator){return void 0===separator&&(separator=" "),a+(b.length&&a.length?separator:"")+b}function hyphenate(value){return value.replace(/[a-z][A-Z]/g,function(v){return v.charAt(0)+"-"+v.charAt(1)}).toLowerCase()}function getStylingMapArray(value){return isStylingContext(value)?value[0]:value}function isStylingContext(value){return Array.isArray(value)&&value.length>=6&&"string"!=typeof value[1]}function getInitialStylingValue(context){var map=getStylingMapArray(context);return map&&map[0]||""}function hasClassInput(tNode){return 0!=(8&tNode.flags)}function hasStyleInput(tNode){return 0!=(16&tNode.flags)}function getMapProp(map,index){return map[index+0]}function setMapValue(map,index,value){map[index+1]=value}function getMapValue(map,index){return map[index+1]}function isProceduralRenderer(renderer){return!!renderer.listen}!function(RendererStyleFlags3){RendererStyleFlags3[RendererStyleFlags3.Important=1]="Important",RendererStyleFlags3[RendererStyleFlags3.DashCase=2]="DashCase"}(RendererStyleFlags3||(RendererStyleFlags3={}));var domRendererFactory3={createRenderer:function(hostElement,rendererType){return document}};function setUpAttributes(native,attrs){for(var renderer=getLView()[RENDERER],isProc=isProceduralRenderer(renderer),i=0;i<attrs.length;){var value=attrs[i];if("number"==typeof value){if(0!==value)break;i++;var namespaceURI=attrs[i++],attrName=attrs[i++],attrVal=attrs[i++];ngDevMode&&ngDevMode.rendererSetAttribute++,isProc?renderer.setAttribute(native,attrName,attrVal,namespaceURI):native.setAttributeNS(namespaceURI,attrName,attrVal)}else{attrName=value,attrVal=attrs[++i];ngDevMode&&ngDevMode.rendererSetAttribute++,isAnimationProp(attrName)?isProc&&renderer.setProperty(native,attrName,attrVal):isProc?renderer.setAttribute(native,attrName,attrVal):native.setAttribute(attrName,attrVal),i++}}return i}function isNameOnlyAttributeMarker(marker){return 3===marker||4===marker||6===marker}var ANIMATION_PROP_PREFIX="@";function isAnimationProp(name){return name[0]===ANIMATION_PROP_PREFIX}function hasParentInjector(parentLocation){return parentLocation!==NO_PARENT_INJECTOR}function getParentInjectorIndex(parentLocation){return 32767&parentLocation}function getParentInjectorViewOffset(parentLocation){return parentLocation>>16}function getParentInjectorView(location,startView){for(var viewOffset=getParentInjectorViewOffset(location),parentView=startView;viewOffset>0;)parentView=parentView[DECLARATION_VIEW],viewOffset--;return parentView}function getLViewParent(lView){ngDevMode&&assertLView(lView);var parent=lView[PARENT];return isLContainer(parent)?parent[PARENT]:parent}function getRootView(componentOrLView){ngDevMode&&assertDefined(componentOrLView,"component");for(var lView=isLView(componentOrLView)?componentOrLView:readPatchedLView(componentOrLView);lView&&!(512&lView[FLAGS]);)lView=getLViewParent(lView);return ngDevMode&&assertLView(lView),lView}function findComponentView(lView){for(var rootTNode=lView[T_HOST];null!==rootTNode&&2===rootTNode.type;)ngDevMode&&assertDefined(lView[DECLARATION_VIEW],"lView[DECLARATION_VIEW]"),rootTNode=(lView=lView[DECLARATION_VIEW])[T_HOST];return ngDevMode&&assertLView(lView),lView}function getRootContext(viewOrComponent){var rootView=getRootView(viewOrComponent);return ngDevMode&&assertDefined(rootView[CONTEXT],"RootView has no context. Perhaps it is disconnected?"),rootView[CONTEXT]}var includeViewProviders=!0;function setIncludeViewProviders(v){var oldValue=includeViewProviders;return includeViewProviders=v,oldValue}var BLOOM_MASK=255,nextNgElementId=0;function getOrCreateNodeInjectorForNode(tNode,hostView){var existingInjectorIndex=getInjectorIndex(tNode,hostView);if(-1!==existingInjectorIndex)return existingInjectorIndex;var tView=hostView[TVIEW];tView.firstTemplatePass&&(tNode.injectorIndex=hostView.length,insertBloom(tView.data,tNode),insertBloom(hostView,null),insertBloom(tView.blueprint,null),ngDevMode&&assertEqual(0===tNode.flags||1===tNode.flags,!0,"expected tNode.flags to not be initialized"));var parentLoc=getParentInjectorLocation(tNode,hostView),parentIndex=getParentInjectorIndex(parentLoc),parentLView=getParentInjectorView(parentLoc,hostView),injectorIndex=tNode.injectorIndex;if(hasParentInjector(parentLoc))for(var parentData=parentLView[TVIEW].data,i=0;i<8;i++)hostView[injectorIndex+i]=parentLView[parentIndex+i]|parentData[parentIndex+i];return hostView[injectorIndex+PARENT_INJECTOR]=parentLoc,injectorIndex}function insertBloom(arr,footer){arr.push(0,0,0,0,0,0,0,0,footer)}function getInjectorIndex(tNode,hostView){return-1===tNode.injectorIndex||tNode.parent&&tNode.parent.injectorIndex===tNode.injectorIndex||null==hostView[tNode.injectorIndex+PARENT_INJECTOR]?-1:tNode.injectorIndex}function getParentInjectorLocation(tNode,view){if(tNode.parent&&-1!==tNode.parent.injectorIndex)return tNode.parent.injectorIndex;for(var hostTNode=view[T_HOST],viewOffset=1;hostTNode&&-1===hostTNode.injectorIndex;)hostTNode=(view=view[DECLARATION_VIEW])?view[T_HOST]:null,viewOffset++;return hostTNode?hostTNode.injectorIndex|viewOffset<<16:-1}function diPublicInInjector(injectorIndex,tView,token){!function(injectorIndex,tView,type){ngDevMode&&assertEqual(tView.firstTemplatePass,!0,"expected firstTemplatePass to be true");var id="string"!=typeof type?type[NG_ELEMENT_ID]:type.charCodeAt(0)||0;null==id&&(id=type[NG_ELEMENT_ID]=nextNgElementId++);var bloomBit=id&BLOOM_MASK,mask=1<<bloomBit,b7=128&bloomBit,b6=64&bloomBit,b5=32&bloomBit,tData=tView.data;b7?b6?b5?tData[injectorIndex+7]|=mask:tData[injectorIndex+6]|=mask:b5?tData[injectorIndex+5]|=mask:tData[injectorIndex+4]|=mask:b6?b5?tData[injectorIndex+3]|=mask:tData[injectorIndex+2]|=mask:b5?tData[injectorIndex+1]|=mask:tData[injectorIndex]|=mask}(injectorIndex,tView,token)}function injectAttributeImpl(tNode,attrNameToInject){if(ngDevMode&&assertNodeOfPossibleTypes(tNode,0,3,4),ngDevMode&&assertDefined(tNode,"expecting tNode"),"class"===attrNameToInject)return getInitialStylingValue(tNode.classes);if("style"===attrNameToInject)return getInitialStylingValue(tNode.styles);var attrs=tNode.attrs;if(attrs)for(var attrsLength=attrs.length,i=0;i<attrsLength;){var value=attrs[i];if(isNameOnlyAttributeMarker(value))break;if(0===value)i+=2;else if("number"==typeof value)for(i++;i<attrsLength&&"string"==typeof attrs[i];)i++;else{if(value===attrNameToInject)return attrs[i+1];i+=2}}return null}function getOrCreateInjectable(tNode,lView,token,flags,notFoundValue){if(void 0===flags&&(flags=InjectFlags.Default),tNode){var bloomHash=function(token){if(ngDevMode&&assertDefined(token,"token must be defined"),"string"==typeof token)return token.charCodeAt(0)||0;var tokenId=token[NG_ELEMENT_ID];return"number"==typeof tokenId&&tokenId>0?tokenId&BLOOM_MASK:tokenId}(token);if("function"==typeof bloomHash){var savePreviousOrParentTNode=getPreviousOrParentTNode(),saveLView=getLView();setTNodeAndViewData(tNode,lView);try{var value=bloomHash();if(null!=value||flags&InjectFlags.Optional)return value;throw new Error("No provider for "+stringifyForError(token)+"!")}finally{setTNodeAndViewData(savePreviousOrParentTNode,saveLView)}}else if("number"==typeof bloomHash){if(-1===bloomHash)return new NodeInjector(tNode,lView);var previousTView=null,injectorIndex=getInjectorIndex(tNode,lView),parentLocation=NO_PARENT_INJECTOR,hostTElementNode=flags&InjectFlags.Host?findComponentView(lView)[T_HOST]:null;for((-1===injectorIndex||flags&InjectFlags.SkipSelf)&&(parentLocation=-1===injectorIndex?getParentInjectorLocation(tNode,lView):lView[injectorIndex+PARENT_INJECTOR],shouldSearchParent(flags,!1)?(previousTView=lView[TVIEW],injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1);-1!==injectorIndex;){parentLocation=lView[injectorIndex+PARENT_INJECTOR];var tView=lView[TVIEW];if(bloomHasToken(bloomHash,injectorIndex,tView.data)){var instance=searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode);if(instance!==NOT_FOUND)return instance}shouldSearchParent(flags,lView[TVIEW].data[injectorIndex+TNODE]===hostTElementNode)&&bloomHasToken(bloomHash,injectorIndex,lView)?(previousTView=tView,injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1}}}if(flags&InjectFlags.Optional&&void 0===notFoundValue&&(notFoundValue=null),0==(flags&(InjectFlags.Self|InjectFlags.Host))){var moduleInjector=lView[INJECTOR$1],previousInjectImplementation=setInjectImplementation(void 0);try{return moduleInjector?moduleInjector.get(token,notFoundValue,flags&InjectFlags.Optional):injectRootLimpMode(token,notFoundValue,flags&InjectFlags.Optional)}finally{setInjectImplementation(previousInjectImplementation)}}if(flags&InjectFlags.Optional)return notFoundValue;throw new Error("NodeInjector: NOT_FOUND ["+stringifyForError(token)+"]")}var NOT_FOUND={};function searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode){var currentTView=lView[TVIEW],tNode=currentTView.data[injectorIndex+TNODE],injectableIdx=locateDirectiveOrProvider(tNode,currentTView,token,null==previousTView?isComponent(tNode)&&includeViewProviders:previousTView!=currentTView&&3===tNode.type,flags&InjectFlags.Host&&hostTElementNode===tNode);return null!==injectableIdx?getNodeInjectable(currentTView.data,lView,injectableIdx,tNode):NOT_FOUND}function locateDirectiveOrProvider(tNode,tView,token,canAccessViewProviders,isHostSpecialCase){for(var nodeProviderIndexes=tNode.providerIndexes,tInjectables=tView.data,injectablesStart=65535&nodeProviderIndexes,directivesStart=tNode.directiveStart,directiveEnd=tNode.directiveEnd,cptViewProvidersCount=nodeProviderIndexes>>16,endIndex=isHostSpecialCase?injectablesStart+cptViewProvidersCount:directiveEnd,i=canAccessViewProviders?injectablesStart:injectablesStart+cptViewProvidersCount;i<endIndex;i++){var providerTokenOrDef=tInjectables[i];if(i<directivesStart&&token===providerTokenOrDef||i>=directivesStart&&providerTokenOrDef.type===token)return i}if(isHostSpecialCase){var dirDef=tInjectables[directivesStart];if(dirDef&&isComponentDef(dirDef)&&dirDef.type===token)return directivesStart}return null}function getNodeInjectable(tData,lData,index,tNode){var obj,value=lData[index];if(null!==(obj=value)&&"object"==typeof obj&&Object.getPrototypeOf(obj)==NodeInjectorFactory.prototype){var factory=value;if(factory.resolving)throw new Error("Circular dep for "+stringifyForError(tData[index]));var previousIncludeViewProviders=setIncludeViewProviders(factory.canSeeViewProviders);factory.resolving=!0;var previousInjectImplementation=void 0;factory.injectImpl&&(previousInjectImplementation=setInjectImplementation(factory.injectImpl));var savePreviousOrParentTNode=getPreviousOrParentTNode(),saveLView=getLView();setTNodeAndViewData(tNode,lData);try{value=lData[index]=factory.factory(void 0,tData,lData,tNode)}finally{factory.injectImpl&&setInjectImplementation(previousInjectImplementation),setIncludeViewProviders(previousIncludeViewProviders),factory.resolving=!1,setTNodeAndViewData(savePreviousOrParentTNode,saveLView)}}return value}function bloomHasToken(bloomHash,injectorIndex,injectorView){var mask=1<<bloomHash,b6=64&bloomHash,b5=32&bloomHash;return!!((128&bloomHash?b6?b5?injectorView[injectorIndex+7]:injectorView[injectorIndex+6]:b5?injectorView[injectorIndex+5]:injectorView[injectorIndex+4]:b6?b5?injectorView[injectorIndex+3]:injectorView[injectorIndex+2]:b5?injectorView[injectorIndex+1]:injectorView[injectorIndex])&mask)}function shouldSearchParent(flags,isFirstHostTNode){return!(flags&InjectFlags.Self||flags&InjectFlags.Host&&isFirstHostTNode)}var NodeInjector=function(){function NodeInjector(_tNode,_lView){this._tNode=_tNode,this._lView=_lView}return NodeInjector.prototype.get=function(token,notFoundValue){return getOrCreateInjectable(this._tNode,this._lView,token,void 0,notFoundValue)},NodeInjector}();function getFactoryOf(type){var typeAny=type,def=getComponentDef(typeAny)||getDirectiveDef(typeAny)||getPipeDef(typeAny)||getInjectableDef(typeAny)||getInjectorDef(typeAny);return def&&void 0!==def.factory?def.factory:null}function getInheritedFactory(type){var factory=getFactoryOf(Object.getPrototypeOf(type.prototype).constructor);return null!==factory?factory:function(t){return new t}}var ERROR_DEBUG_CONTEXT="ngDebugContext",ERROR_ORIGINAL_ERROR="ngOriginalError",ERROR_LOGGER="ngErrorLogger";function getDebugContext(error){return error[ERROR_DEBUG_CONTEXT]}function getOriginalError(error){return error[ERROR_ORIGINAL_ERROR]}function defaultErrorLogger(console){for(var values=[],_i=1;_i<arguments.length;_i++)values[_i-1]=arguments[_i];console.error.apply(console,(0,_tslib.__spread)(values))}var ErrorHandler=function(){function ErrorHandler(){this._console=console}return ErrorHandler.prototype.handleError=function(error){var originalError=this._findOriginalError(error),context=this._findContext(error),errorLogger=function(error){return error[ERROR_LOGGER]||defaultErrorLogger}(error);errorLogger(this._console,"ERROR",error),originalError&&errorLogger(this._console,"ORIGINAL ERROR",originalError),context&&errorLogger(this._console,"ERROR CONTEXT",context)},ErrorHandler.prototype._findContext=function(error){return error?getDebugContext(error)?getDebugContext(error):this._findContext(getOriginalError(error)):null},ErrorHandler.prototype._findOriginalError=function(error){for(var e=getOriginalError(error);e&&getOriginalError(e);)e=getOriginalError(e);return e},ErrorHandler}();exports.ErrorHandler=ErrorHandler;var CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"};exports.CUSTOM_ELEMENTS_SCHEMA=CUSTOM_ELEMENTS_SCHEMA;var NO_ERRORS_SCHEMA={name:"no-errors-schema"};exports.NO_ERRORS_SCHEMA=NO_ERRORS_SCHEMA;var BRAND="__SANITIZER_TRUSTED_BRAND__";function allowSanitizationBypass(value,type){return value instanceof String&&value[BRAND]===type}function bypassSanitizationTrustString(trustedString,mode){var trusted=new String(trustedString);return trusted[BRAND]=mode,trusted}var _devMode=!0,_runModeLocked=!1;function isDevMode(){return _runModeLocked=!0,_devMode}var InertBodyHelper=function(){function InertBodyHelper(defaultDoc){if(this.defaultDoc=defaultDoc,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var inertHtml=this.inertDocument.createElement("html");this.inertDocument.appendChild(inertHtml),this.inertBodyElement=this.inertDocument.createElement("body"),inertHtml.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(_a){return!1}}()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return InertBodyHelper.prototype.getInertBodyElement_XHR=function(html){html="<body><remove></remove>"+html+"</body>";try{html=encodeURI(html)}catch(_a){return null}var xhr=new XMLHttpRequest;xhr.responseType="document",xhr.open("GET","data:text/html;charset=utf-8,"+html,!1),xhr.send(void 0);var body=xhr.response.body;return body.removeChild(body.firstChild),body},InertBodyHelper.prototype.getInertBodyElement_DOMParser=function(html){html="<body><remove></remove>"+html+"</body>";try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;return body.removeChild(body.firstChild),body}catch(_a){return null}},InertBodyHelper.prototype.getInertBodyElement_InertDocument=function(html){var templateEl=this.inertDocument.createElement("template");return"content"in templateEl?(templateEl.innerHTML=html,templateEl):(this.inertBodyElement.innerHTML=html,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},InertBodyHelper.prototype.stripCustomNsAttrs=function(el){for(var elAttrs=el.attributes,i=elAttrs.length-1;0<i;i--){var attrName=elAttrs.item(i).name;"xmlns:ns1"!==attrName&&0!==attrName.indexOf("ns1:")||el.removeAttribute(attrName)}for(var childNode=el.firstChild;childNode;)childNode.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(childNode),childNode=childNode.nextSibling},InertBodyHelper}();var SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _sanitizeUrl(url){return(url=String(url)).match(SAFE_URL_PATTERN)||url.match(DATA_URL_PATTERN)?url:(isDevMode()&&console.warn("WARNING: sanitizing unsafe URL value "+url+" (see http://g.co/ng/security#xss)"),"unsafe:"+url)}function sanitizeSrcset(srcset){return(srcset=String(srcset)).split(",").map(function(srcset){return _sanitizeUrl(srcset.trim())}).join(", ")}function tagSet(tags){var e_1,_a,res={};try{for(var _b=(0,_tslib.__values)(tags.split(",")),_c=_b.next();!_c.done;_c=_b.next()){res[_c.value]=!0}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return res}function merge(){for(var e_2,_a,sets=[],_i=0;_i<arguments.length;_i++)sets[_i]=arguments[_i];var res={};try{for(var sets_1=(0,_tslib.__values)(sets),sets_1_1=sets_1.next();!sets_1_1.done;sets_1_1=sets_1.next()){var s=sets_1_1.value;for(var v in s)s.hasOwnProperty(v)&&(res[v]=!0)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{sets_1_1&&!sets_1_1.done&&(_a=sets_1.return)&&_a.call(sets_1)}finally{if(e_2)throw e_2.error}}return res}var inertBodyHelper,SecurityContext,VOID_ELEMENTS=tagSet("area,br,col,hr,img,wbr"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet("rp,rt"),OPTIONAL_END_TAG_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),BLOCK_ELEMENTS=merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),INLINE_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),VALID_ELEMENTS=merge(VOID_ELEMENTS,BLOCK_ELEMENTS,INLINE_ELEMENTS,OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SRCSET_ATTRS=tagSet("srcset"),HTML_ATTRS=tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ARIA_ATTRS=tagSet("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),VALID_ATTRS=merge(URI_ATTRS,SRCSET_ATTRS,HTML_ATTRS,ARIA_ATTRS),SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS=tagSet("script,style,template"),SanitizingHtmlSerializer=function(){function SanitizingHtmlSerializer(){this.sanitizedSomething=!1,this.buf=[]}return SanitizingHtmlSerializer.prototype.sanitizeChildren=function(el){for(var current=el.firstChild,traverseContent=!0;current;)if(current.nodeType===Node.ELEMENT_NODE?traverseContent=this.startElement(current):current.nodeType===Node.TEXT_NODE?this.chars(current.nodeValue):this.sanitizedSomething=!0,traverseContent&&current.firstChild)current=current.firstChild;else for(;current;){current.nodeType===Node.ELEMENT_NODE&&this.endElement(current);var next=this.checkClobberedElement(current,current.nextSibling);if(next){current=next;break}current=this.checkClobberedElement(current,current.parentNode)}return this.buf.join("")},SanitizingHtmlSerializer.prototype.startElement=function(element){var tagName=element.nodeName.toLowerCase();if(!VALID_ELEMENTS.hasOwnProperty(tagName))return this.sanitizedSomething=!0,!SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS.hasOwnProperty(tagName);this.buf.push("<"),this.buf.push(tagName);for(var elAttrs=element.attributes,i=0;i<elAttrs.length;i++){var elAttr=elAttrs.item(i),attrName=elAttr.name,lower=attrName.toLowerCase();if(VALID_ATTRS.hasOwnProperty(lower)){var value=elAttr.value;URI_ATTRS[lower]&&(value=_sanitizeUrl(value)),SRCSET_ATTRS[lower]&&(value=sanitizeSrcset(value)),this.buf.push(" ",attrName,'="',encodeEntities(value),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},SanitizingHtmlSerializer.prototype.endElement=function(current){var tagName=current.nodeName.toLowerCase();VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push("</"),this.buf.push(tagName),this.buf.push(">"))},SanitizingHtmlSerializer.prototype.chars=function(chars){this.buf.push(encodeEntities(chars))},SanitizingHtmlSerializer.prototype.checkClobberedElement=function(node,nextNode){if(nextNode&&(node.compareDocumentPosition(nextNode)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+node.outerHTML);return nextNode},SanitizingHtmlSerializer}(),SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g;function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(match){return"&#"+(1024*(match.charCodeAt(0)-55296)+(match.charCodeAt(1)-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(match){return"&#"+match.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _sanitizeHtml(defaultDoc,unsafeHtmlInput){var inertBodyElement=null;try{inertBodyHelper=inertBodyHelper||new InertBodyHelper(defaultDoc);var unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):"";inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml);var mXSSAttempts=5,parsedHtml=unsafeHtml;do{if(0===mXSSAttempts)throw new Error("Failed to sanitize html because the input is unstable");mXSSAttempts--,unsafeHtml=parsedHtml,parsedHtml=inertBodyElement.innerHTML,inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml)}while(unsafeHtml!==parsedHtml);var sanitizer=new SanitizingHtmlSerializer,safeHtml=sanitizer.sanitizeChildren(getTemplateContent(inertBodyElement)||inertBodyElement);return isDevMode()&&sanitizer.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),safeHtml}finally{if(inertBodyElement)for(var parent_1=getTemplateContent(inertBodyElement)||inertBodyElement;parent_1.firstChild;)parent_1.removeChild(parent_1.firstChild)}}function getTemplateContent(el){return"content"in el&&function(el){return el.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===el.nodeName}(el)?el.content:null}exports.SecurityContext=SecurityContext,function(SecurityContext){SecurityContext[SecurityContext.NONE=0]="NONE",SecurityContext[SecurityContext.HTML=1]="HTML",SecurityContext[SecurityContext.STYLE=2]="STYLE",SecurityContext[SecurityContext.SCRIPT=3]="SCRIPT",SecurityContext[SecurityContext.URL=4]="URL",SecurityContext[SecurityContext.RESOURCE_URL=5]="RESOURCE_URL"}(SecurityContext||(exports.SecurityContext=SecurityContext={}));var Sanitizer=function(){return function(){}}();exports.Sanitizer=Sanitizer;var SAFE_STYLE_VALUE=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),URL_RE=/^url\(([^)]+)\)$/;function _sanitizeStyle(value){if(!(value=String(value).trim()))return"";var urlMatch=value.match(URL_RE);return urlMatch&&_sanitizeUrl(urlMatch[1])===urlMatch[1]||value.match(SAFE_STYLE_VALUE)&&function(value){for(var outsideSingle=!0,outsideDouble=!0,i=0;i<value.length;i++){var c=value.charAt(i);"'"===c&&outsideDouble?outsideSingle=!outsideSingle:'"'===c&&outsideSingle&&(outsideDouble=!outsideDouble)}return outsideSingle&&outsideDouble}(value)?value:(isDevMode()&&console.warn("WARNING: sanitizing unsafe style value "+value+" (see http://g.co/ng/security#xss)."),"unsafe")}function sanitizeHtml(unsafeHtml){var sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.HTML,unsafeHtml)||"":allowSanitizationBypass(unsafeHtml,"Html")?unsafeHtml.toString():_sanitizeHtml(document,renderStringify(unsafeHtml))}function sanitizeStyle(unsafeStyle){var sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.STYLE,unsafeStyle)||"":allowSanitizationBypass(unsafeStyle,"Style")?unsafeStyle.toString():_sanitizeStyle(renderStringify(unsafeStyle))}function sanitizeUrl(unsafeUrl){var sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.URL,unsafeUrl)||"":allowSanitizationBypass(unsafeUrl,"Url")?unsafeUrl.toString():_sanitizeUrl(renderStringify(unsafeUrl))}function sanitizeResourceUrl(unsafeResourceUrl){var sanitizer=getSanitizer();if(sanitizer)return sanitizer.sanitize(SecurityContext.RESOURCE_URL,unsafeResourceUrl)||"";if(allowSanitizationBypass(unsafeResourceUrl,"ResourceUrl"))return unsafeResourceUrl.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function sanitizeScript(unsafeScript){var sanitizer=getSanitizer();if(sanitizer)return sanitizer.sanitize(SecurityContext.SCRIPT,unsafeScript)||"";if(allowSanitizationBypass(unsafeScript,"Script"))return unsafeScript.toString();throw new Error("unsafe value used in a script context")}function getUrlSanitizer(tag,prop){return"src"===prop&&("embed"===tag||"frame"===tag||"iframe"===tag||"media"===tag||"script"===tag)||"href"===prop&&("base"===tag||"link"===tag)?sanitizeResourceUrl:sanitizeUrl}function sanitizeUrlOrResourceUrl(unsafeUrl,tag,prop){return getUrlSanitizer(tag,prop)(unsafeUrl)}var defaultStyleSanitizer=function(prop,value,mode){var doSanitizeValue=!0;return 1&(mode=mode||3)&&(doSanitizeValue="background-image"===prop||"background"===prop||"border-image"===prop||"filter"===prop||"list-style"===prop||"list-style-image"===prop||"clip-path"===prop),2&mode?doSanitizeValue?sanitizeStyle(value):value:doSanitizeValue};function getSanitizer(){var lView=getLView();return lView&&lView[SANITIZER]}function createNamedArrayType(name){if(!ngDevMode)throw new Error("Looks like we are in 'prod mode', but we are creating a named Array type, which is wrong! Check your code");try{return new(0,createNamedArrayType.constructor)("Array","return class ABC extends Array{}")(Array)}catch(e){return Array}}function normalizeDebugBindingName(name){return"ng-reflect-"+(name=name.replace(/[$@]/g,"_").replace(CAMEL_CASE_REGEXP,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i]=arguments[_i];return"-"+m[1].toLowerCase()}))}exports.defaultStyleSanitizer=defaultStyleSanitizer;var CAMEL_CASE_REGEXP=/([A-Z])/g;function normalizeDebugBindingValue(value){try{return null!=value?value.toString().slice(0,30):value}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function getLContext(target){var instance,mpValue=readPatchedData(target);if(mpValue){if(Array.isArray(mpValue)){var lView=mpValue,nodeIndex=void 0,component=void 0,directives=void 0;if((instance=target)&&instance.constructor&&instance.constructor.ngComponentDef){if(-1==(nodeIndex=findViaComponent(lView,target)))throw new Error("The provided component was not found in the application");component=target}else if(function(instance){return instance&&instance.constructor&&instance.constructor.ngDirectiveDef}(target)){if(-1==(nodeIndex=function(lView,directiveInstance){var tNode=lView[TVIEW].firstChild;for(;tNode;){for(var directiveIndexStart=tNode.directiveStart,directiveIndexEnd=tNode.directiveEnd,i=directiveIndexStart;i<directiveIndexEnd;i++)if(lView[i]===directiveInstance)return tNode.index;tNode=traverseNextElement(tNode)}return-1}(lView,target)))throw new Error("The provided directive was not found in the application");directives=getDirectivesAtNodeIndex(nodeIndex,lView,!1)}else if(-1==(nodeIndex=findViaNativeElement(lView,target)))return null;var existingCtx=readPatchedData(native=unwrapRNode(lView[nodeIndex])),context=existingCtx&&!Array.isArray(existingCtx)?existingCtx:createLContext(lView,nodeIndex,native);if(component&&void 0===context.component&&(context.component=component,attachPatchData(context.component,context)),directives&&void 0===context.directives){context.directives=directives;for(var i=0;i<directives.length;i++)attachPatchData(directives[i],context)}attachPatchData(context.native,context),mpValue=context}}else{var rElement=target;ngDevMode&&assertDomNode(rElement);for(var parent_1=rElement;parent_1=parent_1.parentNode;){var parentContext=readPatchedData(parent_1);if(parentContext){lView=void 0;if(!(lView=Array.isArray(parentContext)?parentContext:parentContext.lView))return null;var index=findViaNativeElement(lView,rElement);if(index>=0){var native;attachPatchData(native=unwrapRNode(lView[index]),context=createLContext(lView,index,native)),mpValue=context;break}}}}return mpValue||null}function createLContext(lView,nodeIndex,native){return{lView:lView,nodeIndex:nodeIndex,native:native,component:void 0,directives:void 0,localRefs:void 0}}function getComponentViewByInstance(componentInstance){var view,lView=readPatchedData(componentInstance);if(Array.isArray(lView)){var nodeIndex=findViaComponent(lView,componentInstance);(context=createLContext(lView,nodeIndex,(view=getComponentViewByIndex(nodeIndex,lView))[HOST])).component=componentInstance,attachPatchData(componentInstance,context),attachPatchData(context.native,context)}else{var context;view=getComponentViewByIndex((context=lView).nodeIndex,context.lView)}return view}function attachPatchData(target,data){target[MONKEY_PATCH_KEY_NAME]=data}function findViaNativeElement(lView,target){for(var tNode=lView[TVIEW].firstChild;tNode;){if(getNativeByTNodeOrNull(tNode,lView)===target)return tNode.index;tNode=traverseNextElement(tNode)}return-1}function traverseNextElement(tNode){if(tNode.child)return tNode.child;if(tNode.next)return tNode.next;for(;tNode.parent&&!tNode.parent.next;)tNode=tNode.parent;return tNode.parent&&tNode.parent.next}function findViaComponent(lView,componentInstance){var componentIndices=lView[TVIEW].components;if(componentIndices)for(var i=0;i<componentIndices.length;i++){var elementComponentIndex=componentIndices[i];if(getComponentViewByIndex(elementComponentIndex,lView)[CONTEXT]===componentInstance)return elementComponentIndex}else if(getComponentViewByIndex(HEADER_OFFSET,lView)[CONTEXT]===componentInstance)return HEADER_OFFSET;return-1}function getDirectivesAtNodeIndex(nodeIndex,lView,includeComponents){var tNode=lView[TVIEW].data[nodeIndex],directiveStartIndex=tNode.directiveStart;if(0==directiveStartIndex)return EMPTY_ARRAY;var directiveEndIndex=tNode.directiveEnd;return!includeComponents&&1&tNode.flags&&directiveStartIndex++,lView.slice(directiveStartIndex,directiveEndIndex)}function throwMultipleComponentError(tNode){throw new Error("Multiple components match node with tagname "+tNode.tagName)}function throwMixedMultiProviderError(){throw new Error("Cannot mix multi providers and regular providers")}var NG_TEMPLATE_SELECTOR="ng-template";function isCssClassMatching(nodeClassAttrVal,cssClassToMatch){var nodeClassesLen=nodeClassAttrVal.length,matchIndex=nodeClassAttrVal.indexOf(cssClassToMatch),matchEndIdx=matchIndex+cssClassToMatch.length;return!(-1===matchIndex||matchIndex>0&&" "!==nodeClassAttrVal[matchIndex-1]||matchEndIdx<nodeClassesLen&&" "!==nodeClassAttrVal[matchEndIdx])}function hasTagAndTypeMatch(tNode,currentSelector,isProjectionMode){return currentSelector===(0!==tNode.type||isProjectionMode?tNode.tagName:NG_TEMPLATE_SELECTOR)}function isNodeMatchingSelector(tNode,selector,isProjectionMode){ngDevMode&&assertDefined(selector[0],"Selector should have a tag name");for(var mode=4,nodeAttrs=tNode.attrs||[],nameOnlyMarkerIdx=function(nodeAttrs){for(var i=0;i<nodeAttrs.length;i++){var nodeAttr=nodeAttrs[i];if(isNameOnlyAttributeMarker(nodeAttr))return i}return nodeAttrs.length}(nodeAttrs),skipToNextSelector=!1,i=0;i<selector.length;i++){var current=selector[i];if("number"!=typeof current){if(!skipToNextSelector)if(4&mode){if(mode=2|1&mode,""!==current&&!hasTagAndTypeMatch(tNode,current,isProjectionMode)||""===current&&1===selector.length){if(isPositive(mode))return!1;skipToNextSelector=!0}}else{var selectorAttrValue=8&mode?current:selector[++i];if(8&mode&&tNode.classes){if(!isCssClassMatching(getInitialStylingValue(tNode.classes),selectorAttrValue)){if(isPositive(mode))return!1;skipToNextSelector=!0}continue}var isInlineTemplate=0==tNode.type&&tNode.tagName!==NG_TEMPLATE_SELECTOR,attrIndexInNode=findAttrIndexInNode(8&mode?"class":current,nodeAttrs,isInlineTemplate,isProjectionMode);if(-1===attrIndexInNode){if(isPositive(mode))return!1;skipToNextSelector=!0;continue}if(""!==selectorAttrValue){var nodeAttrValue=void 0;attrIndexInNode>nameOnlyMarkerIdx?nodeAttrValue="":(ngDevMode&&assertNotEqual(nodeAttrs[attrIndexInNode],0,"We do not match directives on namespaced attributes"),nodeAttrValue=nodeAttrs[attrIndexInNode+1]);var compareAgainstClassName=8&mode?nodeAttrValue:null;if(compareAgainstClassName&&!isCssClassMatching(compareAgainstClassName,selectorAttrValue)||2&mode&&selectorAttrValue!==nodeAttrValue){if(isPositive(mode))return!1;skipToNextSelector=!0}}}}else{if(!skipToNextSelector&&!isPositive(mode)&&!isPositive(current))return!1;if(skipToNextSelector&&isPositive(current))continue;skipToNextSelector=!1,mode=current|1&mode}}return isPositive(mode)||skipToNextSelector}function isPositive(mode){return 0==(1&mode)}function findAttrIndexInNode(name,attrs,isInlineTemplate,isProjectionMode){if(null===attrs)return-1;var i=0;if(isProjectionMode||!isInlineTemplate){for(var bindingsMode=!1;i<attrs.length;){var maybeAttrName=attrs[i];if(maybeAttrName===name)return i;if(3===maybeAttrName||6===maybeAttrName)bindingsMode=!0;else{if(1===maybeAttrName){for(var value=attrs[++i];"string"==typeof value;)value=attrs[++i];continue}if(4===maybeAttrName)break;if(0===maybeAttrName){i+=4;continue}}i+=bindingsMode?1:2}return-1}return function(attrs,name){var i=attrs.indexOf(4);if(i>-1)for(i++;i<attrs.length;){if(attrs[i]===name)return i;i++}return-1}(attrs,name)}function isNodeMatchingSelectorList(tNode,selector,isProjectionMode){void 0===isProjectionMode&&(isProjectionMode=!1);for(var i=0;i<selector.length;i++)if(isNodeMatchingSelector(tNode,selector[i],isProjectionMode))return!0;return!1}function isSelectorInSelectorList(selector,list){selectorListLoop:for(var i=0;i<list.length;i++){var currentSelectorInList=list[i];if(selector.length===currentSelectorInList.length){for(var j=0;j<selector.length;j++)if(selector[j]!==currentSelectorInList[j])continue selectorListLoop;return!0}}return!1}var DEFAULT_GUARD_MASK_VALUE=1,STYLING_INDEX_FOR_MAP_BINDING=0,DEFAULT_BINDING_VALUE=null,DEFAULT_SIZE_VALUE=1,deferredBindingQueue=[];function updateClassBinding(context,data,element,prop,bindingIndex,value,deferRegistration,forceUpdate){var isMapBased=!prop,state=getStylingState(element,stateIsPersisted(context)),index=isMapBased?STYLING_INDEX_FOR_MAP_BINDING:state.classesIndex++;return!(!updateBindingData(context,data,index,prop,bindingIndex,value,deferRegistration,forceUpdate,!1)&&!forceUpdate)&&(state.classesBitMask|=1<<index,!0)}function updateStyleBinding(context,data,element,prop,bindingIndex,value,sanitizer,deferRegistration,forceUpdate){var isMapBased=!prop,state=getStylingState(element,stateIsPersisted(context)),index=isMapBased?STYLING_INDEX_FOR_MAP_BINDING:state.stylesIndex++;return!(!updateBindingData(context,data,index,prop,bindingIndex,value,deferRegistration,forceUpdate,!!isMapBased||!!sanitizer&&sanitizer(prop,null,1))&&!forceUpdate)&&(state.stylesBitMask|=1<<index,!0)}function updateBindingData(context,data,counterIndex,prop,bindingIndex,value,deferRegistration,forceUpdate,sanitizationRequired){isContextLocked(context)||(deferRegistration?function(context,counterIndex,prop,bindingIndex,sanitizationRequired){deferredBindingQueue.unshift(context,counterIndex,prop,bindingIndex,sanitizationRequired)}(context,counterIndex,prop,bindingIndex,sanitizationRequired):(deferredBindingQueue.length&&flushDeferredBindings(),registerBinding(context,counterIndex,prop,bindingIndex,sanitizationRequired)));var changed=forceUpdate||hasValueChanged(data[bindingIndex],value);return changed&&(data[bindingIndex]=value),changed}function flushDeferredBindings(){for(var i=0;i<deferredBindingQueue.length;){registerBinding(deferredBindingQueue[i++],deferredBindingQueue[i++],deferredBindingQueue[i++],deferredBindingQueue[i++],deferredBindingQueue[i++])}deferredBindingQueue.length=0}function registerBinding(context,countId,prop,bindingValue,sanitizationRequired){var registered=!1;if(prop){for(var found=!1,i=getPropValuesStartPosition(context);i<context.length;){var valuesCount=getValuesCount(context,i),p=getProp(context,i);if(found=prop<=p){prop<p&&allocateNewContextEntry(context,i,prop,sanitizationRequired),addBindingIntoContext(context,!1,i,bindingValue,countId);break}i+=3+valuesCount}found||(allocateNewContextEntry(context,context.length,prop,sanitizationRequired),addBindingIntoContext(context,!1,i,bindingValue,countId),registered=!0)}else addBindingIntoContext(context,!0,3,bindingValue,countId),registered=!0;return registered}function allocateNewContextEntry(context,index,prop,sanitizationRequired){var config=sanitizationRequired?1:0;context.splice(index,0,config,DEFAULT_SIZE_VALUE,prop,DEFAULT_BINDING_VALUE),setGuardMask(context,index,DEFAULT_GUARD_MASK_VALUE)}function addBindingIntoContext(context,isMapBased,index,bindingValue,countId){var firstValueIndex=index+3,lastValueIndex=firstValueIndex+getValuesCount(context,index);if(isMapBased||lastValueIndex--,"number"==typeof bindingValue){for(var i=firstValueIndex;i<=lastValueIndex;i++){if(context[i]===bindingValue)return}context.splice(lastValueIndex,0,bindingValue),context[index+1]++,setGuardMask(context,index,getGuardMask(context,index)|1<<countId)}else null!==bindingValue&&null==context[lastValueIndex]&&(context[lastValueIndex]=bindingValue)}function flushStyling(renderer,data,classesContext,stylesContext,element,directiveIndex,styleSanitizer){ngDevMode&&ngDevMode.flushStyling++;var persistState=classesContext?stateIsPersisted(classesContext):!!stylesContext&&stateIsPersisted(stylesContext),allowFlushClasses=allowStylingFlush(classesContext,directiveIndex),allowFlushStyles=allowStylingFlush(stylesContext,directiveIndex);deferredBindingQueue.length&&(allowFlushClasses||allowFlushStyles)&&flushDeferredBindings();var state=getStylingState(element,persistState),classesFlushed=maybeApplyStyling(renderer,element,data,classesContext,allowFlushClasses,state.classesBitMask,setClass,null),stylesFlushed=maybeApplyStyling(renderer,element,data,stylesContext,allowFlushStyles,state.stylesBitMask,setStyle,styleSanitizer);classesFlushed&&stylesFlushed?(resetStylingState(),persistState&&function(element){_stateStorage.delete(element)}(element)):persistState&&function(element,state){ngDevMode&&ngDevMode.stylingWritePersistedState++,_stateStorage.set(element,state)}(element,state)}function maybeApplyStyling(renderer,element,data,context,allowFlush,bitMask,styleSetter,styleSanitizer){return allowFlush&&context&&(function(context){if(!isContextLocked(context)){var initialValues=getStylingMapArray(context);initialValues&&function(context,initialStyling){for(var i=1;i<initialStyling.length;i+=2){var value=getMapValue(initialStyling,i);if(value){var prop=getMapProp(initialStyling,i);registerBinding(context,-1,prop,value,!1)}}}(context,initialValues),function(context){setConfig(context,1|getConfig(context))}(context)}}(context),function(context,bitMask){return context&&bitMask>BIT_MASK_START_VALUE}(context,bitMask))?(ngDevMode&&(styleSanitizer?ngDevMode.stylesApplied++:ngDevMode.classesApplied++),applyStyling(context,renderer,element,data,bitMask,styleSetter,styleSanitizer),!0):allowFlush}function applyStyling(context,renderer,element,bindingData,bitMaskValue,applyStylingFn,sanitizer){for(var bitMask=function(value){return!0===value?-1:!1===value?0:value}(bitMaskValue),stylingMapsSyncFn=_activeStylingMapApplyFn,mapsMode=(bitMask&getGuardMask(context,3))>0?1:0,i=getPropValuesStartPosition(context);i<context.length;){var valuesCount=getValuesCount(context,i);if(bitMask&getGuardMask(context,i)){for(var valueApplied=!1,prop=getProp(context,i),valuesCountUpToDefault=valuesCount-1,defaultValue=getBindingValue(context,i,valuesCountUpToDefault),j=0;j<valuesCountUpToDefault;j++){var bindingIndex=getBindingValue(context,i,j),value=bindingData[bindingIndex];if(isStylingValueDefined(value)){applyStylingFn(renderer,element,prop,sanitizer&&isSanitizationRequired(context,i)?sanitizer(prop,value,2):value,bindingIndex),valueApplied=!0;break}}if(stylingMapsSyncFn){var valueAppliedWithinMap=stylingMapsSyncFn(context,renderer,element,bindingData,applyStylingFn,sanitizer,mapsMode|(valueApplied?4:2),prop,defaultValue);valueApplied=valueApplied||valueAppliedWithinMap}valueApplied||applyStylingFn(renderer,element,prop,defaultValue)}i+=3+valuesCount}stylingMapsSyncFn&&stylingMapsSyncFn(context,renderer,element,bindingData,applyStylingFn,sanitizer,mapsMode)}var _activeStylingMapApplyFn=null;var setStyle=function(renderer,native,prop,value){var nativeStyle=native.style;value?(value=value.toString(),ngDevMode&&ngDevMode.rendererSetStyle++,renderer&&isProceduralRenderer(renderer)?renderer.setStyle(native,prop,value,RendererStyleFlags3.DashCase):nativeStyle&&nativeStyle.setProperty(prop,value)):(ngDevMode&&ngDevMode.rendererRemoveStyle++,renderer&&isProceduralRenderer(renderer)?renderer.removeStyle(native,prop,RendererStyleFlags3.DashCase):nativeStyle&&nativeStyle.removeProperty(prop))},setClass=function(renderer,native,className,value){if(""!==className){var classList=native.classList;value?(ngDevMode&&ngDevMode.rendererAddClass++,renderer&&isProceduralRenderer(renderer)?renderer.addClass(native,className):classList&&classList.add(className)):(ngDevMode&&ngDevMode.rendererRemoveClass++,renderer&&isProceduralRenderer(renderer)?renderer.removeClass(native,className):classList&&classList.remove(className))}};function renderStylingMap(renderer,element,stylingValues,isClassBased){var stylingMapArr=getStylingMapArray(stylingValues);if(stylingMapArr)for(var i=1;i<stylingMapArr.length;i+=2){var prop=getMapProp(stylingMapArr,i),value=getMapValue(stylingMapArr,i);isClassBased?setClass(renderer,element,prop,value,null):setStyle(renderer,element,prop,value,null)}}var NO_CHANGE={};exports.NO_CHANGE=NO_CHANGE;var ELEMENT_MARKER={marker:"element"},COMMENT_MARKER={marker:"comment"};function attachDebugObject(obj,debug){Object.defineProperty(obj,"debug",{value:debug,enumerable:!1})}var syncStylingMap=function(context,renderer,element,data,applyStylingFn,sanitizer,mode,targetProp,defaultValue){var targetPropValueWasApplied=!1;if(getValuesCount(context,3)){var runTheSyncAlgorithm=!0,loopUntilEnd=!targetProp;loopUntilEnd&&-2&mode&&(runTheSyncAlgorithm=!1,targetPropValueWasApplied=!0),runTheSyncAlgorithm&&(targetPropValueWasApplied=function innerSyncStylingMap(context,renderer,element,data,applyStylingFn,sanitizer,mode,targetProp,currentMapIndex,defaultValue){var targetPropValueWasApplied=!1;var totalMaps=getValuesCount(context,3);if(currentMapIndex<totalMaps){for(var bindingIndex=getBindingValue(context,3,currentMapIndex),stylingMapArr=data[bindingIndex],cursor=function(mapIndex){mapIndex>=MAP_CURSORS.length&&MAP_CURSORS.push(1);return MAP_CURSORS[mapIndex]}(currentMapIndex);cursor<stylingMapArr.length;){var prop=getMapProp(stylingMapArr,cursor),iteratedTooFar=targetProp&&prop>targetProp,isTargetPropMatched=!iteratedTooFar&&prop===targetProp,value=getMapValue(stylingMapArr,cursor),valueIsDefined=isStylingValueDefined(value),innerMode=iteratedTooFar?mode:resolveInnerMapMode(mode,valueIsDefined,isTargetPropMatched),innerProp=iteratedTooFar?targetProp:prop,valueApplied=innerSyncStylingMap(context,renderer,element,data,applyStylingFn,sanitizer,innerMode,innerProp,currentMapIndex+1,defaultValue);if(iteratedTooFar){targetPropValueWasApplied||(targetPropValueWasApplied=valueApplied);break}if(!valueApplied&&isValueAllowedToBeApplied(mode,isTargetPropMatched)){var useDefault=isTargetPropMatched&&!valueIsDefined,valueToApply=useDefault?defaultValue:value,bindingIndexToApply=useDefault?bindingIndex:null,finalValue=sanitizer?sanitizer(prop,valueToApply,3):valueToApply;applyStylingFn(renderer,element,prop,finalValue,bindingIndexToApply),valueApplied=!0}targetPropValueWasApplied=valueApplied&&isTargetPropMatched,cursor+=2}if(indexValue=cursor,MAP_CURSORS[currentMapIndex]=indexValue,1===stylingMapArr.length||!targetProp)return innerSyncStylingMap(context,renderer,element,data,applyStylingFn,sanitizer,mode,targetProp,currentMapIndex+1,defaultValue)}var indexValue;return targetPropValueWasApplied}(context,renderer,element,data,applyStylingFn,sanitizer,mode,targetProp||null,0,defaultValue||null)),loopUntilEnd&&function(){for(var i=0;i<MAP_CURSORS.length;i++)MAP_CURSORS[i]=1}()}return targetPropValueWasApplied};function activateStylingMapFeature(){_activeStylingMapApplyFn=syncStylingMap}function resolveInnerMapMode(currentMode,valueIsDefined,isExactMatch){var innerMode=currentMode;return valueIsDefined||4&currentMode||!(isExactMatch||1&currentMode)?(innerMode|=4,innerMode&=-3):(innerMode|=2,innerMode&=-5),innerMode}function isValueAllowedToBeApplied(mode,isTargetPropMatched){var doApplyValue=(1&mode)>0;return doApplyValue?4&mode&&isTargetPropMatched&&(doApplyValue=!1):2&mode&&(doApplyValue=isTargetPropMatched),doApplyValue}var MAP_CURSORS=[];function addItemToStylingMap(stylingMapArr,prop,value,allowOverwrite){for(var j=1;j<stylingMapArr.length;j+=2){var propAtIndex=getMapProp(stylingMapArr,j);if(prop<=propAtIndex){var applied=!1;if(propAtIndex===prop){var valueAtIndex=stylingMapArr[j];!allowOverwrite&&isStylingValueDefined(valueAtIndex)||(applied=!0,setMapValue(stylingMapArr,j,value))}else applied=!0,stylingMapArr.splice(j,0,prop,value);return applied}}return stylingMapArr.push(prop,value),!0}function stylingMapToString(map,isClassBased){for(var str="",i=1;i<map.length;i+=2){var prop=getMapProp(map,i),value=getMapValue(map,i);str=concatString(str,concatString(prop,isClassBased?"":value,":"),isClassBased?" ":"; ")}return str}function stylingMapToStringMap(map){var stringMap={};if(map)for(var i=1;i<map.length;i+=2){var prop=getMapProp(map,i),value=getMapValue(map,i);stringMap[prop]=value}return stringMap}var LVIEW_EMPTY,TStylingContextDebug=function(){function TStylingContextDebug(context){this.context=context}return Object.defineProperty(TStylingContextDebug.prototype,"isLocked",{get:function(){return isContextLocked(this.context)},enumerable:!0,configurable:!0}),Object.defineProperty(TStylingContextDebug.prototype,"entries",{get:function(){for(var context=this.context,entries={},i=3;i<context.length;){var valuesCount=getValuesCount(context,i);if(valuesCount){for(var prop=getProp(context,i),guardMask=getGuardMask(context,i),defaultValue=getDefaultValue(context,i),sanitizationRequired=isSanitizationRequired(context,i),bindingsStartPosition=i+3,sources=[],j=0;j<valuesCount;j++)sources.push(context[bindingsStartPosition+j]);entries[prop]={prop:prop,guardMask:guardMask,sanitizationRequired:sanitizationRequired,valuesCount:valuesCount,defaultValue:defaultValue,sources:sources}}i+=3+valuesCount}return entries},enumerable:!0,configurable:!0}),TStylingContextDebug}(),NodeStylingDebug=function(){function NodeStylingDebug(context,_data,_isClassBased){this.context=context,this._data=_data,this._isClassBased=_isClassBased,this._sanitizer=null}return NodeStylingDebug.prototype.overrideSanitizer=function(sanitizer){this._sanitizer=sanitizer},Object.defineProperty(NodeStylingDebug.prototype,"summary",{get:function(){var entries={};return this._mapValues(function(prop,value,bindingIndex){entries[prop]={prop:prop,value:value,bindingIndex:bindingIndex}}),entries},enumerable:!0,configurable:!0}),Object.defineProperty(NodeStylingDebug.prototype,"values",{get:function(){var entries={};return this._mapValues(function(prop,value){entries[prop]=value}),entries},enumerable:!0,configurable:!0}),NodeStylingDebug.prototype._mapValues=function(fn){getValuesCount(this.context,3)>0&&activateStylingMapFeature();var sanitizer=this._isClassBased?null:this._sanitizer||getCurrentStyleSanitizer();applyStyling(this.context,null,{},this._data,!0,function(renderer,element,prop,value,bindingIndex){fn(prop,value,bindingIndex||null)},sanitizer)},NodeStylingDebug}(),LViewArray=ngDevMode&&createNamedArrayType();var TVIEWDATA_EMPTY,TViewConstructor=function(){return function(id,blueprint,template,queries,viewQuery,node,data,bindingStartIndex,expandoStartIndex,expandoInstructions,firstTemplatePass,staticViewQueries,staticContentQueries,preOrderHooks,preOrderCheckHooks,contentHooks,contentCheckHooks,viewHooks,viewCheckHooks,destroyHooks,cleanup,contentQueries,components,directiveRegistry,pipeRegistry,firstChild,schemas){this.id=id,this.blueprint=blueprint,this.template=template,this.queries=queries,this.viewQuery=viewQuery,this.node=node,this.data=data,this.bindingStartIndex=bindingStartIndex,this.expandoStartIndex=expandoStartIndex,this.expandoInstructions=expandoInstructions,this.firstTemplatePass=firstTemplatePass,this.staticViewQueries=staticViewQueries,this.staticContentQueries=staticContentQueries,this.preOrderHooks=preOrderHooks,this.preOrderCheckHooks=preOrderCheckHooks,this.contentHooks=contentHooks,this.contentCheckHooks=contentCheckHooks,this.viewHooks=viewHooks,this.viewCheckHooks=viewCheckHooks,this.destroyHooks=destroyHooks,this.cleanup=cleanup,this.contentQueries=contentQueries,this.components=components,this.directiveRegistry=directiveRegistry,this.pipeRegistry=pipeRegistry,this.firstChild=firstChild,this.schemas=schemas}}(),TNodeConstructor=function(){function TNode(tView_,type,index,injectorIndex,directiveStart,directiveEnd,propertyMetadataStartIndex,propertyMetadataEndIndex,flags,providerIndexes,tagName,attrs,localNames,initialInputs,inputs,outputs,tViews,next,projectionNext,child,parent,projection,styles,classes){this.tView_=tView_,this.type=type,this.index=index,this.injectorIndex=injectorIndex,this.directiveStart=directiveStart,this.directiveEnd=directiveEnd,this.propertyMetadataStartIndex=propertyMetadataStartIndex,this.propertyMetadataEndIndex=propertyMetadataEndIndex,this.flags=flags,this.providerIndexes=providerIndexes,this.tagName=tagName,this.attrs=attrs,this.localNames=localNames,this.initialInputs=initialInputs,this.inputs=inputs,this.outputs=outputs,this.tViews=tViews,this.next=next,this.projectionNext=projectionNext,this.child=child,this.parent=parent,this.projection=projection,this.styles=styles,this.classes=classes}return Object.defineProperty(TNode.prototype,"type_",{get:function(){switch(this.type){case 0:return"TNodeType.Container";case 3:return"TNodeType.Element";case 4:return"TNodeType.ElementContainer";case 5:return"TNodeType.IcuContainer";case 1:return"TNodeType.Projection";case 2:return"TNodeType.View";default:return"TNodeType.???"}},enumerable:!0,configurable:!0}),Object.defineProperty(TNode.prototype,"flags_",{get:function(){var flags=[];return 8&this.flags&&flags.push("TNodeFlags.hasClassInput"),4&this.flags&&flags.push("TNodeFlags.hasContentQuery"),16&this.flags&&flags.push("TNodeFlags.hasStyleInput"),1&this.flags&&flags.push("TNodeFlags.isComponent"),32&this.flags&&flags.push("TNodeFlags.isDetached"),2&this.flags&&flags.push("TNodeFlags.isProjected"),flags.join("|")},enumerable:!0,configurable:!0}),TNode}(),TViewData=ngDevMode&&createNamedArrayType();var LViewBlueprint=ngDevMode&&createNamedArrayType(),MatchesArray=ngDevMode&&createNamedArrayType(),TViewComponents=ngDevMode&&createNamedArrayType(),TNodeLocalNames=ngDevMode&&createNamedArrayType(),TNodeInitialInputs=ngDevMode&&createNamedArrayType(),TNodeInitialData=ngDevMode&&createNamedArrayType(),LCleanup=ngDevMode&&createNamedArrayType(),TCleanup=ngDevMode&&createNamedArrayType();function toDebug(obj){if(obj){var debug=obj.debug;return assertDefined(debug,"Object does not have a debug representation."),debug}return obj}function toHtml(value,includeChildren){void 0===includeChildren&&(includeChildren=!1);var node=unwrapRNode(value);if(node){var isTextNode=node.nodeType===Node.TEXT_NODE,outerHTML=(isTextNode?node.textContent:node.outerHTML)||"";if(includeChildren||isTextNode)return outerHTML;var innerHTML=node.innerHTML;return outerHTML.split(innerHTML)[0]||null}return null}var LViewDebug=function(){function LViewDebug(_raw_lView){this._raw_lView=_raw_lView}return Object.defineProperty(LViewDebug.prototype,"flags",{get:function(){var flags=this._raw_lView[FLAGS];return{__raw__flags__:flags,initPhaseState:3&flags,creationMode:!!(4&flags),firstViewPass:!!(8&flags),checkAlways:!!(16&flags),dirty:!!(64&flags),attached:!!(128&flags),destroyed:!!(256&flags),isRoot:!!(512&flags),indexWithinInitPhase:flags>>10}},enumerable:!0,configurable:!0}),Object.defineProperty(LViewDebug.prototype,"parent",{get:function(){return toDebug(this._raw_lView[PARENT])},enumerable:!0,configurable:!0}),Object.defineProperty(LViewDebug.prototype,"host",{get:function(){return toHtml(this._raw_lView[HOST],!0)},enumerable:!0,configurable:!0}),Object.defineProperty(LViewDebug.prototype,"context",{get:function(){return this._raw_lView[CONTEXT]},enumerable:!0,configurable:!0}),Object.defineProperty(LViewDebug.prototype,"nodes",{get:function(){var lView=this._raw_lView;return function toDebugNodes(tNode,lView){if(tNode){for(var debugNodes=[],tNodeCursor=tNode;tNodeCursor;){var rawValue=lView[tNode.index],native=unwrapRNode(rawValue),componentLViewDebug=toDebug(readLViewValue(rawValue)),styles=isStylingContext(tNode.styles)?new NodeStylingDebug(tNode.styles,lView):null,classes=isStylingContext(tNode.classes)?new NodeStylingDebug(tNode.classes,lView,!0):null;debugNodes.push({html:toHtml(native),native:native,styles:styles,classes:classes,nodes:toDebugNodes(tNode.child,lView),component:componentLViewDebug}),tNodeCursor=tNodeCursor.next}return debugNodes}return null}(lView[TVIEW].firstChild,lView)},enumerable:!0,configurable:!0}),Object.defineProperty(LViewDebug.prototype,"__other__",{get:function(){return{tView:this._raw_lView[TVIEW],cleanup:this._raw_lView[CLEANUP],injector:this._raw_lView[INJECTOR$1],rendererFactory:this._raw_lView[RENDERER_FACTORY],renderer:this._raw_lView[RENDERER],sanitizer:this._raw_lView[SANITIZER],childHead:toDebug(this._raw_lView[CHILD_HEAD]),next:toDebug(this._raw_lView[NEXT]),childTail:toDebug(this._raw_lView[CHILD_TAIL]),declarationView:toDebug(this._raw_lView[DECLARATION_VIEW]),queries:null,tHost:this._raw_lView[T_HOST],bindingIndex:this._raw_lView[BINDING_INDEX]}},enumerable:!0,configurable:!0}),Object.defineProperty(LViewDebug.prototype,"childViews",{get:function(){for(var childViews=[],child=this.__other__.childHead;child;)childViews.push(child),child=child.__other__.next;return childViews},enumerable:!0,configurable:!0}),LViewDebug}();var LContainerDebug=function(){function LContainerDebug(_raw_lContainer){this._raw_lContainer=_raw_lContainer}return Object.defineProperty(LContainerDebug.prototype,"activeIndex",{get:function(){return this._raw_lContainer[ACTIVE_INDEX]},enumerable:!0,configurable:!0}),Object.defineProperty(LContainerDebug.prototype,"views",{get:function(){return this._raw_lContainer.slice(CONTAINER_HEADER_OFFSET).map(toDebug)},enumerable:!0,configurable:!0}),Object.defineProperty(LContainerDebug.prototype,"parent",{get:function(){return toDebug(this._raw_lContainer[PARENT])},enumerable:!0,configurable:!0}),Object.defineProperty(LContainerDebug.prototype,"movedViews",{get:function(){return this._raw_lContainer[MOVED_VIEWS]},enumerable:!0,configurable:!0}),Object.defineProperty(LContainerDebug.prototype,"host",{get:function(){return this._raw_lContainer[HOST]},enumerable:!0,configurable:!0}),Object.defineProperty(LContainerDebug.prototype,"native",{get:function(){return this._raw_lContainer[NATIVE]},enumerable:!0,configurable:!0}),Object.defineProperty(LContainerDebug.prototype,"__other__",{get:function(){return{next:toDebug(this._raw_lContainer[NEXT])}},enumerable:!0,configurable:!0}),LContainerDebug}();function readLViewValue(value){for(;Array.isArray(value);){if(value.length>=HEADER_OFFSET-1)return value;value=value[HOST]}return null}var I18NDebugItem=function(){function I18NDebugItem(__raw_opCode,_lView,nodeIndex,type){this.__raw_opCode=__raw_opCode,this._lView=_lView,this.nodeIndex=nodeIndex,this.type=type}return Object.defineProperty(I18NDebugItem.prototype,"tNode",{get:function(){return getTNode(this.nodeIndex,this._lView)},enumerable:!0,configurable:!0}),I18NDebugItem}();var I18nMutateOpCodesDebug=function(){function I18nMutateOpCodesDebug(__raw_opCodes,__lView){this.__raw_opCodes=__raw_opCodes,this.__lView=__lView}return Object.defineProperty(I18nMutateOpCodesDebug.prototype,"operations",{get:function(){for(var __lView=this.__lView,__raw_opCodes=this.__raw_opCodes,results=[],i=0;i<__raw_opCodes.length;i++){var opCode=__raw_opCodes[i],result=void 0;if("string"==typeof opCode&&(result={__raw_opCode:opCode,type:"Create Text Node",nodeIndex:__raw_opCodes[++i],text:opCode}),"number"==typeof opCode)switch(7&opCode){case 1:result=new I18NDebugItem(opCode,__lView,opCode>>>17,"AppendChild");break;case 0:result=new I18NDebugItem(opCode,__lView,opCode>>>3,"Select");break;case 5:var elementIndex=opCode>>>3;result=new I18NDebugItem(opCode,__lView,elementIndex,"ElementEnd");break;case 4:(result=new I18NDebugItem(opCode,__lView,elementIndex=opCode>>>3,"Attr")).attrName=__raw_opCodes[++i],result.attrValue=__raw_opCodes[++i]}if(!result)switch(opCode){case COMMENT_MARKER:result={__raw_opCode:opCode,type:"COMMENT_MARKER",commentValue:__raw_opCodes[++i],nodeIndex:__raw_opCodes[++i]};break;case ELEMENT_MARKER:result={__raw_opCode:opCode,type:"ELEMENT_MARKER"}}result||(result={__raw_opCode:opCode,type:"Unknown Op Code",code:opCode}),results.push(result)}return results},enumerable:!0,configurable:!0}),I18nMutateOpCodesDebug}(),I18nUpdateOpCodesDebug=function(){function I18nUpdateOpCodesDebug(__raw_opCodes,icus,__lView){this.__raw_opCodes=__raw_opCodes,this.icus=icus,this.__lView=__lView}return Object.defineProperty(I18nUpdateOpCodesDebug.prototype,"operations",{get:function(){for(var __lView=this.__lView,__raw_opCodes=this.__raw_opCodes,icus=this.icus,results=[],i=0;i<__raw_opCodes.length;i++){for(var checkBit=__raw_opCodes[i],skipCodes=__raw_opCodes[++i],value="",j=i+1;j<=i+skipCodes;j++){var opCode=__raw_opCodes[j];if("string"==typeof opCode)value+=opCode;else if("number"==typeof opCode)if(opCode<0)value+=""+(-opCode-1)+"";else{var nodeIndex=opCode>>>2,tIcuIndex=void 0,tIcu=void 0;switch(3&opCode){case 1:var attrName=__raw_opCodes[++j],sanitizeFn=__raw_opCodes[++j];results.push({__raw_opCode:opCode,checkBit:checkBit,type:"Attr",attrValue:value,attrName:attrName,sanitizeFn:sanitizeFn});break;case 0:results.push({__raw_opCode:opCode,checkBit:checkBit,type:"Text",nodeIndex:nodeIndex,text:value});break;case 2:tIcu=icus[tIcuIndex=__raw_opCodes[++j]];var result=new I18NDebugItem(opCode,__lView,nodeIndex,"IcuSwitch");result.tIcuIndex=tIcuIndex,result.checkBit=checkBit,result.mainBinding=value,result.tIcu=tIcu,results.push(result);break;case 3:tIcu=icus[tIcuIndex=__raw_opCodes[++j]],(result=new I18NDebugItem(opCode,__lView,nodeIndex,"IcuUpdate")).tIcuIndex=tIcuIndex,result.checkBit=checkBit,result.tIcu=tIcu,results.push(result)}}}i+=skipCodes}return results},enumerable:!0,configurable:!0}),I18nUpdateOpCodesDebug}();function select(index){ngDevMode&&assertGreaterThan(index,-1,"Invalid index"),ngDevMode&&assertLessThan(index,getLView().length-HEADER_OFFSET,"Should be within range for the view data"),selectInternal(getLView(),index)}function selectInternal(lView,index){executePreOrderHooks(lView,lView[TVIEW],getCheckNoChangesMode(),index),setSelectedIndex(index)}var _CLEAN_PROMISE=Promise.resolve(null);function refreshDescendantViews(lView){var tView=lView[TVIEW],creationMode=isCreationMode(lView);if(tView.firstTemplatePass=!1,lView[BINDING_INDEX]=tView.bindingStartIndex,!creationMode){var checkNoChangesMode=getCheckNoChangesMode();executePreOrderHooks(lView,tView,checkNoChangesMode,void 0),function(lView){for(var current=lView[CHILD_HEAD];null!==current;current=current[NEXT])if(-1===current[ACTIVE_INDEX]&&isLContainer(current))for(var i=CONTAINER_HEADER_OFFSET;i<current.length;i++){var dynamicViewData=current[i];ngDevMode&&assertDefined(dynamicViewData[TVIEW],"TView must be allocated"),renderEmbeddedTemplate(dynamicViewData,dynamicViewData[TVIEW],dynamicViewData[CONTEXT])}}(lView),refreshContentQueries(tView,lView),resetPreOrderHookFlags(lView),executeHooks(lView,tView.contentHooks,tView.contentCheckHooks,checkNoChangesMode,1,void 0),function(tView,viewData){var selectedIndex=getSelectedIndex();try{if(tView.expandoInstructions){var bindingRootIndex=viewData[BINDING_INDEX]=tView.expandoStartIndex;setBindingRoot(bindingRootIndex);for(var currentDirectiveIndex=-1,currentElementIndex=-1,i=0;i<tView.expandoInstructions.length;i++){var instruction=tView.expandoInstructions[i];if("number"==typeof instruction){if(instruction<=0){setActiveHostElement(currentElementIndex=-instruction);var providerCount=tView.expandoInstructions[++i];currentDirectiveIndex=bindingRootIndex+=INJECTOR_BLOOM_PARENT_SIZE+providerCount}else bindingRootIndex+=instruction;setBindingRoot(bindingRootIndex)}else{if(null!==instruction){viewData[BINDING_INDEX]=bindingRootIndex;var hostCtx=unwrapRNode(viewData[currentDirectiveIndex]);instruction(2,hostCtx,currentElementIndex),incrementActiveDirectiveId()}currentDirectiveIndex++}}}}finally{setActiveHostElement(selectedIndex)}}(tView,lView)}creationMode&&tView.staticContentQueries&&refreshContentQueries(tView,lView),creationMode&&!tView.staticViewQueries||executeViewQueryFn(2,tView,lView[CONTEXT]),function(hostLView,components){if(null!=components)for(var i=0;i<components.length;i++)componentRefresh(hostLView,components[i])}(lView,tView.components)}function refreshContentQueries(tView,lView){var contentQueries=tView.contentQueries;if(null!==contentQueries)for(var i=0;i<contentQueries.length;i+=2){var queryStartIdx=contentQueries[i],directiveDefIdx=contentQueries[i+1];if(-1!==directiveDefIdx){var directiveDef=tView.data[directiveDefIdx];ngDevMode&&assertDefined(directiveDef.contentQueries,"contentQueries function should be defined"),setCurrentQueryIndex(queryStartIdx),directiveDef.contentQueries(2,lView[directiveDefIdx],directiveDefIdx)}}}function elementCreate(name,overriddenRenderer){var rendererToUse=overriddenRenderer||getLView()[RENDERER],namespace=_currentNamespace;return isProceduralRenderer(rendererToUse)?rendererToUse.createElement(name,namespace):null===namespace?rendererToUse.createElement(name):rendererToUse.createElementNS(namespace,name)}function createLView(parentLView,tView,context,flags,host,tHostNode,rendererFactory,renderer,sanitizer,injector){var list,lView=ngDevMode?(list=tView.blueprint,void 0===LVIEW_EMPTY&&(LVIEW_EMPTY=new LViewArray),LVIEW_EMPTY.concat(list)):tView.blueprint.slice();return lView[HOST]=host,lView[FLAGS]=140|flags,resetPreOrderHookFlags(lView),lView[PARENT]=lView[DECLARATION_VIEW]=parentLView,lView[CONTEXT]=context,lView[RENDERER_FACTORY]=rendererFactory||parentLView&&parentLView[RENDERER_FACTORY],ngDevMode&&assertDefined(lView[RENDERER_FACTORY],"RendererFactory is required"),lView[RENDERER]=renderer||parentLView&&parentLView[RENDERER],ngDevMode&&assertDefined(lView[RENDERER],"Renderer is required"),lView[SANITIZER]=sanitizer||parentLView&&parentLView[SANITIZER]||null,lView[INJECTOR$1]=injector||parentLView&&parentLView[INJECTOR$1]||null,lView[T_HOST]=tHostNode,ngDevMode&&function(lView){attachDebugObject(lView,new LViewDebug(lView))}(lView),lView}function getOrCreateTNode(tView,tHostNode,index,type,name,attrs){var adjustedIndex=index+HEADER_OFFSET,tNode=tView.data[adjustedIndex]||function(tView,tHostNode,adjustedIndex,type,name,attrs,index){var previousOrParentTNode=getPreviousOrParentTNode(),isParent=getIsParent(),parent=isParent?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent,tParentNode=parent&&parent!==tHostNode?parent:null,tNode=tView.data[adjustedIndex]=createTNode(tView,tParentNode,type,adjustedIndex,name,attrs);0!==index&&tView.firstChild||(tView.firstChild=tNode);previousOrParentTNode&&(!isParent||null!=previousOrParentTNode.child||null===tNode.parent&&2!==previousOrParentTNode.type?isParent||(previousOrParentTNode.next=tNode):previousOrParentTNode.child=tNode);return tNode}(tView,tHostNode,adjustedIndex,type,name,attrs,index);return setPreviousOrParentTNode(tNode,!0),tNode}function assignTViewNodeToLView(tView,tParentNode,index,lView){var tNode=tView.node;return null==tNode&&(ngDevMode&&tParentNode&&assertNodeOfPossibleTypes(tParentNode,3,0),tView.node=tNode=createTNode(tView,tParentNode,2,index,null,null)),lView[T_HOST]=tNode}function renderEmbeddedTemplate(viewToRender,tView,context){var oldView,_isParent=getIsParent(),_previousOrParentTNode=getPreviousOrParentTNode();if(512&viewToRender[FLAGS])tickRootContext(getRootContext(viewToRender));else{var safeToRunHooks=!1;try{setPreviousOrParentTNode(null,!0),oldView=enterView(viewToRender,viewToRender[T_HOST]),resetPreOrderHookFlags(viewToRender),executeTemplate(viewToRender,tView.template,getRenderFlags(viewToRender),context),tView.firstTemplatePass=!1,refreshDescendantViews(viewToRender),safeToRunHooks=!0}finally{leaveView(oldView,safeToRunHooks),setPreviousOrParentTNode(_previousOrParentTNode,_isParent)}}}function renderComponentOrTemplate(hostView,context,templateFn){var rendererFactory=hostView[RENDERER_FACTORY],oldView=enterView(hostView,hostView[T_HOST]),normalExecutionPath=!getCheckNoChangesMode(),creationModeIsActive=isCreationMode(hostView),safeToRunHooks=!1;try{normalExecutionPath&&!creationModeIsActive&&rendererFactory.begin&&rendererFactory.begin(),creationModeIsActive&&(templateFn&&executeTemplate(hostView,templateFn,1,context),refreshDescendantViews(hostView),hostView[FLAGS]&=-5),resetPreOrderHookFlags(hostView),templateFn&&executeTemplate(hostView,templateFn,2,context),refreshDescendantViews(hostView),safeToRunHooks=!0}finally{normalExecutionPath&&!creationModeIsActive&&rendererFactory.end&&rendererFactory.end(),leaveView(oldView,safeToRunHooks)}}function executeTemplate(lView,templateFn,rf,context){namespaceHTMLInternal();var prevSelectedIndex=getSelectedIndex();try{setActiveHostElement(null),2&rf&&selectInternal(lView,0),templateFn(rf,context)}finally{setSelectedIndex(prevSelectedIndex)}}function getRenderFlags(view){return isCreationMode(view)?1:2}function executeContentQueries(tView,tNode,lView){if(isContentQueryHost(tNode))for(var start=tNode.directiveStart,end=tNode.directiveEnd,directiveIndex=start;directiveIndex<end;directiveIndex++){var def=tView.data[directiveIndex];def.contentQueries&&def.contentQueries(1,lView[directiveIndex],directiveIndex)}}function createDirectivesAndLocals(tView,lView,tNode,localRefExtractor){void 0===localRefExtractor&&(localRefExtractor=getNativeByTNode),getBindingsEnabled()&&(!function(tView,lView,tNode){var start=tNode.directiveStart,end=tNode.directiveEnd;!tView.firstTemplatePass&&start<end&&getOrCreateNodeInjectorForNode(tNode,lView);for(var i=start;i<end;i++){var def=tView.data[i];isComponentDef(def)&&addComponentLogic(lView,tNode,def);var directive=getNodeInjectable(tView.data,lView,i,tNode);postProcessDirective(lView,directive,def,i)}}(tView,lView,tNode),function(tView,viewData,tNode){var start=tNode.directiveStart,end=tNode.directiveEnd,expando=tView.expandoInstructions,firstTemplatePass=tView.firstTemplatePass,elementIndex=tNode.index-HEADER_OFFSET,selectedIndex=getSelectedIndex();try{setActiveHostElement(elementIndex);for(var i=start;i<end;i++){var def=tView.data[i],directive=viewData[i];def.hostBindings?(invokeHostBindingsInCreationMode(def,expando,directive,tNode,firstTemplatePass),incrementActiveDirectiveId()):firstTemplatePass&&expando.push(null)}}finally{setActiveHostElement(selectedIndex)}}(tView,lView,tNode),function(viewData,tNode,localRefExtractor){var localNames=tNode.localNames;if(localNames)for(var localIndex=tNode.index+1,i=0;i<localNames.length;i+=2){var index=localNames[i+1],value=-1===index?localRefExtractor(tNode,viewData):viewData[index];viewData[localIndex++]=value}}(lView,tNode,localRefExtractor),setActiveHostElement(null))}function getOrCreateTView(def){return def.tView||(def.tView=createTView(-1,def.template,def.consts,def.vars,def.directiveDefs,def.pipeDefs,def.viewQuery,def.schemas))}function createTView(viewIndex,templateFn,consts,vars,directives,pipes,viewQuery,schemas){ngDevMode&&ngDevMode.tView++;var list,bindingStartIndex=HEADER_OFFSET+consts,initialViewLength=bindingStartIndex+vars,blueprint=function(bindingStartIndex,initialViewLength){var blueprint=new(ngDevMode?LViewBlueprint:Array)(initialViewLength).fill(null,0,bindingStartIndex).fill(NO_CHANGE,bindingStartIndex);return blueprint[BINDING_INDEX]=bindingStartIndex,blueprint}(bindingStartIndex,initialViewLength);return blueprint[TVIEW]=ngDevMode?new TViewConstructor(viewIndex,blueprint,templateFn,null,viewQuery,null,(list=blueprint,void 0===TVIEWDATA_EMPTY&&(TVIEWDATA_EMPTY=new TViewData),TVIEWDATA_EMPTY.concat(list)).fill(null,bindingStartIndex),bindingStartIndex,initialViewLength,null,!0,!1,!1,null,null,null,null,null,null,null,null,null,null,"function"==typeof directives?directives():directives,"function"==typeof pipes?pipes():pipes,null,schemas):{id:viewIndex,blueprint:blueprint,template:templateFn,queries:null,viewQuery:viewQuery,node:null,data:blueprint.slice().fill(null,bindingStartIndex),bindingStartIndex:bindingStartIndex,expandoStartIndex:initialViewLength,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof directives?directives():directives,pipeRegistry:"function"==typeof pipes?pipes():pipes,firstChild:null,schemas:schemas}}function createError(text,token){return new Error("Renderer: "+text+" ["+stringifyForError(token)+"]")}function locateHostElement(factory,elementOrSelector){var defaultRenderer=factory.createRenderer(null,null),rNode="string"==typeof elementOrSelector?isProceduralRenderer(defaultRenderer)?defaultRenderer.selectRootElement(elementOrSelector):defaultRenderer.querySelector(elementOrSelector):elementOrSelector;if(ngDevMode&&!rNode)throw createError("string"==typeof elementOrSelector?"Host node with selector not found:":"Host node is required:",elementOrSelector);return rNode}function createTNode(tView,tParent,type,adjustedIndex,tagName,attrs){ngDevMode&&ngDevMode.tNode++;var injectorIndex=tParent?tParent.injectorIndex:-1;return ngDevMode?new TNodeConstructor(tView,type,adjustedIndex,injectorIndex,-1,-1,-1,-1,0,0,tagName,attrs,null,void 0,void 0,void 0,null,null,null,null,tParent,null,null,null):{type:type,index:adjustedIndex,injectorIndex:injectorIndex,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:tagName,attrs:attrs,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:tParent,projection:null,styles:null,classes:null}}function generatePropertyAliases(tNode,direction){var tView=getLView()[TVIEW],propStore=null,start=tNode.directiveStart,end=tNode.directiveEnd;if(end>start)for(var isInput=0===direction,defs=tView.data,i=start;i<end;i++){var directiveDef=defs[i],propertyAliasMap=isInput?directiveDef.inputs:directiveDef.outputs;for(var publicName in propertyAliasMap)if(propertyAliasMap.hasOwnProperty(publicName)){propStore=propStore||{};var internalName=propertyAliasMap[publicName];propStore.hasOwnProperty(publicName)?propStore[publicName].push(i,publicName,internalName):propStore[publicName]=[i,publicName,internalName]}}return propStore}var ATTR_TO_PROP={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};function elementPropertyInternal(index,propName,value,sanitizer,nativeOnly,loadRendererFn){ngDevMode&&assertNotSame(value,NO_CHANGE,"Incoming value should never be NO_CHANGE.");var inputData,dataValue,lView=getLView(),element=getNativeByIndex(index,lView),tNode=getTNode(index,lView);if(!nativeOnly&&(inputData=initializeTNodeInputs(tNode))&&(dataValue=inputData[propName])){if(setInputsForProperty(lView,dataValue,value),isComponent(tNode)&&function(lView,viewIndex){ngDevMode&&assertLView(lView);var childComponentLView=getComponentViewByIndex(viewIndex,lView);16&childComponentLView[FLAGS]||(childComponentLView[FLAGS]|=64)}(lView,index+HEADER_OFFSET),ngDevMode&&(3===tNode.type||0===tNode.type))for(var i=0;i<dataValue.length;i+=3)setNgReflectProperty(lView,element,tNode.type,dataValue[i+2],value)}else if(3===tNode.type){propName=ATTR_TO_PROP[propName]||propName,ngDevMode&&(!function(name){if(name.toLowerCase().startsWith("on")){var msg="Binding to event property '"+name+"' is disallowed for security reasons, please use ("+name.slice(2)+")=...\nIf '"+name+"' is a directive input, make sure the directive is imported by the current module.";throw new Error(msg)}}(propName),function(hostView,element,propName,tNode){if(matchingSchemas(hostView,tNode.tagName))return;if(!(propName in element)&&"function"==typeof Node&&element instanceof Node&&propName[0]!==ANIMATION_PROP_PREFIX)throw createUnknownPropertyError(propName,tNode)}(lView,element,propName,tNode),ngDevMode.rendererSetProperty++),function(tNode,lView,propName,tData,nativeOnly){var lastBindingIndex=lView[BINDING_INDEX]-1,bindingMetadata=tData[lastBindingIndex];bindingMetadata[0]==INTERPOLATION_DELIMITER&&(tData[lastBindingIndex]=propName+bindingMetadata,nativeOnly||(-1==tNode.propertyMetadataStartIndex&&(tNode.propertyMetadataStartIndex=lastBindingIndex),tNode.propertyMetadataEndIndex=lastBindingIndex+1))}(tNode,lView,propName,lView[TVIEW].data,nativeOnly);var renderer=loadRendererFn?loadRendererFn(tNode,lView):lView[RENDERER];value=null!=sanitizer?sanitizer(value,tNode.tagName||"",propName):value,isProceduralRenderer(renderer)?renderer.setProperty(element,propName,value):isAnimationProp(propName)||(element.setProperty?element.setProperty(propName,value):element[propName]=value)}else if(0===tNode.type&&ngDevMode&&!matchingSchemas(lView,tNode.tagName))throw createUnknownPropertyError(propName,tNode)}function setNgReflectProperty(lView,element,type,attrName,value){var _a,renderer=lView[RENDERER];attrName=normalizeDebugBindingName(attrName);var debugValue=normalizeDebugBindingValue(value);if(3===type)null==value?isProceduralRenderer(renderer)?renderer.removeAttribute(element,attrName):element.removeAttribute(attrName):isProceduralRenderer(renderer)?renderer.setAttribute(element,attrName,debugValue):element.setAttribute(attrName,debugValue);else{var textContent="bindings="+JSON.stringify(((_a={})[attrName]=debugValue,_a),null,2);isProceduralRenderer(renderer)?renderer.setValue(element,textContent):element.textContent=textContent}}function matchingSchemas(hostView,tagName){var schemas=hostView[TVIEW].schemas;if(null!==schemas)for(var i=0;i<schemas.length;i++){var schema=schemas[i];if(schema===NO_ERRORS_SCHEMA||schema===CUSTOM_ELEMENTS_SCHEMA&&tagName&&tagName.indexOf("-")>-1)return!0}return!1}function createUnknownPropertyError(propName,tNode){return new Error("Template error: Can't bind to '"+propName+"' since it isn't a known property of '"+tNode.tagName+"'.")}function resolveDirectives(tView,lView,tNode,localRefs){if(ngDevMode&&assertEqual(tView.firstTemplatePass,!0,"should run on first template pass only"),getBindingsEnabled()){var directives=function(tView,viewData,tNode){ngDevMode&&assertEqual(tView.firstTemplatePass,!0,"should run on first template pass only");var registry=tView.directiveRegistry,matches=null;if(registry)for(var i=0;i<registry.length;i++){var def=registry[i];isNodeMatchingSelectorList(tNode,def.selectors,!1)&&(matches||(matches=ngDevMode?new MatchesArray:[]),diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,viewData),tView,def.type),isComponentDef(def)?(1&tNode.flags&&throwMultipleComponentError(tNode),tNode.flags=1,matches.unshift(def)):matches.push(def))}return matches}(tView,lView,tNode),exportsMap=localRefs?{"":-1}:null;if(directives){initNodeFlags(tNode,tView.data.length,directives.length);for(var i=0;i<directives.length;i++){(def=directives[i]).providersResolver&&def.providersResolver(def)}generateExpandoInstructionBlock(tView,tNode,directives.length);var initialPreOrderHooksLength=tView.preOrderHooks&&tView.preOrderHooks.length||0,initialPreOrderCheckHooksLength=tView.preOrderCheckHooks&&tView.preOrderCheckHooks.length||0,nodeIndex=tNode.index-HEADER_OFFSET;for(i=0;i<directives.length;i++){var def=directives[i],directiveDefIdx=tView.data.length;baseResolveDirective(tView,lView,def,def.factory),saveNameToExportMap(tView.data.length-1,def,exportsMap),registerPreOrderHooks(directiveDefIdx,def,tView,nodeIndex,initialPreOrderHooksLength,initialPreOrderCheckHooksLength)}}exportsMap&&function(tNode,localRefs,exportsMap){if(localRefs)for(var localNames=tNode.localNames=ngDevMode?new TNodeLocalNames:[],i=0;i<localRefs.length;i+=2){var index=exportsMap[localRefs[i+1]];if(null==index)throw new Error("Export of name '"+localRefs[i+1]+"' not found!");localNames.push(localRefs[i],index)}}(tNode,localRefs,exportsMap)}}function invokeHostBindingsInCreationMode(def,expando,directive,tNode,firstTemplatePass){var previousExpandoLength=expando.length;setCurrentDirectiveDef(def);var elementIndex=tNode.index-HEADER_OFFSET;def.hostBindings(1,directive,elementIndex),setCurrentDirectiveDef(null),previousExpandoLength===expando.length&&firstTemplatePass&&expando.push(def.hostBindings)}function generateExpandoInstructionBlock(tView,tNode,directiveCount){ngDevMode&&assertEqual(tView.firstTemplatePass,!0,"Expando block should only be generated on first template pass.");var elementIndex=-(tNode.index-HEADER_OFFSET),providerStartIndex=65535&tNode.providerIndexes,providerCount=tView.data.length-providerStartIndex;(tView.expandoInstructions||(tView.expandoInstructions=[])).push(elementIndex,providerCount,directiveCount)}function postProcessDirective(viewData,directive,def,directiveDefIdx){var previousOrParentTNode=getPreviousOrParentTNode();(postProcessBaseDirective(viewData,previousOrParentTNode,directive),ngDevMode&&assertDefined(previousOrParentTNode,"previousOrParentTNode"),previousOrParentTNode&&previousOrParentTNode.attrs&&function(directiveIndex,instance,def,tNode){var initialInputData=tNode.initialInputs;(void 0===initialInputData||directiveIndex>=initialInputData.length)&&(initialInputData=function(directiveIndex,inputs,tNode){for(var initialInputData=tNode.initialInputs||(tNode.initialInputs=ngDevMode?new TNodeInitialInputs:[]),i_1=initialInputData.length;i_1<=directiveIndex;i_1++)initialInputData.push(null);var attrs=tNode.attrs,i=0;for(;i<attrs.length;){var attrName=attrs[i];if(0!==attrName)if(5!==attrName){if("number"==typeof attrName)break;var minifiedInputName=inputs[attrName],attrValue=attrs[i+1];if(void 0!==minifiedInputName){var inputsToStore=initialInputData[directiveIndex]||(initialInputData[directiveIndex]=ngDevMode?new TNodeInitialData:[]);inputsToStore.push(attrName,minifiedInputName,attrValue)}i+=2}else i+=2;else i+=4}return initialInputData}(directiveIndex,def.inputs,tNode));var initialInputs=initialInputData[directiveIndex];if(initialInputs)for(var setInput=def.setInput,i=0;i<initialInputs.length;){var publicName=initialInputs[i++],privateName=initialInputs[i++],value=initialInputs[i++];if(setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value,ngDevMode){var lView=getLView(),nativeElement=getNativeByTNode(tNode,lView);setNgReflectProperty(lView,nativeElement,tNode.type,privateName,value)}}}(directiveDefIdx,directive,def,previousOrParentTNode),viewData[TVIEW].firstTemplatePass&&def.contentQueries&&(previousOrParentTNode.flags|=4),isComponentDef(def))&&(getComponentViewByIndex(previousOrParentTNode.index,viewData)[CONTEXT]=directive)}function postProcessBaseDirective(lView,previousOrParentTNode,directive){var native=getNativeByTNode(previousOrParentTNode,lView);ngDevMode&&assertEqual(lView[BINDING_INDEX],lView[TVIEW].bindingStartIndex,"directives should be created before any bindings"),ngDevMode&&assertEqual(getIsParent(),!0,"previousOrParentTNode should be a parent"),attachPatchData(directive,lView),native&&attachPatchData(native,lView)}function queueComponentIndexForCheck(previousOrParentTNode){var tView=getLView()[TVIEW];ngDevMode&&assertEqual(tView.firstTemplatePass,!0,"Should only be called in first template pass."),(tView.components||(tView.components=ngDevMode?new TViewComponents:[])).push(previousOrParentTNode.index)}function saveNameToExportMap(index,def,exportsMap){if(exportsMap){if(def.exportAs)for(var i=0;i<def.exportAs.length;i++)exportsMap[def.exportAs[i]]=index;def.template&&(exportsMap[""]=index)}}function initNodeFlags(tNode,index,numberOfDirectives){var flags=tNode.flags;ngDevMode&&assertEqual(0===flags||1===flags,!0,"expected node flags to not be initialized"),ngDevMode&&assertNotEqual(numberOfDirectives,tNode.directiveEnd-tNode.directiveStart,"Reached the max number of directives"),tNode.flags=1&flags,tNode.directiveStart=index,tNode.directiveEnd=index+numberOfDirectives,tNode.providerIndexes=index}function baseResolveDirective(tView,viewData,def,directiveFactory){tView.data.push(def);var nodeInjectorFactory=new NodeInjectorFactory(directiveFactory,isComponentDef(def),null);tView.blueprint.push(nodeInjectorFactory),viewData.push(nodeInjectorFactory)}function addComponentLogic(lView,previousOrParentTNode,def){var native=getNativeByTNode(previousOrParentTNode,lView),tView=getOrCreateTView(def),rendererFactory=lView[RENDERER_FACTORY],componentView=addToViewTree(lView,createLView(lView,tView,null,def.onPush?64:16,lView[previousOrParentTNode.index],previousOrParentTNode,rendererFactory,rendererFactory.createRenderer(native,def)));componentView[T_HOST]=previousOrParentTNode,lView[previousOrParentTNode.index]=componentView,lView[TVIEW].firstTemplatePass&&queueComponentIndexForCheck(previousOrParentTNode)}function elementAttributeInternal(index,name,value,lView,sanitizer,namespace){ngDevMode&&assertNotSame(value,NO_CHANGE,"Incoming value should never be NO_CHANGE."),ngDevMode&&function(name){if(name.toLowerCase().startsWith("on")){var msg="Binding to event attribute '"+name+"' is disallowed for security reasons, please use ("+name.slice(2)+")=...";throw new Error(msg)}}(name);var element=getNativeByIndex(index,lView),renderer=lView[RENDERER];if(null==value)ngDevMode&&ngDevMode.rendererRemoveAttribute++,isProceduralRenderer(renderer)?renderer.removeAttribute(element,name,namespace):element.removeAttribute(name);else{ngDevMode&&ngDevMode.rendererSetAttribute++;var tNode=getTNode(index,lView),strValue=null==sanitizer?renderStringify(value):sanitizer(value,tNode.tagName||"",name);isProceduralRenderer(renderer)?renderer.setAttribute(element,name,strValue,namespace):namespace?element.setAttributeNS(namespace,name,strValue):element.setAttribute(name,strValue)}}var LContainerArray=ngDevMode&&createNamedArrayType();function createLContainer(hostNative,currentView,native,tNode,isForViewContainerRef){ngDevMode&&assertDomNode(native),ngDevMode&&assertLView(currentView);var lContainer=new(ngDevMode?LContainerArray:Array)(hostNative,!0,isForViewContainerRef?-1:0,currentView,null,null,tNode,native,null);return ngDevMode&&function(lContainer){attachDebugObject(lContainer,new LContainerDebug(lContainer))}(lContainer),lContainer}function componentRefresh(hostLView,adjustedElementIndex){ngDevMode&&assertDataInRange(hostLView,adjustedElementIndex);var componentView=getComponentViewByIndex(adjustedElementIndex,hostLView);ngDevMode&&assertNodeType(hostLView[TVIEW].data[adjustedElementIndex],3),(128==(128&componentView[FLAGS])||isCreationMode(hostLView))&&80&componentView[FLAGS]&&(!function(componentView){for(var componentTView=componentView[TVIEW],i=componentView.length;i<componentTView.blueprint.length;i++)componentView[i]=componentTView.blueprint[i]}(componentView),checkView(componentView,componentView[CONTEXT]))}function addToViewTree(lView,lViewOrLContainer){return lView[CHILD_HEAD]?lView[CHILD_TAIL][NEXT]=lViewOrLContainer:lView[CHILD_HEAD]=lViewOrLContainer,lView[CHILD_TAIL]=lViewOrLContainer,lViewOrLContainer}function markViewDirty(lView){for(;lView;){lView[FLAGS]|=64;var parent_1=getLViewParent(lView);if(isRootView(lView)&&!parent_1)return lView;lView=parent_1}return null}function tickRootContext(rootContext){for(var i=0;i<rootContext.components.length;i++){var rootComponent=rootContext.components[i];renderComponentOrTemplate(readPatchedLView(rootComponent),rootComponent)}}function detectChangesInternal(view,context){var rendererFactory=view[RENDERER_FACTORY];rendererFactory.begin&&rendererFactory.begin();try{isCreationMode(view)&&checkView(view,context),checkView(view,context)}catch(error){throw handleError(view,error),error}finally{rendererFactory.end&&rendererFactory.end()}}function detectChangesInRootView(lView){tickRootContext(lView[CONTEXT])}function checkNoChangesInternal(view,context){setCheckNoChangesMode(!0);try{detectChangesInternal(view,context)}finally{setCheckNoChangesMode(!1)}}function checkView(hostView,component){var hostTView=hostView[TVIEW],oldView=enterView(hostView,hostView[T_HOST]),templateFn=hostTView.template,creationMode=isCreationMode(hostView),safeToRunHooks=!1;try{resetPreOrderHookFlags(hostView),creationMode&&executeViewQueryFn(1,hostTView,component),executeTemplate(hostView,templateFn,getRenderFlags(hostView),component),refreshDescendantViews(hostView),safeToRunHooks=!0}finally{leaveView(oldView,safeToRunHooks)}}function executeViewQueryFn(flags,tView,component){var viewQuery=tView.viewQuery;null!==viewQuery&&(setCurrentQueryIndex(0),viewQuery(flags,component))}function storeBindingMetadata(lView,prefix,suffix){void 0===prefix&&(prefix=""),void 0===suffix&&(suffix="");var tData=lView[TVIEW].data,lastBindingIndex=lView[BINDING_INDEX]-1,value=INTERPOLATION_DELIMITER+prefix+INTERPOLATION_DELIMITER+suffix;return null==tData[lastBindingIndex]?tData[lastBindingIndex]=value:null}var CLEAN_PROMISE=_CLEAN_PROMISE;function initializeTNodeInputs(tNode){return void 0===tNode.inputs&&(tNode.inputs=generatePropertyAliases(tNode,0)),tNode.inputs}function getCleanup(view){return view[CLEANUP]||(view[CLEANUP]=ngDevMode?new LCleanup:[])}function getTViewCleanup(view){return view[TVIEW].cleanup||(view[TVIEW].cleanup=ngDevMode?new TCleanup:[])}function loadComponentRenderer(tNode,lView){return lView[tNode.index][RENDERER]}function handleError(lView,error){var injector=lView[INJECTOR$1],errorHandler=injector?injector.get(ErrorHandler,null):null;errorHandler&&errorHandler.handleError(error)}function setInputsForProperty(lView,inputs,value){for(var tView=lView[TVIEW],i=0;i<inputs.length;){var index=inputs[i++],publicName=inputs[i++],privateName=inputs[i++],instance=lView[index];ngDevMode&&assertDataInRange(lView,index);var def=tView.data[index];def.setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}function textBindingInternal(lView,index,value){ngDevMode&&assertNotSame(value,NO_CHANGE,"value should not be NO_CHANGE"),ngDevMode&&assertDataInRange(lView,index+HEADER_OFFSET);var element=getNativeByIndex(index,lView);ngDevMode&&assertDefined(element,"native element should exist"),ngDevMode&&ngDevMode.rendererSetText++;var renderer=lView[RENDERER];isProceduralRenderer(renderer)?renderer.setValue(element,value):element.textContent=value}function renderInitialStyling(renderer,native,tNode){renderStylingMap(renderer,native,tNode.classes,!0),renderStylingMap(renderer,native,tNode.styles,!1)}function getLContainer(tNode,embeddedView){ngDevMode&&assertLView(embeddedView);var container=embeddedView[PARENT];return-1===tNode.index?isLContainer(container)?container:null:(ngDevMode&&assertLContainer(container),container)}function getContainerRenderParent(tViewNode,view){var container=getLContainer(tViewNode,view);return container?nativeParentNode(view[RENDERER],container[NATIVE]):null}function executeActionOnElementOrContainer(action,renderer,parent,lNodeToHandle,beforeNode){if(null!=lNodeToHandle){var lContainer=void 0,isComponent=!1;isLContainer(lNodeToHandle)?lContainer=lNodeToHandle:isLView(lNodeToHandle)&&(isComponent=!0,ngDevMode&&assertDefined(lNodeToHandle[HOST],"HOST must be defined for a component LView"),lNodeToHandle=lNodeToHandle[HOST]);var rNode=unwrapRNode(lNodeToHandle);ngDevMode&&assertDomNode(rNode),0===action?nativeInsertBefore(renderer,parent,rNode,beforeNode||null):1===action?nativeRemoveNode(renderer,rNode,isComponent):2===action&&(ngDevMode&&ngDevMode.rendererDestroyNode++,renderer.destroyNode(rNode)),null!=lContainer&&function(renderer,action,lContainer,renderParent,beforeNode){ngDevMode&&assertLContainer(lContainer);var anchor=lContainer[NATIVE],native=unwrapRNode(lContainer);anchor!==native&&executeActionOnElementOrContainer(action,renderer,renderParent,anchor,beforeNode);for(var i=CONTAINER_HEADER_OFFSET;i<lContainer.length;i++){var lView=lContainer[i];executeActionOnView(renderer,action,lView,renderParent,anchor)}}(renderer,action,lContainer,parent,beforeNode)}}function createTextNode(value,renderer){return isProceduralRenderer(renderer)?renderer.createText(renderStringify(value)):renderer.createTextNode(renderStringify(value))}function addRemoveViewFromContainer(lView,insertMode,beforeNode){var renderParent=getContainerRenderParent(lView[TVIEW].node,lView);(ngDevMode&&assertNodeType(lView[TVIEW].node,2),renderParent)&&executeActionOnView(lView[RENDERER],insertMode?0:1,lView,renderParent,beforeNode)}function insertView(lView,lContainer,index){ngDevMode&&assertLView(lView),ngDevMode&&assertLContainer(lContainer);var indexInContainer=CONTAINER_HEADER_OFFSET+index,containerLength=lContainer.length;index>0&&(lContainer[indexInContainer-1][NEXT]=lView),index<containerLength-CONTAINER_HEADER_OFFSET?(lView[NEXT]=lContainer[indexInContainer],addToArray(lContainer,CONTAINER_HEADER_OFFSET+index,lView)):(lContainer.push(lView),lView[NEXT]=null),lView[PARENT]=lContainer;var declarationLContainer=lView[DECLARATION_LCONTAINER];null!==declarationLContainer&&lContainer!==declarationLContainer&&function(declarationContainer,lView){ngDevMode&&assertLContainer(declarationContainer);var declaredViews=declarationContainer[MOVED_VIEWS];null===declaredViews?declarationContainer[MOVED_VIEWS]=[lView]:declaredViews.push(lView)}(declarationLContainer,lView);var lQueries=lView[QUERIES];null!==lQueries&&lQueries.insertView(lView[TVIEW]),lView[FLAGS]|=128}function detachMovedView(declarationContainer,lView){ngDevMode&&assertLContainer(declarationContainer),ngDevMode&&assertDefined(declarationContainer[MOVED_VIEWS],"A projected view should belong to a non-empty projected views collection");var projectedViews=declarationContainer[MOVED_VIEWS],declaredViewIndex=projectedViews.indexOf(lView);projectedViews.splice(declaredViewIndex,1)}function detachView(lContainer,removeIndex){if(!(lContainer.length<=CONTAINER_HEADER_OFFSET)){var indexInContainer=CONTAINER_HEADER_OFFSET+removeIndex,viewToDetach=lContainer[indexInContainer];if(viewToDetach){var declarationLContainer=viewToDetach[DECLARATION_LCONTAINER];null!==declarationLContainer&&declarationLContainer!==lContainer&&detachMovedView(declarationLContainer,viewToDetach),removeIndex>0&&(lContainer[indexInContainer-1][NEXT]=viewToDetach[NEXT]);var removedLView=removeFromArray(lContainer,CONTAINER_HEADER_OFFSET+removeIndex);addRemoveViewFromContainer(viewToDetach,!1);var lQueries=removedLView[QUERIES];null!==lQueries&&lQueries.detachView(removedLView[TVIEW]),viewToDetach[PARENT]=null,viewToDetach[NEXT]=null,viewToDetach[FLAGS]&=-129}return viewToDetach}}function removeView(lContainer,removeIndex){var detachedView=detachView(lContainer,removeIndex);detachedView&&destroyLView(detachedView)}function destroyLView(lView){if(!(256&lView[FLAGS])){var renderer=lView[RENDERER];isProceduralRenderer(renderer)&&renderer.destroyNode&&executeActionOnView(renderer,2,lView,null,null),function(rootView){var lViewOrLContainer=rootView[CHILD_HEAD];if(!lViewOrLContainer)return cleanUpView(rootView);for(;lViewOrLContainer;){var next=null;if(isLView(lViewOrLContainer))next=lViewOrLContainer[CHILD_HEAD];else{ngDevMode&&assertLContainer(lViewOrLContainer);var firstView=lViewOrLContainer[CONTAINER_HEADER_OFFSET];firstView&&(next=firstView)}if(!next){for(;lViewOrLContainer&&!lViewOrLContainer[NEXT]&&lViewOrLContainer!==rootView;)cleanUpView(lViewOrLContainer),lViewOrLContainer=getParentState(lViewOrLContainer,rootView);cleanUpView(lViewOrLContainer||rootView),next=lViewOrLContainer&&lViewOrLContainer[NEXT]}lViewOrLContainer=next}}(lView)}}function getParentState(lViewOrLContainer,rootView){var tNode;return isLView(lViewOrLContainer)&&(tNode=lViewOrLContainer[T_HOST])&&2===tNode.type?getLContainer(tNode,lViewOrLContainer):lViewOrLContainer[PARENT]===rootView?null:lViewOrLContainer[PARENT]}function cleanUpView(view){if(isLView(view)&&!(256&view[FLAGS])){view[FLAGS]&=-129,view[FLAGS]|=256,function(view){var destroyHooks,tView=view[TVIEW];if(null!=tView&&null!=(destroyHooks=tView.destroyHooks))for(var i=0;i<destroyHooks.length;i+=2){var context=view[destroyHooks[i]];context instanceof NodeInjectorFactory||destroyHooks[i+1].call(context)}}(view),function(lView){var tCleanup=lView[TVIEW].cleanup;if(null!==tCleanup){for(var lCleanup=lView[CLEANUP],i=0;i<tCleanup.length-1;i+=2)if("string"==typeof tCleanup[i]){var idxOrTargetGetter=tCleanup[i+1],target="function"==typeof idxOrTargetGetter?idxOrTargetGetter(lView):unwrapRNode(lView[idxOrTargetGetter]),listener=lCleanup[tCleanup[i+2]],useCaptureOrSubIdx=tCleanup[i+3];"boolean"==typeof useCaptureOrSubIdx?target.removeEventListener(tCleanup[i],listener,useCaptureOrSubIdx):useCaptureOrSubIdx>=0?lCleanup[useCaptureOrSubIdx]():lCleanup[-useCaptureOrSubIdx].unsubscribe(),i+=2}else{var context=lCleanup[tCleanup[i+1]];tCleanup[i].call(context)}lView[CLEANUP]=null}}(view);var hostTNode=view[T_HOST];hostTNode&&3===hostTNode.type&&isProceduralRenderer(view[RENDERER])&&(ngDevMode&&ngDevMode.rendererDestroy++,view[RENDERER].destroy());var declarationContainer=view[DECLARATION_LCONTAINER];if(null!==declarationContainer&&isLContainer(view[PARENT])){declarationContainer!==view[PARENT]&&detachMovedView(declarationContainer,view);var lQueries=view[QUERIES];null!==lQueries&&lQueries.detachView(view[TVIEW])}}}function getRenderParent(tNode,currentView){if(isRootView(currentView))return nativeParentNode(currentView[RENDERER],getNativeByTNode(tNode,currentView));var parent=function(tNode){for(;null!=tNode.parent&&(4===tNode.parent.type||5===tNode.parent.type);)tNode=tNode.parent;return tNode}(tNode),renderParent=parent.parent;if(null==renderParent){var hostTNode=currentView[T_HOST];return 2===hostTNode.type?getContainerRenderParent(hostTNode,currentView):function(currentView){ngDevMode&&assertLView(currentView);var hostTNode=currentView[T_HOST];return hostTNode&&3===hostTNode.type?getNativeByTNode(hostTNode,getLViewParent(currentView)):null}(currentView)}var isIcuCase=parent&&5===parent.type;if(isIcuCase&&2&parent.flags)return getNativeByTNode(parent,currentView).parentNode;if(ngDevMode&&assertNodeType(renderParent,3),1&renderParent.flags&&!isIcuCase){var tData=currentView[TVIEW].data,encapsulation=tData[tData[renderParent.index].directiveStart].encapsulation;if(encapsulation!==ViewEncapsulation.ShadowDom&&encapsulation!==ViewEncapsulation.Native)return null}return getNativeByTNode(renderParent,currentView)}function nativeInsertBefore(renderer,parent,child,beforeNode){ngDevMode&&ngDevMode.rendererInsertBefore++,isProceduralRenderer(renderer)?renderer.insertBefore(parent,child,beforeNode):parent.insertBefore(child,beforeNode,!0)}function nativeAppendOrInsertBefore(renderer,parent,child,beforeNode){null!==beforeNode?nativeInsertBefore(renderer,parent,child,beforeNode):function(renderer,parent,child){ngDevMode&&ngDevMode.rendererAppendChild++,isProceduralRenderer(renderer)?renderer.appendChild(parent,child):parent.appendChild(child)}(renderer,parent,child)}function nativeParentNode(renderer,node){return isProceduralRenderer(renderer)?renderer.parentNode(node):node.parentNode}function appendChild(childEl,childTNode,currentView){var e_1,_a,renderParent=getRenderParent(childTNode,currentView);if(null!=renderParent){var renderer=currentView[RENDERER],anchorNode=function(parentTNode,lView){if(2===parentTNode.type){var lContainer=getLContainer(parentTNode,lView);return getBeforeNodeForView(lContainer.indexOf(lView,CONTAINER_HEADER_OFFSET)-CONTAINER_HEADER_OFFSET,lContainer)}return 4===parentTNode.type||5===parentTNode.type?getNativeByTNode(parentTNode,lView):null}(childTNode.parent||currentView[T_HOST],currentView);if(Array.isArray(childEl))try{for(var childEl_1=(0,_tslib.__values)(childEl),childEl_1_1=childEl_1.next();!childEl_1_1.done;childEl_1_1=childEl_1.next()){nativeAppendOrInsertBefore(renderer,renderParent,childEl_1_1.value,anchorNode)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{childEl_1_1&&!childEl_1_1.done&&(_a=childEl_1.return)&&_a.call(childEl_1)}finally{if(e_1)throw e_1.error}}else nativeAppendOrInsertBefore(renderer,renderParent,childEl,anchorNode)}}function getBeforeNodeForView(viewIndexInContainer,lContainer){var nextViewIndex=CONTAINER_HEADER_OFFSET+viewIndexInContainer+1;if(nextViewIndex<lContainer.length){var lView=lContainer[nextViewIndex];ngDevMode&&assertDefined(lView[T_HOST],"Missing Host TNode");var tViewNodeChild=lView[T_HOST].child;return null!==tViewNodeChild?getNativeByTNodeOrNull(tViewNodeChild,lView):lContainer[NATIVE]}return lContainer[NATIVE]}function nativeRemoveNode(renderer,rNode,isHostElement){var nativeParent=nativeParentNode(renderer,rNode);nativeParent&&function(renderer,parent,child,isHostElement){isProceduralRenderer(renderer)?renderer.removeChild(parent,child,isHostElement):parent.removeChild(child)}(renderer,nativeParent,rNode,isHostElement)}function appendProjectedNodes(lView,tProjectionNode,selectorIndex,componentView){var projectedView=componentView[PARENT],nodeToProject=componentView[T_HOST].projection[selectorIndex];if(Array.isArray(nodeToProject))appendChild(nodeToProject,tProjectionNode,lView);else for(;nodeToProject;)32&nodeToProject.flags||(1===nodeToProject.type?appendProjectedNodes(lView,tProjectionNode,nodeToProject.projection,findComponentView(projectedView)):(nodeToProject.flags|=2,appendProjectedNode(nodeToProject,tProjectionNode,lView,projectedView))),nodeToProject=nodeToProject.projectionNext}function appendProjectedChildren(ngContainerChildTNode,tProjectionNode,currentView,projectionView){for(;ngContainerChildTNode;)appendProjectedNode(ngContainerChildTNode,tProjectionNode,currentView,projectionView),ngContainerChildTNode=ngContainerChildTNode.next}function appendProjectedNode(projectedTNode,tProjectionNode,currentView,projectionView){var native=getNativeByTNode(projectedTNode,projectionView);appendChild(native,tProjectionNode,currentView),attachPatchData(native,projectionView);var nodeOrContainer=projectionView[projectedTNode.index];if(0===projectedTNode.type)for(var i=CONTAINER_HEADER_OFFSET;i<nodeOrContainer.length;i++)addRemoveViewFromContainer(nodeOrContainer[i],!0,nodeOrContainer[NATIVE]);else if(5===projectedTNode.type){var ngContainerChildTNode=projectedTNode.child;appendProjectedChildren(ngContainerChildTNode,ngContainerChildTNode,projectionView,projectionView)}else 4===projectedTNode.type&&appendProjectedChildren(projectedTNode.child,tProjectionNode,currentView,projectionView),isLContainer(nodeOrContainer)&&appendChild(nodeOrContainer[NATIVE],tProjectionNode,currentView)}function executeActionOnView(renderer,action,lView,renderParent,beforeNode){var tView=lView[TVIEW];ngDevMode&&assertNodeType(tView.node,2);for(var viewRootTNode=tView.node.child;null!==viewRootTNode;)executeActionOnNode(renderer,action,lView,viewRootTNode,renderParent,beforeNode),viewRootTNode=viewRootTNode.next}function executeActionOnNode(renderer,action,lView,tNode,renderParent,beforeNode){var nodeType=tNode.type;32&tNode.flags||(4===nodeType||5===nodeType?function(renderer,action,lView,tNode,renderParent,beforeNode){executeActionOnElementOrContainer(action,renderer,renderParent,lView[tNode.index],beforeNode);for(var childTNode=tNode.child;childTNode;)executeActionOnNode(renderer,action,lView,childTNode,renderParent,beforeNode),childTNode=childTNode.next}(renderer,action,lView,tNode,renderParent,beforeNode):1===nodeType?function(renderer,action,lView,tProjectionNode,renderParent,beforeNode){var componentLView=findComponentView(lView),componentNode=componentLView[T_HOST];ngDevMode&&assertDefined(componentNode.projection,"Element nodes for which projection is processed must have projection defined.");var nodeToProject=componentNode.projection[tProjectionNode.projection];if(void 0!==nodeToProject)if(Array.isArray(nodeToProject))for(var i=0;i<nodeToProject.length;i++){var rNode=nodeToProject[i];ngDevMode&&assertDomNode(rNode),executeActionOnElementOrContainer(action,renderer,renderParent,rNode,beforeNode)}else for(var projectionTNode=nodeToProject,projectedComponentLView=componentLView[PARENT];null!==projectionTNode;)executeActionOnNode(renderer,action,projectedComponentLView,projectionTNode,renderParent,beforeNode),projectionTNode=projectionTNode.projectionNext}(renderer,action,lView,tNode,renderParent,beforeNode):(ngDevMode&&assertNodeOfPossibleTypes(tNode,3,0),executeActionOnElementOrContainer(action,renderer,renderParent,lView[tNode.index],beforeNode)))}var R3ElementRef,R3TemplateRef,R3ViewContainerRef,ViewRef=function(){function ViewRef(_lView,_context,_componentIndex){this._context=_context,this._componentIndex=_componentIndex,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=_lView}return Object.defineProperty(ViewRef.prototype,"rootNodes",{get:function(){if(null==this._lView[HOST]){var tView=this._lView[T_HOST];return function collectNativeNodes(lView,parentTNode,result){var tNodeChild=parentTNode.child;for(;tNodeChild;){var nativeNode=getNativeByTNodeOrNull(tNodeChild,lView);if(nativeNode&&result.push(nativeNode),4===tNodeChild.type)collectNativeNodes(lView,tNodeChild,result);else if(1===tNodeChild.type)for(var componentView=findComponentView(lView),componentHost=componentView[T_HOST],parentView=getLViewParent(componentView),currentProjectedNode=componentHost.projection[tNodeChild.projection];currentProjectedNode&&parentView;)result.push(getNativeByTNode(currentProjectedNode,parentView)),currentProjectedNode=currentProjectedNode.next;tNodeChild=tNodeChild.next}return result}(this._lView,tView,[])}return[]},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return 256==(256&this._lView[FLAGS])},enumerable:!0,configurable:!0}),ViewRef.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var index=this._viewContainerRef.indexOf(this);index>-1&&this._viewContainerRef.detach(index),this._viewContainerRef=null}destroyLView(this._lView)},ViewRef.prototype.onDestroy=function(callback){var view,cleanupFn;view=this._lView,cleanupFn=callback,getCleanup(view).push(cleanupFn),view[TVIEW].firstTemplatePass&&getTViewCleanup(view).push(view[CLEANUP].length-1,null)},ViewRef.prototype.markForCheck=function(){markViewDirty(this._lView)},ViewRef.prototype.detach=function(){this._lView[FLAGS]&=-129},ViewRef.prototype.reattach=function(){this._lView[FLAGS]|=128},ViewRef.prototype.detectChanges=function(){detectChangesInternal(this._lView,this.context)},ViewRef.prototype.checkNoChanges=function(){checkNoChangesInternal(this._lView,this.context)},ViewRef.prototype.attachToViewContainerRef=function(vcRef){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=vcRef},ViewRef.prototype.detachFromAppRef=function(){var lView;this._appRef=null,executeActionOnView((lView=this._lView)[RENDERER],1,lView,null,null)},ViewRef.prototype.attachToAppRef=function(appRef){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=appRef},ViewRef.prototype._lookUpContext=function(){return this._context=getLViewParent(this._lView)[this._componentIndex]},ViewRef}(),RootViewRef=function(_super){function RootViewRef(_view){var _this=_super.call(this,_view,null,-1)||this;return _this._view=_view,_this}return(0,_tslib.__extends)(RootViewRef,_super),RootViewRef.prototype.detectChanges=function(){detectChangesInRootView(this._view)},RootViewRef.prototype.checkNoChanges=function(){!function(lView){setCheckNoChangesMode(!0);try{detectChangesInRootView(lView)}finally{setCheckNoChangesMode(!1)}}(this._view)},Object.defineProperty(RootViewRef.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),RootViewRef}(ViewRef);function createElementRef(ElementRefToken,tNode,view){return R3ElementRef||(R3ElementRef=function(_super){function ElementRef_(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(ElementRef_,_super),ElementRef_}(ElementRefToken)),new R3ElementRef(getNativeByTNode(tNode,view))}function createTemplateRef(TemplateRefToken,ElementRefToken,hostTNode,hostView){return R3TemplateRef||(R3TemplateRef=function(_super){function TemplateRef_(_declarationView,_declarationTContainer,elementRef){var _this=_super.call(this)||this;return _this._declarationView=_declarationView,_this._declarationTContainer=_declarationTContainer,_this.elementRef=elementRef,_this}return(0,_tslib.__extends)(TemplateRef_,_super),TemplateRef_.prototype.createEmbeddedView=function(context){var embeddedTView=this._declarationTContainer.tViews,lView=function(tView,context,declarationView,injectorIndex){var _isParent=getIsParent(),_previousOrParentTNode=getPreviousOrParentTNode();setPreviousOrParentTNode(null,!0);var lView=createLView(declarationView,tView,context,16,null,null);return lView[DECLARATION_VIEW]=declarationView,assignTViewNodeToLView(tView,null,-1,lView),tView.firstTemplatePass&&(tView.node.injectorIndex=injectorIndex),setPreviousOrParentTNode(_previousOrParentTNode,_isParent),lView}(embeddedTView,context,this._declarationView,this._declarationTContainer.injectorIndex),declarationLContainer=this._declarationView[this._declarationTContainer.index];ngDevMode&&assertLContainer(declarationLContainer),lView[DECLARATION_LCONTAINER]=declarationLContainer;var declarationViewLQueries=this._declarationView[QUERIES];null!==declarationViewLQueries&&(lView[QUERIES]=declarationViewLQueries.createEmbeddedView(embeddedTView)),renderEmbeddedTemplate(lView,embeddedTView,context);var viewRef=new ViewRef(lView,context,-1);return viewRef._tViewNode=lView[T_HOST],viewRef},TemplateRef_}(TemplateRefToken)),0===hostTNode.type?(ngDevMode&&assertDefined(hostTNode.tViews,"TView must be allocated"),new R3TemplateRef(hostView,hostTNode,createElementRef(ElementRefToken,hostTNode,hostView))):null}function createContainerRef(ViewContainerRefToken,ElementRefToken,hostTNode,hostView){var lContainer;R3ViewContainerRef||(R3ViewContainerRef=function(_super){function ViewContainerRef_(_lContainer,_hostTNode,_hostView){var _this=_super.call(this)||this;return _this._lContainer=_lContainer,_this._hostTNode=_hostTNode,_this._hostView=_hostView,_this}return(0,_tslib.__extends)(ViewContainerRef_,_super),Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return createElementRef(ElementRefToken,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"injector",{get:function(){return new NodeInjector(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"parentInjector",{get:function(){var parentLocation=getParentInjectorLocation(this._hostTNode,this._hostView),parentView=getParentInjectorView(parentLocation,this._hostView),parentTNode=function(location,startView,startTNode){if(startTNode.parent&&-1!==startTNode.parent.injectorIndex){for(var injectorIndex=startTNode.parent.injectorIndex,parentTNode_1=startTNode.parent;null!=parentTNode_1.parent&&injectorIndex==parentTNode_1.injectorIndex;)parentTNode_1=parentTNode_1.parent;return parentTNode_1}for(var viewOffset=getParentInjectorViewOffset(location),parentView=startView,parentTNode=startView[T_HOST];viewOffset>1;)parentTNode=(parentView=parentView[DECLARATION_VIEW])[T_HOST],viewOffset--;return parentTNode}(parentLocation,this._hostView,this._hostTNode);return hasParentInjector(parentLocation)&&null!=parentTNode?new NodeInjector(parentTNode,parentView):new NodeInjector(null,this._hostView)},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.clear=function(){for(;this.length>0;)this.remove(this.length-1)},ViewContainerRef_.prototype.get=function(index){return null!==this._lContainer[VIEW_REFS]&&this._lContainer[VIEW_REFS][index]||null},Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){return this._lContainer.length-CONTAINER_HEADER_OFFSET},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.createEmbeddedView=function(templateRef,context,index){var viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef},ViewContainerRef_.prototype.createComponent=function(componentFactory,index,injector,projectableNodes,ngModuleRef){var contextInjector=injector||this.parentInjector;!ngModuleRef&&null==componentFactory.ngModule&&contextInjector&&(ngModuleRef=contextInjector.get(NgModuleRef,null));var componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef},ViewContainerRef_.prototype.insert=function(viewRef,index){if(viewRef.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded();var lView=viewRef._lView,adjustedIdx=this._adjustIndex(index);return isLContainer(lView[PARENT])?this.move(viewRef,adjustedIdx):(insertView(lView,this._lContainer,adjustedIdx),addRemoveViewFromContainer(lView,!0,getBeforeNodeForView(adjustedIdx,this._lContainer)),viewRef.attachToViewContainerRef(this),addToArray(this._lContainer[VIEW_REFS],adjustedIdx,viewRef),viewRef)},ViewContainerRef_.prototype.move=function(viewRef,newIndex){if(viewRef.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var index=this.indexOf(viewRef);return-1!==index&&this.detach(index),this.insert(viewRef,newIndex),viewRef},ViewContainerRef_.prototype.indexOf=function(viewRef){return null!==this._lContainer[VIEW_REFS]?this._lContainer[VIEW_REFS].indexOf(viewRef):0},ViewContainerRef_.prototype.remove=function(index){this.allocateContainerIfNeeded();var adjustedIdx=this._adjustIndex(index,-1);removeView(this._lContainer,adjustedIdx),removeFromArray(this._lContainer[VIEW_REFS],adjustedIdx)},ViewContainerRef_.prototype.detach=function(index){this.allocateContainerIfNeeded();var adjustedIdx=this._adjustIndex(index,-1),view=detachView(this._lContainer,adjustedIdx);return view&&null!=removeFromArray(this._lContainer[VIEW_REFS],adjustedIdx)?new ViewRef(view,view[CONTEXT],-1):null},ViewContainerRef_.prototype._adjustIndex=function(index,shift){return void 0===shift&&(shift=0),null==index?this.length+shift:(ngDevMode&&(assertGreaterThan(index,-1,"index must be positive"),assertLessThan(index,this.length+1+shift,"index")),index)},ViewContainerRef_.prototype.allocateContainerIfNeeded=function(){null===this._lContainer[VIEW_REFS]&&(this._lContainer[VIEW_REFS]=[])},ViewContainerRef_}(ViewContainerRefToken)),ngDevMode&&assertNodeOfPossibleTypes(hostTNode,0,3,4);var slotValue=hostView[hostTNode.index];if(isLContainer(slotValue))(lContainer=slotValue)[ACTIVE_INDEX]=-1;else{var commentNode=void 0;if(4===hostTNode.type?commentNode=unwrapRNode(slotValue):(ngDevMode&&ngDevMode.rendererCreateComment++,commentNode=hostView[RENDERER].createComment(ngDevMode?"container":"")),isRootView(hostView)){var renderer=hostView[RENDERER],hostNative=getNativeByTNode(hostTNode,hostView);nativeInsertBefore(renderer,nativeParentNode(renderer,hostNative),commentNode,function(renderer,node){return isProceduralRenderer(renderer)?renderer.nextSibling(node):node.nextSibling}(renderer,hostNative))}else appendChild(commentNode,hostTNode,hostView);hostView[hostTNode.index]=lContainer=createLContainer(slotValue,hostView,commentNode,hostTNode,!0),addToViewTree(hostView,lContainer)}return new R3ViewContainerRef(lContainer,hostTNode,hostView)}function injectChangeDetectorRef(isPipe){return void 0===isPipe&&(isPipe=!1),function(hostTNode,hostView,isPipe){if(isComponent(hostTNode)&&!isPipe){var componentIndex=hostTNode.directiveStart,componentView=getComponentViewByIndex(hostTNode.index,hostView);return new ViewRef(componentView,null,componentIndex)}if(3===hostTNode.type||0===hostTNode.type||4===hostTNode.type){var hostComponentView=findComponentView(hostView);return new ViewRef(hostComponentView,hostComponentView[CONTEXT],-1)}return null}(getPreviousOrParentTNode(),getLView(),isPipe)}var ChangeDetectorRef=function(){function ChangeDetectorRef(){}return ChangeDetectorRef.__NG_ELEMENT_ID__=function(){return SWITCH_CHANGE_DETECTOR_REF_FACTORY()},ChangeDetectorRef}();exports.ChangeDetectorRef=ChangeDetectorRef;var SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__=injectChangeDetectorRef;exports.SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__=SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__;var SWITCH_CHANGE_DETECTOR_REF_FACTORY__PRE_R3__=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i]},SWITCH_CHANGE_DETECTOR_REF_FACTORY=SWITCH_CHANGE_DETECTOR_REF_FACTORY__PRE_R3__,Type=Function;function isType(v){return"function"==typeof v}exports.Type=Type;var DELEGATE_CTOR=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,INHERITED_CLASS=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,INHERITED_CLASS_WITH_CTOR=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,INHERITED_CLASS_WITH_DELEGATE_CTOR=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;var ReflectionCapabilities=function(){function ReflectionCapabilities(reflect){this._reflect=reflect||_global.Reflect}return ReflectionCapabilities.prototype.isReflectionEnabled=function(){return!0},ReflectionCapabilities.prototype.factory=function(t){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new(t.bind.apply(t,(0,_tslib.__spread)([void 0],args)))}},ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(paramTypes,paramAnnotations){var result;result=void 0===paramTypes?new Array(paramAnnotations.length):new Array(paramTypes.length);for(var i=0;i<result.length;i++)void 0===paramTypes?result[i]=[]:paramTypes[i]&&paramTypes[i]!=Object?result[i]=[paramTypes[i]]:result[i]=[],paramAnnotations&&null!=paramAnnotations[i]&&(result[i]=result[i].concat(paramAnnotations[i]));return result},ReflectionCapabilities.prototype._ownParameters=function(type,parentCtor){if(function(typeStr){return DELEGATE_CTOR.test(typeStr)||INHERITED_CLASS_WITH_DELEGATE_CTOR.test(typeStr)||INHERITED_CLASS.test(typeStr)&&!INHERITED_CLASS_WITH_CTOR.test(typeStr)}(type.toString()))return null;if(type.parameters&&type.parameters!==parentCtor.parameters)return type.parameters;var tsickleCtorParams=type.ctorParameters;if(tsickleCtorParams&&tsickleCtorParams!==parentCtor.ctorParameters){var ctorParameters="function"==typeof tsickleCtorParams?tsickleCtorParams():tsickleCtorParams,paramTypes_1=ctorParameters.map(function(ctorParam){return ctorParam&&ctorParam.type}),paramAnnotations_1=ctorParameters.map(function(ctorParam){return ctorParam&&convertTsickleDecoratorIntoMetadata(ctorParam.decorators)});return this._zipTypesAndAnnotations(paramTypes_1,paramAnnotations_1)}var paramAnnotations=type.hasOwnProperty(PARAMETERS)&&type[PARAMETERS],paramTypes=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",type);return paramTypes||paramAnnotations?this._zipTypesAndAnnotations(paramTypes,paramAnnotations):new Array(type.length).fill(void 0)},ReflectionCapabilities.prototype.parameters=function(type){if(!isType(type))return[];var parentCtor=getParentCtor(type),parameters=this._ownParameters(type,parentCtor);return parameters||parentCtor===Object||(parameters=this.parameters(parentCtor)),parameters||[]},ReflectionCapabilities.prototype._ownAnnotations=function(typeOrFunc,parentCtor){if(typeOrFunc.annotations&&typeOrFunc.annotations!==parentCtor.annotations){var annotations=typeOrFunc.annotations;return"function"==typeof annotations&&annotations.annotations&&(annotations=annotations.annotations),annotations}return typeOrFunc.decorators&&typeOrFunc.decorators!==parentCtor.decorators?convertTsickleDecoratorIntoMetadata(typeOrFunc.decorators):typeOrFunc.hasOwnProperty(ANNOTATIONS)?typeOrFunc[ANNOTATIONS]:null},ReflectionCapabilities.prototype.annotations=function(typeOrFunc){if(!isType(typeOrFunc))return[];var parentCtor=getParentCtor(typeOrFunc),ownAnnotations=this._ownAnnotations(typeOrFunc,parentCtor)||[];return(parentCtor!==Object?this.annotations(parentCtor):[]).concat(ownAnnotations)},ReflectionCapabilities.prototype._ownPropMetadata=function(typeOrFunc,parentCtor){if(typeOrFunc.propMetadata&&typeOrFunc.propMetadata!==parentCtor.propMetadata){var propMetadata=typeOrFunc.propMetadata;return"function"==typeof propMetadata&&propMetadata.propMetadata&&(propMetadata=propMetadata.propMetadata),propMetadata}if(typeOrFunc.propDecorators&&typeOrFunc.propDecorators!==parentCtor.propDecorators){var propDecorators_1=typeOrFunc.propDecorators,propMetadata_1={};return Object.keys(propDecorators_1).forEach(function(prop){propMetadata_1[prop]=convertTsickleDecoratorIntoMetadata(propDecorators_1[prop])}),propMetadata_1}return typeOrFunc.hasOwnProperty(PROP_METADATA)?typeOrFunc[PROP_METADATA]:null},ReflectionCapabilities.prototype.propMetadata=function(typeOrFunc){if(!isType(typeOrFunc))return{};var parentCtor=getParentCtor(typeOrFunc),propMetadata={};if(parentCtor!==Object){var parentPropMetadata_1=this.propMetadata(parentCtor);Object.keys(parentPropMetadata_1).forEach(function(propName){propMetadata[propName]=parentPropMetadata_1[propName]})}var ownPropMetadata=this._ownPropMetadata(typeOrFunc,parentCtor);return ownPropMetadata&&Object.keys(ownPropMetadata).forEach(function(propName){var decorators=[];propMetadata.hasOwnProperty(propName)&&decorators.push.apply(decorators,(0,_tslib.__spread)(propMetadata[propName])),decorators.push.apply(decorators,(0,_tslib.__spread)(ownPropMetadata[propName])),propMetadata[propName]=decorators}),propMetadata},ReflectionCapabilities.prototype.ownPropMetadata=function(typeOrFunc){return isType(typeOrFunc)&&this._ownPropMetadata(typeOrFunc,getParentCtor(typeOrFunc))||{}},ReflectionCapabilities.prototype.hasLifecycleHook=function(type,lcProperty){return type instanceof Type&&lcProperty in type.prototype},ReflectionCapabilities.prototype.guards=function(type){return{}},ReflectionCapabilities.prototype.getter=function(name){return new Function("o","return o."+name+";")},ReflectionCapabilities.prototype.setter=function(name){return new Function("o","v","return o."+name+" = v;")},ReflectionCapabilities.prototype.method=function(name){return new Function("o","args","if (!o."+name+") throw new Error('\""+name+"\" is undefined');\n        return o."+name+".apply(o, args);")},ReflectionCapabilities.prototype.importUri=function(type){return"object"==typeof type&&type.filePath?type.filePath:"./"+stringify(type)},ReflectionCapabilities.prototype.resourceUri=function(type){return"./"+stringify(type)},ReflectionCapabilities.prototype.resolveIdentifier=function(name,moduleUrl,members,runtime){return runtime},ReflectionCapabilities.prototype.resolveEnum=function(enumIdentifier,name){return enumIdentifier[name]},ReflectionCapabilities}();function convertTsickleDecoratorIntoMetadata(decoratorInvocations){return decoratorInvocations?decoratorInvocations.map(function(decoratorInvocation){var annotationCls=decoratorInvocation.type.annotationCls,annotationArgs=decoratorInvocation.args?decoratorInvocation.args:[];return new(annotationCls.bind.apply(annotationCls,(0,_tslib.__spread)([void 0],annotationArgs)))}):[]}function getParentCtor(ctor){var parentProto=ctor.prototype?Object.getPrototypeOf(ctor.prototype):null;return(parentProto?parentProto.constructor:null)||Object}exports.ReflectionCapabilities=ReflectionCapabilities;var _reflect=null;function getReflect(){return _reflect=_reflect||new ReflectionCapabilities}function reflectDependencies(type){return convertDependencies(getReflect().parameters(type))}function convertDependencies(deps){var compiler=getCompilerFacade();return deps.map(function(dep){return function(compiler,dep){var meta={token:null,host:!1,optional:!1,resolved:compiler.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function setTokenAndResolvedType(token){meta.resolved=compiler.R3ResolvedDependencyType.Token,meta.token=token}if(Array.isArray(dep)){if(0===dep.length)throw new Error("Dependency array must have arguments.");for(var j=0;j<dep.length;j++){var param=dep[j];if(void 0!==param)if(param instanceof Optional||"Optional"===param.__proto__.ngMetadataName)meta.optional=!0;else if(param instanceof SkipSelf||"SkipSelf"===param.__proto__.ngMetadataName)meta.skipSelf=!0;else if(param instanceof Self||"Self"===param.__proto__.ngMetadataName)meta.self=!0;else if(param instanceof Host||"Host"===param.__proto__.ngMetadataName)meta.host=!0;else if(param instanceof Inject)meta.token=param.token;else if(param instanceof Attribute){if(void 0===param.attributeName)throw new Error("Attribute name must be defined.");meta.token=param.attributeName,meta.resolved=compiler.R3ResolvedDependencyType.Attribute}else param===ChangeDetectorRef?(meta.token=param,meta.resolved=compiler.R3ResolvedDependencyType.ChangeDetectorRef):setTokenAndResolvedType(param)}}else setTokenAndResolvedType(dep);return meta}(compiler,dep)})}function compileInjectable(type,srcMeta){var def=null;type.hasOwnProperty(NG_INJECTABLE_DEF)||Object.defineProperty(type,NG_INJECTABLE_DEF,{get:function(){if(null===def){var meta=srcMeta||{providedIn:null},hasAProvider=isUseClassProvider(meta)||isUseFactoryProvider(meta)||isUseValueProvider(meta)||isUseExistingProvider(meta),compilerMeta={name:type.name,type:type,typeArgumentCount:0,providedIn:meta.providedIn,ctorDeps:reflectDependencies(type),userDeps:void 0};if((isUseClassProvider(meta)||isUseFactoryProvider(meta))&&void 0!==meta.deps&&(compilerMeta.userDeps=convertDependencies(meta.deps)),hasAProvider)if(isUseClassProvider(meta))compilerMeta.useClass=meta.useClass;else if(isUseValueProvider(meta))compilerMeta.useValue=meta.useValue;else if(isUseFactoryProvider(meta))compilerMeta.useFactory=meta.useFactory;else{if(!isUseExistingProvider(meta))throw new Error("Unreachable state.");compilerMeta.useExisting=meta.useExisting}else compilerMeta.useClass=type;def=getCompilerFacade().compileInjectable(angularCoreDiEnv,"ng:///"+type.name+"/ngInjectableDef.js",compilerMeta)}return def}})}var USE_VALUE$1=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});function isUseClassProvider(meta){return void 0!==meta.useClass}function isUseValueProvider(meta){return USE_VALUE$1 in meta}function isUseFactoryProvider(meta){return void 0!==meta.useFactory}function isUseExistingProvider(meta){return void 0!==meta.useExisting}var USE_VALUE$2=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty}),EMPTY_ARRAY$1=[];function convertInjectableProviderToFactory(type,provider){if(!provider){var deps_1=(reflectionCapabilities=new ReflectionCapabilities).parameters(type);return function(){return new(type.bind.apply(type,(0,_tslib.__spread)([void 0],injectArgs(deps_1))))}}if(USE_VALUE$2 in provider){var valueProvider_1=provider;return function(){return valueProvider_1.useValue}}if(provider.useExisting){var existingProvider_1=provider;return function(){return inject(existingProvider_1.useExisting)}}if(provider.useFactory){var factoryProvider_1=provider;return function(){return factoryProvider_1.useFactory.apply(factoryProvider_1,(0,_tslib.__spread)(injectArgs(factoryProvider_1.deps||EMPTY_ARRAY$1)))}}if(provider.useClass){var classProvider_1=provider,deps_2=provider.deps;if(!deps_2){var reflectionCapabilities=new ReflectionCapabilities;deps_2=reflectionCapabilities.parameters(type)}return function(){var _a;return new((_a=classProvider_1.useClass).bind.apply(_a,(0,_tslib.__spread)([void 0],injectArgs(deps_2))))}}var deps_3=provider.deps;if(!deps_3){reflectionCapabilities=new ReflectionCapabilities;deps_3=reflectionCapabilities.parameters(type)}return function(){return new(type.bind.apply(type,(0,_tslib.__spread)([void 0],injectArgs(deps_3))))}}var Injectable=makeDecorator("Injectable",void 0,void 0,void 0,function(type,meta){return SWITCH_COMPILE_INJECTABLE(type,meta)});exports.Injectable=Injectable;var SWITCH_COMPILE_INJECTABLE__POST_R3__=compileInjectable;exports.SWITCH_COMPILE_INJECTABLE__POST_R3__=SWITCH_COMPILE_INJECTABLE__POST_R3__;var SWITCH_COMPILE_INJECTABLE=function(injectableType,options){options&&void 0!==options.providedIn&&!getInjectableDef(injectableType)&&(injectableType.ngInjectableDef=defineInjectable({token:injectableType,providedIn:options.providedIn,factory:convertInjectableProviderToFactory(injectableType,options)}))},APP_ROOT=new InjectionToken("The presence of this token marks an injector as being the root injector.");exports.APP_ROOT=APP_ROOT;var NOT_YET={},CIRCULAR={},EMPTY_ARRAY$2=[],NULL_INJECTOR=void 0;function getNullInjector(){return void 0===NULL_INJECTOR&&(NULL_INJECTOR=new NullInjector),NULL_INJECTOR}function createInjector(defType,parent,additionalProviders,name){return void 0===parent&&(parent=null),void 0===additionalProviders&&(additionalProviders=null),parent=parent||getNullInjector(),new R3Injector(defType,additionalProviders,parent,name)}var R3Injector=function(){function R3Injector(def,additionalProviders,parent,source){var _this=this;void 0===source&&(source=null),this.parent=parent,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var dedupStack=[];deepForEach([def],function(injectorDef){return _this.processInjectorType(injectorDef,[],dedupStack)}),additionalProviders&&deepForEach(additionalProviders,function(provider){return _this.processProvider(provider,def,additionalProviders)}),this.records.set(INJECTOR,makeRecord(void 0,this)),this.isRootInjector=this.records.has(APP_ROOT),this.injectorDefTypes.forEach(function(defType){return _this.get(defType)}),this.source=source||("object"==typeof def?null:stringify(def))}return Object.defineProperty(R3Injector.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),R3Injector.prototype.destroy=function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(service){return service.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},R3Injector.prototype.get=function(token,notFoundValue,flags){void 0===notFoundValue&&(notFoundValue=THROW_IF_NOT_FOUND),void 0===flags&&(flags=InjectFlags.Default),this.assertNotDestroyed();var value,previousInjector=setCurrentInjector(this);try{if(!(flags&InjectFlags.SkipSelf)){var record=this.records.get(token);if(void 0===record){var def=("function"==typeof(value=token)||"object"==typeof value&&value instanceof InjectionToken)&&getInjectableDef(token);def&&this.injectableDefInScope(def)&&(record=makeRecord(injectableDefOrInjectorDefFactory(token),NOT_YET),this.records.set(token,record))}if(void 0!==record)return this.hydrate(token,record)}return(flags&InjectFlags.Self?getNullInjector():this.parent).get(token,flags&InjectFlags.Optional?null:notFoundValue)}catch(e){if("NullInjectorError"===e.name){if((e[NG_TEMP_TOKEN_PATH]=e[NG_TEMP_TOKEN_PATH]||[]).unshift(stringify(token)),previousInjector)throw e;return catchInjectorError(e,token,"R3InjectorError",this.source)}throw e}finally{setCurrentInjector(previousInjector)}},R3Injector.prototype.toString=function(){var tokens=[];return this.records.forEach(function(v,token){return tokens.push(stringify(token))}),"R3Injector["+tokens.join(", ")+"]"},R3Injector.prototype.assertNotDestroyed=function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")},R3Injector.prototype.processInjectorType=function(defOrWrappedDef,parents,dedupStack){var _this=this;if(!(defOrWrappedDef=resolveForwardRef(defOrWrappedDef)))return!1;var def=getInjectorDef(defOrWrappedDef),ngModule=null==def&&defOrWrappedDef.ngModule||void 0,defType=void 0===ngModule?defOrWrappedDef:ngModule;if(ngDevMode&&-1!==parents.indexOf(defType)){var defName=stringify(defType);throw new Error("Circular dependency in DI detected for type "+defName+". Dependency path: "+parents.map(function(defType){return stringify(defType)}).join(" > ")+" > "+defName+".")}var isDuplicate=-1!==dedupStack.indexOf(defType);if(void 0!==ngModule&&(def=getInjectorDef(ngModule)),null==def)return!1;if(this.injectorDefTypes.add(defType),this.records.set(defType,makeRecord(def.factory,NOT_YET)),null!=def.imports&&!isDuplicate){var importTypesWithProviders_1;ngDevMode&&parents.push(defType),dedupStack.push(defType);try{deepForEach(def.imports,function(imported){_this.processInjectorType(imported,parents,dedupStack)&&(void 0===importTypesWithProviders_1&&(importTypesWithProviders_1=[]),importTypesWithProviders_1.push(imported))})}finally{ngDevMode&&parents.pop()}if(void 0!==importTypesWithProviders_1)for(var _loop_1=function(i){var _a=importTypesWithProviders_1[i],ngModule_1=_a.ngModule,providers=_a.providers;deepForEach(providers,function(provider){return _this.processProvider(provider,ngModule_1,providers||EMPTY_ARRAY$2)})},i=0;i<importTypesWithProviders_1.length;i++)_loop_1(i)}var defProviders=def.providers;if(null!=defProviders&&!isDuplicate){var injectorType_1=defOrWrappedDef;deepForEach(defProviders,function(provider){return _this.processProvider(provider,injectorType_1,defProviders)})}return void 0!==ngModule&&void 0!==defOrWrappedDef.providers},R3Injector.prototype.processProvider=function(provider,ngModuleType,providers){var token=isTypeProvider(provider=resolveForwardRef(provider))?provider:resolveForwardRef(provider&&provider.provide),record=function(provider,ngModuleType,providers){var factory=providerToFactory(provider,ngModuleType,providers);return isValueProvider(provider)?makeRecord(void 0,provider.useValue):makeRecord(factory,NOT_YET)}(provider,ngModuleType,providers);if(isTypeProvider(provider)||!0!==provider.multi){var existing=this.records.get(token);existing&&void 0!==existing.multi&&throwMixedMultiProviderError()}else{var multiRecord_1=this.records.get(token);multiRecord_1?void 0===multiRecord_1.multi&&throwMixedMultiProviderError():((multiRecord_1=makeRecord(void 0,NOT_YET,!0)).factory=function(){return injectArgs(multiRecord_1.multi)},this.records.set(token,multiRecord_1)),token=provider,multiRecord_1.multi.push(provider)}this.records.set(token,record)},R3Injector.prototype.hydrate=function(token,record){var value;return record.value===CIRCULAR?function(token){throw new Error("Cannot instantiate cyclic dependency! "+token)}(stringify(token)):record.value===NOT_YET&&(record.value=CIRCULAR,record.value=record.factory()),"object"==typeof record.value&&record.value&&(null!==(value=record.value)&&"object"==typeof value&&"function"==typeof value.ngOnDestroy)&&this.onDestroy.add(record.value),record.value},R3Injector.prototype.injectableDefInScope=function(def){return!!def.providedIn&&("string"==typeof def.providedIn?"any"===def.providedIn||"root"===def.providedIn&&this.isRootInjector:this.injectorDefTypes.has(def.providedIn))},R3Injector}();function injectableDefOrInjectorDefFactory(token){var injectableDef=getInjectableDef(token);if(null!==injectableDef)return injectableDef.factory;var injectorDef=getInjectorDef(token);if(null!==injectorDef)return injectorDef.factory;if(token instanceof InjectionToken)throw new Error("Token "+stringify(token)+" is missing an ngInjectableDef definition.");if(token instanceof Function)return function(token){var paramLength=token.length;if(paramLength>0){var args=new Array(paramLength).fill("?");throw new Error("Can't resolve all parameters for "+stringify(token)+": ("+args.join(", ")+").")}var inheritedInjectableDef=(type=token,type&&type[NG_INJECTABLE_DEF]?(console.warn('DEPRECATED: DI is instantiating a token "'+type.name+'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "'+type.name+'" class.'),type[NG_INJECTABLE_DEF]):null);var type;return null!==inheritedInjectableDef?function(){return inheritedInjectableDef.factory(token)}:function(){return new token}}(token);throw new Error("unreachable")}function providerToFactory(provider,ngModuleType,providers){var value,factory=void 0;if(isTypeProvider(provider))return injectableDefOrInjectorDefFactory(resolveForwardRef(provider));if(isValueProvider(provider))factory=function(){return resolveForwardRef(provider.useValue)};else if((value=provider)&&value.useExisting)factory=function(){return inject(resolveForwardRef(provider.useExisting))};else if(function(value){return!(!value||!value.useFactory)}(provider))factory=function(){return provider.useFactory.apply(provider,(0,_tslib.__spread)(injectArgs(provider.deps||[])))};else{var classRef_1=resolveForwardRef(provider&&(provider.useClass||provider.provide));if(classRef_1||function(ngModuleType,providers,provider){var ngModuleDetail="";throw ngModuleType&&providers&&(ngModuleDetail=" - only instances of Provider and Type are allowed, got: ["+providers.map(function(v){return v==provider?"?"+provider+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+stringify(ngModuleType)+"'"+ngModuleDetail)}(ngModuleType,providers,provider),!function(value){return!!value.deps}(provider))return injectableDefOrInjectorDefFactory(classRef_1);factory=function(){return new(classRef_1.bind.apply(classRef_1,(0,_tslib.__spread)([void 0],injectArgs(provider.deps))))}}return factory}function makeRecord(factory,value,multi){return void 0===multi&&(multi=!1),{factory:factory,value:value,multi:multi?[]:void 0}}function isValueProvider(value){return null!==value&&"object"==typeof value&&USE_VALUE in value}function isTypeProvider(value){return"function"==typeof value}var INJECTOR_IMPL=function(providers,parent,name){return new StaticInjector(providers,parent,name)},Injector=function(){function Injector(){}return Injector.create=function(options,parent){return Array.isArray(options)?INJECTOR_IMPL(options,parent,""):INJECTOR_IMPL(options.providers,options.parent,options.name||"")},Injector.THROW_IF_NOT_FOUND=THROW_IF_NOT_FOUND,Injector.NULL=new NullInjector,Injector.ngInjectableDef=defineInjectable({token:Injector,providedIn:"any",factory:function(){return inject(INJECTOR)}}),Injector.__NG_ELEMENT_ID__=-1,Injector}();exports.Injector=Injector;var IDENT=function(value){return value},EMPTY=[],CIRCULAR$1=IDENT,MULTI_PROVIDER_FN=function(){return Array.prototype.slice.call(arguments)},NO_NEW_LINE$1="",StaticInjector=function(){function StaticInjector(providers,parent,source){void 0===parent&&(parent=Injector.NULL),void 0===source&&(source=null),this.parent=parent,this.source=source;var records=this._records=new Map;records.set(Injector,{token:Injector,fn:IDENT,deps:EMPTY,value:this,useNew:!1}),records.set(INJECTOR,{token:INJECTOR,fn:IDENT,deps:EMPTY,value:this,useNew:!1}),function recursivelyProcessProviders(records,provider){if(provider)if((provider=resolveForwardRef(provider))instanceof Array)for(var i=0;i<provider.length;i++)recursivelyProcessProviders(records,provider[i]);else{if("function"==typeof provider)throw staticError("Function/Class not supported",provider);if(!provider||"object"!=typeof provider||!provider.provide)throw staticError("Unexpected provider",provider);var token=resolveForwardRef(provider.provide),resolvedProvider=function(provider){var deps=function(provider){var deps=EMPTY,providerDeps=provider.deps;if(providerDeps&&providerDeps.length){deps=[];for(var i=0;i<providerDeps.length;i++){var options=6,token=resolveForwardRef(providerDeps[i]);if(token instanceof Array)for(var j=0,annotations=token;j<annotations.length;j++){var annotation=annotations[j];annotation instanceof Optional||annotation==Optional?options|=1:annotation instanceof SkipSelf||annotation==SkipSelf?options&=-3:annotation instanceof Self||annotation==Self?options&=-5:token=annotation instanceof Inject?annotation.token:resolveForwardRef(annotation)}deps.push({token:token,options:options})}}else if(provider.useExisting){var token=resolveForwardRef(provider.useExisting);deps=[{token:token,options:6}]}else if(!(providerDeps||USE_VALUE in provider))throw staticError("'deps' required",provider);return deps}(provider),fn=IDENT,value=EMPTY,useNew=!1,provide=resolveForwardRef(provider.provide);if(USE_VALUE in provider)value=provider.useValue;else if(provider.useFactory)fn=provider.useFactory;else if(provider.useExisting);else if(provider.useClass)useNew=!0,fn=resolveForwardRef(provider.useClass);else{if("function"!=typeof provide)throw staticError("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",provider);useNew=!0,fn=provide}return{deps:deps,fn:fn,useNew:useNew,value:value}}(provider);if(!0===provider.multi){var multiProvider=records.get(token);if(multiProvider){if(multiProvider.fn!==MULTI_PROVIDER_FN)throw multiProviderMixError(token)}else records.set(token,multiProvider={token:provider.provide,deps:[],useNew:!1,fn:MULTI_PROVIDER_FN,value:EMPTY});token=provider,multiProvider.deps.push({token:token,options:6})}var record=records.get(token);if(record&&record.fn==MULTI_PROVIDER_FN)throw multiProviderMixError(token);records.set(token,resolvedProvider)}}(records,providers)}return StaticInjector.prototype.get=function(token,notFoundValue,flags){void 0===flags&&(flags=InjectFlags.Default);var record=this._records.get(token);try{return tryResolveToken(token,record,this._records,this.parent,notFoundValue,flags)}catch(e){return catchInjectorError(e,token,"StaticInjectorError",this.source)}},StaticInjector.prototype.toString=function(){var tokens=[];return this._records.forEach(function(v,token){return tokens.push(stringify(token))}),"StaticInjector["+tokens.join(", ")+"]"},StaticInjector}();function multiProviderMixError(token){return staticError("Cannot mix multi providers and regular providers",token)}function tryResolveToken(token,record,records,parent,notFoundValue,flags){try{return function(token,record,records,parent,notFoundValue,flags){var _a,value;if(!record||flags&InjectFlags.SkipSelf)flags&InjectFlags.Self||(value=parent.get(token,notFoundValue,InjectFlags.Default));else{if((value=record.value)==CIRCULAR$1)throw Error(NO_NEW_LINE$1+"Circular dependency");if(value===EMPTY){record.value=CIRCULAR$1;var obj=void 0,useNew=record.useNew,fn=record.fn,depRecords=record.deps,deps=EMPTY;if(depRecords.length){deps=[];for(var i=0;i<depRecords.length;i++){var depRecord=depRecords[i],options=depRecord.options,childRecord=2&options?records.get(depRecord.token):void 0;deps.push(tryResolveToken(depRecord.token,childRecord,records,childRecord||4&options?parent:Injector.NULL,1&options?null:Injector.THROW_IF_NOT_FOUND,InjectFlags.Default))}}record.value=value=useNew?new((_a=fn).bind.apply(_a,(0,_tslib.__spread)([void 0],deps))):fn.apply(obj,deps)}}return value}(token,record,records,parent,notFoundValue,flags)}catch(e){throw e instanceof Error||(e=new Error(e)),(e[NG_TEMP_TOKEN_PATH]=e[NG_TEMP_TOKEN_PATH]||[]).unshift(token),record&&record.value==CIRCULAR$1&&(record.value=EMPTY),e}}function staticError(text,obj){return new Error(formatError(text,obj,"StaticInjectorError"))}function constructResolvingPath(keys){return keys.length>1?" ("+function(keys){for(var res=[],i=0;i<keys.length;++i){if(res.indexOf(keys[i])>-1)return res.push(keys[i]),res;res.push(keys[i])}return res}(keys.slice().reverse()).map(function(k){return stringify(k.token)}).join(" -> ")+")":""}function injectionError(injector,key,constructResolvingMessage,originalError){var keys=[key],errMsg=constructResolvingMessage(keys),error=originalError?function(message,originalError){var msg=message+" caused by: "+(originalError instanceof Error?originalError.message:originalError),error=Error(msg);return error[ERROR_ORIGINAL_ERROR]=originalError,error}(errMsg,originalError):Error(errMsg);return error.addKey=addKey,error.keys=keys,error.injectors=[injector],error.constructResolvingMessage=constructResolvingMessage,error[ERROR_ORIGINAL_ERROR]=originalError,error}function addKey(injector,key){this.injectors.push(injector),this.keys.push(key),this.message=this.constructResolvingMessage(this.keys)}function noAnnotationError(typeOrFunc,params){for(var signature=[],i=0,ii=params.length;i<ii;i++){var parameter=params[i];parameter&&0!=parameter.length?signature.push(parameter.map(stringify).join(" ")):signature.push("?")}return Error("Cannot resolve all parameters for '"+stringify(typeOrFunc)+"'("+signature.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+stringify(typeOrFunc)+"' is decorated with Injectable.")}var ReflectiveKey=function(){function ReflectiveKey(token,id){if(this.token=token,this.id=id,!token)throw new Error("Token must be defined!");this.displayName=stringify(this.token)}return ReflectiveKey.get=function(token){return _globalKeyRegistry.get(resolveForwardRef(token))},Object.defineProperty(ReflectiveKey,"numberOfKeys",{get:function(){return _globalKeyRegistry.numberOfKeys},enumerable:!0,configurable:!0}),ReflectiveKey}();exports.ReflectiveKey=ReflectiveKey;var _globalKeyRegistry=new(function(){function KeyRegistry(){this._allKeys=new Map}return KeyRegistry.prototype.get=function(token){if(token instanceof ReflectiveKey)return token;if(this._allKeys.has(token))return this._allKeys.get(token);var newKey=new ReflectiveKey(token,ReflectiveKey.numberOfKeys);return this._allKeys.set(token,newKey),newKey},Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),KeyRegistry}()),reflector=new(function(){function Reflector(reflectionCapabilities){this.reflectionCapabilities=reflectionCapabilities}return Reflector.prototype.updateCapabilities=function(caps){this.reflectionCapabilities=caps},Reflector.prototype.factory=function(type){return this.reflectionCapabilities.factory(type)},Reflector.prototype.parameters=function(typeOrFunc){return this.reflectionCapabilities.parameters(typeOrFunc)},Reflector.prototype.annotations=function(typeOrFunc){return this.reflectionCapabilities.annotations(typeOrFunc)},Reflector.prototype.propMetadata=function(typeOrFunc){return this.reflectionCapabilities.propMetadata(typeOrFunc)},Reflector.prototype.hasLifecycleHook=function(type,lcProperty){return this.reflectionCapabilities.hasLifecycleHook(type,lcProperty)},Reflector.prototype.getter=function(name){return this.reflectionCapabilities.getter(name)},Reflector.prototype.setter=function(name){return this.reflectionCapabilities.setter(name)},Reflector.prototype.method=function(name){return this.reflectionCapabilities.method(name)},Reflector.prototype.importUri=function(type){return this.reflectionCapabilities.importUri(type)},Reflector.prototype.resourceUri=function(type){return this.reflectionCapabilities.resourceUri(type)},Reflector.prototype.resolveIdentifier=function(name,moduleUrl,members,runtime){return this.reflectionCapabilities.resolveIdentifier(name,moduleUrl,members,runtime)},Reflector.prototype.resolveEnum=function(identifier,name){return this.reflectionCapabilities.resolveEnum(identifier,name)},Reflector}())(new ReflectionCapabilities),ReflectiveDependency=function(){function ReflectiveDependency(key,optional,visibility){this.key=key,this.optional=optional,this.visibility=visibility}return ReflectiveDependency.fromKey=function(key){return new ReflectiveDependency(key,!1,null)},ReflectiveDependency}();exports.angular_packages_core_core_d=ReflectiveDependency;var _EMPTY_LIST=[],ResolvedReflectiveProvider_=function(){return function(key,resolvedFactories,multiProvider){this.key=key,this.resolvedFactories=resolvedFactories,this.multiProvider=multiProvider,this.resolvedFactory=this.resolvedFactories[0]}}(),ResolvedReflectiveFactory=function(){return function(factory,dependencies){this.factory=factory,this.dependencies=dependencies}}();function resolveReflectiveFactory(provider){var factoryFn,resolvedDeps;if(provider.useClass){var useClass=resolveForwardRef(provider.useClass);factoryFn=reflector.factory(useClass),resolvedDeps=_dependenciesFor(useClass)}else provider.useExisting?(factoryFn=function(aliasInstance){return aliasInstance},resolvedDeps=[ReflectiveDependency.fromKey(ReflectiveKey.get(provider.useExisting))]):provider.useFactory?(factoryFn=provider.useFactory,resolvedDeps=function(typeOrFunc,dependencies){if(dependencies){var params_1=dependencies.map(function(t){return[t]});return dependencies.map(function(t){return _extractToken(typeOrFunc,t,params_1)})}return _dependenciesFor(typeOrFunc)}(provider.useFactory,provider.deps)):(factoryFn=function(){return provider.useValue},resolvedDeps=_EMPTY_LIST);return new ResolvedReflectiveFactory(factoryFn,resolvedDeps)}function resolveReflectiveProvider(provider){return new ResolvedReflectiveProvider_(ReflectiveKey.get(provider.provide),[resolveReflectiveFactory(provider)],provider.multi||!1)}function resolveReflectiveProviders(providers){var resolvedProviderMap=function(providers,normalizedProvidersMap){for(var i=0;i<providers.length;i++){var provider=providers[i],existing=normalizedProvidersMap.get(provider.key.id);if(existing){if(provider.multiProvider!==existing.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+existing+" "+provider);if(provider.multiProvider)for(var j=0;j<provider.resolvedFactories.length;j++)existing.resolvedFactories.push(provider.resolvedFactories[j]);else normalizedProvidersMap.set(provider.key.id,provider)}else{var resolvedProvider=void 0;resolvedProvider=provider.multiProvider?new ResolvedReflectiveProvider_(provider.key,provider.resolvedFactories.slice(),provider.multiProvider):provider,normalizedProvidersMap.set(provider.key.id,resolvedProvider)}}return normalizedProvidersMap}(function _normalizeProviders(providers,res){providers.forEach(function(b){if(b instanceof Type)res.push({provide:b,useClass:b});else if(b&&"object"==typeof b&&void 0!==b.provide)res.push(b);else{if(!(b instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+b);_normalizeProviders(b,res)}});return res}(providers,[]).map(resolveReflectiveProvider),new Map);return Array.from(resolvedProviderMap.values())}function _dependenciesFor(typeOrFunc){var params=reflector.parameters(typeOrFunc);if(!params)return[];if(params.some(function(p){return null==p}))throw noAnnotationError(typeOrFunc,params);return params.map(function(p){return _extractToken(typeOrFunc,p,params)})}function _extractToken(typeOrFunc,metadata,params){var token=null,optional=!1;if(!Array.isArray(metadata))return _createDependency(metadata instanceof Inject?metadata.token:metadata,optional,null);for(var visibility=null,i=0;i<metadata.length;++i){var paramMetadata=metadata[i];paramMetadata instanceof Type?token=paramMetadata:paramMetadata instanceof Inject?token=paramMetadata.token:paramMetadata instanceof Optional?optional=!0:paramMetadata instanceof Self||paramMetadata instanceof SkipSelf?visibility=paramMetadata:paramMetadata instanceof InjectionToken&&(token=paramMetadata)}if(null!=(token=resolveForwardRef(token)))return _createDependency(token,optional,visibility);throw noAnnotationError(typeOrFunc,params)}function _createDependency(token,optional,visibility){return new ReflectiveDependency(ReflectiveKey.get(token),optional,visibility)}exports.ResolvedReflectiveFactory=ResolvedReflectiveFactory;var UNDEFINED=new Object,ReflectiveInjector=function(){function ReflectiveInjector(){}return ReflectiveInjector.resolve=function(providers){return resolveReflectiveProviders(providers)},ReflectiveInjector.resolveAndCreate=function(providers,parent){var ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return ReflectiveInjector.fromResolvedProviders(ResolvedReflectiveProviders,parent)},ReflectiveInjector.fromResolvedProviders=function(providers,parent){return new ReflectiveInjector_(providers,parent)},ReflectiveInjector}();exports.ReflectiveInjector=ReflectiveInjector;var ReflectiveInjector_=function(){function ReflectiveInjector_(_providers,_parent){this._constructionCounter=0,this._providers=_providers,this.parent=_parent||null;var len=_providers.length;this.keyIds=new Array(len),this.objs=new Array(len);for(var i=0;i<len;i++)this.keyIds[i]=_providers[i].key.id,this.objs[i]=UNDEFINED}return ReflectiveInjector_.prototype.get=function(token,notFoundValue){return void 0===notFoundValue&&(notFoundValue=THROW_IF_NOT_FOUND),this._getByKey(ReflectiveKey.get(token),null,notFoundValue)},ReflectiveInjector_.prototype.resolveAndCreateChild=function(providers){var ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return this.createChildFromResolved(ResolvedReflectiveProviders)},ReflectiveInjector_.prototype.createChildFromResolved=function(providers){var inj=new ReflectiveInjector_(providers);return inj.parent=this,inj},ReflectiveInjector_.prototype.resolveAndInstantiate=function(provider){return this.instantiateResolved(ReflectiveInjector.resolve([provider])[0])},ReflectiveInjector_.prototype.instantiateResolved=function(provider){return this._instantiateProvider(provider)},ReflectiveInjector_.prototype.getProviderAtIndex=function(index){if(index<0||index>=this._providers.length)throw function(index){return Error("Index "+index+" is out-of-bounds.")}(index);return this._providers[index]},ReflectiveInjector_.prototype._new=function(provider){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw injector=this,key=provider.key,injectionError(injector,key,function(keys){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(keys)});var injector,key;return this._instantiateProvider(provider)},ReflectiveInjector_.prototype._getMaxNumberOfObjects=function(){return this.objs.length},ReflectiveInjector_.prototype._instantiateProvider=function(provider){if(provider.multiProvider){for(var res=new Array(provider.resolvedFactories.length),i=0;i<provider.resolvedFactories.length;++i)res[i]=this._instantiate(provider,provider.resolvedFactories[i]);return res}return this._instantiate(provider,provider.resolvedFactories[0])},ReflectiveInjector_.prototype._instantiate=function(provider,ResolvedReflectiveFactory){var deps,obj,injector,originalException,key,_this=this,factory=ResolvedReflectiveFactory.factory;try{deps=ResolvedReflectiveFactory.dependencies.map(function(dep){return _this._getByReflectiveDependency(dep)})}catch(e){throw e.addKey&&e.addKey(this,provider.key),e}try{obj=factory.apply(void 0,(0,_tslib.__spread)(deps))}catch(e){throw injector=this,originalException=e,e.stack,key=provider.key,injectionError(injector,key,function(keys){var first=stringify(keys[0].token);return originalException.message+": Error during instantiation of "+first+"!"+constructResolvingPath(keys)+"."},originalException)}return obj},ReflectiveInjector_.prototype._getByReflectiveDependency=function(dep){return this._getByKey(dep.key,dep.visibility,dep.optional?null:THROW_IF_NOT_FOUND)},ReflectiveInjector_.prototype._getByKey=function(key,visibility,notFoundValue){return key===ReflectiveInjector_.INJECTOR_KEY?this:visibility instanceof Self?this._getByKeySelf(key,notFoundValue):this._getByKeyDefault(key,notFoundValue,visibility)},ReflectiveInjector_.prototype._getObjByKeyId=function(keyId){for(var i=0;i<this.keyIds.length;i++)if(this.keyIds[i]===keyId)return this.objs[i]===UNDEFINED&&(this.objs[i]=this._new(this._providers[i])),this.objs[i];return UNDEFINED},ReflectiveInjector_.prototype._throwOrNull=function(key,notFoundValue){if(notFoundValue!==THROW_IF_NOT_FOUND)return notFoundValue;throw function(injector,key){return injectionError(injector,key,function(keys){return"No provider for "+stringify(keys[0].token)+"!"+constructResolvingPath(keys)})}(this,key)},ReflectiveInjector_.prototype._getByKeySelf=function(key,notFoundValue){var obj=this._getObjByKeyId(key.id);return obj!==UNDEFINED?obj:this._throwOrNull(key,notFoundValue)},ReflectiveInjector_.prototype._getByKeyDefault=function(key,notFoundValue,visibility){var inj;for(inj=visibility instanceof SkipSelf?this.parent:this;inj instanceof ReflectiveInjector_;){var inj_=inj,obj=inj_._getObjByKeyId(key.id);if(obj!==UNDEFINED)return obj;inj=inj_.parent}return null!==inj?inj.get(key.token,notFoundValue):this._throwOrNull(key,notFoundValue)},Object.defineProperty(ReflectiveInjector_.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(injector,fn){for(var res=new Array(injector._providers.length),i=0;i<injector._providers.length;++i)res[i]=fn(injector.getProviderAtIndex(i));return res}(this,function(b){return' "'+b.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),ReflectiveInjector_.prototype.toString=function(){return this.displayName},ReflectiveInjector_.INJECTOR_KEY=ReflectiveKey.get(Injector),ReflectiveInjector_}();exports.angular_packages_core_core_c=ReflectiveInjector_;var ANALYZE_FOR_ENTRY_COMPONENTS=new InjectionToken("AnalyzeForEntryComponents");exports.ANALYZE_FOR_ENTRY_COMPONENTS=ANALYZE_FOR_ENTRY_COMPONENTS;var Query=function(){return function(){}}();exports.Query=Query;var ContentChildren=makePropDecorator("ContentChildren",function(selector,data){return void 0===data&&(data={}),(0,_tslib.__assign)({selector:selector,first:!1,isViewQuery:!1,descendants:!1},data)},Query);exports.ContentChildren=ContentChildren;var ContentChild=makePropDecorator("ContentChild",function(selector,data){return void 0===data&&(data={}),(0,_tslib.__assign)({selector:selector,first:!0,isViewQuery:!1,descendants:!0},data)},Query);exports.ContentChild=ContentChild;var ViewChildren=makePropDecorator("ViewChildren",function(selector,data){return void 0===data&&(data={}),(0,_tslib.__assign)({selector:selector,first:!1,isViewQuery:!0,descendants:!0},data)},Query);exports.ViewChildren=ViewChildren;var ViewChild=makePropDecorator("ViewChild",function(selector,data){return(0,_tslib.__assign)({selector:selector,first:!0,isViewQuery:!0,descendants:!0},data)},Query);function resolveComponentResources(resourceResolver){var componentResolved=[],urlMap=new Map;function cachedResourceResolve(url){var promise=urlMap.get(url);if(!promise){var resp=resourceResolver(url);urlMap.set(url,promise=resp.then(unwrapResponse))}return promise}return componentResourceResolutionQueue.forEach(function(component,type){var promises=[];component.templateUrl&&promises.push(cachedResourceResolve(component.templateUrl).then(function(template){component.template=template}));var styleUrls=component.styleUrls,styles=component.styles||(component.styles=[]),styleOffset=component.styles.length;styleUrls&&styleUrls.forEach(function(styleUrl,index){styles.push(""),promises.push(cachedResourceResolve(styleUrl).then(function(style){styles[styleOffset+index]=style,styleUrls.splice(styleUrls.indexOf(styleUrl),1),0==styleUrls.length&&(component.styleUrls=void 0)}))});var fullyResolved=Promise.all(promises).then(function(){return function(type){componentDefPendingResolution.delete(type)}(type)});componentResolved.push(fullyResolved)}),clearResolutionOfComponentResourcesQueue(),Promise.all(componentResolved).then(function(){})}exports.ViewChild=ViewChild;var componentResourceResolutionQueue=new Map,componentDefPendingResolution=new Set;function componentNeedsResolution(component){return!!(component.templateUrl&&!component.hasOwnProperty("template")||component.styleUrls&&component.styleUrls.length)}function clearResolutionOfComponentResourcesQueue(){var old=componentResourceResolutionQueue;return componentResourceResolutionQueue=new Map,old}function unwrapResponse(response){return"string"==typeof response?response:response.text()}function allocHostVars(count){var lView=getLView(),tView=lView[TVIEW];tView.firstTemplatePass&&(function(tView,def,hostVars){ngDevMode&&assertEqual(tView.firstTemplatePass,!0,"Should only be called in first template pass.");var expando=tView.expandoInstructions,length=expando.length;length>=2&&expando[length-2]===def.hostBindings?expando[length-1]=expando[length-1]+hostVars:expando.push(def.hostBindings,hostVars)}(tView,currentDirectiveDef,count),function(tView,lView,totalHostVars){ngDevMode&&assertEqual(tView.firstTemplatePass,!0,"Should only be called in first template pass.");for(var i=0;i<totalHostVars;i++)lView.push(NO_CHANGE),tView.blueprint.push(NO_CHANGE),tView.data.push(null)}(tView,lView,count))}var _symbolIterator=null;function getSymbolIterator(){if(!_symbolIterator){var Symbol_1=_global.Symbol;if(Symbol_1&&Symbol_1.iterator)_symbolIterator=Symbol_1.iterator;else for(var keys=Object.getOwnPropertyNames(Map.prototype),i=0;i<keys.length;++i){var key=keys[i];"entries"!==key&&"size"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}}return _symbolIterator}function looseIdentical(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}function devModeEqual$1(a,b){var isListLikeIterableA=isListLikeIterable$1(a),isListLikeIterableB=isListLikeIterable$1(b);return isListLikeIterableA&&isListLikeIterableB?function(a,b,comparator){var iterator1=a[getSymbolIterator()](),iterator2=b[getSymbolIterator()]();for(;;){var item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}(a,b,devModeEqual$1):!(isListLikeIterableA||!(a&&("object"==typeof a||"function"==typeof a))||isListLikeIterableB||!(b&&("object"==typeof b||"function"==typeof b)))||looseIdentical(a,b)}var WrappedValue=function(){function WrappedValue(value){this.wrapped=value}return WrappedValue.wrap=function(value){return new WrappedValue(value)},WrappedValue.unwrap=function(value){return WrappedValue.isWrapped(value)?value.wrapped:value},WrappedValue.isWrapped=function(value){return value instanceof WrappedValue},WrappedValue}();function isListLikeIterable$1(obj){return!!isJsObject$1(obj)&&(Array.isArray(obj)||!(obj instanceof Map)&&getSymbolIterator()in obj)}function isJsObject$1(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function updateBinding(lView,bindingIndex,value){return lView[bindingIndex]=value}function getBinding(lView,bindingIndex){return ngDevMode&&assertDataInRange(lView,bindingIndex),ngDevMode&&assertNotSame(lView[bindingIndex],NO_CHANGE,"Stored value should never be NO_CHANGE."),lView[bindingIndex]}function bindingUpdated(lView,bindingIndex,value){ngDevMode&&assertNotSame(value,NO_CHANGE,"Incoming value should never be NO_CHANGE."),ngDevMode&&assertLessThan(bindingIndex,lView.length,"Slot should have been initialized to NO_CHANGE");var oldValue=lView[bindingIndex];if(isDifferent(oldValue,value)){if(ngDevMode&&getCheckNoChangesMode()){var oldValueToCompare=oldValue!==NO_CHANGE?oldValue:void 0;devModeEqual$1(oldValueToCompare,value)||function(creationMode,oldValue,currValue){var msg="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+oldValue+"'. Current value: '"+currValue+"'.";throw creationMode&&(msg+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),new Error(msg)}(oldValue===NO_CHANGE,oldValueToCompare,value)}return lView[bindingIndex]=value,!0}return!1}function bindingUpdated2(lView,bindingIndex,exp1,exp2){var different=bindingUpdated(lView,bindingIndex,exp1);return bindingUpdated(lView,bindingIndex+1,exp2)||different}function bindingUpdated3(lView,bindingIndex,exp1,exp2,exp3){var different=bindingUpdated2(lView,bindingIndex,exp1,exp2);return bindingUpdated(lView,bindingIndex+2,exp3)||different}function bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4){var different=bindingUpdated2(lView,bindingIndex,exp1,exp2);return bindingUpdated2(lView,bindingIndex+2,exp3,exp4)||different}function property(propName,value,sanitizer){var index=getSelectedIndex();ngDevMode&&assertNotEqual(index,-1,"selected index cannot be -1");var bindReconciledValue=bind(getLView(),value);return bindReconciledValue!==NO_CHANGE&&elementPropertyInternal(index,propName,bindReconciledValue,sanitizer),property}function bind(lView,value){var bindingIndex=lView[BINDING_INDEX]++;return storeBindingMetadata(lView),bindingUpdated(lView,bindingIndex,value)?value:NO_CHANGE}function attribute(name,value,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),bound=bind(lView,value);return bound!==NO_CHANGE&&elementAttributeInternal(index,name,bound,lView,sanitizer,namespace),attribute}function interpolationV(lView,values){ngDevMode&&assertLessThan(2,values.length,"should have at least 3 values"),ngDevMode&&assertEqual(values.length%2,1,"should have an odd number of values");var isBindingUpdated=!1,tData=lView[TVIEW].data,bindingIndex=lView[BINDING_INDEX];if(null==tData[bindingIndex]){for(var i=2;i<values.length;i+=2)tData[bindingIndex++]=values[i];bindingIndex=lView[BINDING_INDEX]}for(i=1;i<values.length;i+=2)isBindingUpdated=bindingUpdated(lView,bindingIndex++,values[i])||isBindingUpdated;if(lView[BINDING_INDEX]=bindingIndex,storeBindingMetadata(lView,values[0],values[values.length-1]),!isBindingUpdated)return NO_CHANGE;var content=values[0];for(i=1;i<values.length;i+=2)content+=renderStringify(values[i])+values[i+1];return content}function interpolation1(lView,prefix,v0,suffix){var different=bindingUpdated(lView,lView[BINDING_INDEX]++,v0);return storeBindingMetadata(lView,prefix,suffix),different?prefix+renderStringify(v0)+suffix:NO_CHANGE}function interpolation2(lView,prefix,v0,i0,v1,suffix){var bindingIndex=lView[BINDING_INDEX],different=bindingUpdated2(lView,bindingIndex,v0,v1);return lView[BINDING_INDEX]+=2,storeBindingMetadata(lView,prefix,suffix)&&(lView[TVIEW].data[bindingIndex]=i0),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+suffix:NO_CHANGE}function interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix){var bindingIndex=lView[BINDING_INDEX],different=bindingUpdated3(lView,bindingIndex,v0,v1,v2);if(lView[BINDING_INDEX]+=3,storeBindingMetadata(lView,prefix,suffix)){var tData=lView[TVIEW].data;tData[bindingIndex]=i0,tData[bindingIndex+1]=i1}return different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+suffix:NO_CHANGE}function interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix){var bindingIndex=lView[BINDING_INDEX],different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);if(lView[BINDING_INDEX]+=4,storeBindingMetadata(lView,prefix,suffix)){var tData=lView[TVIEW].data;tData[bindingIndex]=i0,tData[bindingIndex+1]=i1,tData[bindingIndex+2]=i2}return different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+suffix:NO_CHANGE}function interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){var bindingIndex=lView[BINDING_INDEX],different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);if(different=bindingUpdated(lView,bindingIndex+4,v4)||different,lView[BINDING_INDEX]+=5,storeBindingMetadata(lView,prefix,suffix)){var tData=lView[TVIEW].data;tData[bindingIndex]=i0,tData[bindingIndex+1]=i1,tData[bindingIndex+2]=i2,tData[bindingIndex+3]=i3}return different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+suffix:NO_CHANGE}function interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){var bindingIndex=lView[BINDING_INDEX],different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);if(different=bindingUpdated2(lView,bindingIndex+4,v4,v5)||different,lView[BINDING_INDEX]+=6,storeBindingMetadata(lView,prefix,suffix)){var tData=lView[TVIEW].data;tData[bindingIndex]=i0,tData[bindingIndex+1]=i1,tData[bindingIndex+2]=i2,tData[bindingIndex+3]=i3,tData[bindingIndex+4]=i4}return different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+i4+renderStringify(v5)+suffix:NO_CHANGE}function interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){var bindingIndex=lView[BINDING_INDEX],different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);if(different=bindingUpdated3(lView,bindingIndex+4,v4,v5,v6)||different,lView[BINDING_INDEX]+=7,storeBindingMetadata(lView,prefix,suffix)){var tData=lView[TVIEW].data;tData[bindingIndex]=i0,tData[bindingIndex+1]=i1,tData[bindingIndex+2]=i2,tData[bindingIndex+3]=i3,tData[bindingIndex+4]=i4,tData[bindingIndex+5]=i5}return different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+i4+renderStringify(v5)+i5+renderStringify(v6)+suffix:NO_CHANGE}function interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){var bindingIndex=lView[BINDING_INDEX],different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);if(different=bindingUpdated4(lView,bindingIndex+4,v4,v5,v6,v7)||different,lView[BINDING_INDEX]+=8,storeBindingMetadata(lView,prefix,suffix)){var tData=lView[TVIEW].data;tData[bindingIndex]=i0,tData[bindingIndex+1]=i1,tData[bindingIndex+2]=i2,tData[bindingIndex+3]=i3,tData[bindingIndex+4]=i4,tData[bindingIndex+5]=i5,tData[bindingIndex+6]=i6}return different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+i4+renderStringify(v5)+i5+renderStringify(v6)+i6+renderStringify(v7)+suffix:NO_CHANGE}function attributeInterpolate1(attrName,prefix,v0,suffix,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),interpolatedValue=interpolation1(lView,prefix,v0,suffix);return interpolatedValue!==NO_CHANGE&&elementAttributeInternal(index,attrName,interpolatedValue,lView,sanitizer,namespace),attributeInterpolate1}function attributeInterpolate2(attrName,prefix,v0,i0,v1,suffix,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),interpolatedValue=interpolation2(lView,prefix,v0,i0,v1,suffix);return interpolatedValue!==NO_CHANGE&&elementAttributeInternal(index,attrName,interpolatedValue,lView,sanitizer,namespace),attributeInterpolate2}function attributeInterpolate3(attrName,prefix,v0,i0,v1,i1,v2,suffix,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),interpolatedValue=interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix);return interpolatedValue!==NO_CHANGE&&elementAttributeInternal(index,attrName,interpolatedValue,lView,sanitizer,namespace),attributeInterpolate3}function attributeInterpolate4(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,suffix,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),interpolatedValue=interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix);return interpolatedValue!==NO_CHANGE&&elementAttributeInternal(index,attrName,interpolatedValue,lView,sanitizer,namespace),attributeInterpolate4}function attributeInterpolate5(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),interpolatedValue=interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);return interpolatedValue!==NO_CHANGE&&elementAttributeInternal(index,attrName,interpolatedValue,lView,sanitizer,namespace),attributeInterpolate5}function attributeInterpolate6(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),interpolatedValue=interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);return interpolatedValue!==NO_CHANGE&&elementAttributeInternal(index,attrName,interpolatedValue,lView,sanitizer,namespace),attributeInterpolate6}function attributeInterpolate7(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),interpolatedValue=interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);return interpolatedValue!==NO_CHANGE&&elementAttributeInternal(index,attrName,interpolatedValue,lView,sanitizer,namespace),attributeInterpolate7}function attributeInterpolate8(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),interpolatedValue=interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);return interpolatedValue!==NO_CHANGE&&elementAttributeInternal(index,attrName,interpolatedValue,lView,sanitizer,namespace),attributeInterpolate8}function attributeInterpolateV(attrName,values,sanitizer,namespace){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolationV(lView,values);return interpolated!==NO_CHANGE&&elementAttributeInternal(index,attrName,interpolated,lView,sanitizer,namespace),attributeInterpolateV}function markDirty(component){ngDevMode&&assertDefined(component,"component");var rootContext,flags,res_1,nothingScheduled,rootView=markViewDirty(getComponentViewByInstance(component));ngDevMode&&assertDefined(rootView[CONTEXT],"rootContext should be defined"),rootContext=rootView[CONTEXT],flags=1,nothingScheduled=0===rootContext.flags,rootContext.flags|=flags,nothingScheduled&&rootContext.clean==_CLEAN_PROMISE&&(rootContext.clean=new Promise(function(r){return res_1=r}),rootContext.scheduler(function(){if(1&rootContext.flags&&(rootContext.flags&=-2,tickRootContext(rootContext)),2&rootContext.flags){rootContext.flags&=-3;var playerHandler=rootContext.playerHandler;playerHandler&&playerHandler.flushPlayers()}rootContext.clean=_CLEAN_PROMISE,res_1(null)}))}function container(index){var lView=getLView(),tNode=containerInternal(lView,index,null,null);lView[TVIEW].firstTemplatePass&&(tNode.tViews=[]),setIsNotParent()}function template(index,templateFn,consts,vars,tagName,attrs,localRefs,localRefExtractor){var lView=getLView(),tView=lView[TVIEW],tContainerNode=containerInternal(lView,index,tagName||null,attrs||null);if(tView.firstTemplatePass){ngDevMode&&ngDevMode.firstTemplatePass++,resolveDirectives(tView,lView,tContainerNode,localRefs||null);var embeddedTView=tContainerNode.tViews=createTView(-1,templateFn,consts,vars,tView.directiveRegistry,tView.pipeRegistry,null,null);null!==tView.queries&&(tView.queries.template(tView,tContainerNode),embeddedTView.queries=tView.queries.embeddedTView(tContainerNode))}createDirectivesAndLocals(tView,lView,tContainerNode,localRefExtractor),attachPatchData(getNativeByTNode(tContainerNode,lView),lView),registerPostOrderHooks(tView,tContainerNode),setIsNotParent()}function containerRefreshStart(index){var lView=getLView(),tView=lView[TVIEW],previousOrParentTNode=loadInternal(tView.data,index);ngDevMode&&assertNodeType(previousOrParentTNode,0),setPreviousOrParentTNode(previousOrParentTNode,!0),lView[index+HEADER_OFFSET][ACTIVE_INDEX]=0,executePreOrderHooks(lView,tView,getCheckNoChangesMode(),void 0)}function containerRefreshEnd(){var previousOrParentTNode=getPreviousOrParentTNode();getIsParent()?setIsNotParent():(ngDevMode&&assertNodeType(previousOrParentTNode,2),ngDevMode&&assertHasParent(previousOrParentTNode),setPreviousOrParentTNode(previousOrParentTNode=previousOrParentTNode.parent,!1)),ngDevMode&&assertNodeType(previousOrParentTNode,0);for(var lContainer=getLView()[previousOrParentTNode.index],nextIndex=lContainer[ACTIVE_INDEX];nextIndex<lContainer.length-CONTAINER_HEADER_OFFSET;)removeView(lContainer,nextIndex)}function containerInternal(lView,nodeIndex,tagName,attrs){ngDevMode&&assertEqual(lView[BINDING_INDEX],lView[TVIEW].bindingStartIndex,"container nodes should be created before any bindings");var adjustedIndex=nodeIndex+HEADER_OFFSET;ngDevMode&&assertDataInRange(lView,nodeIndex+HEADER_OFFSET),ngDevMode&&ngDevMode.rendererCreateComment++;var comment=lView[adjustedIndex]=lView[RENDERER].createComment(ngDevMode?"container":""),tNode=getOrCreateTNode(lView[TVIEW],lView[T_HOST],nodeIndex,0,tagName,attrs),lContainer=lView[adjustedIndex]=createLContainer(comment,lView,comment,tNode);return appendChild(comment,tNode,lView),addToViewTree(lView,lContainer),ngDevMode&&assertNodeType(getPreviousOrParentTNode(),0),tNode}function store(index,value){var lView=getLView(),tView=lView[TVIEW],adjustedIndex=index+HEADER_OFFSET;adjustedIndex>=tView.data.length&&(tView.data[adjustedIndex]=null,tView.blueprint[adjustedIndex]=null),lView[adjustedIndex]=value}function reference(index){return loadInternal(getContextLView(),index)}function load(index){return loadInternal(getLView(),index)}function directiveInject(token,flags){void 0===flags&&(flags=InjectFlags.Default),token=resolveForwardRef(token);var lView=getLView();return null==lView?inject(token,flags):getOrCreateInjectable(getPreviousOrParentTNode(),lView,token,flags)}function injectAttribute(attrNameToInject){return injectAttributeImpl(getPreviousOrParentTNode(),attrNameToInject)}function styling(){var tNode,directiveIndex;getLView()[TVIEW].firstTemplatePass&&(tNode=getPreviousOrParentTNode(),directiveIndex=getActiveDirectiveStylingIndex(),updateLastDirectiveIndex(getClassesContext(tNode),directiveIndex),updateLastDirectiveIndex(getStylesContext(tNode),directiveIndex))}function styleSanitizer(sanitizer){setCurrentStyleSanitizer(sanitizer)}function styleProp(prop,value,suffix){stylePropInternal(getSelectedIndex(),prop,value,suffix)}function stylePropInternal(elementIndex,prop,value,suffix){var updated=_stylingProp(elementIndex,getLView()[BINDING_INDEX]++,prop,function(value,suffix){if(value===NO_CHANGE)return value;var resolvedValue=null;null!==value&&(resolvedValue=suffix?renderStringify(value)+suffix:value);return resolvedValue}(value,suffix),!1,deferStylingUpdate());ngDevMode&&(ngDevMode.styleProp++,updated&&ngDevMode.stylePropCacheMiss++)}function classProp(className,value){var bindingIndex=getLView()[BINDING_INDEX]++,updated=_stylingProp(getSelectedIndex(),bindingIndex,className,value,!0,deferStylingUpdate());ngDevMode&&(ngDevMode.classProp++,updated&&ngDevMode.classPropCacheMiss++)}function _stylingProp(elementIndex,bindingIndex,prop,value,isClassBased,defer){var lView=getLView(),tNode=getTNode(elementIndex,lView),native=getNativeByTNode(tNode,lView),updated=!1;if(value!==NO_CHANGE)if(isClassBased)updated=updateClassBinding(getClassesContext(tNode),lView,native,prop,bindingIndex,value,defer,!1);else{var sanitizer=getCurrentStyleSanitizer();updated=updateStyleBinding(getStylesContext(tNode),lView,native,prop,bindingIndex,value,sanitizer,defer,!1)}return updated}function styleMap(styles){var index=getSelectedIndex(),lView=getLView(),tNode=getTNode(index,lView),context=getStylesContext(tNode),directiveIndex=getActiveDirectiveStylingIndex(),bindingIndex=lView[BINDING_INDEX]++;!directiveIndex&&hasStyleInput(tNode)&&styles!==NO_CHANGE&&(updateDirectiveInputValue(context,lView,tNode,bindingIndex,styles,!1),styles=NO_CHANGE);var updated=_stylingMap(index,context,bindingIndex,styles,!1,deferStylingUpdate());ngDevMode&&(ngDevMode.styleMap++,updated&&ngDevMode.styleMapCacheMiss++)}function classMap(classes){classMapInternal(getSelectedIndex(),classes)}function classMapInternal(elementIndex,classes){var lView=getLView(),tNode=getTNode(elementIndex,lView),context=getClassesContext(tNode),directiveIndex=getActiveDirectiveStylingIndex(),bindingIndex=lView[BINDING_INDEX]++;!directiveIndex&&hasClassInput(tNode)&&classes!==NO_CHANGE&&(updateDirectiveInputValue(context,lView,tNode,bindingIndex,classes,!0),classes=NO_CHANGE);var updated=_stylingMap(elementIndex,context,bindingIndex,classes,!0,deferStylingUpdate());ngDevMode&&(ngDevMode.classMap++,updated&&ngDevMode.classMapCacheMiss++)}function _stylingMap(elementIndex,context,bindingIndex,value,isClassBased,defer){activateStylingMapFeature();var lView=getLView(),valueHasChanged=!1;if(value!==NO_CHANGE){var native=getNativeByTNode(getTNode(elementIndex,lView),lView),oldValue=lView[bindingIndex];valueHasChanged=hasValueChanged(oldValue,value);var stylingMapArr=function(bindingValue,newValues,normalizeProps){var stylingMapArr=Array.isArray(bindingValue)?bindingValue:[null];stylingMapArr[0]=newValues||null;for(var j=1;j<stylingMapArr.length;j+=2)setMapValue(stylingMapArr,j,null);var map,props=null,allValuesTrue=!1;if("string"==typeof newValues?newValues.length&&(props=newValues.split(/\s+/),allValuesTrue=!0):(props=newValues?Object.keys(newValues):null,map=newValues),props)for(var i=0;i<props.length;i++){var prop=props[i];addItemToStylingMap(stylingMapArr,normalizeProps?hyphenate(prop):prop,!!allValuesTrue||map[prop],!0)}return stylingMapArr}(oldValue,value,!isClassBased);if(isClassBased)updateClassBinding(context,lView,native,null,bindingIndex,stylingMapArr,defer,valueHasChanged);else updateStyleBinding(context,lView,native,null,bindingIndex,stylingMapArr,getCurrentStyleSanitizer(),defer,valueHasChanged)}return valueHasChanged}function updateDirectiveInputValue(context,lView,tNode,bindingIndex,newValue,isClassBased){if(lView[bindingIndex]!==newValue){if(newValue||isContextLocked(context))setInputsForProperty(lView,tNode.inputs[isClassBased?"class":"style"],function(initialValue,bindingValue,isClassBased){var value=bindingValue;initialValue.length>0&&(value=isClassBased?concatString(initialValue,((classes=bindingValue)&&"string"!=typeof classes&&(classes=Object.keys(classes).join(" ")),classes||"")):concatString(initialValue,function(styles){var str="";if(styles)for(var props=Object.keys(styles),i=0;i<props.length;i++){var prop=props[i];str=concatString(str,prop+":"+styles[prop],";")}return str}(bindingValue),";"));var classes;return value}(getInitialStylingValue(context),newValue,isClassBased));lView[bindingIndex]=newValue}}function stylingApply(){var elementIndex=getSelectedIndex(),lView=getLView(),tNode=getTNode(elementIndex,lView),renderer=function(tNode,lView){return 3===tNode.type?lView[RENDERER]:null}(tNode,lView),native=getNativeByTNode(tNode,lView),directiveIndex=getActiveDirectiveStylingIndex(),sanitizer=getCurrentStyleSanitizer();flushStyling(renderer,lView,getClassesContext(tNode),getStylesContext(tNode),native,directiveIndex,sanitizer),setCurrentStyleSanitizer(null)}function registerInitialStylingOnTNode(tNode,attrs,startIndex){for(var hasAdditionalInitialStyling=!1,styles=getStylingMapArray(tNode.styles),classes=getStylingMapArray(tNode.classes),mode=-1,i=startIndex;i<attrs.length;i++){var attr=attrs[i];if("number"==typeof attr)mode=attr;else if(1==mode)addItemToStylingMap(classes=classes||[""],attr,!0),hasAdditionalInitialStyling=!0;else if(2==mode){var value=attrs[++i];addItemToStylingMap(styles=styles||[""],attr,value),hasAdditionalInitialStyling=!0}}return classes&&classes.length>1&&(tNode.classes||(tNode.classes=classes),updateRawValueOnContext(tNode.classes,stylingMapToString(classes,!0))),styles&&styles.length>1&&(tNode.styles||(tNode.styles=styles),updateRawValueOnContext(tNode.styles,stylingMapToString(styles,!1))),hasAdditionalInitialStyling}function updateRawValueOnContext(context,value){getStylingMapArray(context)[0]=value}function getActiveDirectiveStylingIndex(){return activeDirectiveId+activeDirectiveSuperClassDepthPosition}function getStylesContext(tNode){return getContext(tNode,!1)}function getClassesContext(tNode){return getContext(tNode,!0)}function getContext(tNode,isClassBased){var context=isClassBased?tNode.classes:tNode.styles;return isStylingContext(context)||(context=[context||[""],0,TEMPLATE_DIRECTIVE_INDEX,1,0,MAP_BASED_ENTRY_PROP_NAME],ngDevMode&&function(context){var debug=new TStylingContextDebug(context);attachDebugObject(context,debug)}(context),isClassBased?tNode.classes=context:tNode.styles=context),context}function deferStylingUpdate(){return activeDirectiveSuperClassHeight>0}function elementStart(index,name,attrs,localRefs){var lView=getLView(),tView=lView[TVIEW];ngDevMode&&assertEqual(lView[BINDING_INDEX],tView.bindingStartIndex,"elements should be created before any bindings "),ngDevMode&&ngDevMode.rendererCreateElement++,ngDevMode&&assertDataInRange(lView,index+HEADER_OFFSET);var native=lView[index+HEADER_OFFSET]=elementCreate(name),renderer=lView[RENDERER],tNode=getOrCreateTNode(tView,lView[T_HOST],index,3,name,attrs||null);if(null!=attrs){var lastAttrIndex=setUpAttributes(native,attrs);tView.firstTemplatePass&&registerInitialStylingOnTNode(tNode,attrs,lastAttrIndex)}if(renderInitialStyling(renderer,native,tNode),appendChild(native,tNode,lView),0===elementDepthCount&&attachPatchData(native,lView),elementDepthCount++,tView.firstTemplatePass){ngDevMode&&ngDevMode.firstTemplatePass++,resolveDirectives(tView,lView,tNode,localRefs||null);var inputData=initializeTNodeInputs(tNode);inputData&&inputData.hasOwnProperty("class")&&(tNode.flags|=8),inputData&&inputData.hasOwnProperty("style")&&(tNode.flags|=16),null!==tView.queries&&tView.queries.elementStart(tView,tNode)}createDirectivesAndLocals(tView,lView,tNode),executeContentQueries(tView,tNode,lView)}function elementEnd(){var previousOrParentTNode=getPreviousOrParentTNode();ngDevMode&&assertDefined(previousOrParentTNode,"No parent node to close."),getIsParent()?setIsNotParent():(ngDevMode&&assertHasParent(getPreviousOrParentTNode()),setPreviousOrParentTNode(previousOrParentTNode=previousOrParentTNode.parent,!1));var tNode=previousOrParentTNode;ngDevMode&&assertNodeType(tNode,3);var lView=getLView(),tView=lView[TVIEW];registerPostOrderHooks(tView,previousOrParentTNode),elementDepthCount--,tView.firstTemplatePass&&null!==tView.queries&&isContentQueryHost(previousOrParentTNode)&&tView.queries.elementEnd(previousOrParentTNode),hasClassInput(tNode)&&tNode.classes&&setDirectiveStylingInput(tNode.classes,lView,tNode.inputs.class),hasStyleInput(tNode)&&tNode.styles&&setDirectiveStylingInput(tNode.styles,lView,tNode.inputs.style)}function element(index,name,attrs,localRefs){elementStart(index,name,attrs,localRefs),elementEnd()}function elementHostAttrs(attrs){var hostElementIndex=getSelectedIndex(),lView=getLView(),tView=lView[TVIEW],tNode=getTNode(hostElementIndex,lView);if(3===tNode.type){var native=getNativeByTNode(tNode,lView),lastAttrIndex=setUpAttributes(native,attrs);if(tView.firstTemplatePass)if(registerInitialStylingOnTNode(tNode,attrs,lastAttrIndex))renderInitialStyling(lView[RENDERER],native,tNode)}}function setDirectiveStylingInput(context,lView,stylingInputs){setInputsForProperty(lView,stylingInputs,getInitialStylingValue(context)||null)}function elementContainerStart(index,attrs,localRefs){var lView=getLView(),tView=lView[TVIEW],renderer=lView[RENDERER];ngDevMode&&assertEqual(lView[BINDING_INDEX],tView.bindingStartIndex,"element containers should be created before any bindings"),ngDevMode&&ngDevMode.rendererCreateComment++,ngDevMode&&assertDataInRange(lView,index+HEADER_OFFSET);var native=lView[index+HEADER_OFFSET]=renderer.createComment(ngDevMode?"ng-container":"");ngDevMode&&assertDataInRange(lView,index-1);var tNode=getOrCreateTNode(tView,lView[T_HOST],index,4,"ng-container",attrs||null);attrs&&tView.firstTemplatePass&&registerInitialStylingOnTNode(tNode,attrs,0),appendChild(native,tNode,lView),tView.firstTemplatePass&&(ngDevMode&&ngDevMode.firstTemplatePass++,resolveDirectives(tView,lView,tNode,localRefs||null),tView.queries&&tView.queries.elementStart(tView,tNode)),createDirectivesAndLocals(tView,lView,tNode),attachPatchData(native,lView),executeContentQueries(tView,tNode,lView)}function elementContainerEnd(){var previousOrParentTNode=getPreviousOrParentTNode(),tView=getLView()[TVIEW];getIsParent()?setIsNotParent():(ngDevMode&&assertHasParent(previousOrParentTNode),setPreviousOrParentTNode(previousOrParentTNode=previousOrParentTNode.parent,!1)),ngDevMode&&assertNodeType(previousOrParentTNode,4),registerPostOrderHooks(tView,previousOrParentTNode),tView.firstTemplatePass&&null!==tView.queries&&isContentQueryHost(previousOrParentTNode)&&tView.queries.elementEnd(previousOrParentTNode)}function elementContainer(index,attrs,localRefs){elementContainerStart(index,attrs,localRefs),elementContainerEnd()}function embeddedViewStart(viewBlockId,consts,vars){var lView=getLView(),previousOrParentTNode=getPreviousOrParentTNode(),containerTNode=2===previousOrParentTNode.type?previousOrParentTNode.parent:previousOrParentTNode,lContainer=lView[containerTNode.index];ngDevMode&&assertNodeType(containerTNode,0);var viewToRender=function(lContainer,startIdx,viewBlockId){for(var i=startIdx+CONTAINER_HEADER_OFFSET;i<lContainer.length;i++){var viewAtPositionId=lContainer[i][TVIEW].id;if(viewAtPositionId===viewBlockId)return lContainer[i];if(!(viewAtPositionId<viewBlockId))break;removeView(lContainer,i-CONTAINER_HEADER_OFFSET)}return null}(lContainer,lContainer[ACTIVE_INDEX],viewBlockId);if(viewToRender)isParent=!0,enterView(viewToRender,viewToRender[TVIEW].node);else{viewToRender=createLView(lView,function(viewIndex,consts,vars,parent){var tView=getLView()[TVIEW];ngDevMode&&assertNodeType(parent,0);var containerTViews=parent.tViews;ngDevMode&&assertDefined(containerTViews,"TView expected"),ngDevMode&&assertEqual(Array.isArray(containerTViews),!0,"TViews should be in an array"),(viewIndex>=containerTViews.length||null==containerTViews[viewIndex])&&(containerTViews[viewIndex]=createTView(viewIndex,null,consts,vars,tView.directiveRegistry,tView.pipeRegistry,null,null));return containerTViews[viewIndex]}(viewBlockId,consts,vars,containerTNode),null,16,null,null);var tParentNode=getIsParent()?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent;assignTViewNodeToLView(viewToRender[TVIEW],tParentNode,viewBlockId,viewToRender),enterView(viewToRender,viewToRender[TVIEW].node)}return lContainer&&(isCreationMode(viewToRender)&&insertView(viewToRender,lContainer,lContainer[ACTIVE_INDEX]),lContainer[ACTIVE_INDEX]++),isCreationMode(viewToRender)?3:2}function embeddedViewEnd(){var lView=getLView(),viewHost=lView[T_HOST];isCreationMode(lView)&&(refreshDescendantViews(lView),lView[FLAGS]&=-5),resetPreOrderHookFlags(lView),refreshDescendantViews(lView);var value,lContainer=lView[PARENT];ngDevMode&&((value=lContainer)&&assertEqual(isLContainer(value),!0,"Expecting LContainer or undefined or null")),leaveView(lContainer[PARENT],!0),setPreviousOrParentTNode(viewHost,!1)}function getCurrentView(){return getLView()}function isPromise(obj){return!!obj&&"function"==typeof obj.then}function isObservable(obj){return!!obj&&"function"==typeof obj.subscribe}function listener(eventName,listenerFn,useCapture,eventTargetResolver){void 0===useCapture&&(useCapture=!1),listenerInternal(eventName,listenerFn,useCapture,eventTargetResolver)}function componentHostSyntheticListener(eventName,listenerFn,useCapture,eventTargetResolver){void 0===useCapture&&(useCapture=!1),listenerInternal(eventName,listenerFn,useCapture,eventTargetResolver,loadComponentRenderer)}function listenerInternal(eventName,listenerFn,useCapture,eventTargetResolver,loadRendererFn){void 0===useCapture&&(useCapture=!1);var lView=getLView(),tNode=getPreviousOrParentTNode(),tView=lView[TVIEW],tCleanup=tView.firstTemplatePass&&(tView.cleanup||(tView.cleanup=[]));ngDevMode&&assertNodeOfPossibleTypes(tNode,3,0,4);var processOutputs=!0;if(3===tNode.type){var native=getNativeByTNode(tNode,lView),resolved=eventTargetResolver?eventTargetResolver(native):EMPTY_OBJ,target=resolved.target||native,renderer=loadRendererFn?loadRendererFn(tNode,lView):lView[RENDERER],lCleanupIndex=(lCleanup=getCleanup(lView)).length,idxOrTargetGetter=eventTargetResolver?function(_lView){return eventTargetResolver(unwrapRNode(_lView[tNode.index])).target}:tNode.index;if(isProceduralRenderer(renderer)){var existingListener=null;if(!eventTargetResolver&&function(tNode){return tNode.directiveEnd>tNode.directiveStart}(tNode)&&(existingListener=function(lView,eventName,tNodeIdx){var tCleanup=lView[TVIEW].cleanup;if(null!=tCleanup)for(var i=0;i<tCleanup.length-1;i+=2){var cleanupEventName=tCleanup[i];if(cleanupEventName===eventName&&tCleanup[i+1]===tNodeIdx){var lCleanup=lView[CLEANUP],listenerIdxInLCleanup=tCleanup[i+2];return lCleanup.length>listenerIdxInLCleanup?lCleanup[listenerIdxInLCleanup]:null}"string"==typeof cleanupEventName&&(i+=2)}return null}(lView,eventName,tNode.index)),null!==existingListener)listenerFn.__ngNextListenerFn__=existingListener.__ngNextListenerFn__,existingListener.__ngNextListenerFn__=listenerFn,processOutputs=!1;else{listenerFn=wrapListener(tNode,lView,listenerFn,!1);var cleanupFn=renderer.listen(resolved.name||target,eventName,listenerFn);ngDevMode&&ngDevMode.rendererAddEventListener++,lCleanup.push(listenerFn,cleanupFn),tCleanup&&tCleanup.push(eventName,idxOrTargetGetter,lCleanupIndex,lCleanupIndex+1)}}else listenerFn=wrapListener(tNode,lView,listenerFn,!0),target.addEventListener(eventName,listenerFn,useCapture),ngDevMode&&ngDevMode.rendererAddEventListener++,lCleanup.push(listenerFn),tCleanup&&tCleanup.push(eventName,idxOrTargetGetter,lCleanupIndex,useCapture)}void 0===tNode.outputs&&(tNode.outputs=generatePropertyAliases(tNode,1));var props,outputs=tNode.outputs;if(processOutputs&&outputs&&(props=outputs[eventName])){var propsLength=props.length;if(propsLength)for(var lCleanup=getCleanup(lView),i=0;i<propsLength;i+=3){var index=props[i];ngDevMode&&assertDataInRange(lView,index);var minifiedName=props[i+2],directiveInstance=lView[index],output=directiveInstance[minifiedName];if(ngDevMode&&!isObservable(output))throw new Error("@Output "+minifiedName+" not initialized in '"+directiveInstance.constructor.name+"'.");var subscription=output.subscribe(listenerFn),idx=lCleanup.length;lCleanup.push(listenerFn,subscription),tCleanup&&tCleanup.push(eventName,tNode.index,idx,-(idx+1))}}}function executeListenerWithErrorHandling(lView,listenerFn,e){try{return!1!==listenerFn(e)}catch(error){return handleError(lView,error),!1}}function wrapListener(tNode,lView,listenerFn,wrapWithPreventDefault){return function wrapListenerIn_markDirtyAndPreventDefault(e){var startView=1&tNode.flags?getComponentViewByIndex(tNode.index,lView):lView;0==(32&lView[FLAGS])&&markViewDirty(startView);for(var result=executeListenerWithErrorHandling(lView,listenerFn,e),nextListenerFn=wrapListenerIn_markDirtyAndPreventDefault.__ngNextListenerFn__;nextListenerFn;)result=executeListenerWithErrorHandling(lView,nextListenerFn,e)&&result,nextListenerFn=nextListenerFn.__ngNextListenerFn__;return wrapWithPreventDefault&&!1===result&&(e.preventDefault(),e.returnValue=!1),result}}function nextContext(level){return void 0===level&&(level=1),nextContextImpl(level)}function matchingProjectionSlotIndex(tNode,projectionSlots){for(var wildcardNgContentIndex=null,ngProjectAsAttrVal=function(tNode){var nodeAttrs=tNode.attrs;if(null!=nodeAttrs){var ngProjectAsAttrIdx=nodeAttrs.indexOf(5);if(0==(1&ngProjectAsAttrIdx))return nodeAttrs[ngProjectAsAttrIdx+1]}return null}(tNode),i=0;i<projectionSlots.length;i++){var slotValue=projectionSlots[i];if("*"!==slotValue){if(null===ngProjectAsAttrVal?isNodeMatchingSelectorList(tNode,slotValue,!0):isSelectorInSelectorList(ngProjectAsAttrVal,slotValue))return i}else wildcardNgContentIndex=i}return wildcardNgContentIndex}function projectionDef(projectionSlots){var componentNode=findComponentView(getLView())[T_HOST];if(!componentNode.projection)for(var numProjectionSlots=projectionSlots?projectionSlots.length:1,projectionHeads=componentNode.projection=new Array(numProjectionSlots).fill(null),tails=projectionHeads.slice(),componentChild=componentNode.child;null!==componentChild;){var slotIndex=projectionSlots?matchingProjectionSlotIndex(componentChild,projectionSlots):0;null!==slotIndex&&(tails[slotIndex]?tails[slotIndex].projectionNext=componentChild:projectionHeads[slotIndex]=componentChild,tails[slotIndex]=componentChild),componentChild=componentChild.next}}exports.WrappedValue=WrappedValue;var delayProjection=!1;function setDelayProjection(value){delayProjection=value}function projection(nodeIndex,selectorIndex,attrs){void 0===selectorIndex&&(selectorIndex=0);var lView=getLView(),tProjectionNode=getOrCreateTNode(lView[TVIEW],lView[T_HOST],nodeIndex,1,null,attrs||null);null===tProjectionNode.projection&&(tProjectionNode.projection=selectorIndex),setIsNotParent(),delayProjection||appendProjectedNodes(lView,tProjectionNode,selectorIndex,findComponentView(lView))}function propertyInterpolate(propName,v0,sanitizer){return propertyInterpolate1(propName,"",v0,"",sanitizer),propertyInterpolate}function propertyInterpolate1(propName,prefix,v0,suffix,sanitizer){var index=getSelectedIndex(),interpolatedValue=interpolation1(getLView(),prefix,v0,suffix);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(index,propName,interpolatedValue,sanitizer),propertyInterpolate1}function propertyInterpolate2(propName,prefix,v0,i0,v1,suffix,sanitizer){var index=getSelectedIndex(),interpolatedValue=interpolation2(getLView(),prefix,v0,i0,v1,suffix);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(index,propName,interpolatedValue,sanitizer),propertyInterpolate2}function propertyInterpolate3(propName,prefix,v0,i0,v1,i1,v2,suffix,sanitizer){var index=getSelectedIndex(),interpolatedValue=interpolation3(getLView(),prefix,v0,i0,v1,i1,v2,suffix);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(index,propName,interpolatedValue,sanitizer),propertyInterpolate3}function propertyInterpolate4(propName,prefix,v0,i0,v1,i1,v2,i2,v3,suffix,sanitizer){var index=getSelectedIndex(),interpolatedValue=interpolation4(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(index,propName,interpolatedValue,sanitizer),propertyInterpolate4}function propertyInterpolate5(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix,sanitizer){var index=getSelectedIndex(),interpolatedValue=interpolation5(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(index,propName,interpolatedValue,sanitizer),propertyInterpolate5}function propertyInterpolate6(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix,sanitizer){var index=getSelectedIndex(),interpolatedValue=interpolation6(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(index,propName,interpolatedValue,sanitizer),propertyInterpolate6}function propertyInterpolate7(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix,sanitizer){var index=getSelectedIndex(),interpolatedValue=interpolation7(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(index,propName,interpolatedValue,sanitizer),propertyInterpolate7}function propertyInterpolate8(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix,sanitizer){var index=getSelectedIndex(),interpolatedValue=interpolation8(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(index,propName,interpolatedValue,sanitizer),propertyInterpolate8}function propertyInterpolateV(propName,values,sanitizer){var index=getSelectedIndex(),interpolatedValue=interpolationV(getLView(),values);return interpolatedValue!==NO_CHANGE&&elementPropertyInternal(index,propName,interpolatedValue,sanitizer),propertyInterpolateV}function text(index,value){var lView=getLView();ngDevMode&&assertEqual(lView[BINDING_INDEX],lView[TVIEW].bindingStartIndex,"text nodes should be created before any bindings"),ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&assertDataInRange(lView,index+HEADER_OFFSET);var textNative=lView[index+HEADER_OFFSET]=createTextNode(value,lView[RENDERER]);ngDevMode&&ngDevMode.rendererSetText++;var tNode=getOrCreateTNode(lView[TVIEW],lView[T_HOST],index,3,null,null);setIsNotParent(),appendChild(textNative,tNode,lView)}function textBinding(value){var lView=getLView(),index=getSelectedIndex(),bound=bind(lView,value);bound!==NO_CHANGE&&textBindingInternal(lView,index,renderStringify(bound))}function textInterpolate(v0){return textInterpolate1("",v0,""),textInterpolate}function textInterpolate1(prefix,v0,suffix){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolation1(lView,prefix,v0,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,index,interpolated),textInterpolate1}function textInterpolate2(prefix,v0,i0,v1,suffix){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolation2(lView,prefix,v0,i0,v1,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,index,interpolated),textInterpolate2}function textInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,index,interpolated),textInterpolate3}function textInterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,index,interpolated),textInterpolate4}function textInterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,index,interpolated),textInterpolate5}function textInterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,index,interpolated),textInterpolate6}function textInterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,index,interpolated),textInterpolate7}function textInterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,index,interpolated),textInterpolate8}function textInterpolateV(values){var index=getSelectedIndex(),lView=getLView(),interpolated=interpolationV(lView,values);return interpolated!==NO_CHANGE&&textBindingInternal(lView,index,interpolated),textInterpolateV}function classMapInterpolate1(prefix,v0,suffix){var interpolatedValue=interpolation1(getLView(),prefix,v0,suffix);classMapInternal(getSelectedIndex(),interpolatedValue)}function classMapInterpolate2(prefix,v0,i0,v1,suffix){var interpolatedValue=interpolation2(getLView(),prefix,v0,i0,v1,suffix);classMapInternal(getSelectedIndex(),interpolatedValue)}function classMapInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){var interpolatedValue=interpolation3(getLView(),prefix,v0,i0,v1,i1,v2,suffix);classMapInternal(getSelectedIndex(),interpolatedValue)}function classMapInterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix){var interpolatedValue=interpolation4(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix);classMapInternal(getSelectedIndex(),interpolatedValue)}function classMapInterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){var interpolatedValue=interpolation5(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);classMapInternal(getSelectedIndex(),interpolatedValue)}function classMapInterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){var interpolatedValue=interpolation6(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);classMapInternal(getSelectedIndex(),interpolatedValue)}function classMapInterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){var interpolatedValue=interpolation7(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);classMapInternal(getSelectedIndex(),interpolatedValue)}function classMapInterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){var interpolatedValue=interpolation8(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);classMapInternal(getSelectedIndex(),interpolatedValue)}function classMapInterpolateV(values){var interpolatedValue=interpolationV(getLView(),values);classMapInternal(getSelectedIndex(),interpolatedValue)}function stylePropInterpolate1(prop,prefix,v0,suffix,valueSuffix){var interpolatedValue=interpolation1(getLView(),prefix,v0,suffix);return stylePropInternal(getSelectedIndex(),prop,interpolatedValue,valueSuffix),stylePropInterpolate1}function stylePropInterpolate2(prop,prefix,v0,i0,v1,suffix,valueSuffix){var interpolatedValue=interpolation2(getLView(),prefix,v0,i0,v1,suffix);return stylePropInternal(getSelectedIndex(),prop,interpolatedValue,valueSuffix),stylePropInterpolate2}function stylePropInterpolate3(prop,prefix,v0,i0,v1,i1,v2,suffix,valueSuffix){var interpolatedValue=interpolation3(getLView(),prefix,v0,i0,v1,i1,v2,suffix);return stylePropInternal(getSelectedIndex(),prop,interpolatedValue,valueSuffix),stylePropInterpolate3}function stylePropInterpolate4(prop,prefix,v0,i0,v1,i1,v2,i2,v3,suffix,valueSuffix){var interpolatedValue=interpolation4(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix);return stylePropInternal(getSelectedIndex(),prop,interpolatedValue,valueSuffix),stylePropInterpolate4}function stylePropInterpolate5(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix,valueSuffix){var interpolatedValue=interpolation5(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);return stylePropInternal(getSelectedIndex(),prop,interpolatedValue,valueSuffix),stylePropInterpolate5}function stylePropInterpolate6(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix,valueSuffix){var interpolatedValue=interpolation6(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);return stylePropInternal(getSelectedIndex(),prop,interpolatedValue,valueSuffix),stylePropInterpolate6}function stylePropInterpolate7(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix,valueSuffix){var interpolatedValue=interpolation7(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);return stylePropInternal(getSelectedIndex(),prop,interpolatedValue,valueSuffix),stylePropInterpolate7}function stylePropInterpolate8(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix,valueSuffix){var interpolatedValue=interpolation8(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);return stylePropInternal(getSelectedIndex(),prop,interpolatedValue,valueSuffix),stylePropInterpolate8}function stylePropInterpolateV(prop,values,valueSuffix){var interpolatedValue=interpolationV(getLView(),values);return stylePropInternal(getSelectedIndex(),prop,interpolatedValue,valueSuffix),stylePropInterpolateV}function hostProperty(propName,value,sanitizer){var index=getSelectedIndex();ngDevMode&&assertNotEqual(index,-1,"selected index cannot be -1");var bindReconciledValue=bind(getLView(),value);return bindReconciledValue!==NO_CHANGE&&elementPropertyInternal(index,propName,bindReconciledValue,sanitizer,!0),hostProperty}function updateSyntheticHostBinding(propName,value,sanitizer){var index=getSelectedIndex(),bound=bind(getLView(),value);return bound!==NO_CHANGE&&elementPropertyInternal(index,propName,bound,sanitizer,!0,loadComponentRenderer),updateSyntheticHostBinding}function getComponent(element){var nodeIndex,lView,tNode,directiveStartIndex,context=loadLContextFromNode(element);return void 0===context.component&&(context.component=(nodeIndex=context.nodeIndex,lView=context.lView,tNode=lView[TVIEW].data[nodeIndex],directiveStartIndex=tNode.directiveStart,1&tNode.flags?lView[directiveStartIndex]:null)),context.component}function getContext$1(element){return loadLContextFromNode(element).lView[CONTEXT]}function getViewComponent(element){var parent,lView=loadLContext(element).lView;for(ngDevMode&&assertLView(lView);null===lView[HOST]&&(parent=getLViewParent(lView));)lView=parent;return 512&lView[FLAGS]?null:lView[CONTEXT]}function getRootComponents(target){return(0,_tslib.__spread)(getRootContext(target).components)}function getInjector(target){var context=loadLContext(target),tNode=context.lView[TVIEW].data[context.nodeIndex];return new NodeInjector(tNode,context.lView)}function getDirectives(target){var context=loadLContext(target);return void 0===context.directives&&(context.directives=getDirectivesAtNodeIndex(context.nodeIndex,context.lView,!1)),context.directives||[]}function loadLContext(target,throwOnNotFound){void 0===throwOnNotFound&&(throwOnNotFound=!0);var context=getLContext(target);if(!context&&throwOnNotFound)throw new Error(ngDevMode?"Unable to find context associated with "+stringifyForError(target):"Invalid ng target");return context}function getLocalRefs(target){var context=loadLContext(target);return void 0===context.localRefs&&(context.localRefs=function(lView,nodeIndex){var tNode=lView[TVIEW].data[nodeIndex];if(tNode&&tNode.localNames){for(var result={},localIndex=tNode.index+1,i=0;i<tNode.localNames.length;i+=2)result[tNode.localNames[i]]=lView[localIndex],localIndex++;return result}return null}(context.lView,context.nodeIndex)),context.localRefs||{}}function getHostElement(directive){return getLContext(directive).native}function loadLContextFromNode(node){if(!(node instanceof Node))throw new Error("Expecting instance of DOM Node");return loadLContext(node)}function isBrowserEvents(listener){return"boolean"==typeof listener.useCapture}function getListeners(element){var lView=loadLContextFromNode(element).lView,tView=lView[TVIEW],lCleanup=lView[CLEANUP],tCleanup=tView.cleanup,listeners=[];if(tCleanup&&lCleanup)for(var i=0;i<tCleanup.length;){var firstParam=tCleanup[i++],secondParam=tCleanup[i++];if("string"==typeof firstParam){var name_1=firstParam,listenerElement=unwrapRNode(lView[secondParam]),callback=lCleanup[tCleanup[i++]],useCaptureOrIndx=tCleanup[i++],useCapture="boolean"==typeof useCaptureOrIndx?useCaptureOrIndx:!(useCaptureOrIndx>=0)&&null;element==listenerElement&&listeners.push({element:element,name:name_1,callback:callback,useCapture:useCapture})}}return listeners.sort(sortListeners),listeners}function sortListeners(a,b){return a.name==b.name?0:a.name<b.name?-1:1}var GLOBAL_PUBLISH_EXPANDO_KEY="ng",_published=!1;function publishDefaultGlobalUtils(){_published||(_published=!0,publishGlobalUtil("getComponent",getComponent),publishGlobalUtil("getContext",getContext$1),publishGlobalUtil("getListeners",getListeners),publishGlobalUtil("getViewComponent",getViewComponent),publishGlobalUtil("getHostElement",getHostElement),publishGlobalUtil("getInjector",getInjector),publishGlobalUtil("getRootComponents",getRootComponents),publishGlobalUtil("getDirectives",getDirectives),publishGlobalUtil("markDirty",markDirty))}function publishGlobalUtil(name,fn){var w=_global;if(ngDevMode&&assertDefined(fn,"function not defined"),w){var container=w[GLOBAL_PUBLISH_EXPANDO_KEY];container||(container=w[GLOBAL_PUBLISH_EXPANDO_KEY]={}),container[name]=fn}}function createRootComponentView(rNode,def,rootView,rendererFactory,renderer,sanitizer){resetComponentState();var tView=rootView[TVIEW];ngDevMode&&assertDataInRange(rootView,0+HEADER_OFFSET),rootView[0+HEADER_OFFSET]=rNode;var tNode=getOrCreateTNode(tView,null,0,3,null,null),componentView=createLView(rootView,getOrCreateTView(def),null,def.onPush?64:16,rootView[HEADER_OFFSET],tNode,rendererFactory,renderer,sanitizer);return tView.firstTemplatePass&&(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,rootView),tView,def.type),tNode.flags=1,initNodeFlags(tNode,rootView.length,1),queueComponentIndexForCheck(tNode)),rootView[HEADER_OFFSET]=componentView}function createRootComponent(componentView,componentDef,rootView,rootContext,hostFeatures){var tView=rootView[TVIEW],component=function(tView,viewData,def){var rootTNode=getPreviousOrParentTNode();tView.firstTemplatePass&&(def.providersResolver&&def.providersResolver(def),generateExpandoInstructionBlock(tView,rootTNode,1),baseResolveDirective(tView,viewData,def,def.factory));var directive=getNodeInjectable(tView.data,viewData,viewData.length-1,rootTNode);return postProcessBaseDirective(viewData,rootTNode,directive),directive}(tView,rootView,componentDef);rootContext.components.push(component),componentView[CONTEXT]=component,hostFeatures&&hostFeatures.forEach(function(feature){return feature(component,componentDef)}),componentDef.contentQueries&&componentDef.contentQueries(1,component,rootView.length-1);var rootTNode=getPreviousOrParentTNode();if(tView.firstTemplatePass&&componentDef.hostBindings){setActiveHostElement(rootTNode.index-HEADER_OFFSET);var expando=tView.expandoInstructions;invokeHostBindingsInCreationMode(componentDef,expando,component,rootTNode,tView.firstTemplatePass),setActiveHostElement(null)}return component}function createRootContext(scheduler,playerHandler){return{components:[],scheduler:scheduler||defaultScheduler,clean:CLEAN_PROMISE,playerHandler:playerHandler||null,flags:0}}function LifecycleHooksFeature(component,def){var rootTView=readPatchedLView(component)[TVIEW],dirIndex=rootTView.data.length-1;registerPreOrderHooks(dirIndex,def,rootTView,-1,-1,-1),registerPostOrderHooks(rootTView,{directiveStart:dirIndex,directiveEnd:dirIndex+1})}var SimpleChange=function(){function SimpleChange(previousValue,currentValue,firstChange){this.previousValue=previousValue,this.currentValue=currentValue,this.firstChange=firstChange}return SimpleChange.prototype.isFirstChange=function(){return this.firstChange},SimpleChange}();exports.SimpleChange=SimpleChange;function NgOnChangesFeature(){return NgOnChangesFeatureImpl.ngInherit=!0,NgOnChangesFeatureImpl}function NgOnChangesFeatureImpl(definition){definition.type.prototype.ngOnChanges&&(definition.setInput=ngOnChangesSetInput,definition.onChanges=function(){var simpleChangesStore=getSimpleChangesStore(this),current=simpleChangesStore&&simpleChangesStore.current;if(current){var previous=simpleChangesStore.previous;if(previous===EMPTY_OBJ)simpleChangesStore.previous=current;else for(var key in current)previous[key]=current[key];simpleChangesStore.current=null,this.ngOnChanges(current)}})}function ngOnChangesSetInput(instance,value,publicName,privateName){var simpleChangesStore=getSimpleChangesStore(instance)||function(instance,store){return instance[SIMPLE_CHANGES_STORE]=store}(instance,{previous:EMPTY_OBJ,current:null}),current=simpleChangesStore.current||(simpleChangesStore.current={}),previous=simpleChangesStore.previous,declaredName=this.declaredInputs[publicName],previousChange=previous[declaredName];current[declaredName]=new SimpleChange(previousChange&&previousChange.currentValue,value,previous===EMPTY_OBJ),instance[privateName]=value}var SIMPLE_CHANGES_STORE="__ngSimpleChanges__";function getSimpleChangesStore(instance){return instance[SIMPLE_CHANGES_STORE]||null}function InheritDefinitionFeature(definition){for(var e_1,_a,type,superType=(type=definition.type,Object.getPrototypeOf(type.prototype).constructor);superType;){var superDef=void 0;if(isComponentDef(definition))superDef=superType.ngComponentDef||superType.ngDirectiveDef;else{if(superType.ngComponentDef)throw new Error("Directives cannot inherit Components");superDef=superType.ngDirectiveDef}var baseDef=superType.ngBaseDef;if(baseDef||superDef){var writeableDef=definition;writeableDef.inputs=maybeUnwrapEmpty(definition.inputs),writeableDef.declaredInputs=maybeUnwrapEmpty(definition.declaredInputs),writeableDef.outputs=maybeUnwrapEmpty(definition.outputs)}if(baseDef){var baseViewQuery=baseDef.viewQuery,baseContentQueries=baseDef.contentQueries,baseHostBindings=baseDef.hostBindings;baseHostBindings&&inheritHostBindings(definition,baseHostBindings),baseViewQuery&&inheritViewQuery(definition,baseViewQuery),baseContentQueries&&inheritContentQueries(definition,baseContentQueries),fillProperties(definition.inputs,baseDef.inputs),fillProperties(definition.declaredInputs,baseDef.declaredInputs),fillProperties(definition.outputs,baseDef.outputs)}if(superDef){var superHostBindings=superDef.hostBindings;superHostBindings&&inheritHostBindings(definition,superHostBindings);var superViewQuery=superDef.viewQuery,superContentQueries=superDef.contentQueries;superViewQuery&&inheritViewQuery(definition,superViewQuery),superContentQueries&&inheritContentQueries(definition,superContentQueries),fillProperties(definition.inputs,superDef.inputs),fillProperties(definition.declaredInputs,superDef.declaredInputs),fillProperties(definition.outputs,superDef.outputs),definition.afterContentChecked=definition.afterContentChecked||superDef.afterContentChecked,definition.afterContentInit=definition.afterContentInit||superDef.afterContentInit,definition.afterViewChecked=definition.afterViewChecked||superDef.afterViewChecked,definition.afterViewInit=definition.afterViewInit||superDef.afterViewInit,definition.doCheck=definition.doCheck||superDef.doCheck,definition.onDestroy=definition.onDestroy||superDef.onDestroy,definition.onInit=definition.onInit||superDef.onInit;var features=superDef.features;if(features)try{for(var features_1=(e_1=void 0,(0,_tslib.__values)(features)),features_1_1=features_1.next();!features_1_1.done;features_1_1=features_1.next()){var feature=features_1_1.value;feature&&feature.ngInherit&&feature(definition)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{features_1_1&&!features_1_1.done&&(_a=features_1.return)&&_a.call(features_1)}finally{if(e_1)throw e_1.error}}}else{var superPrototype=superType.prototype;superPrototype&&(definition.afterContentChecked=definition.afterContentChecked||superPrototype.ngAfterContentChecked,definition.afterContentInit=definition.afterContentInit||superPrototype.ngAfterContentInit,definition.afterViewChecked=definition.afterViewChecked||superPrototype.ngAfterViewChecked,definition.afterViewInit=definition.afterViewInit||superPrototype.ngAfterViewInit,definition.doCheck=definition.doCheck||superPrototype.ngDoCheck,definition.onDestroy=definition.onDestroy||superPrototype.ngOnDestroy,definition.onInit=definition.onInit||superPrototype.ngOnInit,superPrototype.ngOnChanges&&NgOnChangesFeature()(definition))}superType=Object.getPrototypeOf(superType)}}function maybeUnwrapEmpty(value){return value===EMPTY_OBJ?{}:value===EMPTY_ARRAY?[]:value}function inheritViewQuery(definition,superViewQuery){var prevViewQuery=definition.viewQuery;definition.viewQuery=prevViewQuery?function(rf,ctx){superViewQuery(rf,ctx),prevViewQuery(rf,ctx)}:superViewQuery}function inheritContentQueries(definition,superContentQueries){var prevContentQueries=definition.contentQueries;definition.contentQueries=prevContentQueries?function(rf,ctx,directiveIndex){superContentQueries(rf,ctx,directiveIndex),prevContentQueries(rf,ctx,directiveIndex)}:superContentQueries}function inheritHostBindings(definition,superHostBindings){var prevHostBindings=definition.hostBindings;superHostBindings!==prevHostBindings&&(definition.hostBindings=prevHostBindings?function(rf,ctx,elementIndex){adjustActiveDirectiveSuperClassDepthPosition(1);try{superHostBindings(rf,ctx,elementIndex)}finally{adjustActiveDirectiveSuperClassDepthPosition(-1)}prevHostBindings(rf,ctx,elementIndex)}:superHostBindings)}function resolveProvider$1(provider,tInjectables,lInjectablesBlueprint,isComponent,isViewProvider){if(provider=resolveForwardRef(provider),Array.isArray(provider))for(var i=0;i<provider.length;i++)resolveProvider$1(provider[i],tInjectables,lInjectablesBlueprint,isComponent,isViewProvider);else{var lView=getLView(),tView=lView[TVIEW],token=isTypeProvider(provider)?provider:resolveForwardRef(provider.provide),providerFactory=providerToFactory(provider),tNode=getPreviousOrParentTNode(),beginIndex=65535&tNode.providerIndexes,endIndex=tNode.directiveStart,cptViewProvidersCount=tNode.providerIndexes>>16;if(provider.useClass||isTypeProvider(provider)){var ngOnDestroy=(provider.useClass||provider).prototype.ngOnDestroy;ngOnDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(tInjectables.length,ngOnDestroy)}if(isTypeProvider(provider)||!provider.multi){var factory=new NodeInjectorFactory(providerFactory,isViewProvider,directiveInject),existingFactoryIndex=indexOf(token,tInjectables,isViewProvider?beginIndex:beginIndex+cptViewProvidersCount,endIndex);-1==existingFactoryIndex?(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=65536),lInjectablesBlueprint.push(factory),lView.push(factory)):(lInjectablesBlueprint[existingFactoryIndex]=factory,lView[existingFactoryIndex]=factory)}else{var existingProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex+cptViewProvidersCount,endIndex),existingViewProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex,beginIndex+cptViewProvidersCount),doesProvidersFactoryExist=existingProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingProvidersFactoryIndex],doesViewProvidersFactoryExist=existingViewProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingViewProvidersFactoryIndex];if(isViewProvider&&!doesViewProvidersFactoryExist||!isViewProvider&&!doesProvidersFactoryExist){diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token);factory=function(factoryFn,index,isViewProvider,isComponent,f){var factory=new NodeInjectorFactory(factoryFn,isViewProvider,directiveInject);return factory.multi=[],factory.index=index,factory.componentProviders=0,multiFactoryAdd(factory,f,isComponent&&!isViewProvider),factory}(isViewProvider?multiViewProvidersFactoryResolver:multiProvidersFactoryResolver,lInjectablesBlueprint.length,isViewProvider,isComponent,providerFactory);!isViewProvider&&doesViewProvidersFactoryExist&&(lInjectablesBlueprint[existingViewProvidersFactoryIndex].providerFactory=factory),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=65536),lInjectablesBlueprint.push(factory),lView.push(factory)}else multiFactoryAdd(lInjectablesBlueprint[isViewProvider?existingViewProvidersFactoryIndex:existingProvidersFactoryIndex],providerFactory,!isViewProvider&&isComponent);!isViewProvider&&isComponent&&doesViewProvidersFactoryExist&&lInjectablesBlueprint[existingViewProvidersFactoryIndex].componentProviders++}}}function multiFactoryAdd(multiFactory,factory,isComponentProvider){multiFactory.multi.push(factory),isComponentProvider&&multiFactory.componentProviders++}function indexOf(item,arr,begin,end){for(var i=begin;i<end;i++)if(arr[i]===item)return i;return-1}function multiProvidersFactoryResolver(_,tData,lData,tNode){return multiResolve(this.multi,[])}function multiViewProvidersFactoryResolver(_,tData,lData,tNode){var result,factories=this.multi;if(this.providerFactory){var componentCount=this.providerFactory.componentProviders,multiProviders=getNodeInjectable(tData,lData,this.providerFactory.index,tNode);multiResolve(factories,result=multiProviders.slice(0,componentCount));for(var i=componentCount;i<multiProviders.length;i++)result.push(multiProviders[i])}else multiResolve(factories,result=[]);return result}function multiResolve(factories,result){for(var i=0;i<factories.length;i++){var factory=factories[i];result.push(factory())}return result}function ProvidersFeature(providers,viewProviders){return void 0===viewProviders&&(viewProviders=[]),function(definition){definition.providersResolver=function(def,processProvidersFn){return function(def,providers,viewProviders){var tView=getLView()[TVIEW];if(tView.firstTemplatePass){var isComponent=isComponentDef(def);resolveProvider$1(viewProviders,tView.data,tView.blueprint,isComponent,!0),resolveProvider$1(providers,tView.data,tView.blueprint,isComponent,!1)}}(def,processProvidersFn?processProvidersFn(providers):providers,viewProviders)}}}var ComponentRef=function(){return function(){}}();exports.ComponentRef=ComponentRef;var ComponentFactory=function(){return function(){}}();function noComponentFactoryError(component){var error=Error("No component factory found for "+stringify(component)+". Did you add it to @NgModule.entryComponents?");return error[ERROR_COMPONENT]=component,error}exports.ComponentFactory=exports.ComponentFactory=ComponentFactory;var ERROR_COMPONENT="ngComponent";var _NullComponentFactoryResolver=function(){function _NullComponentFactoryResolver(){}return _NullComponentFactoryResolver.prototype.resolveComponentFactory=function(component){throw noComponentFactoryError(component)},_NullComponentFactoryResolver}(),ComponentFactoryResolver=function(){function ComponentFactoryResolver(){}return ComponentFactoryResolver.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver}();exports.ComponentFactoryResolver=ComponentFactoryResolver;var CodegenComponentFactoryResolver=function(){function CodegenComponentFactoryResolver(factories,_parent,_ngModule){this._parent=_parent,this._ngModule=_ngModule,this._factories=new Map;for(var i=0;i<factories.length;i++){var factory=factories[i];this._factories.set(factory.componentType,factory)}}return CodegenComponentFactoryResolver.prototype.resolveComponentFactory=function(component){var factory=this._factories.get(component);if(!factory&&this._parent&&(factory=this._parent.resolveComponentFactory(component)),!factory)throw noComponentFactoryError(component);return new ComponentFactoryBoundToModule(factory,this._ngModule)},CodegenComponentFactoryResolver}();exports.CodegenComponentFactoryResolver=CodegenComponentFactoryResolver;var ComponentFactoryBoundToModule=function(_super){function ComponentFactoryBoundToModule(factory,ngModule){var _this=_super.call(this)||this;return _this.factory=factory,_this.ngModule=ngModule,_this.selector=factory.selector,_this.componentType=factory.componentType,_this.ngContentSelectors=factory.ngContentSelectors,_this.inputs=factory.inputs,_this.outputs=factory.outputs,_this}return(0,_tslib.__extends)(ComponentFactoryBoundToModule,_super),ComponentFactoryBoundToModule.prototype.create=function(injector,projectableNodes,rootSelectorOrNode,ngModule){return this.factory.create(injector,projectableNodes,rootSelectorOrNode,ngModule||this.ngModule)},ComponentFactoryBoundToModule}(ComponentFactory);function noop(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i]}var ElementRef=function(){function ElementRef(nativeElement){this.nativeElement=nativeElement}return ElementRef.__NG_ELEMENT_ID__=function(){return SWITCH_ELEMENT_REF_FACTORY(ElementRef)},ElementRef}();exports.ElementRef=ElementRef;var SWITCH_ELEMENT_REF_FACTORY__POST_R3__=function(ElementRefToken){return createElementRef(ElementRefToken,getPreviousOrParentTNode(),getLView())};exports.SWITCH_ELEMENT_REF_FACTORY__POST_R3__=SWITCH_ELEMENT_REF_FACTORY__POST_R3__;var SWITCH_ELEMENT_REF_FACTORY=noop,RenderComponentType=function(){return function(id,templateUrl,slotCount,encapsulation,styles,animations){this.id=id,this.templateUrl=templateUrl,this.slotCount=slotCount,this.encapsulation=encapsulation,this.styles=styles,this.animations=animations}}();exports.RenderComponentType=RenderComponentType;var RenderDebugInfo=function(){return function(){}}();exports.RenderDebugInfo=RenderDebugInfo;var Renderer=function(){return function(){}}();exports.Renderer=Renderer;new InjectionToken("Renderer2Interceptor");var RootRenderer=function(){return function(){}}();exports.RootRenderer=RootRenderer;var RendererStyleFlags2,RendererFactory2=function(){return function(){}}();exports.RendererFactory2=RendererFactory2,exports.RendererStyleFlags2=RendererStyleFlags2,function(RendererStyleFlags2){RendererStyleFlags2[RendererStyleFlags2.Important=1]="Important",RendererStyleFlags2[RendererStyleFlags2.DashCase=2]="DashCase"}(RendererStyleFlags2||(exports.RendererStyleFlags2=RendererStyleFlags2={}));var Renderer2=function(){function Renderer2(){}return Renderer2.__NG_ELEMENT_ID__=function(){return SWITCH_RENDERER2_FACTORY()},Renderer2}();exports.Renderer2=Renderer2;var SWITCH_RENDERER2_FACTORY__POST_R3__=function(){var lView=getLView(),nodeAtIndex=getComponentViewByIndex(getPreviousOrParentTNode().index,lView);return function(view){var renderer=view[RENDERER];if(isProceduralRenderer(renderer))return renderer;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(isLView(nodeAtIndex)?nodeAtIndex:lView)};exports.SWITCH_RENDERER2_FACTORY__POST_R3__=SWITCH_RENDERER2_FACTORY__POST_R3__;var SWITCH_RENDERER2_FACTORY=noop,Version=function(){return function(full){this.full=full,this.major=full.split(".")[0],this.minor=full.split(".")[1],this.patch=full.split(".").slice(2).join(".")}}();exports.Version=Version;var VERSION=new Version("8.2.14");exports.VERSION=VERSION;var DefaultIterableDifferFactory=function(){function DefaultIterableDifferFactory(){}return DefaultIterableDifferFactory.prototype.supports=function(obj){return isListLikeIterable$1(obj)},DefaultIterableDifferFactory.prototype.create=function(trackByFn){return new DefaultIterableDiffer(trackByFn)},DefaultIterableDifferFactory}();exports.angular_packages_core_core_l=DefaultIterableDifferFactory;var trackByIdentity=function(index,item){return item},DefaultIterableDiffer=function(){function DefaultIterableDiffer(trackByFn){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=trackByFn||trackByIdentity}return DefaultIterableDiffer.prototype.forEachItem=function(fn){var record;for(record=this._itHead;null!==record;record=record._next)fn(record)},DefaultIterableDiffer.prototype.forEachOperation=function(fn){for(var nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;nextIt||nextRemove;){var record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);var localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(var i=0;i<localMovePreviousIndex;i++){var offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;localCurrentIndex<=index&&index<localMovePreviousIndex&&(moveOffsets[i]=offset+1)}moveOffsets[record.previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}},DefaultIterableDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)},DefaultIterableDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultIterableDiffer.prototype.forEachMovedItem=function(fn){var record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)},DefaultIterableDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultIterableDiffer.prototype.forEachIdentityChange=function(fn){var record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)},DefaultIterableDiffer.prototype.diff=function(collection){if(null==collection&&(collection=[]),!isListLikeIterable$1(collection))throw new Error("Error trying to diff '"+stringify(collection)+"'. Only arrays and iterables are allowed");return this.check(collection)?this:null},DefaultIterableDiffer.prototype.onDestroy=function(){},DefaultIterableDiffer.prototype.check=function(collection){var _this=this;this._reset();var index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){this.length=collection.length;for(var index_1=0;index_1<this.length;index_1++)item=collection[index_1],itemTrackBy=this._trackByFn(index_1,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index_1)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index_1),mayBeDirty=!0),record=record._next}else index=0,function(obj,fn){if(Array.isArray(obj))for(var i=0;i<obj.length;i++)fn(obj[i]);else for(var iterator=obj[getSymbolIterator()](),item=void 0;!(item=iterator.next()).done;)fn(item.value)}(collection,function(item){itemTrackBy=_this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=_this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||_this._addIdentityChange(record,item)):(record=_this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this.length=index;return this._truncate(record),this.collection=collection,this.isDirty},Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var record=void 0,nextRecord=void 0;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},DefaultIterableDiffer.prototype._mismatch=function(record,item,itemTrackBy,index){var previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),null!==(record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):null!==(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new IterableChangeRecord_(item,itemTrackBy),previousRecord,index),record},DefaultIterableDiffer.prototype._verifyReinsertion=function(record,item,itemTrackBy,index){var reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record},DefaultIterableDiffer.prototype._truncate=function(record){for(;null!==record;){var nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},DefaultIterableDiffer.prototype._reinsertAfter=function(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);var prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._moveAfter=function(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._addAfter=function(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),null===this._additionsTail?this._additionsTail=this._additionsHead=record:this._additionsTail=this._additionsTail._nextAdded=record,record},DefaultIterableDiffer.prototype._insertAfter=function(record,prevRecord,index){var next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record},DefaultIterableDiffer.prototype._remove=function(record){return this._addToRemovals(this._unlink(record))},DefaultIterableDiffer.prototype._unlink=function(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);var prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record},DefaultIterableDiffer.prototype._addToMoves=function(record,toIndex){return record.previousIndex===toIndex?record:(null===this._movesTail?this._movesTail=this._movesHead=record:this._movesTail=this._movesTail._nextMoved=record,record)},DefaultIterableDiffer.prototype._addToRemovals=function(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record},DefaultIterableDiffer.prototype._addIdentityChange=function(record,item){return record.item=item,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=record:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record,record},DefaultIterableDiffer}();exports.DefaultIterableDiffer=DefaultIterableDiffer;var IterableChangeRecord_=function(){return function(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),_DuplicateItemRecordList=function(){function _DuplicateItemRecordList(){this._head=null,this._tail=null}return _DuplicateItemRecordList.prototype.add=function(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)},_DuplicateItemRecordList.prototype.get=function(trackById,atOrAfterIndex){var record;for(record=this._head;null!==record;record=record._nextDup)if((null===atOrAfterIndex||atOrAfterIndex<=record.currentIndex)&&looseIdentical(record.trackById,trackById))return record;return null},_DuplicateItemRecordList.prototype.remove=function(record){var prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head},_DuplicateItemRecordList}(),_DuplicateMap=function(){function _DuplicateMap(){this.map=new Map}return _DuplicateMap.prototype.put=function(record){var key=record.trackById,duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)},_DuplicateMap.prototype.get=function(trackById,atOrAfterIndex){var key=trackById,recordList=this.map.get(key);return recordList?recordList.get(trackById,atOrAfterIndex):null},_DuplicateMap.prototype.remove=function(record){var key=record.trackById;return this.map.get(key).remove(record)&&this.map.delete(key),record},Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),_DuplicateMap.prototype.clear=function(){this.map.clear()},_DuplicateMap}();function getPreviousIndex(item,addRemoveOffset,moveOffsets){var previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;var moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}var DefaultKeyValueDifferFactory=function(){function DefaultKeyValueDifferFactory(){}return DefaultKeyValueDifferFactory.prototype.supports=function(obj){return obj instanceof Map||isJsObject$1(obj)},DefaultKeyValueDifferFactory.prototype.create=function(){return new DefaultKeyValueDiffer},DefaultKeyValueDifferFactory}();exports.angular_packages_core_core_m=DefaultKeyValueDifferFactory;var DefaultKeyValueDiffer=function(){function DefaultKeyValueDiffer(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),DefaultKeyValueDiffer.prototype.forEachItem=function(fn){var record;for(record=this._mapHead;null!==record;record=record._next)fn(record)},DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)},DefaultKeyValueDiffer.prototype.forEachChangedItem=function(fn){var record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)},DefaultKeyValueDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultKeyValueDiffer.prototype.diff=function(map){if(map){if(!(map instanceof Map||isJsObject$1(map)))throw new Error("Error trying to diff '"+stringify(map)+"'. Only maps and objects are allowed")}else map=new Map;return this.check(map)?this:null},DefaultKeyValueDiffer.prototype.onDestroy=function(){},DefaultKeyValueDiffer.prototype.check=function(map){var _this=this;this._reset();var insertBefore=this._mapHead;if(this._appendAfter=null,this._forEach(map,function(value,key){if(insertBefore&&insertBefore.key===key)_this._maybeAddToChanges(insertBefore,value),_this._appendAfter=insertBefore,insertBefore=insertBefore._next;else{var record=_this._getOrCreateRecordForKey(key,value);insertBefore=_this._insertBeforeOrAppend(insertBefore,record)}}),insertBefore){insertBefore._prev&&(insertBefore._prev._next=null),this._removalsHead=insertBefore;for(var record=insertBefore;null!==record;record=record._nextRemoved)record===this._mapHead&&(this._mapHead=null),this._records.delete(record.key),record._nextRemoved=record._next,record.previousValue=record.currentValue,record.currentValue=null,record._prev=null,record._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},DefaultKeyValueDiffer.prototype._insertBeforeOrAppend=function(before,record){if(before){var prev=before._prev;return record._next=before,record._prev=prev,before._prev=record,prev&&(prev._next=record),before===this._mapHead&&(this._mapHead=record),this._appendAfter=before,before}return this._appendAfter?(this._appendAfter._next=record,record._prev=this._appendAfter):this._mapHead=record,this._appendAfter=record,null},DefaultKeyValueDiffer.prototype._getOrCreateRecordForKey=function(key,value){if(this._records.has(key)){var record_1=this._records.get(key);this._maybeAddToChanges(record_1,value);var prev=record_1._prev,next=record_1._next;return prev&&(prev._next=next),next&&(next._prev=prev),record_1._next=null,record_1._prev=null,record_1}var record=new KeyValueChangeRecord_(key);return this._records.set(key,record),record.currentValue=value,this._addToAdditions(record),record},DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var record=void 0;for(this._previousMapHead=this._mapHead,record=this._previousMapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},DefaultKeyValueDiffer.prototype._maybeAddToChanges=function(record,newValue){looseIdentical(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))},DefaultKeyValueDiffer.prototype._addToAdditions=function(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)},DefaultKeyValueDiffer.prototype._addToChanges=function(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)},DefaultKeyValueDiffer.prototype._forEach=function(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(function(k){return fn(obj[k],k)})},DefaultKeyValueDiffer}(),KeyValueChangeRecord_=function(){return function(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),IterableDiffers=function(){function IterableDiffers(factories){this.factories=factories}return IterableDiffers.create=function(factories,parent){if(null!=parent){var copied=parent.factories.slice();factories=factories.concat(copied)}return new IterableDiffers(factories)},IterableDiffers.extend=function(factories){return{provide:IterableDiffers,useFactory:function(parent){if(!parent)throw new Error("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new SkipSelf,new Optional]]}},IterableDiffers.prototype.find=function(iterable){var type,factory=this.factories.find(function(f){return f.supports(iterable)});if(null!=factory)return factory;throw new Error("Cannot find a differ supporting object '"+iterable+"' of type '"+((type=iterable).name||typeof type)+"'")},IterableDiffers.ngInjectableDef=defineInjectable({token:IterableDiffers,providedIn:"root",factory:function(){return new IterableDiffers([new DefaultIterableDifferFactory])}}),IterableDiffers}();exports.IterableDiffers=IterableDiffers;var KeyValueDiffers=function(){function KeyValueDiffers(factories){this.factories=factories}return KeyValueDiffers.create=function(factories,parent){if(parent){var copied=parent.factories.slice();factories=factories.concat(copied)}return new KeyValueDiffers(factories)},KeyValueDiffers.extend=function(factories){return{provide:KeyValueDiffers,useFactory:function(parent){if(!parent)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}},KeyValueDiffers.prototype.find=function(kv){var factory=this.factories.find(function(f){return f.supports(kv)});if(factory)return factory;throw new Error("Cannot find a differ supporting object '"+kv+"'")},KeyValueDiffers.ngInjectableDef=defineInjectable({token:KeyValueDiffers,providedIn:"root",factory:function(){return new KeyValueDiffers([new DefaultKeyValueDifferFactory])}}),KeyValueDiffers}();exports.KeyValueDiffers=KeyValueDiffers;var keyValDiff=[new DefaultKeyValueDifferFactory],defaultIterableDiffers=new IterableDiffers([new DefaultIterableDifferFactory]);exports.defaultIterableDiffers=defaultIterableDiffers;var defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff);exports.defaultKeyValueDiffers=defaultKeyValueDiffers;var TemplateRef=function(){function TemplateRef(){}return TemplateRef.__NG_ELEMENT_ID__=function(){return SWITCH_TEMPLATE_REF_FACTORY(TemplateRef,ElementRef)},TemplateRef}();exports.TemplateRef=TemplateRef;var SWITCH_TEMPLATE_REF_FACTORY__POST_R3__=function(TemplateRefToken,ElementRefToken){return createTemplateRef(TemplateRefToken,ElementRefToken,getPreviousOrParentTNode(),getLView())};exports.SWITCH_TEMPLATE_REF_FACTORY__POST_R3__=SWITCH_TEMPLATE_REF_FACTORY__POST_R3__;var SWITCH_TEMPLATE_REF_FACTORY=noop,ViewContainerRef=function(){function ViewContainerRef(){}return ViewContainerRef.__NG_ELEMENT_ID__=function(){return SWITCH_VIEW_CONTAINER_REF_FACTORY(ViewContainerRef,ElementRef)},ViewContainerRef}();exports.ViewContainerRef=ViewContainerRef;var SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__=function(ViewContainerRefToken,ElementRefToken){return createContainerRef(ViewContainerRefToken,ElementRefToken,getPreviousOrParentTNode(),getLView())};exports.SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__=SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__;var SWITCH_VIEW_CONTAINER_REF_FACTORY=noop;function expressionChangedAfterItHasBeenCheckedError(context,oldValue,currValue,isFirstCheck){var msg="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+oldValue+"'. Current value: '"+currValue+"'.";return isFirstCheck&&(msg+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(msg,context){var err=new Error(msg);return _addDebugContext(err,context),err}(msg,context)}function _addDebugContext(err,context){err[ERROR_DEBUG_CONTEXT]=context,err[ERROR_LOGGER]=context.logError.bind(context)}function viewDestroyedError(action){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+action)}function shiftInitState(view,priorInitState,newInitState){var state=view.state,initState=1792&state;return initState===priorInitState?(view.state=-1793&state|newInitState,view.initIndex=-1,!0):initState===newInitState}function shouldCallLifecycleInitHook(view,initState,index){return(1792&view.state)===initState&&view.initIndex<=index&&(view.initIndex=index+1,!0)}function asTextData(view,index){return view.nodes[index]}function asElementData(view,index){return view.nodes[index]}function asProviderData(view,index){return view.nodes[index]}function asPureExpressionData(view,index){return view.nodes[index]}function asQueryList(view,index){return view.nodes[index]}var DebugContext=function(){return function(){}}();exports.angular_packages_core_core_z=DebugContext;var Services={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},NOOP=function(){},_tokenKeyCache=new Map;function tokenKey(token){var key=_tokenKeyCache.get(token);return key||(key=stringify(token)+"_"+_tokenKeyCache.size,_tokenKeyCache.set(token,key)),key}var UNDEFINED_RENDERER_TYPE_ID="$$undefined",EMPTY_RENDERER_TYPE_ID="$$empty";var _renderCompCount$1=0;function checkBinding(view,def,bindingIdx,value){var oldValues=view.oldValues;return!(!(2&view.state)&&looseIdentical(oldValues[def.bindingIndex+bindingIdx],value))}function checkAndUpdateBinding(view,def,bindingIdx,value){return!!checkBinding(view,def,bindingIdx,value)&&(view.oldValues[def.bindingIndex+bindingIdx]=value,!0)}function checkBindingNoChanges(view,def,bindingIdx,value){var oldValue=view.oldValues[def.bindingIndex+bindingIdx];if(1&view.state||!devModeEqual$1(oldValue,value)){var bindingName=def.bindings[bindingIdx].name;throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,def.nodeIndex),bindingName+": "+oldValue,bindingName+": "+value,0!=(1&view.state))}}function markParentViewsForCheck(view){for(var currView=view;currView;)2&currView.def.flags&&(currView.state|=8),currView=currView.viewContainerParent||currView.parent}function markParentViewsForCheckProjectedViews(view,endView){for(var currView=view;currView&&currView!==endView;)currView.state|=64,currView=currView.viewContainerParent||currView.parent}function dispatchEvent(view,nodeIndex,eventName,event){try{return markParentViewsForCheck(33554432&view.def.nodes[nodeIndex].flags?asElementData(view,nodeIndex).componentView:view),Services.handleEvent(view,nodeIndex,eventName,event)}catch(e){view.root.errorHandler.handleError(e)}}function declaredViewContainer(view){return view.parent?asElementData(view.parent,view.parentNodeDef.nodeIndex):null}function viewParentEl(view){return view.parent?view.parentNodeDef.parent:null}function renderNode(view,def){switch(201347067&def.flags){case 1:return asElementData(view,def.nodeIndex).renderElement;case 2:return asTextData(view,def.nodeIndex).renderText}}function isComponentView(view){return!!view.parent&&!!(32768&view.parentNodeDef.flags)}function isEmbeddedView(view){return!(!view.parent||32768&view.parentNodeDef.flags)}function filterQueryId(queryId){return 1<<queryId%32}function splitMatchedQueriesDsl(matchedQueriesDsl){var matchedQueries={},matchedQueryIds=0,references={};return matchedQueriesDsl&&matchedQueriesDsl.forEach(function(_a){var _b=(0,_tslib.__read)(_a,2),queryId=_b[0],valueType=_b[1];"number"==typeof queryId?(matchedQueries[queryId]=valueType,matchedQueryIds|=filterQueryId(queryId)):references[queryId]=valueType}),{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}}function splitDepsDsl(deps,sourceName){return deps.map(function(value){var _a,token,flags;return Array.isArray(value)?(flags=(_a=(0,_tslib.__read)(value,2))[0],token=_a[1]):(flags=0,token=value),token&&("function"==typeof token||"object"==typeof token)&&sourceName&&Object.defineProperty(token,SOURCE,{value:sourceName,configurable:!0}),{flags:flags,token:token,tokenKey:tokenKey(token)}})}function getParentRenderElement(view,renderHost,def){var renderParent=def.renderParent;return renderParent?0==(1&renderParent.flags)||0==(33554432&renderParent.flags)||renderParent.element.componentRendererType&&renderParent.element.componentRendererType.encapsulation===ViewEncapsulation.Native?asElementData(view,def.renderParent.nodeIndex).renderElement:void 0:renderHost}var DEFINITION_CACHE=new WeakMap;function resolveDefinition(factory){var value=DEFINITION_CACHE.get(factory);return value||((value=factory(function(){return NOOP})).factory=factory,DEFINITION_CACHE.set(factory,value)),value}function visitRootRenderNodes(view,action,parentNode,nextSibling,target){3===action&&(parentNode=view.renderer.parentNode(renderNode(view,view.def.lastRenderRootNode))),visitSiblingRenderNodes(view,action,0,view.def.nodes.length-1,parentNode,nextSibling,target)}function visitSiblingRenderNodes(view,action,startIndex,endIndex,parentNode,nextSibling,target){for(var i=startIndex;i<=endIndex;i++){var nodeDef=view.def.nodes[i];11&nodeDef.flags&&visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}}function visitProjectedRenderNodes(view,ngContentIndex,action,parentNode,nextSibling,target){for(var compView=view;compView&&!isComponentView(compView);)compView=compView.parent;for(var hostView=compView.parent,hostElDef=viewParentEl(compView),startIndex=hostElDef.nodeIndex+1,endIndex=hostElDef.nodeIndex+hostElDef.childCount,i=startIndex;i<=endIndex;i++){var nodeDef=hostView.def.nodes[i];nodeDef.ngContentIndex===ngContentIndex&&visitRenderNode(hostView,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}if(!hostView.parent){var projectedNodes=view.root.projectableNodes[ngContentIndex];if(projectedNodes)for(i=0;i<projectedNodes.length;i++)execRenderNodeAction(view,projectedNodes[i],action,parentNode,nextSibling,target)}}function visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target){if(8&nodeDef.flags)visitProjectedRenderNodes(view,nodeDef.ngContent.index,action,parentNode,nextSibling,target);else{var rn=renderNode(view,nodeDef);if(3===action&&33554432&nodeDef.flags&&48&nodeDef.bindingFlags){if(16&nodeDef.bindingFlags&&execRenderNodeAction(view,rn,action,parentNode,nextSibling,target),32&nodeDef.bindingFlags)execRenderNodeAction(asElementData(view,nodeDef.nodeIndex).componentView,rn,action,parentNode,nextSibling,target)}else execRenderNodeAction(view,rn,action,parentNode,nextSibling,target);if(16777216&nodeDef.flags)for(var embeddedViews=asElementData(view,nodeDef.nodeIndex).viewContainer._embeddedViews,k=0;k<embeddedViews.length;k++)visitRootRenderNodes(embeddedViews[k],action,parentNode,nextSibling,target);1&nodeDef.flags&&!nodeDef.element.name&&visitSiblingRenderNodes(view,action,nodeDef.nodeIndex+1,nodeDef.nodeIndex+nodeDef.childCount,parentNode,nextSibling,target)}}function execRenderNodeAction(view,renderNode,action,parentNode,nextSibling,target){var renderer=view.renderer;switch(action){case 1:renderer.appendChild(parentNode,renderNode);break;case 2:renderer.insertBefore(parentNode,renderNode,nextSibling);break;case 3:renderer.removeChild(parentNode,renderNode);break;case 0:target.push(renderNode)}}var NS_PREFIX_RE=/^:([^:]+):(.+)$/;function splitNamespace(name){if(":"===name[0]){var match=name.match(NS_PREFIX_RE);return[match[1],match[2]]}return["",name]}function calcBindingFlags(bindings){for(var flags=0,i=0;i<bindings.length;i++)flags|=bindings[i].flags;return flags}function _toStringWithNull(v){return null!=v?v.toString():""}exports.EMPTY_ARRAY=[];exports.EMPTY_MAP={};var UNDEFINED_VALUE=new Object,InjectorRefTokenKey=tokenKey(Injector),INJECTORRefTokenKey=tokenKey(INJECTOR),NgModuleRefTokenKey=tokenKey(NgModuleRef);function resolveNgModuleDep(data,depDef,notFoundValue){void 0===notFoundValue&&(notFoundValue=Injector.THROW_IF_NOT_FOUND);var ngModule,def,former=setCurrentInjector(data);try{if(8&depDef.flags)return depDef.token;if(2&depDef.flags&&(notFoundValue=null),1&depDef.flags)return data._parent.get(depDef.token,notFoundValue);var tokenKey_1=depDef.tokenKey;switch(tokenKey_1){case InjectorRefTokenKey:case INJECTORRefTokenKey:case NgModuleRefTokenKey:return data}var providerDef=data._def.providersByKey[tokenKey_1],injectableDef=void 0;if(providerDef){var providerInstance=data._providers[providerDef.index];return void 0===providerInstance&&(providerInstance=data._providers[providerDef.index]=_createProviderInstance(data,providerDef)),providerInstance===UNDEFINED_VALUE?void 0:providerInstance}if((injectableDef=getInjectableDef(depDef.token))&&(ngModule=data,null!=(def=injectableDef).providedIn&&(function(ngModule,scope){return ngModule._def.modules.indexOf(scope)>-1}(ngModule,def.providedIn)||"root"===def.providedIn&&ngModule._def.isRoot))){var index=data._providers.length;return data._def.providers[index]=data._def.providersByKey[depDef.tokenKey]={flags:5120,value:injectableDef.factory,deps:[],index:index,token:depDef.token},data._providers[index]=UNDEFINED_VALUE,data._providers[index]=_createProviderInstance(data,data._def.providersByKey[depDef.tokenKey])}return 4&depDef.flags?notFoundValue:data._parent.get(depDef.token,notFoundValue)}finally{setCurrentInjector(former)}}function _createProviderInstance(ngModule,providerDef){var injectable;switch(201347067&providerDef.flags){case 512:injectable=function(ngModule,ctor,deps){var len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveNgModuleDep(ngModule,deps[0]));case 2:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:for(var depValues=new Array(len),i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return new(ctor.bind.apply(ctor,(0,_tslib.__spread)([void 0],depValues)))}}(ngModule,providerDef.value,providerDef.deps);break;case 1024:injectable=function(ngModule,factory,deps){var len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveNgModuleDep(ngModule,deps[0]));case 2:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:for(var depValues=Array(len),i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return factory.apply(void 0,(0,_tslib.__spread)(depValues))}}(ngModule,providerDef.value,providerDef.deps);break;case 2048:injectable=resolveNgModuleDep(ngModule,providerDef.deps[0]);break;case 256:injectable=providerDef.value}return injectable===UNDEFINED_VALUE||null===injectable||"object"!=typeof injectable||131072&providerDef.flags||"function"!=typeof injectable.ngOnDestroy||(providerDef.flags|=131072),void 0===injectable?UNDEFINED_VALUE:injectable}function attachEmbeddedView(parentView,elementData,viewIndex,view){var embeddedViews=elementData.viewContainer._embeddedViews;null!==viewIndex&&void 0!==viewIndex||(viewIndex=embeddedViews.length),view.viewContainerParent=parentView,addToArray(embeddedViews,viewIndex,view),function(vcElementData,view){var dvcElementData=declaredViewContainer(view);if(!dvcElementData||dvcElementData===vcElementData||16&view.state)return;view.state|=16;var projectedViews=dvcElementData.template._projectedViews;projectedViews||(projectedViews=dvcElementData.template._projectedViews=[]);projectedViews.push(view),function(viewDef,nodeDef){if(4&nodeDef.flags)return;viewDef.nodeFlags|=4,nodeDef.flags|=4;var parentNodeDef=nodeDef.parent;for(;parentNodeDef;)parentNodeDef.childFlags|=4,parentNodeDef=parentNodeDef.parent}(view.parent.def,view.parentNodeDef)}(elementData,view),Services.dirtyParentQueries(view),renderAttachEmbeddedView(elementData,viewIndex>0?embeddedViews[viewIndex-1]:null,view)}function detachEmbeddedView(elementData,viewIndex){var embeddedViews=elementData.viewContainer._embeddedViews;if((null==viewIndex||viewIndex>=embeddedViews.length)&&(viewIndex=embeddedViews.length-1),viewIndex<0)return null;var view=embeddedViews[viewIndex];return view.viewContainerParent=null,removeFromArray(embeddedViews,viewIndex),Services.dirtyParentQueries(view),renderDetachView$1(view),view}function renderAttachEmbeddedView(elementData,prevView,view){var prevRenderNode=prevView?renderNode(prevView,prevView.def.lastRenderRootNode):elementData.renderElement;visitRootRenderNodes(view,2,view.renderer.parentNode(prevRenderNode),view.renderer.nextSibling(prevRenderNode),void 0)}function renderDetachView$1(view){visitRootRenderNodes(view,3,null,null,void 0)}var EMPTY_CONTEXT=new Object;function getComponentViewDefinitionFactory(componentFactory){return componentFactory.viewDefFactory}var ComponentFactory_=function(_super){function ComponentFactory_(selector,componentType,viewDefFactory,_inputs,_outputs,ngContentSelectors){var _this=_super.call(this)||this;return _this.selector=selector,_this.componentType=componentType,_this._inputs=_inputs,_this._outputs=_outputs,_this.ngContentSelectors=ngContentSelectors,_this.viewDefFactory=viewDefFactory,_this}return(0,_tslib.__extends)(ComponentFactory_,_super),Object.defineProperty(ComponentFactory_.prototype,"inputs",{get:function(){var inputsArr=[],inputs=this._inputs;for(var propName in inputs){var templateName=inputs[propName];inputsArr.push({propName:propName,templateName:templateName})}return inputsArr},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentFactory_.prototype,"outputs",{get:function(){var outputsArr=[];for(var propName in this._outputs){var templateName=this._outputs[propName];outputsArr.push({propName:propName,templateName:templateName})}return outputsArr},enumerable:!0,configurable:!0}),ComponentFactory_.prototype.create=function(injector,projectableNodes,rootSelectorOrNode,ngModule){if(!ngModule)throw new Error("ngModule should be provided");var viewDef=resolveDefinition(this.viewDefFactory),componentNodeIndex=viewDef.nodes[0].element.componentProvider.nodeIndex,view=Services.createRootView(injector,projectableNodes||[],rootSelectorOrNode,viewDef,ngModule,EMPTY_CONTEXT),component=asProviderData(view,componentNodeIndex).instance;return rootSelectorOrNode&&view.renderer.setAttribute(asElementData(view,0).renderElement,"ng-version",VERSION.full),new ComponentRef_(view,new ViewRef_(view),component)},ComponentFactory_}(ComponentFactory),ComponentRef_=function(_super){function ComponentRef_(_view,_viewRef,_component){var _this=_super.call(this)||this;return _this._view=_view,_this._viewRef=_viewRef,_this._component=_component,_this._elDef=_this._view.def.nodes[0],_this.hostView=_viewRef,_this.changeDetectorRef=_viewRef,_this.instance=_component,_this}return(0,_tslib.__extends)(ComponentRef_,_super),Object.defineProperty(ComponentRef_.prototype,"location",{get:function(){return new ElementRef(asElementData(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"injector",{get:function(){return new Injector_(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),ComponentRef_.prototype.destroy=function(){this._viewRef.destroy()},ComponentRef_.prototype.onDestroy=function(callback){this._viewRef.onDestroy(callback)},ComponentRef_}(ComponentRef);function createViewContainerData(view,elDef,elData){return new ViewContainerRef_(view,elDef,elData)}var ViewContainerRef_=function(){function ViewContainerRef_(_view,_elDef,_data){this._view=_view,this._elDef=_elDef,this._data=_data,this._embeddedViews=[]}return Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return new ElementRef(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"injector",{get:function(){return new Injector_(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"parentInjector",{get:function(){for(var view=this._view,elDef=this._elDef.parent;!elDef&&view;)elDef=viewParentEl(view),view=view.parent;return view?new Injector_(view,elDef):new Injector_(this._view,null)},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.clear=function(){for(var i=this._embeddedViews.length-1;i>=0;i--){var view=detachEmbeddedView(this._data,i);Services.destroyView(view)}},ViewContainerRef_.prototype.get=function(index){var view=this._embeddedViews[index];if(view){var ref=new ViewRef_(view);return ref.attachToViewContainerRef(this),ref}return null},Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.createEmbeddedView=function(templateRef,context,index){var viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef},ViewContainerRef_.prototype.createComponent=function(componentFactory,index,injector,projectableNodes,ngModuleRef){var contextInjector=injector||this.parentInjector;ngModuleRef||componentFactory instanceof ComponentFactoryBoundToModule||(ngModuleRef=contextInjector.get(NgModuleRef));var componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef},ViewContainerRef_.prototype.insert=function(viewRef,index){if(viewRef.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var viewRef_=viewRef,viewData=viewRef_._view;return attachEmbeddedView(this._view,this._data,index,viewData),viewRef_.attachToViewContainerRef(this),viewRef},ViewContainerRef_.prototype.move=function(viewRef,currentIndex){if(viewRef.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var elementData,oldViewIndex,newViewIndex,embeddedViews,view,previousIndex=this._embeddedViews.indexOf(viewRef._view);return elementData=this._data,oldViewIndex=previousIndex,newViewIndex=currentIndex,embeddedViews=elementData.viewContainer._embeddedViews,view=embeddedViews[oldViewIndex],removeFromArray(embeddedViews,oldViewIndex),null==newViewIndex&&(newViewIndex=embeddedViews.length),addToArray(embeddedViews,newViewIndex,view),Services.dirtyParentQueries(view),renderDetachView$1(view),renderAttachEmbeddedView(elementData,newViewIndex>0?embeddedViews[newViewIndex-1]:null,view),viewRef},ViewContainerRef_.prototype.indexOf=function(viewRef){return this._embeddedViews.indexOf(viewRef._view)},ViewContainerRef_.prototype.remove=function(index){var viewData=detachEmbeddedView(this._data,index);viewData&&Services.destroyView(viewData)},ViewContainerRef_.prototype.detach=function(index){var view=detachEmbeddedView(this._data,index);return view?new ViewRef_(view):null},ViewContainerRef_}();function createChangeDetectorRef(view){return new ViewRef_(view)}var ViewRef_=function(){function ViewRef_(_view){this._view=_view,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return visitRootRenderNodes(this._view,0,void 0,void 0,renderNodes=[]),renderNodes;var renderNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),ViewRef_.prototype.markForCheck=function(){markParentViewsForCheck(this._view)},ViewRef_.prototype.detach=function(){this._view.state&=-5},ViewRef_.prototype.detectChanges=function(){var fs=this._view.root.rendererFactory;fs.begin&&fs.begin();try{Services.checkAndUpdateView(this._view)}finally{fs.end&&fs.end()}},ViewRef_.prototype.checkNoChanges=function(){Services.checkNoChangesView(this._view)},ViewRef_.prototype.reattach=function(){this._view.state|=4},ViewRef_.prototype.onDestroy=function(callback){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(callback)},ViewRef_.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Services.destroyView(this._view)},ViewRef_.prototype.detachFromAppRef=function(){this._appRef=null,renderDetachView$1(this._view),Services.dirtyParentQueries(this._view)},ViewRef_.prototype.attachToAppRef=function(appRef){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=appRef},ViewRef_.prototype.attachToViewContainerRef=function(vcRef){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=vcRef},ViewRef_}();function createTemplateData(view,def){return new TemplateRef_(view,def)}var TemplateRef_=function(_super){function TemplateRef_(_parentView,_def){var _this=_super.call(this)||this;return _this._parentView=_parentView,_this._def=_def,_this}return(0,_tslib.__extends)(TemplateRef_,_super),TemplateRef_.prototype.createEmbeddedView=function(context){return new ViewRef_(Services.createEmbeddedView(this._parentView,this._def,this._def.element.template,context))},Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return new ElementRef(asElementData(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),TemplateRef_}(TemplateRef);function createInjector$1(view,elDef){return new Injector_(view,elDef)}var Injector_=function(){function Injector_(view,elDef){this.view=view,this.elDef=elDef}return Injector_.prototype.get=function(token,notFoundValue){void 0===notFoundValue&&(notFoundValue=Injector.THROW_IF_NOT_FOUND);var allowPrivateServices=!!this.elDef&&0!=(33554432&this.elDef.flags);return Services.resolveDep(this.view,this.elDef,allowPrivateServices,{flags:0,token:token,tokenKey:tokenKey(token)},notFoundValue)},Injector_}();function createRendererV1(view){return new RendererAdapter(view.renderer)}var RendererAdapter=function(){function RendererAdapter(delegate){this.delegate=delegate}return RendererAdapter.prototype.selectRootElement=function(selectorOrNode){return this.delegate.selectRootElement(selectorOrNode)},RendererAdapter.prototype.createElement=function(parent,namespaceAndName){var _a=(0,_tslib.__read)(splitNamespace(namespaceAndName),2),ns=_a[0],name=_a[1],el=this.delegate.createElement(name,ns);return parent&&this.delegate.appendChild(parent,el),el},RendererAdapter.prototype.createViewRoot=function(hostElement){return hostElement},RendererAdapter.prototype.createTemplateAnchor=function(parentElement){var comment=this.delegate.createComment("");return parentElement&&this.delegate.appendChild(parentElement,comment),comment},RendererAdapter.prototype.createText=function(parentElement,value){var node=this.delegate.createText(value);return parentElement&&this.delegate.appendChild(parentElement,node),node},RendererAdapter.prototype.projectNodes=function(parentElement,nodes){for(var i=0;i<nodes.length;i++)this.delegate.appendChild(parentElement,nodes[i])},RendererAdapter.prototype.attachViewAfter=function(node,viewRootNodes){for(var parentElement=this.delegate.parentNode(node),nextSibling=this.delegate.nextSibling(node),i=0;i<viewRootNodes.length;i++)this.delegate.insertBefore(parentElement,viewRootNodes[i],nextSibling)},RendererAdapter.prototype.detachView=function(viewRootNodes){for(var i=0;i<viewRootNodes.length;i++){var node=viewRootNodes[i],parentElement=this.delegate.parentNode(node);this.delegate.removeChild(parentElement,node)}},RendererAdapter.prototype.destroyView=function(hostElement,viewAllNodes){for(var i=0;i<viewAllNodes.length;i++)this.delegate.destroyNode(viewAllNodes[i])},RendererAdapter.prototype.listen=function(renderElement,name,callback){return this.delegate.listen(renderElement,name,callback)},RendererAdapter.prototype.listenGlobal=function(target,name,callback){return this.delegate.listen(target,name,callback)},RendererAdapter.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){this.delegate.setProperty(renderElement,propertyName,propertyValue)},RendererAdapter.prototype.setElementAttribute=function(renderElement,namespaceAndName,attributeValue){var _a=(0,_tslib.__read)(splitNamespace(namespaceAndName),2),ns=_a[0],name=_a[1];null!=attributeValue?this.delegate.setAttribute(renderElement,name,attributeValue,ns):this.delegate.removeAttribute(renderElement,name,ns)},RendererAdapter.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){},RendererAdapter.prototype.setElementClass=function(renderElement,className,isAdd){isAdd?this.delegate.addClass(renderElement,className):this.delegate.removeClass(renderElement,className)},RendererAdapter.prototype.setElementStyle=function(renderElement,styleName,styleValue){null!=styleValue?this.delegate.setStyle(renderElement,styleName,styleValue):this.delegate.removeStyle(renderElement,styleName)},RendererAdapter.prototype.invokeElementMethod=function(renderElement,methodName,args){renderElement[methodName].apply(renderElement,args)},RendererAdapter.prototype.setText=function(renderNode,text){this.delegate.setValue(renderNode,text)},RendererAdapter.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},RendererAdapter}();function createNgModuleRef(moduleType,parent,bootstrapComponents,def){return new NgModuleRef_(moduleType,parent,bootstrapComponents,def)}var NgModuleRef_=function(){function NgModuleRef_(_moduleType,_parent,_bootstrapComponents,_def){this._moduleType=_moduleType,this._parent=_parent,this._bootstrapComponents=_bootstrapComponents,this._def=_def,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(data){for(var def=data._def,providers=data._providers=new Array(def.providers.length),i=0;i<def.providers.length;i++){var provDef=def.providers[i];4096&provDef.flags||void 0===providers[i]&&(providers[i]=_createProviderInstance(data,provDef))}}(this)}return NgModuleRef_.prototype.get=function(token,notFoundValue,injectFlags){void 0===notFoundValue&&(notFoundValue=Injector.THROW_IF_NOT_FOUND),void 0===injectFlags&&(injectFlags=InjectFlags.Default);var flags=0;return injectFlags&InjectFlags.SkipSelf?flags|=1:injectFlags&InjectFlags.Self&&(flags|=4),resolveNgModuleDep(this,{token:token,tokenKey:tokenKey(token),flags:flags},notFoundValue)},Object.defineProperty(NgModuleRef_.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(NgModuleRef_.prototype,"componentFactoryResolver",{get:function(){return this.get(ComponentFactoryResolver)},enumerable:!0,configurable:!0}),NgModuleRef_.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+stringify(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(ngModule,lifecycles){for(var def=ngModule._def,destroyed=new Set,i=0;i<def.providers.length;i++)if(131072&def.providers[i].flags){var instance=ngModule._providers[i];if(instance&&instance!==UNDEFINED_VALUE){var onDestroy=instance.ngOnDestroy;"function"!=typeof onDestroy||destroyed.has(instance)||(onDestroy.apply(instance),destroyed.add(instance))}}}(this),this._destroyListeners.forEach(function(listener){return listener()})},NgModuleRef_.prototype.onDestroy=function(callback){this._destroyListeners.push(callback)},NgModuleRef_}(),RendererV1TokenKey=tokenKey(Renderer),Renderer2TokenKey=tokenKey(Renderer2),ElementRefTokenKey=tokenKey(ElementRef),ViewContainerRefTokenKey=tokenKey(ViewContainerRef),TemplateRefTokenKey=tokenKey(TemplateRef),ChangeDetectorRefTokenKey=tokenKey(ChangeDetectorRef),InjectorRefTokenKey$1=tokenKey(Injector),INJECTORRefTokenKey$1=tokenKey(INJECTOR);function _def(checkIndex,flags,matchedQueriesDsl,childCount,token,value,deps,bindings,outputs){var _a=splitMatchedQueriesDsl(matchedQueriesDsl),matchedQueries=_a.matchedQueries,references=_a.references,matchedQueryIds=_a.matchedQueryIds;outputs||(outputs=[]),bindings||(bindings=[]),value=resolveForwardRef(value);var depDefs=splitDepsDsl(deps,stringify(token));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:-1,childCount:childCount,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:outputs,element:null,provider:{token:token,value:value,deps:depDefs},text:null,query:null,ngContent:null}}function createProviderInstance(view,def){return _createProviderInstance$1(view,def)}function createPipeInstance(view,def){for(var compView=view;compView.parent&&!isComponentView(compView);)compView=compView.parent;return createClass(compView.parent,viewParentEl(compView),!0,def.provider.value,def.provider.deps)}function createDirectiveInstance(view,def){var allowPrivateServices=(32768&def.flags)>0,instance=createClass(view,def.parent,allowPrivateServices,def.provider.value,def.provider.deps);if(def.outputs.length)for(var i=0;i<def.outputs.length;i++){var output=def.outputs[i],outputObservable=instance[output.propName];if(!isObservable(outputObservable))throw new Error("@Output "+output.propName+" not initialized in '"+instance.constructor.name+"'.");var subscription=outputObservable.subscribe(eventHandlerClosure(view,def.parent.nodeIndex,output.eventName));view.disposables[def.outputIndex+i]=subscription.unsubscribe.bind(subscription)}return instance}function eventHandlerClosure(view,index,eventName){return function(event){return dispatchEvent(view,index,eventName,event)}}function _createProviderInstance$1(view,def){var allowPrivateServices=(8192&def.flags)>0,providerDef=def.provider;switch(201347067&def.flags){case 512:return createClass(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 1024:return function(view,elDef,allowPrivateServices,factory,deps){var len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:for(var depValues=Array(len),i=0;i<len;i++)depValues[i]=resolveDep(view,elDef,allowPrivateServices,deps[i]);return factory.apply(void 0,(0,_tslib.__spread)(depValues))}}(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 2048:return resolveDep(view,def.parent,allowPrivateServices,providerDef.deps[0]);case 256:return providerDef.value}}function createClass(view,elDef,allowPrivateServices,ctor,deps){var len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:for(var depValues=new Array(len),i=0;i<len;i++)depValues[i]=resolveDep(view,elDef,allowPrivateServices,deps[i]);return new(ctor.bind.apply(ctor,(0,_tslib.__spread)([void 0],depValues)))}}var NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR={};function resolveDep(view,elDef,allowPrivateServices,depDef,notFoundValue){if(void 0===notFoundValue&&(notFoundValue=Injector.THROW_IF_NOT_FOUND),8&depDef.flags)return depDef.token;var startView=view;2&depDef.flags&&(notFoundValue=null);var tokenKey=depDef.tokenKey;tokenKey===ChangeDetectorRefTokenKey&&(allowPrivateServices=!(!elDef||!elDef.element.componentView)),elDef&&1&depDef.flags&&(allowPrivateServices=!1,elDef=elDef.parent);for(var searchView=view;searchView;){if(elDef)switch(tokenKey){case RendererV1TokenKey:return createRendererV1(findCompView(searchView,elDef,allowPrivateServices));case Renderer2TokenKey:return findCompView(searchView,elDef,allowPrivateServices).renderer;case ElementRefTokenKey:return new ElementRef(asElementData(searchView,elDef.nodeIndex).renderElement);case ViewContainerRefTokenKey:return asElementData(searchView,elDef.nodeIndex).viewContainer;case TemplateRefTokenKey:if(elDef.element.template)return asElementData(searchView,elDef.nodeIndex).template;break;case ChangeDetectorRefTokenKey:return createChangeDetectorRef(findCompView(searchView,elDef,allowPrivateServices));case InjectorRefTokenKey$1:case INJECTORRefTokenKey$1:return createInjector$1(searchView,elDef);default:var providerDef_1=(allowPrivateServices?elDef.element.allProviders:elDef.element.publicProviders)[tokenKey];if(providerDef_1){var providerData=asProviderData(searchView,providerDef_1.nodeIndex);return providerData||(providerData={instance:_createProviderInstance$1(searchView,providerDef_1)},searchView.nodes[providerDef_1.nodeIndex]=providerData),providerData.instance}}allowPrivateServices=isComponentView(searchView),elDef=viewParentEl(searchView),searchView=searchView.parent,4&depDef.flags&&(searchView=null)}var value=startView.root.injector.get(depDef.token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:startView.root.ngModule.injector.get(depDef.token,notFoundValue)}function findCompView(view,elDef,allowPrivateServices){var compView;if(allowPrivateServices)compView=asElementData(view,elDef.nodeIndex).componentView;else for(compView=view;compView.parent&&!isComponentView(compView);)compView=compView.parent;return compView}function updateProp(view,providerData,def,bindingIdx,value,changes){if(32768&def.flags){var compView=asElementData(view,def.parent.nodeIndex).componentView;2&compView.def.flags&&(compView.state|=8)}var propName=def.bindings[bindingIdx].name;if(providerData.instance[propName]=value,524288&def.flags){changes=changes||{};var oldValue=WrappedValue.unwrap(view.oldValues[def.bindingIndex+bindingIdx]);changes[def.bindings[bindingIdx].nonMinifiedName]=new SimpleChange(oldValue,value,0!=(2&view.state))}return view.oldValues[def.bindingIndex+bindingIdx]=value,changes}function callLifecycleHooksChildrenFirst(view,lifecycles){if(view.def.nodeFlags&lifecycles)for(var nodes=view.def.nodes,initIndex=0,i=0;i<nodes.length;i++){var nodeDef=nodes[i],parent_1=nodeDef.parent;for(!parent_1&&nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),0==(nodeDef.childFlags&lifecycles)&&(i+=nodeDef.childCount);parent_1&&1&parent_1.flags&&i===parent_1.nodeIndex+parent_1.childCount;)parent_1.directChildFlags&lifecycles&&(initIndex=callElementProvidersLifecycles(view,parent_1,lifecycles,initIndex)),parent_1=parent_1.parent}}function callElementProvidersLifecycles(view,elDef,lifecycles,initIndex){for(var i=elDef.nodeIndex+1;i<=elDef.nodeIndex+elDef.childCount;i++){var nodeDef=view.def.nodes[i];nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),i+=nodeDef.childCount}return initIndex}function callProviderLifecycles(view,index,lifecycles,initIndex){var providerData=asProviderData(view,index);if(providerData){var provider=providerData.instance;provider&&(Services.setCurrentNode(view,index),1048576&lifecycles&&shouldCallLifecycleInitHook(view,512,initIndex)&&provider.ngAfterContentInit(),2097152&lifecycles&&provider.ngAfterContentChecked(),4194304&lifecycles&&shouldCallLifecycleInitHook(view,768,initIndex)&&provider.ngAfterViewInit(),8388608&lifecycles&&provider.ngAfterViewChecked(),131072&lifecycles&&provider.ngOnDestroy())}}exports.NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR=NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR;var ComponentFactoryResolver$1=function(_super){function ComponentFactoryResolver(ngModule){var _this=_super.call(this)||this;return _this.ngModule=ngModule,_this}return(0,_tslib.__extends)(ComponentFactoryResolver,_super),ComponentFactoryResolver.prototype.resolveComponentFactory=function(component){ngDevMode&&assertComponentType(component);var componentDef=getComponentDef(component);return new ComponentFactory$1(componentDef,this.ngModule)},ComponentFactoryResolver}(ComponentFactoryResolver);function toRefArray(map){var array=[];for(var nonMinified in map)if(map.hasOwnProperty(nonMinified)){var minified=map[nonMinified];array.push({propName:minified,templateName:nonMinified})}return array}var SCHEDULER=new InjectionToken("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return defaultScheduler}});exports.angular_packages_core_core_ba=SCHEDULER;var ComponentFactory$1=function(_super){function ComponentFactory(componentDef,ngModule){var _this=_super.call(this)||this;return _this.componentDef=componentDef,_this.ngModule=ngModule,_this.componentType=componentDef.type,_this.selector=componentDef.selectors[0][0]||"div",_this.ngContentSelectors=componentDef.ngContentSelectors?componentDef.ngContentSelectors:[],_this.isBoundToModule=!!ngModule,_this}return(0,_tslib.__extends)(ComponentFactory,_super),Object.defineProperty(ComponentFactory.prototype,"inputs",{get:function(){return toRefArray(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentFactory.prototype,"outputs",{get:function(){return toRefArray(this.componentDef.outputs)},enumerable:!0,configurable:!0}),ComponentFactory.prototype.create=function(injector,projectableNodes,rootSelectorOrNode,ngModule){var rootViewInjector=(ngModule=ngModule||this.ngModule)?function(rootViewInjector,moduleInjector){return{get:function(token,notFoundValue,flags){var value=rootViewInjector.get(token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR,flags);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:moduleInjector.get(token,notFoundValue,flags)}}}(injector,ngModule.injector):injector,rendererFactory=rootViewInjector.get(RendererFactory2,domRendererFactory3),sanitizer=rootViewInjector.get(Sanitizer,null);namespaceHTMLInternal();var hostRNode=rootSelectorOrNode?locateHostElement(rendererFactory,rootSelectorOrNode):elementCreate(this.selector,rendererFactory.createRenderer(null,this.componentDef)),rootFlags=this.componentDef.onPush?576:528,isIsolated="string"==typeof rootSelectorOrNode&&/^#root-ng-internal-isolated-\d+/.test(rootSelectorOrNode),rootContext=createRootContext(),renderer=rendererFactory.createRenderer(hostRNode,this.componentDef);rootSelectorOrNode&&hostRNode&&(ngDevMode&&ngDevMode.rendererSetAttribute++,isProceduralRenderer(renderer)?renderer.setAttribute(hostRNode,"ng-version",VERSION.full):hostRNode.setAttribute("ng-version",VERSION.full));var component,tElementNode,rootLView=createLView(null,createTView(-1,null,1,0,null,null,null,null),rootContext,rootFlags,null,null,rendererFactory,renderer,sanitizer,rootViewInjector),oldLView=enterView(rootLView,null),safeToRunHooks=!1;try{var componentView=createRootComponentView(hostRNode,this.componentDef,rootLView,rendererFactory,renderer);tElementNode=getTNode(0,rootLView),projectableNodes&&(tElementNode.projection=projectableNodes.map(function(nodesforSlot){return Array.from(nodesforSlot)})),component=createRootComponent(componentView,this.componentDef,rootLView,rootContext,[LifecycleHooksFeature]),addToViewTree(rootLView,componentView),refreshDescendantViews(rootLView),safeToRunHooks=!0}finally{leaveView(oldLView,safeToRunHooks)}var componentRef=new ComponentRef$1(this.componentType,component,createElementRef(ElementRef,tElementNode,rootLView),rootLView,tElementNode);return rootSelectorOrNode&&!isIsolated||(componentRef.hostView._tViewNode.child=tElementNode),componentRef},ComponentFactory}(ComponentFactory);exports.Render3ComponentFactory=ComponentFactory$1;new ComponentFactoryResolver$1;var ComponentRef$1=function(_super){function ComponentRef(componentType,instance,location,_rootLView,_tNode){var _this=_super.call(this)||this;return _this.location=location,_this._rootLView=_rootLView,_this._tNode=_tNode,_this.destroyCbs=[],_this.instance=instance,_this.hostView=_this.changeDetectorRef=new RootViewRef(_rootLView),_this.hostView._tViewNode=assignTViewNodeToLView(_rootLView[TVIEW],null,-1,_rootLView),_this.componentType=componentType,_this}return(0,_tslib.__extends)(ComponentRef,_super),Object.defineProperty(ComponentRef.prototype,"injector",{get:function(){return new NodeInjector(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),ComponentRef.prototype.destroy=function(){this.destroyCbs&&(this.destroyCbs.forEach(function(fn){return fn()}),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())},ComponentRef.prototype.onDestroy=function(callback){this.destroyCbs&&this.destroyCbs.push(callback)},ComponentRef}(ComponentRef);exports.Render3ComponentRef=ComponentRef$1,"undefined"==typeof ngI18nClosureMode&&(_global.ngI18nClosureMode="undefined"!=typeof goog&&"function"==typeof goog.getMsg);var LocaleDataIndex,LOCALE_DATA={};exports.LOCALE_DATA=LOCALE_DATA,exports.LocaleDataIndex=LocaleDataIndex,function(LocaleDataIndex){LocaleDataIndex[LocaleDataIndex.LocaleId=0]="LocaleId",LocaleDataIndex[LocaleDataIndex.DayPeriodsFormat=1]="DayPeriodsFormat",LocaleDataIndex[LocaleDataIndex.DayPeriodsStandalone=2]="DayPeriodsStandalone",LocaleDataIndex[LocaleDataIndex.DaysFormat=3]="DaysFormat",LocaleDataIndex[LocaleDataIndex.DaysStandalone=4]="DaysStandalone",LocaleDataIndex[LocaleDataIndex.MonthsFormat=5]="MonthsFormat",LocaleDataIndex[LocaleDataIndex.MonthsStandalone=6]="MonthsStandalone",LocaleDataIndex[LocaleDataIndex.Eras=7]="Eras",LocaleDataIndex[LocaleDataIndex.FirstDayOfWeek=8]="FirstDayOfWeek",LocaleDataIndex[LocaleDataIndex.WeekendRange=9]="WeekendRange",LocaleDataIndex[LocaleDataIndex.DateFormat=10]="DateFormat",LocaleDataIndex[LocaleDataIndex.TimeFormat=11]="TimeFormat",LocaleDataIndex[LocaleDataIndex.DateTimeFormat=12]="DateTimeFormat",LocaleDataIndex[LocaleDataIndex.NumberSymbols=13]="NumberSymbols",LocaleDataIndex[LocaleDataIndex.NumberFormats=14]="NumberFormats",LocaleDataIndex[LocaleDataIndex.CurrencySymbol=15]="CurrencySymbol",LocaleDataIndex[LocaleDataIndex.CurrencyName=16]="CurrencyName",LocaleDataIndex[LocaleDataIndex.Currencies=17]="Currencies",LocaleDataIndex[LocaleDataIndex.PluralCase=18]="PluralCase",LocaleDataIndex[LocaleDataIndex.ExtraData=19]="ExtraData"}(LocaleDataIndex||(exports.LocaleDataIndex=LocaleDataIndex={}));var u=void 0;var localeEn=["en",[["a","p"],["AM","PM"],u],[["AM","PM"],u,u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u,"{1} 'at' {0}",u],[".",",",";","%","+","-","E","","","","NaN",":"],["#,##0.###","#,##0%","#,##0.00","#E0"],"$","US Dollar",{},function(n){var i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===v?1:5}];function getLocalePluralCase(locale){return findLocaleData(locale)[LocaleDataIndex.PluralCase]}function findLocaleData(locale){var normalizedLocale=locale.toLowerCase().replace(/_/g,"-"),match=LOCALE_DATA[normalizedLocale];if(match)return match;var parentLocale=normalizedLocale.split("-")[0];if(match=LOCALE_DATA[parentLocale])return match;if("en"===parentLocale)return localeEn;throw new Error('Missing locale data for the locale "'+locale+'".')}var DEFAULT_LOCALE_ID="en-US";exports.DEFAULT_LOCALE_ID=DEFAULT_LOCALE_ID;var MARKER="",ICU_BLOCK_REGEXP=/^\s*(\d+:?\d*)\s*,\s*(select|plural)\s*,/,SUBTEMPLATE_REGEXP=/\/?\*(\d+:\d+)/gi,PH_REGEXP=/(\/?[#*!]\d+):?\d*/gi,BINDING_REGEXP=/(\d+):?\d*/gi,ICU_REGEXP=/({\s*\d+:?\d*\s*,\s*\S{6}\s*,[\s\S]*})/gi,ROOT_TEMPLATE_ID=0,PP_MULTI_VALUE_PLACEHOLDERS_REGEXP=/\[(.+??)\]/,PP_PLACEHOLDERS_REGEXP=/\[(.+??)\]|(\/?\*\d+:\d+)/g,PP_ICU_VARS_REGEXP=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,PP_ICU_PLACEHOLDERS_REGEXP=/{([A-Z0-9_]+)}/g,PP_ICUS_REGEXP=/I18N_EXP_(ICU(_\d+)?)/g,PP_CLOSE_TEMPLATE_REGEXP=/\/\*/,PP_TEMPLATE_ID_REGEXP=/\d+\:(\d+)/;function extractParts(pattern){if(!pattern)return[];var match,prevPos=0,braceStack=[],results=[],braces=/[{}]/g;for(braces.lastIndex=0;match=braces.exec(pattern);){var pos=match.index;if("}"==match[0]){if(braceStack.pop(),0==braceStack.length){var block=pattern.substring(prevPos,pos);ICU_BLOCK_REGEXP.test(block)?results.push(parseICUBlock(block)):results.push(block),prevPos=pos+1}}else{if(0==braceStack.length){var substring_1=pattern.substring(prevPos,pos);results.push(substring_1),prevPos=pos+1}braceStack.push("{")}}var substring=pattern.substring(prevPos);return results.push(substring),results}function parseICUBlock(pattern){for(var cases=[],values=[],icuType=1,mainBinding=0,parts=extractParts(pattern=pattern.replace(ICU_BLOCK_REGEXP,function(str,binding,type){return icuType="select"===type?0:1,mainBinding=parseInt(binding.substr(1),10),""})),pos=0;pos<parts.length;){var key=parts[pos++].trim();1===icuType&&(key=key.replace(/\s*(?:=)?(\w+)\s*/,"$1")),key.length&&cases.push(key);var blocks=extractParts(parts[pos++]);cases.length>values.length&&values.push(blocks)}return assertGreaterThan(cases.indexOf("other"),-1,'Missing key "other" in ICU statement.'),{type:icuType,mainBinding:mainBinding,cases:cases,values:values}}function removeInnerTemplateTranslation(message){for(var match,tagMatched,res="",index=0,inTemplate=!1;null!==(match=SUBTEMPLATE_REGEXP.exec(message));)inTemplate?match[0]===MARKER+"/*"+tagMatched+MARKER&&(index=match.index,inTemplate=!1):(res+=message.substring(index,match.index+match[0].length),tagMatched=match[1],inTemplate=!0);return ngDevMode&&assertEqual(inTemplate,!1,'Tag mismatch: unable to find the end of the sub-template in the translation "'+message+'"'),res+=message.substr(index)}function generateBindingUpdateOpCodes(str,destinationNode,attrName,sanitizeFn){void 0===sanitizeFn&&(sanitizeFn=null);for(var updateOpCodes=[null,null],textParts=str.split(BINDING_REGEXP),mask=0,j=0;j<textParts.length;j++){var textValue=textParts[j];if(1&j){var bindingIndex=parseInt(textValue,10);updateOpCodes.push(-1-bindingIndex),mask|=toMaskBit(bindingIndex)}else""!==textValue&&updateOpCodes.push(textValue)}return updateOpCodes.push(destinationNode<<2|(attrName?1:0)),attrName&&updateOpCodes.push(attrName,sanitizeFn),updateOpCodes[0]=mask,updateOpCodes[1]=updateOpCodes.length-2,updateOpCodes}function getBindingMask(icuExpression,mask){var match;void 0===mask&&(mask=0),mask|=toMaskBit(icuExpression.mainBinding);for(var i=0;i<icuExpression.values.length;i++)for(var valueArr=icuExpression.values[i],j=0;j<valueArr.length;j++){var value=valueArr[j];if("string"==typeof value)for(;match=BINDING_REGEXP.exec(value);)mask|=toMaskBit(parseInt(match[1],10));else mask=getBindingMask(value,mask)}return mask}var i18nIndexStack=[],i18nIndexStackPointer=-1;function toMaskBit(bindingIndex){return 1<<Math.min(bindingIndex,31)}var i18nVarsCount,parentIndexStack=[];function i18nStart(index,message,subTemplateIndex){var tView=getLView()[TVIEW];ngDevMode&&assertDefined(tView,"tView should be defined"),i18nIndexStack[++i18nIndexStackPointer]=index,setDelayProjection(!0),tView.firstTemplatePass&&null===tView.data[index+HEADER_OFFSET]&&function(tView,index,message,subTemplateIndex){var viewData=getLView(),startIndex=tView.blueprint.length-HEADER_OFFSET;i18nVarsCount=0;var previousOrParentTNode=getPreviousOrParentTNode(),parentTNode=getIsParent()?getPreviousOrParentTNode():previousOrParentTNode&&previousOrParentTNode.parent,parentIndex=parentTNode&&parentTNode!==viewData[T_HOST]?parentTNode.index-HEADER_OFFSET:index,parentIndexPointer=0;parentIndexStack[parentIndexPointer]=parentIndex;var createOpCodes=[];index>0&&previousOrParentTNode!==parentTNode&&createOpCodes.push(previousOrParentTNode.index<<3|0);for(var updateOpCodes=[],icuExpressions=[],msgParts=function(value){return value.replace(NGSP_UNICODE_REGEXP," ")}(function(message,subTemplateIndex){if("number"!=typeof subTemplateIndex)return removeInnerTemplateTranslation(message);var start=message.indexOf(":"+subTemplateIndex+MARKER)+2+subTemplateIndex.toString().length,end=message.search(new RegExp(MARKER+"\\/\\*\\d+:"+subTemplateIndex+MARKER));return removeInnerTemplateTranslation(message.substring(start,end))}(message,subTemplateIndex)).split(PH_REGEXP),i=0;i<msgParts.length;i++){var value=msgParts[i];if(1&i)if("/"===value.charAt(0)){if("#"===value.charAt(1)){var phIndex=parseInt(value.substr(2),10);parentIndex=parentIndexStack[--parentIndexPointer],createOpCodes.push(phIndex<<3|5)}}else{var phIndex=parseInt(value.substr(1),10);createOpCodes.push(phIndex<<3|0,parentIndex<<17|1),"#"===value.charAt(0)&&(parentIndexStack[++parentIndexPointer]=parentIndex=phIndex)}else for(var parts=extractParts(value),j=0;j<parts.length;j++)if(1&j){var icuNodeIndex=startIndex+i18nVarsCount++;createOpCodes.push(COMMENT_MARKER,ngDevMode?"ICU "+icuNodeIndex:"",icuNodeIndex,parentIndex<<17|1);var icuExpression=parts[j],mask=getBindingMask(icuExpression);icuStart(icuExpressions,icuExpression,icuNodeIndex,icuNodeIndex);var tIcuIndex=icuExpressions.length-1;updateOpCodes.push(toMaskBit(icuExpression.mainBinding),3,-1-icuExpression.mainBinding,icuNodeIndex<<2|2,tIcuIndex,mask,2,icuNodeIndex<<2|3,tIcuIndex)}else if(""!==parts[j]){var text=parts[j],hasBinding=text.match(BINDING_REGEXP),textNodeIndex=startIndex+i18nVarsCount++;createOpCodes.push(hasBinding?"":text,textNodeIndex,parentIndex<<17|1),hasBinding&&addAllToArray(generateBindingUpdateOpCodes(text,textNodeIndex),updateOpCodes)}}i18nVarsCount>0&&function(view,numSlotsToAlloc){if(ngDevMode&&assertGreaterThan(numSlotsToAlloc,0,"The number of slots to alloc should be greater than 0"),numSlotsToAlloc>0){var tView=view[TVIEW];if(tView.firstTemplatePass){for(var i=0;i<numSlotsToAlloc;i++)tView.blueprint.push(null),tView.data.push(null),view.push(null);tView.expandoInstructions?tView.expandoInstructions.push(numSlotsToAlloc):tView.expandoStartIndex+=numSlotsToAlloc}}}(viewData,i18nVarsCount);ngDevMode&&function(mutateOpCodes,updateOpCodes,icus,lView){attachDebugObject(mutateOpCodes,new I18nMutateOpCodesDebug(mutateOpCodes,lView)),attachDebugObject(updateOpCodes,new I18nUpdateOpCodesDebug(updateOpCodes,icus,lView)),icus&&icus.forEach(function(icu){icu.create.forEach(function(icuCase){attachDebugObject(icuCase,new I18nMutateOpCodesDebug(icuCase,lView))}),icu.update.forEach(function(icuCase){attachDebugObject(icuCase,new I18nUpdateOpCodesDebug(icuCase,icus,lView))})})}(createOpCodes,updateOpCodes,icuExpressions.length?icuExpressions:null,viewData);var tI18n={vars:i18nVarsCount,create:createOpCodes,update:updateOpCodes,icus:icuExpressions.length?icuExpressions:null};tView.data[index+HEADER_OFFSET]=tI18n}(tView,index,message,subTemplateIndex)}function appendI18nNode(tNode,parentTNode,previousTNode,viewData){ngDevMode&&ngDevMode.rendererMoveNode++;var nextNode=tNode.next;previousTNode||(previousTNode=parentTNode),previousTNode===parentTNode&&tNode!==parentTNode.child?(tNode.next=parentTNode.child,parentTNode.child=tNode):previousTNode!==parentTNode&&tNode!==previousTNode.next?(tNode.next=previousTNode.next,previousTNode.next=tNode):tNode.next=null,parentTNode!==viewData[T_HOST]&&(tNode.parent=parentTNode);for(var cursor=tNode.next;cursor;)cursor.next===tNode&&(cursor.next=nextNode),cursor=cursor.next;if(1===tNode.type){return appendProjectedNodes(viewData,tNode,tNode.projection,findComponentView(viewData)),tNode}appendChild(getNativeByTNode(tNode,viewData),tNode,viewData);var slotValue=viewData[tNode.index];return 0!==tNode.type&&isLContainer(slotValue)&&appendChild(slotValue[NATIVE],tNode,viewData),tNode}function i18nPostprocess(message,replacements){void 0===replacements&&(replacements={});var result=message;if(PP_MULTI_VALUE_PLACEHOLDERS_REGEXP.test(message)){var matches_1={},templateIdsStack_1=[ROOT_TEMPLATE_ID];result=result.replace(PP_PLACEHOLDERS_REGEXP,function(m,phs,tmpl){var content=phs||tmpl,placeholders=matches_1[content]||[];if(placeholders.length||(content.split("|").forEach(function(placeholder){var match=placeholder.match(PP_TEMPLATE_ID_REGEXP),templateId=match?parseInt(match[1],10):ROOT_TEMPLATE_ID,isCloseTemplateTag=PP_CLOSE_TEMPLATE_REGEXP.test(placeholder);placeholders.push([templateId,isCloseTemplateTag,placeholder])}),matches_1[content]=placeholders),!placeholders.length)throw new Error("i18n postprocess: unmatched placeholder - "+content);for(var currentTemplateId=templateIdsStack_1[templateIdsStack_1.length-1],idx=0,i=0;i<placeholders.length;i++)if(placeholders[i][0]===currentTemplateId){idx=i;break}var _a=(0,_tslib.__read)(placeholders[idx],3),templateId=_a[0],isCloseTemplateTag=_a[1],placeholder=_a[2];return isCloseTemplateTag?templateIdsStack_1.pop():currentTemplateId!==templateId&&templateIdsStack_1.push(templateId),placeholders.splice(idx,1),placeholder})}return Object.keys(replacements).length?result=(result=(result=result.replace(PP_ICU_VARS_REGEXP,function(match,start,key,_type,_idx,end){return replacements.hasOwnProperty(key)?""+start+replacements[key]+end:match})).replace(PP_ICU_PLACEHOLDERS_REGEXP,function(match,key){return replacements.hasOwnProperty(key)?replacements[key]:match})).replace(PP_ICUS_REGEXP,function(match,key){if(replacements.hasOwnProperty(key)){var list=replacements[key];if(!list.length)throw new Error("i18n postprocess: unmatched ICU - "+match+" with key: "+key);return list.shift()}return match}):result}function i18nEnd(){var tView=getLView()[TVIEW];ngDevMode&&assertDefined(tView,"tView should be defined"),function(tView){var viewData=getLView();ngDevMode&&assertEqual(viewData[BINDING_INDEX],viewData[TVIEW].bindingStartIndex,"i18nEnd should be called before any binding");var rootIndex=i18nIndexStack[i18nIndexStackPointer--],tI18n=tView.data[rootIndex+HEADER_OFFSET];ngDevMode&&assertDefined(tI18n,"You should call i18nStart before i18nEnd");for(var lastCreatedNode=getPreviousOrParentTNode(),visitedNodes=readCreateOpCodes(rootIndex,tI18n.create,tI18n.icus,viewData),i=rootIndex+1;i<=lastCreatedNode.index-HEADER_OFFSET;i++)-1===visitedNodes.indexOf(i)&&removeNode(i,viewData)}(tView),setDelayProjection(!1)}function createDynamicNodeAtIndex(lView,index,type,native,name){var previousOrParentTNode=getPreviousOrParentTNode();ngDevMode&&assertDataInRange(lView,index+HEADER_OFFSET),lView[index+HEADER_OFFSET]=native;var tNode=getOrCreateTNode(lView[TVIEW],lView[T_HOST],index,type,name,null);return previousOrParentTNode.next===tNode&&(previousOrParentTNode.next=null),tNode}function readCreateOpCodes(index,createOpCodes,icus,viewData){for(var renderer=getLView()[RENDERER],currentTNode=null,previousTNode=null,visitedNodes=[],i=0;i<createOpCodes.length;i++){var opCode=createOpCodes[i];if("string"==typeof opCode){var textRNode=createTextNode(opCode,renderer),textNodeIndex=createOpCodes[++i];ngDevMode&&ngDevMode.rendererCreateTextNode++,previousTNode=currentTNode,currentTNode=createDynamicNodeAtIndex(viewData,textNodeIndex,3,textRNode,null),visitedNodes.push(textNodeIndex),setIsNotParent()}else if("number"==typeof opCode)switch(7&opCode){case 1:var destinationNodeIndex=opCode>>>17,destinationTNode=void 0;destinationTNode=destinationNodeIndex===index?viewData[T_HOST]:getTNode(destinationNodeIndex,viewData),ngDevMode&&assertDefined(currentTNode,"You need to create or select a node before you can insert it into the DOM"),previousTNode=appendI18nNode(currentTNode,destinationTNode,previousTNode,viewData);break;case 0:var nodeIndex=opCode>>>3;visitedNodes.push(nodeIndex),previousTNode=currentTNode,(currentTNode=getTNode(nodeIndex,viewData))&&setPreviousOrParentTNode(currentTNode,3===currentTNode.type);break;case 5:previousTNode=currentTNode=getTNode(opCode>>>3,viewData),setPreviousOrParentTNode(currentTNode,!1);break;case 4:elementAttributeInternal(elementNodeIndex=opCode>>>3,createOpCodes[++i],createOpCodes[++i],viewData);break;default:throw new Error('Unable to determine the type of mutate operation for "'+opCode+'"')}else switch(opCode){case COMMENT_MARKER:var commentValue=createOpCodes[++i],commentNodeIndex=createOpCodes[++i];ngDevMode&&assertEqual(typeof commentValue,"string",'Expected "'+commentValue+'" to be a comment node value');var commentRNode=renderer.createComment(commentValue);ngDevMode&&ngDevMode.rendererCreateComment++,previousTNode=currentTNode,currentTNode=createDynamicNodeAtIndex(viewData,commentNodeIndex,5,commentRNode,null),visitedNodes.push(commentNodeIndex),attachPatchData(commentRNode,viewData),currentTNode.activeCaseIndex=null,setIsNotParent();break;case ELEMENT_MARKER:var tagNameValue=createOpCodes[++i],elementNodeIndex=createOpCodes[++i];ngDevMode&&assertEqual(typeof tagNameValue,"string",'Expected "'+tagNameValue+'" to be an element node tag name');var elementRNode=renderer.createElement(tagNameValue);ngDevMode&&ngDevMode.rendererCreateElement++,previousTNode=currentTNode,currentTNode=createDynamicNodeAtIndex(viewData,elementNodeIndex,3,elementRNode,tagNameValue),visitedNodes.push(elementNodeIndex);break;default:throw new Error('Unable to determine the type of mutate operation for "'+opCode+'"')}}return setIsNotParent(),visitedNodes}function removeNode(index,viewData){var removedPhTNode=getTNode(index,viewData),removedPhRNode=getNativeByIndex(index,viewData);removedPhRNode&&nativeRemoveNode(viewData[RENDERER],removedPhRNode);var slotValue=load(index);if(isLContainer(slotValue)){var lContainer=slotValue;0!==removedPhTNode.type&&nativeRemoveNode(viewData[RENDERER],lContainer[NATIVE])}removedPhTNode.flags|=32,ngDevMode&&ngDevMode.rendererRemoveNode++}function i18n(index,message,subTemplateIndex){i18nStart(index,message,subTemplateIndex),i18nEnd()}function i18nAttributes(index,values){var tView=getLView()[TVIEW];ngDevMode&&assertDefined(tView,"tView should be defined"),function(tView,index,values){for(var previousElementIndex=getPreviousOrParentTNode().index-HEADER_OFFSET,updateOpCodes=[],i=0;i<values.length;i+=2)for(var attrName=values[i],message=values[i+1],parts=message.split(ICU_REGEXP),j=0;j<parts.length;j++){var value=parts[j];if(1&j)throw new Error("ICU expressions are not yet supported in attributes");if(""!==value){var hasBinding=!!value.match(BINDING_REGEXP);if(hasBinding)tView.firstTemplatePass&&null===tView.data[index+HEADER_OFFSET]&&addAllToArray(generateBindingUpdateOpCodes(value,previousElementIndex,attrName),updateOpCodes);else{var lView=getLView();elementAttributeInternal(previousElementIndex,attrName,value,lView);var tNode=getTNode(previousElementIndex,lView),dataValue=tNode.inputs&&tNode.inputs[attrName];dataValue&&setInputsForProperty(lView,dataValue,value)}}}tView.firstTemplatePass&&null===tView.data[index+HEADER_OFFSET]&&(tView.data[index+HEADER_OFFSET]=updateOpCodes)}(tView,index,values)}var changeMask=0,shiftsCounter=0;function i18nExp(value){return bind(getLView(),value)!==NO_CHANGE&&(changeMask|=1<<shiftsCounter),shiftsCounter++,i18nExp}function i18nApply(index){if(shiftsCounter){var lView=getLView(),tView=lView[TVIEW];ngDevMode&&assertDefined(tView,"tView should be defined");var tI18n=tView.data[index+HEADER_OFFSET],updateOpCodes=void 0,icus=null;Array.isArray(tI18n)?updateOpCodes=tI18n:(updateOpCodes=tI18n.update,icus=tI18n.icus),!function readUpdateOpCodes(updateOpCodes,icus,bindingsStartIndex,changeMask,viewData,bypassCheckBit){void 0===bypassCheckBit&&(bypassCheckBit=!1);for(var caseCreated=!1,i=0;i<updateOpCodes.length;i++){var checkBit=updateOpCodes[i],skipCodes=updateOpCodes[++i];if(bypassCheckBit||checkBit&changeMask)for(var value="",j=i+1;j<=i+skipCodes;j++){var opCode=updateOpCodes[j];if("string"==typeof opCode)value+=opCode;else if("number"==typeof opCode)if(opCode<0)value+=renderStringify(viewData[bindingsStartIndex-opCode]);else{var nodeIndex=opCode>>>2,tIcu=void 0,icuTNode=void 0;switch(3&opCode){case 1:elementPropertyInternal(nodeIndex,updateOpCodes[++j],value,updateOpCodes[++j]);break;case 0:textBindingInternal(viewData,nodeIndex,value);break;case 2:if(tIcu=icus[updateOpCodes[++j]],null!==(icuTNode=getTNode(nodeIndex,viewData)).activeCaseIndex)for(var removeCodes=tIcu.remove[icuTNode.activeCaseIndex],k=0;k<removeCodes.length;k++){var removeOpCode=removeCodes[k];switch(7&removeOpCode){case 3:removeNode(removeOpCode>>>3,viewData);break;case 6:var activeIndex=getTNode(removeCodes[k+1]>>>3,viewData).activeCaseIndex;null!==activeIndex&&addAllToArray(icus[removeOpCode>>>3].remove[activeIndex],removeCodes)}}var caseIndex=getCaseIndex(tIcu,value);icuTNode.activeCaseIndex=-1!==caseIndex?caseIndex:null,readCreateOpCodes(-1,tIcu.create[caseIndex],0,viewData),caseCreated=!0;break;case 3:tIcu=icus[updateOpCodes[++j]],icuTNode=getTNode(nodeIndex,viewData),readUpdateOpCodes(tIcu.update[icuTNode.activeCaseIndex],icus,bindingsStartIndex,changeMask,viewData,caseCreated)}}}i+=skipCodes}}(updateOpCodes,icus,lView[BINDING_INDEX]-shiftsCounter-1,changeMask,lView),changeMask=0,shiftsCounter=0}}function getCaseIndex(icuExpression,bindingValue){var index=icuExpression.cases.indexOf(bindingValue);if(-1===index)switch(icuExpression.type){case 1:var resolvedCase=function(value,locale){switch(getLocalePluralCase(locale)(value)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(bindingValue,LOCALE_ID);-1===(index=icuExpression.cases.indexOf(resolvedCase))&&"other"!==resolvedCase&&(index=icuExpression.cases.indexOf("other"));break;case 0:index=icuExpression.cases.indexOf("other")}return index}function icuStart(tIcus,icuExpression,startIndex,expandoStartIndex){for(var createCodes=[],removeCodes=[],updateCodes=[],vars=[],childIcus=[],i=0;i<icuExpression.values.length;i++){for(var valueArr=icuExpression.values[i],nestedIcus=[],j=0;j<valueArr.length;j++){var value=valueArr[j];if("string"!=typeof value){var icuIndex=nestedIcus.push(value)-1;valueArr[j]="\x3c!--"+icuIndex+"--\x3e"}}var icuCase=parseIcuCase(valueArr.join(""),startIndex,nestedIcus,tIcus,expandoStartIndex);createCodes.push(icuCase.create),removeCodes.push(icuCase.remove),updateCodes.push(icuCase.update),vars.push(icuCase.vars),childIcus.push(icuCase.childIcus)}var tIcu={type:icuExpression.type,vars:vars,childIcus:childIcus,cases:icuExpression.cases,create:createCodes,remove:removeCodes,update:updateCodes};tIcus.push(tIcu),i18nVarsCount+=Math.max.apply(Math,(0,_tslib.__spread)(vars))}function parseIcuCase(unsafeHtml,parentIndex,nestedIcus,tIcus,expandoStartIndex){var inertBodyElement=new InertBodyHelper(document).getInertBodyElement(unsafeHtml);if(!inertBodyElement)throw new Error("Unable to generate inert body element");var opCodes={vars:0,childIcus:[],create:[],remove:[],update:[]};return function parseNodes(currentNode,icuCase,parentIndex,nestedIcus,tIcus,expandoStartIndex){if(currentNode){for(var nestedIcusToCreate=[];currentNode;){var nextNode=currentNode.nextSibling,newIndex=expandoStartIndex+ ++icuCase.vars;switch(currentNode.nodeType){case Node.ELEMENT_NODE:var element=currentNode,tagName=element.tagName.toLowerCase();if(VALID_ELEMENTS.hasOwnProperty(tagName)){icuCase.create.push(ELEMENT_MARKER,tagName,newIndex,parentIndex<<17|1);for(var elAttrs=element.attributes,i=0;i<elAttrs.length;i++){var attr=elAttrs.item(i),lowerAttrName=attr.name.toLowerCase(),hasBinding_1=!!attr.value.match(BINDING_REGEXP);hasBinding_1?VALID_ATTRS.hasOwnProperty(lowerAttrName)?URI_ATTRS[lowerAttrName]?addAllToArray(generateBindingUpdateOpCodes(attr.value,newIndex,attr.name,_sanitizeUrl),icuCase.update):SRCSET_ATTRS[lowerAttrName]?addAllToArray(generateBindingUpdateOpCodes(attr.value,newIndex,attr.name,sanitizeSrcset),icuCase.update):addAllToArray(generateBindingUpdateOpCodes(attr.value,newIndex,attr.name),icuCase.update):ngDevMode&&console.warn("WARNING: ignoring unsafe attribute value "+lowerAttrName+" on element "+tagName+" (see http://g.co/ng/security#xss)"):icuCase.create.push(newIndex<<3|4,attr.name,attr.value)}parseNodes(currentNode.firstChild,icuCase,newIndex,nestedIcus,tIcus,expandoStartIndex),icuCase.remove.push(newIndex<<3|3)}else icuCase.vars--;break;case Node.TEXT_NODE:var value=currentNode.textContent||"",hasBinding=value.match(BINDING_REGEXP);icuCase.create.push(hasBinding?"":value,newIndex,parentIndex<<17|1),icuCase.remove.push(newIndex<<3|3),hasBinding&&addAllToArray(generateBindingUpdateOpCodes(value,newIndex),icuCase.update);break;case Node.COMMENT_NODE:var match=NESTED_ICU.exec(currentNode.textContent||"");if(match){var nestedIcuIndex=parseInt(match[1],10),newLocal=ngDevMode?"nested ICU "+nestedIcuIndex:"";icuCase.create.push(COMMENT_MARKER,newLocal,newIndex,parentIndex<<17|1);var nestedIcu=nestedIcus[nestedIcuIndex];nestedIcusToCreate.push([nestedIcu,newIndex])}else icuCase.vars--;break;default:icuCase.vars--}currentNode=nextNode}for(var i=0;i<nestedIcusToCreate.length;i++){var nestedIcu=nestedIcusToCreate[i][0],nestedIcuNodeIndex=nestedIcusToCreate[i][1];icuStart(tIcus,nestedIcu,nestedIcuNodeIndex,expandoStartIndex+icuCase.vars);var nestTIcuIndex=tIcus.length-1;icuCase.vars+=Math.max.apply(Math,(0,_tslib.__spread)(tIcus[nestTIcuIndex].vars)),icuCase.childIcus.push(nestTIcuIndex);var mask=getBindingMask(nestedIcu);icuCase.update.push(toMaskBit(nestedIcu.mainBinding),3,-1-nestedIcu.mainBinding,nestedIcuNodeIndex<<2|2,nestTIcuIndex,mask,2,nestedIcuNodeIndex<<2|3,nestTIcuIndex),icuCase.remove.push(nestTIcuIndex<<3|6,nestedIcuNodeIndex<<3|3)}}}((getTemplateContent(inertBodyElement)||inertBodyElement).firstChild,opCodes,parentIndex,nestedIcus,tIcus,expandoStartIndex),opCodes}var NESTED_ICU=/(\d+)/;var NGSP_UNICODE_REGEXP=/\uE500/g;var TRANSLATIONS={};var LOCALIZE_PH_REGEXP=/\{\$(.*?)\}/g;function i18nLocalize(input,placeholders){return void 0!==TRANSLATIONS[input]&&(input=TRANSLATIONS[input]),void 0!==placeholders&&Object.keys(placeholders).length?input.replace(LOCALIZE_PH_REGEXP,function(_,key){return placeholders[key]||""}):input}var LOCALE_ID=DEFAULT_LOCALE_ID;function setLocaleId(localeId){assertDefined(localeId,"Expected localeId to be defined"),"string"==typeof localeId&&(LOCALE_ID=localeId.toLowerCase().replace(/_/g,"-"))}var modules=new Map;function assertSameOrNotExisting(id,type,incoming){if(type&&type!==incoming)throw new Error("Duplicate module registered for "+id+" - "+stringify(type)+" vs "+stringify(type.name))}function registerNgModuleType(ngModuleType){if(null!==ngModuleType.ngModuleDef.id){var id=ngModuleType.ngModuleDef.id;assertSameOrNotExisting(id,modules.get(id),ngModuleType),modules.set(id,ngModuleType)}var imports=ngModuleType.ngModuleDef.imports;imports instanceof Function&&(imports=imports()),imports&&imports.forEach(function(i){return registerNgModuleType(i)})}function getRegisteredNgModuleType(id){return modules.get(id)}var COMPONENT_FACTORY_RESOLVER={provide:ComponentFactoryResolver,useClass:ComponentFactoryResolver$1,deps:[NgModuleRef]},NgModuleRef$1=function(_super){function NgModuleRef$1(ngModuleType,_parent){var _this=_super.call(this)||this;_this._parent=_parent,_this._bootstrapComponents=[],_this.injector=_this,_this.destroyCbs=[];var ngModuleDef=getNgModuleDef(ngModuleType);ngDevMode&&assertDefined(ngModuleDef,"NgModule '"+stringify(ngModuleType)+"' is not a subtype of 'NgModuleType'.");var ngLocaleIdDef=ngModuleType[NG_LOCALE_ID_DEF]||null;ngLocaleIdDef&&setLocaleId(ngLocaleIdDef),_this._bootstrapComponents=maybeUnwrapFn(ngModuleDef.bootstrap);var additionalProviders=[{provide:NgModuleRef,useValue:_this},COMPONENT_FACTORY_RESOLVER];return _this._r3Injector=createInjector(ngModuleType,_parent,additionalProviders,stringify(ngModuleType)),_this.instance=_this.get(ngModuleType),_this}return(0,_tslib.__extends)(NgModuleRef$1,_super),NgModuleRef$1.prototype.get=function(token,notFoundValue,injectFlags){return void 0===notFoundValue&&(notFoundValue=Injector.THROW_IF_NOT_FOUND),void 0===injectFlags&&(injectFlags=InjectFlags.Default),token===Injector||token===NgModuleRef||token===INJECTOR?this:this._r3Injector.get(token,notFoundValue,injectFlags)},Object.defineProperty(NgModuleRef$1.prototype,"componentFactoryResolver",{get:function(){return this.get(ComponentFactoryResolver)},enumerable:!0,configurable:!0}),NgModuleRef$1.prototype.destroy=function(){ngDevMode&&assertDefined(this.destroyCbs,"NgModule already destroyed");var injector=this._r3Injector;!injector.destroyed&&injector.destroy(),this.destroyCbs.forEach(function(fn){return fn()}),this.destroyCbs=null},NgModuleRef$1.prototype.onDestroy=function(callback){ngDevMode&&assertDefined(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(callback)},NgModuleRef$1}(NgModuleRef);exports.Render3NgModuleRef=NgModuleRef$1;var NgModuleFactory$1=function(_super){function NgModuleFactory(moduleType){var _this=_super.call(this)||this;return _this.moduleType=moduleType,null!==getNgModuleDef(moduleType)&&registerNgModuleType(moduleType),_this}return(0,_tslib.__extends)(NgModuleFactory,_super),NgModuleFactory.prototype.create=function(parentInjector){return new NgModuleRef$1(this.moduleType,parentInjector)},NgModuleFactory}(NgModuleFactory);function pureFunction0(slotOffset,pureFn,thisArg){var bindingIndex=getBindingRoot()+slotOffset,lView=getLView();return isCreationMode()?updateBinding(lView,bindingIndex,thisArg?pureFn.call(thisArg):pureFn()):getBinding(lView,bindingIndex)}function pureFunction1(slotOffset,pureFn,exp,thisArg){var lView=getLView(),bindingIndex=getBindingRoot()+slotOffset;return bindingUpdated(lView,bindingIndex,exp)?updateBinding(lView,bindingIndex+1,thisArg?pureFn.call(thisArg,exp):pureFn(exp)):getBinding(lView,bindingIndex+1)}function pureFunction2(slotOffset,pureFn,exp1,exp2,thisArg){var bindingIndex=getBindingRoot()+slotOffset,lView=getLView();return bindingUpdated2(lView,bindingIndex,exp1,exp2)?updateBinding(lView,bindingIndex+2,thisArg?pureFn.call(thisArg,exp1,exp2):pureFn(exp1,exp2)):getBinding(lView,bindingIndex+2)}function pureFunction3(slotOffset,pureFn,exp1,exp2,exp3,thisArg){var bindingIndex=getBindingRoot()+slotOffset,lView=getLView();return bindingUpdated3(lView,bindingIndex,exp1,exp2,exp3)?updateBinding(lView,bindingIndex+3,thisArg?pureFn.call(thisArg,exp1,exp2,exp3):pureFn(exp1,exp2,exp3)):getBinding(lView,bindingIndex+3)}function pureFunction4(slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg){var bindingIndex=getBindingRoot()+slotOffset,lView=getLView();return bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4)?updateBinding(lView,bindingIndex+4,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4):pureFn(exp1,exp2,exp3,exp4)):getBinding(lView,bindingIndex+4)}function pureFunction5(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,thisArg){var bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated(lView,bindingIndex+4,exp5)||different?updateBinding(lView,bindingIndex+5,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5):pureFn(exp1,exp2,exp3,exp4,exp5)):getBinding(lView,bindingIndex+5)}function pureFunction6(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,thisArg){var bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated2(lView,bindingIndex+4,exp5,exp6)||different?updateBinding(lView,bindingIndex+6,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6):pureFn(exp1,exp2,exp3,exp4,exp5,exp6)):getBinding(lView,bindingIndex+6)}function pureFunction7(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,exp7,thisArg){var bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated3(lView,bindingIndex+4,exp5,exp6,exp7)||different?updateBinding(lView,bindingIndex+7,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6,exp7):pureFn(exp1,exp2,exp3,exp4,exp5,exp6,exp7)):getBinding(lView,bindingIndex+7)}function pureFunction8(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8,thisArg){var bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated4(lView,bindingIndex+4,exp5,exp6,exp7,exp8)||different?updateBinding(lView,bindingIndex+8,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8):pureFn(exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8)):getBinding(lView,bindingIndex+8)}function pureFunctionV(slotOffset,pureFn,exps,thisArg){for(var bindingIndex=getBindingRoot()+slotOffset,different=!1,lView=getLView(),i=0;i<exps.length;i++)bindingUpdated(lView,bindingIndex++,exps[i])&&(different=!0);return different?updateBinding(lView,bindingIndex,pureFn.apply(thisArg,exps)):getBinding(lView,bindingIndex)}function pipe(index,pipeName){var pipeDef,tView=getLView()[TVIEW],adjustedIndex=index+HEADER_OFFSET;tView.firstTemplatePass?(pipeDef=function(name,registry){if(registry)for(var i=registry.length-1;i>=0;i--){var pipeDef=registry[i];if(name===pipeDef.name)return pipeDef}throw new Error("The pipe '"+name+"' could not be found!")}(pipeName,tView.pipeRegistry),tView.data[adjustedIndex]=pipeDef,pipeDef.onDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(adjustedIndex,pipeDef.onDestroy)):pipeDef=tView.data[adjustedIndex];var pipeInstance=pipeDef.factory();return store(index,pipeInstance),pipeInstance}function pipeBind1(index,slotOffset,v1){var pipeInstance=load(index);return unwrapValue$1(isPure(index)?pureFunction1(slotOffset,pipeInstance.transform,v1,pipeInstance):pipeInstance.transform(v1))}function pipeBind2(index,slotOffset,v1,v2){var pipeInstance=load(index);return unwrapValue$1(isPure(index)?pureFunction2(slotOffset,pipeInstance.transform,v1,v2,pipeInstance):pipeInstance.transform(v1,v2))}function pipeBind3(index,slotOffset,v1,v2,v3){var pipeInstance=load(index);return unwrapValue$1(isPure(index)?pureFunction3(slotOffset,pipeInstance.transform,v1,v2,v3,pipeInstance):pipeInstance.transform(v1,v2,v3))}function pipeBind4(index,slotOffset,v1,v2,v3,v4){var pipeInstance=load(index);return unwrapValue$1(isPure(index)?pureFunction4(slotOffset,pipeInstance.transform,v1,v2,v3,v4,pipeInstance):pipeInstance.transform(v1,v2,v3,v4))}function pipeBindV(index,slotOffset,values){var pipeInstance=load(index);return unwrapValue$1(isPure(index)?pureFunctionV(slotOffset,pipeInstance.transform,values,pipeInstance):pipeInstance.transform.apply(pipeInstance,values))}function isPure(index){return getLView()[TVIEW].data[index+HEADER_OFFSET].pure}function unwrapValue$1(newValue){if(WrappedValue.isWrapped(newValue)){newValue=WrappedValue.unwrap(newValue);var lView=getLView();lView[lView[BINDING_INDEX]]=NO_CHANGE}return newValue}exports.NgModuleFactory=NgModuleFactory$1;var EventEmitter=function(_super){function EventEmitter(isAsync){void 0===isAsync&&(isAsync=!1);var _this=_super.call(this)||this;return _this.__isAsync=isAsync,_this}return(0,_tslib.__extends)(EventEmitter,_super),EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value)},EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn,errorFn=function(err){return null},completeFn=function(){return null};generatorOrNext&&"object"==typeof generatorOrNext?(schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value)})}:function(value){generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err)})}:function(err){generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?function(){setTimeout(function(){return generatorOrNext.complete()})}:function(){generatorOrNext.complete()})):(schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext(value)})}:function(value){generatorOrNext(value)},error&&(errorFn=this.__isAsync?function(err){setTimeout(function(){return error(err)})}:function(err){error(err)}),complete&&(completeFn=this.__isAsync?function(){setTimeout(function(){return complete()})}:function(){complete()}));var sink=_super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn);return generatorOrNext instanceof _rxjs.Subscription&&generatorOrNext.add(sink),sink},EventEmitter}(_rxjs.Subject);function symbolIterator(){return this._results[getSymbolIterator()]()}exports.EventEmitter=EventEmitter;var QueryList=function(){function QueryList(){this.dirty=!0,this._results=[],this.changes=new EventEmitter,this.length=0;var symbol=getSymbolIterator(),proto=QueryList.prototype;proto[symbol]||(proto[symbol]=symbolIterator)}return QueryList.prototype.map=function(fn){return this._results.map(fn)},QueryList.prototype.filter=function(fn){return this._results.filter(fn)},QueryList.prototype.find=function(fn){return this._results.find(fn)},QueryList.prototype.reduce=function(fn,init){return this._results.reduce(fn,init)},QueryList.prototype.forEach=function(fn){this._results.forEach(fn)},QueryList.prototype.some=function(fn){return this._results.some(fn)},QueryList.prototype.toArray=function(){return this._results.slice()},QueryList.prototype.toString=function(){return this._results.toString()},QueryList.prototype.reset=function(resultsTree){this._results=flatten(resultsTree),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},QueryList.prototype.notifyOnChanges=function(){this.changes.emit(this)},QueryList.prototype.setDirty=function(){this.dirty=!0},QueryList.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},QueryList}();exports.QueryList=QueryList;var LQuery_=function(){function LQuery_(queryList){this.queryList=queryList,this.matches=null}return LQuery_.prototype.clone=function(){return new LQuery_(this.queryList)},LQuery_.prototype.setDirty=function(){this.queryList.setDirty()},LQuery_}(),LQueries_=function(){function LQueries_(queries){void 0===queries&&(queries=[]),this.queries=queries}return LQueries_.prototype.createEmbeddedView=function(tView){var tQueries=tView.queries;if(null!==tQueries){for(var noOfInheritedQueries=null!==tView.contentQueries?tView.contentQueries[0]:tQueries.length,viewLQueries=new Array(noOfInheritedQueries),i=0;i<noOfInheritedQueries;i++){var tQuery=tQueries.getByIndex(i),parentLQuery=this.queries[tQuery.indexInDeclarationView];viewLQueries[i]=parentLQuery.clone()}return new LQueries_(viewLQueries)}return null},LQueries_.prototype.insertView=function(tView){this.dirtyQueriesWithMatches(tView)},LQueries_.prototype.detachView=function(tView){this.dirtyQueriesWithMatches(tView)},LQueries_.prototype.dirtyQueriesWithMatches=function(tView){for(var i=0;i<this.queries.length;i++)null!==getTQuery(tView,i).matches&&this.queries[i].setDirty()},LQueries_}(),TQueryMetadata_=function(){return function(predicate,descendants,isStatic,read){void 0===read&&(read=null),this.predicate=predicate,this.descendants=descendants,this.isStatic=isStatic,this.read=read}}(),TQueries_=function(){function TQueries_(queries){void 0===queries&&(queries=[]),this.queries=queries}return TQueries_.prototype.elementStart=function(tView,tNode){var e_1,_a;ngDevMode&&assertFirstTemplatePass(tView,"Queries should collect results on the first template pass only");try{for(var _b=(0,_tslib.__values)(this.queries),_c=_b.next();!_c.done;_c=_b.next()){_c.value.elementStart(tView,tNode)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},TQueries_.prototype.elementEnd=function(tNode){var e_2,_a;try{for(var _b=(0,_tslib.__values)(this.queries),_c=_b.next();!_c.done;_c=_b.next()){_c.value.elementEnd(tNode)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}},TQueries_.prototype.embeddedTView=function(tNode){for(var queriesForTemplateRef=null,i=0;i<this.length;i++){var childQueryIndex=null!==queriesForTemplateRef?queriesForTemplateRef.length:0,tqueryClone=this.getByIndex(i).embeddedTView(tNode,childQueryIndex);tqueryClone&&(tqueryClone.indexInDeclarationView=i,null!==queriesForTemplateRef?queriesForTemplateRef.push(tqueryClone):queriesForTemplateRef=[tqueryClone])}return null!==queriesForTemplateRef?new TQueries_(queriesForTemplateRef):null},TQueries_.prototype.template=function(tView,tNode){var e_3,_a;ngDevMode&&assertFirstTemplatePass(tView,"Queries should collect results on the first template pass only");try{for(var _b=(0,_tslib.__values)(this.queries),_c=_b.next();!_c.done;_c=_b.next()){_c.value.template(tView,tNode)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_3)throw e_3.error}}},TQueries_.prototype.getByIndex=function(index){return ngDevMode&&assertDataInRange(this.queries,index),this.queries[index]},Object.defineProperty(TQueries_.prototype,"length",{get:function(){return this.queries.length},enumerable:!0,configurable:!0}),TQueries_.prototype.track=function(tquery){this.queries.push(tquery)},TQueries_}(),TQuery_=function(){function TQuery_(metadata,nodeIndex){void 0===nodeIndex&&(nodeIndex=-1),this.metadata=metadata,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=nodeIndex}return TQuery_.prototype.elementStart=function(tView,tNode){this.isApplyingToNode(tNode)&&this.matchTNode(tView,tNode)},TQuery_.prototype.elementEnd=function(tNode){this._declarationNodeIndex===tNode.index&&(this._appliesToNextNode=!1)},TQuery_.prototype.template=function(tView,tNode){this.elementStart(tView,tNode)},TQuery_.prototype.embeddedTView=function(tNode,childQueryIndex){return this.isApplyingToNode(tNode)?(this.crossesNgTemplate=!0,this.addMatch(-tNode.index,childQueryIndex),new TQuery_(this.metadata)):null},TQuery_.prototype.isApplyingToNode=function(tNode){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(tNode.parent?tNode.parent.index:-1):this._appliesToNextNode},TQuery_.prototype.matchTNode=function(tView,tNode){if(Array.isArray(this.metadata.predicate))for(var localNames=this.metadata.predicate,i=0;i<localNames.length;i++)this.matchTNodeWithReadOption(tView,tNode,getIdxOfMatchingSelector(tNode,localNames[i]));else{var typePredicate=this.metadata.predicate;typePredicate===TemplateRef?0===tNode.type&&this.matchTNodeWithReadOption(tView,tNode,-1):this.matchTNodeWithReadOption(tView,tNode,locateDirectiveOrProvider(tNode,tView,typePredicate,!1,!1))}},TQuery_.prototype.matchTNodeWithReadOption=function(tView,tNode,nodeMatchIdx){if(null!==nodeMatchIdx){var read=this.metadata.read;if(null!==read)if(read===ElementRef||read===ViewContainerRef||read===TemplateRef&&0===tNode.type)this.addMatch(tNode.index,-2);else{var directiveOrProviderIdx=locateDirectiveOrProvider(tNode,tView,read,!1,!1);null!==directiveOrProviderIdx&&this.addMatch(tNode.index,directiveOrProviderIdx)}else this.addMatch(tNode.index,nodeMatchIdx)}},TQuery_.prototype.addMatch=function(tNodeIdx,matchIdx){null===this.matches?this.matches=[tNodeIdx,matchIdx]:this.matches.push(tNodeIdx,matchIdx)},TQuery_}();function getIdxOfMatchingSelector(tNode,selector){var localNames=tNode.localNames;if(null!==localNames)for(var i=0;i<localNames.length;i+=2)if(localNames[i]===selector)return localNames[i+1];return null}function createResultForNode(lView,tNode,matchingIdx,read){return-1===matchingIdx?function(tNode,currentView){return 3===tNode.type||4===tNode.type?createElementRef(ElementRef,tNode,currentView):0===tNode.type?createTemplateRef(TemplateRef,ElementRef,tNode,currentView):null}(tNode,lView):-2===matchingIdx?function(lView,tNode,read){if(read===ElementRef)return createElementRef(ElementRef,tNode,lView);if(read===TemplateRef)return createTemplateRef(TemplateRef,ElementRef,tNode,lView);if(read===ViewContainerRef)return ngDevMode&&assertNodeOfPossibleTypes(tNode,3,0,4),createContainerRef(ViewContainerRef,ElementRef,tNode,lView);ngDevMode&&throwError("Special token to read should be one of ElementRef, TemplateRef or ViewContainerRef but got "+stringify(read)+".")}(lView,tNode,read):getNodeInjectable(lView[TVIEW].data,lView,matchingIdx,tNode)}function materializeViewResults(lView,tQuery,queryIndex){var lQuery=lView[QUERIES].queries[queryIndex];if(null===lQuery.matches){for(var tViewData=lView[TVIEW].data,tQueryMatches=tQuery.matches,result=new Array(tQueryMatches.length/2),i=0;i<tQueryMatches.length;i+=2){var matchedNodeIdx=tQueryMatches[i];if(matchedNodeIdx<0)result[i/2]=null;else{ngDevMode&&assertDataInRange(tViewData,matchedNodeIdx);var tNode=tViewData[matchedNodeIdx];result[i/2]=createResultForNode(lView,tNode,tQueryMatches[i+1],tQuery.metadata.read)}}lQuery.matches=result}return lQuery.matches}function queryRefresh(queryList){var lView=getLView(),queryIndex=getCurrentQueryIndex();setCurrentQueryIndex(queryIndex+1);var tQuery=getTQuery(lView[TVIEW],queryIndex);if(queryList.dirty&&isCreationMode()===tQuery.metadata.isStatic){if(null===tQuery.matches)queryList.reset([]);else{var result=tQuery.crossesNgTemplate?function collectQueryResults(lView,queryIndex,result){var e_4,_a,tQuery=lView[TVIEW].queries.getByIndex(queryIndex),tQueryMatches=tQuery.matches;if(null!==tQueryMatches)for(var lViewResults=materializeViewResults(lView,tQuery,queryIndex),i=0;i<tQueryMatches.length;i+=2){var tNodeIdx=tQueryMatches[i];if(tNodeIdx>0){var viewResult=lViewResults[i/2];ngDevMode&&assertDefined(viewResult,"materialized query result should be defined"),result.push(viewResult)}else{var childQueryIndex=tQueryMatches[i+1],declarationLContainer=lView[-tNodeIdx];ngDevMode&&assertLContainer(declarationLContainer);for(var i_1=CONTAINER_HEADER_OFFSET;i_1<declarationLContainer.length;i_1++)(embeddedLView=declarationLContainer[i_1])[DECLARATION_LCONTAINER]===embeddedLView[PARENT]&&collectQueryResults(embeddedLView,childQueryIndex,result);if(null!==declarationLContainer[MOVED_VIEWS])try{for(var _b=(e_4=void 0,(0,_tslib.__values)(declarationLContainer[MOVED_VIEWS])),_c=_b.next();!_c.done;_c=_b.next()){var embeddedLView;collectQueryResults(embeddedLView=_c.value,childQueryIndex,result)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_4)throw e_4.error}}}}return result}(lView,queryIndex,[]):materializeViewResults(lView,tQuery,queryIndex);queryList.reset(result),queryList.notifyOnChanges()}return!0}return!1}function staticViewQuery(predicate,descend,read){viewQueryInternal(getLView(),predicate,descend,read,!0)}function viewQuery(predicate,descend,read){viewQueryInternal(getLView(),predicate,descend,read,!1)}function viewQueryInternal(lView,predicate,descend,read,isStatic){var tView=lView[TVIEW];tView.firstTemplatePass&&(createTQuery(tView,new TQueryMetadata_(predicate,descend,isStatic,read),-1),isStatic&&(tView.staticViewQueries=!0)),createLQuery(lView)}function loadViewQuery(){return loadQueryInternal(getLView(),getCurrentQueryIndex())}function contentQuery(directiveIndex,predicate,descend,read){contentQueryInternal(getLView(),predicate,descend,read,!1,getPreviousOrParentTNode(),directiveIndex)}function staticContentQuery(directiveIndex,predicate,descend,read){contentQueryInternal(getLView(),predicate,descend,read,!0,getPreviousOrParentTNode(),directiveIndex)}function contentQueryInternal(lView,predicate,descend,read,isStatic,tNode,directiveIndex){var tView=lView[TVIEW];tView.firstTemplatePass&&(createTQuery(tView,new TQueryMetadata_(predicate,descend,isStatic,read),tNode.index),function(tView,directiveIndex){var tViewContentQueries=tView.contentQueries||(tView.contentQueries=[]),lastSavedDirectiveIndex=tView.contentQueries.length?tViewContentQueries[tViewContentQueries.length-1]:-1;directiveIndex!==lastSavedDirectiveIndex&&tViewContentQueries.push(tView.queries.length-1,directiveIndex)}(tView,directiveIndex),isStatic&&(tView.staticContentQueries=!0)),createLQuery(lView)}function loadContentQuery(){return loadQueryInternal(getLView(),getCurrentQueryIndex())}function loadQueryInternal(lView,queryIndex){return ngDevMode&&assertDefined(lView[QUERIES],"LQueries should be defined when trying to load a query"),ngDevMode&&assertDataInRange(lView[QUERIES].queries,queryIndex),lView[QUERIES].queries[queryIndex].queryList}function createLQuery(lView){var queryList=new QueryList;!function(lView,context,cleanupFn){var lCleanup=getCleanup(lView);lCleanup.push(context),lView[TVIEW].firstTemplatePass&&getTViewCleanup(lView).push(cleanupFn,lCleanup.length-1)}(lView,queryList,queryList.destroy),null===lView[QUERIES]&&(lView[QUERIES]=new LQueries_),lView[QUERIES].queries.push(new LQuery_(queryList))}function createTQuery(tView,metadata,nodeIndex){null===tView.queries&&(tView.queries=new TQueries_),tView.queries.track(new TQuery_(metadata,nodeIndex))}function getTQuery(tView,index){return ngDevMode&&assertDefined(tView.queries,"TQueries must be defined to retrieve a TQuery"),tView.queries.getByIndex(index)}function templateRefExtractor(tNode,currentView){return createTemplateRef(TemplateRef,ElementRef,tNode,currentView)}function injectPipeChangeDetectorRef(flags){void 0===flags&&(flags=InjectFlags.Default);var value=injectChangeDetectorRef(!0);if(null!=value||flags&InjectFlags.Optional)return value;throw new Error("No provider for ChangeDetectorRef!")}var angularCoreEnv={"attribute":attribute,"attributeInterpolate1":attributeInterpolate1,"attributeInterpolate2":attributeInterpolate2,"attributeInterpolate3":attributeInterpolate3,"attributeInterpolate4":attributeInterpolate4,"attributeInterpolate5":attributeInterpolate5,"attributeInterpolate6":attributeInterpolate6,"attributeInterpolate7":attributeInterpolate7,"attributeInterpolate8":attributeInterpolate8,"attributeInterpolateV":attributeInterpolateV,"defineBase":defineBase,"defineComponent":defineComponent,"defineDirective":defineDirective,"defineInjectable":defineInjectable,"defineInjector":defineInjector,"defineNgModule":defineNgModule,"definePipe":definePipe,"directiveInject":directiveInject,"getFactoryOf":getFactoryOf,"getInheritedFactory":getInheritedFactory,"inject":inject,"injectAttribute":injectAttribute,"injectPipeChangeDetectorRef":injectPipeChangeDetectorRef,"templateRefExtractor":templateRefExtractor,"NgOnChangesFeature":NgOnChangesFeature,"ProvidersFeature":ProvidersFeature,"InheritDefinitionFeature":InheritDefinitionFeature,"container":container,"nextContext":nextContext,"containerRefreshStart":containerRefreshStart,"containerRefreshEnd":containerRefreshEnd,"namespaceHTML":namespaceHTML,"namespaceMathML":namespaceMathML,"namespaceSVG":namespaceSVG,"enableBindings":enableBindings,"disableBindings":disableBindings,"allocHostVars":allocHostVars,"elementStart":elementStart,"elementEnd":elementEnd,"element":element,"elementContainerStart":elementContainerStart,"elementContainerEnd":elementContainerEnd,"elementContainer":elementContainer,"pureFunction0":pureFunction0,"pureFunction1":pureFunction1,"pureFunction2":pureFunction2,"pureFunction3":pureFunction3,"pureFunction4":pureFunction4,"pureFunction5":pureFunction5,"pureFunction6":pureFunction6,"pureFunction7":pureFunction7,"pureFunction8":pureFunction8,"pureFunctionV":pureFunctionV,"getCurrentView":getCurrentView,"restoreView":restoreView,"listener":listener,"load":load,"projection":projection,"updateSyntheticHostBinding":updateSyntheticHostBinding,"componentHostSyntheticListener":componentHostSyntheticListener,"pipeBind1":pipeBind1,"pipeBind2":pipeBind2,"pipeBind3":pipeBind3,"pipeBind4":pipeBind4,"pipeBindV":pipeBindV,"projectionDef":projectionDef,"hostProperty":hostProperty,"property":property,"propertyInterpolate":propertyInterpolate,"propertyInterpolate1":propertyInterpolate1,"propertyInterpolate2":propertyInterpolate2,"propertyInterpolate3":propertyInterpolate3,"propertyInterpolate4":propertyInterpolate4,"propertyInterpolate5":propertyInterpolate5,"propertyInterpolate6":propertyInterpolate6,"propertyInterpolate7":propertyInterpolate7,"propertyInterpolate8":propertyInterpolate8,"propertyInterpolateV":propertyInterpolateV,"pipe":pipe,"queryRefresh":queryRefresh,"viewQuery":viewQuery,"staticViewQuery":staticViewQuery,"staticContentQuery":staticContentQuery,"loadViewQuery":loadViewQuery,"contentQuery":contentQuery,"loadContentQuery":loadContentQuery,"reference":reference,"elementHostAttrs":elementHostAttrs,"classMap":classMap,"classMapInterpolate1":classMapInterpolate1,"classMapInterpolate2":classMapInterpolate2,"classMapInterpolate3":classMapInterpolate3,"classMapInterpolate4":classMapInterpolate4,"classMapInterpolate5":classMapInterpolate5,"classMapInterpolate6":classMapInterpolate6,"classMapInterpolate7":classMapInterpolate7,"classMapInterpolate8":classMapInterpolate8,"classMapInterpolateV":classMapInterpolateV,"styling":styling,"styleMap":styleMap,"styleProp":styleProp,"stylePropInterpolate1":stylePropInterpolate1,"stylePropInterpolate2":stylePropInterpolate2,"stylePropInterpolate3":stylePropInterpolate3,"stylePropInterpolate4":stylePropInterpolate4,"stylePropInterpolate5":stylePropInterpolate5,"stylePropInterpolate6":stylePropInterpolate6,"stylePropInterpolate7":stylePropInterpolate7,"stylePropInterpolate8":stylePropInterpolate8,"stylePropInterpolateV":stylePropInterpolateV,"styleSanitizer":styleSanitizer,"stylingApply":stylingApply,"classProp":classProp,"select":select,"template":template,"text":text,"textBinding":textBinding,"textInterpolate":textInterpolate,"textInterpolate1":textInterpolate1,"textInterpolate2":textInterpolate2,"textInterpolate3":textInterpolate3,"textInterpolate4":textInterpolate4,"textInterpolate5":textInterpolate5,"textInterpolate6":textInterpolate6,"textInterpolate7":textInterpolate7,"textInterpolate8":textInterpolate8,"textInterpolateV":textInterpolateV,"embeddedViewStart":embeddedViewStart,"embeddedViewEnd":embeddedViewEnd,"i18n":i18n,"i18nAttributes":i18nAttributes,"i18nExp":i18nExp,"i18nStart":i18nStart,"i18nEnd":i18nEnd,"i18nApply":i18nApply,"i18nPostprocess":i18nPostprocess,"i18nLocalize":i18nLocalize,"resolveWindow":resolveWindow,"resolveDocument":resolveDocument,"resolveBody":resolveBody,"setComponentScope":setComponentScope,"setNgModuleScope":setNgModuleScope,"sanitizeHtml":sanitizeHtml,"sanitizeStyle":sanitizeStyle,"defaultStyleSanitizer":defaultStyleSanitizer,"sanitizeResourceUrl":sanitizeResourceUrl,"sanitizeScript":sanitizeScript,"sanitizeUrl":sanitizeUrl,"sanitizeUrlOrResourceUrl":sanitizeUrlOrResourceUrl},EMPTY_ARRAY$4=[],moduleQueue=[];var flushingModuleQueue=!1;function flushModuleScopingQueueAsMuchAsPossible(){if(!flushingModuleQueue){flushingModuleQueue=!0;try{for(var i=moduleQueue.length-1;i>=0;i--){var _a=moduleQueue[i],moduleType=_a.moduleType,ngModule=_a.ngModule;ngModule.declarations&&ngModule.declarations.every(isResolvedDeclaration)&&(moduleQueue.splice(i,1),setScopeOnDeclaredComponents(moduleType,ngModule))}}finally{flushingModuleQueue=!1}}}function isResolvedDeclaration(declaration){return Array.isArray(declaration)?declaration.every(isResolvedDeclaration):!!resolveForwardRef(declaration)}function compileNgModule(moduleType,ngModule){void 0===ngModule&&(ngModule={}),compileNgModuleDefs(moduleType,ngModule),function(moduleType,ngModule){moduleQueue.push({moduleType:moduleType,ngModule:ngModule})}(moduleType,ngModule)}function compileNgModuleDefs(moduleType,ngModule,allowDuplicateDeclarationsInRoot){void 0===allowDuplicateDeclarationsInRoot&&(allowDuplicateDeclarationsInRoot=!1),ngDevMode&&assertDefined(moduleType,"Required value moduleType"),ngDevMode&&assertDefined(ngModule,"Required value ngModule");var declarations=flatten(ngModule.declarations||EMPTY_ARRAY$4),ngModuleDef=null;Object.defineProperty(moduleType,NG_MODULE_DEF,{configurable:!0,get:function(){if(null===ngModuleDef){if(ngDevMode&&ngModule.imports&&ngModule.imports.indexOf(moduleType)>-1)throw new Error("'"+stringifyForError(moduleType)+"' module can't import itself");ngModuleDef=getCompilerFacade().compileNgModule(angularCoreEnv,"ng:///"+moduleType.name+"/ngModuleDef.js",{type:moduleType,bootstrap:flatten(ngModule.bootstrap||EMPTY_ARRAY$4).map(resolveForwardRef),declarations:declarations.map(resolveForwardRef),imports:flatten(ngModule.imports||EMPTY_ARRAY$4).map(resolveForwardRef).map(expandModuleWithProviders),exports:flatten(ngModule.exports||EMPTY_ARRAY$4).map(resolveForwardRef).map(expandModuleWithProviders),emitInline:!0,schemas:ngModule.schemas?flatten(ngModule.schemas):null,id:ngModule.id||null})}return ngModuleDef}});var ngInjectorDef=null;Object.defineProperty(moduleType,NG_INJECTOR_DEF,{get:function(){if(null===ngInjectorDef){ngDevMode&&verifySemanticsOfNgModuleDef(moduleType,allowDuplicateDeclarationsInRoot);var meta={name:moduleType.name,type:moduleType,deps:reflectDependencies(moduleType),providers:ngModule.providers||EMPTY_ARRAY$4,imports:[(ngModule.imports||EMPTY_ARRAY$4).map(resolveForwardRef),(ngModule.exports||EMPTY_ARRAY$4).map(resolveForwardRef)]};ngInjectorDef=getCompilerFacade().compileInjector(angularCoreEnv,"ng:///"+moduleType.name+"/ngInjectorDef.js",meta)}return ngInjectorDef},configurable:!!ngDevMode})}function verifySemanticsOfNgModuleDef(moduleType,allowDuplicateDeclarationsInRoot,importingModule){if(!verifiedNgModule.get(moduleType)){var ngModuleDef;if(verifiedNgModule.set(moduleType,!0),moduleType=resolveForwardRef(moduleType),importingModule){if(!(ngModuleDef=getNgModuleDef(moduleType)))throw new Error("Unexpected value '"+moduleType.name+"' imported by the module '"+importingModule.name+"'. Please add an @NgModule annotation.")}else ngModuleDef=getNgModuleDef(moduleType,!0);var errors=[],declarations=maybeUnwrapFn(ngModuleDef.declarations),imports=maybeUnwrapFn(ngModuleDef.imports);flatten(imports).map(unwrapModuleWithProvidersImports).forEach(function(mod){verifySemanticsOfNgModuleImport(mod,moduleType),verifySemanticsOfNgModuleDef(mod,!1,moduleType)});var exports=maybeUnwrapFn(ngModuleDef.exports);declarations.forEach(function(type){getComponentDef(type=resolveForwardRef(type))||getDirectiveDef(type)||getPipeDef(type)||errors.push("Unexpected value '"+stringifyForError(type)+"' declared by the module '"+stringifyForError(moduleType)+"'. Please add a @Pipe/@Directive/@Component annotation.")});var combinedDeclarations=(0,_tslib.__spread)(declarations.map(resolveForwardRef),flatten(imports.map(computeCombinedExports)).map(resolveForwardRef));exports.forEach(function(type){var kind=(getComponentDef(type=resolveForwardRef(type))?"component":getDirectiveDef(type)&&"directive")||getPipeDef(type)&&"pipe";kind&&-1===combinedDeclarations.lastIndexOf(type)&&errors.push("Can't export "+kind+" "+stringifyForError(type)+" from "+stringifyForError(moduleType)+" as it was neither declared nor imported!")}),declarations.forEach(function(decl){return function(type,suppressErrors){type=resolveForwardRef(type);var existingModule=ownerNgModule.get(type);if(existingModule&&existingModule!==moduleType){if(!suppressErrors){var modules=[existingModule,moduleType].map(stringifyForError).sort();errors.push("Type "+stringifyForError(type)+" is part of the declarations of 2 modules: "+modules[0]+" and "+modules[1]+"! Please consider moving "+stringifyForError(type)+" to a higher module that imports "+modules[0]+" and "+modules[1]+". You can also create a new NgModule that exports and includes "+stringifyForError(type)+" then import that NgModule in "+modules[0]+" and "+modules[1]+".")}}else ownerNgModule.set(type,moduleType)}(decl,allowDuplicateDeclarationsInRoot)}),declarations.forEach(function(type){if(getComponentDef(type=resolveForwardRef(type))){var component=getAnnotation(type,"Component");component&&component.entryComponents&&deepForEach(component.entryComponents,verifyComponentIsPartOfNgModule)}});var ngModule=getAnnotation(moduleType,"NgModule");if(ngModule&&(ngModule.imports&&flatten(ngModule.imports).map(unwrapModuleWithProvidersImports).forEach(function(mod){verifySemanticsOfNgModuleImport(mod,moduleType),verifySemanticsOfNgModuleDef(mod,!1,moduleType)}),ngModule.bootstrap&&deepForEach(ngModule.bootstrap,function(type){getComponentDef(type=resolveForwardRef(type))||errors.push(stringifyForError(type)+" cannot be used as an entry component.")}),ngModule.bootstrap&&deepForEach(ngModule.bootstrap,verifyComponentIsPartOfNgModule),ngModule.entryComponents&&deepForEach(ngModule.entryComponents,verifyComponentIsPartOfNgModule)),errors.length)throw new Error(errors.join("\n"))}function verifyComponentIsPartOfNgModule(type){type=resolveForwardRef(type),ownerNgModule.get(type)||errors.push("Component "+stringifyForError(type)+" is not part of any NgModule or the module has not been imported into your module.")}function verifySemanticsOfNgModuleImport(type,importingModule){if(getComponentDef(type=resolveForwardRef(type))||getDirectiveDef(type))throw new Error("Unexpected directive '"+type.name+"' imported by the module '"+importingModule.name+"'. Please add an @NgModule annotation.");if(getPipeDef(type))throw new Error("Unexpected pipe '"+type.name+"' imported by the module '"+importingModule.name+"'. Please add an @NgModule annotation.")}}function unwrapModuleWithProvidersImports(typeOrWithProviders){return(typeOrWithProviders=resolveForwardRef(typeOrWithProviders)).ngModule||typeOrWithProviders}function getAnnotation(type,name){var annotation=null;return collect(type.__annotations__),collect(type.decorators),annotation;function collect(annotations){annotations&&annotations.forEach(readAnnotation)}function readAnnotation(decorator){if(!annotation)if(Object.getPrototypeOf(decorator).ngMetadataName==name)annotation=decorator;else if(decorator.type){Object.getPrototypeOf(decorator.type).ngMetadataName==name&&(annotation=decorator.args[0])}}}var ownerNgModule=new Map,verifiedNgModule=new Map;function computeCombinedExports(type){var ngModuleDef=getNgModuleDef(type=resolveForwardRef(type),!0);return(0,_tslib.__spread)(flatten(maybeUnwrapFn(ngModuleDef.exports).map(function(type){return getNgModuleDef(type)?(verifySemanticsOfNgModuleDef(type,!1),computeCombinedExports(type)):type})))}function setScopeOnDeclaredComponents(moduleType,ngModule){var declarations=flatten(ngModule.declarations||EMPTY_ARRAY$4),transitiveScopes=transitiveScopesFor(moduleType);declarations.forEach(function(declaration){declaration.hasOwnProperty(NG_COMPONENT_DEF)?patchComponentDefWithScope(getComponentDef(declaration),transitiveScopes):declaration.hasOwnProperty(NG_DIRECTIVE_DEF)||declaration.hasOwnProperty(NG_PIPE_DEF)||(declaration.ngSelectorScope=moduleType)})}function patchComponentDefWithScope(componentDef,transitiveScopes){componentDef.directiveDefs=function(){return Array.from(transitiveScopes.compilation.directives).map(function(dir){return dir.hasOwnProperty(NG_COMPONENT_DEF)?getComponentDef(dir):getDirectiveDef(dir)}).filter(function(def){return!!def})},componentDef.pipeDefs=function(){return Array.from(transitiveScopes.compilation.pipes).map(function(pipe){return getPipeDef(pipe)})},componentDef.schemas=transitiveScopes.schemas,componentDef.tView=null}function transitiveScopesFor(moduleType,processNgModuleFn){if(!isNgModule(moduleType))throw new Error(moduleType.name+" does not have an ngModuleDef");var def=getNgModuleDef(moduleType);if(null!==def.transitiveCompileScopes)return def.transitiveCompileScopes;var scopes={schemas:def.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return maybeUnwrapFn(def.declarations).forEach(function(declared){getPipeDef(declared)?scopes.compilation.pipes.add(declared):scopes.compilation.directives.add(declared)}),maybeUnwrapFn(def.imports).forEach(function(imported){var importedType=imported;if(!isNgModule(importedType))throw new Error("Importing "+importedType.name+" which does not have an ngModuleDef");processNgModuleFn&&processNgModuleFn(importedType);var importedScope=transitiveScopesFor(importedType,processNgModuleFn);importedScope.exported.directives.forEach(function(entry){return scopes.compilation.directives.add(entry)}),importedScope.exported.pipes.forEach(function(entry){return scopes.compilation.pipes.add(entry)})}),maybeUnwrapFn(def.exports).forEach(function(exported){var exportedType=exported;if(isNgModule(exportedType)){var exportedScope=transitiveScopesFor(exportedType,processNgModuleFn);exportedScope.exported.directives.forEach(function(entry){scopes.compilation.directives.add(entry),scopes.exported.directives.add(entry)}),exportedScope.exported.pipes.forEach(function(entry){scopes.compilation.pipes.add(entry),scopes.exported.pipes.add(entry)})}else getPipeDef(exportedType)?scopes.exported.pipes.add(exportedType):scopes.exported.directives.add(exportedType)}),def.transitiveCompileScopes=scopes,scopes}function expandModuleWithProviders(value){return function(value){return void 0!==value.ngModule}(value)?value.ngModule:value}function isNgModule(value){return!!getNgModuleDef(value)}function compileComponent(type,metadata){var ngComponentDef=null;!function(type,metadata){componentNeedsResolution(metadata)&&(componentResourceResolutionQueue.set(type,metadata),componentDefPendingResolution.add(type))}(type,metadata),Object.defineProperty(type,NG_COMPONENT_DEF,{get:function(){var compiler=getCompilerFacade();if(null===ngComponentDef){if(componentNeedsResolution(metadata)){var error=["Component '"+type.name+"' is not resolved:"];throw metadata.templateUrl&&error.push(" - templateUrl: "+metadata.templateUrl),metadata.styleUrls&&metadata.styleUrls.length&&error.push(" - styleUrls: "+JSON.stringify(metadata.styleUrls)),error.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(error.join("\n"))}var templateUrl=metadata.templateUrl||"ng:///"+type.name+"/template.html",meta=(0,_tslib.__assign)({},directiveMetadata(type,metadata),{typeSourceSpan:compiler.createParseSourceSpan("Component",type.name,templateUrl),template:metadata.template||"",preserveWhitespaces:metadata.preserveWhitespaces||!1,styles:metadata.styles||EMPTY_ARRAY,animations:metadata.animations,directives:[],changeDetection:metadata.changeDetection,pipes:new Map,encapsulation:metadata.encapsulation||ViewEncapsulation.Emulated,interpolation:metadata.interpolation,viewProviders:metadata.viewProviders||null});if(meta.usesInheritance&&addBaseDefToUndecoratedParents(type),ngComponentDef=compiler.compileComponent(angularCoreEnv,templateUrl,meta),flushModuleScopingQueueAsMuchAsPossible(),void 0!==type.ngSelectorScope){var scopes=transitiveScopesFor(type.ngSelectorScope);patchComponentDefWithScope(ngComponentDef,scopes)}}return ngComponentDef},configurable:!!ngDevMode}),compileInjectable(type)}function compileDirective(type,directive){var ngDirectiveDef=null;Object.defineProperty(type,NG_DIRECTIVE_DEF,{get:function(){if(null===ngDirectiveDef){var name_1=type&&type.name,sourceMapUrl="ng:///"+name_1+"/ngDirectiveDef.js",compiler=getCompilerFacade(),facade=directiveMetadata(type,directive);facade.typeSourceSpan=compiler.createParseSourceSpan("Directive",name_1,sourceMapUrl),facade.usesInheritance&&addBaseDefToUndecoratedParents(type),ngDirectiveDef=compiler.compileDirective(angularCoreEnv,sourceMapUrl,facade)}return ngDirectiveDef},configurable:!!ngDevMode}),compileInjectable(type)}function directiveMetadata(type,metadata){var propMetadata=getReflect().ownPropMetadata(type);return{name:type.name,type:type,typeArgumentCount:0,selector:metadata.selector,deps:reflectDependencies(type),host:metadata.host||EMPTY_OBJ,propMetadata:propMetadata,inputs:metadata.inputs||EMPTY_ARRAY,outputs:metadata.outputs||EMPTY_ARRAY,queries:extractQueriesMetadata(type,propMetadata,isContentQuery),lifecycle:{usesOnChanges:type.prototype.hasOwnProperty("ngOnChanges")},typeSourceSpan:null,usesInheritance:!function(type){return Object.getPrototypeOf(type.prototype)===Object.prototype}(type),exportAs:function(exportAs){if(void 0===exportAs)return null;return exportAs.split(",").map(function(part){return part.trim()})}(metadata.exportAs),providers:metadata.providers||null,viewQueries:extractQueriesMetadata(type,propMetadata,isViewQuery)}}function addBaseDefToUndecoratedParents(type){for(var objPrototype=Object.prototype,parent=Object.getPrototypeOf(type);parent&&parent!==objPrototype;){if(!getDirectiveDef(parent)&&!getComponentDef(parent)&&!getBaseDef(parent)){var facade=extractBaseDefMetadata(parent);facade&&compileBase(parent,facade)}parent=Object.getPrototypeOf(parent)}}function compileBase(type,facade){var ngBaseDef=null;Object.defineProperty(type,NG_BASE_DEF,{get:function(){if(null===ngBaseDef){var sourceMapUrl="ng://"+(type&&type.name)+"/ngBaseDef.js",compiler=getCompilerFacade();ngBaseDef=compiler.compileBase(angularCoreEnv,sourceMapUrl,facade)}return ngBaseDef},configurable:!!ngDevMode})}function extractBaseDefMetadata(type){var inputs,outputs,propMetadata=getReflect().ownPropMetadata(type),viewQueries=extractQueriesMetadata(type,propMetadata,isViewQuery),queries=extractQueriesMetadata(type,propMetadata,isContentQuery),hasHostDecorators=!1,_loop_1=function(field){propMetadata[field].forEach(function(ann){var metadataName=ann.ngMetadataName;"Input"===metadataName?(inputs=inputs||{})[field]=ann.bindingPropertyName?[ann.bindingPropertyName,field]:field:"Output"===metadataName?(outputs=outputs||{})[field]=ann.bindingPropertyName||field:"HostBinding"!==metadataName&&"HostListener"!==metadataName||(hasHostDecorators=!0)})};for(var field in propMetadata)_loop_1(field);return inputs||outputs||viewQueries.length||queries.length||hasHostDecorators?{name:type.name,type:type,inputs:inputs,outputs:outputs,viewQueries:viewQueries,queries:queries,propMetadata:propMetadata}:null}function convertToR3QueryMetadata(propertyName,ann){return{propertyName:propertyName,predicate:(selector=ann.selector,"string"==typeof selector?selector.split(",").map(function(piece){return piece.trim()}):resolveForwardRef(selector)),descendants:ann.descendants,first:ann.first,read:ann.read?ann.read:null,static:!!ann.static};var selector}function extractQueriesMetadata(type,propMetadata,isQueryAnn){var queriesMeta=[],_loop_2=function(field){if(propMetadata.hasOwnProperty(field)){var annotations_1=propMetadata[field];annotations_1.forEach(function(ann){if(isQueryAnn(ann)){if(!ann.selector)throw new Error("Can't construct a query for the property \""+field+'" of "'+stringifyForError(type)+"\" since the query selector wasn't defined.");if(annotations_1.some(isInputAnn))throw new Error("Cannot combine @Input decorators with query decorators");queriesMeta.push(convertToR3QueryMetadata(field,ann))}})}};for(var field in propMetadata)_loop_2(field);return queriesMeta}function isContentQuery(value){var name=value.ngMetadataName;return"ContentChild"===name||"ContentChildren"===name}function isViewQuery(value){var name=value.ngMetadataName;return"ViewChild"===name||"ViewChildren"===name}function isInputAnn(value){return"Input"===value.ngMetadataName}function compilePipe(type,meta){var ngPipeDef=null;Object.defineProperty(type,NG_PIPE_DEF,{get:function(){if(null===ngPipeDef){var typeName=type.name;ngPipeDef=getCompilerFacade().compilePipe(angularCoreEnv,"ng:///"+typeName+"/ngPipeDef.js",{type:type,typeArgumentCount:0,name:typeName,deps:reflectDependencies(type),pipeName:meta.name,pure:void 0===meta.pure||meta.pure})}return ngPipeDef},configurable:!!ngDevMode})}var Directive=makeDecorator("Directive",function(dir){return void 0===dir&&(dir={}),dir},void 0,void 0,function(type,meta){return SWITCH_COMPILE_DIRECTIVE(type,meta)});exports.Directive=Directive;var Component=makeDecorator("Component",function(c){return void 0===c&&(c={}),(0,_tslib.__assign)({changeDetection:ChangeDetectionStrategy.Default},c)},Directive,void 0,function(type,meta){return SWITCH_COMPILE_COMPONENT(type,meta)});exports.Component=Component;var Pipe=makeDecorator("Pipe",function(p){return(0,_tslib.__assign)({pure:!0},p)},void 0,void 0,function(type,meta){return SWITCH_COMPILE_PIPE(type,meta)});exports.Pipe=Pipe;var Input=makePropDecorator("Input",function(bindingPropertyName){return{bindingPropertyName:bindingPropertyName}});exports.Input=Input;var Output=makePropDecorator("Output",function(bindingPropertyName){return{bindingPropertyName:bindingPropertyName}});exports.Output=Output;var HostBinding=makePropDecorator("HostBinding",function(hostPropertyName){return{hostPropertyName:hostPropertyName}});exports.HostBinding=HostBinding;var HostListener=makePropDecorator("HostListener",function(eventName,args){return{eventName:eventName,args:args}});exports.HostListener=HostListener;var SWITCH_COMPILE_COMPONENT__POST_R3__=compileComponent;exports.SWITCH_COMPILE_COMPONENT__POST_R3__=SWITCH_COMPILE_COMPONENT__POST_R3__;var SWITCH_COMPILE_DIRECTIVE__POST_R3__=compileDirective;exports.SWITCH_COMPILE_DIRECTIVE__POST_R3__=SWITCH_COMPILE_DIRECTIVE__POST_R3__;var SWITCH_COMPILE_PIPE__POST_R3__=compilePipe;exports.SWITCH_COMPILE_PIPE__POST_R3__=SWITCH_COMPILE_PIPE__POST_R3__;var SWITCH_COMPILE_COMPONENT=noop,SWITCH_COMPILE_DIRECTIVE=noop,SWITCH_COMPILE_PIPE=noop,NgModule=makeDecorator("NgModule",function(ngModule){return ngModule},void 0,void 0,function(type,meta){return SWITCH_COMPILE_NGMODULE(type,meta)});exports.NgModule=NgModule;var SWITCH_COMPILE_NGMODULE__POST_R3__=compileNgModule;exports.SWITCH_COMPILE_NGMODULE__POST_R3__=SWITCH_COMPILE_NGMODULE__POST_R3__;var SWITCH_COMPILE_NGMODULE=function(moduleType,metadata){var imports=metadata&&metadata.imports||[];metadata&&metadata.exports&&(imports=(0,_tslib.__spread)(imports,[metadata.exports])),moduleType.ngInjectorDef=defineInjector({factory:convertInjectableProviderToFactory(moduleType,{useClass:moduleType}),providers:metadata&&metadata.providers,imports:imports})},APP_INITIALIZER=new InjectionToken("Application Initializer");exports.APP_INITIALIZER=APP_INITIALIZER;var ApplicationInitStatus=function(){function ApplicationInitStatus(appInits){var _this=this;this.appInits=appInits,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(res,rej){_this.resolve=res,_this.reject=rej})}return ApplicationInitStatus.prototype.runInitializers=function(){var _this=this;if(!this.initialized){var asyncInitPromises=[],complete=function(){_this.done=!0,_this.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var initResult=this.appInits[i]();isPromise(initResult)&&asyncInitPromises.push(initResult)}Promise.all(asyncInitPromises).then(function(){complete()}).catch(function(e){_this.reject(e)}),0===asyncInitPromises.length&&complete(),this.initialized=!0}},ApplicationInitStatus=(0,_tslib.__decorate)([Injectable(),(0,_tslib.__param)(0,Inject(APP_INITIALIZER)),(0,_tslib.__param)(0,Optional()),(0,_tslib.__metadata)("design:paramtypes",[Array])],ApplicationInitStatus)}();exports.ApplicationInitStatus=ApplicationInitStatus;var APP_ID=new InjectionToken("AppId");function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}exports.APP_ID=APP_ID;var APP_ID_RANDOM_PROVIDER={provide:APP_ID,useFactory:_appIdRandomProviderFactory,deps:[]};function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}exports.APP_ID_RANDOM_PROVIDER=APP_ID_RANDOM_PROVIDER;var PLATFORM_INITIALIZER=new InjectionToken("Platform Initializer");exports.PLATFORM_INITIALIZER=PLATFORM_INITIALIZER;var PLATFORM_ID=new InjectionToken("Platform ID");exports.PLATFORM_ID=PLATFORM_ID;var APP_BOOTSTRAP_LISTENER=new InjectionToken("appBootstrapListener");exports.APP_BOOTSTRAP_LISTENER=APP_BOOTSTRAP_LISTENER;var PACKAGE_ROOT_URL=new InjectionToken("Application Packages Root URL");exports.PACKAGE_ROOT_URL=PACKAGE_ROOT_URL;var Console=function(){function Console(){}return Console.prototype.log=function(message){console.log(message)},Console.prototype.warn=function(message){console.warn(message)},Console=(0,_tslib.__decorate)([Injectable()],Console)}();exports.Console=Console;var LOCALE_ID$1=new InjectionToken("LocaleId");exports.LOCALE_ID=LOCALE_ID$1;var TRANSLATIONS$1=new InjectionToken("Translations");exports.TRANSLATIONS=TRANSLATIONS$1;var MissingTranslationStrategy,TRANSLATIONS_FORMAT=new InjectionToken("TranslationsFormat");exports.TRANSLATIONS_FORMAT=TRANSLATIONS_FORMAT,exports.MissingTranslationStrategy=MissingTranslationStrategy,function(MissingTranslationStrategy){MissingTranslationStrategy[MissingTranslationStrategy.Error=0]="Error",MissingTranslationStrategy[MissingTranslationStrategy.Warning=1]="Warning",MissingTranslationStrategy[MissingTranslationStrategy.Ignore=2]="Ignore"}(MissingTranslationStrategy||(exports.MissingTranslationStrategy=MissingTranslationStrategy={}));exports.SWITCH_IVY_ENABLED__POST_R3__=!0;var ivyEnabled=!1;exports.ivyEnabled=ivyEnabled;var ModuleWithComponentFactories=function(){return function(ngModuleFactory,componentFactories){this.ngModuleFactory=ngModuleFactory,this.componentFactories=componentFactories}}();function _throwError(){throw new Error("Runtime compiler is not loaded")}exports.ModuleWithComponentFactories=ModuleWithComponentFactories;var Compiler_compileModuleSync__PRE_R3__=_throwError,Compiler_compileModuleSync__POST_R3__=function(moduleType){return new NgModuleFactory$1(moduleType)};exports.Compiler_compileModuleSync__POST_R3__=Compiler_compileModuleSync__POST_R3__;var Compiler_compileModuleSync=Compiler_compileModuleSync__PRE_R3__,Compiler_compileModuleAsync__PRE_R3__=_throwError;exports.Compiler_compileModuleAsync__POST_R3__=function(moduleType){return Promise.resolve(Compiler_compileModuleSync__POST_R3__(moduleType))};var Compiler_compileModuleAsync=Compiler_compileModuleAsync__PRE_R3__,Compiler_compileModuleAndAllComponentsSync__PRE_R3__=_throwError,Compiler_compileModuleAndAllComponentsSync__POST_R3__=function(moduleType){var ngModuleFactory=Compiler_compileModuleSync__POST_R3__(moduleType),componentFactories=maybeUnwrapFn(getNgModuleDef(moduleType).declarations).reduce(function(factories,declaration){var componentDef=getComponentDef(declaration);return componentDef&&factories.push(new ComponentFactory$1(componentDef)),factories},[]);return new ModuleWithComponentFactories(ngModuleFactory,componentFactories)};exports.Compiler_compileModuleAndAllComponentsSync__POST_R3__=Compiler_compileModuleAndAllComponentsSync__POST_R3__;var Compiler_compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync__PRE_R3__,Compiler_compileModuleAndAllComponentsAsync__PRE_R3__=_throwError;exports.Compiler_compileModuleAndAllComponentsAsync__POST_R3__=function(moduleType){return Promise.resolve(Compiler_compileModuleAndAllComponentsSync__POST_R3__(moduleType))};var Compiler_compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync__PRE_R3__,Compiler=function(){function Compiler(){this.compileModuleSync=Compiler_compileModuleSync,this.compileModuleAsync=Compiler_compileModuleAsync,this.compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync,this.compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync}return Compiler.prototype.clearCache=function(){},Compiler.prototype.clearCacheFor=function(type){},Compiler.prototype.getModuleId=function(moduleType){},Compiler=(0,_tslib.__decorate)([Injectable()],Compiler)}();exports.Compiler=Compiler;var COMPILER_OPTIONS=new InjectionToken("compilerOptions");exports.COMPILER_OPTIONS=COMPILER_OPTIONS;var trace,events,CompilerFactory=function(){return function(){}}();function detectWTF(){var wtf=_global.wtf;return!(!wtf||!(trace=wtf.trace))&&(events=trace.events,!0)}function createScope(signature,flags){return void 0===flags&&(flags=null),events.createScope(signature,flags)}function leave(scope,returnValue){return trace.leaveScope(scope,returnValue),returnValue}function startTimeRange(rangeType,action){return trace.beginTimeRange(rangeType,action)}function endTimeRange(range){trace.endTimeRange(range)}exports.CompilerFactory=CompilerFactory;var wtfEnabled=detectWTF();function noopScope(arg0,arg1){return null}exports.angular_packages_core_core_s=wtfEnabled;var wtfCreateScope=wtfEnabled?createScope:function(signature,flags){return noopScope};exports.wtfCreateScope=wtfCreateScope;var wtfLeave=wtfEnabled?leave:function(s,r){return r};exports.wtfLeave=wtfLeave;var wtfStartTimeRange=wtfEnabled?startTimeRange:function(rangeType,action){return null};exports.wtfStartTimeRange=wtfStartTimeRange;var wtfEndTimeRange=wtfEnabled?endTimeRange:function(r){return null};exports.wtfEndTimeRange=wtfEndTimeRange;var promise=Promise.resolve(0);function scheduleMicroTask(fn){"undefined"==typeof Zone?promise.then(function(){fn&&fn.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",fn)}var NgZone=function(){function NgZone(_a){var _b=_a.enableLongStackTrace,enableLongStackTrace=void 0!==_b&&_b;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new EventEmitter(!1),this.onMicrotaskEmpty=new EventEmitter(!1),this.onStable=new EventEmitter(!1),this.onError=new EventEmitter(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var zone;this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(zone=this)._inner=zone._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(delegate,current,target,task,applyThis,applyArgs){try{return onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{onLeave(zone)}},onInvoke:function(delegate,current,target,callback,applyThis,applyArgs,source){try{return onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{onLeave(zone)}},onHasTask:function(delegate,current,target,hasTaskState){delegate.hasTask(target,hasTaskState),current===target&&("microTask"==hasTaskState.change?(zone.hasPendingMicrotasks=hasTaskState.microTask,checkStable(zone)):"macroTask"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:function(delegate,current,target,error){return delegate.handleError(target,error),zone.runOutsideAngular(function(){return zone.onError.emit(error)}),!1}})}return NgZone.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},NgZone.assertInAngularZone=function(){if(!NgZone.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},NgZone.assertNotInAngularZone=function(){if(NgZone.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},NgZone.prototype.run=function(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)},NgZone.prototype.runTask=function(fn,applyThis,applyArgs,name){var zone=this._inner,task=zone.scheduleEventTask("NgZoneEvent: "+name,fn,EMPTY_PAYLOAD,noop$1,noop$1);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}},NgZone.prototype.runGuarded=function(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)},NgZone.prototype.runOutsideAngular=function(fn){return this._outer.run(fn)},NgZone}();function noop$1(){}exports.NgZone=NgZone;var EMPTY_PAYLOAD={};function checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(function(){return zone.onStable.emit(null)})}finally{zone.isStable=!0}}}function onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function onLeave(zone){zone._nesting--,checkStable(zone)}var NoopNgZone=function(){function NoopNgZone(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new EventEmitter,this.onMicrotaskEmpty=new EventEmitter,this.onStable=new EventEmitter,this.onError=new EventEmitter}return NoopNgZone.prototype.run=function(fn){return fn()},NoopNgZone.prototype.runGuarded=function(fn){return fn()},NoopNgZone.prototype.runOutsideAngular=function(fn){return fn()},NoopNgZone.prototype.runTask=function(fn){return fn()},NoopNgZone}();exports.NoopNgZone=NoopNgZone;var Testability=function(){function Testability(_ngZone){var _this=this;this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_ngZone.run(function(){_this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return Testability.prototype._watchAngularEvents=function(){var _this=this;this._ngZone.onUnstable.subscribe({next:function(){_this._didWork=!0,_this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){_this._ngZone.onStable.subscribe({next:function(){NgZone.assertNotInAngularZone(),scheduleMicroTask(function(){_this._isZoneStable=!0,_this._runCallbacksIfReady()})}})})},Testability.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},Testability.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},Testability.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},Testability.prototype._runCallbacksIfReady=function(){var _this=this;if(this.isStable())scheduleMicroTask(function(){for(;0!==_this._callbacks.length;){var cb=_this._callbacks.pop();clearTimeout(cb.timeoutId),cb.doneCb(_this._didWork)}_this._didWork=!1});else{var pending_1=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(cb){return!cb.updateCb||!cb.updateCb(pending_1)||(clearTimeout(cb.timeoutId),!1)}),this._didWork=!0}},Testability.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},Testability.prototype.addCallback=function(cb,timeout,updateCb){var _this=this,timeoutId=-1;timeout&&timeout>0&&(timeoutId=setTimeout(function(){_this._callbacks=_this._callbacks.filter(function(cb){return cb.timeoutId!==timeoutId}),cb(_this._didWork,_this.getPendingTasks())},timeout)),this._callbacks.push({doneCb:cb,timeoutId:timeoutId,updateCb:updateCb})},Testability.prototype.whenStable=function(doneCb,timeout,updateCb){if(updateCb&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(doneCb,timeout,updateCb),this._runCallbacksIfReady()},Testability.prototype.getPendingRequestCount=function(){return this._pendingCount},Testability.prototype.findProviders=function(using,provider,exactMatch){return[]},Testability=(0,_tslib.__decorate)([Injectable(),(0,_tslib.__metadata)("design:paramtypes",[NgZone])],Testability)}();exports.Testability=Testability;var TestabilityRegistry=function(){function TestabilityRegistry(){this._applications=new Map,_testabilityGetter.addToWindow(this)}return TestabilityRegistry.prototype.registerApplication=function(token,testability){this._applications.set(token,testability)},TestabilityRegistry.prototype.unregisterApplication=function(token){this._applications.delete(token)},TestabilityRegistry.prototype.unregisterAllApplications=function(){this._applications.clear()},TestabilityRegistry.prototype.getTestability=function(elem){return this._applications.get(elem)||null},TestabilityRegistry.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},TestabilityRegistry.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},TestabilityRegistry.prototype.findTestabilityInTree=function(elem,findInAncestors){return void 0===findInAncestors&&(findInAncestors=!0),_testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)},TestabilityRegistry=(0,_tslib.__decorate)([Injectable(),(0,_tslib.__metadata)("design:paramtypes",[])],TestabilityRegistry)}();exports.TestabilityRegistry=TestabilityRegistry;var _platform,_testabilityGetter=new(function(){function _NoopGetTestability(){}return _NoopGetTestability.prototype.addToWindow=function(registry){},_NoopGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){return null},_NoopGetTestability}()),compileNgModuleFactory=function(injector,options,moduleType){return injector.get(CompilerFactory).createCompiler([options]).compileModuleAsync(moduleType)};var isBoundToModule=function(cf){return cf instanceof ComponentFactoryBoundToModule};var ALLOW_MULTIPLE_PLATFORMS=new InjectionToken("AllowMultipleToken");exports.ALLOW_MULTIPLE_PLATFORMS=ALLOW_MULTIPLE_PLATFORMS;var NgProbeToken=function(){return function(name,token){this.name=name,this.token=token}}();function createPlatform(injector){if(_platform&&!_platform.destroyed&&!_platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_platform=injector.get(PlatformRef);var inits=injector.get(PLATFORM_INITIALIZER,null);return inits&&inits.forEach(function(init){return init()}),_platform}function createPlatformFactory(parentPlatformFactory,name,providers){void 0===providers&&(providers=[]);var desc="Platform: "+name,marker=new InjectionToken(desc);return function(extraProviders){void 0===extraProviders&&(extraProviders=[]);var platform=getPlatform();if(!platform||platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))if(parentPlatformFactory)parentPlatformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:!0}));else{var injectedProviders=providers.concat(extraProviders).concat({provide:marker,useValue:!0});createPlatform(Injector.create({providers:injectedProviders,name:desc}))}return assertPlatform(marker)}}function assertPlatform(requiredToken){var platform=getPlatform();if(!platform)throw new Error("No platform exists!");if(!platform.injector.get(requiredToken,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return platform}function getPlatform(){return _platform&&!_platform.destroyed?_platform:null}exports.NgProbeToken=NgProbeToken;var PlatformRef=function(){function PlatformRef(_injector){this._injector=_injector,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return PlatformRef.prototype.bootstrapModuleFactory=function(moduleFactory,options){var _this=this,ngZone=function(ngZoneOption){var ngZone;ngZone="noop"===ngZoneOption?new NoopNgZone:("zone.js"===ngZoneOption?void 0:ngZoneOption)||new NgZone({enableLongStackTrace:isDevMode()});return ngZone}(options?options.ngZone:void 0),providers=[{provide:NgZone,useValue:ngZone}];return ngZone.run(function(){var ngZoneInjector=Injector.create({providers:providers,parent:_this.injector,name:moduleFactory.moduleType.name}),moduleRef=moduleFactory.create(ngZoneInjector),exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");ivyEnabled&&setLocaleId(moduleRef.injector.get(LOCALE_ID$1,DEFAULT_LOCALE_ID)||DEFAULT_LOCALE_ID);return moduleRef.onDestroy(function(){return remove(_this._modules,moduleRef)}),ngZone.runOutsideAngular(function(){return ngZone.onError.subscribe({next:function(error){exceptionHandler.handleError(error)}})}),function(errorHandler,ngZone,callback){try{var result=callback();return isPromise(result)?result.catch(function(e){throw ngZone.runOutsideAngular(function(){return errorHandler.handleError(e)}),e}):result}catch(e){throw ngZone.runOutsideAngular(function(){return errorHandler.handleError(e)}),e}}(exceptionHandler,ngZone,function(){var initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.runInitializers(),initStatus.donePromise.then(function(){return _this._moduleDoBootstrap(moduleRef),moduleRef})})})},PlatformRef.prototype.bootstrapModule=function(moduleType,compilerOptions){var _this=this;void 0===compilerOptions&&(compilerOptions=[]);var options=optionsReducer({},compilerOptions);return compileNgModuleFactory(this.injector,options,moduleType).then(function(moduleFactory){return _this.bootstrapModuleFactory(moduleFactory,options)})},PlatformRef.prototype._moduleDoBootstrap=function(moduleRef){var appRef=moduleRef.injector.get(ApplicationRef);if(moduleRef._bootstrapComponents.length>0)moduleRef._bootstrapComponents.forEach(function(f){return appRef.bootstrap(f)});else{if(!moduleRef.instance.ngDoBootstrap)throw new Error("The module "+stringify(moduleRef.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');moduleRef.instance.ngDoBootstrap(appRef)}this._modules.push(moduleRef)},PlatformRef.prototype.onDestroy=function(callback){this._destroyListeners.push(callback)},Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),PlatformRef.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(module){return module.destroy()}),this._destroyListeners.forEach(function(listener){return listener()}),this._destroyed=!0},Object.defineProperty(PlatformRef.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),PlatformRef=(0,_tslib.__decorate)([Injectable(),(0,_tslib.__metadata)("design:paramtypes",[Injector])],PlatformRef)}();function optionsReducer(dst,objs){return dst=Array.isArray(objs)?objs.reduce(optionsReducer,dst):(0,_tslib.__assign)({},dst,objs)}exports.PlatformRef=PlatformRef;var ApplicationRef=function(){function ApplicationRef(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus){var _this=this;this._zone=_zone,this._console=_console,this._injector=_injector,this._exceptionHandler=_exceptionHandler,this._componentFactoryResolver=_componentFactoryResolver,this._initStatus=_initStatus,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:function(){_this._zone.run(function(){_this.tick()})}});var isCurrentlyStable=new _rxjs.Observable(function(observer){_this._stable=_this._zone.isStable&&!_this._zone.hasPendingMacrotasks&&!_this._zone.hasPendingMicrotasks,_this._zone.runOutsideAngular(function(){observer.next(_this._stable),observer.complete()})}),isStable=new _rxjs.Observable(function(observer){var stableSub;_this._zone.runOutsideAngular(function(){stableSub=_this._zone.onStable.subscribe(function(){NgZone.assertNotInAngularZone(),scheduleMicroTask(function(){_this._stable||_this._zone.hasPendingMacrotasks||_this._zone.hasPendingMicrotasks||(_this._stable=!0,observer.next(!0))})})});var unstableSub=_this._zone.onUnstable.subscribe(function(){NgZone.assertInAngularZone(),_this._stable&&(_this._stable=!1,_this._zone.runOutsideAngular(function(){observer.next(!1)}))});return function(){stableSub.unsubscribe(),unstableSub.unsubscribe()}});this.isStable=(0,_rxjs.merge)(isCurrentlyStable,isStable.pipe((0,_operators.share)()))}var ApplicationRef_1;return ApplicationRef_1=ApplicationRef,ApplicationRef.prototype.bootstrap=function(componentOrFactory,rootSelectorOrNode){var componentFactory,_this=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");componentFactory=componentOrFactory instanceof ComponentFactory?componentOrFactory:this._componentFactoryResolver.resolveComponentFactory(componentOrFactory),this.componentTypes.push(componentFactory.componentType);var ngModule=isBoundToModule(componentFactory)?null:this._injector.get(NgModuleRef),selectorOrNode=rootSelectorOrNode||componentFactory.selector,compRef=componentFactory.create(Injector.NULL,[],selectorOrNode,ngModule);compRef.onDestroy(function(){_this._unloadComponent(compRef)});var testability=compRef.injector.get(Testability,null);return testability&&compRef.injector.get(TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability),this._loadComponent(compRef),isDevMode()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),compRef},ApplicationRef.prototype.tick=function(){var e_1,_a,e_2,_b,_this=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var scope=ApplicationRef_1._tickScope();try{this._runningTick=!0;try{for(var _c=(0,_tslib.__values)(this._views),_d=_c.next();!_d.done;_d=_c.next()){_d.value.detectChanges()}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}if(this._enforceNoNewChanges)try{for(var _e=(0,_tslib.__values)(this._views),_f=_e.next();!_f.done;_f=_e.next()){_f.value.checkNoChanges()}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_2)throw e_2.error}}}catch(e){this._zone.runOutsideAngular(function(){return _this._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,wtfLeave(scope)}},ApplicationRef.prototype.attachView=function(viewRef){var view=viewRef;this._views.push(view),view.attachToAppRef(this)},ApplicationRef.prototype.detachView=function(viewRef){var view=viewRef;remove(this._views,view),view.detachFromAppRef()},ApplicationRef.prototype._loadComponent=function(componentRef){this.attachView(componentRef.hostView),this.tick(),this.components.push(componentRef),this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners).forEach(function(listener){return listener(componentRef)})},ApplicationRef.prototype._unloadComponent=function(componentRef){this.detachView(componentRef.hostView),remove(this.components,componentRef)},ApplicationRef.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(view){return view.destroy()})},Object.defineProperty(ApplicationRef.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),ApplicationRef._tickScope=wtfCreateScope("ApplicationRef#tick()"),ApplicationRef=ApplicationRef_1=(0,_tslib.__decorate)([Injectable(),(0,_tslib.__metadata)("design:paramtypes",[NgZone,Console,Injector,ErrorHandler,ComponentFactoryResolver,ApplicationInitStatus])],ApplicationRef)}();function remove(list,el){var index=list.indexOf(el);index>-1&&list.splice(index,1)}exports.ApplicationRef=ApplicationRef;var NgModuleFactoryLoader=function(){return function(){}}();function getModuleFactory__PRE_R3__(id){var factory=getRegisteredNgModuleType(id);if(!factory)throw noModuleError(id);return factory}exports.NgModuleFactoryLoader=NgModuleFactoryLoader;var getModuleFactory=getModuleFactory__PRE_R3__;function noModuleError(id){return new Error("No module with ID "+id+" loaded")}exports.getModuleFactory=getModuleFactory;var SystemJsNgModuleLoaderConfig=function(){return function(){}}();exports.SystemJsNgModuleLoaderConfig=SystemJsNgModuleLoaderConfig;var DEFAULT_CONFIG={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},SystemJsNgModuleLoader=function(){function SystemJsNgModuleLoader(_compiler,config){this._compiler=_compiler,this._config=config||DEFAULT_CONFIG}return SystemJsNgModuleLoader.prototype.load=function(path){return!ivyEnabled&&this._compiler instanceof Compiler?this.loadFactory(path):this.loadAndCompile(path)},SystemJsNgModuleLoader.prototype.loadAndCompile=function(path){var _this=this,_a=(0,_tslib.__read)(path.split("#"),2),module=_a[0],exportName=_a[1];return void 0===exportName&&(exportName="default"),System.import(module).then(function(module){return module[exportName]}).then(function(type){return checkNotEmpty(type,module,exportName)}).then(function(type){return _this._compiler.compileModuleAsync(type)})},SystemJsNgModuleLoader.prototype.loadFactory=function(path){var _a=(0,_tslib.__read)(path.split("#"),2),module=_a[0],exportName=_a[1],factoryClassSuffix="NgFactory";return void 0===exportName&&(exportName="default",factoryClassSuffix=""),System.import(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(function(module){return module[exportName+factoryClassSuffix]}).then(function(factory){return checkNotEmpty(factory,module,exportName)})},SystemJsNgModuleLoader=(0,_tslib.__decorate)([Injectable(),(0,_tslib.__param)(1,Optional()),(0,_tslib.__metadata)("design:paramtypes",[Compiler,SystemJsNgModuleLoaderConfig])],SystemJsNgModuleLoader)}();function checkNotEmpty(value,modulePath,exportName){if(!value)throw new Error("Cannot find '"+exportName+"' in '"+modulePath+"'");return value}exports.SystemJsNgModuleLoader=SystemJsNgModuleLoader;var ViewRef$1=function(_super){function ViewRef(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(ViewRef,_super),ViewRef}(ChangeDetectorRef);exports.ViewRef=ViewRef$1;var EmbeddedViewRef=function(_super){function EmbeddedViewRef(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(EmbeddedViewRef,_super),EmbeddedViewRef}(ViewRef$1);exports.EmbeddedViewRef=EmbeddedViewRef;var DebugEventListener=function(){return function(name,callback){this.name=name,this.callback=callback}}();exports.DebugEventListener=DebugEventListener;var DebugNode__PRE_R3__=function(){function DebugNode__PRE_R3__(nativeNode,parent,_debugContext){this.listeners=[],this.parent=null,this._debugContext=_debugContext,this.nativeNode=nativeNode,parent&&parent instanceof DebugElement__PRE_R3__&&parent.addChild(this)}return Object.defineProperty(DebugNode__PRE_R3__.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__PRE_R3__.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__PRE_R3__.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__PRE_R3__.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__PRE_R3__.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),DebugNode__PRE_R3__}();exports.angular_packages_core_core_j=DebugNode__PRE_R3__;var DebugElement__PRE_R3__=function(_super){function DebugElement__PRE_R3__(nativeNode,parent,_debugContext){var _this=_super.call(this,nativeNode,parent,_debugContext)||this;return _this.properties={},_this.attributes={},_this.classes={},_this.styles={},_this.childNodes=[],_this.nativeElement=nativeNode,_this}return(0,_tslib.__extends)(DebugElement__PRE_R3__,_super),DebugElement__PRE_R3__.prototype.addChild=function(child){child&&(this.childNodes.push(child),child.parent=this)},DebugElement__PRE_R3__.prototype.removeChild=function(child){var childIndex=this.childNodes.indexOf(child);-1!==childIndex&&(child.parent=null,this.childNodes.splice(childIndex,1))},DebugElement__PRE_R3__.prototype.insertChildrenAfter=function(child,newChildren){var _a,_this=this,siblingIndex=this.childNodes.indexOf(child);-1!==siblingIndex&&((_a=this.childNodes).splice.apply(_a,(0,_tslib.__spread)([siblingIndex+1,0],newChildren)),newChildren.forEach(function(c){c.parent&&c.parent.removeChild(c),child.parent=_this}))},DebugElement__PRE_R3__.prototype.insertBefore=function(refChild,newChild){var refIndex=this.childNodes.indexOf(refChild);-1===refIndex?this.addChild(newChild):(newChild.parent&&newChild.parent.removeChild(newChild),newChild.parent=this,this.childNodes.splice(refIndex,0,newChild))},DebugElement__PRE_R3__.prototype.query=function(predicate){return this.queryAll(predicate)[0]||null},DebugElement__PRE_R3__.prototype.queryAll=function(predicate){var matches=[];return _queryElementChildren(this,predicate,matches),matches},DebugElement__PRE_R3__.prototype.queryAllNodes=function(predicate){var matches=[];return _queryNodeChildren(this,predicate,matches),matches},Object.defineProperty(DebugElement__PRE_R3__.prototype,"children",{get:function(){return this.childNodes.filter(function(node){return node instanceof DebugElement__PRE_R3__})},enumerable:!0,configurable:!0}),DebugElement__PRE_R3__.prototype.triggerEventHandler=function(eventName,eventObj){this.listeners.forEach(function(listener){listener.name==eventName&&listener.callback(eventObj)})},DebugElement__PRE_R3__}(DebugNode__PRE_R3__);function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(function(node){node instanceof DebugElement__PRE_R3__&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement__PRE_R3__&&parentNode.childNodes.forEach(function(node){predicate(node)&&matches.push(node),node instanceof DebugElement__PRE_R3__&&_queryNodeChildren(node,predicate,matches)})}exports.angular_packages_core_core_k=DebugElement__PRE_R3__;var DebugNode__POST_R3__=function(){function DebugNode__POST_R3__(nativeNode){this.nativeNode=nativeNode}return Object.defineProperty(DebugNode__POST_R3__.prototype,"parent",{get:function(){var parent=this.nativeNode.parentNode;return parent?new DebugElement__POST_R3__(parent):null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__POST_R3__.prototype,"injector",{get:function(){return getInjector(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__POST_R3__.prototype,"componentInstance",{get:function(){var nativeElement=this.nativeNode;return nativeElement&&(getComponent(nativeElement)||getViewComponent(nativeElement))},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__POST_R3__.prototype,"context",{get:function(){return getComponent(this.nativeNode)||getContext$1(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__POST_R3__.prototype,"listeners",{get:function(){return getListeners(this.nativeNode).filter(isBrowserEvents)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__POST_R3__.prototype,"references",{get:function(){return getLocalRefs(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode__POST_R3__.prototype,"providerTokens",{get:function(){return function(element){var context=loadLContext(element,!1);if(!context)return[];for(var obj,tView=context.lView[TVIEW],tNode=tView.data[context.nodeIndex],providerTokens=[],startIndex=65535&tNode.providerIndexes,endIndex=tNode.directiveEnd,i=startIndex;i<endIndex;i++){var value=tView.data[i];void 0!==(obj=value).type&&void 0!==obj.template&&void 0!==obj.declaredInputs&&(value=value.type),providerTokens.push(value)}return providerTokens}(this.nativeNode)},enumerable:!0,configurable:!0}),DebugNode__POST_R3__}(),DebugElement__POST_R3__=function(_super){function DebugElement__POST_R3__(nativeNode){return ngDevMode&&assertDomNode(nativeNode),_super.call(this,nativeNode)||this}return(0,_tslib.__extends)(DebugElement__POST_R3__,_super),Object.defineProperty(DebugElement__POST_R3__.prototype,"nativeElement",{get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugElement__POST_R3__.prototype,"name",{get:function(){return this.nativeElement.nodeName},enumerable:!0,configurable:!0}),Object.defineProperty(DebugElement__POST_R3__.prototype,"properties",{get:function(){var context=loadLContext(this.nativeNode),lView=context.lView,tData=lView[TVIEW].data,tNode=tData[context.nodeIndex],properties=function(tNode,lView,tData){var properties={},bindingIndex=function(metadataIndex,tData){var currentBindingIndex=metadataIndex-1,currentValue=tData[currentBindingIndex];for(;"string"==typeof currentValue&&!isPropMetadataString(currentValue);)currentValue=tData[--currentBindingIndex];return currentBindingIndex+1}(tNode.propertyMetadataStartIndex,tData);for(;bindingIndex<tNode.propertyMetadataEndIndex;){for(var value=void 0,propMetadata=tData[bindingIndex];!isPropMetadataString(propMetadata);)value=(value||"")+renderStringify(lView[bindingIndex])+tData[bindingIndex],propMetadata=tData[++bindingIndex];value=void 0===value?lView[bindingIndex]:value+=lView[bindingIndex];var metadataParts=propMetadata.split(INTERPOLATION_DELIMITER),propertyName=metadataParts[0];propertyName&&(properties[propertyName]=metadataParts[1]&&metadataParts[2]?metadataParts[1]+value+metadataParts[2]:value),bindingIndex++}return properties}(tNode,lView,tData),hostProperties=function(tNode,lView,tData){var properties={},hostPropIndex=tNode.directiveEnd,propMetadata=tData[hostPropIndex];for(;"string"==typeof propMetadata;){var propertyName=propMetadata.split(INTERPOLATION_DELIMITER)[0];properties[propertyName]=lView[hostPropIndex],propMetadata=tData[++hostPropIndex]}return properties}(tNode,lView,tData),className=function(debugElement){var e_2,_a,classes=debugElement.classes,output="";try{for(var _b=(0,_tslib.__values)(Object.keys(classes)),_c=_b.next();!_c.done;_c=_b.next()){var className=_c.value;classes[className]&&(output=output?output+" "+className:className)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}return output}(this),output=(0,_tslib.__assign)({},properties,hostProperties);return className&&(output.className=output.className?output.className+" "+className:className),output},enumerable:!0,configurable:!0}),Object.defineProperty(DebugElement__POST_R3__.prototype,"attributes",{get:function(){var attributes={},element=this.nativeElement;if(!element)return attributes;var context=loadLContext(element),tNodeAttrs=context.lView[TVIEW].data[context.nodeIndex].attrs,lowercaseTNodeAttrs=[];if(tNodeAttrs)for(var i=0;i<tNodeAttrs.length;){var attrName=tNodeAttrs[i];if("string"!=typeof attrName)break;var attrValue=tNodeAttrs[i+1];attributes[attrName]=attrValue,lowercaseTNodeAttrs.push(attrName.toLowerCase()),i+=2}var eAttrs=element.attributes;for(i=0;i<eAttrs.length;i++){var attr=eAttrs[i];-1===lowercaseTNodeAttrs.indexOf(attr.name)&&(attributes[attr.name]=attr.value)}return attributes},enumerable:!0,configurable:!0}),Object.defineProperty(DebugElement__POST_R3__.prototype,"styles",{get:function(){return _getStylingDebugInfo(this.nativeElement,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugElement__POST_R3__.prototype,"classes",{get:function(){return _getStylingDebugInfo(this.nativeElement,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugElement__POST_R3__.prototype,"childNodes",{get:function(){for(var childNodes=this.nativeNode.childNodes,children=[],i=0;i<childNodes.length;i++){var element=childNodes[i];children.push(getDebugNode__POST_R3__(element))}return children},enumerable:!0,configurable:!0}),Object.defineProperty(DebugElement__POST_R3__.prototype,"children",{get:function(){var nativeElement=this.nativeElement;if(!nativeElement)return[];for(var childNodes=nativeElement.children,children=[],i=0;i<childNodes.length;i++){var element=childNodes[i];children.push(getDebugNode__POST_R3__(element))}return children},enumerable:!0,configurable:!0}),DebugElement__POST_R3__.prototype.query=function(predicate){return this.queryAll(predicate)[0]||null},DebugElement__POST_R3__.prototype.queryAll=function(predicate){var matches=[];return _queryAllR3(this,predicate,matches,!0),matches},DebugElement__POST_R3__.prototype.queryAllNodes=function(predicate){var matches=[];return _queryAllR3(this,predicate,matches,!1),matches},DebugElement__POST_R3__.prototype.triggerEventHandler=function(eventName,eventObj){this.listeners.forEach(function(listener){listener.name===eventName&&listener.callback(eventObj)})},DebugElement__POST_R3__}(DebugNode__POST_R3__);function _getStylingDebugInfo(element,isClassBased){if(element){var context=loadLContextFromNode(element),lView=context.lView,tNode=lView[TVIEW].data[context.nodeIndex];return isClassBased?isStylingContext(tNode.classes)?new NodeStylingDebug(tNode.classes,lView,!0).values:stylingMapToStringMap(tNode.classes):isStylingContext(tNode.styles)?new NodeStylingDebug(tNode.styles,lView,!1).values:stylingMapToStringMap(tNode.styles)}return{}}function _queryAllR3(parentElement,predicate,matches,elementsOnly){var context=loadLContext(parentElement.nativeNode);_queryNodeChildrenR3(context.lView[TVIEW].data[context.nodeIndex],context.lView,predicate,matches,elementsOnly,parentElement.nativeNode)}function _queryNodeChildrenR3(tNode,lView,predicate,matches,elementsOnly,rootNativeNode){var e_1,_a,nativeNode=getNativeByTNodeOrNull(tNode,lView);if(3===tNode.type||4===tNode.type){if(_addQueryMatchR3(nativeNode,predicate,matches,elementsOnly,rootNativeNode),isComponent(tNode))(componentView=getComponentViewByIndex(tNode.index,lView))&&componentView[TVIEW].firstChild&&_queryNodeChildrenR3(componentView[TVIEW].firstChild,componentView,predicate,matches,elementsOnly,rootNativeNode);else tNode.child&&_queryNodeChildrenR3(tNode.child,lView,predicate,matches,elementsOnly,rootNativeNode),nativeNode&&function _queryNativeNodeDescendants(parentNode,predicate,matches,elementsOnly){var nodes=parentNode.childNodes;var length=nodes.length;for(var i=0;i<length;i++){var node=nodes[i],debugNode=getDebugNode(node);debugNode&&(elementsOnly&&debugNode instanceof DebugElement__POST_R3__&&predicate(debugNode)&&-1===matches.indexOf(debugNode)?matches.push(debugNode):!elementsOnly&&predicate(debugNode)&&-1===matches.indexOf(debugNode)&&matches.push(debugNode),_queryNativeNodeDescendants(node,predicate,matches,elementsOnly))}}(nativeNode,predicate,matches,elementsOnly);var nodeOrContainer=lView[tNode.index];isLContainer(nodeOrContainer)&&_queryNodeChildrenInContainerR3(nodeOrContainer,predicate,matches,elementsOnly,rootNativeNode)}else if(0===tNode.type){var lContainer=lView[tNode.index];_addQueryMatchR3(lContainer[NATIVE],predicate,matches,elementsOnly,rootNativeNode),_queryNodeChildrenInContainerR3(lContainer,predicate,matches,elementsOnly,rootNativeNode)}else if(1===tNode.type){var componentView,head=(componentView=findComponentView(lView))[T_HOST].projection[tNode.projection];if(Array.isArray(head))try{for(var head_1=(0,_tslib.__values)(head),head_1_1=head_1.next();!head_1_1.done;head_1_1=head_1.next()){_addQueryMatchR3(head_1_1.value,predicate,matches,elementsOnly,rootNativeNode)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{head_1_1&&!head_1_1.done&&(_a=head_1.return)&&_a.call(head_1)}finally{if(e_1)throw e_1.error}}else if(head){var nextTNode,nextLView=componentView[PARENT];_queryNodeChildrenR3(nextTNode=nextLView[TVIEW].data[head.index],nextLView,predicate,matches,elementsOnly,rootNativeNode)}}else tNode.child&&_queryNodeChildrenR3(tNode.child,lView,predicate,matches,elementsOnly,rootNativeNode);rootNativeNode!==nativeNode&&((nextTNode=2&tNode.flags?tNode.projectionNext:tNode.next)&&_queryNodeChildrenR3(nextTNode,lView,predicate,matches,elementsOnly,rootNativeNode))}function _queryNodeChildrenInContainerR3(lContainer,predicate,matches,elementsOnly,rootNativeNode){for(var i=CONTAINER_HEADER_OFFSET;i<lContainer.length;i++){var childView=lContainer[i];_queryNodeChildrenR3(childView[TVIEW].node,childView,predicate,matches,elementsOnly,rootNativeNode)}}function _addQueryMatchR3(nativeNode,predicate,matches,elementsOnly,rootNativeNode){if(rootNativeNode!==nativeNode){var debugNode=getDebugNode(nativeNode);if(!debugNode)return;elementsOnly&&debugNode instanceof DebugElement__POST_R3__&&predicate(debugNode)&&-1===matches.indexOf(debugNode)?matches.push(debugNode):!elementsOnly&&predicate(debugNode)&&-1===matches.indexOf(debugNode)&&matches.push(debugNode)}}var _nativeNodeToDebugNode=new Map;var NG_DEBUG_PROPERTY="__ng_debug__";function getDebugNode__POST_R3__(nativeNode){return nativeNode instanceof Node?(nativeNode.hasOwnProperty(NG_DEBUG_PROPERTY)||(nativeNode[NG_DEBUG_PROPERTY]=nativeNode.nodeType==Node.ELEMENT_NODE?new DebugElement__POST_R3__(nativeNode):new DebugNode__POST_R3__(nativeNode)),nativeNode[NG_DEBUG_PROPERTY]):null}var getDebugNode=function(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)||null};function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}exports.getDebugNode=getDebugNode;var DebugNode=DebugNode__PRE_R3__;exports.DebugNode=DebugNode;var DebugElement=DebugElement__PRE_R3__;exports.DebugElement=DebugElement;var platformCore=createPlatformFactory(null,"core",[{provide:PLATFORM_ID,useValue:"unknown"},{provide:PlatformRef,deps:[Injector]},{provide:TestabilityRegistry,deps:[]},{provide:Console,deps:[]}]);function _iterableDiffersFactory(){return defaultIterableDiffers}function _keyValueDiffersFactory(){return defaultKeyValueDiffers}function _localeFactory(locale){return locale?(ivyEnabled&&setLocaleId(locale),locale):ngI18nClosureMode&&"undefined"!=typeof goog&&"en"!==goog.LOCALE?(ivyEnabled&&setLocaleId(goog.LOCALE),goog.LOCALE):DEFAULT_LOCALE_ID}exports.platformCore=platformCore;var APPLICATION_MODULE_PROVIDERS=[{provide:ApplicationRef,useClass:ApplicationRef,deps:[NgZone,Console,Injector,ErrorHandler,ComponentFactoryResolver,ApplicationInitStatus]},{provide:SCHEDULER,deps:[NgZone],useFactory:zoneSchedulerFactory},{provide:ApplicationInitStatus,useClass:ApplicationInitStatus,deps:[[new Optional,APP_INITIALIZER]]},{provide:Compiler,useClass:Compiler,deps:[]},APP_ID_RANDOM_PROVIDER,{provide:IterableDiffers,useFactory:_iterableDiffersFactory,deps:[]},{provide:KeyValueDiffers,useFactory:_keyValueDiffersFactory,deps:[]},{provide:LOCALE_ID$1,useFactory:_localeFactory,deps:[[new Inject(LOCALE_ID$1),new Optional,new SkipSelf]]}];function zoneSchedulerFactory(ngZone){var queue=[];return ngZone.onStable.subscribe(function(){for(;queue.length;)queue.pop()()}),function(fn){queue.push(fn)}}exports.angular_packages_core_core_q=APPLICATION_MODULE_PROVIDERS;var ViewAction,ApplicationModule=function(){function ApplicationModule(appRef){}return ApplicationModule=(0,_tslib.__decorate)([NgModule({providers:APPLICATION_MODULE_PROVIDERS}),(0,_tslib.__metadata)("design:paramtypes",[ApplicationRef])],ApplicationModule)}();function createElement(view,renderHost,def){var el,elDef=def.element,rootSelectorOrNode=view.root.selectorOrNode,renderer=view.renderer;if(view.parent||!rootSelectorOrNode){el=elDef.name?renderer.createElement(elDef.name,elDef.ns):renderer.createComment("");var parentEl=getParentRenderElement(view,renderHost,def);parentEl&&renderer.appendChild(parentEl,el)}else{var preserveContent=!!elDef.componentRendererType&&elDef.componentRendererType.encapsulation===ViewEncapsulation.ShadowDom;el=renderer.selectRootElement(rootSelectorOrNode,preserveContent)}if(elDef.attrs)for(var i=0;i<elDef.attrs.length;i++){var _a=(0,_tslib.__read)(elDef.attrs[i],3),ns=_a[0],name_2=_a[1],value=_a[2];renderer.setAttribute(el,name_2,value,ns)}return el}function listenToElementOutputs(view,compView,def,el){for(var i=0;i<def.outputs.length;i++){var output=def.outputs[i],handleEventClosure=renderEventHandlerClosure(view,def.nodeIndex,(target=output.target,name=output.eventName,target?target+":"+name:name)),listenTarget=output.target,listenerView=view;"component"===output.target&&(listenTarget=null,listenerView=compView);var disposable=listenerView.renderer.listen(listenTarget||el,output.eventName,handleEventClosure);view.disposables[def.outputIndex+i]=disposable}var target,name}function renderEventHandlerClosure(view,index,eventName){return function(event){return dispatchEvent(view,index,eventName,event)}}function checkAndUpdateElementValue(view,def,bindingIdx,value){if(!checkAndUpdateBinding(view,def,bindingIdx,value))return!1;var binding=def.bindings[bindingIdx],elData=asElementData(view,def.nodeIndex),renderNode=elData.renderElement,name=binding.name;switch(15&binding.flags){case 1:!function(view,binding,renderNode,ns,name,value){var securityContext=binding.securityContext,renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;renderValue=null!=renderValue?renderValue.toString():null;var renderer=view.renderer;null!=value?renderer.setAttribute(renderNode,name,renderValue,ns):renderer.removeAttribute(renderNode,name,ns)}(view,binding,renderNode,binding.ns,name,value);break;case 2:!function(view,renderNode,name,value){var renderer=view.renderer;value?renderer.addClass(renderNode,name):renderer.removeClass(renderNode,name)}(view,renderNode,name,value);break;case 4:!function(view,binding,renderNode,name,value){var renderValue=view.root.sanitizer.sanitize(SecurityContext.STYLE,value);if(null!=renderValue){renderValue=renderValue.toString();var unit=binding.suffix;null!=unit&&(renderValue+=unit)}else renderValue=null;var renderer=view.renderer;null!=renderValue?renderer.setStyle(renderNode,name,renderValue):renderer.removeStyle(renderNode,name)}(view,binding,renderNode,name,value);break;case 8:!function(view,binding,renderNode,name,value){var securityContext=binding.securityContext,renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;view.renderer.setProperty(renderNode,name,renderValue)}(33554432&def.flags&&32&binding.flags?elData.componentView:view,binding,renderNode,name,value)}return!0}function dirtyParentQueries(view){for(var queryIds=view.def.nodeMatchedQueries;view.parent&&isEmbeddedView(view);){var tplDef=view.parentNodeDef;view=view.parent;for(var end=tplDef.nodeIndex+tplDef.childCount,i=0;i<=end;i++){67108864&(nodeDef=view.def.nodes[i]).flags&&536870912&nodeDef.flags&&(nodeDef.query.filterId&queryIds)===nodeDef.query.filterId&&asQueryList(view,i).setDirty(),!(1&nodeDef.flags&&i+nodeDef.childCount<tplDef.nodeIndex)&&67108864&nodeDef.childFlags&&536870912&nodeDef.childFlags||(i+=nodeDef.childCount)}}if(134217728&view.def.nodeFlags)for(i=0;i<view.def.nodes.length;i++){var nodeDef;134217728&(nodeDef=view.def.nodes[i]).flags&&536870912&nodeDef.flags&&asQueryList(view,i).setDirty(),i+=nodeDef.childCount}}function checkAndUpdateQuery(view,nodeDef){var queryList=asQueryList(view,nodeDef.nodeIndex);if(queryList.dirty){var directiveInstance,newValues=void 0;if(67108864&nodeDef.flags){var elementDef=nodeDef.parent.parent;newValues=calcQueryValues(view,elementDef.nodeIndex,elementDef.nodeIndex+elementDef.childCount,nodeDef.query,[]),directiveInstance=asProviderData(view,nodeDef.parent.nodeIndex).instance}else 134217728&nodeDef.flags&&(newValues=calcQueryValues(view,0,view.def.nodes.length-1,nodeDef.query,[]),directiveInstance=view.component);queryList.reset(newValues);for(var bindings=nodeDef.query.bindings,notify=!1,i=0;i<bindings.length;i++){var binding=bindings[i],boundValue=void 0;switch(binding.bindingType){case 0:boundValue=queryList.first;break;case 1:boundValue=queryList,notify=!0}directiveInstance[binding.propName]=boundValue}notify&&queryList.notifyOnChanges()}}function calcQueryValues(view,startIndex,endIndex,queryDef,values){for(var i=startIndex;i<=endIndex;i++){var nodeDef=view.def.nodes[i],valueType=nodeDef.matchedQueries[queryDef.id];if(null!=valueType&&values.push(getQueryValue(view,nodeDef,valueType)),1&nodeDef.flags&&nodeDef.element.template&&(nodeDef.element.template.nodeMatchedQueries&queryDef.filterId)===queryDef.filterId){var elementData=asElementData(view,i);if((nodeDef.childMatchedQueries&queryDef.filterId)===queryDef.filterId&&(calcQueryValues(view,i+1,i+nodeDef.childCount,queryDef,values),i+=nodeDef.childCount),16777216&nodeDef.flags)for(var embeddedViews=elementData.viewContainer._embeddedViews,k=0;k<embeddedViews.length;k++){var embeddedView=embeddedViews[k],dvc=declaredViewContainer(embeddedView);dvc&&dvc===elementData&&calcQueryValues(embeddedView,0,embeddedView.def.nodes.length-1,queryDef,values)}var projectedViews=elementData.template._projectedViews;if(projectedViews)for(k=0;k<projectedViews.length;k++){var projectedView=projectedViews[k];calcQueryValues(projectedView,0,projectedView.def.nodes.length-1,queryDef,values)}}(nodeDef.childMatchedQueries&queryDef.filterId)!==queryDef.filterId&&(i+=nodeDef.childCount)}return values}function getQueryValue(view,nodeDef,queryValueType){if(null!=queryValueType)switch(queryValueType){case 1:return asElementData(view,nodeDef.nodeIndex).renderElement;case 0:return new ElementRef(asElementData(view,nodeDef.nodeIndex).renderElement);case 2:return asElementData(view,nodeDef.nodeIndex).template;case 3:return asElementData(view,nodeDef.nodeIndex).viewContainer;case 4:return asProviderData(view,nodeDef.nodeIndex).instance}}function appendNgContent(view,renderHost,def){var parentEl=getParentRenderElement(view,renderHost,def);parentEl&&visitProjectedRenderNodes(view,def.ngContent.index,1,parentEl,null,void 0)}function _pureExpressionDef(flags,checkIndex,propertyNames){for(var bindings=new Array(propertyNames.length),i=0;i<propertyNames.length;i++){var prop=propertyNames[i];bindings[i]={flags:8,name:prop,ns:null,nonMinifiedName:prop,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function createText(view,renderHost,def){var renderNode,renderer=view.renderer;renderNode=renderer.createText(def.text.prefix);var parentEl=getParentRenderElement(view,renderHost,def);return parentEl&&renderer.appendChild(parentEl,renderNode),{renderText:renderNode}}function _addInterpolationPart(value,binding){return(null!=value?value.toString():"")+binding.suffix}function isNgContainer(node){return 0!=(1&node.flags)&&null===node.element.name}function validateNode(parent,node,nodeCount){var template=node.element&&node.element.template;if(template){if(!template.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(template.lastRenderRootNode&&16777216&template.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+node.nodeIndex+"!")}if(20224&node.flags&&0==(1&(parent?parent.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+node.nodeIndex+"!");if(node.query){if(67108864&node.flags&&(!parent||0==(16384&parent.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+node.nodeIndex+"!");if(134217728&node.flags&&parent)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+node.nodeIndex+"!")}if(node.childCount){var parentEnd=parent?parent.nodeIndex+parent.childCount:nodeCount-1;if(node.nodeIndex<=parentEnd&&node.nodeIndex+node.childCount>parentEnd)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+node.nodeIndex+"!")}}function createEmbeddedView(parent,anchorDef,viewDef,context){var view=createView(parent.root,parent.renderer,parent,anchorDef,viewDef);return initView(view,parent.component,context),createViewNodes(view),view}function createRootView(root,def,context){var view=createView(root,root.renderer,null,null,def);return initView(view,context,context),createViewNodes(view),view}function createComponentView(parentView,nodeDef,viewDef,hostElement){var compRenderer,rendererType=nodeDef.element.componentRendererType;return compRenderer=rendererType?parentView.root.rendererFactory.createRenderer(hostElement,rendererType):parentView.root.renderer,createView(parentView.root,compRenderer,parentView,nodeDef.element.componentProvider,viewDef)}function createView(root,renderer,parent,parentNodeDef,def){var nodes=new Array(def.nodes.length),disposables=def.outputCount?new Array(def.outputCount):null;return{def:def,parent:parent,viewContainerParent:null,parentNodeDef:parentNodeDef,context:null,component:null,nodes:nodes,state:13,root:root,renderer:renderer,oldValues:new Array(def.bindingCount),disposables:disposables,initIndex:-1}}function initView(view,component,context){view.component=component,view.context=context}function createViewNodes(view){var renderHost;if(isComponentView(view)){var hostDef=view.parentNodeDef;renderHost=asElementData(view.parent,hostDef.parent.nodeIndex).renderElement}for(var def=view.def,nodes=view.nodes,i=0;i<def.nodes.length;i++){var nodeDef=def.nodes[i];Services.setCurrentNode(view,i);var nodeData=void 0;switch(201347067&nodeDef.flags){case 1:var el=createElement(view,renderHost,nodeDef),componentView=void 0;if(33554432&nodeDef.flags){var compViewDef=resolveDefinition(nodeDef.element.componentView);componentView=Services.createComponentView(view,nodeDef,compViewDef,el)}listenToElementOutputs(view,componentView,nodeDef,el),nodeData={renderElement:el,componentView:componentView,viewContainer:null,template:nodeDef.element.template?createTemplateData(view,nodeDef):void 0},16777216&nodeDef.flags&&(nodeData.viewContainer=createViewContainerData(view,nodeDef,nodeData));break;case 2:nodeData=createText(view,renderHost,nodeDef);break;case 512:case 1024:case 2048:case 256:if(!((nodeData=nodes[i])||4096&nodeDef.flags))nodeData={instance:createProviderInstance(view,nodeDef)};break;case 16:nodeData={instance:createPipeInstance(view,nodeDef)};break;case 16384:if(!(nodeData=nodes[i]))nodeData={instance:createDirectiveInstance(view,nodeDef)};if(32768&nodeDef.flags)initView(asElementData(view,nodeDef.parent.nodeIndex).componentView,nodeData.instance,nodeData.instance);break;case 32:case 64:case 128:nodeData={value:void 0};break;case 67108864:case 134217728:nodeData=new QueryList;break;case 8:appendNgContent(view,renderHost,nodeDef),nodeData=void 0}nodes[i]=nodeData}execComponentViewsAction(view,ViewAction.CreateViewNodes),execQueriesAction(view,201326592,268435456,0)}function checkNoChangesView(view){markProjectedViewsForCheck(view),Services.updateDirectives(view,1),execEmbeddedViewsAction(view,ViewAction.CheckNoChanges),Services.updateRenderer(view,1),execComponentViewsAction(view,ViewAction.CheckNoChanges),view.state&=-97}function checkAndUpdateView(view){1&view.state?(view.state&=-2,view.state|=2):view.state&=-3,shiftInitState(view,0,256),markProjectedViewsForCheck(view),Services.updateDirectives(view,0),execEmbeddedViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,67108864,536870912,0);var callInit=shiftInitState(view,256,512);callLifecycleHooksChildrenFirst(view,2097152|(callInit?1048576:0)),Services.updateRenderer(view,0),execComponentViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,134217728,536870912,0),callLifecycleHooksChildrenFirst(view,8388608|((callInit=shiftInitState(view,512,768))?4194304:0)),2&view.def.flags&&(view.state&=-9),view.state&=-97,shiftInitState(view,768,1024)}function checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){switch(201347067&nodeDef.flags){case 1:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){var bindLen=def.bindings.length,changed=!1;return bindLen>0&&checkAndUpdateElementValue(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateElementValue(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateElementValue(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateElementValue(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateElementValue(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateElementValue(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateElementValue(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateElementValue(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateElementValue(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateElementValue(view,def,9,v9)&&(changed=!0),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 2:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){var changed=!1,bindings=def.bindings,bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){var value=def.text.prefix;bindLen>0&&(value+=_addInterpolationPart(v0,bindings[0])),bindLen>1&&(value+=_addInterpolationPart(v1,bindings[1])),bindLen>2&&(value+=_addInterpolationPart(v2,bindings[2])),bindLen>3&&(value+=_addInterpolationPart(v3,bindings[3])),bindLen>4&&(value+=_addInterpolationPart(v4,bindings[4])),bindLen>5&&(value+=_addInterpolationPart(v5,bindings[5])),bindLen>6&&(value+=_addInterpolationPart(v6,bindings[6])),bindLen>7&&(value+=_addInterpolationPart(v7,bindings[7])),bindLen>8&&(value+=_addInterpolationPart(v8,bindings[8])),bindLen>9&&(value+=_addInterpolationPart(v9,bindings[9]));var renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 16384:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){var providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance,changed=!1,changes=void 0,bindLen=def.bindings.length;return bindLen>0&&checkBinding(view,def,0,v0)&&(changed=!0,changes=updateProp(view,providerData,def,0,v0,changes)),bindLen>1&&checkBinding(view,def,1,v1)&&(changed=!0,changes=updateProp(view,providerData,def,1,v1,changes)),bindLen>2&&checkBinding(view,def,2,v2)&&(changed=!0,changes=updateProp(view,providerData,def,2,v2,changes)),bindLen>3&&checkBinding(view,def,3,v3)&&(changed=!0,changes=updateProp(view,providerData,def,3,v3,changes)),bindLen>4&&checkBinding(view,def,4,v4)&&(changed=!0,changes=updateProp(view,providerData,def,4,v4,changes)),bindLen>5&&checkBinding(view,def,5,v5)&&(changed=!0,changes=updateProp(view,providerData,def,5,v5,changes)),bindLen>6&&checkBinding(view,def,6,v6)&&(changed=!0,changes=updateProp(view,providerData,def,6,v6,changes)),bindLen>7&&checkBinding(view,def,7,v7)&&(changed=!0,changes=updateProp(view,providerData,def,7,v7,changes)),bindLen>8&&checkBinding(view,def,8,v8)&&(changed=!0,changes=updateProp(view,providerData,def,8,v8,changes)),bindLen>9&&checkBinding(view,def,9,v9)&&(changed=!0,changes=updateProp(view,providerData,def,9,v9,changes)),changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 32:case 64:case 128:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){var bindings=def.bindings,changed=!1,bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){var data=asPureExpressionData(view,def.nodeIndex),value=void 0;switch(201347067&def.flags){case 32:value=new Array(bindings.length),bindLen>0&&(value[0]=v0),bindLen>1&&(value[1]=v1),bindLen>2&&(value[2]=v2),bindLen>3&&(value[3]=v3),bindLen>4&&(value[4]=v4),bindLen>5&&(value[5]=v5),bindLen>6&&(value[6]=v6),bindLen>7&&(value[7]=v7),bindLen>8&&(value[8]=v8),bindLen>9&&(value[9]=v9);break;case 64:value={},bindLen>0&&(value[bindings[0].name]=v0),bindLen>1&&(value[bindings[1].name]=v1),bindLen>2&&(value[bindings[2].name]=v2),bindLen>3&&(value[bindings[3].name]=v3),bindLen>4&&(value[bindings[4].name]=v4),bindLen>5&&(value[bindings[5].name]=v5),bindLen>6&&(value[bindings[6].name]=v6),bindLen>7&&(value[bindings[7].name]=v7),bindLen>8&&(value[bindings[8].name]=v8),bindLen>9&&(value[bindings[9].name]=v9);break;case 128:var pipe=v0;switch(bindLen){case 1:value=pipe.transform(v0);break;case 2:value=pipe.transform(v1);break;case 3:value=pipe.transform(v1,v2);break;case 4:value=pipe.transform(v1,v2,v3);break;case 5:value=pipe.transform(v1,v2,v3,v4);break;case 6:value=pipe.transform(v1,v2,v3,v4,v5);break;case 7:value=pipe.transform(v1,v2,v3,v4,v5,v6);break;case 8:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7);break;case 9:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8);break;case 10:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8,v9)}}data.value=value}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);default:throw"unreachable"}}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){switch(201347067&nodeDef.flags){case 1:return function(view,def,values){for(var changed=!1,i=0;i<values.length;i++)checkAndUpdateElementValue(view,def,i,values[i])&&(changed=!0);return changed}(view,nodeDef,values);case 2:return function(view,def,values){for(var bindings=def.bindings,changed=!1,i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){var value="";for(i=0;i<values.length;i++)value+=_addInterpolationPart(values[i],bindings[i]);value=def.text.prefix+value;var renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,values);case 16384:return function(view,def,values){for(var providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance,changed=!1,changes=void 0,i=0;i<values.length;i++)checkBinding(view,def,i,values[i])&&(changed=!0,changes=updateProp(view,providerData,def,i,values[i],changes));return changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,values);case 32:case 64:case 128:return function(view,def,values){for(var bindings=def.bindings,changed=!1,i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){var data=asPureExpressionData(view,def.nodeIndex),value=void 0;switch(201347067&def.flags){case 32:value=values;break;case 64:for(value={},i=0;i<values.length;i++)value[bindings[i].name]=values[i];break;case 128:var pipe=values[0],params=values.slice(1);value=pipe.transform.apply(pipe,(0,_tslib.__spread)(params))}data.value=value}return changed}(view,nodeDef,values);default:throw"unreachable"}}(view,nodeDef,v0)}function markProjectedViewsForCheck(view){var def=view.def;if(4&def.nodeFlags)for(var i=0;i<def.nodes.length;i++){var nodeDef=def.nodes[i];if(4&nodeDef.flags){var projectedViews=asElementData(view,i).template._projectedViews;if(projectedViews)for(var i_1=0;i_1<projectedViews.length;i_1++){var projectedView=projectedViews[i_1];projectedView.state|=32,markParentViewsForCheckProjectedViews(projectedView,view)}}else 0==(4&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){var bindLen=nodeDef.bindings.length;bindLen>0&&checkBindingNoChanges(view,nodeDef,0,v0);bindLen>1&&checkBindingNoChanges(view,nodeDef,1,v1);bindLen>2&&checkBindingNoChanges(view,nodeDef,2,v2);bindLen>3&&checkBindingNoChanges(view,nodeDef,3,v3);bindLen>4&&checkBindingNoChanges(view,nodeDef,4,v4);bindLen>5&&checkBindingNoChanges(view,nodeDef,5,v5);bindLen>6&&checkBindingNoChanges(view,nodeDef,6,v6);bindLen>7&&checkBindingNoChanges(view,nodeDef,7,v7);bindLen>8&&checkBindingNoChanges(view,nodeDef,8,v8);bindLen>9&&checkBindingNoChanges(view,nodeDef,9,v9)}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){for(var i=0;i<values.length;i++)checkBindingNoChanges(view,nodeDef,i,values[i])}(view,nodeDef,v0),!1}function checkNoChangesQuery(view,nodeDef){if(asQueryList(view,nodeDef.nodeIndex).dirty)throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,nodeDef.nodeIndex),"Query "+nodeDef.query.id+" not dirty","Query "+nodeDef.query.id+" dirty",0!=(1&view.state))}function destroyView(view){if(!(128&view.state)){if(execEmbeddedViewsAction(view,ViewAction.Destroy),execComponentViewsAction(view,ViewAction.Destroy),callLifecycleHooksChildrenFirst(view,131072),view.disposables)for(var i=0;i<view.disposables.length;i++)view.disposables[i]();!function(view){if(16&view.state){var dvcElementData=declaredViewContainer(view);if(dvcElementData){var projectedViews=dvcElementData.template._projectedViews;projectedViews&&(removeFromArray(projectedViews,projectedViews.indexOf(view)),Services.dirtyParentQueries(view))}}}(view),view.renderer.destroyNode&&function(view){for(var len=view.def.nodes.length,i=0;i<len;i++){var def=view.def.nodes[i];1&def.flags?view.renderer.destroyNode(asElementData(view,i).renderElement):2&def.flags?view.renderer.destroyNode(asTextData(view,i).renderText):(67108864&def.flags||134217728&def.flags)&&asQueryList(view,i).destroy()}}(view),isComponentView(view)&&view.renderer.destroy(),view.state|=128}}function execComponentViewsAction(view,action){var def=view.def;if(33554432&def.nodeFlags)for(var i=0;i<def.nodes.length;i++){var nodeDef=def.nodes[i];33554432&nodeDef.flags?callViewAction(asElementData(view,i).componentView,action):0==(33554432&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function execEmbeddedViewsAction(view,action){var def=view.def;if(16777216&def.nodeFlags)for(var i=0;i<def.nodes.length;i++){var nodeDef=def.nodes[i];if(16777216&nodeDef.flags)for(var embeddedViews=asElementData(view,i).viewContainer._embeddedViews,k=0;k<embeddedViews.length;k++)callViewAction(embeddedViews[k],action);else 0==(16777216&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function callViewAction(view,action){var viewState=view.state;switch(action){case ViewAction.CheckNoChanges:0==(128&viewState)&&(12==(12&viewState)?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckNoChangesProjectedViews));break;case ViewAction.CheckNoChangesProjectedViews:0==(128&viewState)&&(32&viewState?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.CheckAndUpdate:0==(128&viewState)&&(12==(12&viewState)?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckAndUpdateProjectedViews));break;case ViewAction.CheckAndUpdateProjectedViews:0==(128&viewState)&&(32&viewState?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.Destroy:destroyView(view);break;case ViewAction.CreateViewNodes:createViewNodes(view)}}function execProjectedViewsAction(view,action){execEmbeddedViewsAction(view,action),execComponentViewsAction(view,action)}function execQueriesAction(view,queryFlags,staticDynamicQueryFlag,checkType){if(view.def.nodeFlags&queryFlags&&view.def.nodeFlags&staticDynamicQueryFlag)for(var nodeCount=view.def.nodes.length,i=0;i<nodeCount;i++){var nodeDef=view.def.nodes[i];if(nodeDef.flags&queryFlags&&nodeDef.flags&staticDynamicQueryFlag)switch(Services.setCurrentNode(view,nodeDef.nodeIndex),checkType){case 0:checkAndUpdateQuery(view,nodeDef);break;case 1:checkNoChangesQuery(view,nodeDef)}nodeDef.childFlags&queryFlags&&nodeDef.childFlags&staticDynamicQueryFlag||(i+=nodeDef.childCount)}}exports.ApplicationModule=ApplicationModule,function(ViewAction){ViewAction[ViewAction.CreateViewNodes=0]="CreateViewNodes",ViewAction[ViewAction.CheckNoChanges=1]="CheckNoChanges",ViewAction[ViewAction.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",ViewAction[ViewAction.CheckAndUpdate=3]="CheckAndUpdate",ViewAction[ViewAction.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",ViewAction[ViewAction.Destroy=5]="Destroy"}(ViewAction||(ViewAction={}));var initialized=!1;function initServicesIfNeeded(){if(!initialized){initialized=!0;var services=isDevMode()?{setCurrentNode:debugSetCurrentNode,createRootView:debugCreateRootView,createEmbeddedView:debugCreateEmbeddedView,createComponentView:debugCreateComponentView,createNgModuleRef:debugCreateNgModuleRef,overrideProvider:debugOverrideProvider,overrideComponentView:debugOverrideComponentView,clearOverrides:debugClearOverrides,checkAndUpdateView:debugCheckAndUpdateView,checkNoChangesView:debugCheckNoChangesView,destroyView:debugDestroyView,createDebugContext:function(view,nodeIndex){return new DebugContext_(view,nodeIndex)},handleEvent:debugHandleEvent,updateDirectives:debugUpdateDirectives,updateRenderer:debugUpdateRenderer}:{setCurrentNode:function(){},createRootView:createProdRootView,createEmbeddedView:createEmbeddedView,createComponentView:createComponentView,createNgModuleRef:createNgModuleRef,overrideProvider:NOOP,overrideComponentView:NOOP,clearOverrides:NOOP,checkAndUpdateView:checkAndUpdateView,checkNoChangesView:checkNoChangesView,destroyView:destroyView,createDebugContext:function(view,nodeIndex){return new DebugContext_(view,nodeIndex)},handleEvent:function(view,nodeIndex,eventName,event){return view.def.handleEvent(view,nodeIndex,eventName,event)},updateDirectives:function(view,checkType){return view.def.updateDirectives(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view)},updateRenderer:function(view,checkType){return view.def.updateRenderer(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view)}};Services.setCurrentNode=services.setCurrentNode,Services.createRootView=services.createRootView,Services.createEmbeddedView=services.createEmbeddedView,Services.createComponentView=services.createComponentView,Services.createNgModuleRef=services.createNgModuleRef,Services.overrideProvider=services.overrideProvider,Services.overrideComponentView=services.overrideComponentView,Services.clearOverrides=services.clearOverrides,Services.checkAndUpdateView=services.checkAndUpdateView,Services.checkNoChangesView=services.checkNoChangesView,Services.destroyView=services.destroyView,Services.resolveDep=resolveDep,Services.createDebugContext=services.createDebugContext,Services.handleEvent=services.handleEvent,Services.updateDirectives=services.updateDirectives,Services.updateRenderer=services.updateRenderer,Services.dirtyParentQueries=dirtyParentQueries}}function createProdRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){return createRootView(createRootData(elInjector,ngModule,ngModule.injector.get(RendererFactory2),projectableNodes,rootSelectorOrNode),def,context)}function debugCreateRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){var rendererFactory=ngModule.injector.get(RendererFactory2),root=createRootData(elInjector,ngModule,new DebugRendererFactory2(rendererFactory),projectableNodes,rootSelectorOrNode),defWithOverride=applyProviderOverridesToView(def);return callWithDebugContext(DebugAction.create,createRootView,null,[root,defWithOverride,context])}function createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode){var sanitizer=ngModule.injector.get(Sanitizer),errorHandler=ngModule.injector.get(ErrorHandler);return{ngModule:ngModule,injector:elInjector,projectableNodes:projectableNodes,selectorOrNode:rootSelectorOrNode,sanitizer:sanitizer,rendererFactory:rendererFactory,renderer:rendererFactory.createRenderer(null,null),errorHandler:errorHandler}}function debugCreateEmbeddedView(parentView,anchorDef,viewDef,context){var defWithOverride=applyProviderOverridesToView(viewDef);return callWithDebugContext(DebugAction.create,createEmbeddedView,null,[parentView,anchorDef,defWithOverride,context])}function debugCreateComponentView(parentView,nodeDef,viewDef,hostElement){var overrideComponentView=viewDefOverrides.get(nodeDef.element.componentProvider.provider.token);return viewDef=overrideComponentView||applyProviderOverridesToView(viewDef),callWithDebugContext(DebugAction.create,createComponentView,null,[parentView,nodeDef,viewDef,hostElement])}function debugCreateNgModuleRef(moduleType,parentInjector,bootstrapComponents,def){return createNgModuleRef(moduleType,parentInjector,bootstrapComponents,function(def){var _a=function(def){var hasOverrides=!1,hasDeprecatedOverrides=!1;if(0===providerOverrides.size)return{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides};return def.providers.forEach(function(node){var override=providerOverrides.get(node.token);3840&node.flags&&override&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)}),def.modules.forEach(function(module){providerOverridesWithScope.forEach(function(override,token){getInjectableDef(token).providedIn===module&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)})}),{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}}(def),hasOverrides=_a.hasOverrides,hasDeprecatedOverrides=_a.hasDeprecatedOverrides;if(!hasOverrides)return def;return function(def){for(var i=0;i<def.providers.length;i++){var provider=def.providers[i];hasDeprecatedOverrides&&(provider.flags|=4096);var override=providerOverrides.get(provider.token);override&&(provider.flags=-3841&provider.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}if(providerOverridesWithScope.size>0){var moduleSet_1=new Set(def.modules);providerOverridesWithScope.forEach(function(override,token){if(moduleSet_1.has(getInjectableDef(token).providedIn)){var provider={token:token,flags:override.flags|(hasDeprecatedOverrides?4096:0),deps:splitDepsDsl(override.deps),value:override.value,index:def.providers.length};def.providers.push(provider),def.providersByKey[tokenKey(token)]=provider}})}}(def=def.factory(function(){return NOOP})),def}(def))}var DebugAction,_currentAction,_currentView,_currentNodeIndex,providerOverrides=new Map,providerOverridesWithScope=new Map,viewDefOverrides=new Map;function debugOverrideProvider(override){var injectableDef;providerOverrides.set(override.token,override),"function"==typeof override.token&&(injectableDef=getInjectableDef(override.token))&&"function"==typeof injectableDef.providedIn&&providerOverridesWithScope.set(override.token,override)}function debugOverrideComponentView(comp,compFactory){var compViewDef=resolveDefinition(resolveDefinition(getComponentViewDefinitionFactory(compFactory)).nodes[0].element.componentView);viewDefOverrides.set(comp,compViewDef)}function debugClearOverrides(){providerOverrides.clear(),providerOverridesWithScope.clear(),viewDefOverrides.clear()}function applyProviderOverridesToView(def){if(0===providerOverrides.size)return def;var elementIndicesWithOverwrittenProviders=function(def){for(var elIndicesWithOverwrittenProviders=[],lastElementDef=null,i=0;i<def.nodes.length;i++){var nodeDef=def.nodes[i];1&nodeDef.flags&&(lastElementDef=nodeDef),lastElementDef&&3840&nodeDef.flags&&providerOverrides.has(nodeDef.provider.token)&&(elIndicesWithOverwrittenProviders.push(lastElementDef.nodeIndex),lastElementDef=null)}return elIndicesWithOverwrittenProviders}(def);if(0===elementIndicesWithOverwrittenProviders.length)return def;def=def.factory(function(){return NOOP});for(var i=0;i<elementIndicesWithOverwrittenProviders.length;i++)applyProviderOverridesToElement(def,elementIndicesWithOverwrittenProviders[i]);return def;function applyProviderOverridesToElement(viewDef,elIndex){for(var i=elIndex+1;i<viewDef.nodes.length;i++){var nodeDef=viewDef.nodes[i];if(1&nodeDef.flags)return;if(3840&nodeDef.flags){var provider=nodeDef.provider,override=providerOverrides.get(provider.token);override&&(nodeDef.flags=-3841&nodeDef.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}}}}function prodCheckAndUpdateNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){var nodeDef=view.def.nodes[checkIndex];return checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function prodCheckNoChangesNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){var nodeDef=view.def.nodes[checkIndex];return checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function debugCheckAndUpdateView(view){return callWithDebugContext(DebugAction.detectChanges,checkAndUpdateView,null,[view])}function debugCheckNoChangesView(view){return callWithDebugContext(DebugAction.checkNoChanges,checkNoChangesView,null,[view])}function debugDestroyView(view){return callWithDebugContext(DebugAction.destroy,destroyView,null,[view])}function debugSetCurrentNode(view,nodeIndex){_currentView=view,_currentNodeIndex=nodeIndex}function debugHandleEvent(view,nodeIndex,eventName,event){return debugSetCurrentNode(view,nodeIndex),callWithDebugContext(DebugAction.handleEvent,view.def.handleEvent,null,[view,nodeIndex,eventName,event])}function debugUpdateDirectives(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextDirectiveWithBinding(view,0)),view.def.updateDirectives(function(view,nodeIndex,argStyle){for(var values=[],_i=3;_i<arguments.length;_i++)values[_i-3]=arguments[_i];var nodeDef=view.def.nodes[nodeIndex];0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values);16384&nodeDef.flags&&debugSetCurrentNode(view,nextDirectiveWithBinding(view,nodeIndex));return 224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0},view)}function debugUpdateRenderer(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextRenderNodeWithBinding(view,0)),view.def.updateRenderer(function(view,nodeIndex,argStyle){for(var values=[],_i=3;_i<arguments.length;_i++)values[_i-3]=arguments[_i];var nodeDef=view.def.nodes[nodeIndex];0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values);3&nodeDef.flags&&debugSetCurrentNode(view,nextRenderNodeWithBinding(view,nodeIndex));return 224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0},view)}function debugCheckAndUpdateNode(view,nodeDef,argStyle,givenValues){if(checkAndUpdateNode.apply(void 0,(0,_tslib.__spread)([view,nodeDef,argStyle],givenValues))){var values=1===argStyle?givenValues[0]:givenValues;if(16384&nodeDef.flags){for(var bindingValues={},i=0;i<nodeDef.bindings.length;i++){var binding=nodeDef.bindings[i],value=values[i];8&binding.flags&&(bindingValues[normalizeDebugBindingName(binding.nonMinifiedName)]=normalizeDebugBindingValue(value))}var elDef=nodeDef.parent,el=asElementData(view,elDef.nodeIndex).renderElement;if(elDef.element.name)for(var attr in bindingValues){null!=(value=bindingValues[attr])?view.renderer.setAttribute(el,attr,value):view.renderer.removeAttribute(el,attr)}else view.renderer.setValue(el,"bindings="+JSON.stringify(bindingValues,null,2))}}}function debugCheckNoChangesNode(view,nodeDef,argStyle,values){checkNoChangesNode.apply(void 0,(0,_tslib.__spread)([view,nodeDef,argStyle],values))}function nextDirectiveWithBinding(view,nodeIndex){for(var i=nodeIndex;i<view.def.nodes.length;i++){var nodeDef=view.def.nodes[i];if(16384&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}function nextRenderNodeWithBinding(view,nodeIndex){for(var i=nodeIndex;i<view.def.nodes.length;i++){var nodeDef=view.def.nodes[i];if(3&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}!function(DebugAction){DebugAction[DebugAction.create=0]="create",DebugAction[DebugAction.detectChanges=1]="detectChanges",DebugAction[DebugAction.checkNoChanges=2]="checkNoChanges",DebugAction[DebugAction.destroy=3]="destroy",DebugAction[DebugAction.handleEvent=4]="handleEvent"}(DebugAction||(DebugAction={}));var DebugContext_=function(){function DebugContext_(view,nodeIndex){this.view=view,this.nodeIndex=nodeIndex,null==nodeIndex&&(this.nodeIndex=nodeIndex=0),this.nodeDef=view.def.nodes[nodeIndex];for(var elDef=this.nodeDef,elView=view;elDef&&0==(1&elDef.flags);)elDef=elDef.parent;if(!elDef)for(;!elDef&&elView;)elDef=viewParentEl(elView),elView=elView.parent;this.elDef=elDef,this.elView=elView}return Object.defineProperty(DebugContext_.prototype,"elOrCompView",{get:function(){return asElementData(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext_.prototype,"injector",{get:function(){return createInjector$1(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext_.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext_.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext_.prototype,"providerTokens",{get:function(){var tokens=[];if(this.elDef)for(var i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){var childDef=this.elView.def.nodes[i];20224&childDef.flags&&tokens.push(childDef.provider.token),i+=childDef.childCount}return tokens},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext_.prototype,"references",{get:function(){var references={};if(this.elDef){collectReferences(this.elView,this.elDef,references);for(var i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){var childDef=this.elView.def.nodes[i];20224&childDef.flags&&collectReferences(this.elView,childDef,references),i+=childDef.childCount}}return references},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext_.prototype,"componentRenderElement",{get:function(){var elData=function(view){for(;view&&!isComponentView(view);)view=view.parent;if(view.parent)return asElementData(view.parent,viewParentEl(view).nodeIndex);return null}(this.elOrCompView);return elData?elData.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext_.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?renderNode(this.view,this.nodeDef):renderNode(this.elView,this.elDef)},enumerable:!0,configurable:!0}),DebugContext_.prototype.logError=function(console){for(var logViewDef,logNodeIndex,values=[],_i=1;_i<arguments.length;_i++)values[_i-1]=arguments[_i];2&this.nodeDef.flags?(logViewDef=this.view.def,logNodeIndex=this.nodeDef.nodeIndex):(logViewDef=this.elView.def,logNodeIndex=this.elDef.nodeIndex);var renderNodeIndex=function(viewDef,nodeIndex){for(var renderNodeIndex=-1,i=0;i<=nodeIndex;i++){var nodeDef=viewDef.nodes[i];3&nodeDef.flags&&renderNodeIndex++}return renderNodeIndex}(logViewDef,logNodeIndex),currRenderNodeIndex=-1;logViewDef.factory(function(){var _a;return++currRenderNodeIndex===renderNodeIndex?(_a=console.error).bind.apply(_a,(0,_tslib.__spread)([console],values)):NOOP}),currRenderNodeIndex<renderNodeIndex&&(console.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),console.error.apply(console,(0,_tslib.__spread)(values)))},DebugContext_}();function collectReferences(view,nodeDef,references){for(var refName in nodeDef.references)references[refName]=getQueryValue(view,nodeDef,nodeDef.references[refName])}function callWithDebugContext(action,fn,self,args){var oldAction=_currentAction,oldView=_currentView,oldNodeIndex=_currentNodeIndex;try{_currentAction=action;var result=fn.apply(self,args);return _currentView=oldView,_currentNodeIndex=oldNodeIndex,_currentAction=oldAction,result}catch(e){if(getDebugContext(e)||!_currentView)throw e;throw function(err,context){return err instanceof Error||(err=new Error(err.toString())),_addDebugContext(err,context),err}(e,getCurrentDebugContext())}}function getCurrentDebugContext(){return _currentView?new DebugContext_(_currentView,_currentNodeIndex):null}var DebugRendererFactory2=function(){function DebugRendererFactory2(delegate){this.delegate=delegate}return DebugRendererFactory2.prototype.createRenderer=function(element,renderData){return new DebugRenderer2(this.delegate.createRenderer(element,renderData))},DebugRendererFactory2.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},DebugRendererFactory2.prototype.end=function(){this.delegate.end&&this.delegate.end()},DebugRendererFactory2.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},DebugRendererFactory2}(),DebugRenderer2=function(){function DebugRenderer2(delegate){this.delegate=delegate,this.debugContextFactory=getCurrentDebugContext,this.data=this.delegate.data}return DebugRenderer2.prototype.createDebugContext=function(nativeElement){return this.debugContextFactory(nativeElement)},DebugRenderer2.prototype.destroyNode=function(node){var debugNode=getDebugNode(node);!function(node){_nativeNodeToDebugNode.delete(node.nativeNode)}(debugNode),debugNode instanceof DebugNode__PRE_R3__&&(debugNode.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(node)},DebugRenderer2.prototype.destroy=function(){this.delegate.destroy()},DebugRenderer2.prototype.createElement=function(name,namespace){var el=this.delegate.createElement(name,namespace),debugCtx=this.createDebugContext(el);if(debugCtx){var debugEl=new DebugElement__PRE_R3__(el,null,debugCtx);debugEl.name=name,indexDebugNode(debugEl)}return el},DebugRenderer2.prototype.createComment=function(value){var comment=this.delegate.createComment(value),debugCtx=this.createDebugContext(comment);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(comment,null,debugCtx)),comment},DebugRenderer2.prototype.createText=function(value){var text=this.delegate.createText(value),debugCtx=this.createDebugContext(text);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(text,null,debugCtx)),text},DebugRenderer2.prototype.appendChild=function(parent,newChild){var debugEl=getDebugNode(parent),debugChildEl=getDebugNode(newChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.addChild(debugChildEl),this.delegate.appendChild(parent,newChild)},DebugRenderer2.prototype.insertBefore=function(parent,newChild,refChild){var debugEl=getDebugNode(parent),debugChildEl=getDebugNode(newChild),debugRefEl=getDebugNode(refChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.insertBefore(debugRefEl,debugChildEl),this.delegate.insertBefore(parent,newChild,refChild)},DebugRenderer2.prototype.removeChild=function(parent,oldChild){var debugEl=getDebugNode(parent),debugChildEl=getDebugNode(oldChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.removeChild(debugChildEl),this.delegate.removeChild(parent,oldChild)},DebugRenderer2.prototype.selectRootElement=function(selectorOrNode,preserveContent){var el=this.delegate.selectRootElement(selectorOrNode,preserveContent),debugCtx=getCurrentDebugContext();return debugCtx&&indexDebugNode(new DebugElement__PRE_R3__(el,null,debugCtx)),el},DebugRenderer2.prototype.setAttribute=function(el,name,value,namespace){var debugEl=getDebugNode(el);if(debugEl&&debugEl instanceof DebugElement__PRE_R3__){var fullName=namespace?namespace+":"+name:name;debugEl.attributes[fullName]=value}this.delegate.setAttribute(el,name,value,namespace)},DebugRenderer2.prototype.removeAttribute=function(el,name,namespace){var debugEl=getDebugNode(el);if(debugEl&&debugEl instanceof DebugElement__PRE_R3__){var fullName=namespace?namespace+":"+name:name;debugEl.attributes[fullName]=null}this.delegate.removeAttribute(el,name,namespace)},DebugRenderer2.prototype.addClass=function(el,name){var debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!0),this.delegate.addClass(el,name)},DebugRenderer2.prototype.removeClass=function(el,name){var debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!1),this.delegate.removeClass(el,name)},DebugRenderer2.prototype.setStyle=function(el,style,value,flags){var debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=value),this.delegate.setStyle(el,style,value,flags)},DebugRenderer2.prototype.removeStyle=function(el,style,flags){var debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=null),this.delegate.removeStyle(el,style,flags)},DebugRenderer2.prototype.setProperty=function(el,name,value){var debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.properties[name]=value),this.delegate.setProperty(el,name,value)},DebugRenderer2.prototype.listen=function(target,eventName,callback){if("string"!=typeof target){var debugEl=getDebugNode(target);debugEl&&debugEl.listeners.push(new DebugEventListener(eventName,callback))}return this.delegate.listen(target,eventName,callback)},DebugRenderer2.prototype.parentNode=function(node){return this.delegate.parentNode(node)},DebugRenderer2.prototype.nextSibling=function(node){return this.delegate.nextSibling(node)},DebugRenderer2.prototype.setValue=function(node,value){return this.delegate.setValue(node,value)},DebugRenderer2}();var NgModuleFactory_=function(_super){function NgModuleFactory_(moduleType,_bootstrapComponents,_ngModuleDefFactory){var _this=_super.call(this)||this;return _this.moduleType=moduleType,_this._bootstrapComponents=_bootstrapComponents,_this._ngModuleDefFactory=_ngModuleDefFactory,_this}return(0,_tslib.__extends)(NgModuleFactory_,_super),NgModuleFactory_.prototype.create=function(parentInjector){initServicesIfNeeded();var def=function(def){var providers=Array.from(def.providers),modules=Array.from(def.modules),providersByKey={};for(var key in def.providersByKey)providersByKey[key]=def.providersByKey[key];return{factory:def.factory,isRoot:def.isRoot,providers:providers,modules:modules,providersByKey:providersByKey}}(resolveDefinition(this._ngModuleDefFactory));return Services.createNgModuleRef(this.moduleType,parentInjector||Injector.NULL,this._bootstrapComponents,def)},NgModuleFactory_}(NgModuleFactory)},{tslib:"vCxL",rxjs:"iRqj","rxjs/operators":"cVrl"}],AomE:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.angular_packages_common_common_b=getPluralCase,exports.registerLocaleData=exports.registerLocaleData=function(data,localeId,extraData){"string"!=typeof localeId&&(extraData=localeId,localeId=data[_core.LocaleDataIndex.LocaleId]);localeId=localeId.toLowerCase().replace(/_/g,"-"),_core.LOCALE_DATA[localeId]=data,extraData&&(_core.LOCALE_DATA[localeId][_core.LocaleDataIndex.ExtraData]=extraData)},exports.formatDate=formatDate,exports.formatCurrency=formatCurrency,exports.formatNumber=formatNumber,exports.formatPercent=formatPercent,exports.getNumberOfCurrencyDigits=getNumberOfCurrencyDigits,exports.getCurrencySymbol=getCurrencySymbol,exports.getLocaleDayPeriods=getLocaleDayPeriods,exports.getLocaleDayNames=getLocaleDayNames,exports.getLocaleMonthNames=getLocaleMonthNames,exports.getLocaleId=getLocaleId,exports.getLocaleEraNames=getLocaleEraNames,exports.getLocaleWeekEndRange=function(locale){return(0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.WeekendRange]},exports.getLocaleFirstDayOfWeek=function(locale){return(0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.FirstDayOfWeek]},exports.getLocaleDateFormat=getLocaleDateFormat,exports.getLocaleDateTimeFormat=getLocaleDateTimeFormat,exports.getLocaleExtraDayPeriodRules=getLocaleExtraDayPeriodRules,exports.getLocaleExtraDayPeriods=getLocaleExtraDayPeriods,exports.getLocaleTimeFormat=getLocaleTimeFormat,exports.getLocaleNumberSymbol=getLocaleNumberSymbol,exports.getLocaleNumberFormat=getLocaleNumberFormat,exports.getLocaleCurrencyName=function(locale){return(0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.CurrencyName]||null},exports.getLocaleCurrencySymbol=function(locale){return(0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.CurrencySymbol]||null},exports.parseCookieValue=function(cookieStr,name){var e_1,_a;name=encodeURIComponent(name);try{for(var _b=(0,_tslib.__values)(cookieStr.split(";")),_c=_b.next();!_c.done;_c=_b.next()){var cookie=_c.value,eqIndex=cookie.indexOf("="),_d=(0,_tslib.__read)(-1==eqIndex?[cookie,""]:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)],2),cookieName=_d[0],cookieValue=_d[1];if(cookieName.trim()===name)return decodeURIComponent(cookieValue)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return null},exports.isPlatformBrowser=function(platformId){return platformId===PLATFORM_BROWSER_ID},exports.isPlatformServer=function(platformId){return platformId===PLATFORM_SERVER_ID},exports.isPlatformWorkerApp=function(platformId){return platformId===PLATFORM_WORKER_APP_ID},exports.isPlatformWorkerUi=function(platformId){return platformId===PLATFORM_WORKER_UI_ID},exports.Location=exports.PathLocationStrategy=exports.HashLocationStrategy=exports.APP_BASE_HREF=exports.LocationStrategy=exports.LOCATION_INITIALIZED=exports.PlatformLocation=exports.ngClassDirectiveDef__POST_R3__=exports.ngStyleDirectiveDef__POST_R3__=exports.NgStyleImpl=exports.NgStyleR2Impl=exports.NgStyleImplProvider__POST_R3__=exports.NgClassImpl=exports.NgClassR2Impl=exports.NgClassImplProvider__POST_R3__=exports.NullViewportScroller=exports.ViewportScroller=exports.VERSION=exports.PLATFORM_WORKER_UI_ID=exports.PLATFORM_WORKER_APP_ID=exports.PLATFORM_SERVER_ID=exports.PLATFORM_BROWSER_ID=exports.DeprecatedPercentPipe=exports.DeprecatedDecimalPipe=exports.DeprecatedCurrencyPipe=exports.DeprecatedDatePipe=exports.KeyValuePipe=exports.TitleCasePipe=exports.UpperCasePipe=exports.SlicePipe=exports.PercentPipe=exports.DecimalPipe=exports.CurrencyPipe=exports.LowerCasePipe=exports.JsonPipe=exports.I18nSelectPipe=exports.I18nPluralPipe=exports.DatePipe=exports.AsyncPipe=exports.DOCUMENT=exports.NgComponentOutlet=exports.NgTemplateOutlet=exports.NgSwitchDefault=exports.NgSwitchCase=exports.NgSwitch=exports.NgStyleBase=exports.NgStyle=exports.NgPluralCase=exports.NgPlural=exports.NgIfContext=exports.NgIf=exports.NgForOfContext=exports.NgForOf=exports.NgClassBase=exports.NgClass=exports.DeprecatedI18NPipesModule=exports.CommonModule=exports.getLocalePluralCase=exports.WeekDay=exports.NumberSymbol=exports.FormatWidth=exports.TranslationWidth=exports.FormStyle=exports.NumberFormatStyle=exports.Plural=exports.NgLocalization=exports.NgLocaleLocalization=exports.angular_packages_common_common_d=exports.angular_packages_common_common_e=exports.angular_packages_common_common_a=exports.angular_packages_common_common_i=exports.angular_packages_common_common_j=exports.angular_packages_common_common_k=exports.angular_packages_common_common_f=exports.angular_packages_common_common_g=exports.angular_packages_common_common_h=exports.angular_packages_common_common_c=void 0;var _core=require("@angular/core"),_tslib=require("tslib"),PlatformLocation=function(){return function(){}}();exports.PlatformLocation=PlatformLocation;var LOCATION_INITIALIZED=new _core.InjectionToken("Location Initialized");exports.LOCATION_INITIALIZED=LOCATION_INITIALIZED;var LocationStrategy=function(){return function(){}}();exports.LocationStrategy=LocationStrategy;var APP_BASE_HREF=new _core.InjectionToken("appBaseHref");exports.APP_BASE_HREF=APP_BASE_HREF;var Location=function(){function Location(platformStrategy,platformLocation){var _this=this;this._subject=new _core.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=platformStrategy;var browserBaseHref=this._platformStrategy.getBaseHref();this._platformLocation=platformLocation,this._baseHref=Location_1.stripTrailingSlash(_stripIndexHtml(browserBaseHref)),this._platformStrategy.onPopState(function(ev){_this._subject.emit({url:_this.path(!0),pop:!0,state:ev.state,type:ev.type})})}var Location_1;return Location_1=Location,Location.prototype.path=function(includeHash){return void 0===includeHash&&(includeHash=!1),this.normalize(this._platformStrategy.path(includeHash))},Location.prototype.getState=function(){return this._platformLocation.getState()},Location.prototype.isCurrentPathEqualTo=function(path,query){return void 0===query&&(query=""),this.path()==this.normalize(path+Location_1.normalizeQueryParams(query))},Location.prototype.normalize=function(url){return Location_1.stripTrailingSlash(function(baseHref,url){return baseHref&&url.startsWith(baseHref)?url.substring(baseHref.length):url}(this._baseHref,_stripIndexHtml(url)))},Location.prototype.prepareExternalUrl=function(url){return url&&"/"!==url[0]&&(url="/"+url),this._platformStrategy.prepareExternalUrl(url)},Location.prototype.go=function(path,query,state){void 0===query&&(query=""),void 0===state&&(state=null),this._platformStrategy.pushState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+Location_1.normalizeQueryParams(query)),state)},Location.prototype.replaceState=function(path,query,state){void 0===query&&(query=""),void 0===state&&(state=null),this._platformStrategy.replaceState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+Location_1.normalizeQueryParams(query)),state)},Location.prototype.forward=function(){this._platformStrategy.forward()},Location.prototype.back=function(){this._platformStrategy.back()},Location.prototype.onUrlChange=function(fn){var _this=this;this._urlChangeListeners.push(fn),this.subscribe(function(v){_this._notifyUrlChangeListeners(v.url,v.state)})},Location.prototype._notifyUrlChangeListeners=function(url,state){void 0===url&&(url=""),this._urlChangeListeners.forEach(function(fn){return fn(url,state)})},Location.prototype.subscribe=function(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})},Location.normalizeQueryParams=function(params){return params&&"?"!==params[0]?"?"+params:params},Location.joinWithSlash=function(start,end){if(0==start.length)return end;if(0==end.length)return start;var slashes=0;return start.endsWith("/")&&slashes++,end.startsWith("/")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+"/"+end},Location.stripTrailingSlash=function(url){var match=url.match(/#|\?|$/),pathEndIdx=match&&match.index||url.length,droppedSlashIdx=pathEndIdx-("/"===url[pathEndIdx-1]?1:0);return url.slice(0,droppedSlashIdx)+url.slice(pathEndIdx)},Location=Location_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__metadata)("design:paramtypes",[LocationStrategy,PlatformLocation])],Location)}();function _stripIndexHtml(url){return url.replace(/\/index.html$/,"")}exports.Location=Location;var HashLocationStrategy=function(_super){function HashLocationStrategy(_platformLocation,_baseHref){var _this=_super.call(this)||this;return _this._platformLocation=_platformLocation,_this._baseHref="",null!=_baseHref&&(_this._baseHref=_baseHref),_this}return(0,_tslib.__extends)(HashLocationStrategy,_super),HashLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)},HashLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},HashLocationStrategy.prototype.path=function(includeHash){void 0===includeHash&&(includeHash=!1);var path=this._platformLocation.hash;return null==path&&(path="#"),path.length>0?path.substring(1):path},HashLocationStrategy.prototype.prepareExternalUrl=function(internal){var url=Location.joinWithSlash(this._baseHref,internal);return url.length>0?"#"+url:url},HashLocationStrategy.prototype.pushState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)},HashLocationStrategy.prototype.replaceState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)},HashLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},HashLocationStrategy.prototype.back=function(){this._platformLocation.back()},HashLocationStrategy=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Inject)(APP_BASE_HREF)),(0,_tslib.__metadata)("design:paramtypes",[PlatformLocation,String])],HashLocationStrategy)}(LocationStrategy);exports.HashLocationStrategy=HashLocationStrategy;var PathLocationStrategy=function(_super){function PathLocationStrategy(_platformLocation,href){var _this=_super.call(this)||this;if(_this._platformLocation=_platformLocation,null==href&&(href=_this._platformLocation.getBaseHrefFromDOM()),null==href)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return _this._baseHref=href,_this}return(0,_tslib.__extends)(PathLocationStrategy,_super),PathLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)},PathLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},PathLocationStrategy.prototype.prepareExternalUrl=function(internal){return Location.joinWithSlash(this._baseHref,internal)},PathLocationStrategy.prototype.path=function(includeHash){void 0===includeHash&&(includeHash=!1);var pathname=this._platformLocation.pathname+Location.normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?""+pathname+hash:pathname},PathLocationStrategy.prototype.pushState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+Location.normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)},PathLocationStrategy.prototype.replaceState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+Location.normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)},PathLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},PathLocationStrategy.prototype.back=function(){this._platformLocation.back()},PathLocationStrategy=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Inject)(APP_BASE_HREF)),(0,_tslib.__metadata)("design:paramtypes",[PlatformLocation,String])],PathLocationStrategy)}(LocationStrategy);exports.PathLocationStrategy=PathLocationStrategy;var NumberFormatStyle,Plural,FormStyle,TranslationWidth,FormatWidth,NumberSymbol,WeekDay,CURRENCIES_EN={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,""],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,".",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN",""],COP:[void 0,"$",0],CRC:[void 0,"",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E"],ESP:[void 0,"",0],EUR:[""],FJD:[void 0,"$"],FKP:[void 0,""],GBP:[""],GEL:[void 0,""],GIP:[void 0,""],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:[""],INR:[""],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["",void 0,0],KHR:[void 0,""],KMF:[void 0,"CF",0],KPW:[void 0,"",0],KRW:["",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,""],LAK:[void 0,"",0],LBP:[void 0,"L",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,""],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,""],PKR:[void 0,"Rs",0],PLN:[void 0,"z"],PYG:[void 0,"",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,""],RUR:[void 0,"."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,""],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,""],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"",0],THB:[void 0,""],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,""],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,""],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};function getLocaleId(locale){return(0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.LocaleId]}function getLocaleDayPeriods(locale,formStyle,width){var data=(0,_core.findLocaleData)(locale);return getLastDefinedValue(getLastDefinedValue([data[_core.LocaleDataIndex.DayPeriodsFormat],data[_core.LocaleDataIndex.DayPeriodsStandalone]],formStyle),width)}function getLocaleDayNames(locale,formStyle,width){var data=(0,_core.findLocaleData)(locale);return getLastDefinedValue(getLastDefinedValue([data[_core.LocaleDataIndex.DaysFormat],data[_core.LocaleDataIndex.DaysStandalone]],formStyle),width)}function getLocaleMonthNames(locale,formStyle,width){var data=(0,_core.findLocaleData)(locale);return getLastDefinedValue(getLastDefinedValue([data[_core.LocaleDataIndex.MonthsFormat],data[_core.LocaleDataIndex.MonthsStandalone]],formStyle),width)}function getLocaleEraNames(locale,width){return getLastDefinedValue((0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.Eras],width)}function getLocaleDateFormat(locale,width){return getLastDefinedValue((0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.DateFormat],width)}function getLocaleTimeFormat(locale,width){return getLastDefinedValue((0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.TimeFormat],width)}function getLocaleDateTimeFormat(locale,width){return getLastDefinedValue((0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.DateTimeFormat],width)}function getLocaleNumberSymbol(locale,symbol){var data=(0,_core.findLocaleData)(locale),res=data[_core.LocaleDataIndex.NumberSymbols][symbol];if(void 0===res){if(symbol===NumberSymbol.CurrencyDecimal)return data[_core.LocaleDataIndex.NumberSymbols][NumberSymbol.Decimal];if(symbol===NumberSymbol.CurrencyGroup)return data[_core.LocaleDataIndex.NumberSymbols][NumberSymbol.Group]}return res}function getLocaleNumberFormat(locale,type){return(0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.NumberFormats][type]}exports.NumberFormatStyle=NumberFormatStyle,function(NumberFormatStyle){NumberFormatStyle[NumberFormatStyle.Decimal=0]="Decimal",NumberFormatStyle[NumberFormatStyle.Percent=1]="Percent",NumberFormatStyle[NumberFormatStyle.Currency=2]="Currency",NumberFormatStyle[NumberFormatStyle.Scientific=3]="Scientific"}(NumberFormatStyle||(exports.NumberFormatStyle=NumberFormatStyle={})),exports.Plural=Plural,function(Plural){Plural[Plural.Zero=0]="Zero",Plural[Plural.One=1]="One",Plural[Plural.Two=2]="Two",Plural[Plural.Few=3]="Few",Plural[Plural.Many=4]="Many",Plural[Plural.Other=5]="Other"}(Plural||(exports.Plural=Plural={})),exports.FormStyle=FormStyle,function(FormStyle){FormStyle[FormStyle.Format=0]="Format",FormStyle[FormStyle.Standalone=1]="Standalone"}(FormStyle||(exports.FormStyle=FormStyle={})),exports.TranslationWidth=TranslationWidth,function(TranslationWidth){TranslationWidth[TranslationWidth.Narrow=0]="Narrow",TranslationWidth[TranslationWidth.Abbreviated=1]="Abbreviated",TranslationWidth[TranslationWidth.Wide=2]="Wide",TranslationWidth[TranslationWidth.Short=3]="Short"}(TranslationWidth||(exports.TranslationWidth=TranslationWidth={})),exports.FormatWidth=FormatWidth,function(FormatWidth){FormatWidth[FormatWidth.Short=0]="Short",FormatWidth[FormatWidth.Medium=1]="Medium",FormatWidth[FormatWidth.Long=2]="Long",FormatWidth[FormatWidth.Full=3]="Full"}(FormatWidth||(exports.FormatWidth=FormatWidth={})),exports.NumberSymbol=NumberSymbol,function(NumberSymbol){NumberSymbol[NumberSymbol.Decimal=0]="Decimal",NumberSymbol[NumberSymbol.Group=1]="Group",NumberSymbol[NumberSymbol.List=2]="List",NumberSymbol[NumberSymbol.PercentSign=3]="PercentSign",NumberSymbol[NumberSymbol.PlusSign=4]="PlusSign",NumberSymbol[NumberSymbol.MinusSign=5]="MinusSign",NumberSymbol[NumberSymbol.Exponential=6]="Exponential",NumberSymbol[NumberSymbol.SuperscriptingExponent=7]="SuperscriptingExponent",NumberSymbol[NumberSymbol.PerMille=8]="PerMille",NumberSymbol[NumberSymbol[1/0]=9]="Infinity",NumberSymbol[NumberSymbol.NaN=10]="NaN",NumberSymbol[NumberSymbol.TimeSeparator=11]="TimeSeparator",NumberSymbol[NumberSymbol.CurrencyDecimal=12]="CurrencyDecimal",NumberSymbol[NumberSymbol.CurrencyGroup=13]="CurrencyGroup"}(NumberSymbol||(exports.NumberSymbol=NumberSymbol={})),exports.WeekDay=WeekDay,function(WeekDay){WeekDay[WeekDay.Sunday=0]="Sunday",WeekDay[WeekDay.Monday=1]="Monday",WeekDay[WeekDay.Tuesday=2]="Tuesday",WeekDay[WeekDay.Wednesday=3]="Wednesday",WeekDay[WeekDay.Thursday=4]="Thursday",WeekDay[WeekDay.Friday=5]="Friday",WeekDay[WeekDay.Saturday=6]="Saturday"}(WeekDay||(exports.WeekDay=WeekDay={}));var getLocalePluralCase=_core.getLocalePluralCase;function checkFullData(data){if(!data[_core.LocaleDataIndex.ExtraData])throw new Error('Missing extra locale data for the locale "'+data[_core.LocaleDataIndex.LocaleId]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function getLocaleExtraDayPeriodRules(locale){var data=(0,_core.findLocaleData)(locale);return checkFullData(data),(data[_core.LocaleDataIndex.ExtraData][2]||[]).map(function(rule){return"string"==typeof rule?extractTime(rule):[extractTime(rule[0]),extractTime(rule[1])]})}function getLocaleExtraDayPeriods(locale,formStyle,width){var data=(0,_core.findLocaleData)(locale);return checkFullData(data),getLastDefinedValue(getLastDefinedValue([data[_core.LocaleDataIndex.ExtraData][0],data[_core.LocaleDataIndex.ExtraData][1]],formStyle)||[],width)||[]}function getLastDefinedValue(data,index){for(var i=index;i>-1;i--)if(void 0!==data[i])return data[i];throw new Error("Locale data API: locale data undefined")}function extractTime(time){var _a=(0,_tslib.__read)(time.split(":"),2);return{hours:+_a[0],minutes:+_a[1]}}function getCurrencySymbol(code,format,locale){void 0===locale&&(locale="en");var currency=function(locale){return(0,_core.findLocaleData)(locale)[_core.LocaleDataIndex.Currencies]}(locale)[code]||CURRENCIES_EN[code]||[],symbolNarrow=currency[1];return"narrow"===format&&"string"==typeof symbolNarrow?symbolNarrow:currency[0]||code}exports.getLocalePluralCase=getLocalePluralCase;var DEFAULT_NB_OF_CURRENCY_DIGITS=2;function getNumberOfCurrencyDigits(code){var digits,currency=CURRENCIES_EN[code];return currency&&(digits=currency[2]),"number"==typeof digits?digits:DEFAULT_NB_OF_CURRENCY_DIGITS}var ZoneWidth,DateType,TranslationType,ISO8601_DATE_REGEX=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,NAMED_FORMATS={},DATE_FORMATS_SPLIT=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function formatDate(value,format,locale,timezone){var date=function(value){if(isDate(value))return value;if("number"==typeof value&&!isNaN(value))return new Date(value);if("string"==typeof value){value=value.trim();var parsedNb=parseFloat(value);if(!isNaN(value-parsedNb))return new Date(parsedNb);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(value)){var _a=(0,_tslib.__read)(value.split("-").map(function(val){return+val}),3),y=_a[0],m=_a[1],d=_a[2];return new Date(y,m-1,d)}var match=void 0;if(match=value.match(ISO8601_DATE_REGEX))return isoStringToDate(match)}var date=new Date(value);if(!isDate(date))throw new Error('Unable to convert "'+value+'" into a date');return date}(value);format=function getNamedFormat(locale,format){var localeId=getLocaleId(locale);NAMED_FORMATS[localeId]=NAMED_FORMATS[localeId]||{};if(NAMED_FORMATS[localeId][format])return NAMED_FORMATS[localeId][format];var formatValue="";switch(format){case"shortDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Short);break;case"mediumDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Medium);break;case"longDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Long);break;case"fullDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Full);break;case"shortTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Short);break;case"mediumTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Medium);break;case"longTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Long);break;case"fullTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Full);break;case"short":var shortTime=getNamedFormat(locale,"shortTime"),shortDate=getNamedFormat(locale,"shortDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Short),[shortTime,shortDate]);break;case"medium":var mediumTime=getNamedFormat(locale,"mediumTime"),mediumDate=getNamedFormat(locale,"mediumDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Medium),[mediumTime,mediumDate]);break;case"long":var longTime=getNamedFormat(locale,"longTime"),longDate=getNamedFormat(locale,"longDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Long),[longTime,longDate]);break;case"full":var fullTime=getNamedFormat(locale,"fullTime"),fullDate=getNamedFormat(locale,"fullDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Full),[fullTime,fullDate])}formatValue&&(NAMED_FORMATS[localeId][format]=formatValue);return formatValue}(locale,format)||format;for(var match,parts=[];format;){if(!(match=DATE_FORMATS_SPLIT.exec(format))){parts.push(format);break}var part=(parts=parts.concat(match.slice(1))).pop();if(!part)break;format=part}var dateTimezoneOffset=date.getTimezoneOffset();timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset),date=function(date,timezone,reverse){var reverseValue=reverse?-1:1,dateTimezoneOffset=date.getTimezoneOffset(),timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return function(date,minutes){return(date=new Date(date.getTime())).setMinutes(date.getMinutes()+minutes),date}(date,reverseValue*(timezoneOffset-dateTimezoneOffset))}(date,timezone,!0));var text="";return parts.forEach(function(value){var dateFormatter=function(format){if(DATE_FORMATS[format])return DATE_FORMATS[format];var formatter;switch(format){case"G":case"GG":case"GGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Abbreviated);break;case"GGGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Wide);break;case"GGGGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Narrow);break;case"y":formatter=dateGetter(DateType.FullYear,1,0,!1,!0);break;case"yy":formatter=dateGetter(DateType.FullYear,2,0,!0,!0);break;case"yyy":formatter=dateGetter(DateType.FullYear,3,0,!1,!0);break;case"yyyy":formatter=dateGetter(DateType.FullYear,4,0,!1,!0);break;case"M":case"L":formatter=dateGetter(DateType.Month,1,1);break;case"MM":case"LL":formatter=dateGetter(DateType.Month,2,1);break;case"MMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Abbreviated);break;case"MMMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Wide);break;case"MMMMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Narrow);break;case"LLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Abbreviated,FormStyle.Standalone);break;case"LLLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Wide,FormStyle.Standalone);break;case"LLLLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Narrow,FormStyle.Standalone);break;case"w":formatter=weekGetter(1);break;case"ww":formatter=weekGetter(2);break;case"W":formatter=weekGetter(1,!0);break;case"d":formatter=dateGetter(DateType.Date,1);break;case"dd":formatter=dateGetter(DateType.Date,2);break;case"E":case"EE":case"EEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Abbreviated);break;case"EEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Wide);break;case"EEEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Narrow);break;case"EEEEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Short);break;case"a":case"aa":case"aaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated);break;case"aaaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide);break;case"aaaaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow);break;case"b":case"bb":case"bbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated,FormStyle.Standalone,!0);break;case"bbbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide,FormStyle.Standalone,!0);break;case"bbbbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow,FormStyle.Standalone,!0);break;case"B":case"BB":case"BBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated,FormStyle.Format,!0);break;case"BBBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide,FormStyle.Format,!0);break;case"BBBBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow,FormStyle.Format,!0);break;case"h":formatter=dateGetter(DateType.Hours,1,-12);break;case"hh":formatter=dateGetter(DateType.Hours,2,-12);break;case"H":formatter=dateGetter(DateType.Hours,1);break;case"HH":formatter=dateGetter(DateType.Hours,2);break;case"m":formatter=dateGetter(DateType.Minutes,1);break;case"mm":formatter=dateGetter(DateType.Minutes,2);break;case"s":formatter=dateGetter(DateType.Seconds,1);break;case"ss":formatter=dateGetter(DateType.Seconds,2);break;case"S":formatter=dateGetter(DateType.FractionalSeconds,1);break;case"SS":formatter=dateGetter(DateType.FractionalSeconds,2);break;case"SSS":formatter=dateGetter(DateType.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":formatter=timeZoneGetter(ZoneWidth.Short);break;case"ZZZZZ":formatter=timeZoneGetter(ZoneWidth.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":formatter=timeZoneGetter(ZoneWidth.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":formatter=timeZoneGetter(ZoneWidth.Long);break;default:return null}return DATE_FORMATS[format]=formatter,formatter}(value);text+=dateFormatter?dateFormatter(date,locale,dateTimezoneOffset):"''"===value?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}function formatDateTime(str,opt_values){return opt_values&&(str=str.replace(/\{([^}]+)}/g,function(match,key){return null!=opt_values&&key in opt_values?opt_values[key]:match})),str}function padNumber(num,digits,minusSign,trim,negWrap){void 0===minusSign&&(minusSign="-");var neg="";(num<0||negWrap&&num<=0)&&(negWrap?num=1-num:(num=-num,neg=minusSign));for(var strNum=String(num);strNum.length<digits;)strNum="0"+strNum;return trim&&(strNum=strNum.substr(strNum.length-digits)),neg+strNum}function dateGetter(name,size,offset,trim,negWrap){return void 0===offset&&(offset=0),void 0===trim&&(trim=!1),void 0===negWrap&&(negWrap=!1),function(date,locale){var digits,part=function(part,date){switch(part){case DateType.FullYear:return date.getFullYear();case DateType.Month:return date.getMonth();case DateType.Date:return date.getDate();case DateType.Hours:return date.getHours();case DateType.Minutes:return date.getMinutes();case DateType.Seconds:return date.getSeconds();case DateType.FractionalSeconds:return date.getMilliseconds();case DateType.Day:return date.getDay();default:throw new Error('Unknown DateType value "'+part+'".')}}(name,date);if((offset>0||part>-offset)&&(part+=offset),name===DateType.Hours)0===part&&-12===offset&&(part=12);else if(name===DateType.FractionalSeconds)return digits=size,padNumber(part,3).substr(0,digits);var localeMinus=getLocaleNumberSymbol(locale,NumberSymbol.MinusSign);return padNumber(part,size,localeMinus,trim,negWrap)}}function dateStrGetter(name,width,form,extended){return void 0===form&&(form=FormStyle.Format),void 0===extended&&(extended=!1),function(date,locale){return function(date,locale,name,width,form,extended){switch(name){case TranslationType.Months:return getLocaleMonthNames(locale,form,width)[date.getMonth()];case TranslationType.Days:return getLocaleDayNames(locale,form,width)[date.getDay()];case TranslationType.DayPeriods:var currentHours_1=date.getHours(),currentMinutes_1=date.getMinutes();if(extended){var result_1,rules=getLocaleExtraDayPeriodRules(locale),dayPeriods_1=getLocaleExtraDayPeriods(locale,form,width);if(rules.forEach(function(rule,index){if(Array.isArray(rule)){var _a=rule[0],hoursFrom=_a.hours,minutesFrom=_a.minutes,_b=rule[1],hoursTo=_b.hours,minutesTo=_b.minutes;currentHours_1>=hoursFrom&&currentMinutes_1>=minutesFrom&&(currentHours_1<hoursTo||currentHours_1===hoursTo&&currentMinutes_1<minutesTo)&&(result_1=dayPeriods_1[index])}else{var hours=rule.hours,minutes=rule.minutes;hours===currentHours_1&&minutes===currentMinutes_1&&(result_1=dayPeriods_1[index])}}),result_1)return result_1}return getLocaleDayPeriods(locale,form,width)[currentHours_1<12?0:1];case TranslationType.Eras:return getLocaleEraNames(locale,width)[date.getFullYear()<=0?0:1];default:var unexpected=name;throw new Error("unexpected translation type "+unexpected)}}(date,locale,name,width,form,extended)}}function timeZoneGetter(width){return function(date,locale,offset){var zone=-1*offset,minusSign=getLocaleNumberSymbol(locale,NumberSymbol.MinusSign),hours=zone>0?Math.floor(zone/60):Math.ceil(zone/60);switch(width){case ZoneWidth.Short:return(zone>=0?"+":"")+padNumber(hours,2,minusSign)+padNumber(Math.abs(zone%60),2,minusSign);case ZoneWidth.ShortGMT:return"GMT"+(zone>=0?"+":"")+padNumber(hours,1,minusSign);case ZoneWidth.Long:return"GMT"+(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);case ZoneWidth.Extended:return 0===offset?"Z":(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);default:throw new Error('Unknown zone width "'+width+'"')}}}!function(ZoneWidth){ZoneWidth[ZoneWidth.Short=0]="Short",ZoneWidth[ZoneWidth.ShortGMT=1]="ShortGMT",ZoneWidth[ZoneWidth.Long=2]="Long",ZoneWidth[ZoneWidth.Extended=3]="Extended"}(ZoneWidth||(ZoneWidth={})),function(DateType){DateType[DateType.FullYear=0]="FullYear",DateType[DateType.Month=1]="Month",DateType[DateType.Date=2]="Date",DateType[DateType.Hours=3]="Hours",DateType[DateType.Minutes=4]="Minutes",DateType[DateType.Seconds=5]="Seconds",DateType[DateType.FractionalSeconds=6]="FractionalSeconds",DateType[DateType.Day=7]="Day"}(DateType||(DateType={})),function(TranslationType){TranslationType[TranslationType.DayPeriods=0]="DayPeriods",TranslationType[TranslationType.Days=1]="Days",TranslationType[TranslationType.Months=2]="Months",TranslationType[TranslationType.Eras=3]="Eras"}(TranslationType||(TranslationType={}));var JANUARY=0,THURSDAY=4;function weekGetter(size,monthBased){return void 0===monthBased&&(monthBased=!1),function(date,locale){var result,datetime,year,firstDayOfYear;if(monthBased){var nbDaysBefore1stDayOfMonth=new Date(date.getFullYear(),date.getMonth(),1).getDay()-1,today=date.getDate();result=1+Math.floor((today+nbDaysBefore1stDayOfMonth)/7)}else{var firstThurs=(year=date.getFullYear(),firstDayOfYear=new Date(year,JANUARY,1).getDay(),new Date(year,0,1+(firstDayOfYear<=THURSDAY?THURSDAY:THURSDAY+7)-firstDayOfYear)),diff=(datetime=date,new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(THURSDAY-datetime.getDay()))).getTime()-firstThurs.getTime();result=1+Math.round(diff/6048e5)}return padNumber(result,size,getLocaleNumberSymbol(locale,NumberSymbol.MinusSign))}}var DATE_FORMATS={};function timezoneToOffset(timezone,fallback){timezone=timezone.replace(/:/g,"");var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function isoStringToDate(match){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=Number(match[9]+match[10]),tzMin=Number(match[9]+match[11])),dateSetter.call(date,Number(match[1]),Number(match[2])-1,Number(match[3]));var h=Number(match[4]||0)-tzHour,m=Number(match[5]||0)-tzMin,s=Number(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}function isDate(value){return value instanceof Date&&!isNaN(value.valueOf())}var NUMBER_FORMAT_REGEXP=/^(\d+)?\.((\d+)(-(\d+))?)?$/,MAX_DIGITS=22,DECIMAL_SEP=".",ZERO_CHAR="0",PATTERN_SEP=";",GROUP_SEP=",",DIGIT_CHAR="#",CURRENCY_CHAR="",PERCENT_CHAR="%";function formatNumberToLocaleString(value,pattern,locale,groupSymbol,decimalSymbol,digitsInfo,isPercent){void 0===isPercent&&(isPercent=!1);var formattedText="",isZero=!1;if(isFinite(value)){var parsedNumber=function(num){var digits,integerLen,i,j,zeros,numStr=Math.abs(num)+"",exponent=0;(integerLen=numStr.indexOf(DECIMAL_SEP))>-1&&(numStr=numStr.replace(DECIMAL_SEP,""));(i=numStr.search(/e/i))>0?(integerLen<0&&(integerLen=i),integerLen+=+numStr.slice(i+1),numStr=numStr.substring(0,i)):integerLen<0&&(integerLen=numStr.length);for(i=0;numStr.charAt(i)===ZERO_CHAR;i++);if(i===(zeros=numStr.length))digits=[0],integerLen=1;else{for(zeros--;numStr.charAt(zeros)===ZERO_CHAR;)zeros--;for(integerLen-=i,digits=[],j=0;i<=zeros;i++,j++)digits[j]=Number(numStr.charAt(i))}integerLen>MAX_DIGITS&&(digits=digits.splice(0,MAX_DIGITS-1),exponent=integerLen-1,integerLen=1);return{digits:digits,exponent:exponent,integerLen:integerLen}}(value);isPercent&&(parsedNumber=function(parsedNumber){if(0===parsedNumber.digits[0])return parsedNumber;var fractionLen=parsedNumber.digits.length-parsedNumber.integerLen;parsedNumber.exponent?parsedNumber.exponent+=2:(0===fractionLen?parsedNumber.digits.push(0,0):1===fractionLen&&parsedNumber.digits.push(0),parsedNumber.integerLen+=2);return parsedNumber}(parsedNumber));var minInt=pattern.minInt,minFraction=pattern.minFrac,maxFraction=pattern.maxFrac;if(digitsInfo){var parts=digitsInfo.match(NUMBER_FORMAT_REGEXP);if(null===parts)throw new Error(digitsInfo+" is not a valid digit info");var minIntPart=parts[1],minFractionPart=parts[3],maxFractionPart=parts[5];null!=minIntPart&&(minInt=parseIntAutoRadix(minIntPart)),null!=minFractionPart&&(minFraction=parseIntAutoRadix(minFractionPart)),null!=maxFractionPart?maxFraction=parseIntAutoRadix(maxFractionPart):null!=minFractionPart&&minFraction>maxFraction&&(maxFraction=minFraction)}!function(parsedNumber,minFrac,maxFrac){if(minFrac>maxFrac)throw new Error("The minimum number of digits after fraction ("+minFrac+") is higher than the maximum ("+maxFrac+").");var digits=parsedNumber.digits,fractionLen=digits.length-parsedNumber.integerLen,fractionSize=Math.min(Math.max(minFrac,fractionLen),maxFrac),roundAt=fractionSize+parsedNumber.integerLen,digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.integerLen,roundAt));for(var j=roundAt;j<digits.length;j++)digits[j]=0}else{fractionLen=Math.max(0,fractionLen),parsedNumber.integerLen=1,digits.length=Math.max(1,roundAt=fractionSize+1),digits[0]=0;for(var i=1;i<roundAt;i++)digits[i]=0}if(digit>=5)if(roundAt-1<0){for(var k=0;k>roundAt;k--)digits.unshift(0),parsedNumber.integerLen++;digits.unshift(1),parsedNumber.integerLen++}else digits[roundAt-1]++;for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);var dropTrailingZeros=0!==fractionSize,minLen=minFrac+parsedNumber.integerLen,carry=digits.reduceRight(function(carry,d,i,digits){return d+=carry,digits[i]=d<10?d:d-10,dropTrailingZeros&&(0===digits[i]&&i>=minLen?digits.pop():dropTrailingZeros=!1),d>=10?1:0},0);carry&&(digits.unshift(carry),parsedNumber.integerLen++)}(parsedNumber,minFraction,maxFraction);var digits=parsedNumber.digits,integerLen=parsedNumber.integerLen,exponent=parsedNumber.exponent,decimals=[];for(isZero=digits.every(function(d){return!d});integerLen<minInt;integerLen++)digits.unshift(0);for(;integerLen<0;integerLen++)digits.unshift(0);integerLen>0?decimals=digits.splice(integerLen,digits.length):(decimals=digits,digits=[0]);var groups=[];for(digits.length>=pattern.lgSize&&groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""));digits.length>pattern.gSize;)groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""));digits.length&&groups.unshift(digits.join("")),formattedText=groups.join(getLocaleNumberSymbol(locale,groupSymbol)),decimals.length&&(formattedText+=getLocaleNumberSymbol(locale,decimalSymbol)+decimals.join("")),exponent&&(formattedText+=getLocaleNumberSymbol(locale,NumberSymbol.Exponential)+"+"+exponent)}else formattedText=getLocaleNumberSymbol(locale,NumberSymbol.Infinity);return formattedText=value<0&&!isZero?pattern.negPre+formattedText+pattern.negSuf:pattern.posPre+formattedText+pattern.posSuf}function formatCurrency(value,locale,currency,currencyCode,digitsInfo){var pattern=parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Currency),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign));return pattern.minFrac=getNumberOfCurrencyDigits(currencyCode),pattern.maxFrac=pattern.minFrac,formatNumberToLocaleString(value,pattern,locale,NumberSymbol.CurrencyGroup,NumberSymbol.CurrencyDecimal,digitsInfo).replace(CURRENCY_CHAR,currency).replace(CURRENCY_CHAR,"")}function formatPercent(value,locale,digitsInfo){return formatNumberToLocaleString(value,parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Percent),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign)),locale,NumberSymbol.Group,NumberSymbol.Decimal,digitsInfo,!0).replace(new RegExp(PERCENT_CHAR,"g"),getLocaleNumberSymbol(locale,NumberSymbol.PercentSign))}function formatNumber(value,locale,digitsInfo){return formatNumberToLocaleString(value,parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Decimal),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign)),locale,NumberSymbol.Group,NumberSymbol.Decimal,digitsInfo)}function parseNumberFormat(format,minusSign){void 0===minusSign&&(minusSign="-");var p={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},patternParts=format.split(PATTERN_SEP),positive=patternParts[0],negative=patternParts[1],positiveParts=-1!==positive.indexOf(DECIMAL_SEP)?positive.split(DECIMAL_SEP):[positive.substring(0,positive.lastIndexOf(ZERO_CHAR)+1),positive.substring(positive.lastIndexOf(ZERO_CHAR)+1)],integer=positiveParts[0],fraction=positiveParts[1]||"";p.posPre=integer.substr(0,integer.indexOf(DIGIT_CHAR));for(var i=0;i<fraction.length;i++){var ch=fraction.charAt(i);ch===ZERO_CHAR?p.minFrac=p.maxFrac=i+1:ch===DIGIT_CHAR?p.maxFrac=i+1:p.posSuf+=ch}var groups=integer.split(GROUP_SEP);if(p.gSize=groups[1]?groups[1].length:0,p.lgSize=groups[2]||groups[1]?(groups[2]||groups[1]).length:0,negative){var trunkLen=positive.length-p.posPre.length-p.posSuf.length,pos=negative.indexOf(DIGIT_CHAR);p.negPre=negative.substr(0,pos).replace(/'/g,""),p.negSuf=negative.substr(pos+trunkLen).replace(/'/g,"")}else p.negPre=minusSign+p.posPre,p.negSuf=p.posSuf;return p}function parseIntAutoRadix(text){var result=parseInt(text);if(isNaN(result))throw new Error("Invalid integer literal when parsing "+text);return result}var DEPRECATED_PLURAL_FN=new _core.InjectionToken("UseV4Plurals");exports.angular_packages_common_common_a=DEPRECATED_PLURAL_FN;var NgLocalization=function(){return function(){}}();function getPluralCategory(value,cases,ngLocalization,locale){var key="="+value;if(cases.indexOf(key)>-1)return key;if(key=ngLocalization.getPluralCategory(value,locale),cases.indexOf(key)>-1)return key;if(cases.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+value+'"')}exports.NgLocalization=NgLocalization;var NgLocaleLocalization=function(_super){function NgLocaleLocalization(locale,deprecatedPluralFn){var _this=_super.call(this)||this;return _this.locale=locale,_this.deprecatedPluralFn=deprecatedPluralFn,_this}return(0,_tslib.__extends)(NgLocaleLocalization,_super),NgLocaleLocalization.prototype.getPluralCategory=function(value,locale){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(locale||this.locale,value):getLocalePluralCase(locale||this.locale)(value)){case Plural.Zero:return"zero";case Plural.One:return"one";case Plural.Two:return"two";case Plural.Few:return"few";case Plural.Many:return"many";default:return"other"}},NgLocaleLocalization=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(_core.LOCALE_ID)),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Inject)(DEPRECATED_PLURAL_FN)),(0,_tslib.__metadata)("design:paramtypes",[String,Object])],NgLocaleLocalization)}(NgLocalization);function getPluralCase(locale,nLike){"string"==typeof nLike&&(nLike=parseInt(nLike,10));var n=nLike,nDecimal=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),v=nDecimal.length,f=parseInt(nDecimal,10),t=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(locale.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?Plural.One:Plural.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?Plural.One:Plural.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?Plural.One:Plural.Other;case"ar":return 0===n?Plural.Zero:1===n?Plural.One:2===n?Plural.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?Plural.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?Plural.Many:Plural.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===v?Plural.One:Plural.Other;case"be":return n%10==1&&n%100!=11?Plural.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?Plural.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?Plural.Many:Plural.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?Plural.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?Plural.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?Plural.Few:0!==n&&n%1e6==0?Plural.Many:Plural.Other;case"bs":case"hr":case"sr":return 0===v&&i%10==1&&i%100!=11||f%10==1&&f%100!=11?Plural.One:0===v&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||f%10===Math.floor(f%10)&&f%10>=2&&f%10<=4&&!(f%100>=12&&f%100<=14)?Plural.Few:Plural.Other;case"cs":case"sk":return 1===i&&0===v?Plural.One:i===Math.floor(i)&&i>=2&&i<=4&&0===v?Plural.Few:0!==v?Plural.Many:Plural.Other;case"cy":return 0===n?Plural.Zero:1===n?Plural.One:2===n?Plural.Two:3===n?Plural.Few:6===n?Plural.Many:Plural.Other;case"da":return 1===n||0!==t&&(0===i||1===i)?Plural.One:Plural.Other;case"dsb":case"hsb":return 0===v&&i%100==1||f%100==1?Plural.One:0===v&&i%100==2||f%100==2?Plural.Two:0===v&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||f%100===Math.floor(f%100)&&f%100>=3&&f%100<=4?Plural.Few:Plural.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?Plural.One:Plural.Other;case"fil":return 0===v&&(1===i||2===i||3===i)||0===v&&i%10!=4&&i%10!=6&&i%10!=9||0!==v&&f%10!=4&&f%10!=6&&f%10!=9?Plural.One:Plural.Other;case"ga":return 1===n?Plural.One:2===n?Plural.Two:n===Math.floor(n)&&n>=3&&n<=6?Plural.Few:n===Math.floor(n)&&n>=7&&n<=10?Plural.Many:Plural.Other;case"gd":return 1===n||11===n?Plural.One:2===n||12===n?Plural.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?Plural.Few:Plural.Other;case"gv":return 0===v&&i%10==1?Plural.One:0===v&&i%10==2?Plural.Two:0!==v||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==v?Plural.Many:Plural.Other:Plural.Few;case"he":return 1===i&&0===v?Plural.One:2===i&&0===v?Plural.Two:0!==v||n>=0&&n<=10||n%10!=0?Plural.Other:Plural.Many;case"is":return 0===t&&i%10==1&&i%100!=11||0!==t?Plural.One:Plural.Other;case"ksh":return 0===n?Plural.Zero:1===n?Plural.One:Plural.Other;case"kw":case"naq":case"se":case"smn":return 1===n?Plural.One:2===n?Plural.Two:Plural.Other;case"lag":return 0===n?Plural.Zero:0!==i&&1!==i||0===n?Plural.Other:Plural.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?Plural.Few:0!==f?Plural.Many:Plural.Other:Plural.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===v&&f%100===Math.floor(f%100)&&f%100>=11&&f%100<=19?Plural.Zero:n%10==1&&n%100!=11||2===v&&f%10==1&&f%100!=11||2!==v&&f%10==1?Plural.One:Plural.Other;case"mk":return 0===v&&i%10==1||f%10==1?Plural.One:Plural.Other;case"mt":return 1===n?Plural.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?Plural.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?Plural.Many:Plural.Other;case"pl":return 1===i&&0===v?Plural.One:0===v&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Plural.Few:0===v&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===v&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===v&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?Plural.Many:Plural.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?Plural.One:Plural.Other;case"ro":return 1===i&&0===v?Plural.One:0!==v||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?Plural.Few:Plural.Other;case"ru":case"uk":return 0===v&&i%10==1&&i%100!=11?Plural.One:0===v&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Plural.Few:0===v&&i%10==0||0===v&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===v&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?Plural.Many:Plural.Other;case"shi":return 0===i||1===n?Plural.One:n===Math.floor(n)&&n>=2&&n<=10?Plural.Few:Plural.Other;case"si":return 0===n||1===n||0===i&&1===f?Plural.One:Plural.Other;case"sl":return 0===v&&i%100==1?Plural.One:0===v&&i%100==2?Plural.Two:0===v&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==v?Plural.Few:Plural.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?Plural.One:Plural.Other;default:return Plural.Other}}exports.NgLocaleLocalization=NgLocaleLocalization;var StylingDiffer=function(){function StylingDiffer(_name,_options){this._name=_name,this._options=_options,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}return StylingDiffer.prototype.setValue=function(value){if(Array.isArray(value))this._lastSetValueType=4;else if(value instanceof Set)this._lastSetValueType=8;else if(value&&"string"==typeof value){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=value?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=value||null},StylingDiffer.prototype.hasValueChanged=function(){var valueHasChanged=this._lastSetValueIdentityChange;if(!(valueHasChanged||14&this._lastSetValueType))return!1;var finalValue=null,trimValues=!!(1&this._options),parseOutUnits=!!(8&this._options),allowSubKeys=!!(2&this._options);switch(this._lastSetValueType){case 1:var tokens=this._lastSetValue.split(/\s+/g);16&this._options?(finalValue={},tokens.forEach(function(token,i){return finalValue[token]=!0})):finalValue=tokens.reduce(function(str,token,i){return str+(i?" ":"")+token});break;case 2:var map=this._lastSetValue,keys=Object.keys(map);valueHasChanged||(valueHasChanged=!this.value||function(keys,a,b){var oldKeys=Object.keys(a),newKeys=keys;if(!arrayEqualsArray(oldKeys,newKeys))return!0;for(var i=0;i<newKeys.length;i++){var key=newKeys[i];if(a[key]!==b[key])return!0}return!1}(keys,this.value,map)),valueHasChanged&&(finalValue=bulidMapFromValues(this._name,trimValues,parseOutUnits,allowSubKeys,map,keys));break;case 4:case 8:var values=Array.from(this._lastSetValue);if(!valueHasChanged)valueHasChanged=!arrayEqualsArray(Object.keys(this.value),values);valueHasChanged&&(finalValue=bulidMapFromValues(this._name,trimValues,parseOutUnits,allowSubKeys,values));break;default:finalValue=null}return valueHasChanged&&(this.value=finalValue),valueHasChanged},StylingDiffer}();function bulidMapFromValues(errorPrefix,trim,parseOutUnits,allowSubKeys,values,keys){var map={};if(keys)for(var i=0;i<keys.length;i++){var key=keys[i];setMapValues(map,key=trim?key.trim():key,value=values[key],parseOutUnits,allowSubKeys)}else for(i=0;i<values.length;i++){var value;assertValidValue(errorPrefix,value=values[i]),setMapValues(map,value=trim?value.trim():value,!0,!1,allowSubKeys)}return map}function assertValidValue(errorPrefix,value){if("string"!=typeof value)throw new Error(errorPrefix+" can only toggle CSS classes expressed as strings, got "+value)}function setMapValues(map,key,value,parseOutUnits,allowSubKeys){if(allowSubKeys&&key.indexOf(" ")>0)for(var innerKeys=key.split(/\s+/g),j=0;j<innerKeys.length;j++)setIndividualMapValue(map,innerKeys[j],value,parseOutUnits);else setIndividualMapValue(map,key,value,parseOutUnits)}function setIndividualMapValue(map,key,value,parseOutUnits){if(parseOutUnits){var values=function(key,value){var index=key.indexOf(".");if(index>0){var unit=key.substr(index+1);key=key.substring(0,index),null!=value&&(value+=unit)}return{key:key,value:value}}(key,value);value=values.value,key=values.key}map[key]=value}function arrayEqualsArray(a,b){if(a&&b){if(a.length!==b.length)return!1;for(var i=0;i<a.length;i++)if(-1===b.indexOf(a[i]))return!1;return!0}return!1}var NgClassImpl=function(){return function(){}}();exports.NgClassImpl=NgClassImpl;var NgClassR2Impl=function(){function NgClassR2Impl(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers,this._keyValueDiffers=_keyValueDiffers,this._ngEl=_ngEl,this._renderer=_renderer,this._initialClasses=[]}return NgClassR2Impl.prototype.getValue=function(){return null},NgClassR2Impl.prototype.setClass=function(value){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof value?value.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},NgClassR2Impl.prototype.setNgClass=function(value){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof value?value.split(/\s+/):value,this._rawClass&&((0,_core.isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},NgClassR2Impl.prototype.applyChanges=function(){if(this._iterableDiffer){var iterableChanges=this._iterableDiffer.diff(this._rawClass);iterableChanges&&this._applyIterableChanges(iterableChanges)}else if(this._keyValueDiffer){var keyValueChanges=this._keyValueDiffer.diff(this._rawClass);keyValueChanges&&this._applyKeyValueChanges(keyValueChanges)}},NgClassR2Impl.prototype._applyKeyValueChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){return _this._toggleClass(record.key,record.currentValue)}),changes.forEachChangedItem(function(record){return _this._toggleClass(record.key,record.currentValue)}),changes.forEachRemovedItem(function(record){record.previousValue&&_this._toggleClass(record.key,!1)})},NgClassR2Impl.prototype._applyIterableChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){if("string"!=typeof record.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+(0,_core.stringify)(record.item));_this._toggleClass(record.item,!0)}),changes.forEachRemovedItem(function(record){return _this._toggleClass(record.item,!1)})},NgClassR2Impl.prototype._applyClasses=function(rawClassVal){var _this=this;rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(function(klass){return _this._toggleClass(klass,!0)}):Object.keys(rawClassVal).forEach(function(klass){return _this._toggleClass(klass,!!rawClassVal[klass])}))},NgClassR2Impl.prototype._removeClasses=function(rawClassVal){var _this=this;rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(function(klass){return _this._toggleClass(klass,!1)}):Object.keys(rawClassVal).forEach(function(klass){return _this._toggleClass(klass,!1)}))},NgClassR2Impl.prototype._toggleClass=function(klass,enabled){var _this=this;(klass=klass.trim())&&klass.split(/\s+/g).forEach(function(klass){enabled?_this._renderer.addClass(_this._ngEl.nativeElement,klass):_this._renderer.removeClass(_this._ngEl.nativeElement,klass)})},NgClassR2Impl=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__metadata)("design:paramtypes",[_core.IterableDiffers,_core.KeyValueDiffers,_core.ElementRef,_core.Renderer2])],NgClassR2Impl)}();exports.NgClassR2Impl=NgClassR2Impl;var NgClassR3Impl=function(){function NgClassR3Impl(){this._value=null,this._ngClassDiffer=new StylingDiffer("NgClass",23),this._classStringDiffer=null}return NgClassR3Impl.prototype.getValue=function(){return this._value},NgClassR3Impl.prototype.setClass=function(value){(value||this._classStringDiffer)&&(this._classStringDiffer=this._classStringDiffer||new StylingDiffer("class",20),this._classStringDiffer.setValue(value))},NgClassR3Impl.prototype.setNgClass=function(value){this._ngClassDiffer.setValue(value)},NgClassR3Impl.prototype.applyChanges=function(){var classChanged=!!this._classStringDiffer&&this._classStringDiffer.hasValueChanged(),ngClassChanged=this._ngClassDiffer.hasValueChanged();if(classChanged||ngClassChanged){var value=this._ngClassDiffer.value;if(this._classStringDiffer){var classValue=this._classStringDiffer.value;classValue&&(value=value?(0,_tslib.__assign)({},classValue,value):classValue)}this._value=value}},NgClassR3Impl=(0,_tslib.__decorate)([(0,_core.Injectable)()],NgClassR3Impl)}();exports.angular_packages_common_common_f=NgClassR3Impl;var NgClassImplProvider__PRE_R3__={provide:NgClassImpl,useClass:NgClassR2Impl};exports.angular_packages_common_common_g=NgClassImplProvider__PRE_R3__;var NgClassImplProvider__POST_R3__={provide:NgClassImpl,useClass:NgClassR3Impl};exports.NgClassImplProvider__POST_R3__=NgClassImplProvider__POST_R3__;var NgClassImplProvider=NgClassImplProvider__PRE_R3__;exports.angular_packages_common_common_h=NgClassImplProvider;var ngClassDirectiveDef__POST_R3__=(0,_core.defineDirective)({type:function(){},selectors:null,factory:function(){},hostBindings:function(rf,ctx,elIndex){1&rf&&((0,_core.allocHostVars)(1),(0,_core.styling)()),2&rf&&((0,_core.classMap)(ctx.getValue()),(0,_core.stylingApply)())}});exports.ngClassDirectiveDef__POST_R3__=ngClassDirectiveDef__POST_R3__;var NgClassBase=function(){function NgClassBase(_delegate){this._delegate=_delegate}return NgClassBase.prototype.getValue=function(){return this._delegate.getValue()},NgClassBase.ngDirectiveDef=void 0,NgClassBase}();exports.NgClassBase=NgClassBase;var NgClass=function(_super){function NgClass(delegate){return _super.call(this,delegate)||this}return(0,_tslib.__extends)(NgClass,_super),Object.defineProperty(NgClass.prototype,"klass",{set:function(value){this._delegate.setClass(value)},enumerable:!0,configurable:!0}),Object.defineProperty(NgClass.prototype,"ngClass",{set:function(value){this._delegate.setNgClass(value)},enumerable:!0,configurable:!0}),NgClass.prototype.ngDoCheck=function(){this._delegate.applyChanges()},(0,_tslib.__decorate)([(0,_core.Input)("class"),(0,_tslib.__metadata)("design:type",String),(0,_tslib.__metadata)("design:paramtypes",[String])],NgClass.prototype,"klass",null),(0,_tslib.__decorate)([(0,_core.Input)("ngClass"),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgClass.prototype,"ngClass",null),NgClass=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngClass]",providers:[NgClassImplProvider]}),(0,_tslib.__metadata)("design:paramtypes",[NgClassImpl])],NgClass)}(NgClassBase);exports.NgClass=NgClass;var NgComponentOutlet=function(){function NgComponentOutlet(_viewContainerRef){this._viewContainerRef=_viewContainerRef,this._componentRef=null,this._moduleRef=null}return NgComponentOutlet.prototype.ngOnChanges=function(changes){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var elInjector=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(changes.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var parentModule=elInjector.get(_core.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(parentModule.injector)}else this._moduleRef=null;var componentFactory=(this._moduleRef?this._moduleRef.componentFactoryResolver:elInjector.get(_core.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(componentFactory,this._viewContainerRef.length,elInjector,this.ngComponentOutletContent)}},NgComponentOutlet.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",_core.Type)],NgComponentOutlet.prototype,"ngComponentOutlet",void 0),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",_core.Injector)],NgComponentOutlet.prototype,"ngComponentOutletInjector",void 0),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Array)],NgComponentOutlet.prototype,"ngComponentOutletContent",void 0),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",_core.NgModuleFactory)],NgComponentOutlet.prototype,"ngComponentOutletNgModuleFactory",void 0),NgComponentOutlet=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngComponentOutlet]"}),(0,_tslib.__metadata)("design:paramtypes",[_core.ViewContainerRef])],NgComponentOutlet)}();exports.NgComponentOutlet=NgComponentOutlet;var NgForOfContext=function(){function NgForOfContext($implicit,ngForOf,index,count){this.$implicit=$implicit,this.ngForOf=ngForOf,this.index=index,this.count=count}return Object.defineProperty(NgForOfContext.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(NgForOfContext.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(NgForOfContext.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(NgForOfContext.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),NgForOfContext}();exports.NgForOfContext=NgForOfContext;var NgForOf=function(){function NgForOf(_viewContainer,_template,_differs){this._viewContainer=_viewContainer,this._template=_template,this._differs=_differs,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(NgForOf.prototype,"ngForOf",{set:function(ngForOf){this._ngForOf=ngForOf,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(NgForOf.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(fn){(0,_core.isDevMode)()&&null!=fn&&"function"!=typeof fn&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(fn)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=fn},enumerable:!0,configurable:!0}),Object.defineProperty(NgForOf.prototype,"ngForTemplate",{set:function(value){value&&(this._template=value)},enumerable:!0,configurable:!0}),NgForOf.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var value=this._ngForOf;if(!this._differ&&value)try{this._differ=this._differs.find(value).create(this.ngForTrackBy)}catch(_a){throw new Error("Cannot find a differ supporting object '"+value+"' of type '"+((type=value).name||typeof type)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var type;if(this._differ){var changes=this._differ.diff(this._ngForOf);changes&&this._applyChanges(changes)}},NgForOf.prototype._applyChanges=function(changes){var _this=this,insertTuples=[];changes.forEachOperation(function(item,adjustedPreviousIndex,currentIndex){if(null==item.previousIndex){var view=_this._viewContainer.createEmbeddedView(_this._template,new NgForOfContext(null,_this._ngForOf,-1,-1),null===currentIndex?void 0:currentIndex),tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}else if(null==currentIndex)_this._viewContainer.remove(null===adjustedPreviousIndex?void 0:adjustedPreviousIndex);else if(null!==adjustedPreviousIndex){view=_this._viewContainer.get(adjustedPreviousIndex);_this._viewContainer.move(view,currentIndex);tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}});for(var i=0;i<insertTuples.length;i++)this._perViewChange(insertTuples[i].view,insertTuples[i].record);i=0;for(var ilen=this._viewContainer.length;i<ilen;i++){var viewRef=this._viewContainer.get(i);viewRef.context.index=i,viewRef.context.count=ilen,viewRef.context.ngForOf=this._ngForOf}changes.forEachIdentityChange(function(record){_this._viewContainer.get(record.currentIndex).context.$implicit=record.item})},NgForOf.prototype._perViewChange=function(view,record){view.context.$implicit=record.item},NgForOf.ngTemplateContextGuard=function(dir,ctx){return!0},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgForOf.prototype,"ngForOf",null),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Function),(0,_tslib.__metadata)("design:paramtypes",[Function])],NgForOf.prototype,"ngForTrackBy",null),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",_core.TemplateRef),(0,_tslib.__metadata)("design:paramtypes",[_core.TemplateRef])],NgForOf.prototype,"ngForTemplate",null),NgForOf=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngFor][ngForOf]"}),(0,_tslib.__metadata)("design:paramtypes",[_core.ViewContainerRef,_core.TemplateRef,_core.IterableDiffers])],NgForOf)}();exports.NgForOf=NgForOf;var RecordViewTuple=function(){return function(record,view){this.record=record,this.view=view}}();var NgIf=function(){function NgIf(_viewContainer,templateRef){this._viewContainer=_viewContainer,this._context=new NgIfContext,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=templateRef}return Object.defineProperty(NgIf.prototype,"ngIf",{set:function(condition){this._context.$implicit=this._context.ngIf=condition,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(NgIf.prototype,"ngIfThen",{set:function(templateRef){assertTemplate("ngIfThen",templateRef),this._thenTemplateRef=templateRef,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(NgIf.prototype,"ngIfElse",{set:function(templateRef){assertTemplate("ngIfElse",templateRef),this._elseTemplateRef=templateRef,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),NgIf.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgIf.prototype,"ngIf",null),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgIf.prototype,"ngIfThen",null),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgIf.prototype,"ngIfElse",null),NgIf=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngIf]"}),(0,_tslib.__metadata)("design:paramtypes",[_core.ViewContainerRef,_core.TemplateRef])],NgIf)}();exports.NgIf=NgIf;var NgIfContext=function(){return function(){this.$implicit=null,this.ngIf=null}}();function assertTemplate(property,templateRef){if(!!(templateRef&&!templateRef.createEmbeddedView))throw new Error(property+" must be a TemplateRef, but received '"+(0,_core.stringify)(templateRef)+"'.")}exports.NgIfContext=NgIfContext;var SwitchView=function(){function SwitchView(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef,this._created=!1}return SwitchView.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},SwitchView.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},SwitchView.prototype.enforceState=function(created){created&&!this._created?this.create():!created&&this._created&&this.destroy()},SwitchView}(),NgSwitch=function(){function NgSwitch(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(NgSwitch.prototype,"ngSwitch",{set:function(newValue){this._ngSwitch=newValue,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),NgSwitch.prototype._addCase=function(){return this._caseCount++},NgSwitch.prototype._addDefault=function(view){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(view)},NgSwitch.prototype._matchCase=function(value){var matched=value==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||matched,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),matched},NgSwitch.prototype._updateDefaultCases=function(useDefault){if(this._defaultViews&&useDefault!==this._defaultUsed){this._defaultUsed=useDefault;for(var i=0;i<this._defaultViews.length;i++){this._defaultViews[i].enforceState(useDefault)}}},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgSwitch.prototype,"ngSwitch",null),NgSwitch=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngSwitch]"})],NgSwitch)}();exports.NgSwitch=NgSwitch;var NgSwitchCase=function(){function NgSwitchCase(viewContainer,templateRef,ngSwitch){this.ngSwitch=ngSwitch,ngSwitch._addCase(),this._view=new SwitchView(viewContainer,templateRef)}return NgSwitchCase.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object)],NgSwitchCase.prototype,"ngSwitchCase",void 0),NgSwitchCase=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngSwitchCase]"}),(0,_tslib.__param)(2,(0,_core.Host)()),(0,_tslib.__metadata)("design:paramtypes",[_core.ViewContainerRef,_core.TemplateRef,NgSwitch])],NgSwitchCase)}();exports.NgSwitchCase=NgSwitchCase;var NgSwitchDefault=function(){function NgSwitchDefault(viewContainer,templateRef,ngSwitch){ngSwitch._addDefault(new SwitchView(viewContainer,templateRef))}return NgSwitchDefault=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngSwitchDefault]"}),(0,_tslib.__param)(2,(0,_core.Host)()),(0,_tslib.__metadata)("design:paramtypes",[_core.ViewContainerRef,_core.TemplateRef,NgSwitch])],NgSwitchDefault)}();exports.NgSwitchDefault=NgSwitchDefault;var NgPlural=function(){function NgPlural(_localization){this._localization=_localization,this._caseViews={}}return Object.defineProperty(NgPlural.prototype,"ngPlural",{set:function(value){this._switchValue=value,this._updateView()},enumerable:!0,configurable:!0}),NgPlural.prototype.addCase=function(value,switchView){this._caseViews[value]=switchView},NgPlural.prototype._updateView=function(){this._clearViews();var cases=Object.keys(this._caseViews),key=getPluralCategory(this._switchValue,cases,this._localization);this._activateView(this._caseViews[key])},NgPlural.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},NgPlural.prototype._activateView=function(view){view&&(this._activeView=view,this._activeView.create())},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Number),(0,_tslib.__metadata)("design:paramtypes",[Number])],NgPlural.prototype,"ngPlural",null),NgPlural=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngPlural]"}),(0,_tslib.__metadata)("design:paramtypes",[NgLocalization])],NgPlural)}();exports.NgPlural=NgPlural;var NgPluralCase=function(){function NgPluralCase(value,template,viewContainer,ngPlural){this.value=value;var isANumber=!isNaN(Number(value));ngPlural.addCase(isANumber?"="+value:value,new SwitchView(viewContainer,template))}return NgPluralCase=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngPluralCase]"}),(0,_tslib.__param)(0,(0,_core.Attribute)("ngPluralCase")),(0,_tslib.__param)(3,(0,_core.Host)()),(0,_tslib.__metadata)("design:paramtypes",[String,_core.TemplateRef,_core.ViewContainerRef,NgPlural])],NgPluralCase)}();exports.NgPluralCase=NgPluralCase;var NgStyleImpl=function(){return function(){}}();exports.NgStyleImpl=NgStyleImpl;var NgStyleR2Impl=function(){function NgStyleR2Impl(_ngEl,_differs,_renderer){this._ngEl=_ngEl,this._differs=_differs,this._renderer=_renderer}return NgStyleR2Impl.prototype.getValue=function(){return null},NgStyleR2Impl.prototype.setNgStyle=function(values){this._ngStyle=values,!this._differ&&values&&(this._differ=this._differs.find(values).create())},NgStyleR2Impl.prototype.applyChanges=function(){if(this._differ){var changes=this._differ.diff(this._ngStyle);changes&&this._applyChanges(changes)}},NgStyleR2Impl.prototype._applyChanges=function(changes){var _this=this;changes.forEachRemovedItem(function(record){return _this._setStyle(record.key,null)}),changes.forEachAddedItem(function(record){return _this._setStyle(record.key,record.currentValue)}),changes.forEachChangedItem(function(record){return _this._setStyle(record.key,record.currentValue)})},NgStyleR2Impl.prototype._setStyle=function(nameAndUnit,value){var _a=(0,_tslib.__read)(nameAndUnit.split("."),2),name=_a[0],unit=_a[1];null!=(value=null!=value&&unit?""+value+unit:value)?this._renderer.setStyle(this._ngEl.nativeElement,name,value):this._renderer.removeStyle(this._ngEl.nativeElement,name)},NgStyleR2Impl=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__metadata)("design:paramtypes",[_core.ElementRef,_core.KeyValueDiffers,_core.Renderer2])],NgStyleR2Impl)}();exports.NgStyleR2Impl=NgStyleR2Impl;var NgStyleR3Impl=function(){function NgStyleR3Impl(){this._differ=new StylingDiffer("NgStyle",8),this._value=null}return NgStyleR3Impl.prototype.getValue=function(){return this._value},NgStyleR3Impl.prototype.setNgStyle=function(value){this._differ.setValue(value)},NgStyleR3Impl.prototype.applyChanges=function(){this._differ.hasValueChanged()&&(this._value=this._differ.value)},NgStyleR3Impl=(0,_tslib.__decorate)([(0,_core.Injectable)()],NgStyleR3Impl)}();exports.angular_packages_common_common_i=NgStyleR3Impl;var NgStyleImplProvider__PRE_R3__={provide:NgStyleImpl,useClass:NgStyleR2Impl};exports.angular_packages_common_common_j=NgStyleImplProvider__PRE_R3__;var NgStyleImplProvider__POST_R3__={provide:NgStyleImpl,useClass:NgStyleR3Impl};exports.NgStyleImplProvider__POST_R3__=NgStyleImplProvider__POST_R3__;var NgStyleImplProvider=NgStyleImplProvider__PRE_R3__;exports.angular_packages_common_common_k=NgStyleImplProvider;var ngStyleDirectiveDef__POST_R3__=(0,_core.defineDirective)({type:function(){},selectors:null,factory:function(){},hostBindings:function(rf,ctx,elIndex){1&rf&&(0,_core.styling)(),2&rf&&((0,_core.styleMap)(ctx.getValue()),(0,_core.stylingApply)())}});exports.ngStyleDirectiveDef__POST_R3__=ngStyleDirectiveDef__POST_R3__;var NgStyleBase=function(){function NgStyleBase(_delegate){this._delegate=_delegate}return NgStyleBase.prototype.getValue=function(){return this._delegate.getValue()},NgStyleBase.ngDirectiveDef=void 0,NgStyleBase}();exports.NgStyleBase=NgStyleBase;var NgStyle=function(_super){function NgStyle(delegate){return _super.call(this,delegate)||this}return(0,_tslib.__extends)(NgStyle,_super),Object.defineProperty(NgStyle.prototype,"ngStyle",{set:function(value){this._delegate.setNgStyle(value)},enumerable:!0,configurable:!0}),NgStyle.prototype.ngDoCheck=function(){this._delegate.applyChanges()},(0,_tslib.__decorate)([(0,_core.Input)("ngStyle"),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgStyle.prototype,"ngStyle",null),NgStyle=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngStyle]",providers:[NgStyleImplProvider]}),(0,_tslib.__metadata)("design:paramtypes",[NgStyleImpl])],NgStyle)}(NgStyleBase);exports.NgStyle=NgStyle;var NgTemplateOutlet=function(){function NgTemplateOutlet(_viewContainerRef){this._viewContainerRef=_viewContainerRef,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return NgTemplateOutlet.prototype.ngOnChanges=function(changes){this._shouldRecreateView(changes)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},NgTemplateOutlet.prototype._shouldRecreateView=function(changes){var ctxChange=changes.ngTemplateOutletContext;return!!changes.ngTemplateOutlet||ctxChange&&this._hasContextShapeChanged(ctxChange)},NgTemplateOutlet.prototype._hasContextShapeChanged=function(ctxChange){var e_1,_a,prevCtxKeys=Object.keys(ctxChange.previousValue||{}),currCtxKeys=Object.keys(ctxChange.currentValue||{});if(prevCtxKeys.length===currCtxKeys.length){try{for(var currCtxKeys_1=(0,_tslib.__values)(currCtxKeys),currCtxKeys_1_1=currCtxKeys_1.next();!currCtxKeys_1_1.done;currCtxKeys_1_1=currCtxKeys_1.next()){var propName=currCtxKeys_1_1.value;if(-1===prevCtxKeys.indexOf(propName))return!0}}catch(e_1_1){e_1={error:e_1_1}}finally{try{currCtxKeys_1_1&&!currCtxKeys_1_1.done&&(_a=currCtxKeys_1.return)&&_a.call(currCtxKeys_1)}finally{if(e_1)throw e_1.error}}return!1}return!0},NgTemplateOutlet.prototype._updateExistingContext=function(ctx){var e_2,_a;try{for(var _b=(0,_tslib.__values)(Object.keys(ctx)),_c=_b.next();!_c.done;_c=_b.next()){var propName=_c.value;this._viewRef.context[propName]=this.ngTemplateOutletContext[propName]}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object)],NgTemplateOutlet.prototype,"ngTemplateOutletContext",void 0),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object)],NgTemplateOutlet.prototype,"ngTemplateOutlet",void 0),NgTemplateOutlet=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngTemplateOutlet]"}),(0,_tslib.__metadata)("design:paramtypes",[_core.ViewContainerRef])],NgTemplateOutlet)}();exports.NgTemplateOutlet=NgTemplateOutlet;var COMMON_DIRECTIVES=[NgClass,NgComponentOutlet,NgForOf,NgIf,NgTemplateOutlet,NgStyle,NgSwitch,NgSwitchCase,NgSwitchDefault,NgPlural,NgPluralCase];function invalidPipeArgumentError(type,value){return Error("InvalidPipeArgument: '"+value+"' for pipe '"+(0,_core.stringify)(type)+"'")}exports.angular_packages_common_common_c=COMMON_DIRECTIVES;var inner,NumberFormatter=function(){function NumberFormatter(){}return NumberFormatter.format=function(num,locale,style,opts){void 0===opts&&(opts={});var minimumIntegerDigits=opts.minimumIntegerDigits,minimumFractionDigits=opts.minimumFractionDigits,maximumFractionDigits=opts.maximumFractionDigits,currency=opts.currency,_a=opts.currencyAsSymbol,currencyAsSymbol=void 0!==_a&&_a,options={minimumIntegerDigits:minimumIntegerDigits,minimumFractionDigits:minimumFractionDigits,maximumFractionDigits:maximumFractionDigits,style:NumberFormatStyle[style].toLowerCase()};return style==NumberFormatStyle.Currency&&(options.currency="string"==typeof currency?currency:void 0,options.currencyDisplay=currencyAsSymbol?"symbol":"code"),new Intl.NumberFormat(locale,options).format(num)},NumberFormatter}(),DATE_FORMATS_SPLIT$1=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,PATTERN_ALIASES={yMMMdjms:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1),digitCondition("second",1)])),yMdjm:datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1)])),yMMMMEEEEd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),nameCondition("weekday",4),digitCondition("day",1)])),yMMMMd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),digitCondition("day",1)])),yMMMd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1)])),yMd:datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1)])),jms:datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("second",1),digitCondition("minute",1)])),jm:datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("minute",1)]))},DATE_FORMATS$1={yyyy:datePartGetterFactory(digitCondition("year",4)),yy:datePartGetterFactory(digitCondition("year",2)),y:datePartGetterFactory(digitCondition("year",1)),MMMM:datePartGetterFactory(nameCondition("month",4)),MMM:datePartGetterFactory(nameCondition("month",3)),MM:datePartGetterFactory(digitCondition("month",2)),M:datePartGetterFactory(digitCondition("month",1)),LLLL:datePartGetterFactory(nameCondition("month",4)),L:datePartGetterFactory(nameCondition("month",1)),dd:datePartGetterFactory(digitCondition("day",2)),d:datePartGetterFactory(digitCondition("day",1)),HH:digitModifier(hourExtractor(datePartGetterFactory(hour12Modify(digitCondition("hour",2),!1)))),H:hourExtractor(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!1))),hh:digitModifier(hourExtractor(datePartGetterFactory(hour12Modify(digitCondition("hour",2),!0)))),h:hourExtractor(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!0))),jj:datePartGetterFactory(digitCondition("hour",2)),j:datePartGetterFactory(digitCondition("hour",1)),mm:digitModifier(datePartGetterFactory(digitCondition("minute",2))),m:datePartGetterFactory(digitCondition("minute",1)),ss:digitModifier(datePartGetterFactory(digitCondition("second",2))),s:datePartGetterFactory(digitCondition("second",1)),sss:datePartGetterFactory(digitCondition("second",3)),EEEE:datePartGetterFactory(nameCondition("weekday",4)),EEE:datePartGetterFactory(nameCondition("weekday",3)),EE:datePartGetterFactory(nameCondition("weekday",2)),E:datePartGetterFactory(nameCondition("weekday",1)),a:(inner=datePartGetterFactory(hour12Modify(digitCondition("hour",1),!0)),function(date,locale){return inner(date,locale).split(" ")[1]}),Z:timeZoneGetter$1("short"),z:timeZoneGetter$1("long"),ww:datePartGetterFactory({}),w:datePartGetterFactory({}),G:datePartGetterFactory(nameCondition("era",1)),GG:datePartGetterFactory(nameCondition("era",2)),GGG:datePartGetterFactory(nameCondition("era",3)),GGGG:datePartGetterFactory(nameCondition("era",4))};function digitModifier(inner){return function(date,locale){var result=inner(date,locale);return 1==result.length?"0"+result:result}}function hourExtractor(inner){return function(date,locale){return inner(date,locale).split(" ")[0]}}function intlDateFormat(date,locale,options){return new Intl.DateTimeFormat(locale,options).format(date).replace(/[\u200e\u200f]/g,"")}function timeZoneGetter$1(timezone){var options={hour:"2-digit",hour12:!1,timeZoneName:timezone};return function(date,locale){var result=intlDateFormat(date,locale,options);return result?result.substring(3):""}}function hour12Modify(options,value){return options.hour12=value,options}function digitCondition(prop,len){var result={};return result[prop]=2===len?"2-digit":"numeric",result}function nameCondition(prop,len){var result={};return result[prop]=len<4?len>1?"short":"narrow":"long",result}function combine(options){return options.reduce(function(merged,opt){return(0,_tslib.__assign)({},merged,opt)},{})}function datePartGetterFactory(ret){return function(date,locale){return intlDateFormat(date,locale,ret)}}var DATE_FORMATTER_CACHE=new Map;var DateFormatter=function(){function DateFormatter(){}return DateFormatter.format=function(date,locale,pattern){return function(format,date,locale){var fn=PATTERN_ALIASES[format];if(fn)return fn(date,locale);var cacheKey=format,parts=DATE_FORMATTER_CACHE.get(cacheKey);if(!parts){parts=[];var match=void 0;DATE_FORMATS_SPLIT$1.exec(format);for(var _format=format;_format;)(match=DATE_FORMATS_SPLIT$1.exec(_format))?_format=(parts=parts.concat(match.slice(1))).pop():(parts.push(_format),_format=null);DATE_FORMATTER_CACHE.set(cacheKey,parts)}return parts.reduce(function(text,part){var fn=DATE_FORMATS$1[part];return text+(fn?fn(date,locale):function(part){return"''"===part?"'":part.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(part))},"")}(pattern,date,locale)},DateFormatter}(),DeprecatedDatePipe=function(){function DeprecatedDatePipe(_locale){this._locale=_locale}var DeprecatedDatePipe_1;return DeprecatedDatePipe_1=DeprecatedDatePipe,DeprecatedDatePipe.prototype.transform=function(value,pattern){if(void 0===pattern&&(pattern="mediumDate"),null==value||""===value||value!=value)return null;var date;if("string"==typeof value&&(value=value.trim()),isDate$1(value))date=value;else if(isNaN(value-parseFloat(value)))if("string"==typeof value&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(value)){var _a=(0,_tslib.__read)(value.split("-").map(function(val){return parseInt(val,10)}),3),y=_a[0],m=_a[1],d=_a[2];date=new Date(y,m-1,d)}else date=new Date(value);else date=new Date(parseFloat(value));if(!isDate$1(date)){var match=void 0;if("string"!=typeof value||!(match=value.match(ISO8601_DATE_REGEX)))throw invalidPipeArgumentError(DeprecatedDatePipe_1,value);date=isoStringToDate(match)}return DateFormatter.format(date,this._locale,DeprecatedDatePipe_1._ALIASES[pattern]||pattern)},DeprecatedDatePipe._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},DeprecatedDatePipe=DeprecatedDatePipe_1=(0,_tslib.__decorate)([(0,_core.Pipe)({name:"date",pure:!0}),(0,_tslib.__param)(0,(0,_core.Inject)(_core.LOCALE_ID)),(0,_tslib.__metadata)("design:paramtypes",[String])],DeprecatedDatePipe)}();function isDate$1(value){return value instanceof Date&&!isNaN(value.valueOf())}function formatNumber$1(pipe,locale,value,style,digits,currency,currencyAsSymbol){if(void 0===currency&&(currency=null),void 0===currencyAsSymbol&&(currencyAsSymbol=!1),null==value)return null;if("number"!=typeof(value="string"!=typeof value||isNaN(+value-parseFloat(value))?value:+value))throw invalidPipeArgumentError(pipe,value);var minInt,minFraction,maxFraction;if(style!==NumberFormatStyle.Currency&&(minInt=1,minFraction=0,maxFraction=3),digits){var parts=digits.match(NUMBER_FORMAT_REGEXP);if(null===parts)throw new Error(digits+" is not a valid digit info for number pipes");null!=parts[1]&&(minInt=parseIntAutoRadix(parts[1])),null!=parts[3]&&(minFraction=parseIntAutoRadix(parts[3])),null!=parts[5]&&(maxFraction=parseIntAutoRadix(parts[5]))}return NumberFormatter.format(value,locale,style,{minimumIntegerDigits:minInt,minimumFractionDigits:minFraction,maximumFractionDigits:maxFraction,currency:currency,currencyAsSymbol:currencyAsSymbol})}exports.DeprecatedDatePipe=DeprecatedDatePipe;var DeprecatedDecimalPipe=function(){function DeprecatedDecimalPipe(_locale){this._locale=_locale}var DeprecatedDecimalPipe_1;return DeprecatedDecimalPipe_1=DeprecatedDecimalPipe,DeprecatedDecimalPipe.prototype.transform=function(value,digits){return formatNumber$1(DeprecatedDecimalPipe_1,this._locale,value,NumberFormatStyle.Decimal,digits)},DeprecatedDecimalPipe=DeprecatedDecimalPipe_1=(0,_tslib.__decorate)([(0,_core.Pipe)({name:"number"}),(0,_tslib.__param)(0,(0,_core.Inject)(_core.LOCALE_ID)),(0,_tslib.__metadata)("design:paramtypes",[String])],DeprecatedDecimalPipe)}();exports.DeprecatedDecimalPipe=DeprecatedDecimalPipe;var DeprecatedPercentPipe=function(){function DeprecatedPercentPipe(_locale){this._locale=_locale}var DeprecatedPercentPipe_1;return DeprecatedPercentPipe_1=DeprecatedPercentPipe,DeprecatedPercentPipe.prototype.transform=function(value,digits){return formatNumber$1(DeprecatedPercentPipe_1,this._locale,value,NumberFormatStyle.Percent,digits)},DeprecatedPercentPipe=DeprecatedPercentPipe_1=(0,_tslib.__decorate)([(0,_core.Pipe)({name:"percent"}),(0,_tslib.__param)(0,(0,_core.Inject)(_core.LOCALE_ID)),(0,_tslib.__metadata)("design:paramtypes",[String])],DeprecatedPercentPipe)}();exports.DeprecatedPercentPipe=DeprecatedPercentPipe;var DeprecatedCurrencyPipe=function(){function DeprecatedCurrencyPipe(_locale){this._locale=_locale}var DeprecatedCurrencyPipe_1;return DeprecatedCurrencyPipe_1=DeprecatedCurrencyPipe,DeprecatedCurrencyPipe.prototype.transform=function(value,currencyCode,symbolDisplay,digits){return void 0===currencyCode&&(currencyCode="USD"),void 0===symbolDisplay&&(symbolDisplay=!1),formatNumber$1(DeprecatedCurrencyPipe_1,this._locale,value,NumberFormatStyle.Currency,digits,currencyCode,symbolDisplay)},DeprecatedCurrencyPipe=DeprecatedCurrencyPipe_1=(0,_tslib.__decorate)([(0,_core.Pipe)({name:"currency"}),(0,_tslib.__param)(0,(0,_core.Inject)(_core.LOCALE_ID)),(0,_tslib.__metadata)("design:paramtypes",[String])],DeprecatedCurrencyPipe)}();exports.DeprecatedCurrencyPipe=DeprecatedCurrencyPipe;var COMMON_DEPRECATED_I18N_PIPES=[DeprecatedDecimalPipe,DeprecatedPercentPipe,DeprecatedCurrencyPipe,DeprecatedDatePipe];exports.angular_packages_common_common_e=COMMON_DEPRECATED_I18N_PIPES;var ObservableStrategy=function(){function ObservableStrategy(){}return ObservableStrategy.prototype.createSubscription=function(async,updateLatestValue){return async.subscribe({next:updateLatestValue,error:function(e){throw e}})},ObservableStrategy.prototype.dispose=function(subscription){subscription.unsubscribe()},ObservableStrategy.prototype.onDestroy=function(subscription){subscription.unsubscribe()},ObservableStrategy}(),_promiseStrategy=new(function(){function PromiseStrategy(){}return PromiseStrategy.prototype.createSubscription=function(async,updateLatestValue){return async.then(updateLatestValue,function(e){throw e})},PromiseStrategy.prototype.dispose=function(subscription){},PromiseStrategy.prototype.onDestroy=function(subscription){},PromiseStrategy}()),_observableStrategy=new ObservableStrategy,AsyncPipe=function(){function AsyncPipe(_ref){this._ref=_ref,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var AsyncPipe_1;return AsyncPipe_1=AsyncPipe,AsyncPipe.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},AsyncPipe.prototype.transform=function(obj){return this._obj?obj!==this._obj?(this._dispose(),this.transform(obj)):(0,_core.looseIdentical)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,_core.WrappedValue.wrap(this._latestValue)):(obj&&this._subscribe(obj),this._latestReturnedValue=this._latestValue,this._latestValue)},AsyncPipe.prototype._subscribe=function(obj){var _this=this;this._obj=obj,this._strategy=this._selectStrategy(obj),this._subscription=this._strategy.createSubscription(obj,function(value){return _this._updateLatestValue(obj,value)})},AsyncPipe.prototype._selectStrategy=function(obj){if((0,_core.isPromise)(obj))return _promiseStrategy;if((0,_core.isObservable)(obj))return _observableStrategy;throw invalidPipeArgumentError(AsyncPipe_1,obj)},AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},AsyncPipe.prototype._updateLatestValue=function(async,value){async===this._obj&&(this._latestValue=value,this._ref.markForCheck())},AsyncPipe=AsyncPipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"async",pure:!1}),(0,_tslib.__metadata)("design:paramtypes",[_core.ChangeDetectorRef])],AsyncPipe)}();exports.AsyncPipe=AsyncPipe;var LowerCasePipe=function(){function LowerCasePipe(){}var LowerCasePipe_1;return LowerCasePipe_1=LowerCasePipe,LowerCasePipe.prototype.transform=function(value){if(!value)return value;if("string"!=typeof value)throw invalidPipeArgumentError(LowerCasePipe_1,value);return value.toLowerCase()},LowerCasePipe=LowerCasePipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"lowercase"})],LowerCasePipe)}();exports.LowerCasePipe=LowerCasePipe;var unicodeWordMatch=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,TitleCasePipe=function(){function TitleCasePipe(){}var TitleCasePipe_1;return TitleCasePipe_1=TitleCasePipe,TitleCasePipe.prototype.transform=function(value){if(!value)return value;if("string"!=typeof value)throw invalidPipeArgumentError(TitleCasePipe_1,value);return value.replace(unicodeWordMatch,function(txt){return txt[0].toUpperCase()+txt.substr(1).toLowerCase()})},TitleCasePipe=TitleCasePipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"titlecase"})],TitleCasePipe)}();exports.TitleCasePipe=TitleCasePipe;var UpperCasePipe=function(){function UpperCasePipe(){}var UpperCasePipe_1;return UpperCasePipe_1=UpperCasePipe,UpperCasePipe.prototype.transform=function(value){if(!value)return value;if("string"!=typeof value)throw invalidPipeArgumentError(UpperCasePipe_1,value);return value.toUpperCase()},UpperCasePipe=UpperCasePipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"uppercase"})],UpperCasePipe)}();exports.UpperCasePipe=UpperCasePipe;var DatePipe=function(){function DatePipe(locale){this.locale=locale}var DatePipe_1;return DatePipe_1=DatePipe,DatePipe.prototype.transform=function(value,format,timezone,locale){if(void 0===format&&(format="mediumDate"),null==value||""===value||value!=value)return null;try{return formatDate(value,format,locale||this.locale,timezone)}catch(error){throw invalidPipeArgumentError(DatePipe_1,error.message)}},DatePipe=DatePipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"date",pure:!0}),(0,_tslib.__param)(0,(0,_core.Inject)(_core.LOCALE_ID)),(0,_tslib.__metadata)("design:paramtypes",[String])],DatePipe)}();exports.DatePipe=DatePipe;var _INTERPOLATION_REGEXP=/#/g,I18nPluralPipe=function(){function I18nPluralPipe(_localization){this._localization=_localization}var I18nPluralPipe_1;return I18nPluralPipe_1=I18nPluralPipe,I18nPluralPipe.prototype.transform=function(value,pluralMap,locale){if(null==value)return"";if("object"!=typeof pluralMap||null===pluralMap)throw invalidPipeArgumentError(I18nPluralPipe_1,pluralMap);return pluralMap[getPluralCategory(value,Object.keys(pluralMap),this._localization,locale)].replace(_INTERPOLATION_REGEXP,value.toString())},I18nPluralPipe=I18nPluralPipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"i18nPlural",pure:!0}),(0,_tslib.__metadata)("design:paramtypes",[NgLocalization])],I18nPluralPipe)}();exports.I18nPluralPipe=I18nPluralPipe;var I18nSelectPipe=function(){function I18nSelectPipe(){}var I18nSelectPipe_1;return I18nSelectPipe_1=I18nSelectPipe,I18nSelectPipe.prototype.transform=function(value,mapping){if(null==value)return"";if("object"!=typeof mapping||"string"!=typeof value)throw invalidPipeArgumentError(I18nSelectPipe_1,mapping);return mapping.hasOwnProperty(value)?mapping[value]:mapping.hasOwnProperty("other")?mapping.other:""},I18nSelectPipe=I18nSelectPipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"i18nSelect",pure:!0})],I18nSelectPipe)}();exports.I18nSelectPipe=I18nSelectPipe;var JsonPipe=function(){function JsonPipe(){}return JsonPipe.prototype.transform=function(value){return JSON.stringify(value,null,2)},JsonPipe=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"json",pure:!1})],JsonPipe)}();exports.JsonPipe=JsonPipe;var KeyValuePipe=function(){function KeyValuePipe(differs){this.differs=differs,this.keyValues=[]}return KeyValuePipe.prototype.transform=function(input,compareFn){var _this=this;if(void 0===compareFn&&(compareFn=defaultComparator),!input||!(input instanceof Map)&&"object"!=typeof input)return null;this.differ||(this.differ=this.differs.find(input).create());var differChanges=this.differ.diff(input);return differChanges&&(this.keyValues=[],differChanges.forEachItem(function(r){var key,value;_this.keyValues.push((key=r.key,value=r.currentValue,{key:key,value:value}))}),this.keyValues.sort(compareFn)),this.keyValues},KeyValuePipe=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"keyvalue",pure:!1}),(0,_tslib.__metadata)("design:paramtypes",[_core.KeyValueDiffers])],KeyValuePipe)}();function defaultComparator(keyValueA,keyValueB){var a=keyValueA.key,b=keyValueB.key;if(a===b)return 0;if(void 0===a)return 1;if(void 0===b)return-1;if(null===a)return 1;if(null===b)return-1;if("string"==typeof a&&"string"==typeof b)return a<b?-1:1;if("number"==typeof a&&"number"==typeof b)return a-b;if("boolean"==typeof a&&"boolean"==typeof b)return a<b?-1:1;var aString=String(a),bString=String(b);return aString==bString?0:aString<bString?-1:1}exports.KeyValuePipe=KeyValuePipe;var DecimalPipe=function(){function DecimalPipe(_locale){this._locale=_locale}var DecimalPipe_1;return DecimalPipe_1=DecimalPipe,DecimalPipe.prototype.transform=function(value,digitsInfo,locale){if(isEmpty(value))return null;locale=locale||this._locale;try{return formatNumber(strToNumber(value),locale,digitsInfo)}catch(error){throw invalidPipeArgumentError(DecimalPipe_1,error.message)}},DecimalPipe=DecimalPipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"number"}),(0,_tslib.__param)(0,(0,_core.Inject)(_core.LOCALE_ID)),(0,_tslib.__metadata)("design:paramtypes",[String])],DecimalPipe)}();exports.DecimalPipe=DecimalPipe;var PercentPipe=function(){function PercentPipe(_locale){this._locale=_locale}var PercentPipe_1;return PercentPipe_1=PercentPipe,PercentPipe.prototype.transform=function(value,digitsInfo,locale){if(isEmpty(value))return null;locale=locale||this._locale;try{return formatPercent(strToNumber(value),locale,digitsInfo)}catch(error){throw invalidPipeArgumentError(PercentPipe_1,error.message)}},PercentPipe=PercentPipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"percent"}),(0,_tslib.__param)(0,(0,_core.Inject)(_core.LOCALE_ID)),(0,_tslib.__metadata)("design:paramtypes",[String])],PercentPipe)}();exports.PercentPipe=PercentPipe;var CurrencyPipe=function(){function CurrencyPipe(_locale){this._locale=_locale}var CurrencyPipe_1;return CurrencyPipe_1=CurrencyPipe,CurrencyPipe.prototype.transform=function(value,currencyCode,display,digitsInfo,locale){if(void 0===display&&(display="symbol"),isEmpty(value))return null;locale=locale||this._locale,"boolean"==typeof display&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),display=display?"symbol":"code");var currency=currencyCode||"USD";"code"!==display&&(currency="symbol"===display||"symbol-narrow"===display?getCurrencySymbol(currency,"symbol"===display?"wide":"narrow",locale):display);try{return formatCurrency(strToNumber(value),locale,currency,currencyCode,digitsInfo)}catch(error){throw invalidPipeArgumentError(CurrencyPipe_1,error.message)}},CurrencyPipe=CurrencyPipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"currency"}),(0,_tslib.__param)(0,(0,_core.Inject)(_core.LOCALE_ID)),(0,_tslib.__metadata)("design:paramtypes",[String])],CurrencyPipe)}();function isEmpty(value){return null==value||""===value||value!=value}function strToNumber(value){if("string"==typeof value&&!isNaN(Number(value)-parseFloat(value)))return Number(value);if("number"!=typeof value)throw new Error(value+" is not a number");return value}exports.CurrencyPipe=CurrencyPipe;var SlicePipe=function(){function SlicePipe(){}var SlicePipe_1;return SlicePipe_1=SlicePipe,SlicePipe.prototype.transform=function(value,start,end){if(null==value)return value;if(!this.supports(value))throw invalidPipeArgumentError(SlicePipe_1,value);return value.slice(start,end)},SlicePipe.prototype.supports=function(obj){return"string"==typeof obj||Array.isArray(obj)},SlicePipe=SlicePipe_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_core.Pipe)({name:"slice",pure:!1})],SlicePipe)}();exports.SlicePipe=SlicePipe;var COMMON_PIPES=[AsyncPipe,UpperCasePipe,LowerCasePipe,JsonPipe,SlicePipe,DecimalPipe,PercentPipe,TitleCasePipe,CurrencyPipe,DatePipe,I18nPluralPipe,I18nSelectPipe,KeyValuePipe];exports.angular_packages_common_common_d=COMMON_PIPES;var CommonModule=function(){function CommonModule(){}return CommonModule=(0,_tslib.__decorate)([(0,_core.NgModule)({declarations:[COMMON_DIRECTIVES,COMMON_PIPES],exports:[COMMON_DIRECTIVES,COMMON_PIPES],providers:[{provide:NgLocalization,useClass:NgLocaleLocalization}]})],CommonModule)}();exports.CommonModule=CommonModule;var 0$2=getPluralCase,DeprecatedI18NPipesModule=function(){function DeprecatedI18NPipesModule(){}return DeprecatedI18NPipesModule=(0,_tslib.__decorate)([(0,_core.NgModule)({declarations:[COMMON_DEPRECATED_I18N_PIPES],exports:[COMMON_DEPRECATED_I18N_PIPES],providers:[{provide:DEPRECATED_PLURAL_FN,useValue:0$2}]})],DeprecatedI18NPipesModule)}();exports.DeprecatedI18NPipesModule=DeprecatedI18NPipesModule;var DOCUMENT=new _core.InjectionToken("DocumentToken");exports.DOCUMENT=DOCUMENT;var PLATFORM_BROWSER_ID="browser";exports.PLATFORM_BROWSER_ID=PLATFORM_BROWSER_ID;var PLATFORM_SERVER_ID="server";exports.PLATFORM_SERVER_ID=PLATFORM_SERVER_ID;var PLATFORM_WORKER_APP_ID="browserWorkerApp";exports.PLATFORM_WORKER_APP_ID=PLATFORM_WORKER_APP_ID;var PLATFORM_WORKER_UI_ID="browserWorkerUi";exports.PLATFORM_WORKER_UI_ID=PLATFORM_WORKER_UI_ID;var VERSION=new _core.Version("8.2.14");exports.VERSION=VERSION;var ViewportScroller=function(){function ViewportScroller(){}return ViewportScroller.ngInjectableDef=(0,_core.defineInjectable)({token:ViewportScroller,providedIn:"root",factory:function(){return new BrowserViewportScroller((0,_core.inject)(DOCUMENT),window,(0,_core.inject)(_core.ErrorHandler))}}),ViewportScroller}();exports.ViewportScroller=ViewportScroller;var BrowserViewportScroller=function(){function BrowserViewportScroller(document,window,errorHandler){this.document=document,this.window=window,this.errorHandler=errorHandler,this.offset=function(){return[0,0]}}return BrowserViewportScroller.prototype.setOffset=function(offset){Array.isArray(offset)?this.offset=function(){return offset}:this.offset=offset},BrowserViewportScroller.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},BrowserViewportScroller.prototype.scrollToPosition=function(position){this.supportScrollRestoration()&&this.window.scrollTo(position[0],position[1])},BrowserViewportScroller.prototype.scrollToAnchor=function(anchor){if(this.supportScrollRestoration()){anchor=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(anchor):anchor.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var elSelectedById=this.document.querySelector("#"+anchor);if(elSelectedById)return void this.scrollToElement(elSelectedById);var elSelectedByName=this.document.querySelector("[name='"+anchor+"']");if(elSelectedByName)return void this.scrollToElement(elSelectedByName)}catch(e){this.errorHandler.handleError(e)}}},BrowserViewportScroller.prototype.setHistoryScrollRestoration=function(scrollRestoration){if(this.supportScrollRestoration()){var history_1=this.window.history;history_1&&history_1.scrollRestoration&&(history_1.scrollRestoration=scrollRestoration)}},BrowserViewportScroller.prototype.scrollToElement=function(el){var rect=el.getBoundingClientRect(),left=rect.left+this.window.pageXOffset,top=rect.top+this.window.pageYOffset,offset=this.offset();this.window.scrollTo(left-offset[0],top-offset[1])},BrowserViewportScroller.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(_a){return!1}},BrowserViewportScroller}(),NullViewportScroller=function(){function NullViewportScroller(){}return NullViewportScroller.prototype.setOffset=function(offset){},NullViewportScroller.prototype.getScrollPosition=function(){return[0,0]},NullViewportScroller.prototype.scrollToPosition=function(position){},NullViewportScroller.prototype.scrollToAnchor=function(anchor){},NullViewportScroller.prototype.setHistoryScrollRestoration=function(scrollRestoration){},NullViewportScroller}();exports.NullViewportScroller=NullViewportScroller},{"@angular/core":"XDhY",tslib:"vCxL"}],dAl9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.angular_packages_platform_browser_platform_browser_b=_document,exports.angular_packages_platform_browser_platform_browser_a=errorHandler,exports.angular_packages_platform_browser_platform_browser_d=createMeta,exports.angular_packages_platform_browser_platform_browser_h=appInitializerFactory,exports.angular_packages_platform_browser_platform_browser_e=createTitle,exports.angular_packages_platform_browser_platform_browser_f=initTransferState,exports.angular_packages_platform_browser_platform_browser_j=_createNgProbe,exports.disableDebugTools=function(){exportNgVar(PROFILER_GLOBAL_NAME,null)},exports.enableDebugTools=function(ref){return exportNgVar(PROFILER_GLOBAL_NAME,new AngularProfiler(ref)),ref},exports.makeStateKey=function(key){return key},exports.initDomAdapter=initDomAdapter,exports.escapeHtml=function(text){var escapedText={"&":"&a;",'"':"&q;","'":"&s;","<":"&l;",">":"&g;"};return text.replace(/[&"'<>]/g,function(s){return escapedText[s]})},exports.getDOM=getDOM,exports.setRootDomAdapter=setRootDomAdapter,exports.flattenStyles=flattenStyles,exports.shimContentAttribute=shimContentAttribute,exports.shimHostAttribute=shimHostAttribute,exports.DomSanitizerImpl=exports.SharedStylesHost=exports.DomSharedStylesHost=exports.KeyEventsPlugin=exports.HammerGesturesPlugin=exports.DomEventsPlugin=exports.NAMESPACE_URIS=exports.DomRendererFactory2=exports.DomAdapter=exports.ELEMENT_PROBE_PROVIDERS=exports.BrowserGetTestability=exports.TRANSITION_ID=exports.BrowserPlatformLocation=exports.BrowserDomAdapter=exports.INTERNAL_BROWSER_PLATFORM_PROVIDERS=exports.BROWSER_SANITIZATION_PROVIDERS=exports.ELEMENT_PROBE_PROVIDERS__POST_R3__=exports.VERSION=exports.DomSanitizer=exports.HammerGestureConfig=exports.HAMMER_LOADER=exports.HAMMER_GESTURE_CONFIG=exports.EventManager=exports.EVENT_MANAGER_PLUGINS=exports.By=exports.TransferState=exports.BrowserTransferStateModule=exports.Title=exports.Meta=exports.platformBrowser=exports.BrowserModule=exports.angular_packages_platform_browser_platform_browser_g=exports.angular_packages_platform_browser_platform_browser_k=exports.angular_packages_platform_browser_platform_browser_i=exports.angular_packages_platform_browser_platform_browser_l=exports.angular_packages_platform_browser_platform_browser_c=void 0;var _tslib=require("tslib"),_common=require("@angular/common"),_core=require("@angular/core"),_DOM=null;function getDOM(){return _DOM}function setRootDomAdapter(adapter){_DOM||(_DOM=adapter)}var DomAdapter=function(){function DomAdapter(){this.resourceLoaderType=null}return Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(value){this._attrToPropMap=value},enumerable:!0,configurable:!0}),DomAdapter}();exports.DomAdapter=DomAdapter;var GenericBrowserDomAdapter=function(_super){function GenericBrowserDomAdapter(){var _this=_super.call(this)||this;_this._animationPrefix=null,_this._transitionEnd=null;try{var element_1=_this.createElement("div",document);if(null!=_this.getStyle(element_1,"animationName"))_this._animationPrefix="";else for(var domPrefixes=["Webkit","Moz","O","ms"],i=0;i<domPrefixes.length;i++)if(null!=_this.getStyle(element_1,domPrefixes[i]+"AnimationName")){_this._animationPrefix="-"+domPrefixes[i].toLowerCase()+"-";break}var transEndEventNames_1={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(transEndEventNames_1).forEach(function(key){null!=_this.getStyle(element_1,key)&&(_this._transitionEnd=transEndEventNames_1[key])})}catch(_a){_this._animationPrefix=null,_this._transitionEnd=null}return _this}return(0,_tslib.__extends)(GenericBrowserDomAdapter,_super),GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+"/../"+href},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},GenericBrowserDomAdapter}(DomAdapter);exports.angular_packages_platform_browser_platform_browser_l=GenericBrowserDomAdapter;var _attrToPropMap={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},nodeContains=function(){if(_core.global.Node)return _core.global.Node.prototype.contains||function(node){return!!(16&this.compareDocumentPosition(node))}}(),BrowserDomAdapter=function(_super){function BrowserDomAdapter(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(BrowserDomAdapter,_super),BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){setRootDomAdapter(new BrowserDomAdapter)},BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element},BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value},BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name]},BrowserDomAdapter.prototype.invoke=function(el,methodName,args){var _a;(_a=el)[methodName].apply(_a,(0,_tslib.__spread)(args))},BrowserDomAdapter.prototype.logError=function(error){window.console&&(console.error?console.error(error):console.log(error))},BrowserDomAdapter.prototype.log=function(error){window.console&&window.console.log&&window.console.log(error)},BrowserDomAdapter.prototype.logGroup=function(error){window.console&&window.console.group&&window.console.group(error)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.contains=function(nodeA,nodeB){return nodeContains.call(nodeA,nodeB)},BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector)},BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector)},BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,!1)},BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){return el.addEventListener(evt,listener,!1),function(){el.removeEventListener(evt,listener,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt)},BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=this.getDefaultDocument().createEvent("MouseEvent");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=this.getDefaultDocument().createEvent("Event");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault(),evt.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||null!=evt.returnValue&&!evt.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML},BrowserDomAdapter.prototype.getTemplateContent=function(el){return"content"in el&&this.isTemplateElement(el)?el.content:null},BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML},BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName},BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue},BrowserDomAdapter.prototype.type=function(node){return node.type},BrowserDomAdapter.prototype.content=function(node){return this.hasProperty(node,"content")?node.content:node},BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild},BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling},BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode},BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(el){for(var childNodes=el.childNodes,res=new Array(childNodes.length),i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res},BrowserDomAdapter.prototype.clearNodes=function(el){for(;el.firstChild;)el.removeChild(el.firstChild)},BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node)},BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node)},BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild)},BrowserDomAdapter.prototype.remove=function(node){return node.parentNode&&node.parentNode.removeChild(node),node},BrowserDomAdapter.prototype.insertBefore=function(parent,ref,node){parent.insertBefore(node,ref)},BrowserDomAdapter.prototype.insertAllBefore=function(parent,ref,nodes){nodes.forEach(function(n){return parent.insertBefore(n,ref)})},BrowserDomAdapter.prototype.insertAfter=function(parent,ref,node){parent.insertBefore(node,ref.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value},BrowserDomAdapter.prototype.getText=function(el){return el.textContent},BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value},BrowserDomAdapter.prototype.getValue=function(el){return el.value},BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value},BrowserDomAdapter.prototype.getChecked=function(el){return el.checked},BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value},BrowserDomAdapter.prototype.createComment=function(text){return this.getDefaultDocument().createComment(text)},BrowserDomAdapter.prototype.createTemplate=function(html){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=html,t},BrowserDomAdapter.prototype.createElement=function(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)},BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){return(doc=doc||this.getDefaultDocument()).createElementNS(ns,tagName)},BrowserDomAdapter.prototype.createTextNode=function(text,doc){return(doc=doc||this.getDefaultDocument()).createTextNode(text)},BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){var el=(doc=doc||this.getDefaultDocument()).createElement("SCRIPT");return el.setAttribute(attrName,attrValue),el},BrowserDomAdapter.prototype.createStyleElement=function(css,doc){var style=(doc=doc||this.getDefaultDocument()).createElement("style");return this.appendChild(style,this.createTextNode(css,doc)),style},BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot},BrowserDomAdapter.prototype.getHost=function(el){return el.host},BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name)},BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name)},BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0)},BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className)},BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className)},BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className)},BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue},BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]=""},BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename]},BrowserDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){var value=this.getStyle(element,styleName)||"";return styleValue?value==styleValue:value.length>0},BrowserDomAdapter.prototype.tagName=function(element){return element.tagName},BrowserDomAdapter.prototype.attributeMap=function(element){for(var res=new Map,elAttrs=element.attributes,i=0;i<elAttrs.length;i++){var attrib=elAttrs.item(i);res.set(attrib.name,attrib.value)}return res},BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute)},BrowserDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){return element.hasAttributeNS(ns,attribute)},BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute)},BrowserDomAdapter.prototype.getAttributeNS=function(element,ns,name){return element.getAttributeNS(ns,name)},BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value)},BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value)},BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute)},BrowserDomAdapter.prototype.removeAttributeNS=function(element,ns,name){element.removeAttributeNS(ns,name)},BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.getDefaultDocument=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect()}catch(_a){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(doc){return doc.title},BrowserDomAdapter.prototype.setTitle=function(doc,newTitle){doc.title=newTitle||""},BrowserDomAdapter.prototype.elementMatches=function(n,selector){return!!this.isElementNode(n)&&(n.matches&&n.matches(selector)||n.msMatchesSelector&&n.msMatchesSelector(selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(selector))},BrowserDomAdapter.prototype.isTemplateElement=function(el){return this.isElementNode(el)&&"TEMPLATE"===el.nodeName},BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(node){return null!=node.shadowRoot&&node instanceof HTMLElement},BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(node){return document.importNode(this.templateAwareRoot(node),!0)},BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node)},BrowserDomAdapter.prototype.getHref=function(el){return el.getAttribute("href")},BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(null==key){if(null==(key=event.keyIdentifier))return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),3===event.location&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key},BrowserDomAdapter.prototype.getGlobalEventTarget=function(doc,target){return"window"===target?window:"document"===target?doc:"body"===target?doc.body:null},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(doc){var href=function(){if(!baseElement&&!(baseElement=document.querySelector("base")))return null;return baseElement.getAttribute("href")}();return null==href?null:function(url){urlParsingNode||(urlParsingNode=document.createElement("a"));return urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}(href)},BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,"data-"+name,value)},BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,"data-"+name)},BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element)},BrowserDomAdapter.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},BrowserDomAdapter.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},BrowserDomAdapter.prototype.supportsCookies=function(){return!0},BrowserDomAdapter.prototype.getCookie=function(name){return(0,_common.parseCookieValue)(document.cookie,name)},BrowserDomAdapter.prototype.setCookie=function(name,value){document.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)},BrowserDomAdapter}(GenericBrowserDomAdapter);exports.BrowserDomAdapter=BrowserDomAdapter;var urlParsingNode,baseElement=null;function supportsState(){return!!window.history.pushState}var BrowserPlatformLocation=function(_super){function BrowserPlatformLocation(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this._init(),_this}return(0,_tslib.__extends)(BrowserPlatformLocation,_super),BrowserPlatformLocation.prototype._init=function(){this.location=getDOM().getLocation(),this._history=getDOM().getHistory()},BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return getDOM().getBaseHref(this._doc)},BrowserPlatformLocation.prototype.onPopState=function(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",fn,!1)},BrowserPlatformLocation.prototype.onHashChange=function(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",fn,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this.location.pathname},set:function(newPath){this.location.pathname=newPath},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url},BrowserPlatformLocation.prototype.replaceState=function(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},BrowserPlatformLocation.prototype.getState=function(){return this._history.state},BrowserPlatformLocation=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__metadata)("design:paramtypes",[Object])],BrowserPlatformLocation)}(_common.PlatformLocation);exports.BrowserPlatformLocation=BrowserPlatformLocation;var TRANSITION_ID=new _core.InjectionToken("TRANSITION_ID");function appInitializerFactory(transitionId,document,injector){return function(){injector.get(_core.ApplicationInitStatus).donePromise.then(function(){var dom=getDOM();Array.prototype.slice.apply(dom.querySelectorAll(document,"style[ng-transition]")).filter(function(el){return dom.getAttribute(el,"ng-transition")===transitionId}).forEach(function(el){return dom.remove(el)})})}}exports.TRANSITION_ID=TRANSITION_ID;var SERVER_TRANSITION_PROVIDERS=[{provide:_core.APP_INITIALIZER,useFactory:appInitializerFactory,deps:[TRANSITION_ID,_common.DOCUMENT,_core.Injector],multi:!0}];exports.angular_packages_platform_browser_platform_browser_i=SERVER_TRANSITION_PROVIDERS;var BrowserGetTestability=function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){(0,_core.setTestabilityGetter)(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(registry){_core.global.getAngularTestability=function(elem,findInAncestors){void 0===findInAncestors&&(findInAncestors=!0);var testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error("Could not find testability for element.");return testability},_core.global.getAllAngularTestabilities=function(){return registry.getAllTestabilities()},_core.global.getAllAngularRootElements=function(){return registry.getAllRootElements()};_core.global.frameworkStabilizers||(_core.global.frameworkStabilizers=[]),_core.global.frameworkStabilizers.push(function(callback){var testabilities=_core.global.getAllAngularTestabilities(),count=testabilities.length,didWork=!1,decrement=function(didWork_){didWork=didWork||didWork_,0==--count&&callback(didWork)};testabilities.forEach(function(testability){testability.whenStable(decrement)})})},BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(null==elem)return null;var t=registry.getTestability(elem);return null!=t?t:findInAncestors?getDOM().isShadowRoot(elem)?this.findTestabilityInTree(registry,getDOM().getHost(elem),!0):this.findTestabilityInTree(registry,getDOM().parentElement(elem),!0):null},BrowserGetTestability}();exports.BrowserGetTestability=BrowserGetTestability;function exportNgVar(name,value){"undefined"!=typeof COMPILED&&COMPILED||((_core.global.ng=_core.global.ng||{})[name]=value)}var CORE_TOKENS={ApplicationRef:_core.ApplicationRef,NgZone:_core.NgZone},INSPECT_GLOBAL_NAME="probe",CORE_TOKENS_GLOBAL_NAME="coreTokens";function inspectNativeElement(element){return(0,_core.getDebugNode)(element)}function _createNgProbe(coreTokens){return exportNgVar(INSPECT_GLOBAL_NAME,inspectNativeElement),exportNgVar(CORE_TOKENS_GLOBAL_NAME,(0,_tslib.__assign)({},CORE_TOKENS,(coreTokens||[]).reduce(function(prev,t){return prev[t.name]=t.token,prev},{}))),function(){return inspectNativeElement}}exports.ELEMENT_PROBE_PROVIDERS__POST_R3__=[];var ELEMENT_PROBE_PROVIDERS__PRE_R3__=[{provide:_core.APP_INITIALIZER,useFactory:_createNgProbe,deps:[[_core.NgProbeToken,new _core.Optional]],multi:!0}];exports.angular_packages_platform_browser_platform_browser_k=ELEMENT_PROBE_PROVIDERS__PRE_R3__;var ELEMENT_PROBE_PROVIDERS=ELEMENT_PROBE_PROVIDERS__PRE_R3__;exports.ELEMENT_PROBE_PROVIDERS=ELEMENT_PROBE_PROVIDERS;var EVENT_MANAGER_PLUGINS=new _core.InjectionToken("EventManagerPlugins");exports.EVENT_MANAGER_PLUGINS=EVENT_MANAGER_PLUGINS;var EventManager=function(){function EventManager(plugins,_zone){var _this=this;this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(function(p){return p.manager=_this}),this._plugins=plugins.slice().reverse()}return EventManager.prototype.addEventListener=function(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)},EventManager.prototype.addGlobalEventListener=function(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)},EventManager.prototype.getZone=function(){return this._zone},EventManager.prototype._findPluginFor=function(eventName){var plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;for(var plugins=this._plugins,i=0;i<plugins.length;i++){var plugin_1=plugins[i];if(plugin_1.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin_1),plugin_1}throw new Error("No event manager plugin found for event "+eventName)},EventManager=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(EVENT_MANAGER_PLUGINS)),(0,_tslib.__metadata)("design:paramtypes",[Array,_core.NgZone])],EventManager)}();exports.EventManager=EventManager;var EventManagerPlugin=function(){function EventManagerPlugin(_doc){this._doc=_doc}return EventManagerPlugin.prototype.addGlobalEventListener=function(element,eventName,handler){var target=getDOM().getGlobalEventTarget(this._doc,element);if(!target)throw new Error("Unsupported event target "+target+" for event "+eventName);return this.addEventListener(target,eventName,handler)},EventManagerPlugin}();exports.angular_packages_platform_browser_platform_browser_g=EventManagerPlugin;var SharedStylesHost=function(){function SharedStylesHost(){this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(styles){var _this=this,additions=new Set;styles.forEach(function(style){_this._stylesSet.has(style)||(_this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)},SharedStylesHost.prototype.onStylesAdded=function(additions){},SharedStylesHost.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},SharedStylesHost=(0,_tslib.__decorate)([(0,_core.Injectable)()],SharedStylesHost)}();exports.SharedStylesHost=SharedStylesHost;var DomSharedStylesHost=function(_super){function DomSharedStylesHost(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this._hostNodes=new Set,_this._styleNodes=new Set,_this._hostNodes.add(_doc.head),_this}return(0,_tslib.__extends)(DomSharedStylesHost,_super),DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){var _this=this;styles.forEach(function(style){var styleEl=_this._doc.createElement("style");styleEl.textContent=style,_this._styleNodes.add(host.appendChild(styleEl))})},DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)},DomSharedStylesHost.prototype.removeHost=function(hostNode){this._hostNodes.delete(hostNode)},DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){return _this._addStylesToHost(additions,hostNode)})},DomSharedStylesHost.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(styleNode){return getDOM().remove(styleNode)})},DomSharedStylesHost=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__metadata)("design:paramtypes",[Object])],DomSharedStylesHost)}(SharedStylesHost);exports.DomSharedStylesHost=DomSharedStylesHost;var NAMESPACE_URIS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};exports.NAMESPACE_URIS=NAMESPACE_URIS;var COMPONENT_REGEX=/%COMP%/g,HOST_ATTR="_nghost-%COMP%",CONTENT_ATTR="_ngcontent-%COMP%";function shimContentAttribute(componentShortId){return CONTENT_ATTR.replace(COMPONENT_REGEX,componentShortId)}function shimHostAttribute(componentShortId){return HOST_ATTR.replace(COMPONENT_REGEX,componentShortId)}function flattenStyles(compId,styles,target){for(var i=0;i<styles.length;i++){var style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return function(event){!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}var DomRendererFactory2=function(){function DomRendererFactory2(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new DefaultDomRenderer2(eventManager)}return DomRendererFactory2.prototype.createRenderer=function(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case _core.ViewEncapsulation.Emulated:var renderer=this.rendererByCompId.get(type.id);return renderer||(renderer=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,renderer)),renderer.applyToHost(element),renderer;case _core.ViewEncapsulation.Native:case _core.ViewEncapsulation.ShadowDom:return new ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:if(!this.rendererByCompId.has(type.id)){var styles=flattenStyles(type.id,type.styles,[]);this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)}return this.defaultRenderer}},DomRendererFactory2.prototype.begin=function(){},DomRendererFactory2.prototype.end=function(){},DomRendererFactory2=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(2,(0,_core.Inject)(_core.APP_ID)),(0,_tslib.__metadata)("design:paramtypes",[EventManager,DomSharedStylesHost,String])],DomRendererFactory2)}();exports.DomRendererFactory2=DomRendererFactory2;var DefaultDomRenderer2=function(){function DefaultDomRenderer2(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}return DefaultDomRenderer2.prototype.destroy=function(){},DefaultDomRenderer2.prototype.createElement=function(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace]||namespace,name):document.createElement(name)},DefaultDomRenderer2.prototype.createComment=function(value){return document.createComment(value)},DefaultDomRenderer2.prototype.createText=function(value){return document.createTextNode(value)},DefaultDomRenderer2.prototype.appendChild=function(parent,newChild){parent.appendChild(newChild)},DefaultDomRenderer2.prototype.insertBefore=function(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)},DefaultDomRenderer2.prototype.removeChild=function(parent,oldChild){parent&&parent.removeChild(oldChild)},DefaultDomRenderer2.prototype.selectRootElement=function(selectorOrNode,preserveContent){var el="string"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error('The selector "'+selectorOrNode+'" did not match any elements');return preserveContent||(el.textContent=""),el},DefaultDomRenderer2.prototype.parentNode=function(node){return node.parentNode},DefaultDomRenderer2.prototype.nextSibling=function(node){return node.nextSibling},DefaultDomRenderer2.prototype.setAttribute=function(el,name,value,namespace){if(namespace){name=namespace+":"+name;var namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)},DefaultDomRenderer2.prototype.removeAttribute=function(el,name,namespace){if(namespace){var namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(namespace+":"+name)}else el.removeAttribute(name)},DefaultDomRenderer2.prototype.addClass=function(el,name){el.classList.add(name)},DefaultDomRenderer2.prototype.removeClass=function(el,name){el.classList.remove(name)},DefaultDomRenderer2.prototype.setStyle=function(el,style,value,flags){flags&_core.RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&_core.RendererStyleFlags2.Important?"important":""):el.style[style]=value},DefaultDomRenderer2.prototype.removeStyle=function(el,style,flags){flags&_core.RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=""},DefaultDomRenderer2.prototype.setProperty=function(el,name,value){checkNoSyntheticProp(name,"property"),el[name]=value},DefaultDomRenderer2.prototype.setValue=function(node,value){node.nodeValue=value},DefaultDomRenderer2.prototype.listen=function(target,event,callback){return checkNoSyntheticProp(event,"listener"),"string"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))},DefaultDomRenderer2}(),AT_CHARCODE="@".charCodeAt(0);function checkNoSyntheticProp(name,nameKind){if(name.charCodeAt(0)===AT_CHARCODE)throw new Error("Found the synthetic "+nameKind+" "+name+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var EmulatedEncapsulationDomRenderer2=function(_super){function EmulatedEncapsulationDomRenderer2(eventManager,sharedStylesHost,component,appId){var _this=_super.call(this,eventManager)||this;_this.component=component;var styles=flattenStyles(appId+"-"+component.id,component.styles,[]);return sharedStylesHost.addStyles(styles),_this.contentAttr=shimContentAttribute(appId+"-"+component.id),_this.hostAttr=shimHostAttribute(appId+"-"+component.id),_this}return(0,_tslib.__extends)(EmulatedEncapsulationDomRenderer2,_super),EmulatedEncapsulationDomRenderer2.prototype.applyToHost=function(element){_super.prototype.setAttribute.call(this,element,this.hostAttr,"")},EmulatedEncapsulationDomRenderer2.prototype.createElement=function(parent,name){var el=_super.prototype.createElement.call(this,parent,name);return _super.prototype.setAttribute.call(this,el,this.contentAttr,""),el},EmulatedEncapsulationDomRenderer2}(DefaultDomRenderer2),ShadowDomRenderer=function(_super){function ShadowDomRenderer(eventManager,sharedStylesHost,hostEl,component){var _this=_super.call(this,eventManager)||this;_this.sharedStylesHost=sharedStylesHost,_this.hostEl=hostEl,_this.component=component,component.encapsulation===_core.ViewEncapsulation.ShadowDom?_this.shadowRoot=hostEl.attachShadow({mode:"open"}):_this.shadowRoot=hostEl.createShadowRoot(),_this.sharedStylesHost.addHost(_this.shadowRoot);for(var styles=flattenStyles(component.id,component.styles,[]),i=0;i<styles.length;i++){var styleEl=document.createElement("style");styleEl.textContent=styles[i],_this.shadowRoot.appendChild(styleEl)}return _this}return(0,_tslib.__extends)(ShadowDomRenderer,_super),ShadowDomRenderer.prototype.nodeOrShadowRoot=function(node){return node===this.hostEl?this.shadowRoot:node},ShadowDomRenderer.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},ShadowDomRenderer.prototype.appendChild=function(parent,newChild){return _super.prototype.appendChild.call(this,this.nodeOrShadowRoot(parent),newChild)},ShadowDomRenderer.prototype.insertBefore=function(parent,newChild,refChild){return _super.prototype.insertBefore.call(this,this.nodeOrShadowRoot(parent),newChild,refChild)},ShadowDomRenderer.prototype.removeChild=function(parent,oldChild){return _super.prototype.removeChild.call(this,this.nodeOrShadowRoot(parent),oldChild)},ShadowDomRenderer.prototype.parentNode=function(node){return this.nodeOrShadowRoot(_super.prototype.parentNode.call(this,this.nodeOrShadowRoot(node)))},ShadowDomRenderer}(DefaultDomRenderer2),__symbol__="undefined"!=typeof Zone&&Zone.__symbol__||function(v){return"__zone_symbol__"+v},ADD_EVENT_LISTENER=__symbol__("addEventListener"),REMOVE_EVENT_LISTENER=__symbol__("removeEventListener"),symbolNames={},stopSymbol="__zone_symbol__propagationStopped",blackListedMap=function(){var blackListedEvents="undefined"!=typeof Zone&&Zone[__symbol__("BLACK_LISTED_EVENTS")];if(blackListedEvents){var res_1={};return blackListedEvents.forEach(function(eventName){res_1[eventName]=eventName}),res_1}}(),isBlackListedEvent=function(eventName){return!!blackListedMap&&blackListedMap.hasOwnProperty(eventName)},globalListener=function(event){var symbolName=symbolNames[event.type];if(symbolName){var taskDatas=this[symbolName];if(taskDatas){var args=[event];if(1===taskDatas.length)return(taskData=taskDatas[0]).zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args);for(var copiedTasks=taskDatas.slice(),i=0;i<copiedTasks.length&&!0!==event[stopSymbol];i++){var taskData;(taskData=copiedTasks[i]).zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}}}},DomEventsPlugin=function(_super){function DomEventsPlugin(doc,ngZone,platformId){var _this=_super.call(this,doc)||this;return _this.ngZone=ngZone,platformId&&(0,_common.isPlatformServer)(platformId)||_this.patchEvent(),_this}return(0,_tslib.__extends)(DomEventsPlugin,_super),DomEventsPlugin.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var delegate=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[stopSymbol]=!0),delegate&&delegate.apply(this,arguments)}}},DomEventsPlugin.prototype.supports=function(eventName){return!0},DomEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var _this=this,callback=handler;if(!element[ADD_EVENT_LISTENER]||_core.NgZone.isInAngularZone()&&!isBlackListedEvent(eventName))element.addEventListener(eventName,callback,!1);else{var symbolName=symbolNames[eventName];symbolName||(symbolName=symbolNames[eventName]=__symbol__("ANGULAR"+eventName+"FALSE"));var taskDatas=element[symbolName],globalListenerRegistered=taskDatas&&taskDatas.length>0;taskDatas||(taskDatas=element[symbolName]=[]);var zone=isBlackListedEvent(eventName)?Zone.root:Zone.current;if(0===taskDatas.length)taskDatas.push({zone:zone,handler:callback});else{for(var callbackRegistered=!1,i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){callbackRegistered=!0;break}callbackRegistered||taskDatas.push({zone:zone,handler:callback})}globalListenerRegistered||element[ADD_EVENT_LISTENER](eventName,globalListener,!1)}return function(){return _this.removeEventListener(element,eventName,callback)}},DomEventsPlugin.prototype.removeEventListener=function(target,eventName,callback){var underlyingRemove=target[REMOVE_EVENT_LISTENER];if(!underlyingRemove)return target.removeEventListener.apply(target,[eventName,callback,!1]);var symbolName=symbolNames[eventName],taskDatas=symbolName&&target[symbolName];if(!taskDatas)return target.removeEventListener.apply(target,[eventName,callback,!1]);for(var found=!1,i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){found=!0,taskDatas.splice(i,1);break}found?0===taskDatas.length&&underlyingRemove.apply(target,[eventName,globalListener,!1]):target.removeEventListener.apply(target,[eventName,callback,!1])},DomEventsPlugin=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Inject)(_core.PLATFORM_ID)),(0,_tslib.__metadata)("design:paramtypes",[Object,_core.NgZone,Object])],DomEventsPlugin)}(EventManagerPlugin);exports.DomEventsPlugin=DomEventsPlugin;var EVENT_NAMES={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HAMMER_GESTURE_CONFIG=new _core.InjectionToken("HammerGestureConfig");exports.HAMMER_GESTURE_CONFIG=HAMMER_GESTURE_CONFIG;var HAMMER_LOADER=new _core.InjectionToken("HammerLoader");exports.HAMMER_LOADER=HAMMER_LOADER;var HammerGestureConfig=function(){function HammerGestureConfig(){this.events=[],this.overrides={}}return HammerGestureConfig.prototype.buildHammer=function(element){var mc=new Hammer(element,this.options);for(var eventName in mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0}),this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc},HammerGestureConfig=(0,_tslib.__decorate)([(0,_core.Injectable)()],HammerGestureConfig)}();exports.HammerGestureConfig=HammerGestureConfig;var HammerGesturesPlugin=function(_super){function HammerGesturesPlugin(doc,_config,console,loader){var _this=_super.call(this,doc)||this;return _this._config=_config,_this.console=console,_this.loader=loader,_this}return(0,_tslib.__extends)(HammerGesturesPlugin,_super),HammerGesturesPlugin.prototype.supports=function(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName))&&(!(!window.Hammer&&!this.loader)||(this.console.warn('The "'+eventName+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),!1))},HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var _this=this,zone=this.manager.getZone();if(eventName=eventName.toLowerCase(),!window.Hammer&&this.loader){var cancelRegistration_1=!1,deregister_1=function(){cancelRegistration_1=!0};return this.loader().then(function(){if(!window.Hammer)return _this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(deregister_1=function(){});cancelRegistration_1||(deregister_1=_this.addEventListener(element,eventName,handler))}).catch(function(){_this.console.warn('The "'+eventName+'" event cannot be bound because the custom Hammer.JS loader failed.'),deregister_1=function(){}}),function(){deregister_1()}}return zone.runOutsideAngular(function(){var mc=_this._config.buildHammer(element),callback=function(eventObj){zone.runGuarded(function(){handler(eventObj)})};return mc.on(eventName,callback),function(){mc.off(eventName,callback),"function"==typeof mc.destroy&&mc.destroy()}})},HammerGesturesPlugin.prototype.isCustomEvent=function(eventName){return this._config.events.indexOf(eventName)>-1},HammerGesturesPlugin=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__param)(1,(0,_core.Inject)(HAMMER_GESTURE_CONFIG)),(0,_tslib.__param)(3,(0,_core.Optional)()),(0,_tslib.__param)(3,(0,_core.Inject)(HAMMER_LOADER)),(0,_tslib.__metadata)("design:paramtypes",[Object,HammerGestureConfig,_core.Console,Object])],HammerGesturesPlugin)}(EventManagerPlugin);exports.HammerGesturesPlugin=HammerGesturesPlugin;var MODIFIER_KEYS=["alt","control","meta","shift"],MODIFIER_KEY_GETTERS={alt:function(event){return event.altKey},control:function(event){return event.ctrlKey},meta:function(event){return event.metaKey},shift:function(event){return event.shiftKey}},KeyEventsPlugin=function(_super){function KeyEventsPlugin(doc){return _super.call(this,doc)||this}var KeyEventsPlugin_1;return(0,_tslib.__extends)(KeyEventsPlugin,_super),KeyEventsPlugin_1=KeyEventsPlugin,KeyEventsPlugin.prototype.supports=function(eventName){return null!=KeyEventsPlugin_1.parseEventName(eventName)},KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin_1.parseEventName(eventName),outsideHandler=KeyEventsPlugin_1.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return getDOM().onAndCancel(element,parsedEvent.domEventName,outsideHandler)})},KeyEventsPlugin.parseEventName=function(eventName){var parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||"keydown"!==domEventName&&"keyup"!==domEventName)return null;var key=KeyEventsPlugin_1._normalizeKey(parts.pop()),fullKey="";if(MODIFIER_KEYS.forEach(function(modifierName){var index=parts.indexOf(modifierName);index>-1&&(parts.splice(index,1),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;var result={};return result.domEventName=domEventName,result.fullKey=fullKey,result},KeyEventsPlugin.getEventFullKey=function(event){var fullKey="",key=getDOM().getEventKey(event);return" "===(key=key.toLowerCase())?key="space":"."===key&&(key="dot"),MODIFIER_KEYS.forEach(function(modifierName){modifierName!=key&&((0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+"."))}),fullKey+=key},KeyEventsPlugin.eventCallback=function(fullKey,handler,zone){return function(event){KeyEventsPlugin_1.getEventFullKey(event)===fullKey&&zone.runGuarded(function(){return handler(event)})}},KeyEventsPlugin._normalizeKey=function(keyName){switch(keyName){case"esc":return"escape";default:return keyName}},KeyEventsPlugin=KeyEventsPlugin_1=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__metadata)("design:paramtypes",[Object])],KeyEventsPlugin)}(EventManagerPlugin);exports.KeyEventsPlugin=KeyEventsPlugin;var DomSanitizer=function(){return function(){}}();exports.DomSanitizer=DomSanitizer;var DomSanitizerImpl=function(_super){function DomSanitizerImpl(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this}return(0,_tslib.__extends)(DomSanitizerImpl,_super),DomSanitizerImpl.prototype.sanitize=function(ctx,value){if(null==value)return null;switch(ctx){case _core.SecurityContext.NONE:return value;case _core.SecurityContext.HTML:return value instanceof SafeHtmlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"HTML"),(0,_core._sanitizeHtml)(this._doc,String(value)));case _core.SecurityContext.STYLE:return value instanceof SafeStyleImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"Style"),(0,_core._sanitizeStyle)(value));case _core.SecurityContext.SCRIPT:if(value instanceof SafeScriptImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"Script"),new Error("unsafe value used in a script context");case _core.SecurityContext.URL:return value instanceof SafeResourceUrlImpl||value instanceof SafeUrlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"URL"),(0,_core._sanitizeUrl)(String(value)));case _core.SecurityContext.RESOURCE_URL:if(value instanceof SafeResourceUrlImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+ctx+" (see http://g.co/ng/security#xss)")}},DomSanitizerImpl.prototype.checkNotSafeValue=function(value,expectedType){if(value instanceof SafeValueImpl)throw new Error("Required a safe "+expectedType+", got a "+value.getTypeName()+" (see http://g.co/ng/security#xss)")},DomSanitizerImpl.prototype.bypassSecurityTrustHtml=function(value){return new SafeHtmlImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustStyle=function(value){return new SafeStyleImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustScript=function(value){return new SafeScriptImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustUrl=function(value){return new SafeUrlImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl=function(value){return new SafeResourceUrlImpl(value)},DomSanitizerImpl=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__metadata)("design:paramtypes",[Object])],DomSanitizerImpl)}(DomSanitizer);exports.DomSanitizerImpl=DomSanitizerImpl;var SafeValueImpl=function(){function SafeValueImpl(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}return SafeValueImpl.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},SafeValueImpl}(),SafeHtmlImpl=function(_super){function SafeHtmlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(SafeHtmlImpl,_super),SafeHtmlImpl.prototype.getTypeName=function(){return"HTML"},SafeHtmlImpl}(SafeValueImpl),SafeStyleImpl=function(_super){function SafeStyleImpl(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(SafeStyleImpl,_super),SafeStyleImpl.prototype.getTypeName=function(){return"Style"},SafeStyleImpl}(SafeValueImpl),SafeScriptImpl=function(_super){function SafeScriptImpl(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(SafeScriptImpl,_super),SafeScriptImpl.prototype.getTypeName=function(){return"Script"},SafeScriptImpl}(SafeValueImpl),SafeUrlImpl=function(_super){function SafeUrlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(SafeUrlImpl,_super),SafeUrlImpl.prototype.getTypeName=function(){return"URL"},SafeUrlImpl}(SafeValueImpl),SafeResourceUrlImpl=function(_super){function SafeResourceUrlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(SafeResourceUrlImpl,_super),SafeResourceUrlImpl.prototype.getTypeName=function(){return"ResourceURL"},SafeResourceUrlImpl}(SafeValueImpl),0$5=_common.PLATFORM_BROWSER_ID,INTERNAL_BROWSER_PLATFORM_PROVIDERS=[{provide:_core.PLATFORM_ID,useValue:0$5},{provide:_core.PLATFORM_INITIALIZER,useValue:initDomAdapter,multi:!0},{provide:_common.PlatformLocation,useClass:BrowserPlatformLocation,deps:[_common.DOCUMENT]},{provide:_common.DOCUMENT,useFactory:_document,deps:[]}];exports.INTERNAL_BROWSER_PLATFORM_PROVIDERS=INTERNAL_BROWSER_PLATFORM_PROVIDERS;var BROWSER_SANITIZATION_PROVIDERS=[{provide:_core.Sanitizer,useExisting:DomSanitizer},{provide:DomSanitizer,useClass:DomSanitizerImpl,deps:[_common.DOCUMENT]}];exports.BROWSER_SANITIZATION_PROVIDERS=BROWSER_SANITIZATION_PROVIDERS;var platformBrowser=(0,_core.createPlatformFactory)(_core.platformCore,"browser",INTERNAL_BROWSER_PLATFORM_PROVIDERS);function initDomAdapter(){BrowserDomAdapter.makeCurrent(),BrowserGetTestability.init()}function errorHandler(){return new _core.ErrorHandler}function _document(){return document}exports.platformBrowser=platformBrowser;var BROWSER_MODULE_PROVIDERS=[BROWSER_SANITIZATION_PROVIDERS,{provide:_core.APP_ROOT,useValue:!0},{provide:_core.ErrorHandler,useFactory:errorHandler,deps:[]},{provide:EVENT_MANAGER_PLUGINS,useClass:DomEventsPlugin,multi:!0,deps:[_common.DOCUMENT,_core.NgZone,_core.PLATFORM_ID]},{provide:EVENT_MANAGER_PLUGINS,useClass:KeyEventsPlugin,multi:!0,deps:[_common.DOCUMENT]},{provide:EVENT_MANAGER_PLUGINS,useClass:HammerGesturesPlugin,multi:!0,deps:[_common.DOCUMENT,HAMMER_GESTURE_CONFIG,_core.Console,[new _core.Optional,HAMMER_LOADER]]},{provide:HAMMER_GESTURE_CONFIG,useClass:HammerGestureConfig,deps:[]},{provide:DomRendererFactory2,useClass:DomRendererFactory2,deps:[EventManager,DomSharedStylesHost,_core.APP_ID]},{provide:_core.RendererFactory2,useExisting:DomRendererFactory2},{provide:SharedStylesHost,useExisting:DomSharedStylesHost},{provide:DomSharedStylesHost,useClass:DomSharedStylesHost,deps:[_common.DOCUMENT]},{provide:_core.Testability,useClass:_core.Testability,deps:[_core.NgZone]},{provide:EventManager,useClass:EventManager,deps:[EVENT_MANAGER_PLUGINS,_core.NgZone]},ELEMENT_PROBE_PROVIDERS];exports.angular_packages_platform_browser_platform_browser_c=BROWSER_MODULE_PROVIDERS;var BrowserModule=function(){function BrowserModule(parentModule){if(parentModule)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var BrowserModule_1;return BrowserModule_1=BrowserModule,BrowserModule.withServerTransition=function(params){return{ngModule:BrowserModule_1,providers:[{provide:_core.APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:_core.APP_ID},SERVER_TRANSITION_PROVIDERS]}},BrowserModule=BrowserModule_1=(0,_tslib.__decorate)([(0,_core.NgModule)({providers:BROWSER_MODULE_PROVIDERS,exports:[_common.CommonModule,_core.ApplicationModule]}),(0,_tslib.__param)(0,(0,_core.Optional)()),(0,_tslib.__param)(0,(0,_core.SkipSelf)()),(0,_tslib.__param)(0,(0,_core.Inject)(BrowserModule_1)),(0,_tslib.__metadata)("design:paramtypes",[Object])],BrowserModule)}();function createMeta(){return new Meta((0,_core.inject)(_common.DOCUMENT))}exports.BrowserModule=BrowserModule;var Meta=function(){function Meta(_doc){this._doc=_doc,this._dom=getDOM()}return Meta.prototype.addTag=function(tag,forceCreation){return void 0===forceCreation&&(forceCreation=!1),tag?this._getOrCreateElement(tag,forceCreation):null},Meta.prototype.addTags=function(tags,forceCreation){var _this=this;return void 0===forceCreation&&(forceCreation=!1),tags?tags.reduce(function(result,tag){return tag&&result.push(_this._getOrCreateElement(tag,forceCreation)),result},[]):[]},Meta.prototype.getTag=function(attrSelector){return attrSelector&&this._dom.querySelector(this._doc,"meta["+attrSelector+"]")||null},Meta.prototype.getTags=function(attrSelector){if(!attrSelector)return[];var list=this._dom.querySelectorAll(this._doc,"meta["+attrSelector+"]");return list?[].slice.call(list):[]},Meta.prototype.updateTag=function(tag,selector){if(!tag)return null;selector=selector||this._parseSelector(tag);var meta=this.getTag(selector);return meta?this._setMetaElementAttributes(tag,meta):this._getOrCreateElement(tag,!0)},Meta.prototype.removeTag=function(attrSelector){this.removeTagElement(this.getTag(attrSelector))},Meta.prototype.removeTagElement=function(meta){meta&&this._dom.remove(meta)},Meta.prototype._getOrCreateElement=function(meta,forceCreation){if(void 0===forceCreation&&(forceCreation=!1),!forceCreation){var selector=this._parseSelector(meta),elem=this.getTag(selector);if(elem&&this._containsAttributes(meta,elem))return elem}var element=this._dom.createElement("meta");this._setMetaElementAttributes(meta,element);var head=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(head,element),element},Meta.prototype._setMetaElementAttributes=function(tag,el){var _this=this;return Object.keys(tag).forEach(function(prop){return _this._dom.setAttribute(el,prop,tag[prop])}),el},Meta.prototype._parseSelector=function(tag){var attr=tag.name?"name":"property";return attr+'="'+tag[attr]+'"'},Meta.prototype._containsAttributes=function(tag,elem){var _this=this;return Object.keys(tag).every(function(key){return _this._dom.getAttribute(elem,key)===tag[key]})},Meta.ngInjectableDef=(0,_core.defineInjectable)({factory:createMeta,token:Meta,providedIn:"root"}),Meta=(0,_tslib.__decorate)([(0,_core.Injectable)({providedIn:"root",useFactory:createMeta,deps:[]}),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__metadata)("design:paramtypes",[Object])],Meta)}();function createTitle(){return new Title((0,_core.inject)(_common.DOCUMENT))}exports.Meta=Meta;var Title=function(){function Title(_doc){this._doc=_doc}return Title.prototype.getTitle=function(){return getDOM().getTitle(this._doc)},Title.prototype.setTitle=function(newTitle){getDOM().setTitle(this._doc,newTitle)},Title.ngInjectableDef=(0,_core.defineInjectable)({factory:createTitle,token:Title,providedIn:"root"}),Title=(0,_tslib.__decorate)([(0,_core.Injectable)({providedIn:"root",useFactory:createTitle,deps:[]}),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__metadata)("design:paramtypes",[Object])],Title)}();exports.Title=Title;var win="undefined"!=typeof window&&window||{},ChangeDetectionPerfRecord=function(){return function(msPerTick,numTicks){this.msPerTick=msPerTick,this.numTicks=numTicks}}(),AngularProfiler=function(){function AngularProfiler(ref){this.appRef=ref.injector.get(_core.ApplicationRef)}return AngularProfiler.prototype.timeChangeDetection=function(config){var record=config&&config.record,isProfilerAvailable=null!=win.console.profile;record&&isProfilerAvailable&&win.console.profile("Change Detection");for(var start=getDOM().performanceNow(),numTicks=0;numTicks<5||getDOM().performanceNow()-start<500;)this.appRef.tick(),numTicks++;var end=getDOM().performanceNow();record&&isProfilerAvailable&&win.console.profileEnd("Change Detection");var msPerTick=(end-start)/numTicks;return win.console.log("ran "+numTicks+" change detection cycles"),win.console.log(msPerTick.toFixed(2)+" ms per check"),new ChangeDetectionPerfRecord(msPerTick,numTicks)},AngularProfiler}(),PROFILER_GLOBAL_NAME="profiler";var TransferState=function(){function TransferState(){this.store={},this.onSerializeCallbacks={}}var TransferState_1;return TransferState_1=TransferState,TransferState.init=function(initState){var transferState=new TransferState_1;return transferState.store=initState,transferState},TransferState.prototype.get=function(key,defaultValue){return void 0!==this.store[key]?this.store[key]:defaultValue},TransferState.prototype.set=function(key,value){this.store[key]=value},TransferState.prototype.remove=function(key){delete this.store[key]},TransferState.prototype.hasKey=function(key){return this.store.hasOwnProperty(key)},TransferState.prototype.onSerialize=function(key,callback){this.onSerializeCallbacks[key]=callback},TransferState.prototype.toJson=function(){for(var key in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(key))try{this.store[key]=this.onSerializeCallbacks[key]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)},TransferState=TransferState_1=(0,_tslib.__decorate)([(0,_core.Injectable)()],TransferState)}();function initTransferState(doc,appId){var text,unescapedText,script=doc.getElementById(appId+"-state"),initialState={};if(script&&script.textContent)try{initialState=JSON.parse((text=script.textContent,unescapedText={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},text.replace(/&[^;]+;/g,function(s){return unescapedText[s]})))}catch(e){console.warn("Exception while restoring TransferState for app "+appId,e)}return TransferState.init(initialState)}exports.TransferState=TransferState;var BrowserTransferStateModule=function(){function BrowserTransferStateModule(){}return BrowserTransferStateModule=(0,_tslib.__decorate)([(0,_core.NgModule)({providers:[{provide:TransferState,useFactory:initTransferState,deps:[_common.DOCUMENT,_core.APP_ID]}]})],BrowserTransferStateModule)}();exports.BrowserTransferStateModule=BrowserTransferStateModule;var By=function(){function By(){}return By.all=function(){return function(){return!0}},By.css=function(selector){return function(debugElement){return null!=debugElement.nativeElement&&getDOM().elementMatches(debugElement.nativeElement,selector)}},By.directive=function(type){return function(debugNode){return-1!==debugNode.providerTokens.indexOf(type)}},By}();exports.By=By;var VERSION=new _core.Version("8.2.13");exports.VERSION=VERSION},{tslib:"vCxL","@angular/common":"AomE","@angular/core":"XDhY"}],LS2B:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResourceLoaderImpl=exports.INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS=exports.platformCoreDynamic=exports.CompilerImpl=exports.JitCompilerFactory=exports.VERSION=exports.platformBrowserDynamic=exports.RESOURCE_CACHE_PROVIDER=exports.angular_packages_platform_browser_dynamic_platform_browser_dynamic_a=void 0;var map,_compiler=require("@angular/compiler"),_core=require("@angular/core"),_tslib=require("tslib"),_common=require("@angular/common"),_platformBrowser=require("@angular/platform-browser"),builtinExternalReferences=((map=new Map).set(_compiler.Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS,_core.ANALYZE_FOR_ENTRY_COMPONENTS),map.set(_compiler.Identifiers.ElementRef,_core.ElementRef),map.set(_compiler.Identifiers.NgModuleRef,_core.NgModuleRef),map.set(_compiler.Identifiers.ViewContainerRef,_core.ViewContainerRef),map.set(_compiler.Identifiers.ChangeDetectorRef,_core.ChangeDetectorRef),map.set(_compiler.Identifiers.Renderer2,_core.Renderer2),map.set(_compiler.Identifiers.QueryList,_core.QueryList),map.set(_compiler.Identifiers.TemplateRef,_core.TemplateRef),map.set(_compiler.Identifiers.CodegenComponentFactoryResolver,_core.CodegenComponentFactoryResolver),map.set(_compiler.Identifiers.ComponentFactoryResolver,_core.ComponentFactoryResolver),map.set(_compiler.Identifiers.ComponentFactory,_core.ComponentFactory),map.set(_compiler.Identifiers.ComponentRef,_core.ComponentRef),map.set(_compiler.Identifiers.NgModuleFactory,_core.NgModuleFactory),map.set(_compiler.Identifiers.createModuleFactory,_core.cmf),map.set(_compiler.Identifiers.moduleDef,_core.mod),map.set(_compiler.Identifiers.moduleProviderDef,_core.mpd),map.set(_compiler.Identifiers.RegisterModuleFactoryFn,_core.registerModuleFactory),map.set(_compiler.Identifiers.Injector,_core.Injector),map.set(_compiler.Identifiers.ViewEncapsulation,_core.ViewEncapsulation),map.set(_compiler.Identifiers.ChangeDetectionStrategy,_core.ChangeDetectionStrategy),map.set(_compiler.Identifiers.SecurityContext,_core.SecurityContext),map.set(_compiler.Identifiers.LOCALE_ID,_core.LOCALE_ID),map.set(_compiler.Identifiers.TRANSLATIONS_FORMAT,_core.TRANSLATIONS_FORMAT),map.set(_compiler.Identifiers.inlineInterpolate,_core.inlineInterpolate),map.set(_compiler.Identifiers.interpolate,_core.interpolate),map.set(_compiler.Identifiers.EMPTY_ARRAY,_core.EMPTY_ARRAY),map.set(_compiler.Identifiers.EMPTY_MAP,_core.EMPTY_MAP),map.set(_compiler.Identifiers.Renderer,_core.Renderer),map.set(_compiler.Identifiers.viewDef,_core.vid),map.set(_compiler.Identifiers.elementDef,_core.eld),map.set(_compiler.Identifiers.anchorDef,_core.and),map.set(_compiler.Identifiers.textDef,_core.ted),map.set(_compiler.Identifiers.directiveDef,_core.did),map.set(_compiler.Identifiers.providerDef,_core.prd),map.set(_compiler.Identifiers.queryDef,_core.qud),map.set(_compiler.Identifiers.pureArrayDef,_core.pad),map.set(_compiler.Identifiers.pureObjectDef,_core.pod),map.set(_compiler.Identifiers.purePipeDef,_core.ppd),map.set(_compiler.Identifiers.pipeDef,_core.pid),map.set(_compiler.Identifiers.nodeValue,_core.nov),map.set(_compiler.Identifiers.ngContentDef,_core.ncd),map.set(_compiler.Identifiers.unwrapValue,_core.unv),map.set(_compiler.Identifiers.createRendererType2,_core.crt),map.set(_compiler.Identifiers.createComponentFactory,_core.ccf),map),JitReflector=function(){function JitReflector(){this.reflectionCapabilities=new _core.ReflectionCapabilities}return JitReflector.prototype.componentModuleUrl=function(type,cmpMetadata){var moduleId=cmpMetadata.moduleId;if("string"==typeof moduleId)return(0,_compiler.getUrlScheme)(moduleId)?moduleId:"package:"+moduleId;if(null!==moduleId&&void 0!==moduleId)throw(0,_compiler.syntaxError)('moduleId should be a string in "'+(0,_core.stringify)(type)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return"./"+(0,_core.stringify)(type)},JitReflector.prototype.parameters=function(typeOrFunc){return this.reflectionCapabilities.parameters(typeOrFunc)},JitReflector.prototype.tryAnnotations=function(typeOrFunc){return this.annotations(typeOrFunc)},JitReflector.prototype.annotations=function(typeOrFunc){return this.reflectionCapabilities.annotations(typeOrFunc)},JitReflector.prototype.shallowAnnotations=function(typeOrFunc){throw new Error("Not supported in JIT mode")},JitReflector.prototype.propMetadata=function(typeOrFunc){return this.reflectionCapabilities.propMetadata(typeOrFunc)},JitReflector.prototype.hasLifecycleHook=function(type,lcProperty){return this.reflectionCapabilities.hasLifecycleHook(type,lcProperty)},JitReflector.prototype.guards=function(type){return this.reflectionCapabilities.guards(type)},JitReflector.prototype.resolveExternalReference=function(ref){return builtinExternalReferences.get(ref)||ref.runtime},JitReflector}();var ERROR_COLLECTOR_TOKEN=new _core.InjectionToken("ErrorCollector"),DEFAULT_PACKAGE_URL_PROVIDER={provide:_core.PACKAGE_ROOT_URL,useValue:"/"},_NO_RESOURCE_LOADER={get:function(url){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+url+'"')}},baseHtmlParser=new _core.InjectionToken("HtmlParser"),CompilerImpl=function(){function CompilerImpl(injector,_metadataResolver,templateParser,styleCompiler,viewCompiler,ngModuleCompiler,summaryResolver,compileReflector,jitEvaluator,compilerConfig,console){this._metadataResolver=_metadataResolver,this._delegate=new _compiler.JitCompiler(_metadataResolver,templateParser,styleCompiler,viewCompiler,ngModuleCompiler,summaryResolver,compileReflector,jitEvaluator,compilerConfig,console,this.getExtraNgModuleProviders.bind(this)),this.injector=injector}return CompilerImpl.prototype.getExtraNgModuleProviders=function(){return[this._metadataResolver.getProviderMetadata(new _compiler.ProviderMeta(_core.Compiler,{useValue:this}))]},CompilerImpl.prototype.compileModuleSync=function(moduleType){return this._delegate.compileModuleSync(moduleType)},CompilerImpl.prototype.compileModuleAsync=function(moduleType){return this._delegate.compileModuleAsync(moduleType)},CompilerImpl.prototype.compileModuleAndAllComponentsSync=function(moduleType){var result=this._delegate.compileModuleAndAllComponentsSync(moduleType);return{ngModuleFactory:result.ngModuleFactory,componentFactories:result.componentFactories}},CompilerImpl.prototype.compileModuleAndAllComponentsAsync=function(moduleType){return this._delegate.compileModuleAndAllComponentsAsync(moduleType).then(function(result){return{ngModuleFactory:result.ngModuleFactory,componentFactories:result.componentFactories}})},CompilerImpl.prototype.loadAotSummaries=function(summaries){this._delegate.loadAotSummaries(summaries)},CompilerImpl.prototype.hasAotSummary=function(ref){return this._delegate.hasAotSummary(ref)},CompilerImpl.prototype.getComponentFactory=function(component){return this._delegate.getComponentFactory(component)},CompilerImpl.prototype.clearCache=function(){this._delegate.clearCache()},CompilerImpl.prototype.clearCacheFor=function(type){this._delegate.clearCacheFor(type)},CompilerImpl.prototype.getModuleId=function(moduleType){var meta=this._metadataResolver.getNgModuleMetadata(moduleType);return meta&&meta.id||void 0},CompilerImpl}();exports.CompilerImpl=CompilerImpl;var COMPILER_PROVIDERS=[{provide:_compiler.CompileReflector,useValue:new JitReflector},{provide:_compiler.ResourceLoader,useValue:_NO_RESOURCE_LOADER},{provide:_compiler.JitSummaryResolver,deps:[]},{provide:_compiler.SummaryResolver,useExisting:_compiler.JitSummaryResolver},{provide:_core.Console,deps:[]},{provide:_compiler.Lexer,deps:[]},{provide:_compiler.Parser,deps:[_compiler.Lexer]},{provide:baseHtmlParser,useClass:_compiler.HtmlParser,deps:[]},{provide:_compiler.I18NHtmlParser,useFactory:function(parser,translations,format,config,console){var missingTranslation=(translations=translations||"")?config.missingTranslation:_core.MissingTranslationStrategy.Ignore;return new _compiler.I18NHtmlParser(parser,translations,format,missingTranslation,console)},deps:[baseHtmlParser,[new _core.Optional,new _core.Inject(_core.TRANSLATIONS)],[new _core.Optional,new _core.Inject(_core.TRANSLATIONS_FORMAT)],[_compiler.CompilerConfig],[_core.Console]]},{provide:_compiler.HtmlParser,useExisting:_compiler.I18NHtmlParser},{provide:_compiler.TemplateParser,deps:[_compiler.CompilerConfig,_compiler.CompileReflector,_compiler.Parser,_compiler.ElementSchemaRegistry,_compiler.I18NHtmlParser,_core.Console]},{provide:_compiler.JitEvaluator,useClass:_compiler.JitEvaluator,deps:[]},{provide:_compiler.DirectiveNormalizer,deps:[_compiler.ResourceLoader,_compiler.UrlResolver,_compiler.HtmlParser,_compiler.CompilerConfig]},{provide:_compiler.CompileMetadataResolver,deps:[_compiler.CompilerConfig,_compiler.HtmlParser,_compiler.NgModuleResolver,_compiler.DirectiveResolver,_compiler.PipeResolver,_compiler.SummaryResolver,_compiler.ElementSchemaRegistry,_compiler.DirectiveNormalizer,_core.Console,[_core.Optional,_compiler.StaticSymbolCache],_compiler.CompileReflector,[_core.Optional,ERROR_COLLECTOR_TOKEN]]},DEFAULT_PACKAGE_URL_PROVIDER,{provide:_compiler.StyleCompiler,deps:[_compiler.UrlResolver]},{provide:_compiler.ViewCompiler,deps:[_compiler.CompileReflector]},{provide:_compiler.NgModuleCompiler,deps:[_compiler.CompileReflector]},{provide:_compiler.CompilerConfig,useValue:new _compiler.CompilerConfig},{provide:_core.Compiler,useClass:CompilerImpl,deps:[_core.Injector,_compiler.CompileMetadataResolver,_compiler.TemplateParser,_compiler.StyleCompiler,_compiler.ViewCompiler,_compiler.NgModuleCompiler,_compiler.SummaryResolver,_compiler.CompileReflector,_compiler.JitEvaluator,_compiler.CompilerConfig,_core.Console]},{provide:_compiler.DomElementSchemaRegistry,deps:[]},{provide:_compiler.ElementSchemaRegistry,useExisting:_compiler.DomElementSchemaRegistry},{provide:_compiler.UrlResolver,deps:[_core.PACKAGE_ROOT_URL]},{provide:_compiler.DirectiveResolver,deps:[_compiler.CompileReflector]},{provide:_compiler.PipeResolver,deps:[_compiler.CompileReflector]},{provide:_compiler.NgModuleResolver,deps:[_compiler.CompileReflector]}],JitCompilerFactory=function(){function JitCompilerFactory(defaultOptions){var compilerOptions={useJit:!0,defaultEncapsulation:_core.ViewEncapsulation.Emulated,missingTranslation:_core.MissingTranslationStrategy.Warning};this._defaultOptions=(0,_tslib.__spread)([compilerOptions],defaultOptions)}return JitCompilerFactory.prototype.createCompiler=function(options){void 0===options&&(options=[]);var optionsArr,parts,result,opts={useJit:_lastDefined((optionsArr=this._defaultOptions.concat(options)).map(function(options){return options.useJit})),defaultEncapsulation:_lastDefined(optionsArr.map(function(options){return options.defaultEncapsulation})),providers:(parts=optionsArr.map(function(options){return options.providers}),result=[],parts.forEach(function(part){return part&&result.push.apply(result,(0,_tslib.__spread)(part))}),result),missingTranslation:_lastDefined(optionsArr.map(function(options){return options.missingTranslation})),preserveWhitespaces:_lastDefined(optionsArr.map(function(options){return options.preserveWhitespaces}))};return _core.Injector.create([COMPILER_PROVIDERS,{provide:_compiler.CompilerConfig,useFactory:function(){return new _compiler.CompilerConfig({useJit:opts.useJit,jitDevMode:(0,_core.isDevMode)(),defaultEncapsulation:opts.defaultEncapsulation,missingTranslation:opts.missingTranslation,preserveWhitespaces:opts.preserveWhitespaces})},deps:[]},opts.providers]).get(_core.Compiler)},JitCompilerFactory}();function _lastDefined(args){for(var i=args.length-1;i>=0;i--)if(void 0!==args[i])return args[i]}exports.JitCompilerFactory=JitCompilerFactory;var platformCoreDynamic=(0,_core.createPlatformFactory)(_core.platformCore,"coreDynamic",[{provide:_core.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:_core.CompilerFactory,useClass:JitCompilerFactory,deps:[_core.COMPILER_OPTIONS]}]);exports.platformCoreDynamic=platformCoreDynamic;var ResourceLoaderImpl=function(_super){function ResourceLoaderImpl(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(ResourceLoaderImpl,_super),ResourceLoaderImpl.prototype.get=function(url){var resolve,reject,promise=new Promise(function(res,rej){resolve=res,reject=rej}),xhr=new XMLHttpRequest;return xhr.open("GET",url,!0),xhr.responseType="text",xhr.onload=function(){var response=xhr.response||xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:0),200<=status&&status<=300?resolve(response):reject("Failed to load "+url)},xhr.onerror=function(){reject("Failed to load "+url)},xhr.send(),promise},ResourceLoaderImpl=(0,_tslib.__decorate)([(0,_core.Injectable)()],ResourceLoaderImpl)}(_compiler.ResourceLoader);exports.ResourceLoaderImpl=ResourceLoaderImpl;var 0$1={providers:[{provide:_compiler.ResourceLoader,useClass:ResourceLoaderImpl,deps:[]}]},1=_common.PLATFORM_BROWSER_ID,INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS=[_platformBrowser.INTERNAL_BROWSER_PLATFORM_PROVIDERS,{provide:_core.COMPILER_OPTIONS,useValue:0$1,multi:!0},{provide:_core.PLATFORM_ID,useValue:1}];exports.INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS=INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS;var CachedResourceLoader=function(_super){function CachedResourceLoader(){var _this=_super.call(this)||this;if(_this._cache=_core.global.$templateCache,null==_this._cache)throw new Error("CachedResourceLoader: Template cache was not found in $templateCache.");return _this}return(0,_tslib.__extends)(CachedResourceLoader,_super),CachedResourceLoader.prototype.get=function(url){return this._cache.hasOwnProperty(url)?Promise.resolve(this._cache[url]):Promise.reject("CachedResourceLoader: Did not find cached template for "+url)},CachedResourceLoader}(_compiler.ResourceLoader);exports.angular_packages_platform_browser_dynamic_platform_browser_dynamic_a=CachedResourceLoader;var VERSION=new _core.Version("8.2.13");exports.VERSION=VERSION;var RESOURCE_CACHE_PROVIDER=[{provide:_compiler.ResourceLoader,useClass:CachedResourceLoader,deps:[]}];exports.RESOURCE_CACHE_PROVIDER=RESOURCE_CACHE_PROVIDER;var platformBrowserDynamic=(0,_core.createPlatformFactory)(platformCoreDynamic,"browserDynamic",INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS);exports.platformBrowserDynamic=platformBrowserDynamic},{"@angular/compiler":"yigG","@angular/core":"XDhY",tslib:"vCxL","@angular/common":"AomE","@angular/platform-browser":"dAl9"}],rDCW:[function(require,module,exports){},{}],KJHD:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.angular_packages_upgrade_static_static_c=compileFactory,exports.angular_packages_upgrade_static_static_a=injectorFactory,exports.angular_packages_upgrade_static_static_d=parseFactory,exports.angular_packages_upgrade_static_static_b=rootScopeFactory,exports.getAngularJSGlobal=getAngularJSGlobal,exports.getAngularLib=function(){return getAngularJSGlobal()},exports.setAngularJSGlobal=setAngularJSGlobal,exports.setAngularLib=function(ng){setAngularJSGlobal(ng)},exports.downgradeComponent=function(info){var directiveFactory=function($compile,$injector,$parse){var ngZone,isNgUpgradeLite=3===getUpgradeAppType($injector),wrapCallback=isNgUpgradeLite?function(cb){return function(){return _core.NgZone.isInAngularZone()?cb():ngZone.run(cb)}}:function(cb){return cb},hasMultipleDowngradedModules=isNgUpgradeLite&&getDowngradedModuleCount($injector)>1;return{restrict:"E",terminal:!0,require:[REQUIRE_INJECTOR,REQUIRE_NG_MODEL],link:function(scope,element,attrs,required){var ngModel=required[1],parentInjector=required[0],moduleInjector=void 0,ranAsync=!1;if(!parentInjector||hasMultipleDowngradedModules){var downgradedModule=info.downgradedModule||"",lazyModuleRefKey=""+LAZY_MODULE_REF+downgradedModule,attemptedAction="instantiating component '"+getTypeName(info.component)+"'";validateInjectionKey($injector,downgradedModule,lazyModuleRefKey,attemptedAction);var lazyModuleRef=$injector.get(lazyModuleRefKey);moduleInjector=lazyModuleRef.injector||lazyModuleRef.promise}var finalParentInjector=parentInjector||moduleInjector,finalModuleInjector=moduleInjector||parentInjector,doDowngrade=function(injector,moduleInjector){var componentFactoryResolver=moduleInjector.get(_core.ComponentFactoryResolver),componentFactory=componentFactoryResolver.resolveComponentFactory(info.component);if(!componentFactory)throw new Error("Expecting ComponentFactory for: "+getTypeName(info.component));var injectorPromise=new ParentInjectorPromise(element),facade=new DowngradeComponentAdapter(element,attrs,scope,ngModel,injector,$injector,$compile,$parse,componentFactory,wrapCallback),projectableNodes=facade.compileContents();facade.createComponent(projectableNodes),facade.setupInputs(isNgUpgradeLite,info.propagateDigest),facade.setupOutputs(),facade.registerCleanup(),injectorPromise.resolve(facade.getInjector()),ranAsync&&scope.$evalAsync(function(){})},downgradeFn=isNgUpgradeLite?function(pInjector,mInjector){ngZone||(ngZone=pInjector.get(_core.NgZone)),wrapCallback(function(){return doDowngrade(pInjector,mInjector)})()}:doDowngrade;SyncPromise.all([finalParentInjector,finalModuleInjector]).then(function(_a){var _b=(0,_tslib.__read)(_a,2),pInjector=_b[0],mInjector=_b[1];return downgradeFn(pInjector,mInjector)}),ranAsync=!0}}};return directiveFactory.$inject=[$COMPILE,$INJECTOR,$PARSE],directiveFactory},exports.downgradeInjectable=function(token,downgradedModule){void 0===downgradedModule&&(downgradedModule="");var factory=function($injector){var injectorKey=""+INJECTOR_KEY+downgradedModule,injectableName=isFunction(token)?getTypeName(token):String(token),attemptedAction="instantiating injectable '"+injectableName+"'";validateInjectionKey($injector,downgradedModule,injectorKey,attemptedAction);var injector=$injector.get(injectorKey);return injector.get(token)};return factory.$inject=[$INJECTOR],factory},exports.downgradeModule=function(moduleFactoryOrBootstrapFn){var injector,lazyModuleName=UPGRADE_MODULE_NAME+".lazy"+ ++moduleUid,lazyModuleRefKey=""+LAZY_MODULE_REF+lazyModuleName,lazyInjectorKey=""+INJECTOR_KEY+lazyModuleName,bootstrapFn=isFunction(moduleFactoryOrBootstrapFn)?moduleFactoryOrBootstrapFn:function(extraProviders){return(0,_platformBrowser.platformBrowser)(extraProviders).bootstrapModuleFactory(moduleFactoryOrBootstrapFn)};return module_(lazyModuleName,[]).constant(UPGRADE_APP_TYPE_KEY,3).factory(INJECTOR_KEY,[lazyInjectorKey,identity]).factory(lazyInjectorKey,function(){if(!injector)throw new Error("Trying to get the Angular injector before bootstrapping the corresponding Angular module.");return injector}).factory(LAZY_MODULE_REF,[lazyModuleRefKey,identity]).factory(lazyModuleRefKey,[$INJECTOR,function($injector){setTempInjectorRef($injector);var result={promise:bootstrapFn(angular1Providers).then(function(ref){return(injector=result.injector=new NgAdapterInjector(ref.injector)).get($INJECTOR),injector})};return result}]).config([$INJECTOR,$PROVIDE,function($injector,$provide){$provide.constant(DOWNGRADED_MODULE_COUNT_KEY,getDowngradedModuleCount($injector)+1)}]),lazyModuleName},exports.UpgradeModule=exports.UpgradeComponent=exports.VERSION=exports.angular_packages_upgrade_static_static_e=void 0;var _tslib=require("tslib"),_core=require("@angular/core"),_platformBrowser=require("@angular/platform-browser");function noNg(){throw new Error("AngularJS v1.x is not loaded!")}var noNgElement=function(){return noNg()};noNgElement.cleanData=noNg;var angular={bootstrap:noNg,module:noNg,element:noNgElement,injector:noNg,version:void 0,resumeBootstrap:noNg,getTestability:noNg};try{window.hasOwnProperty("angular")&&(angular=window.angular)}catch(_a){}function setAngularJSGlobal(ng){angular=ng}function getAngularJSGlobal(){return angular}var module_=function(prefix,dependencies){return angular.module(prefix,dependencies)},element=function(e){return angular.element(e)};element.cleanData=function(nodes){return angular.element.cleanData(nodes)};var $COMPILE="$compile",$CONTROLLER="$controller",$INJECTOR="$injector",$PARSE="$parse",$PROVIDE="$provide",$SCOPE="$scope",DOWNGRADED_MODULE_COUNT_KEY="$$angularDowngradedModuleCount",INJECTOR_KEY="$$angularInjector",LAZY_MODULE_REF="$$angularLazyModuleRef",UPGRADE_APP_TYPE_KEY="$$angularUpgradeAppType",REQUIRE_INJECTOR="?^^"+INJECTOR_KEY,REQUIRE_NG_MODEL="?ngModel",UPGRADE_MODULE_NAME="$$UpgradeModule",PropertyBinding=function(){function PropertyBinding(prop,attr){this.prop=prop,this.attr=attr,this.parseBinding()}return PropertyBinding.prototype.parseBinding=function(){this.bracketAttr="["+this.attr+"]",this.parenAttr="("+this.attr+")",this.bracketParenAttr="[("+this.attr+")]";var capitalAttr=this.attr.charAt(0).toUpperCase()+this.attr.substr(1);this.onAttr="on"+capitalAttr,this.bindAttr="bind"+capitalAttr,this.bindonAttr="bindon"+capitalAttr},PropertyBinding}(),DIRECTIVE_PREFIX_REGEXP=/^(?:x|data)[:\-_]/i,DIRECTIVE_SPECIAL_CHARS_REGEXP=/[:\-_]+(.)/g;function controllerKey(name){return"$"+name+"Controller"}function getTypeName(type){return type.overriddenName||type.name||type.toString().split("\n")[0]}function getDowngradedModuleCount($injector){return $injector.has(DOWNGRADED_MODULE_COUNT_KEY)?$injector.get(DOWNGRADED_MODULE_COUNT_KEY):0}function getUpgradeAppType($injector){return $injector.has(UPGRADE_APP_TYPE_KEY)?$injector.get(UPGRADE_APP_TYPE_KEY):0}function isFunction(value){return"function"==typeof value}function validateInjectionKey($injector,downgradedModule,injectionKey,attemptedAction){var upgradeAppType=getUpgradeAppType($injector),downgradedModuleCount=getDowngradedModuleCount($injector);switch(upgradeAppType){case 1:case 2:if(downgradedModule)throw new Error("Error while "+attemptedAction+": 'downgradedModule' unexpectedly specified.\nYou should not specify a value for 'downgradedModule', unless you are downgrading more than one Angular module (via 'downgradeModule()').");break;case 3:if(!downgradedModule&&downgradedModuleCount>=2)throw new Error("Error while "+attemptedAction+": 'downgradedModule' not specified.\nThis application contains more than one downgraded Angular module, thus you need to always specify 'downgradedModule' when downgrading components and injectables.");if(!$injector.has(injectionKey))throw new Error("Error while "+attemptedAction+": Unable to find the specified downgraded module.\nDid you forget to downgrade an Angular module or include it in the AngularJS application?");break;default:throw new Error("Error while "+attemptedAction+": Not a valid '@angular/upgrade' application.\nDid you forget to downgrade an Angular module or include it in the AngularJS application?")}}var _matches,INITIAL_VALUE={__UNINITIALIZED__:!0},DowngradeComponentAdapter=function(){function DowngradeComponentAdapter(element,attrs,scope,ngModel,parentInjector,$injector,$compile,$parse,componentFactory,wrapCallback){this.element=element,this.attrs=attrs,this.scope=scope,this.ngModel=ngModel,this.parentInjector=parentInjector,this.$injector=$injector,this.$compile=$compile,this.$parse=$parse,this.componentFactory=componentFactory,this.wrapCallback=wrapCallback,this.implementsOnChanges=!1,this.inputChangeCount=0,this.inputChanges={},this.componentScope=scope.$new()}return DowngradeComponentAdapter.prototype.compileContents=function(){var _this=this,compiledProjectableNodes=[],linkFns=this.groupProjectableNodes().map(function(nodes){return _this.$compile(nodes)});return this.element.empty(),linkFns.forEach(function(linkFn){linkFn(_this.scope,function(clone){compiledProjectableNodes.push(clone),_this.element.append(clone)})}),compiledProjectableNodes},DowngradeComponentAdapter.prototype.createComponent=function(projectableNodes){var providers=[{provide:$SCOPE,useValue:this.componentScope}],childInjector=_core.Injector.create({providers:providers,parent:this.parentInjector,name:"DowngradeComponentAdapter"});this.componentRef=this.componentFactory.create(childInjector,projectableNodes,this.element[0]),this.viewChangeDetector=this.componentRef.injector.get(_core.ChangeDetectorRef),this.changeDetector=this.componentRef.changeDetectorRef,this.component=this.componentRef.instance;var ngModel,component,testability=this.componentRef.injector.get(_core.Testability,null);testability&&this.componentRef.injector.get(_core.TestabilityRegistry).registerApplication(this.componentRef.location.nativeElement,testability),ngModel=this.ngModel,component=this.component,ngModel&&function(component){return"function"==typeof component.writeValue&&"function"==typeof component.registerOnChange}(component)&&(ngModel.$render=function(){component.writeValue(ngModel.$viewValue)},component.registerOnChange(ngModel.$setViewValue.bind(ngModel)),"function"==typeof component.registerOnTouched&&component.registerOnTouched(ngModel.$setTouched.bind(ngModel)))},DowngradeComponentAdapter.prototype.setupInputs=function(manuallyAttachView,propagateDigest){var _this=this;void 0===propagateDigest&&(propagateDigest=!0);for(var attrs=this.attrs,inputs=this.componentFactory.inputs||[],_loop_1=function(i){var prop,prevValue,input=new PropertyBinding(inputs[i].propName,inputs[i].templateName),expr=null;if(attrs.hasOwnProperty(input.attr)){var observeFn_1=(prop=input.prop,prevValue=INITIAL_VALUE,function(currValue){var val1,val2;(val1=prevValue)===(val2=currValue)||val1!=val1&&val2!=val2||(prevValue===INITIAL_VALUE&&(prevValue=currValue),_this.updateInput(prop,prevValue,currValue),prevValue=currValue)});attrs.$observe(input.attr,observeFn_1);var unwatch_1=this_1.componentScope.$watch(function(){unwatch_1(),unwatch_1=null,observeFn_1(attrs[input.attr])})}else attrs.hasOwnProperty(input.bindAttr)?expr=attrs[input.bindAttr]:attrs.hasOwnProperty(input.bracketAttr)?expr=attrs[input.bracketAttr]:attrs.hasOwnProperty(input.bindonAttr)?expr=attrs[input.bindonAttr]:attrs.hasOwnProperty(input.bracketParenAttr)&&(expr=attrs[input.bracketParenAttr]);if(null!=expr){var watchFn=function(prop){return function(currValue,prevValue){return _this.updateInput(prop,prevValue,currValue)}}(input.prop);this_1.componentScope.$watch(expr,watchFn)}},this_1=this,i=0;i<inputs.length;i++)_loop_1(i);var detectChanges=function(){return _this.changeDetector.detectChanges()},prototype=this.componentFactory.componentType.prototype;if(this.implementsOnChanges=!(!prototype||!prototype.ngOnChanges),this.componentScope.$watch(function(){return _this.inputChangeCount},this.wrapCallback(function(){if(_this.implementsOnChanges){var inputChanges=_this.inputChanges;_this.inputChanges={},_this.component.ngOnChanges(inputChanges)}_this.viewChangeDetector.markForCheck(),propagateDigest||detectChanges()})),propagateDigest&&this.componentScope.$watch(this.wrapCallback(detectChanges)),manuallyAttachView||!propagateDigest)var unwatch_2=this.componentScope.$watch(function(){unwatch_2(),unwatch_2=null,_this.parentInjector.get(_core.ApplicationRef).attachView(_this.componentRef.hostView)})},DowngradeComponentAdapter.prototype.setupOutputs=function(){for(var attrs=this.attrs,outputs=this.componentFactory.outputs||[],j=0;j<outputs.length;j++){var output=new PropertyBinding(outputs[j].propName,outputs[j].templateName),bindonAttr=output.bindonAttr.substring(0,output.bindonAttr.length-6),bracketParenAttr="[("+output.bracketParenAttr.substring(2,output.bracketParenAttr.length-8)+")]";attrs.hasOwnProperty(bindonAttr)&&this.subscribeToOutput(output,attrs[bindonAttr],!0),attrs.hasOwnProperty(bracketParenAttr)&&this.subscribeToOutput(output,attrs[bracketParenAttr],!0),attrs.hasOwnProperty(output.onAttr)&&this.subscribeToOutput(output,attrs[output.onAttr]),attrs.hasOwnProperty(output.parenAttr)&&this.subscribeToOutput(output,attrs[output.parenAttr])}},DowngradeComponentAdapter.prototype.subscribeToOutput=function(output,expr,isAssignment){var _this=this;void 0===isAssignment&&(isAssignment=!1);var getter=this.$parse(expr),setter=getter.assign;if(isAssignment&&!setter)throw new Error("Expression '"+expr+"' is not assignable!");var emitter=this.component[output.prop];if(!emitter)throw new Error("Missing emitter '"+output.prop+"' on component '"+getTypeName(this.componentFactory.componentType)+"'!");emitter.subscribe({next:isAssignment?function(v){return setter(_this.scope,v)}:function(v){return getter(_this.scope,{$event:v})}})},DowngradeComponentAdapter.prototype.registerCleanup=function(){var _this=this,testabilityRegistry=this.componentRef.injector.get(_core.TestabilityRegistry),destroyComponentRef=this.wrapCallback(function(){return _this.componentRef.destroy()}),destroyed=!1;this.element.on("$destroy",function(){return _this.componentScope.$destroy()}),this.componentScope.$on("$destroy",function(){destroyed||(destroyed=!0,testabilityRegistry.unregisterApplication(_this.componentRef.location.nativeElement),destroyComponentRef())})},DowngradeComponentAdapter.prototype.getInjector=function(){return this.componentRef.injector},DowngradeComponentAdapter.prototype.updateInput=function(prop,prevValue,currValue){this.implementsOnChanges&&(this.inputChanges[prop]=new _core.SimpleChange(prevValue,currValue,prevValue===currValue)),this.inputChangeCount++,this.component[prop]=currValue},DowngradeComponentAdapter.prototype.groupProjectableNodes=function(){return function(ngContentSelectors,nodes){for(var projectableNodes=[],i=0,ii=ngContentSelectors.length;i<ii;++i)projectableNodes[i]=[];for(var j=0,jj=nodes.length;j<jj;++j){var node=nodes[j],ngContentIndex=findMatchingNgContentIndex(node,ngContentSelectors);null!=ngContentIndex&&projectableNodes[ngContentIndex].push(node)}return projectableNodes}(this.componentFactory.ngContentSelectors,this.element.contents())},DowngradeComponentAdapter}();function findMatchingNgContentIndex(element,ngContentSelectors){for(var ngContentIndices=[],wildcardNgContentIndex=-1,i=0;i<ngContentSelectors.length;i++){var selector=ngContentSelectors[i];"*"===selector?wildcardNgContentIndex=i:matchesSelector(element,selector)&&ngContentIndices.push(i)}return ngContentIndices.sort(),-1!==wildcardNgContentIndex&&ngContentIndices.push(wildcardNgContentIndex),ngContentIndices.length?ngContentIndices[0]:null}function matchesSelector(el,selector){if(!_matches){var elProto=Element.prototype;_matches=elProto.matches||elProto.matchesSelector||elProto.mozMatchesSelector||elProto.msMatchesSelector||elProto.oMatchesSelector||elProto.webkitMatchesSelector}return el.nodeType===Node.ELEMENT_NODE&&_matches.call(el,selector)}var SyncPromise=function(){function SyncPromise(){this.resolved=!1,this.callbacks=[]}return SyncPromise.all=function(valuesOrPromises){var aggrPromise=new SyncPromise,resolvedCount=0,results=[],resolve=function(idx,value){results[idx]=value,++resolvedCount===valuesOrPromises.length&&aggrPromise.resolve(results)};return valuesOrPromises.forEach(function(p,idx){var obj;(obj=p)&&isFunction(obj.then)?p.then(function(v){return resolve(idx,v)}):resolve(idx,p)}),aggrPromise},SyncPromise.prototype.resolve=function(value){this.resolved||(this.value=value,this.resolved=!0,this.callbacks.forEach(function(callback){return callback(value)}),this.callbacks.length=0)},SyncPromise.prototype.then=function(callback){this.resolved?callback(this.value):this.callbacks.push(callback)},SyncPromise}();var ParentInjectorPromise=function(_super){function ParentInjectorPromise(element){var _this=_super.call(this)||this;return _this.element=element,_this.injectorKey=controllerKey(INJECTOR_KEY),element.data(_this.injectorKey,_this),_this}return(0,_tslib.__extends)(ParentInjectorPromise,_super),ParentInjectorPromise.prototype.resolve=function(injector){this.element.data(this.injectorKey,injector),this.element=null,_super.prototype.resolve.call(this,injector)},ParentInjectorPromise}(SyncPromise);var VERSION=new _core.Version("8.2.13");exports.VERSION=VERSION;var tempInjectorRef=null;function setTempInjectorRef(injector){tempInjectorRef=injector}function injectorFactory(){if(!tempInjectorRef)throw new Error("Trying to get the AngularJS injector before it being set.");var injector=tempInjectorRef;return tempInjectorRef=null,injector}function rootScopeFactory(i){return i.get("$rootScope")}function compileFactory(i){return i.get("$compile")}function parseFactory(i){return i.get("$parse")}var angular1Providers=[{provide:"$injector",useFactory:injectorFactory,deps:[]},{provide:"$rootScope",useFactory:rootScopeFactory,deps:["$injector"]},{provide:"$compile",useFactory:compileFactory,deps:["$injector"]},{provide:"$parse",useFactory:parseFactory,deps:["$injector"]}];exports.angular_packages_upgrade_static_static_e=angular1Providers;var NgAdapterInjector=function(){function NgAdapterInjector(modInjector){this.modInjector=modInjector}return NgAdapterInjector.prototype.get=function(token,notFoundValue){return notFoundValue===_core.NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?notFoundValue:this.modInjector.get(token,notFoundValue)},NgAdapterInjector}(),moduleUid=0;function identity(x){return x}var REQUIRE_PREFIX_RE=/^(\^\^?)?(\?)?(\^\^?)?/,UpgradeHelper=function(){function UpgradeHelper(injector,name,elementRef,directive){this.injector=injector,this.name=name,this.$injector=injector.get($INJECTOR),this.$compile=this.$injector.get($COMPILE),this.$controller=this.$injector.get($CONTROLLER),this.element=elementRef.nativeElement,this.$element=element(this.element),this.directive=directive||UpgradeHelper.getDirective(this.$injector,name)}return UpgradeHelper.getDirective=function($injector,name){var directives=$injector.get(name+"Directive");if(directives.length>1)throw new Error("Only support single directive definition for: "+name);var directive=directives[0];return directive.compile&&!directive.link&&notSupported(name,"compile"),directive.replace&&notSupported(name,"replace"),directive.terminal&&notSupported(name,"terminal"),directive},UpgradeHelper.getTemplate=function($injector,directive,fetchRemoteTemplate,$element){if(void 0===fetchRemoteTemplate&&(fetchRemoteTemplate=!1),void 0!==directive.template)return getOrCall(directive.template,$element);if(directive.templateUrl){var $templateCache_1=$injector.get("$templateCache"),url_1=getOrCall(directive.templateUrl,$element),template=$templateCache_1.get(url_1);if(void 0!==template)return template;if(!fetchRemoteTemplate)throw new Error("loading directive templates asynchronously is not supported");return new Promise(function(resolve,reject){$injector.get("$httpBackend")("GET",url_1,null,function(status,response){200===status?resolve($templateCache_1.put(url_1,response)):reject("GET component template from '"+url_1+"' returned '"+status+": "+response+"'")})})}throw new Error("Directive '"+directive.name+"' is not a component, it is missing template.")},UpgradeHelper.prototype.buildController=function(controllerType,$scope){var locals={$scope:$scope,$element:this.$element},controller=this.$controller(controllerType,locals,null,this.directive.controllerAs);return this.$element.data(controllerKey(this.directive.name),controller),controller},UpgradeHelper.prototype.compileTemplate=function(template){return void 0===template&&(template=UpgradeHelper.getTemplate(this.$injector,this.directive,!1,this.$element)),this.compileHtml(template)},UpgradeHelper.prototype.onDestroy=function($scope,controllerInstance){controllerInstance&&isFunction(controllerInstance.$onDestroy)&&controllerInstance.$onDestroy(),$scope.$destroy(),element.cleanData([this.element]),element.cleanData(this.element.querySelectorAll("*"))},UpgradeHelper.prototype.prepareTransclusion=function(){var _this=this,transclude=this.directive.transclude,contentChildNodes=this.extractChildNodes(),attachChildrenFn=function(scope,cloneAttachFn){return cloneAttachFn($template,scope=scope||{$destroy:function(){}})},$template=contentChildNodes;if(transclude){var slots_1=Object.create(null);if("object"==typeof transclude){$template=[];var slotMap_1=Object.create(null),filledSlots_1=Object.create(null);Object.keys(transclude).forEach(function(slotName){var selector=transclude[slotName],optional="?"===selector.charAt(0);selector=optional?selector.substring(1):selector,slotMap_1[selector]=slotName,slots_1[slotName]=null,filledSlots_1[slotName]=optional}),contentChildNodes.forEach(function(node){var name,slotName=slotMap_1[(name=node.nodeName.toLowerCase(),name.replace(DIRECTIVE_PREFIX_REGEXP,"").replace(DIRECTIVE_SPECIAL_CHARS_REGEXP,function(_,letter){return letter.toUpperCase()}))];slotName?(filledSlots_1[slotName]=!0,slots_1[slotName]=slots_1[slotName]||[],slots_1[slotName].push(node)):$template.push(node)}),Object.keys(filledSlots_1).forEach(function(slotName){if(!filledSlots_1[slotName])throw new Error("Required transclusion slot '"+slotName+"' on directive: "+_this.name)}),Object.keys(slots_1).filter(function(slotName){return slots_1[slotName]}).forEach(function(slotName){var nodes=slots_1[slotName];slots_1[slotName]=function(scope,cloneAttach){return cloneAttach(nodes,scope)}})}attachChildrenFn.$$slots=slots_1,$template.forEach(function(node){node.nodeType!==Node.TEXT_NODE||node.nodeValue||(node.nodeValue="")})}return attachChildrenFn},UpgradeHelper.prototype.resolveAndBindRequiredControllers=function(controllerInstance){var directiveRequire=this.getDirectiveRequire(),requiredControllers=this.resolveRequire(directiveRequire);if(controllerInstance&&this.directive.bindToController&&isMap(directiveRequire)){var requiredControllersMap_1=requiredControllers;Object.keys(requiredControllersMap_1).forEach(function(key){controllerInstance[key]=requiredControllersMap_1[key]})}return requiredControllers},UpgradeHelper.prototype.compileHtml=function(html){return this.element.innerHTML=html,this.$compile(this.element.childNodes)},UpgradeHelper.prototype.extractChildNodes=function(){for(var childNode,childNodes=[];childNode=this.element.firstChild;)this.element.removeChild(childNode),childNodes.push(childNode);return childNodes},UpgradeHelper.prototype.getDirectiveRequire=function(){var require=this.directive.require||this.directive.controller&&this.directive.name;return isMap(require)&&Object.keys(require).forEach(function(key){var value=require[key],match=value.match(REQUIRE_PREFIX_RE);value.substring(match[0].length)||(require[key]=match[0]+key)}),require},UpgradeHelper.prototype.resolveRequire=function(require,controllerInstance){var _this=this;if(require){if(Array.isArray(require))return require.map(function(req){return _this.resolveRequire(req)});if("object"==typeof require){var value_1={};return Object.keys(require).forEach(function(key){return value_1[key]=_this.resolveRequire(require[key])}),value_1}if("string"==typeof require){var match=require.match(REQUIRE_PREFIX_RE),inheritType=match[1]||match[3],name_1=require.substring(match[0].length),isOptional=!!match[2],searchParents=!!inheritType,startOnParent="^^"===inheritType,ctrlKey=controllerKey(name_1),elem=startOnParent?this.$element.parent():this.$element,value=searchParents?elem.inheritedData(ctrlKey):elem.data(ctrlKey);if(!value&&!isOptional)throw new Error("Unable to find required '"+require+"' in upgraded directive '"+this.name+"'.");return value}throw new Error("Unrecognized 'require' syntax on upgraded directive '"+this.name+"': "+require)}return null},UpgradeHelper}();function getOrCall(property){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return isFunction(property)?property.apply(void 0,(0,_tslib.__spread)(args)):property}function isMap(value){return value&&!Array.isArray(value)&&"object"==typeof value}function notSupported(name,feature){throw new Error("Upgraded directive '"+name+"' contains unsupported feature: '"+feature+"'.")}var INITIAL_VALUE$1={__UNINITIALIZED__:!0},Bindings=function(){return function(){this.twoWayBoundProperties=[],this.twoWayBoundLastValues=[],this.expressionBoundProperties=[],this.propertyToOutputMap={}}}(),UpgradeComponent=function(){function UpgradeComponent(name,elementRef,injector){this.name=name,this.elementRef=elementRef,this.injector=injector,this.helper=new UpgradeHelper(injector,name,elementRef),this.$injector=this.helper.$injector,this.element=this.helper.element,this.$element=this.helper.$element,this.directive=this.helper.directive,this.bindings=this.initializeBindings(this.directive);var $parentScope=injector.get($SCOPE);this.$componentScope=$parentScope.$new(!!this.directive.scope),this.initializeOutputs()}return UpgradeComponent.prototype.ngOnInit=function(){var _this=this,attachChildNodes=this.helper.prepareTransclusion(),linkFn=this.helper.compileTemplate(),controllerType=this.directive.controller,bindToController=this.directive.bindToController;if(controllerType)this.controllerInstance=this.helper.buildController(controllerType,this.$componentScope);else if(bindToController)throw new Error("Upgraded directive '"+this.directive.name+"' specifies 'bindToController' but no controller.");this.bindingDestination=bindToController?this.controllerInstance:this.$componentScope,this.bindOutputs();var requiredControllers=this.helper.resolveAndBindRequiredControllers(this.controllerInstance);if(this.pendingChanges&&(this.forwardChanges(this.pendingChanges),this.pendingChanges=null),this.controllerInstance&&isFunction(this.controllerInstance.$onInit)&&this.controllerInstance.$onInit(),this.controllerInstance&&isFunction(this.controllerInstance.$doCheck)){var callDoCheck=function(){return _this.controllerInstance.$doCheck()};this.unregisterDoCheckWatcher=this.$componentScope.$parent.$watch(callDoCheck),callDoCheck()}var link=this.directive.link,preLink="object"==typeof link&&link.pre,postLink="object"==typeof link?link.post:link;preLink&&preLink(this.$componentScope,this.$element,"NOT_SUPPORTED",requiredControllers,"NOT_SUPPORTED"),linkFn(this.$componentScope,null,{parentBoundTranscludeFn:attachChildNodes}),postLink&&postLink(this.$componentScope,this.$element,"NOT_SUPPORTED",requiredControllers,"NOT_SUPPORTED"),this.controllerInstance&&isFunction(this.controllerInstance.$postLink)&&this.controllerInstance.$postLink()},UpgradeComponent.prototype.ngOnChanges=function(changes){this.bindingDestination?this.forwardChanges(changes):this.pendingChanges=changes},UpgradeComponent.prototype.ngDoCheck=function(){var _this=this,twoWayBoundProperties=this.bindings.twoWayBoundProperties,twoWayBoundLastValues=this.bindings.twoWayBoundLastValues,propertyToOutputMap=this.bindings.propertyToOutputMap;twoWayBoundProperties.forEach(function(propName,idx){var newValue=_this.bindingDestination[propName],oldValue=twoWayBoundLastValues[idx];if(!(0,_core.looseIdentical)(newValue,oldValue)){var outputName=propertyToOutputMap[propName];_this[outputName].emit(newValue),twoWayBoundLastValues[idx]=newValue}})},UpgradeComponent.prototype.ngOnDestroy=function(){isFunction(this.unregisterDoCheckWatcher)&&this.unregisterDoCheckWatcher(),this.helper.onDestroy(this.$componentScope,this.controllerInstance)},UpgradeComponent.prototype.initializeBindings=function(directive){var _this=this,btcIsObject="object"==typeof directive.bindToController;if(btcIsObject&&Object.keys(directive.scope).length)throw new Error("Binding definitions on scope and controller at the same time is not supported.");var context=btcIsObject?directive.bindToController:directive.scope,bindings=new Bindings;return"object"==typeof context&&Object.keys(context).forEach(function(propName){var bindingType=context[propName].charAt(0);switch(bindingType){case"@":case"<":break;case"=":bindings.twoWayBoundProperties.push(propName),bindings.twoWayBoundLastValues.push(INITIAL_VALUE$1),bindings.propertyToOutputMap[propName]=propName+"Change";break;case"&":bindings.expressionBoundProperties.push(propName),bindings.propertyToOutputMap[propName]=propName;break;default:var json=JSON.stringify(context);throw new Error("Unexpected mapping '"+bindingType+"' in '"+json+"' in '"+_this.name+"' directive.")}}),bindings},UpgradeComponent.prototype.initializeOutputs=function(){var _this=this;this.bindings.twoWayBoundProperties.concat(this.bindings.expressionBoundProperties).forEach(function(propName){var outputName=_this.bindings.propertyToOutputMap[propName];_this[outputName]=new _core.EventEmitter})},UpgradeComponent.prototype.bindOutputs=function(){var _this=this;this.bindings.expressionBoundProperties.forEach(function(propName){var outputName=_this.bindings.propertyToOutputMap[propName],emitter=_this[outputName];_this.bindingDestination[propName]=function(value){return emitter.emit(value)}})},UpgradeComponent.prototype.forwardChanges=function(changes){var _this=this;Object.keys(changes).forEach(function(propName){return _this.bindingDestination[propName]=changes[propName].currentValue}),isFunction(this.bindingDestination.$onChanges)&&this.bindingDestination.$onChanges(changes)},UpgradeComponent}();exports.UpgradeComponent=UpgradeComponent;var UpgradeModule=function(){function UpgradeModule(injector,ngZone){this.ngZone=ngZone,this.injector=new NgAdapterInjector(injector)}return UpgradeModule.prototype.bootstrap=function(element$1,modules,config){var _this=this;void 0===modules&&(modules=[]);var INIT_MODULE_NAME=UPGRADE_MODULE_NAME+".init",upgradeModule=(module_(INIT_MODULE_NAME,[]).constant(UPGRADE_APP_TYPE_KEY,2).value(INJECTOR_KEY,this.injector).factory(LAZY_MODULE_REF,[INJECTOR_KEY,function(injector){return{injector:injector}}]).config([$PROVIDE,$INJECTOR,function($provide,$injector){$injector.has("$$testability")&&$provide.decorator("$$testability",["$delegate",function(testabilityDelegate){var originalWhenStable=testabilityDelegate.whenStable,injector=_this.injector,newWhenStable=function(callback){originalWhenStable.call(testabilityDelegate,function(){var ng2Testability=injector.get(_core.Testability);ng2Testability.isStable()?callback():ng2Testability.whenStable(newWhenStable.bind(testabilityDelegate,callback))})};return testabilityDelegate.whenStable=newWhenStable,testabilityDelegate}]),$injector.has("$interval")&&$provide.decorator("$interval",["$delegate",function(intervalDelegate){var wrappedInterval=function(fn,delay,count,invokeApply){for(var pass=[],_i=4;_i<arguments.length;_i++)pass[_i-4]=arguments[_i];return _this.ngZone.runOutsideAngular(function(){return intervalDelegate.apply(void 0,(0,_tslib.__spread)([function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];setTimeout(function(){_this.ngZone.run(function(){return fn.apply(void 0,(0,_tslib.__spread)(args))})})},delay,count,invokeApply],pass))})};return wrappedInterval.cancel=intervalDelegate.cancel,wrappedInterval}])}]).run([$INJECTOR,function($injector){_this.$injector=$injector,setTempInjectorRef($injector),_this.injector.get($INJECTOR),element(element$1).data(controllerKey(INJECTOR_KEY),_this.injector),setTimeout(function(){var $rootScope=$injector.get("$rootScope"),subscription=_this.ngZone.onMicrotaskEmpty.subscribe(function(){return $rootScope.$$phase?((0,_core.isDevMode)()&&console.warn("A digest was triggered while one was already in progress. This may mean that something is triggering digests outside the Angular zone."),$rootScope.$evalAsync()):$rootScope.$digest()});$rootScope.$on("$destroy",function(){subscription.unsubscribe()})},0)}]),module_(UPGRADE_MODULE_NAME,[INIT_MODULE_NAME].concat(modules))),windowAngular=window.angular;if(windowAngular.resumeBootstrap=void 0,this.ngZone.run(function(){!function(e,modules,config){angular.bootstrap(e,modules,config)}(element$1,[upgradeModule.name],config)}),windowAngular.resumeBootstrap){var originalResumeBootstrap_1=windowAngular.resumeBootstrap,ngZone_1=this.ngZone;windowAngular.resumeBootstrap=function(){var _this=this,args=arguments;return windowAngular.resumeBootstrap=originalResumeBootstrap_1,ngZone_1.run(function(){return windowAngular.resumeBootstrap.apply(_this,args)})}}},UpgradeModule=(0,_tslib.__decorate)([(0,_core.NgModule)({providers:[angular1Providers]}),(0,_tslib.__metadata)("design:paramtypes",[_core.Injector,_core.NgZone])],UpgradeModule)}();exports.UpgradeModule=UpgradeModule},{tslib:"vCxL","@angular/core":"XDhY","@angular/platform-browser":"dAl9"}],QRNI:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.angularjsAppConfig=function($locationProvider,$logProvider,$provide,$stateProvider,$urlRouterProvider,$urlMatcherFactoryProvider,$sceDelegateProvider,uiSelectConfig,CONFIG){$urlMatcherFactoryProvider.caseInsensitive(!0),$urlMatcherFactoryProvider.type("pathVariable",{encode:angular.identity,decode:angular.identity,equals:angular.equals,pattern:/[^/]*/}),$logProvider.debugEnabled(!1),$locationProvider.html5Mode(!0),$locationProvider.hashPrefix("!"),$urlRouterProvider.rule(function($injector,$location){var path=$location.path();if("/"===path[path.length-1])return path.substring(0,path.length-1)}),$provide.decorator("$location",function($delegate,$rootScope){var skippingReload=!1;return $rootScope.$on("$locationChangeSuccess",function(event){skippingReload&&(event.preventDefault(),skippingReload=!1)}),$delegate.skipReload=function(){return skippingReload=!0,this},$delegate}),$sceDelegateProvider.resourceUrlWhitelist(["self",CONFIG.resource.cdnRoot+"**",CONFIG.aws.downloadServer+"/**"]),$stateProvider.state("root",{url:"/?verifyEmail",resolve:{BulbAuthService:"BulbAuthService",currentUser:function(BulbAuthService){return BulbAuthService.currentUser},$title:function(){return null},translateReady:function($translate){return $translate.onReady()}},templateUrl:CONFIG.resource.cdnRoot+"ajs/app.html",controller:"ApplicationController as bulbAppCtrl"}).state("home",{parent:"root",url:"^/b/home"}).state("bulbView",{parent:"root",abstract:!0,views:{content:{template:'<div class="bulb-view" ui-view="bulbView"></div>'},"header@root":{template:"<bulb-header></bulb-header>"}}}).state("notFound",{parent:"bulbView",url:"^/b/404",resolve:{$title:function($translate){return $translate("error_not_found_title")}},views:{bulbView:{template:'<h1>{{$title}}</h1><div translate>error_not_found_body</div><a ui-sref="root" translate>error_not_found_link</a>'}}}).state("accessDenied",{parent:"bulbView",url:"^/b/403",resolve:{$title:function($translate){return $translate("error_access_denied_browser_title")}},views:{bulbView:{template:'<h1 translate>error_access_denied_title</h1><div translate>error_access_denied_body</div><a bulb-auth="!currentUser.isAuthenticated()" ui-sref="signIn" translate>error_access_denied_anonymous</a>'}}}).state("error",{parent:"bulbView",url:"^/b/error?errorCode&errorMessage",resolve:{$title:function($translate){return $translate("server_error_title")}},views:{bulbView:{template:'<h1>{{$title}}</h1><div ng-if="$stateParams.errorCode" translate>{{$stateParams.errorCode}}</div><div ng-if="$stateParams.errorMessage">{{$stateParams.errorMessage}}</div>'}}}).state("ltiLaunchError",{parent:"bulbView",url:"^/b/lti/launch/{organizationId}",resolve:{$title:function($translate){return $translate("lti_launch_error_title")}},views:{bulbView:{controller:function($window){this.failureMessage=$window.bulbRootModel.ltiFailureMessage},controllerAs:"ltiLaunchErrorCtrl",template:"<h1>{{$title}}</h1><div>{{ltiLaunchErrorCtrl.failureMessage}}</div>"}}}),$urlRouterProvider.otherwise(function($injector){$injector.get("$state").go("notFound",{},{location:!1})}),uiSelectConfig.theme="select2",uiSelectConfig.searchEnabled=!1},exports.angularRunBlock=function($anchorScroll,$cookies,$log,$rootScope,$state,$stateParams,$timeout,$window,Restangular,BulbAuthService,BulbBrowserService,BulbErrorService,ErrorService,CONFIG){$rootScope.CONFIG=CONFIG,$rootScope.Foundation=Foundation,"serviceWorker"in navigator&&window.navigator.serviceWorker.getRegistrations().then(function(registrations){registrations.forEach(function(currentRegisteredServiceWorker){currentRegisteredServiceWorker.unregister().then(function(unregisterd){console.log(unregisterd?"Successfully unregistered our service worker!":"Unable to unregister our service worker.")})})});$rootScope.$on("$viewContentLoaded",function(){jQuery(document).foundation()}),jQuery(document.documentElement).attr("bulb-browser",BulbBrowserService.getBrowserAttributes()),$rootScope.changingState=!1,$rootScope.$on("$stateChangeStart",function(event,nextState,nextStateParams){if($rootScope.changingState=!0,$rootScope.pendingUrl=$state.href(nextState,nextStateParams,{absolute:!0}),window.bulbRootModel&&window.bulbRootModel.errorStatus){event.preventDefault();var errorStatus=window.bulbRootModel.errorStatus;switch(delete window.bulbRootModel.errorStatus,errorStatus){case 403:$state.go("accessDenied",{},{location:!1});break;case 404:$state.go("notFound",{},{location:!1});break;default:window.bulbRootModel.errorMessage?$state.go("error",{errorMessage:window.bulbRootModel.errorMessage},{location:!1}):$state.go("error",{errorCode:"unknown_error"},{location:!1})}}$log.debug("$stateChangeStart",nextState,nextStateParams),"root"!==nextState.name&&"home"!==nextState.name||(event.preventDefault(),!0===CONFIG.env.hasLandingPage?$window.location.href="/":BulbAuthService.currentUser.isAuthenticated()?$state.go("author",{username:BulbAuthService.currentUser.username},{location:"replace"}):$state.go("signIn",{location:"replace"}))}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,prevState,prevStateParams){$anchorScroll(),$rootScope.changingState=!1,delete $rootScope.pendingUrl,$log.debug("$stateChangeSuccess",toState,toParams);-1===["unit","unit.page","preview_page","live_page","presentation_page",""].indexOf(prevState.name)&&($state.previousState={name:prevState.name,params:prevStateParams})}),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){if(error)switch(event.preventDefault(),error.status){case 403:$state.go("accessDenied",{},{location:!1});break;case 404:$state.go("notFound",{},{location:!1})}else{var message='$stateChangeError: from "'+fromState.name+'" to "'+toState.name+'" '+JSON.stringify(toParams);BulbErrorService.error(message,error)}}),$rootScope.$on("$locationChangeStart",function(event,next){for(var urlExceptions=["/contact.html"],i=0;i<urlExceptions.length;i++)if(next===$window.location.origin+urlExceptions[i])return $window.location.href=next,void event.preventDefault();$rootScope.changingState&&event.preventDefault()}),$rootScope.$state=$state,$rootScope.$stateParams=$stateParams,Restangular.setBaseUrl(CONFIG.context.name+"/b/rest"),Restangular.setDefaultHttpFields({cache:!1}),Restangular.setErrorInterceptor(function(response,deferred,responseHandler){return ErrorService.interceptRestangularError(response,deferred,responseHandler)})},exports.jqueryUiConfig=void 0;exports.jqueryUiConfig={autosize:{append:!0}}},{}],b2VR:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={};exports.default=_default},{}],IRUC:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={templateUrl:function(CONFIG){return CONFIG.resource.cdnRoot+"ajs/header/header.html"},controllerAs:"headerCtrl",controller:function($cookies,$interval,$log,$rootScope,$scope,$state,$timeout,$translate,$window,Restangular,BulbActivityService,BulbAuthService,BulbBrowserService,BulbErrorService,BulbModalService,BulbPageService,BulbUnitService,CONFIG,Foundation,SEARCH,TourService,_){var that=this;this.currentUser=BulbAuthService.currentUser,this.currentUserAuthenticated=this.currentUser.isAuthenticated(),this.currentUserPrefs=that.currentUser.prefs,this.showMobileTabs=!Foundation.utils.is_large_up(),this.$onInit=function(){this.currentUser=BulbAuthService.currentUser,this.currentUserPrefs=that.currentUser.prefs,this.isGroupTabOpen=!1,$scope.CONFIG=$rootScope.CONFIG,this.headerType=null,this.isHeaderFullyOpen=!1,this.isHeaderFullyClosed=!0,this.isRestartTour=!1,this.helpBalloon=!1,this.$window=$window,this.openControlHandler=null,this.languages=$translate.languages,this.languagesList=$translate.getLanguagesList(),this.getLanguage=$translate.getLanguage,this.getLanguageAsString=$translate.localeToString,this.moreMenuOpen=!1,this.moreMenuTranslation=$translate.instant("MORE")};var jqBodyContent=jQuery("#bulb-content");function openHeader(headerOption){$rootScope.$emit("headerOpened",headerOption),that.headerType=headerOption,that.isHeaderFullyClosed=!1,jqBodyContent.on("click.body",function(){that.headerType&&$scope.$apply(function(){that.headerType=null})})}function closeHeader(){$rootScope.$emit("headerClosed"),that.headerType=null,that.isHeaderFullyOpen=!1,jqBodyContent.unbind("click.body")}this.setLanguage=function(selection){var selectedLanguage=selection.selectedOption?selection.selectedOption:selection;selectedLanguage!==$translate.getLanguage()&&($translate.use(selectedLanguage),$cookies.put("language",selectedLanguage),$window.location.reload())},this.isTourBadgeToBeShown=function(){return that.currentUserPrefs=BulbAuthService.currentUser.prefs,!that.currentUserPrefs.onBoarding.onboardingShowMainTour&&that.currentUserPrefs.onBoarding.onboardingShowMenuTour&&that.isHeaderFullyClosed},this.hasNewActivities=function(){return BulbActivityService.activityFeed.numNewActivities>0},this.redirectToContact=function(){window.open("https://www.bulbapp.com/h/contact/","_blank")},this.openHelpBalloon=function(){that.helpBalloon=!0},this.closeHelpBalloon=function(){that.helpBalloon=!1},this.toggleHeader=function(event,headerOption){if("click"===event.type||13===event.keyCode||32===event.keyCode)if("help"!==headerOption)if(that.headerType===headerOption)closeHeader();else{openHeader(headerOption);var counterForTabset=0,watchForTabsetRenderFinish=$interval(function(){if(counterForTabset<20){counterForTabset++;var firstTab=jQuery("dl dd:first");0!==firstTab.length&&(setTimeout(function(){firstTab.focus()},500),$interval.cancel(watchForTabsetRenderFinish))}else counterForTabset>=20&&$interval.cancel(watchForTabsetRenderFinish)},100)}else{var url="es"!==this.getLanguage()?"//help.bulbapp.com":"/u/get-help-"+this.getLanguageAsString().toLowerCase();$window.open(url,"_blank"),event.stopPropagation()}},this.openHeader=function(headerOption){openHeader(headerOption)},this.openCloseDone=function(){$scope.$applyAsync(function(){that.headerType?(that.isHeaderFullyOpen=!0,$log.debug("header fully open"),"general"!==that.headerType&&"general-mobile"!==that.headerType||TourService.startMenuTour()):(that.isHeaderFullyClosed=!0,$log.debug("header fully closed"))})},this.signIn=function(event){"click"===event.type?$state.go("signIn",{targetUrl:$window.location.href}):"Enter"!==event.key&&" "!==event.key||$state.go("signIn",{targetUrl:$window.location.href,redirected:!0})},this.signUp=function(event){"click"===event.type?$state.go("signUp",{targetUrl:null}):"Enter"!==event.key&&" "!==event.key||$state.go("signUp",{targetUrl:$window.location.href,redirected:!0})},this.signOut=function(){BulbAuthService.signOut()},this.adminExitUser=function(){BulbAuthService.adminExitUser()},this.goToAssetLibrary=function(){$state.includes("assetlibrary")?closeHeader():(closeHeader(),$timeout(function(){$state.go("assetlibrary")},100))},this.goToProfile=function(){$state.includes("author",{username:BulbAuthService.currentUser.username})?(closeHeader(),that.isRestartTour&&($timeout(function(){TourService.startMainTour()},1e3),that.isRestartTour=!1)):($state.go("author",{username:BulbAuthService.currentUser.username}),TourService.startMainTour())},this.goToSettings=function(){$state.includes("settings",{username:BulbAuthService.currentUser.username})?closeHeader():$state.go("account.settings",{username:BulbAuthService.currentUser.username})},this.restartTour=function(){TourService.resetTourFlags(),that.isRestartTour=!0,that.goToProfile(),that.toggleMoreMenu()},this.toggleMoreMenu=function(){that.moreMenuOpen=!that.moreMenuOpen},this.toggleESErrorModel=function(){BulbModalService.show({templateUrl:"header.ESErrorModel.nested",titleCode:"Temporarily Disabled Search",showTitle:!0,showCancelButton:!1,showOkButton:!1,fontAwesomeCode:"fas fa-exclamation-triangle",windowClass:"updated-modal-design"})},this.getUnitType=function(){return BulbUnitService.currentUnit?BulbUnitService.currentUnit.unitType:null},this.canBuyBulbSchoolDirect=function(){return"BULBSCHOOLDIRECT"!==BulbAuthService.currentUser.billing.plan&&BulbAuthService.currentUser.bulbSchoolDirectMemberships>0&&"TEACHER"!==BulbAuthService.currentUser.type},this.canDisplayUpgrading=function(){return("FREE"===BulbAuthService.currentUser.billing.plan||"BULBFREE2018"===BulbAuthService.currentUser.billing.plan)&&-1===_.findIndex(BulbAuthService.currentUser.groupMemberships,{type:"ORGANIZATION"})&&!this.canBuyBulbSchoolDirect()},this.determineIdOfOrganization=function(){var groupMemberships=BulbAuthService.currentUser.groupMemberships;if(groupMemberships)for(var i=0;i<groupMemberships.length;i++)if(groupMemberships[i].statuses.isAdmin&&"ORGANIZATION"===groupMemberships[i].type){that.userAdminOfOrgId=groupMemberships[i].groupId;break}},that.determineIdOfOrganization(),this.createCollection=function(){$state.go("createCollection")},this.createPage=function(){BulbPageService.createPage(BulbAuthService.currentUser.authorUnitId)},$state.current.name===SEARCH.SEARCH_RESULTS_STATE&&that.openHeader("search");$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){toState.name!==SEARCH.SEARCH_RESULTS_STATE&&closeHeader()}),$rootScope.$on("$stateChangeSuccess",function(event,toState){toState.name===SEARCH.SEARCH_RESULTS_STATE&&that.openHeader("search")}),$scope.$on("resize::resize",function handleResizeAcrossMobileBreakpoint(){var isMobile=!Foundation.utils.is_large_up();void 0===handleResizeAcrossMobileBreakpoint.wasMobile?handleResizeAcrossMobileBreakpoint.wasMobile=isMobile:isMobile!==handleResizeAcrossMobileBreakpoint.wasMobile&&("search"!==that.headerType&&(TourService.isTourActive()&&TourService.hideTour(),$scope.$apply(closeHeader)),handleResizeAcrossMobileBreakpoint.wasMobile=isMobile),that.showMobileTabs=isMobile}),$window.menuTourDone=function(){that.goToProfile()}}};exports.default=_default},{}],C9JJ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CONFIG=void 0;var CONFIG=window.bulbVars.config;exports.CONFIG=CONFIG},{}],vr2J:[function(require,module,exports){var root,factory;root=window,factory=function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="localhost:8080/dist/plugin/",__webpack_require__(__webpack_require__.s="./src/plugin/microphone.js")}({"./src/plugin/microphone.js":function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var MicrophonePlugin=function(){function MicrophonePlugin(params,ws){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MicrophonePlugin),this.params=params,this.wavesurfer=ws,this.active=!1,this.paused=!1,this.browser=this.detectBrowser(),this.reloadBufferFunction=function(e){return _this.reloadBuffer(e)};void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(constraints,successCallback,errorCallback){var getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return getUserMedia?new Promise(function(successCallback,errorCallback){getUserMedia.call(navigator,constraints,successCallback,errorCallback)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),this.constraints=this.params.constraints||{video:!1,audio:!0},this.bufferSize=this.params.bufferSize||4096,this.numberOfInputChannels=this.params.numberOfInputChannels||1,this.numberOfOutputChannels=this.params.numberOfOutputChannels||1,this._onBackendCreated=function(){_this.micContext=_this.wavesurfer.backend.getAudioContext()}}return _createClass(MicrophonePlugin,null,[{key:"create",value:function(params){return{name:"microphone",deferInit:!(!params||!params.deferInit)&&params.deferInit,params:params,instance:MicrophonePlugin}}}]),_createClass(MicrophonePlugin,[{key:"init",value:function(){this.wavesurfer.on("backend-created",this._onBackendCreated),this.wavesurfer.backend&&this._onBackendCreated()}},{key:"destroy",value:function(){this.paused=!0,this.wavesurfer.un("backend-created",this._onBackendCreated),this.stop()}},{key:"start",value:function(){var _this2=this;navigator.mediaDevices.getUserMedia(this.constraints).then(function(data){return _this2.gotStream(data)}).catch(function(data){return _this2.deviceError(data)})}},{key:"togglePlay",value:function(){this.active?(this.paused=!this.paused,this.paused?this.pause():this.play()):this.start()}},{key:"play",value:function(){this.paused=!1,this.connect()}},{key:"pause",value:function(){this.paused=!0,this.disconnect()}},{key:"stop",value:function(){this.active&&(this.stopDevice(),this.wavesurfer.empty())}},{key:"stopDevice",value:function(){if(this.active=!1,this.disconnect(),this.stream){if(("chrome"===this.browser.browser&&this.browser.version>=45||"firefox"===this.browser.browser&&this.browser.version>=44||"edge"===this.browser.browser||"safari"===this.browser.browser)&&this.stream.getTracks)return void this.stream.getTracks().forEach(function(stream){return stream.stop()});this.stream.stop()}}},{key:"connect",value:function(){void 0!==this.stream&&("edge"===this.browser.browser&&(this.localAudioBuffer=this.micContext.createBuffer(this.numberOfInputChannels,this.bufferSize,this.micContext.sampleRate)),this.mediaStreamSource=this.micContext.createMediaStreamSource(this.stream),this.levelChecker=this.micContext.createScriptProcessor(this.bufferSize,this.numberOfInputChannels,this.numberOfOutputChannels),this.mediaStreamSource.connect(this.levelChecker),this.levelChecker.connect(this.micContext.destination),this.levelChecker.onaudioprocess=this.reloadBufferFunction)}},{key:"disconnect",value:function(){void 0!==this.mediaStreamSource&&this.mediaStreamSource.disconnect(),void 0!==this.levelChecker&&(this.levelChecker.disconnect(),this.levelChecker.onaudioprocess=void 0),void 0!==this.localAudioBuffer&&(this.localAudioBuffer=void 0)}},{key:"reloadBuffer",value:function(event){if(!this.paused)if(this.wavesurfer.empty(),"edge"===this.browser.browser){var channel,l;for(channel=0,l=Math.min(this.localAudioBuffer.numberOfChannels,event.inputBuffer.numberOfChannels);channel<l;channel++)this.localAudioBuffer.getChannelData(channel).set(event.inputBuffer.getChannelData(channel));this.wavesurfer.loadDecodedBuffer(this.localAudioBuffer)}else this.wavesurfer.loadDecodedBuffer(event.inputBuffer)}},{key:"gotStream",value:function(stream){this.stream=stream,this.active=!0,this.play(),this.fireEvent("deviceReady",stream)}},{key:"deviceError",value:function(code){this.fireEvent("deviceError",code)}},{key:"extractVersion",value:function(uastring,expr,pos){var match=uastring.match(expr);return match&&match.length>=pos&&parseInt(match[pos],10)}},{key:"detectBrowser",value:function(){var result={browser:null,version:null,minVersion:null};return"undefined"!=typeof window&&window.navigator?navigator.mozGetUserMedia?(result.browser="firefox",result.version=this.extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1),result.minVersion=31,result):navigator.webkitGetUserMedia?(result.browser="chrome",result.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2),result.minVersion=38,result):navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(result.browser="edge",result.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),result.minVersion=10547,result):window.RTCPeerConnection&&navigator.userAgent.match(/AppleWebKit\/(\d+)\./)?(result.browser="safari",result.minVersion=11,result.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1),result):(result.browser="Not a supported browser.",result):(result.browser="Not a supported browser.",result)}}]),MicrophonePlugin}();exports.default=MicrophonePlugin,module.exports=exports.default}})},"object"==typeof exports&&"object"==typeof module?module.exports=factory():"object"==typeof exports?exports.microphone=factory():(root.WaveSurfer=root.WaveSurfer||{},root.WaveSurfer.microphone=factory())},{}],lvDC:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchCurrentUserServiceFactory=function(fetchCurrentUser){return function(){return fetchCurrentUser.fetchUser()}},exports.restangularConfigServiceFactory=function(RestangularProvider,errorService){RestangularProvider.setBaseUrl(_config.CONFIG.context.name+"/b/rest"),RestangularProvider.setDefaultHeaders({"X-XSRF-TOKEN":_jsCookie.default.get("XSRF-TOKEN")}),RestangularProvider.addErrorInterceptor(function(response,subject,responseHandler){return errorService.interceptNgxRestangularError(response,subject,responseHandler)})},exports.resolveUrlPrefix=function(path){return _config.CONFIG.resource.cdnRoot?_config.CONFIG.resource.cdnRoot+path:"./"},exports.isRequired=function(target,prop){var ngOnInitClone=target.ngOnInit;Object.defineProperty(target,"ngOnInit",{value:function(){null==this[prop]&&console.warn(target.constructor.name+": "+prop+" is required, but was not provided"),ngOnInitClone&&ngOnInitClone.call(this)}})},exports.generateObjectId=function(){return((new Date).getTime()/1e3|0).toString(16)+"xxxxxxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)}).toLowerCase()},exports.runningOnTestEnv=function(){return!_config.CONFIG.env||"Production"!==_config.CONFIG.env.name},exports.default=void 0;var _config=require("../config"),_jsCookie=_interopRequireDefault(require("js-cookie"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var linGrad,_default={container:"#bulb-waveform",interact:!1,cursorWidth:0,plugins:[_interopRequireDefault(require("../../node_modules/wavesurfer.js/dist/plugin/wavesurfer.microphone.js")).default.create({bufferSize:4096,numberOfInputChannels:1,numberOfOutputChannels:1,constraints:{video:!1,audio:!0}})],waveColor:(linGrad=document.createElement("canvas").getContext("2d").createLinearGradient(0,64,0,200),linGrad.addColorStop(.5,"rgba(255, 255, 255, 1.000)"),linGrad.addColorStop(.5,"rgba(183, 183, 183, 1.000)"),linGrad),progressColor:"rgba(#00AEEF, 0.5)",barWidth:3};exports.default=_default},{"../config":"C9JJ","js-cookie":"PhdE","../../node_modules/wavesurfer.js/dist/plugin/wavesurfer.microphone.js":"vr2J"}],NU1B:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AngularTestingTranslations=void 0;var _core=require("@angular/core");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},urlPrefix=(0,require("../exports").resolveUrlPrefix)("app/angular-testing-translations/"),AngularTestingTranslations=function(){function AngularTestingTranslations(){this.title="Angular Translations (i18n)"}return AngularTestingTranslations=__decorate([(0,_core.Component)({moduleId:module.id,templateUrl:urlPrefix+"angular-testing-translations.component.html"})],AngularTestingTranslations)}();exports.AngularTestingTranslations=AngularTestingTranslations},{"@angular/core":"XDhY","../exports":"lvDC"}],fUHJ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(){function FamilyMember(avatarURL,_id,displayName,username){this.avatarURL=avatarURL,this._id=_id,this.displayName=displayName,this.username=username}return Object.defineProperty(FamilyMember.prototype,"getMemberDisplayName",{get:function(){return this.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(FamilyMember.prototype,"getMemberUsername",{get:function(){return this.username},enumerable:!0,configurable:!0}),Object.defineProperty(FamilyMember.prototype,"getMemberId",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(FamilyMember.prototype,"getMemberAvatarURL",{get:function(){return this.avatarURL},enumerable:!0,configurable:!0}),FamilyMember}();exports.default=_default},{}],vwRf:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.angular_packages_common_http_http_c=jsonpCallbackContext,exports.HttpXsrfTokenExtractor=exports.XhrFactory=exports.HttpXhrBackend=exports.HttpResponseBase=exports.HttpResponse=exports.HttpHeaderResponse=exports.HttpEventType=exports.HttpErrorResponse=exports.HttpRequest=exports.HttpUrlEncodingCodec=exports.HttpParams=exports.HttpInterceptingHandler=exports.HttpClientXsrfModule=exports.HttpClientModule=exports.HttpClientJsonpModule=exports.JsonpInterceptor=exports.JsonpClientBackend=exports.HTTP_INTERCEPTORS=exports.HttpHeaders=exports.HttpClient=exports.HttpHandler=exports.HttpBackend=exports.angular_packages_common_http_http_f=exports.angular_packages_common_http_http_e=exports.angular_packages_common_http_http_h=exports.angular_packages_common_http_http_g=exports.angular_packages_common_http_http_d=exports.angular_packages_common_http_http_b=exports.angular_packages_common_http_http_a=void 0;var _tslib=require("tslib"),_core=require("@angular/core"),_rxjs=require("rxjs"),_operators=require("rxjs/operators"),_common=require("@angular/common"),HttpHandler=function(){return function(){}}();exports.HttpHandler=HttpHandler;var HttpBackend=function(){return function(){}}();exports.HttpBackend=HttpBackend;var HttpHeaders=function(){function HttpHeaders(headers){var _this=this;this.normalizedNames=new Map,this.lazyUpdate=null,headers?this.lazyInit="string"==typeof headers?function(){_this.headers=new Map,headers.split("\n").forEach(function(line){var index=line.indexOf(":");if(index>0){var name_1=line.slice(0,index),key=name_1.toLowerCase(),value=line.slice(index+1).trim();_this.maybeSetNormalizedName(name_1,key),_this.headers.has(key)?_this.headers.get(key).push(value):_this.headers.set(key,[value])}})}:function(){_this.headers=new Map,Object.keys(headers).forEach(function(name){var values=headers[name],key=name.toLowerCase();"string"==typeof values&&(values=[values]),values.length>0&&(_this.headers.set(key,values),_this.maybeSetNormalizedName(name,key))})}:this.headers=new Map}return HttpHeaders.prototype.has=function(name){return this.init(),this.headers.has(name.toLowerCase())},HttpHeaders.prototype.get=function(name){this.init();var values=this.headers.get(name.toLowerCase());return values&&values.length>0?values[0]:null},HttpHeaders.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},HttpHeaders.prototype.getAll=function(name){return this.init(),this.headers.get(name.toLowerCase())||null},HttpHeaders.prototype.append=function(name,value){return this.clone({name:name,value:value,op:"a"})},HttpHeaders.prototype.set=function(name,value){return this.clone({name:name,value:value,op:"s"})},HttpHeaders.prototype.delete=function(name,value){return this.clone({name:name,value:value,op:"d"})},HttpHeaders.prototype.maybeSetNormalizedName=function(name,lcName){this.normalizedNames.has(lcName)||this.normalizedNames.set(lcName,name)},HttpHeaders.prototype.init=function(){var _this=this;this.lazyInit&&(this.lazyInit instanceof HttpHeaders?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(update){return _this.applyUpdate(update)}),this.lazyUpdate=null))},HttpHeaders.prototype.copyFrom=function(other){var _this=this;other.init(),Array.from(other.headers.keys()).forEach(function(key){_this.headers.set(key,other.headers.get(key)),_this.normalizedNames.set(key,other.normalizedNames.get(key))})},HttpHeaders.prototype.clone=function(update){var clone=new HttpHeaders;return clone.lazyInit=this.lazyInit&&this.lazyInit instanceof HttpHeaders?this.lazyInit:this,clone.lazyUpdate=(this.lazyUpdate||[]).concat([update]),clone},HttpHeaders.prototype.applyUpdate=function(update){var key=update.name.toLowerCase();switch(update.op){case"a":case"s":var value=update.value;if("string"==typeof value&&(value=[value]),0===value.length)return;this.maybeSetNormalizedName(update.name,key);var base=("a"===update.op?this.headers.get(key):void 0)||[];base.push.apply(base,(0,_tslib.__spread)(value)),this.headers.set(key,base);break;case"d":var toDelete_1=update.value;if(toDelete_1){var existing=this.headers.get(key);if(!existing)return;0===(existing=existing.filter(function(value){return-1===toDelete_1.indexOf(value)})).length?(this.headers.delete(key),this.normalizedNames.delete(key)):this.headers.set(key,existing)}else this.headers.delete(key),this.normalizedNames.delete(key)}},HttpHeaders.prototype.forEach=function(fn){var _this=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(key){return fn(_this.normalizedNames.get(key),_this.headers.get(key))})},HttpHeaders}();exports.HttpHeaders=HttpHeaders;var HttpUrlEncodingCodec=function(){function HttpUrlEncodingCodec(){}return HttpUrlEncodingCodec.prototype.encodeKey=function(key){return standardEncoding(key)},HttpUrlEncodingCodec.prototype.encodeValue=function(value){return standardEncoding(value)},HttpUrlEncodingCodec.prototype.decodeKey=function(key){return decodeURIComponent(key)},HttpUrlEncodingCodec.prototype.decodeValue=function(value){return decodeURIComponent(value)},HttpUrlEncodingCodec}();function standardEncoding(v){return encodeURIComponent(v).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}exports.HttpUrlEncodingCodec=HttpUrlEncodingCodec;var HttpParams=function(){function HttpParams(options){var rawParams,codec,map,_this=this;if(void 0===options&&(options={}),this.updates=null,this.cloneFrom=null,this.encoder=options.encoder||new HttpUrlEncodingCodec,options.fromString){if(options.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(rawParams=options.fromString,codec=this.encoder,map=new Map,rawParams.length>0&&rawParams.split("&").forEach(function(param){var eqIdx=param.indexOf("="),_a=(0,_tslib.__read)(-1==eqIdx?[codec.decodeKey(param),""]:[codec.decodeKey(param.slice(0,eqIdx)),codec.decodeValue(param.slice(eqIdx+1))],2),key=_a[0],val=_a[1],list=map.get(key)||[];list.push(val),map.set(key,list)}),map)}else options.fromObject?(this.map=new Map,Object.keys(options.fromObject).forEach(function(key){var value=options.fromObject[key];_this.map.set(key,Array.isArray(value)?value:[value])})):this.map=null}return HttpParams.prototype.has=function(param){return this.init(),this.map.has(param)},HttpParams.prototype.get=function(param){this.init();var res=this.map.get(param);return res?res[0]:null},HttpParams.prototype.getAll=function(param){return this.init(),this.map.get(param)||null},HttpParams.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},HttpParams.prototype.append=function(param,value){return this.clone({param:param,value:value,op:"a"})},HttpParams.prototype.set=function(param,value){return this.clone({param:param,value:value,op:"s"})},HttpParams.prototype.delete=function(param,value){return this.clone({param:param,value:value,op:"d"})},HttpParams.prototype.toString=function(){var _this=this;return this.init(),this.keys().map(function(key){var eKey=_this.encoder.encodeKey(key);return _this.map.get(key).map(function(value){return eKey+"="+_this.encoder.encodeValue(value)}).join("&")}).join("&")},HttpParams.prototype.clone=function(update){var clone=new HttpParams({encoder:this.encoder});return clone.cloneFrom=this.cloneFrom||this,clone.updates=(this.updates||[]).concat([update]),clone},HttpParams.prototype.init=function(){var _this=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(key){return _this.map.set(key,_this.cloneFrom.map.get(key))}),this.updates.forEach(function(update){switch(update.op){case"a":case"s":var base=("a"===update.op?_this.map.get(update.param):void 0)||[];base.push(update.value),_this.map.set(update.param,base);break;case"d":if(void 0===update.value){_this.map.delete(update.param);break}var base_1=_this.map.get(update.param)||[],idx=base_1.indexOf(update.value);-1!==idx&&base_1.splice(idx,1),base_1.length>0?_this.map.set(update.param,base_1):_this.map.delete(update.param)}}),this.cloneFrom=this.updates=null)},HttpParams}();function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer}function isBlob(value){return"undefined"!=typeof Blob&&value instanceof Blob}function isFormData(value){return"undefined"!=typeof FormData&&value instanceof FormData}exports.HttpParams=HttpParams;var HttpEventType,HttpRequest=function(){function HttpRequest(method,url,third,fourth){var options;if(this.url=url,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=method.toUpperCase(),function(method){switch(method){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||fourth?(this.body=void 0!==third?third:null,options=fourth):options=third,options&&(this.reportProgress=!!options.reportProgress,this.withCredentials=!!options.withCredentials,options.responseType&&(this.responseType=options.responseType),options.headers&&(this.headers=options.headers),options.params&&(this.params=options.params)),this.headers||(this.headers=new HttpHeaders),this.params){var params=this.params.toString();if(0===params.length)this.urlWithParams=url;else{var qIdx=url.indexOf("?"),sep=-1===qIdx?"?":qIdx<url.length-1?"&":"";this.urlWithParams=url+sep+params}}else this.params=new HttpParams,this.urlWithParams=url}return HttpRequest.prototype.serializeBody=function(){return null===this.body?null:isArrayBuffer(this.body)||isBlob(this.body)||isFormData(this.body)||"string"==typeof this.body?this.body:this.body instanceof HttpParams?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},HttpRequest.prototype.detectContentTypeHeader=function(){return null===this.body?null:isFormData(this.body)?null:isBlob(this.body)?this.body.type||null:isArrayBuffer(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof HttpParams?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},HttpRequest.prototype.clone=function(update){void 0===update&&(update={});var method=update.method||this.method,url=update.url||this.url,responseType=update.responseType||this.responseType,body=void 0!==update.body?update.body:this.body,withCredentials=void 0!==update.withCredentials?update.withCredentials:this.withCredentials,reportProgress=void 0!==update.reportProgress?update.reportProgress:this.reportProgress,headers=update.headers||this.headers,params=update.params||this.params;return void 0!==update.setHeaders&&(headers=Object.keys(update.setHeaders).reduce(function(headers,name){return headers.set(name,update.setHeaders[name])},headers)),update.setParams&&(params=Object.keys(update.setParams).reduce(function(params,param){return params.set(param,update.setParams[param])},params)),new HttpRequest(method,url,body,{params:params,headers:headers,reportProgress:reportProgress,responseType:responseType,withCredentials:withCredentials})},HttpRequest}();exports.HttpRequest=HttpRequest,exports.HttpEventType=HttpEventType,function(HttpEventType){HttpEventType[HttpEventType.Sent=0]="Sent",HttpEventType[HttpEventType.UploadProgress=1]="UploadProgress",HttpEventType[HttpEventType.ResponseHeader=2]="ResponseHeader",HttpEventType[HttpEventType.DownloadProgress=3]="DownloadProgress",HttpEventType[HttpEventType.Response=4]="Response",HttpEventType[HttpEventType.User=5]="User"}(HttpEventType||(exports.HttpEventType=HttpEventType={}));var HttpResponseBase=function(){return function(init,defaultStatus,defaultStatusText){void 0===defaultStatus&&(defaultStatus=200),void 0===defaultStatusText&&(defaultStatusText="OK"),this.headers=init.headers||new HttpHeaders,this.status=void 0!==init.status?init.status:defaultStatus,this.statusText=init.statusText||defaultStatusText,this.url=init.url||null,this.ok=this.status>=200&&this.status<300}}();exports.HttpResponseBase=HttpResponseBase;var HttpHeaderResponse=function(_super){function HttpHeaderResponse(init){void 0===init&&(init={});var _this=_super.call(this,init)||this;return _this.type=HttpEventType.ResponseHeader,_this}return(0,_tslib.__extends)(HttpHeaderResponse,_super),HttpHeaderResponse.prototype.clone=function(update){return void 0===update&&(update={}),new HttpHeaderResponse({headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})},HttpHeaderResponse}(HttpResponseBase);exports.HttpHeaderResponse=HttpHeaderResponse;var HttpResponse=function(_super){function HttpResponse(init){void 0===init&&(init={});var _this=_super.call(this,init)||this;return _this.type=HttpEventType.Response,_this.body=void 0!==init.body?init.body:null,_this}return(0,_tslib.__extends)(HttpResponse,_super),HttpResponse.prototype.clone=function(update){return void 0===update&&(update={}),new HttpResponse({body:void 0!==update.body?update.body:this.body,headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})},HttpResponse}(HttpResponseBase);exports.HttpResponse=HttpResponse;var HttpErrorResponse=function(_super){function HttpErrorResponse(init){var _this=_super.call(this,init,0,"Unknown Error")||this;return _this.name="HttpErrorResponse",_this.ok=!1,_this.status>=200&&_this.status<300?_this.message="Http failure during parsing for "+(init.url||"(unknown url)"):_this.message="Http failure response for "+(init.url||"(unknown url)")+": "+init.status+" "+init.statusText,_this.error=init.error||null,_this}return(0,_tslib.__extends)(HttpErrorResponse,_super),HttpErrorResponse}(HttpResponseBase);function addBody(options,body){return{body:body,headers:options.headers,observe:options.observe,params:options.params,reportProgress:options.reportProgress,responseType:options.responseType,withCredentials:options.withCredentials}}exports.HttpErrorResponse=HttpErrorResponse;var HttpClient=function(){function HttpClient(handler){this.handler=handler}return HttpClient.prototype.request=function(first,url,options){var req,_this=this;if(void 0===options&&(options={}),first instanceof HttpRequest)req=first;else{var headers=void 0;headers=options.headers instanceof HttpHeaders?options.headers:new HttpHeaders(options.headers);var params=void 0;options.params&&(params=options.params instanceof HttpParams?options.params:new HttpParams({fromObject:options.params})),req=new HttpRequest(first,url,void 0!==options.body?options.body:null,{headers:headers,params:params,reportProgress:options.reportProgress,responseType:options.responseType||"json",withCredentials:options.withCredentials})}var events$=(0,_rxjs.of)(req).pipe((0,_operators.concatMap)(function(req){return _this.handler.handle(req)}));if(first instanceof HttpRequest||"events"===options.observe)return events$;var res$=events$.pipe((0,_operators.filter)(function(event){return event instanceof HttpResponse}));switch(options.observe||"body"){case"body":switch(req.responseType){case"arraybuffer":return res$.pipe((0,_operators.map)(function(res){if(null!==res.body&&!(res.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return res.body}));case"blob":return res$.pipe((0,_operators.map)(function(res){if(null!==res.body&&!(res.body instanceof Blob))throw new Error("Response is not a Blob.");return res.body}));case"text":return res$.pipe((0,_operators.map)(function(res){if(null!==res.body&&"string"!=typeof res.body)throw new Error("Response is not a string.");return res.body}));case"json":default:return res$.pipe((0,_operators.map)(function(res){return res.body}))}case"response":return res$;default:throw new Error("Unreachable: unhandled observe type "+options.observe+"}")}},HttpClient.prototype.delete=function(url,options){return void 0===options&&(options={}),this.request("DELETE",url,options)},HttpClient.prototype.get=function(url,options){return void 0===options&&(options={}),this.request("GET",url,options)},HttpClient.prototype.head=function(url,options){return void 0===options&&(options={}),this.request("HEAD",url,options)},HttpClient.prototype.jsonp=function(url,callbackParam){return this.request("JSONP",url,{params:(new HttpParams).append(callbackParam,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},HttpClient.prototype.options=function(url,options){return void 0===options&&(options={}),this.request("OPTIONS",url,options)},HttpClient.prototype.patch=function(url,body,options){return void 0===options&&(options={}),this.request("PATCH",url,addBody(options,body))},HttpClient.prototype.post=function(url,body,options){return void 0===options&&(options={}),this.request("POST",url,addBody(options,body))},HttpClient.prototype.put=function(url,body,options){return void 0===options&&(options={}),this.request("PUT",url,addBody(options,body))},HttpClient=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__metadata)("design:paramtypes",[HttpHandler])],HttpClient)}();exports.HttpClient=HttpClient;var HttpInterceptorHandler=function(){function HttpInterceptorHandler(next,interceptor){this.next=next,this.interceptor=interceptor}return HttpInterceptorHandler.prototype.handle=function(req){return this.interceptor.intercept(req,this.next)},HttpInterceptorHandler}(),HTTP_INTERCEPTORS=new _core.InjectionToken("HTTP_INTERCEPTORS");exports.HTTP_INTERCEPTORS=HTTP_INTERCEPTORS;var NoopInterceptor=function(){function NoopInterceptor(){}return NoopInterceptor.prototype.intercept=function(req,next){return next.handle(req)},NoopInterceptor=(0,_tslib.__decorate)([(0,_core.Injectable)()],NoopInterceptor)}();exports.angular_packages_common_http_http_a=NoopInterceptor;var nextRequestId=0,JsonpCallbackContext=function(){return function(){}}();exports.angular_packages_common_http_http_b=JsonpCallbackContext;var JsonpClientBackend=function(){function JsonpClientBackend(callbackMap,document){this.callbackMap=callbackMap,this.document=document}return JsonpClientBackend.prototype.nextCallback=function(){return"ng_jsonp_callback_"+nextRequestId++},JsonpClientBackend.prototype.handle=function(req){var _this=this;if("JSONP"!==req.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==req.responseType)throw new Error("JSONP requests must use Json response type.");return new _rxjs.Observable(function(observer){var callback=_this.nextCallback(),url=req.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,"="+callback+"$1"),node=_this.document.createElement("script");node.src=url;var body=null,finished=!1,cancelled=!1;_this.callbackMap[callback]=function(data){delete _this.callbackMap[callback],cancelled||(body=data,finished=!0)};var cleanup=function(){node.parentNode&&node.parentNode.removeChild(node),delete _this.callbackMap[callback]},onLoad=function(event){cancelled||(cleanup(),finished?(observer.next(new HttpResponse({body:body,status:200,statusText:"OK",url:url})),observer.complete()):observer.error(new HttpErrorResponse({url:url,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},onError=function(error){cancelled||(cleanup(),observer.error(new HttpErrorResponse({error:error,status:0,statusText:"JSONP Error",url:url})))};return node.addEventListener("load",onLoad),node.addEventListener("error",onError),_this.document.body.appendChild(node),observer.next({type:HttpEventType.Sent}),function(){cancelled=!0,node.removeEventListener("load",onLoad),node.removeEventListener("error",onError),cleanup()}})},JsonpClientBackend=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(1,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__metadata)("design:paramtypes",[JsonpCallbackContext,Object])],JsonpClientBackend)}();exports.JsonpClientBackend=JsonpClientBackend;var JsonpInterceptor=function(){function JsonpInterceptor(jsonp){this.jsonp=jsonp}return JsonpInterceptor.prototype.intercept=function(req,next){return"JSONP"===req.method?this.jsonp.handle(req):next.handle(req)},JsonpInterceptor=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__metadata)("design:paramtypes",[JsonpClientBackend])],JsonpInterceptor)}();exports.JsonpInterceptor=JsonpInterceptor;var XSSI_PREFIX=/^\)\]\}',?\n/;var XhrFactory=function(){return function(){}}();exports.XhrFactory=XhrFactory;var BrowserXhr=function(){function BrowserXhr(){}return BrowserXhr.prototype.build=function(){return new XMLHttpRequest},BrowserXhr=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__metadata)("design:paramtypes",[])],BrowserXhr)}();exports.angular_packages_common_http_http_d=BrowserXhr;var HttpXhrBackend=function(){function HttpXhrBackend(xhrFactory){this.xhrFactory=xhrFactory}return HttpXhrBackend.prototype.handle=function(req){var _this=this;if("JSONP"===req.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _rxjs.Observable(function(observer){var xhr=_this.xhrFactory.build();if(xhr.open(req.method,req.urlWithParams),req.withCredentials&&(xhr.withCredentials=!0),req.headers.forEach(function(name,values){return xhr.setRequestHeader(name,values.join(","))}),req.headers.has("Accept")||xhr.setRequestHeader("Accept","application/json, text/plain, */*"),!req.headers.has("Content-Type")){var detectedType=req.detectContentTypeHeader();null!==detectedType&&xhr.setRequestHeader("Content-Type",detectedType)}if(req.responseType){var responseType=req.responseType.toLowerCase();xhr.responseType="json"!==responseType?responseType:"text"}var reqBody=req.serializeBody(),headerResponse=null,partialFromXhr=function(){if(null!==headerResponse)return headerResponse;var status=1223===xhr.status?204:xhr.status,statusText=xhr.statusText||"OK",headers=new HttpHeaders(xhr.getAllResponseHeaders()),url=function(xhr){return"responseURL"in xhr&&xhr.responseURL?xhr.responseURL:/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())?xhr.getResponseHeader("X-Request-URL"):null}(xhr)||req.url;return headerResponse=new HttpHeaderResponse({headers:headers,status:status,statusText:statusText,url:url})},onLoad=function(){var _a=partialFromXhr(),headers=_a.headers,status=_a.status,statusText=_a.statusText,url=_a.url,body=null;204!==status&&(body=void 0===xhr.response?xhr.responseText:xhr.response),0===status&&(status=body?200:0);var ok=status>=200&&status<300;if("json"===req.responseType&&"string"==typeof body){var originalBody=body;body=body.replace(XSSI_PREFIX,"");try{body=""!==body?JSON.parse(body):null}catch(error){body=originalBody,ok&&(ok=!1,body={error:error,text:body})}}ok?(observer.next(new HttpResponse({body:body,headers:headers,status:status,statusText:statusText,url:url||void 0})),observer.complete()):observer.error(new HttpErrorResponse({error:body,headers:headers,status:status,statusText:statusText,url:url||void 0}))},onError=function(error){var url=partialFromXhr().url,res=new HttpErrorResponse({error:error,status:xhr.status||0,statusText:xhr.statusText||"Unknown Error",url:url||void 0});observer.error(res)},sentHeaders=!1,onDownProgress=function(event){sentHeaders||(observer.next(partialFromXhr()),sentHeaders=!0);var progressEvent={type:HttpEventType.DownloadProgress,loaded:event.loaded};event.lengthComputable&&(progressEvent.total=event.total),"text"===req.responseType&&xhr.responseText&&(progressEvent.partialText=xhr.responseText),observer.next(progressEvent)},onUpProgress=function(event){var progress={type:HttpEventType.UploadProgress,loaded:event.loaded};event.lengthComputable&&(progress.total=event.total),observer.next(progress)};return xhr.addEventListener("load",onLoad),xhr.addEventListener("error",onError),req.reportProgress&&(xhr.addEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.addEventListener("progress",onUpProgress)),xhr.send(reqBody),observer.next({type:HttpEventType.Sent}),function(){xhr.removeEventListener("error",onError),xhr.removeEventListener("load",onLoad),req.reportProgress&&(xhr.removeEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.removeEventListener("progress",onUpProgress)),xhr.abort()}})},HttpXhrBackend=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__metadata)("design:paramtypes",[XhrFactory])],HttpXhrBackend)}();exports.HttpXhrBackend=HttpXhrBackend;var XSRF_COOKIE_NAME=new _core.InjectionToken("XSRF_COOKIE_NAME");exports.angular_packages_common_http_http_e=XSRF_COOKIE_NAME;var XSRF_HEADER_NAME=new _core.InjectionToken("XSRF_HEADER_NAME");exports.angular_packages_common_http_http_f=XSRF_HEADER_NAME;var HttpXsrfTokenExtractor=function(){return function(){}}();exports.HttpXsrfTokenExtractor=HttpXsrfTokenExtractor;var HttpXsrfCookieExtractor=function(){function HttpXsrfCookieExtractor(doc,platform,cookieName){this.doc=doc,this.platform=platform,this.cookieName=cookieName,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return HttpXsrfCookieExtractor.prototype.getToken=function(){if("server"===this.platform)return null;var cookieString=this.doc.cookie||"";return cookieString!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_common.parseCookieValue)(cookieString,this.cookieName),this.lastCookieString=cookieString),this.lastToken},HttpXsrfCookieExtractor=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__param)(1,(0,_core.Inject)(_core.PLATFORM_ID)),(0,_tslib.__param)(2,(0,_core.Inject)(XSRF_COOKIE_NAME)),(0,_tslib.__metadata)("design:paramtypes",[Object,String,String])],HttpXsrfCookieExtractor)}();exports.angular_packages_common_http_http_g=HttpXsrfCookieExtractor;var HttpXsrfInterceptor=function(){function HttpXsrfInterceptor(tokenService,headerName){this.tokenService=tokenService,this.headerName=headerName}return HttpXsrfInterceptor.prototype.intercept=function(req,next){var lcUrl=req.url.toLowerCase();if("GET"===req.method||"HEAD"===req.method||lcUrl.startsWith("http://")||lcUrl.startsWith("https://"))return next.handle(req);var token=this.tokenService.getToken();return null===token||req.headers.has(this.headerName)||(req=req.clone({headers:req.headers.set(this.headerName,token)})),next.handle(req)},HttpXsrfInterceptor=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(1,(0,_core.Inject)(XSRF_HEADER_NAME)),(0,_tslib.__metadata)("design:paramtypes",[HttpXsrfTokenExtractor,String])],HttpXsrfInterceptor)}();exports.angular_packages_common_http_http_h=HttpXsrfInterceptor;var HttpInterceptingHandler=function(){function HttpInterceptingHandler(backend,injector){this.backend=backend,this.injector=injector,this.chain=null}return HttpInterceptingHandler.prototype.handle=function(req){if(null===this.chain){var interceptors=this.injector.get(HTTP_INTERCEPTORS,[]);this.chain=interceptors.reduceRight(function(next,interceptor){return new HttpInterceptorHandler(next,interceptor)},this.backend)}return this.chain.handle(req)},HttpInterceptingHandler=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__metadata)("design:paramtypes",[HttpBackend,_core.Injector])],HttpInterceptingHandler)}();function jsonpCallbackContext(){return"object"==typeof window?window:{}}exports.HttpInterceptingHandler=HttpInterceptingHandler;var HttpClientXsrfModule=function(){function HttpClientXsrfModule(){}var HttpClientXsrfModule_1;return HttpClientXsrfModule_1=HttpClientXsrfModule,HttpClientXsrfModule.disable=function(){return{ngModule:HttpClientXsrfModule_1,providers:[{provide:HttpXsrfInterceptor,useClass:NoopInterceptor}]}},HttpClientXsrfModule.withOptions=function(options){return void 0===options&&(options={}),{ngModule:HttpClientXsrfModule_1,providers:[options.cookieName?{provide:XSRF_COOKIE_NAME,useValue:options.cookieName}:[],options.headerName?{provide:XSRF_HEADER_NAME,useValue:options.headerName}:[]]}},HttpClientXsrfModule=HttpClientXsrfModule_1=(0,_tslib.__decorate)([(0,_core.NgModule)({providers:[HttpXsrfInterceptor,{provide:HTTP_INTERCEPTORS,useExisting:HttpXsrfInterceptor,multi:!0},{provide:HttpXsrfTokenExtractor,useClass:HttpXsrfCookieExtractor},{provide:XSRF_COOKIE_NAME,useValue:"XSRF-TOKEN"},{provide:XSRF_HEADER_NAME,useValue:"X-XSRF-TOKEN"}]})],HttpClientXsrfModule)}();exports.HttpClientXsrfModule=HttpClientXsrfModule;var HttpClientModule=function(){function HttpClientModule(){}return HttpClientModule=(0,_tslib.__decorate)([(0,_core.NgModule)({imports:[HttpClientXsrfModule.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[HttpClient,{provide:HttpHandler,useClass:HttpInterceptingHandler},HttpXhrBackend,{provide:HttpBackend,useExisting:HttpXhrBackend},BrowserXhr,{provide:XhrFactory,useExisting:BrowserXhr}]})],HttpClientModule)}();exports.HttpClientModule=HttpClientModule;var HttpClientJsonpModule=function(){function HttpClientJsonpModule(){}return HttpClientJsonpModule=(0,_tslib.__decorate)([(0,_core.NgModule)({providers:[JsonpClientBackend,{provide:JsonpCallbackContext,useFactory:jsonpCallbackContext},{provide:HTTP_INTERCEPTORS,useClass:JsonpInterceptor,multi:!0}]})],HttpClientJsonpModule)}();exports.HttpClientJsonpModule=HttpClientJsonpModule},{tslib:"vCxL","@angular/core":"XDhY",rxjs:"iRqj","rxjs/operators":"cVrl","@angular/common":"AomE"}],JNHf:[function(require,module,exports){var global=arguments[3];(function(){var undefined,upper,lower,VERSION="3.10.1",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LARGE_ARRAY_SIZE=200,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reRegExpChars=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,reHasRegExpChars=RegExp(reRegExpChars.source),reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0[xX]/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^\d+$/,reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,reWords=(upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(upper+"+(?="+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")),contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],shadowProps=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags["[object Map]"]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags["[object Set]"]=typedArrayTags[stringTag]=typedArrayTags["[object WeakMap]"]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags["[object Map]"]=cloneableTags["[object Set]"]=cloneableTags["[object WeakMap]"]=!1;var deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},objectTypes={function:!0,object:!0},regexpEscapes={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this;function baseCompareAscending(value,other){if(value!==other){var valIsNull=null===value,valIsUndef=value===undefined,valIsReflexive=value==value,othIsNull=null===other,othIsUndef=other===undefined,othIsReflexive=other==other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive)return 1;if(value<other&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive)return-1}return 0}function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!=value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return null==value?"":value+""}function charsLeftIndex(string,chars){for(var index=-1,length=string.length;++index<length&&chars.indexOf(string.charAt(index))>-1;);return index}function charsRightIndex(string,chars){for(var index=string.length;index--&&chars.indexOf(string.charAt(index))>-1;);return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeRegExpChar(chr,leadingChar,whitespaceChar){return leadingChar?chr=regexpEscapes[chr]:whitespaceChar&&(chr=stringEscapes[chr]),"\\"+chr}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!=other)return index}return-1}var isHostObject=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(value){return"function"!=typeof value.toString&&"string"==typeof(value+"")}}();function isObjectLike(value){return!!value&&"object"==typeof value}function isSpace(charCode){return charCode<=160&&charCode>=9&&charCode<=13||32==charCode||160==charCode||5760==charCode||6158==charCode||charCode>=8192&&(charCode<=8202||8232==charCode||8233==charCode||8239==charCode||8287==charCode||12288==charCode||65279==charCode)}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;)array[index]===placeholder&&(array[index]=PLACEHOLDER,result[++resIndex]=index);return result}function trimmedLeftIndex(string){for(var index=-1,length=string.length;++index<length&&isSpace(string.charCodeAt(index)););return index}function trimmedRightIndex(string){for(var index=string.length;index--&&isSpace(string.charCodeAt(index)););return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}var _=function runInContext(context){var Array=(context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root).Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,errorProto=Error.prototype,objectProto=Object.prototype,stringProto=String.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objToString=objectProto.toString,oldDash=root._,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ArrayBuffer=context.ArrayBuffer,clearTimeout=context.clearTimeout,parseFloat=context.parseFloat,pow=Math.pow,propertyIsEnumerable=objectProto.propertyIsEnumerable,Set=getNative(context,"Set"),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=context.Uint8Array,WeakMap=getNative(context,"WeakMap"),nativeCeil=Math.ceil,nativeCreate=getNative(Object,"create"),nativeFloor=Math.floor,nativeIsArray=getNative(Array,"isArray"),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,"keys"),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,"now"),nativeParseInt=context.parseInt,nativeRandom=Math.random,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,MAX_SAFE_INTEGER=9007199254740991,metaMap=WeakMap&&new WeakMap,realNames={},ctorByTag={};ctorByTag[float32Tag]=context.Float32Array,ctorByTag[float64Tag]=context.Float64Array,ctorByTag[int8Tag]=context.Int8Array,ctorByTag[int16Tag]=context.Int16Array,ctorByTag[int32Tag]=context.Int32Array,ctorByTag[uint8Tag]=Uint8Array,ctorByTag[uint8ClampedTag]=context.Uint8ClampedArray,ctorByTag[uint16Tag]=context.Uint16Array,ctorByTag[uint32Tag]=context.Uint32Array;var nonEnumProps={};function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value,this.__actions__=actions||[],this.__chain__=!!chainAll}nonEnumProps[arrayTag]=nonEnumProps[dateTag]=nonEnumProps[numberTag]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},nonEnumProps[boolTag]=nonEnumProps[stringTag]={constructor:!0,toString:!0,valueOf:!0},nonEnumProps[errorTag]=nonEnumProps[funcTag]=nonEnumProps[regexpTag]={constructor:!0,toString:!0},nonEnumProps[objectTag]={constructor:!0},arrayEach(shadowProps,function(key){for(var tag in nonEnumProps)if(hasOwnProperty.call(nonEnumProps,tag)){var props=nonEnumProps[tag];props[key]=hasOwnProperty.call(props,key)}});var support=lodash.support={};function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=POSITIVE_INFINITY,this.__views__=[]}function MapCache(){this.__data__={}}function SetCache(values){var length=values?values.length:0;for(this.data={hash:nativeCreate(null),set:new Set};length--;)this.push(values[length])}function cacheIndexOf(cache,value){var data=cache.data;return("string"==typeof value||isObject(value)?data.set.has(value):data.hash[value])?0:-1}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;for(initFromArray&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue!==undefined&&hasOwnProperty.call(object,key)?objectValue:sourceValue}function assignWith(object,source,customizer){for(var index=-1,props=keys(source),length=props.length;++index<length;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result==result?result===value:value!=value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseAssign(object,source){return null==source?object:baseCopy(source,keys(source),object)}function baseAt(collection,props){for(var index=-1,isNil=null==collection,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);++index<propsLength;){var key=props[index];result[index]=isArr?isIndex(key,length)?collection[key]:undefined:isNil?undefined:collection[key]}return result}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:Ctor instanceof Ctor&&(Ctor=ctorByTag[tag]);var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}(value,tag,isDeep):object?value:{};if(isHostObject(value))return object?value:{};if(result=function(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}!function(x){var Ctor=function(){this.x=1},object={0:1,length:1},props=[];for(var key in Ctor.prototype={valueOf:1,y:1},new Ctor)props.push(key);support.enumErrorProps=propertyIsEnumerable.call(errorProto,"message")||propertyIsEnumerable.call(errorProto,"name"),support.enumPrototypes=propertyIsEnumerable.call(Ctor,"prototype"),support.nonEnumShadows=!/valueOf/.test(props),support.ownLast="x"!=props[0],support.spliceObjects=(splice.call(object,0,1),!object[0]),support.unindexedChars="x"[0]+Object("x")[0]!="xx"}(),lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=undefined}return result||{}}}();function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length)return result;var index=-1,indexOf=getIndexOf(),isCommon=indexOf===baseIndexOf,cache=isCommon&&values.length>=LARGE_ARRAY_SIZE?createCache(values):null,valuesLength=values.length;cache&&(indexOf=cacheIndexOf,isCommon=!1,values=cache);outer:for(;++index<length;){var value=array[index];if(isCommon&&value==value){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===value)continue outer;result.push(value)}else indexOf(values,value,0)<0&&result.push(value)}return result}var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=retKey?key:value,!1}),result}function baseFlatten(array,isDeep,isStrict,result){result||(result=[]);for(var index=-1,length=array.length;++index<length;){var value=array[index];isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))?isDeep?baseFlatten(value,isDeep,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys)}function baseFunctions(object,props){for(var index=-1,length=props.length,resIndex=-1,result=[];++index<length;){var key=props[index];isFunction(object[key])&&(result[++resIndex]=key)}return result}function baseGet(object,path,pathKey){if(null!=object){object=toObject(object),pathKey!==undefined&&pathKey in object&&(path=[pathKey]);for(var index=0,length=path.length;null!=object&&index<length;)object=toObject(object)[path[index++]];return index&&index==length?object:undefined}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!=value&&other!=other:function(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||((objTag=objToString.call(object))==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||((othTag=objToString.call(other))==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return function(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?function(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;++index<arrLength;){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result)continue;return!1}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return!1}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))return!1}return!0}:function(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othLength=keys(other).length;if(objLength!=othLength&&!isLoose)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return!1}for(var skipCtor=isLoose;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0})(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}(value,other,baseIsEqual,customizer,isLoose,stackA,stackB))}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=toObject(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,!0):result))return!1}}return!0}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null!=object&&(object=toObject(object))[key]===value&&(value!==undefined||key in object)}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),(isArr||!isCommon)&&!(key in object)){if(null==(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1))))return!1;key=last(path),object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,!0)}}function baseProperty(key){return function(object){return null==object?undefined:toObject(object)[key]}}function basePullAt(array,indexes){for(var length=array?indexes.length:0;length--;){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+nativeFloor(nativeRandom()*(max-min+1))}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity;function baseSlice(array,start,end){var index=-1,length=array.length;(start=null==start?0:+start||0)<0&&(start=-start>length?0:length+start),(end=end===undefined||end>length?length:+end||0)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return!(result=predicate(value,index,collection))}),!!result}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;return iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee)}),baseSortBy(baseMap(collection,function(value){return{criteria:arrayMap(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}}),function(object,other){return function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("asc"===order||!0===order?1:-1)}}return object.index-other.index}(object,other,orders)})}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf===baseIndexOf,isLarge=isCommon&&length>=LARGE_ARRAY_SIZE,seen=isLarge?createCache():null,result=[];seen?(indexOf=cacheIndexOf,isCommon=!1):(isLarge=!1,seen=iteratee?[]:result);outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value==value){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else indexOf(seen,computed,0)<0&&((iteratee||isLarge)&&seen.push(computed),result.push(value))}return result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;result instanceof LazyWrapper&&(result=result.value());for(var index=-1,length=actions.length;++index<length;){var action=actions[index];result=action.func.apply(action.thisArg,arrayPush([result],action.args))}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value==value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];(retHighest?computed<=value:computed<value)&&null!==computed?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!=value,valIsNull=null===value,valIsUndef=value===undefined;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed==computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsNull?isReflexive&&isDef&&(retHighest||null!=computed):valIsUndef?isReflexive&&(retHighest||isDef):null!=computed&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){var result=new ArrayBuffer(buffer.byteLength);return new Uint8Array(result).set(new Uint8Array(buffer)),result}function composeArgs(args,partials,holders){for(var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(leftLength+argsLength);++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)result[holders[argsIndex]]=args[argsIndex];for(;argsLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders){for(var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);++argsIndex<argsLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};if(iteratee=getCallback(iteratee,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}else baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)});return result}}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):length-=(customizer="function"==typeof thisArg?thisArg:undefined)?1:0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1);++index<length;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createCache(values){return nativeCreate&&Set?new SetCache(values):null}function createCompounder(callback){return function(string){for(var index=-1,array=words(deburr(string)),length=array.length,result="";++index<length;)result=callback(result,array[index],index);return result}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(flag){return function curryFunc(func,arity,guard){guard&&isIterateeCall(func,arity,guard)&&(arity=undefined);var result=createWrapper(func,flag,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curryFunc.placeholder,result}}function createDefaults(assigner,customizer){return restParam(function(args){var object=args[0];return null==object?object:(args.push(customizer),assigner.apply(undefined,args))})}function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined),1==(iteratee=getCallback(iteratee,thisArg,3)).length){var result=function(array,iteratee,comparator,exValue){for(var index=-1,length=array.length,computed=exValue,result=computed;++index<length;){var value=array[index],current=+iteratee(value);comparator(current,computed)&&(computed=current,result=value)}return result}(collection=isArray(collection)?collection:toIterable(collection),iteratee,comparator,exValue);if(!collection.length||result!==exValue)return result}return function(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;return baseEach(collection,function(value,index,collection){var current=+iteratee(value,index,collection);(comparator(current,computed)||current===exValue&&current===result)&&(computed=current,result=value)}),result}(collection,iteratee,comparator,exValue)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){if(predicate=getCallback(predicate,thisArg,3),isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?baseFindIndex(array,predicate=getCallback(predicate,thisArg,3),fromRight):-1}}function createFindKey(objectFunc){return function(object,predicate,thisArg){return baseFind(object,predicate=getCallback(predicate,thisArg,3),objectFunc,!0)}}function createFlow(fromRight){return function(){for(var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);fromRight?index--:++index<length;){var func=funcs[leftIndex++]=arguments[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);!wrapper&&LodashWrapper.prototype.thru&&"wrapper"==getFuncName(func)&&(wrapper=new LodashWrapper([],!0))}for(index=wrapper?-1:length;++index<length;){var funcName=getFuncName(func=funcs[index]),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE)return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function createForIn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee)}}function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};return iteratee=getCallback(iteratee,thisArg,3),baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key,value=isMapKeys?value:mapped,result[key]=value}),result}}function createPadDir(fromRight){return function(string,length,chars){return string=baseToString(string),(fromRight?string:"")+createPadding(string,length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,undefined,partials,holders)});return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,initFromArray):function(collection,iteratee,accumulator,initFromCollection,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);return function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(partials&&(args=composeArgs(args,partials,holders)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight)),isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);if((length-=argsHolders.length)<arity){var newArgPos=argPos?arrayCopy(argPos):undefined,newArity=nativeMax(arity-length,0);bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),isCurryBound||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,isCurry?args:undefined,isCurry?argsHolders:undefined,isCurry?undefined:args,isCurry?undefined:argsHolders,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return argPos&&(args=function(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}(args,argPos)),isAry&&ary<args.length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtorWrapper(func)),fn.apply(thisBinding,args)}}function createPadding(string,length,chars){var strLength=string.length;if(strLength>=(length=+length)||!nativeIsFinite(length))return"";var padLength=length-strLength;return repeat(chars=null==chars?" ":chars+"",nativeCeil(padLength/chars.length)).slice(0,padLength)}function createRound(methodName){var func=Math[methodName];return function(number,precision){return(precision=precision===undefined?0:+precision||0)?(precision=pow(10,precision),func(number*precision)/precision):func(number)}}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return null==iteratee&&callback===baseCallback?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=undefined),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&(function(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<ARY_FLAG,isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}(value=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6])),(value=source[7])&&(data[7]=arrayCopy(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask}(newData,data),bitmask=newData[1],arity=newData[9]),newData[9]=null==arity?isBindKey?0:func.length:nativeMax(arity-length,0)||0,bitmask==BIND_FLAG)var result=function(func,thisArg){var Ctor=createCtorWrapper(func);return function wrapper(){return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(thisArg,arguments)}}(newData[0],newData[2]);else result=bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||newData[4].length?createHybridWrapper.apply(undefined,newData):function(func,bitmask,thisArg,partials){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength);++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(isBind?thisArg:this,args)}}.apply(undefined,newData);return(data?baseSetData:setData)(result,newData)}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}var getData=metaMap?function(func){return metaMap.get(func)}:noop;function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=array?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}var getLength=baseProperty("length");function getMatchData(object){for(var result=pairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}function getNative(object,key){var value=null==object?undefined:object[key];return isNative(value)?value:undefined}function invokePath(object,path,args){null==object||isKey(path,object)||(object=1==(path=toPath(path)).length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path));var func=null==object?object:object[path];return null==func?undefined:func.apply(object,args)}function isArrayLike(value){return null!=value&&isLength(getLength(value))}function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object){var other=object[index];return value==value?value===other:other!=other}return!1}function isKey(value,object){var type=typeof value;return!!("string"==type&&reIsPlainProp.test(value)||"number"==type)||!isArray(value)&&(!reIsDeepProp.test(value)||null!=object&&value in toObject(object))}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isStrictComparable(value){return value==value&&!isObject(value)}function pickByArray(object,props){object=toObject(object);for(var index=-1,length=props.length,result={};++index<length;){var key=props[index];key in object&&(result[key]=object[key])}return result}function pickByCallback(object,predicate){var result={};return baseForIn(object,function(value,key,object){predicate(value,key,object)&&(result[key]=value)}),result}var count,lastCalled,setData=(count=0,lastCalled=0,function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)});function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)||isString(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toIterable(value){return null==value?[]:isArrayLike(value)?lodash.support.unindexedChars&&isString(value)?value.split(""):isObject(value)?value:Object(value):values(value)}function toObject(value){if(lodash.support.unindexedChars&&isString(value)){for(var index=-1,length=value.length,result=Object(value);++index<length;)result[index]=value.charAt(index);return result}return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}var difference=restParam(function(array,values){return isObjectLike(array)&&isArrayLike(array)?baseDifference(array,baseFlatten(values,!1,!0)):[]});function drop(array,n,guard){return array&&array.length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,n<0?0:n)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0,(n=length-(+n||0))<0?0:n)):[]}var findIndex=createFindIndex(),findLastIndex=createFindIndex(!0);function first(array){return array?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value);return index<length&&(value==value?value===array[index]:array[index]!=array[index])?index:-1}return baseIndexOf(array,value,fromIndex||0)}var intersection=restParam(function(arrays){for(var othLength=arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf===baseIndexOf,result=[];othIndex--;){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=isCommon&&value.length>=120?createCache(othIndex&&value):null}var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:for(;++index<length;)if(value=array[index],(seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0)continue outer}seen&&seen.push(value),result.push(value)}return result});function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}var pullAt=restParam(function(array,indexes){var result=baseAt(array,indexes=baseFlatten(indexes));return basePullAt(array,indexes.sort(baseCompareAscending)),result});function rest(array){return drop(array,1)}var sortedIndex=createSortedIndex(),sortedLastIndex=createSortedIndex(!0);var union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,!1,!0))});function uniq(array,isSorted,iteratee,thisArg){if(!array||!array.length)return[];null!=isSorted&&"boolean"!=typeof isSorted&&(iteratee=isIterateeCall(array,isSorted,thisArg=iteratee)?undefined:isSorted,isSorted=!1);var callback=getCallback();return null==iteratee&&callback===baseCallback||(iteratee=callback(iteratee,thisArg,3)),isSorted&&getIndexOf()===baseIndexOf?function(array,iteratee){for(var seen,index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;index&&seen===computed||(seen=computed,result[++resIndex]=value)}return result}(array,iteratee):baseUniq(array,iteratee)}function unzip(array){if(!array||!array.length)return[];var index=-1,length=0;array=arrayFilter(array,function(group){if(isArrayLike(group))return length=nativeMax(group.length,length),!0});for(var result=Array(length);++index<length;)result[index]=arrayMap(array,baseProperty(index));return result}function unzipWith(array,iteratee,thisArg){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:(iteratee=bindCallback(iteratee,thisArg,4),arrayMap(result,function(group){return arrayReduce(group,iteratee,undefined,!0)}))}var without=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,values):[]});var zip=restParam(unzip);function zipObject(props,values){var index=-1,length=props?props.length:0,result={};for(!length||values||isArray(props[0])||(values=[]);++index<length;){var key=props[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}var zipWith=restParam(function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;return length>2&&"function"==typeof iteratee?length-=2:(iteratee=length>1&&"function"==typeof thisArg?(--length,thisArg):undefined,thisArg=undefined),arrays.length=length,unzipWith(arrays,iteratee,thisArg)});function chain(value){var result=lodash(value);return result.__chain__=!0,result}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}var wrapperConcat=restParam(function(values){return values=baseFlatten(values),this.thru(function(array){return function(array,other){for(var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);++index<length;)result[index]=array[index];for(;++othIndex<othLength;)result[index++]=other[othIndex];return result}(isArray(array)?array:[toObject(array)],values)})});var at=restParam(function(collection,props){return isArrayLike(collection)&&(collection=toIterable(collection)),baseAt(collection,baseFlatten(props))}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1});function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=undefined),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function filter(collection,predicate,thisArg){return(isArray(collection)?arrayFilter:baseFilter)(collection,predicate=getCallback(predicate,thisArg,3))}var find=createFind(baseEach),findLast=createFind(baseEachRight,!0);var forEach=createForEach(arrayEach,baseEach),forEachRight=createForEach(function(array,iteratee){for(var length=array.length;length--&&!1!==iteratee(array[length],length,array););return array},baseEachRight),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]});function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(length=(collection=values(collection)).length),fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:fromIndex<0?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?fromIndex<=length&&collection.indexOf(target,fromIndex)>-1:!!length&&getIndexOf(collection,target,fromIndex)>-1}var indexBy=createAggregator(function(result,value,key){result[key]=value}),invoke=restParam(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value?value[path]:undefined;result[++index]=func?func.apply(value,args):invokePath(value,path,args)}),result});function map(collection,iteratee,thisArg){return(isArray(collection)?arrayMap:baseMap)(collection,iteratee=getCallback(iteratee,thisArg,3))}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});var reduce=createReduce(arrayReduce,baseEach),reduceRight=createReduce(function(array,iteratee,accumulator,initFromArray){var length=array.length;for(initFromArray&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator},baseEachRight);function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):null==n)return(length=(collection=toIterable(collection)).length)>0?collection[baseRandom(0,length-1)]:undefined;var length,index=-1,result=toArray(collection),lastIndex=(length=result.length)-1;for(n=nativeMin(n<0?0:+n||0,length);++index<n;){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index],result[index]=value}return result.length=n,result}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=undefined),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}var sortByAll=restParam(function(collection,iteratees){if(null==collection)return[];var guard=iteratees[2];return guard&&isIterateeCall(iteratees[0],iteratees[1],guard)&&(iteratees.length=1),baseSortByOrder(collection,baseFlatten(iteratees),[])});var now=nativeNow||function(){return(new Date).getTime()};function before(n,func){var result;if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=undefined),result}}var bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}),bindAll=restParam(function(object,methodNames){for(var index=-1,length=(methodNames=methodNames.length?baseFlatten(methodNames):functions(object)).length;++index<length;){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object}),bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}),curry=createCurry(CURRY_FLAG),curryRight=createCurry(CURRY_RIGHT_FLAG);function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(wait=wait<0?0:+wait||0,!0===options){var leading=!0;trailing=!1}else isObject(options)&&(leading=!!options.leading,maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait),trailing="trailing"in options?!!options.trailing:trailing);function complete(isCalled,id){id&&clearTimeout(id),maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=undefined))}function delayed(){var remaining=wait-(now()-stamp);remaining<=0||remaining>wait?complete(trailingCall,maxTimeoutId):timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),!1===maxWait)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=undefined),result}return debounced.cancel=function(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),lastCalled=0,maxTimeoutId=timeoutId=trailingCall=undefined},debounced}var defer=restParam(function(func,args){return baseDelay(func,1,args)}),delay=restParam(function(func,wait,args){return baseDelay(func,wait,args)}),flow=createFlow(),flowRight=createFlow(!0);function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new memoize.Cache,memoized}var modArgs=restParam(function(func,transforms){if(transforms=baseFlatten(transforms),"function"!=typeof func||!arrayEvery(transforms,baseIsFunction))throw new TypeError(FUNC_ERROR_TEXT);var length=transforms.length;return restParam(function(args){for(var index=nativeMin(args.length,length);index--;)args[index]=transforms[index](args[index]);return func.apply(this,args)})});var partial=createPartial(PARTIAL_FLAG),partialRight=createPartial(PARTIAL_RIGHT_FLAG),rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes))});function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function gt(value,other){return value>other}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isEqual(value,other,customizer,thisArg){var result=(customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined)?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return isObjectLike(value)&&"string"==typeof value.message&&objToString.call(value)==errorTag}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isNative(value){return null!=value&&(isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&(isHostObject(value)?reIsNative:reIsHostCtor).test(value))}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isPlainObject(value){var Ctor,result;return!(!isObjectLike(value)||objToString.call(value)!=objectTag||isHostObject(value)||isArguments(value)||!(hasOwnProperty.call(value,"constructor")||"function"!=typeof(Ctor=value.constructor)||Ctor instanceof Ctor))&&(lodash.support.ownLast?(baseForIn(value,function(subValue,key,object){return result=hasOwnProperty.call(object,key),!1}),!1!==result):(baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)))}function isRegExp(value){return isObject(value)&&objToString.call(value)==regexpTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function lt(value,other){return value<other}function toArray(value){var length=value?getLength(value):0;return isLength(length)?length?lodash.support.unindexedChars&&isString(value)?value.split(""):arrayCopy(value):[]:values(value)}function toPlainObject(value){return baseCopy(value,keysIn(value))}var merge=createAssigner(function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?undefined:keys(source);return arrayEach(props||source,function(srcValue,key){if(props&&(srcValue=source[key=srcValue]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),function(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return void(object[key]=stackB[length]);var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result==result?result!==value:value==value)&&(object[key]=result)}(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),result===undefined&&(!isSrcArr||key in object)||!isCommon&&(result==result?result===value:value!=value)||(object[key]=result)}}),object}),assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)});var defaults=createDefaults(assign,function(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}),defaultsDeep=createDefaults(merge,function mergeDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:merge(objectValue,sourceValue,mergeDefaults)}),findKey=createFindKey(baseForOwn),findLastKey=createFindKey(baseForOwnRight),forIn=createForIn(baseFor),forInRight=createForIn(baseForRight),forOwn=createForOwn(baseForOwn),forOwnRight=createForOwn(baseForOwnRight);function functions(object){return baseFunctions(object,keysIn(object))}var keys=nativeKeys?function(object){var Ctor=null==object?undefined:object.constructor;return"function"==typeof Ctor&&Ctor.prototype===object||("function"==typeof object?lodash.support.enumPrototypes:isArrayLike(object))?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys;function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length,support=lodash.support;length=length&&isLength(length)&&(isArray(object)||isArguments(object)||isString(object))&&length||0;for(var Ctor=object.constructor,index=-1,proto=isFunction(Ctor)&&Ctor.prototype||objectProto,isProto=proto===object,result=Array(length),skipIndexes=length>0,skipErrorProps=support.enumErrorProps&&(object===errorProto||object instanceof Error),skipProto=support.enumPrototypes&&isFunction(object);++index<length;)result[index]=index+"";for(var key in object)skipProto&&"prototype"==key||skipErrorProps&&("message"==key||"name"==key)||skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);if(support.nonEnumShadows&&object!==objectProto){var tag=object===stringProto?stringTag:object===errorProto?errorTag:objToString.call(object),nonEnums=nonEnumProps[tag]||nonEnumProps[objectTag];for(tag==objectTag&&(proto=objectProto),length=shadowProps.length;length--;){var nonEnum=nonEnums[key=shadowProps[length]];isProto&&nonEnum||(nonEnum?!hasOwnProperty.call(object,key):object[key]===proto[key])||result.push(key)}}return result}var mapKeys=createObjectMapper(!0),mapValues=createObjectMapper(),omit=restParam(function(object,props){if(null==object)return{};if("function"!=typeof props[0])return props=arrayMap(baseFlatten(props),String),pickByArray(object,baseDifference(keysIn(object),props));var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})});function pairs(object){object=toObject(object);for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}var pick=restParam(function(object,props){return null==object?{}:"function"==typeof props[0]?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))});function values(object){return baseValues(object,keys(object))}var camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)});function deburr(string){return(string=baseToString(string))&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var padLeft=createPadDir(),padRight=createPadDir(!0);function repeat(string,n){var result="";if(string=baseToString(string),(n=+n)<1||!string||!nativeIsFinite(n))return result;do{n%2&&(result+=string),n=nativeFloor(n/2),string+=string}while(n);return result}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))});function trim(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1):(chars+="",string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1)):string}function words(string,pattern,guard){return guard&&isIterateeCall(string,pattern,guard)&&(pattern=undefined),(string=baseToString(string)).match(pattern||reWords)||[]}var attempt=restParam(function(func,args){try{return func.apply(undefined,args)}catch(e){return isError(e)?e:new Error(e)}});function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=undefined),isObjectLike(func)?matches(func):baseCallback(func,thisArg)}function identity(value){return value}function matches(source){return baseMatches(baseClone(source,!0))}var method=restParam(function(path,args){return function(object){return invokePath(object,path,args)}}),methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args)}});function mixin(object,source,options){if(null==options){var isObj=isObject(source),props=isObj?keys(source):undefined,methodNames=props&&props.length?baseFunctions(source,props):undefined;(methodNames?methodNames.length:isObj)||(methodNames=!1,options=source,source=object,object=this)}methodNames||(methodNames=baseFunctions(source,keys(source)));var chain=!0,index=-1,isFunc=isFunction(object),length=methodNames.length;!1===options?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);for(;++index<length;){var methodName=methodNames[index],func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__);return(result.__actions__=arrayCopy(this.__actions__)).push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))}}(func))}return object}function noop(){}function property(path){return isKey(path)?baseProperty(path):function(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}(path)}var source,ceil=createRound("ceil"),floor=createRound("floor"),max=createExtremum(gt,NEGATIVE_INFINITY),min=createExtremum(lt,POSITIVE_INFINITY),round=createRound("round");return lodash.prototype=baseLodash.prototype,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,MapCache.prototype.delete=function(key){return this.has(key)&&delete this.__data__[key]},MapCache.prototype.get=function(key){return"__proto__"==key?undefined:this.__data__[key]},MapCache.prototype.has=function(key){return"__proto__"!=key&&hasOwnProperty.call(this.__data__,key)},MapCache.prototype.set=function(key,value){return"__proto__"!=key&&(this.__data__[key]=value),this},SetCache.prototype.push=function(value){var data=this.data;"string"==typeof value||isObject(value)?data.set.add(value):data.hash[value]=!0},memoize.Cache=MapCache,lodash.after=function(n,func){if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return n=nativeIsFinite(n=+n)?n:0,function(){if(--n<1)return func.apply(this,arguments)}},lodash.ary=function(func,n,guard){return guard&&isIterateeCall(func,n,guard)&&(n=undefined),n=func&&null==n?func.length:nativeMax(+n||0,0),createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)},lodash.assign=assign,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.callback=callback,lodash.chain=chain,lodash.chunk=function(array,size,guard){size=(guard?isIterateeCall(array,size,guard):null==size)?1:nativeMax(nativeFloor(size)||1,1);for(var index=0,length=array?array.length:0,resIndex=-1,result=Array(nativeCeil(length/size));index<length;)result[++resIndex]=baseSlice(array,index,index+=size);return result},lodash.compact=function(array){for(var index=-1,length=array?array.length:0,resIndex=-1,result=[];++index<length;){var value=array[index];value&&(result[++resIndex]=value)}return result},lodash.constant=function(value){return function(){return value}},lodash.countBy=countBy,lodash.create=function(prototype,properties,guard){var result=baseCreate(prototype);return guard&&isIterateeCall(prototype,properties,guard)&&(properties=undefined),properties?baseAssign(result,properties):result},lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=function(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0,!0):[]},lodash.dropWhile=function(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0):[]},lodash.fill=function(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),function(array,value,start,end){var length=array.length;for((start=null==start?0:+start||0)<0&&(start=-start>length?0:length+start),(end=end===undefined||end>length?length:+end||0)<0&&(end+=length),length=start>end?0:end>>>0,start>>>=0;start<length;)array[start++]=value;return array}(array,value,start,end)):[]},lodash.filter=filter,lodash.flatten=function(array,isDeep,guard){var length=array?array.length:0;return guard&&isIterateeCall(array,isDeep,guard)&&(isDeep=!1),length?baseFlatten(array,isDeep):[]},lodash.flattenDeep=function(array){return array&&array.length?baseFlatten(array,!0):[]},lodash.flow=flow,lodash.flowRight=flowRight,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=function(array){return dropRight(array,1)},lodash.intersection=intersection,lodash.invert=function(object,multiValue,guard){guard&&isIterateeCall(object,multiValue,guard)&&(multiValue=undefined);for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index],value=object[key];multiValue?hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]:result[value]=key}return result},lodash.invoke=invoke,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=function(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,!0))},lodash.memoize=memoize,lodash.merge=merge,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.modArgs=modArgs,lodash.negate=function(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}},lodash.omit=omit,lodash.once=function(func){return before(2,func)},lodash.pairs=pairs,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pluck=function(collection,path){return map(collection,property(path))},lodash.property=property,lodash.propertyOf=function(object){return function(path){return baseGet(object,toPath(path),path+"")}},lodash.pull=function(){var args=arguments,array=args[0];if(!array||!array.length)return array;for(var index=0,indexOf=getIndexOf(),length=args.length;++index<length;)for(var fromIndex=0,value=args[index];(fromIndex=indexOf(array,value,fromIndex))>-1;)splice.call(array,fromIndex,1);return array},lodash.pullAt=pullAt,lodash.range=function(start,end,step){step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=+start||0,step=null==step?1:+step||0,null==end?(end=start,start=0):end=+end||0;for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);++index<length;)result[index]=start,start+=step;return result},lodash.rearg=rearg,lodash.reject=function(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})},lodash.remove=function(array,predicate,thisArg){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getCallback(predicate,thisArg,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result},lodash.rest=rest,lodash.restParam=restParam,lodash.set=function(object,path,value){if(null==object)return object;for(var pathKey=path+"",index=-1,length=(path=null!=object[pathKey]||isKey(path,object)?[pathKey]:toPath(path)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=path[index];isObject(nested)&&(index==lastIndex?nested[key]=value:null==nested[key]&&(nested[key]=isIndex(path[index+1])?[]:{})),nested=nested[key]}return object},lodash.shuffle=function(collection){return sample(collection,POSITIVE_INFINITY)},lodash.slice=function(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]},lodash.sortBy=function(collection,iteratee,thisArg){if(null==collection)return[];thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined);var index=-1;return iteratee=getCallback(iteratee,thisArg,3),baseSortBy(baseMap(collection,function(value,key,collection){return{criteria:iteratee(value,key,collection),index:++index,value:value}}),compareAscending)},lodash.sortByAll=sortByAll,lodash.sortByOrder=function(collection,iteratees,orders,guard){return null==collection?[]:(guard&&isIterateeCall(iteratees,orders,guard)&&(orders=undefined),isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders)||(orders=null==orders?[]:[orders]),baseSortByOrder(collection,iteratees,orders))},lodash.spread=function(func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return function(array){return func.apply(this,array)}},lodash.take=function(array,n,guard){return array&&array.length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0,n<0?0:n)):[]},lodash.takeRight=function(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,(n=length-(+n||0))<0?0:n)):[]},lodash.takeRightWhile=function(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!1,!0):[]},lodash.takeWhile=function(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]},lodash.tap=function(value,interceptor,thisArg){return interceptor.call(thisArg,value),value},lodash.throttle=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return!1===options?leading=!1:isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:+wait,trailing:trailing})},lodash.thru=thru,lodash.times=function(n,iteratee,thisArg){if((n=nativeFloor(n))<1||!nativeIsFinite(n))return[];var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));for(iteratee=bindCallback(iteratee,thisArg,1);++index<n;)index<MAX_ARRAY_LENGTH?result[index]=iteratee(index):iteratee(index);return result},lodash.toArray=toArray,lodash.toPlainObject=toPlainObject,lodash.transform=function(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getCallback(iteratee,thisArg,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:baseCreate(isFunction(Ctor)?Ctor.prototype:undefined)}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator},lodash.union=union,lodash.uniq=uniq,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.values=values,lodash.valuesIn=function(object){return baseValues(object,keysIn(object))},lodash.where=function(collection,source){return filter(collection,baseMatches(source))},lodash.without=without,lodash.wrap=function(value,wrapper){return createWrapper(wrapper=null==wrapper?identity:wrapper,PARTIAL_FLAG,undefined,[value],[])},lodash.xor=function(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArrayLike(array))var result=result?arrayPush(baseDifference(result,array),baseDifference(array,result)):array}return result?baseUniq(result):[]},lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipWith=zipWith,lodash.backflow=flowRight,lodash.collect=map,lodash.compose=flowRight,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.iteratee=callback,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,mixin(lodash,lodash),lodash.add=function(augend,addend){return(+augend||0)+(+addend||0)},lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=function(string){return(string=baseToString(string))&&string.charAt(0).toUpperCase()+string.slice(1)},lodash.ceil=ceil,lodash.clone=function(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),"function"==typeof customizer?baseClone(value,isDeep,bindCallback(customizer,thisArg,3)):baseClone(value,isDeep)},lodash.cloneDeep=function(value,customizer,thisArg){return"function"==typeof customizer?baseClone(value,!0,bindCallback(customizer,thisArg,3)):baseClone(value,!0)},lodash.deburr=deburr,lodash.endsWith=function(string,target,position){target+="";var length=(string=baseToString(string)).length;return position=position===undefined?length:nativeMin(position<0?0:+position||0,length),(position-=target.length)>=0&&string.indexOf(target,position)==position},lodash.escape=function(string){return(string=baseToString(string))&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string},lodash.escapeRegExp=function(string){return(string=baseToString(string))&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,escapeRegExpChar):string||"(?:)"},lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.findWhere=function(collection,source){return find(collection,baseMatches(source))},lodash.first=first,lodash.floor=floor,lodash.get=function(object,path,defaultValue){var result=null==object?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result},lodash.gt=gt,lodash.gte=function(value,other){return value>=other},lodash.has=function(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);if(!result&&!isKey(path)){if(null==(object=1==(path=toPath(path)).length?object:baseGet(object,baseSlice(path,0,-1))))return!1;path=last(path),result=hasOwnProperty.call(object,path)}return result||isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object)||isString(object))},lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=function(value,start,end){return start=+start||0,end===undefined?(end=start,start=0):end=+end||0,value>=nativeMin(start,end)&&value<nativeMax(start,end)},lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=function(value){return!0===value||!1===value||isObjectLike(value)&&objToString.call(value)==boolTag},lodash.isDate=function(value){return isObjectLike(value)&&objToString.call(value)==dateTag},lodash.isElement=function(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)},lodash.isEmpty=function(value){return null==value||(isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!value.length:!keys(value).length)},lodash.isEqual=isEqual,lodash.isError=isError,lodash.isFinite=function(value){return"number"==typeof value&&nativeIsFinite(value)},lodash.isFunction=isFunction,lodash.isMatch=function(object,source,customizer,thisArg){return customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined,baseIsMatch(object,getMatchData(source),customizer)},lodash.isNaN=function(value){return isNumber(value)&&value!=+value},lodash.isNative=isNative,lodash.isNull=function(value){return null===value},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.isUndefined=function(value){return value===undefined},lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=function(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if("number"==typeof fromIndex)index=(fromIndex<0?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1;else if(fromIndex){var other=array[index=binaryIndex(array,value,!0)-1];return(value==value?value===other:other!=other)?index:-1}if(value!=value)return indexOfNaN(array,index,!0);for(;index--;)if(array[index]===value)return index;return-1},lodash.lt=lt,lodash.lte=function(value,other){return value<=other},lodash.max=max,lodash.min=min,lodash.noConflict=function(){return root._=oldDash,this},lodash.noop=noop,lodash.now=now,lodash.pad=function(string,length,chars){length=+length;var strLength=(string=baseToString(string)).length;if(strLength>=length||!nativeIsFinite(length))return string;var mid=(length-strLength)/2,leftLength=nativeFloor(mid);return(chars=createPadding("",nativeCeil(mid),chars)).slice(0,leftLength)+string+chars},lodash.padLeft=padLeft,lodash.padRight=padRight,lodash.parseInt=function(string,radix,guard){return(guard?isIterateeCall(string,radix,guard):null==radix)?radix=0:radix&&(radix=+radix),string=trim(string),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))},lodash.random=function(min,max,floating){floating&&isIterateeCall(min,max,floating)&&(max=floating=undefined);var noMin=null==min,noMax=null==max;if(null==floating&&(noMax&&"boolean"==typeof min?(floating=min,min=1):"boolean"==typeof max&&(floating=max,noMax=!0)),noMin&&noMax&&(max=1,noMax=!1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)},lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.result=function(object,path,defaultValue){var result=null==object?undefined:toObject(object)[path];return result===undefined&&(null==object||isKey(path,object)||(result=null==(object=1==(path=toPath(path)).length?object:baseGet(object,baseSlice(path,0,-1)))?undefined:toObject(object)[last(path)]),result=result===undefined?defaultValue:result),isFunction(result)?result.call(object):result},lodash.round=round,lodash.runInContext=runInContext,lodash.size=function(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length},lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedLastIndex=sortedLastIndex,lodash.startCase=startCase,lodash.startsWith=function(string,target,position){return string=baseToString(string),position=null==position?0:nativeMin(position<0?0:+position||0,string.length),string.lastIndexOf(target,position)==position},lodash.sum=function(collection,iteratee,thisArg){return thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined),1==(iteratee=getCallback(iteratee,thisArg,3)).length?function(array,iteratee){for(var length=array.length,result=0;length--;)result+=+iteratee(array[length])||0;return result}(isArray(collection)?collection:toIterable(collection),iteratee):function(collection,iteratee){var result=0;return baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0}),result}(collection,iteratee)},lodash.template=function(string,options,otherOptions){var settings=lodash.templateSettings;otherOptions&&isIterateeCall(string,options,otherOptions)&&(options=otherOptions=undefined),string=baseToString(string);var isEscaping,isEvaluating,imports=assignWith(baseAssign({},(options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults)).imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result},lodash.trim=trim,lodash.trimLeft=function(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string)):string.slice(charsLeftIndex(string,chars+"")):string},lodash.trimRight=function(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(0,trimmedRightIndex(string)+1):string.slice(0,charsRightIndex(string,chars+"")+1):string},lodash.trunc=function(string,options,guard){guard&&isIterateeCall(string,options,guard)&&(options=undefined);var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(null!=options)if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length,omission="omission"in options?baseToString(options.omission):omission}else length=+options||0;if(length>=(string=baseToString(string)).length)return string;var end=length-omission.length;if(end<1)return omission;var result=string.slice(0,end);if(null==separator)return result+omission;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);for(separator.global||(separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g")),separator.lastIndex=0;match=separator.exec(substring);)newEnd=match.index;result=result.slice(0,null==newEnd?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission},lodash.unescape=function(string){return(string=baseToString(string))&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string},lodash.uniqueId=function(prefix){var id=++idCounter;return baseToString(prefix)+id},lodash.words=words,lodash.all=every,lodash.any=some,lodash.contains=includes,lodash.eq=isEqual,lodash.detect=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.head=first,lodash.include=includes,lodash.inject=reduce,mixin(lodash,(source={},baseForOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source),!1),lodash.sample=sample,lodash.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(value){return sample(value,n)}):sample(this.value())},lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index)return new LazyWrapper(this);n=null==n?1:nativeMax(nativeFloor(n)||0,0);var result=this.clone();return filtered?result.__takeCount__=nativeMin(result.__takeCount__,n):result.__views__.push({size:n,type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type!=LAZY_MAP_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var result=this.clone();return result.__iteratees__.push({iteratee:getCallback(iteratee,thisArg,1),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["first","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","rest"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),arrayEach(["pluck","where"],function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.reject=function(predicate,thisArg){return predicate=getCallback(predicate,thisArg,1),this.filter(function(value){return!predicate(value)})},LazyWrapper.prototype.slice=function(start,end){start=null==start?0:+start||0;var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(result=(end=+end||0)<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate,thisArg){return this.reverse().takeWhile(predicate,thisArg).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(POSITIVE_INFINITY)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName),lodashFunc=lodash[retUnwrapped?"take"+("last"==methodName?"Right":""):methodName];lodashFunc&&(lodash.prototype[methodName]=function(){var args=retUnwrapped?[1]:arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var interceptor=function(value){return retUnwrapped&&chainAll?lodashFunc(value,1)[0]:lodashFunc.apply(undefined,arrayPush([value],args))},action={func:thru,args:[interceptor],thisArg:undefined},onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll)return onlyLazy?((value=value.clone()).__actions__.push(action),func.call(value)):lodashFunc.call(undefined,this.value())[0];if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push(action),new LodashWrapper(result,chainAll)}return this.thru(interceptor)})}),arrayEach(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(methodName){var protoFunc=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",fixObjects=!support.spliceObjects&&/^(?:pop|shift|splice)$/.test(methodName),retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName),func=fixObjects?function(){var result=protoFunc.apply(this,arguments);return 0===this.length&&delete this[0],result}:protoFunc;lodash.prototype[methodName]=function(){var args=arguments;return retUnwrapped&&!this.__chain__?func.apply(this.value(),args):this[chainName](function(value){return func.apply(value,args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";(realNames[key]||(realNames[key]=[])).push({name:methodName,func:lodashFunc})}}),realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=function(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=arrayCopy(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=arrayCopy(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=arrayCopy(this.__views__),result},LazyWrapper.prototype.reverse=function(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else(result=this.clone()).__dir__*=-1;return result},LazyWrapper.prototype.value=function(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=function(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||arrLength<LARGE_ARRAY_SIZE||arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){for(var iterIndex=-1,value=array[index+=dir];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result},lodash.prototype.chain=function(){return chain(this)},lodash.prototype.commit=function(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.concat=wrapperConcat,lodash.prototype.plant=function(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result},lodash.prototype.reverse=function(){var value=this.__wrapped__,interceptor=function(value){return value.reverse()};if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),(wrapped=wrapped.reverse()).__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(interceptor)},lodash.prototype.toString=function(){return this.value()+""},lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.collect=lodash.prototype.map,lodash.prototype.head=lodash.prototype.first,lodash.prototype.select=lodash.prototype.filter,lodash.prototype.tail=lodash.prototype.rest,lodash}();freeExports&&freeModule?moduleExports?(freeModule.exports=_)._=_:freeExports._=_:root._=_}).call(this)},{}],MVLi:[function(require,module,exports){var global=arguments[3],check=function(it){return it&&it.Math==Math&&it};module.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||Function("return this")()},{}],pWu7:[function(require,module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},{}],A8Ob:[function(require,module,exports){var fails=require("../internals/fails");module.exports=!fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"../internals/fails":"pWu7"}],sC3y:[function(require,module,exports){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},{}],oNyT:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},{}],jUdy:[function(require,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],Nn1j:[function(require,module,exports){var fails=require("../internals/fails"),classof=require("../internals/classof-raw"),split="".split;module.exports=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(it){return"String"==classof(it)?split.call(it,""):Object(it)}:Object},{"../internals/fails":"pWu7","../internals/classof-raw":"jUdy"}],RWPB:[function(require,module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on "+it);return it}},{}],ebRX:[function(require,module,exports){var IndexedObject=require("../internals/indexed-object"),requireObjectCoercible=require("../internals/require-object-coercible");module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},{"../internals/indexed-object":"Nn1j","../internals/require-object-coercible":"RWPB"}],AsqF:[function(require,module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},{}],wZyz:[function(require,module,exports){var isObject=require("../internals/is-object");module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;if("function"==typeof(fn=input.valueOf)&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":"AsqF"}],jYdl:[function(require,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],tvdn:[function(require,module,exports){var global=require("../internals/global"),isObject=require("../internals/is-object"),document=global.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},{"../internals/global":"MVLi","../internals/is-object":"AsqF"}],nSk9:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),fails=require("../internals/fails"),createElement=require("../internals/document-create-element");module.exports=!DESCRIPTORS&&!fails(function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":"A8Ob","../internals/fails":"pWu7","../internals/document-create-element":"tvdn"}],zm15:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),propertyIsEnumerableModule=require("../internals/object-property-is-enumerable"),createPropertyDescriptor=require("../internals/create-property-descriptor"),toIndexedObject=require("../internals/to-indexed-object"),toPrimitive=require("../internals/to-primitive"),has=require("../internals/has"),IE8_DOM_DEFINE=require("../internals/ie8-dom-define"),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function(O,P){if(O=toIndexedObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},{"../internals/descriptors":"A8Ob","../internals/object-property-is-enumerable":"sC3y","../internals/create-property-descriptor":"oNyT","../internals/to-indexed-object":"ebRX","../internals/to-primitive":"wZyz","../internals/has":"jYdl","../internals/ie8-dom-define":"nSk9"}],eAPg:[function(require,module,exports){var isObject=require("../internals/is-object");module.exports=function(it){if(!isObject(it))throw TypeError(String(it)+" is not an object");return it}},{"../internals/is-object":"AsqF"}],AtXZ:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),IE8_DOM_DEFINE=require("../internals/ie8-dom-define"),anObject=require("../internals/an-object"),toPrimitive=require("../internals/to-primitive"),nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},{"../internals/descriptors":"A8Ob","../internals/ie8-dom-define":"nSk9","../internals/an-object":"eAPg","../internals/to-primitive":"wZyz"}],GwPZ:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),definePropertyModule=require("../internals/object-define-property"),createPropertyDescriptor=require("../internals/create-property-descriptor");module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},{"../internals/descriptors":"A8Ob","../internals/object-define-property":"AtXZ","../internals/create-property-descriptor":"oNyT"}],tGwT:[function(require,module,exports){module.exports=!1},{}],ScNd:[function(require,module,exports){var global=require("../internals/global"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property");module.exports=function(key,value){try{createNonEnumerableProperty(global,key,value)}catch(error){global[key]=value}return value}},{"../internals/global":"MVLi","../internals/create-non-enumerable-property":"GwPZ"}],VcUc:[function(require,module,exports){var global=require("../internals/global"),setGlobal=require("../internals/set-global"),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});module.exports=store},{"../internals/global":"MVLi","../internals/set-global":"ScNd"}],B1yS:[function(require,module,exports){var IS_PURE=require("../internals/is-pure"),store=require("../internals/shared-store");(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.3.5",mode:IS_PURE?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":"tGwT","../internals/shared-store":"VcUc"}],GWmL:[function(require,module,exports){var shared=require("../internals/shared");module.exports=shared("native-function-to-string",Function.toString)},{"../internals/shared":"B1yS"}],Z7Ix:[function(require,module,exports){var global=require("../internals/global"),nativeFunctionToString=require("../internals/function-to-string"),WeakMap=global.WeakMap;module.exports="function"==typeof WeakMap&&/native code/.test(nativeFunctionToString.call(WeakMap))},{"../internals/global":"MVLi","../internals/function-to-string":"GWmL"}],bxyG:[function(require,module,exports){var id=0,postfix=Math.random();module.exports=function(key){return"Symbol("+String(void 0===key?"":key)+")_"+(++id+postfix).toString(36)}},{}],OIOG:[function(require,module,exports){var shared=require("../internals/shared"),uid=require("../internals/uid"),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},{"../internals/shared":"B1yS","../internals/uid":"bxyG"}],Ln6o:[function(require,module,exports){module.exports={}},{}],vLSK:[function(require,module,exports){var set,get,has,NATIVE_WEAK_MAP=require("../internals/native-weak-map"),global=require("../internals/global"),isObject=require("../internals/is-object"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),objectHas=require("../internals/has"),sharedKey=require("../internals/shared-key"),hiddenKeys=require("../internals/hidden-keys"),WeakMap=global.WeakMap;if(NATIVE_WEAK_MAP){var store=new WeakMap,wmget=store.get,wmhas=store.has,wmset=store.set;set=function(it,metadata){return wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){return createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return objectHas(it,STATE)?it[STATE]:{}},has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},{"../internals/native-weak-map":"Z7Ix","../internals/global":"MVLi","../internals/is-object":"AsqF","../internals/create-non-enumerable-property":"GwPZ","../internals/has":"jYdl","../internals/shared-key":"OIOG","../internals/hidden-keys":"Ln6o"}],ztZs:[function(require,module,exports){var global=require("../internals/global"),shared=require("../internals/shared"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),has=require("../internals/has"),setGlobal=require("../internals/set-global"),nativeFunctionToString=require("../internals/function-to-string"),InternalStateModule=require("../internals/internal-state"),getInternalState=InternalStateModule.get,enforceInternalState=InternalStateModule.enforce,TEMPLATE=String(nativeFunctionToString).split("toString");shared("inspectSource",function(it){return nativeFunctionToString.call(it)}),(module.exports=function(O,key,value,options){var unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,noTargetGet=!!options&&!!options.noTargetGet;"function"==typeof value&&("string"!=typeof key||has(value,"name")||createNonEnumerableProperty(value,"name",key),enforceInternalState(value).source=TEMPLATE.join("string"==typeof key?key:"")),O!==global?(unsafe?!noTargetGet&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:createNonEnumerableProperty(O,key,value)):simple?O[key]=value:setGlobal(key,value)})(Function.prototype,"toString",function(){return"function"==typeof this&&getInternalState(this).source||nativeFunctionToString.call(this)})},{"../internals/global":"MVLi","../internals/shared":"B1yS","../internals/create-non-enumerable-property":"GwPZ","../internals/has":"jYdl","../internals/set-global":"ScNd","../internals/function-to-string":"GWmL","../internals/internal-state":"vLSK"}],hMfB:[function(require,module,exports){module.exports=require("../internals/global")},{"../internals/global":"MVLi"}],mLk8:[function(require,module,exports){var path=require("../internals/path"),global=require("../internals/global"),aFunction=function(variable){return"function"==typeof variable?variable:void 0};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},{"../internals/path":"hMfB","../internals/global":"MVLi"}],GwUC:[function(require,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},{}],j9AG:[function(require,module,exports){var toInteger=require("../internals/to-integer"),min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},{"../internals/to-integer":"GwUC"}],QLhU:[function(require,module,exports){var toInteger=require("../internals/to-integer"),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},{"../internals/to-integer":"GwUC"}],b2MC:[function(require,module,exports){var toIndexedObject=require("../internals/to-indexed-object"),toLength=require("../internals/to-length"),toAbsoluteIndex=require("../internals/to-absolute-index"),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},{"../internals/to-indexed-object":"ebRX","../internals/to-length":"j9AG","../internals/to-absolute-index":"QLhU"}],ijOr:[function(require,module,exports){var has=require("../internals/has"),toIndexedObject=require("../internals/to-indexed-object"),indexOf=require("../internals/array-includes").indexOf,hiddenKeys=require("../internals/hidden-keys");module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~indexOf(result,key)||result.push(key));return result}},{"../internals/has":"jYdl","../internals/to-indexed-object":"ebRX","../internals/array-includes":"b2MC","../internals/hidden-keys":"Ln6o"}],asST:[function(require,module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],QFCk:[function(require,module,exports){var internalObjectKeys=require("../internals/object-keys-internal"),hiddenKeys=require("../internals/enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return internalObjectKeys(O,hiddenKeys)}},{"../internals/object-keys-internal":"ijOr","../internals/enum-bug-keys":"asST"}],uqTD:[function(require,module,exports){exports.f=Object.getOwnPropertySymbols},{}],uZDC:[function(require,module,exports){var getBuiltIn=require("../internals/get-built-in"),getOwnPropertyNamesModule=require("../internals/object-get-own-property-names"),getOwnPropertySymbolsModule=require("../internals/object-get-own-property-symbols"),anObject=require("../internals/an-object");module.exports=getBuiltIn("Reflect","ownKeys")||function(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},{"../internals/get-built-in":"mLk8","../internals/object-get-own-property-names":"QFCk","../internals/object-get-own-property-symbols":"uqTD","../internals/an-object":"eAPg"}],dZUE:[function(require,module,exports){var has=require("../internals/has"),ownKeys=require("../internals/own-keys"),getOwnPropertyDescriptorModule=require("../internals/object-get-own-property-descriptor"),definePropertyModule=require("../internals/object-define-property");module.exports=function(target,source){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];has(target,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},{"../internals/has":"jYdl","../internals/own-keys":"uZDC","../internals/object-get-own-property-descriptor":"zm15","../internals/object-define-property":"AtXZ"}],Y6Gi:[function(require,module,exports){var fails=require("../internals/fails"),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL||value!=NATIVE&&("function"==typeof detection?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},{"../internals/fails":"pWu7"}],rhEq:[function(require,module,exports){var global=require("../internals/global"),getOwnPropertyDescriptor=require("../internals/object-get-own-property-descriptor").f,createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),redefine=require("../internals/redefine"),setGlobal=require("../internals/set-global"),copyConstructorProperties=require("../internals/copy-constructor-properties"),isForced=require("../internals/is-forced");module.exports=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global:STATIC?global[TARGET]||setGlobal(TARGET,{}):(global[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==targetProperty){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty(sourceProperty,"sham",!0),redefine(target,key,sourceProperty,options)}}},{"../internals/global":"MVLi","../internals/object-get-own-property-descriptor":"zm15","../internals/create-non-enumerable-property":"GwPZ","../internals/redefine":"ztZs","../internals/set-global":"ScNd","../internals/copy-constructor-properties":"dZUE","../internals/is-forced":"Y6Gi"}],PgsN:[function(require,module,exports){var fails=require("../internals/fails");module.exports=!!Object.getOwnPropertySymbols&&!fails(function(){return!String(Symbol())})},{"../internals/fails":"pWu7"}],oqXF:[function(require,module,exports){var classof=require("../internals/classof-raw");module.exports=Array.isArray||function(arg){return"Array"==classof(arg)}},{"../internals/classof-raw":"jUdy"}],Q9KC:[function(require,module,exports){var requireObjectCoercible=require("../internals/require-object-coercible");module.exports=function(argument){return Object(requireObjectCoercible(argument))}},{"../internals/require-object-coercible":"RWPB"}],rmL3:[function(require,module,exports){var internalObjectKeys=require("../internals/object-keys-internal"),enumBugKeys=require("../internals/enum-bug-keys");module.exports=Object.keys||function(O){return internalObjectKeys(O,enumBugKeys)}},{"../internals/object-keys-internal":"ijOr","../internals/enum-bug-keys":"asST"}],ZdKd:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),definePropertyModule=require("../internals/object-define-property"),anObject=require("../internals/an-object"),objectKeys=require("../internals/object-keys");module.exports=DESCRIPTORS?Object.defineProperties:function(O,Properties){anObject(O);for(var key,keys=objectKeys(Properties),length=keys.length,index=0;length>index;)definePropertyModule.f(O,key=keys[index++],Properties[key]);return O}},{"../internals/descriptors":"A8Ob","../internals/object-define-property":"AtXZ","../internals/an-object":"eAPg","../internals/object-keys":"rmL3"}],tTwY:[function(require,module,exports){var getBuiltIn=require("../internals/get-built-in");module.exports=getBuiltIn("document","documentElement")},{"../internals/get-built-in":"mLk8"}],zWsZ:[function(require,module,exports){var anObject=require("../internals/an-object"),defineProperties=require("../internals/object-define-properties"),enumBugKeys=require("../internals/enum-bug-keys"),hiddenKeys=require("../internals/hidden-keys"),html=require("../internals/html"),documentCreateElement=require("../internals/document-create-element"),IE_PROTO=require("../internals/shared-key")("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=documentCreateElement("iframe"),length=enumBugKeys.length;for(iframe.style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;length--;)delete createDict.prototype[enumBugKeys[length]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:defineProperties(result,Properties)},hiddenKeys[IE_PROTO]=!0},{"../internals/an-object":"eAPg","../internals/object-define-properties":"ZdKd","../internals/enum-bug-keys":"asST","../internals/hidden-keys":"Ln6o","../internals/html":"tTwY","../internals/document-create-element":"tvdn","../internals/shared-key":"OIOG"}],BNtO:[function(require,module,exports){var toIndexedObject=require("../internals/to-indexed-object"),nativeGetOwnPropertyNames=require("../internals/object-get-own-property-names").f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return nativeGetOwnPropertyNames(it)}catch(error){return windowNames.slice()}}(it):nativeGetOwnPropertyNames(toIndexedObject(it))}},{"../internals/to-indexed-object":"ebRX","../internals/object-get-own-property-names":"QFCk"}],Q0EA:[function(require,module,exports){var global=require("../internals/global"),shared=require("../internals/shared"),uid=require("../internals/uid"),NATIVE_SYMBOL=require("../internals/native-symbol"),Symbol=global.Symbol,store=shared("wks");module.exports=function(name){return store[name]||(store[name]=NATIVE_SYMBOL&&Symbol[name]||(NATIVE_SYMBOL?Symbol:uid)("Symbol."+name))}},{"../internals/global":"MVLi","../internals/shared":"B1yS","../internals/uid":"bxyG","../internals/native-symbol":"PgsN"}],oKgm:[function(require,module,exports){exports.f=require("../internals/well-known-symbol")},{"../internals/well-known-symbol":"Q0EA"}],TzLT:[function(require,module,exports){var path=require("../internals/path"),has=require("../internals/has"),wrappedWellKnownSymbolModule=require("../internals/wrapped-well-known-symbol"),defineProperty=require("../internals/object-define-property").f;module.exports=function(NAME){var Symbol=path.Symbol||(path.Symbol={});has(Symbol,NAME)||defineProperty(Symbol,NAME,{value:wrappedWellKnownSymbolModule.f(NAME)})}},{"../internals/path":"hMfB","../internals/has":"jYdl","../internals/wrapped-well-known-symbol":"oKgm","../internals/object-define-property":"AtXZ"}],kLCt:[function(require,module,exports){var defineProperty=require("../internals/object-define-property").f,has=require("../internals/has"),TO_STRING_TAG=require("../internals/well-known-symbol")("toStringTag");module.exports=function(it,TAG,STATIC){it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG)&&defineProperty(it,TO_STRING_TAG,{configurable:!0,value:TAG})}},{"../internals/object-define-property":"AtXZ","../internals/has":"jYdl","../internals/well-known-symbol":"Q0EA"}],SOPX:[function(require,module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(String(it)+" is not a function");return it}},{}],NohZ:[function(require,module,exports){var aFunction=require("../internals/a-function");module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"../internals/a-function":"SOPX"}],e6WL:[function(require,module,exports){var isObject=require("../internals/is-object"),isArray=require("../internals/is-array"),SPECIES=require("../internals/well-known-symbol")("species");module.exports=function(originalArray,length){var C;return isArray(originalArray)&&("function"!=typeof(C=originalArray.constructor)||C!==Array&&!isArray(C.prototype)?isObject(C)&&null===(C=C[SPECIES])&&(C=void 0):C=void 0),new(void 0===C?Array:C)(0===length?0:length)}},{"../internals/is-object":"AsqF","../internals/is-array":"oqXF","../internals/well-known-symbol":"Q0EA"}],EUh8:[function(require,module,exports){var bind=require("../internals/bind-context"),IndexedObject=require("../internals/indexed-object"),toObject=require("../internals/to-object"),toLength=require("../internals/to-length"),arraySpeciesCreate=require("../internals/array-species-create"),push=[].push,createMethod=function(TYPE){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject($this),self=IndexedObject(O),boundFunction=bind(callbackfn,that,3),length=toLength(self.length),index=0,create=specificCreate||arraySpeciesCreate,target=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push.call(target,value)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},{"../internals/bind-context":"NohZ","../internals/indexed-object":"Nn1j","../internals/to-object":"Q9KC","../internals/to-length":"j9AG","../internals/array-species-create":"e6WL"}],diqY:[function(require,module,exports){"use strict";var $=require("../internals/export"),global=require("../internals/global"),IS_PURE=require("../internals/is-pure"),DESCRIPTORS=require("../internals/descriptors"),NATIVE_SYMBOL=require("../internals/native-symbol"),fails=require("../internals/fails"),has=require("../internals/has"),isArray=require("../internals/is-array"),isObject=require("../internals/is-object"),anObject=require("../internals/an-object"),toObject=require("../internals/to-object"),toIndexedObject=require("../internals/to-indexed-object"),toPrimitive=require("../internals/to-primitive"),createPropertyDescriptor=require("../internals/create-property-descriptor"),nativeObjectCreate=require("../internals/object-create"),objectKeys=require("../internals/object-keys"),getOwnPropertyNamesModule=require("../internals/object-get-own-property-names"),getOwnPropertyNamesExternal=require("../internals/object-get-own-property-names-external"),getOwnPropertySymbolsModule=require("../internals/object-get-own-property-symbols"),getOwnPropertyDescriptorModule=require("../internals/object-get-own-property-descriptor"),definePropertyModule=require("../internals/object-define-property"),propertyIsEnumerableModule=require("../internals/object-property-is-enumerable"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),redefine=require("../internals/redefine"),shared=require("../internals/shared"),sharedKey=require("../internals/shared-key"),hiddenKeys=require("../internals/hidden-keys"),uid=require("../internals/uid"),wellKnownSymbol=require("../internals/well-known-symbol"),wrappedWellKnownSymbolModule=require("../internals/wrapped-well-known-symbol"),defineWellKnownSymbol=require("../internals/define-well-known-symbol"),setToStringTag=require("../internals/set-to-string-tag"),InternalStateModule=require("../internals/internal-state"),$forEach=require("../internals/array-iteration").forEach,HIDDEN=sharedKey("hidden"),TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Symbol"),ObjectPrototype=Object.prototype,$Symbol=global.Symbol,JSON=global.JSON,nativeJSONStringify=JSON&&JSON.stringify,nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry"),WellKnownSymbolsStore=shared("wks"),QObject=global.QObject,USE_SETTER=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDescriptor=DESCRIPTORS&&fails(function(){return 7!=nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a})?function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor(ObjectPrototype,P);ObjectPrototypeDescriptor&&delete ObjectPrototype[P],nativeDefineProperty(O,P,Attributes),ObjectPrototypeDescriptor&&O!==ObjectPrototype&&nativeDefineProperty(ObjectPrototype,P,ObjectPrototypeDescriptor)}:nativeDefineProperty,wrap=function(tag,description){var symbol=AllSymbols[tag]=nativeObjectCreate($Symbol.prototype);return setInternalState(symbol,{type:"Symbol",tag:tag,description:description}),DESCRIPTORS||(symbol.description=description),symbol},isSymbol=NATIVE_SYMBOL&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return Object(it)instanceof $Symbol},$defineProperty=function(O,P,Attributes){O===ObjectPrototype&&$defineProperty(ObjectPrototypeSymbols,P,Attributes),anObject(O);var key=toPrimitive(P,!0);return anObject(Attributes),has(AllSymbols,key)?(Attributes.enumerable?(has(O,HIDDEN)&&O[HIDDEN][key]&&(O[HIDDEN][key]=!1),Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor(0,!1)})):(has(O,HIDDEN)||nativeDefineProperty(O,HIDDEN,createPropertyDescriptor(1,{})),O[HIDDEN][key]=!0),setSymbolDescriptor(O,key,Attributes)):nativeDefineProperty(O,key,Attributes)},$defineProperties=function(O,Properties){anObject(O);var properties=toIndexedObject(Properties),keys=objectKeys(properties).concat($getOwnPropertySymbols(properties));return $forEach(keys,function(key){DESCRIPTORS&&!$propertyIsEnumerable.call(properties,key)||$defineProperty(O,key,properties[key])}),O},$propertyIsEnumerable=function(V){var P=toPrimitive(V,!0),enumerable=nativePropertyIsEnumerable.call(this,P);return!(this===ObjectPrototype&&has(AllSymbols,P)&&!has(ObjectPrototypeSymbols,P))&&(!(enumerable||!has(this,P)||!has(AllSymbols,P)||has(this,HIDDEN)&&this[HIDDEN][P])||enumerable)},$getOwnPropertyDescriptor=function(O,P){var it=toIndexedObject(O),key=toPrimitive(P,!0);if(it!==ObjectPrototype||!has(AllSymbols,key)||has(ObjectPrototypeSymbols,key)){var descriptor=nativeGetOwnPropertyDescriptor(it,key);return!descriptor||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(descriptor.enumerable=!0),descriptor}},$getOwnPropertyNames=function(O){var names=nativeGetOwnPropertyNames(toIndexedObject(O)),result=[];return $forEach(names,function(key){has(AllSymbols,key)||has(hiddenKeys,key)||result.push(key)}),result},$getOwnPropertySymbols=function(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype,names=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject(O)),result=[];return $forEach(names,function(key){!has(AllSymbols,key)||IS_OBJECT_PROTOTYPE&&!has(ObjectPrototype,key)||result.push(AllSymbols[key])}),result};NATIVE_SYMBOL||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");var description=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,tag=uid(description),setter=function(value){this===ObjectPrototype&&setter.call(ObjectPrototypeSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDescriptor(this,tag,createPropertyDescriptor(1,value))};return DESCRIPTORS&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype,tag,{configurable:!0,set:setter}),wrap(tag,description)}).prototype,"toString",function(){return getInternalState(this).tag}),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule.f=$defineProperty,getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule.f=$getOwnPropertySymbols,DESCRIPTORS&&(nativeDefineProperty($Symbol.prototype,"description",{configurable:!0,get:function(){return getInternalState(this).description}}),IS_PURE||redefine(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0})),wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol(name),name)}),$({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol}),$forEach(objectKeys(WellKnownSymbolsStore),function(name){defineWellKnownSymbol(name)}),$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL},{for:function(key){var string=String(key);if(has(StringToSymbolRegistry,string))return StringToSymbolRegistry[string];var symbol=$Symbol(string);return StringToSymbolRegistry[string]=symbol,SymbolToStringRegistry[symbol]=string,symbol},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol");if(has(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]},useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:function(O,Properties){return void 0===Properties?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$({target:"Object",stat:!0,forced:fails(function(){getOwnPropertySymbolsModule.f(1)})},{getOwnPropertySymbols:function(it){return getOwnPropertySymbolsModule.f(toObject(it))}}),JSON&&$({target:"JSON",stat:!0,forced:!NATIVE_SYMBOL||fails(function(){var symbol=$Symbol();return"[null]"!=nativeJSONStringify([symbol])||"{}"!=nativeJSONStringify({a:symbol})||"{}"!=nativeJSONStringify(Object(symbol))})},{stringify:function(it){for(var replacer,$replacer,args=[it],index=1;arguments.length>index;)args.push(arguments[index++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,nativeJSONStringify.apply(JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||createNonEnumerableProperty($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),hiddenKeys[HIDDEN]=!0},{"../internals/export":"rhEq","../internals/global":"MVLi","../internals/is-pure":"tGwT","../internals/descriptors":"A8Ob","../internals/native-symbol":"PgsN","../internals/fails":"pWu7","../internals/has":"jYdl","../internals/is-array":"oqXF","../internals/is-object":"AsqF","../internals/an-object":"eAPg","../internals/to-object":"Q9KC","../internals/to-indexed-object":"ebRX","../internals/to-primitive":"wZyz","../internals/create-property-descriptor":"oNyT","../internals/object-create":"zWsZ","../internals/object-keys":"rmL3","../internals/object-get-own-property-names":"QFCk","../internals/object-get-own-property-names-external":"BNtO","../internals/object-get-own-property-symbols":"uqTD","../internals/object-get-own-property-descriptor":"zm15","../internals/object-define-property":"AtXZ","../internals/object-property-is-enumerable":"sC3y","../internals/create-non-enumerable-property":"GwPZ","../internals/redefine":"ztZs","../internals/shared":"B1yS","../internals/shared-key":"OIOG","../internals/hidden-keys":"Ln6o","../internals/uid":"bxyG","../internals/well-known-symbol":"Q0EA","../internals/wrapped-well-known-symbol":"oKgm","../internals/define-well-known-symbol":"TzLT","../internals/set-to-string-tag":"kLCt","../internals/internal-state":"vLSK","../internals/array-iteration":"EUh8"}],aWUw:[function(require,module,exports){"use strict";var DESCRIPTORS=require("../internals/descriptors"),fails=require("../internals/fails"),objectKeys=require("../internals/object-keys"),getOwnPropertySymbolsModule=require("../internals/object-get-own-property-symbols"),propertyIsEnumerableModule=require("../internals/object-property-is-enumerable"),toObject=require("../internals/to-object"),IndexedObject=require("../internals/indexed-object"),nativeAssign=Object.assign;module.exports=!nativeAssign||fails(function(){var A={},B={},symbol=Symbol();return A[symbol]=7,"abcdefghijklmnopqrst".split("").forEach(function(chr){B[chr]=chr}),7!=nativeAssign({},A)[symbol]||"abcdefghijklmnopqrst"!=objectKeys(nativeAssign({},B)).join("")})?function(target,source){for(var T=toObject(target),argumentsLength=arguments.length,index=1,getOwnPropertySymbols=getOwnPropertySymbolsModule.f,propertyIsEnumerable=propertyIsEnumerableModule.f;argumentsLength>index;)for(var key,S=IndexedObject(arguments[index++]),keys=getOwnPropertySymbols?objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],DESCRIPTORS&&!propertyIsEnumerable.call(S,key)||(T[key]=S[key]);return T}:nativeAssign},{"../internals/descriptors":"A8Ob","../internals/fails":"pWu7","../internals/object-keys":"rmL3","../internals/object-get-own-property-symbols":"uqTD","../internals/object-property-is-enumerable":"sC3y","../internals/to-object":"Q9KC","../internals/indexed-object":"Nn1j"}],d93j:[function(require,module,exports){var $=require("../internals/export"),assign=require("../internals/object-assign");$({target:"Object",stat:!0,forced:Object.assign!==assign},{assign:assign})},{"../internals/export":"rhEq","../internals/object-assign":"aWUw"}],pv5m:[function(require,module,exports){require("../internals/export")({target:"Object",stat:!0,sham:!require("../internals/descriptors")},{create:require("../internals/object-create")})},{"../internals/export":"rhEq","../internals/descriptors":"A8Ob","../internals/object-create":"zWsZ"}],XOQw:[function(require,module,exports){var $=require("../internals/export"),DESCRIPTORS=require("../internals/descriptors");$({target:"Object",stat:!0,forced:!DESCRIPTORS,sham:!DESCRIPTORS},{defineProperty:require("../internals/object-define-property").f})},{"../internals/export":"rhEq","../internals/descriptors":"A8Ob","../internals/object-define-property":"AtXZ"}],ddJ4:[function(require,module,exports){var $=require("../internals/export"),DESCRIPTORS=require("../internals/descriptors");$({target:"Object",stat:!0,forced:!DESCRIPTORS,sham:!DESCRIPTORS},{defineProperties:require("../internals/object-define-properties")})},{"../internals/export":"rhEq","../internals/descriptors":"A8Ob","../internals/object-define-properties":"ZdKd"}],v9Vj:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),objectKeys=require("../internals/object-keys"),toIndexedObject=require("../internals/to-indexed-object"),propertyIsEnumerable=require("../internals/object-property-is-enumerable").f,createMethod=function(TO_ENTRIES){return function(it){for(var key,O=toIndexedObject(it),keys=objectKeys(O),length=keys.length,i=0,result=[];length>i;)key=keys[i++],DESCRIPTORS&&!propertyIsEnumerable.call(O,key)||result.push(TO_ENTRIES?[key,O[key]]:O[key]);return result}};module.exports={entries:createMethod(!0),values:createMethod(!1)}},{"../internals/descriptors":"A8Ob","../internals/object-keys":"rmL3","../internals/to-indexed-object":"ebRX","../internals/object-property-is-enumerable":"sC3y"}],KgVf:[function(require,module,exports){var $=require("../internals/export"),$entries=require("../internals/object-to-array").entries;$({target:"Object",stat:!0},{entries:function(O){return $entries(O)}})},{"../internals/export":"rhEq","../internals/object-to-array":"v9Vj"}],ZrZO:[function(require,module,exports){var fails=require("../internals/fails");module.exports=!fails(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":"pWu7"}],Cjms:[function(require,module,exports){var hiddenKeys=require("../internals/hidden-keys"),isObject=require("../internals/is-object"),has=require("../internals/has"),defineProperty=require("../internals/object-define-property").f,uid=require("../internals/uid"),FREEZING=require("../internals/freezing"),METADATA=uid("meta"),id=0,isExtensible=Object.isExtensible||function(){return!0},setMetadata=function(it){defineProperty(it,METADATA,{value:{objectID:"O"+ ++id,weakData:{}}})},meta=module.exports={REQUIRED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,METADATA)){if(!isExtensible(it))return"F";if(!create)return"E";setMetadata(it)}return it[METADATA].objectID},getWeakData:function(it,create){if(!has(it,METADATA)){if(!isExtensible(it))return!0;if(!create)return!1;setMetadata(it)}return it[METADATA].weakData},onFreeze:function(it){return FREEZING&&meta.REQUIRED&&isExtensible(it)&&!has(it,METADATA)&&setMetadata(it),it}};hiddenKeys[METADATA]=!0},{"../internals/hidden-keys":"Ln6o","../internals/is-object":"AsqF","../internals/has":"jYdl","../internals/object-define-property":"AtXZ","../internals/uid":"bxyG","../internals/freezing":"ZrZO"}],LUIK:[function(require,module,exports){var $=require("../internals/export"),FREEZING=require("../internals/freezing"),fails=require("../internals/fails"),isObject=require("../internals/is-object"),onFreeze=require("../internals/internal-metadata").onFreeze,nativeFreeze=Object.freeze;$({target:"Object",stat:!0,forced:fails(function(){nativeFreeze(1)}),sham:!FREEZING},{freeze:function(it){return nativeFreeze&&isObject(it)?nativeFreeze(onFreeze(it)):it}})},{"../internals/export":"rhEq","../internals/freezing":"ZrZO","../internals/fails":"pWu7","../internals/is-object":"AsqF","../internals/internal-metadata":"Cjms"}],XTOV:[function(require,module,exports){var wellKnownSymbol=require("../internals/well-known-symbol"),Iterators=require("../internals/iterators"),ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},{"../internals/well-known-symbol":"Q0EA","../internals/iterators":"Ln6o"}],rs2T:[function(require,module,exports){var classofRaw=require("../internals/classof-raw"),TO_STRING_TAG=require("../internals/well-known-symbol")("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}());module.exports=function(it){var O,tag,result;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(error){}}(O=Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"==(result=classofRaw(O))&&"function"==typeof O.callee?"Arguments":result}},{"../internals/classof-raw":"jUdy","../internals/well-known-symbol":"Q0EA"}],VM64:[function(require,module,exports){var classof=require("../internals/classof"),Iterators=require("../internals/iterators"),ITERATOR=require("../internals/well-known-symbol")("iterator");module.exports=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"../internals/classof":"rs2T","../internals/iterators":"Ln6o","../internals/well-known-symbol":"Q0EA"}],DQY6:[function(require,module,exports){var anObject=require("../internals/an-object");module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){var returnMethod=iterator.return;throw void 0!==returnMethod&&anObject(returnMethod.call(iterator)),error}}},{"../internals/an-object":"eAPg"}],Oj1G:[function(require,module,exports){var anObject=require("../internals/an-object"),isArrayIteratorMethod=require("../internals/is-array-iterator-method"),toLength=require("../internals/to-length"),bind=require("../internals/bind-context"),getIteratorMethod=require("../internals/get-iterator-method"),callWithSafeIterationClosing=require("../internals/call-with-safe-iteration-closing"),Result=function(stopped,result){this.stopped=stopped,this.result=result};(module.exports=function(iterable,fn,that,AS_ENTRIES,IS_ITERATOR){var iterator,iterFn,index,length,result,next,step,boundFunction=bind(fn,that,AS_ENTRIES?2:1);if(IS_ITERATOR)iterator=iterable;else{if("function"!=typeof(iterFn=getIteratorMethod(iterable)))throw TypeError("Target is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=toLength(iterable.length);length>index;index++)if((result=AS_ENTRIES?boundFunction(anObject(step=iterable[index])[0],step[1]):boundFunction(iterable[index]))&&result instanceof Result)return result;return new Result(!1)}iterator=iterFn.call(iterable)}for(next=iterator.next;!(step=next.call(iterator)).done;)if("object"==typeof(result=callWithSafeIterationClosing(iterator,boundFunction,step.value,AS_ENTRIES))&&result&&result instanceof Result)return result;return new Result(!1)}).stop=function(result){return new Result(!0,result)}},{"../internals/an-object":"eAPg","../internals/is-array-iterator-method":"XTOV","../internals/to-length":"j9AG","../internals/bind-context":"NohZ","../internals/get-iterator-method":"VM64","../internals/call-with-safe-iteration-closing":"DQY6"}],qU9w:[function(require,module,exports){"use strict";var toPrimitive=require("../internals/to-primitive"),definePropertyModule=require("../internals/object-define-property"),createPropertyDescriptor=require("../internals/create-property-descriptor");module.exports=function(object,key,value){var propertyKey=toPrimitive(key);propertyKey in object?definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value)):object[propertyKey]=value}},{"../internals/to-primitive":"wZyz","../internals/object-define-property":"AtXZ","../internals/create-property-descriptor":"oNyT"}],UciR:[function(require,module,exports){var $=require("../internals/export"),iterate=require("../internals/iterate"),createProperty=require("../internals/create-property");$({target:"Object",stat:!0},{fromEntries:function(iterable){var obj={};return iterate(iterable,function(k,v){createProperty(obj,k,v)},void 0,!0),obj}})},{"../internals/export":"rhEq","../internals/iterate":"Oj1G","../internals/create-property":"qU9w"}],WFGt:[function(require,module,exports){var $=require("../internals/export"),fails=require("../internals/fails"),toIndexedObject=require("../internals/to-indexed-object"),nativeGetOwnPropertyDescriptor=require("../internals/object-get-own-property-descriptor").f,DESCRIPTORS=require("../internals/descriptors"),FAILS_ON_PRIMITIVES=fails(function(){nativeGetOwnPropertyDescriptor(1)});$({target:"Object",stat:!0,forced:!DESCRIPTORS||FAILS_ON_PRIMITIVES,sham:!DESCRIPTORS},{getOwnPropertyDescriptor:function(it,key){return nativeGetOwnPropertyDescriptor(toIndexedObject(it),key)}})},{"../internals/export":"rhEq","../internals/fails":"pWu7","../internals/to-indexed-object":"ebRX","../internals/object-get-own-property-descriptor":"zm15","../internals/descriptors":"A8Ob"}],aLxV:[function(require,module,exports){var $=require("../internals/export"),DESCRIPTORS=require("../internals/descriptors"),ownKeys=require("../internals/own-keys"),toIndexedObject=require("../internals/to-indexed-object"),getOwnPropertyDescriptorModule=require("../internals/object-get-own-property-descriptor"),createProperty=require("../internals/create-property");$({target:"Object",stat:!0,sham:!DESCRIPTORS},{getOwnPropertyDescriptors:function(object){for(var key,descriptor,O=toIndexedObject(object),getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,keys=ownKeys(O),result={},index=0;keys.length>index;)void 0!==(descriptor=getOwnPropertyDescriptor(O,key=keys[index++]))&&createProperty(result,key,descriptor);return result}})},{"../internals/export":"rhEq","../internals/descriptors":"A8Ob","../internals/own-keys":"uZDC","../internals/to-indexed-object":"ebRX","../internals/object-get-own-property-descriptor":"zm15","../internals/create-property":"qU9w"}],LvRP:[function(require,module,exports){var $=require("../internals/export"),fails=require("../internals/fails"),nativeGetOwnPropertyNames=require("../internals/object-get-own-property-names-external").f;$({target:"Object",stat:!0,forced:fails(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:nativeGetOwnPropertyNames})},{"../internals/export":"rhEq","../internals/fails":"pWu7","../internals/object-get-own-property-names-external":"BNtO"}],x9wq:[function(require,module,exports){var fails=require("../internals/fails");module.exports=!fails(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},{"../internals/fails":"pWu7"}],xeyN:[function(require,module,exports){var has=require("../internals/has"),toObject=require("../internals/to-object"),sharedKey=require("../internals/shared-key"),CORRECT_PROTOTYPE_GETTER=require("../internals/correct-prototype-getter"),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectPrototype:null}},{"../internals/has":"jYdl","../internals/to-object":"Q9KC","../internals/shared-key":"OIOG","../internals/correct-prototype-getter":"x9wq"}],jz0x:[function(require,module,exports){var $=require("../internals/export"),fails=require("../internals/fails"),toObject=require("../internals/to-object"),nativeGetPrototypeOf=require("../internals/object-get-prototype-of"),CORRECT_PROTOTYPE_GETTER=require("../internals/correct-prototype-getter");$({target:"Object",stat:!0,forced:fails(function(){nativeGetPrototypeOf(1)}),sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function(it){return nativeGetPrototypeOf(toObject(it))}})},{"../internals/export":"rhEq","../internals/fails":"pWu7","../internals/to-object":"Q9KC","../internals/object-get-prototype-of":"xeyN","../internals/correct-prototype-getter":"x9wq"}],bfhi:[function(require,module,exports){module.exports=Object.is||function(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}},{}],uxHM:[function(require,module,exports){require("../internals/export")({target:"Object",stat:!0},{is:require("../internals/same-value")})},{"../internals/export":"rhEq","../internals/same-value":"bfhi"}],jX7X:[function(require,module,exports){var $=require("../internals/export"),fails=require("../internals/fails"),isObject=require("../internals/is-object"),nativeIsExtensible=Object.isExtensible;$({target:"Object",stat:!0,forced:fails(function(){nativeIsExtensible(1)})},{isExtensible:function(it){return!!isObject(it)&&(!nativeIsExtensible||nativeIsExtensible(it))}})},{"../internals/export":"rhEq","../internals/fails":"pWu7","../internals/is-object":"AsqF"}],kdOB:[function(require,module,exports){var $=require("../internals/export"),fails=require("../internals/fails"),isObject=require("../internals/is-object"),nativeIsFrozen=Object.isFrozen;$({target:"Object",stat:!0,forced:fails(function(){nativeIsFrozen(1)})},{isFrozen:function(it){return!isObject(it)||!!nativeIsFrozen&&nativeIsFrozen(it)}})},{"../internals/export":"rhEq","../internals/fails":"pWu7","../internals/is-object":"AsqF"}],gpJf:[function(require,module,exports){var $=require("../internals/export"),fails=require("../internals/fails"),isObject=require("../internals/is-object"),nativeIsSealed=Object.isSealed;$({target:"Object",stat:!0,forced:fails(function(){nativeIsSealed(1)})},{isSealed:function(it){return!isObject(it)||!!nativeIsSealed&&nativeIsSealed(it)}})},{"../internals/export":"rhEq","../internals/fails":"pWu7","../internals/is-object":"AsqF"}],Y3qw:[function(require,module,exports){var $=require("../internals/export"),toObject=require("../internals/to-object"),nativeKeys=require("../internals/object-keys");$({target:"Object",stat:!0,forced:require("../internals/fails")(function(){nativeKeys(1)})},{keys:function(it){return nativeKeys(toObject(it))}})},{"../internals/export":"rhEq","../internals/to-object":"Q9KC","../internals/object-keys":"rmL3","../internals/fails":"pWu7"}],WvM7:[function(require,module,exports){var $=require("../internals/export"),isObject=require("../internals/is-object"),onFreeze=require("../internals/internal-metadata").onFreeze,FREEZING=require("../internals/freezing"),fails=require("../internals/fails"),nativePreventExtensions=Object.preventExtensions;$({target:"Object",stat:!0,forced:fails(function(){nativePreventExtensions(1)}),sham:!FREEZING},{preventExtensions:function(it){return nativePreventExtensions&&isObject(it)?nativePreventExtensions(onFreeze(it)):it}})},{"../internals/export":"rhEq","../internals/is-object":"AsqF","../internals/internal-metadata":"Cjms","../internals/freezing":"ZrZO","../internals/fails":"pWu7"}],bZLD:[function(require,module,exports){var $=require("../internals/export"),isObject=require("../internals/is-object"),onFreeze=require("../internals/internal-metadata").onFreeze,FREEZING=require("../internals/freezing"),fails=require("../internals/fails"),nativeSeal=Object.seal;$({target:"Object",stat:!0,forced:fails(function(){nativeSeal(1)}),sham:!FREEZING},{seal:function(it){return nativeSeal&&isObject(it)?nativeSeal(onFreeze(it)):it}})},{"../internals/export":"rhEq","../internals/is-object":"AsqF","../internals/internal-metadata":"Cjms","../internals/freezing":"ZrZO","../internals/fails":"pWu7"}],ckfP:[function(require,module,exports){var isObject=require("../internals/is-object");module.exports=function(it){if(!isObject(it)&&null!==it)throw TypeError("Can't set "+String(it)+" as a prototype");return it}},{"../internals/is-object":"AsqF"}],eDCX:[function(require,module,exports){var anObject=require("../internals/an-object"),aPossiblePrototype=require("../internals/a-possible-prototype");module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,CORRECT_SETTER=!1,test={};try{(setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function(O,proto){return anObject(O),aPossiblePrototype(proto),CORRECT_SETTER?setter.call(O,proto):O.__proto__=proto,O}}():void 0)},{"../internals/an-object":"eAPg","../internals/a-possible-prototype":"ckfP"}],Cykw:[function(require,module,exports){require("../internals/export")({target:"Object",stat:!0},{setPrototypeOf:require("../internals/object-set-prototype-of")})},{"../internals/export":"rhEq","../internals/object-set-prototype-of":"eDCX"}],HUM5:[function(require,module,exports){var $=require("../internals/export"),$values=require("../internals/object-to-array").values;$({target:"Object",stat:!0},{values:function(O){return $values(O)}})},{"../internals/export":"rhEq","../internals/object-to-array":"v9Vj"}],oSqY:[function(require,module,exports){"use strict";var classof=require("../internals/classof"),test={};test[require("../internals/well-known-symbol")("toStringTag")]="z",module.exports="[object z]"!==String(test)?function(){return"[object "+classof(this)+"]"}:test.toString},{"../internals/classof":"rs2T","../internals/well-known-symbol":"Q0EA"}],ecHe:[function(require,module,exports){var redefine=require("../internals/redefine"),toString=require("../internals/object-to-string"),ObjectPrototype=Object.prototype;toString!==ObjectPrototype.toString&&redefine(ObjectPrototype,"toString",toString,{unsafe:!0})},{"../internals/redefine":"ztZs","../internals/object-to-string":"oSqY"}],HVQn:[function(require,module,exports){"use strict";var IS_PURE=require("../internals/is-pure"),global=require("../internals/global"),fails=require("../internals/fails");module.exports=IS_PURE||!fails(function(){var key=Math.random();__defineSetter__.call(null,key,function(){}),delete global[key]})},{"../internals/is-pure":"tGwT","../internals/global":"MVLi","../internals/fails":"pWu7"}],PTAU:[function(require,module,exports){"use strict";var $=require("../internals/export"),DESCRIPTORS=require("../internals/descriptors"),FORCED=require("../internals/forced-object-prototype-accessors-methods"),toObject=require("../internals/to-object"),aFunction=require("../internals/a-function"),definePropertyModule=require("../internals/object-define-property");DESCRIPTORS&&$({target:"Object",proto:!0,forced:FORCED},{__defineGetter__:function(P,getter){definePropertyModule.f(toObject(this),P,{get:aFunction(getter),enumerable:!0,configurable:!0})}})},{"../internals/export":"rhEq","../internals/descriptors":"A8Ob","../internals/forced-object-prototype-accessors-methods":"HVQn","../internals/to-object":"Q9KC","../internals/a-function":"SOPX","../internals/object-define-property":"AtXZ"}],PzdO:[function(require,module,exports){"use strict";var $=require("../internals/export"),DESCRIPTORS=require("../internals/descriptors"),FORCED=require("../internals/forced-object-prototype-accessors-methods"),toObject=require("../internals/to-object"),aFunction=require("../internals/a-function"),definePropertyModule=require("../internals/object-define-property");DESCRIPTORS&&$({target:"Object",proto:!0,forced:FORCED},{__defineSetter__:function(P,setter){definePropertyModule.f(toObject(this),P,{set:aFunction(setter),enumerable:!0,configurable:!0})}})},{"../internals/export":"rhEq","../internals/descriptors":"A8Ob","../internals/forced-object-prototype-accessors-methods":"HVQn","../internals/to-object":"Q9KC","../internals/a-function":"SOPX","../internals/object-define-property":"AtXZ"}],haYq:[function(require,module,exports){"use strict";var $=require("../internals/export"),DESCRIPTORS=require("../internals/descriptors"),FORCED=require("../internals/forced-object-prototype-accessors-methods"),toObject=require("../internals/to-object"),toPrimitive=require("../internals/to-primitive"),getPrototypeOf=require("../internals/object-get-prototype-of"),getOwnPropertyDescriptor=require("../internals/object-get-own-property-descriptor").f;DESCRIPTORS&&$({target:"Object",proto:!0,forced:FORCED},{__lookupGetter__:function(P){var desc,O=toObject(this),key=toPrimitive(P,!0);do{if(desc=getOwnPropertyDescriptor(O,key))return desc.get}while(O=getPrototypeOf(O))}})},{"../internals/export":"rhEq","../internals/descriptors":"A8Ob","../internals/forced-object-prototype-accessors-methods":"HVQn","../internals/to-object":"Q9KC","../internals/to-primitive":"wZyz","../internals/object-get-prototype-of":"xeyN","../internals/object-get-own-property-descriptor":"zm15"}],vTXd:[function(require,module,exports){"use strict";var $=require("../internals/export"),DESCRIPTORS=require("../internals/descriptors"),FORCED=require("../internals/forced-object-prototype-accessors-methods"),toObject=require("../internals/to-object"),toPrimitive=require("../internals/to-primitive"),getPrototypeOf=require("../internals/object-get-prototype-of"),getOwnPropertyDescriptor=require("../internals/object-get-own-property-descriptor").f;DESCRIPTORS&&$({target:"Object",proto:!0,forced:FORCED},{__lookupSetter__:function(P){var desc,O=toObject(this),key=toPrimitive(P,!0);do{if(desc=getOwnPropertyDescriptor(O,key))return desc.set}while(O=getPrototypeOf(O))}})},{"../internals/export":"rhEq","../internals/descriptors":"A8Ob","../internals/forced-object-prototype-accessors-methods":"HVQn","../internals/to-object":"Q9KC","../internals/to-primitive":"wZyz","../internals/object-get-prototype-of":"xeyN","../internals/object-get-own-property-descriptor":"zm15"}],CevC:[function(require,module,exports){require("../internals/set-to-string-tag")(Math,"Math",!0)},{"../internals/set-to-string-tag":"kLCt"}],azWb:[function(require,module,exports){var global=require("../internals/global");require("../internals/set-to-string-tag")(global.JSON,"JSON",!0)},{"../internals/global":"MVLi","../internals/set-to-string-tag":"kLCt"}],GaBg:[function(require,module,exports){require("../../modules/es.symbol"),require("../../modules/es.object.assign"),require("../../modules/es.object.create"),require("../../modules/es.object.define-property"),require("../../modules/es.object.define-properties"),require("../../modules/es.object.entries"),require("../../modules/es.object.freeze"),require("../../modules/es.object.from-entries"),require("../../modules/es.object.get-own-property-descriptor"),require("../../modules/es.object.get-own-property-descriptors"),require("../../modules/es.object.get-own-property-names"),require("../../modules/es.object.get-prototype-of"),require("../../modules/es.object.is"),require("../../modules/es.object.is-extensible"),require("../../modules/es.object.is-frozen"),require("../../modules/es.object.is-sealed"),require("../../modules/es.object.keys"),require("../../modules/es.object.prevent-extensions"),require("../../modules/es.object.seal"),require("../../modules/es.object.set-prototype-of"),require("../../modules/es.object.values"),require("../../modules/es.object.to-string"),require("../../modules/es.object.define-getter"),require("../../modules/es.object.define-setter"),require("../../modules/es.object.lookup-getter"),require("../../modules/es.object.lookup-setter"),require("../../modules/es.math.to-string-tag"),require("../../modules/es.json.to-string-tag");var path=require("../../internals/path");module.exports=path.Object},{"../../modules/es.symbol":"diqY","../../modules/es.object.assign":"d93j","../../modules/es.object.create":"pv5m","../../modules/es.object.define-property":"XOQw","../../modules/es.object.define-properties":"ddJ4","../../modules/es.object.entries":"KgVf","../../modules/es.object.freeze":"LUIK","../../modules/es.object.from-entries":"UciR","../../modules/es.object.get-own-property-descriptor":"WFGt","../../modules/es.object.get-own-property-descriptors":"aLxV","../../modules/es.object.get-own-property-names":"LvRP","../../modules/es.object.get-prototype-of":"jz0x","../../modules/es.object.is":"uxHM","../../modules/es.object.is-extensible":"jX7X","../../modules/es.object.is-frozen":"kdOB","../../modules/es.object.is-sealed":"gpJf","../../modules/es.object.keys":"Y3qw","../../modules/es.object.prevent-extensions":"WvM7","../../modules/es.object.seal":"bZLD","../../modules/es.object.set-prototype-of":"Cykw","../../modules/es.object.values":"HUM5","../../modules/es.object.to-string":"ecHe","../../modules/es.object.define-getter":"PTAU","../../modules/es.object.define-setter":"PzdO","../../modules/es.object.lookup-getter":"haYq","../../modules/es.object.lookup-setter":"vTXd","../../modules/es.math.to-string-tag":"CevC","../../modules/es.json.to-string-tag":"azWb","../../internals/path":"hMfB"}],R3Ks:[function(require,module,exports){module.exports=require("../../es/object")},{"../../es/object":"GaBg"}],YJcD:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.c=RestangularFactory,exports.b=exports.a=exports.RestangularModule=exports.RestangularHttp=exports.Restangular=void 0;var _core=require("@angular/core"),_http=require("@angular/common/http"),_tslib=require("tslib"),_lodash=require("lodash"),_object=require("core-js/features/object"),_rxjs=require("rxjs"),_operators=require("rxjs/operators"),RESTANGULAR=new _core.InjectionToken("restangularWithConfig");function RestangularFactory(_a){var _b=(0,_tslib.__read)(_a,2),callbackOrServices=_b[0],callback=_b[1],arrServices=[],fn=callbackOrServices;return(0,_lodash.isArray)(callbackOrServices)&&(arrServices=callbackOrServices,fn=callback),{fn:fn,arrServices:arrServices}}exports.b=RESTANGULAR;var RestangularHelper=function(){function RestangularHelper(){}return RestangularHelper.createRequest=function(options){var requestQueryParams=RestangularHelper.createRequestQueryParams(options.params),requestHeaders=RestangularHelper.createRequestHeaders(options.headers),methodName=options.method.toUpperCase(),withCredentials=options.withCredentials||!1,request=new _http.HttpRequest(methodName,options.url,options.data,{headers:requestHeaders,params:requestQueryParams,responseType:options.responseType,withCredentials:withCredentials});return["GET","DELETE","HEAD","JSONP","OPTIONS"].indexOf(methodName)>=0&&(request=new _http.HttpRequest(methodName,options.url,{headers:requestHeaders,params:requestQueryParams,responseType:options.responseType,withCredentials:withCredentials})),request},RestangularHelper.createRequestQueryParams=function(queryParams){var requestQueryParams=(0,_object.assign)({},queryParams),search=new _http.HttpParams,_loop_1=function(key){var value=requestQueryParams[key];Array.isArray(value)?value.forEach(function(val){search=search.append(key,val)}):("object"==typeof value&&(value=JSON.stringify(value)),search=search.append(key,value))};for(var key in requestQueryParams)_loop_1(key);return search},RestangularHelper.createRequestHeaders=function(headers){for(var key in headers){void 0===headers[key]&&delete headers[key]}return new _http.HttpHeaders((0,_object.assign)({},headers))},RestangularHelper}(),RestangularHttp=function(){function RestangularHttp(http){this.http=http}return RestangularHttp.prototype.createRequest=function(options){var request=RestangularHelper.createRequest(options);return this.request(request)},RestangularHttp.prototype.request=function(request){var _this=this;return this.http.handle(request).pipe((0,_operators.filter)(function(event){return event instanceof _http.HttpResponse}),(0,_operators.map)(function(response){return response.ok?response:(0,_rxjs.throwError)(new _http.HttpErrorResponse(response))}),(0,_operators.map)(function(response){return response.config={params:request},response}),(0,_operators.catchError)(function(err){return err.request=request,err.data=err.error,err.repeatRequest=function(newRequest){return _this.request(newRequest||request)},(0,_rxjs.throwError)(err)}))},RestangularHttp.decorators=[{type:_core.Injectable}],RestangularHttp.ctorParameters=function(){return[{type:_http.HttpBackend}]},RestangularHttp}();function RestangularConfigurer(object,configuration){object.configuration=configuration;var safeMethods=["get","head","options","trace","getlist"];configuration.isSafe=function(operation){return(0,_lodash.includes)(safeMethods,operation.toLowerCase())};var absolutePattern=/^https?:\/\//i;configuration.isAbsoluteUrl=function(string){return(0,_lodash.isUndefined)(configuration.absoluteUrl)||(0,_lodash.isNull)(configuration.absoluteUrl)?string&&absolutePattern.test(string):configuration.absoluteUrl},configuration.absoluteUrl=!!(0,_lodash.isUndefined)(configuration.absoluteUrl)||configuration.absoluteUrl,object.setSelfLinkAbsoluteUrl=function(value){configuration.absoluteUrl=value},configuration.baseUrl=(0,_lodash.isUndefined)(configuration.baseUrl)?"":configuration.baseUrl,object.setBaseUrl=function(newBaseUrl){return configuration.baseUrl=/\/$/.test(newBaseUrl)?newBaseUrl.substring(0,newBaseUrl.length-1):newBaseUrl,this},configuration.extraFields=configuration.extraFields||[],object.setExtraFields=function(newExtraFields){return configuration.extraFields=newExtraFields,this},configuration.defaultHttpFields=configuration.defaultHttpFields||{},object.setDefaultHttpFields=function(values){return configuration.defaultHttpFields=values,this},configuration.plainByDefault=configuration.plainByDefault||!1,object.setPlainByDefault=function(value){return configuration.plainByDefault=!0===value,this},configuration.withHttpValues=function(httpLocalConfig,obj){return(0,_lodash.defaults)(obj,httpLocalConfig,configuration.defaultHttpFields)},configuration.encodeIds=!!(0,_lodash.isUndefined)(configuration.encodeIds)||configuration.encodeIds,object.setEncodeIds=function(encode){configuration.encodeIds=encode},configuration.defaultRequestParams=configuration.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},object.setDefaultRequestParams=function(param1,param2){var methods=[],params=param2||param1;return(0,_lodash.isUndefined)(param2)?methods.push("common"):(0,_lodash.isArray)(param1)?methods=param1:methods.push(param1),(0,_lodash.each)(methods,function(method){configuration.defaultRequestParams[method]=params}),this},object.requestParams=configuration.defaultRequestParams,configuration.defaultHeaders=configuration.defaultHeaders||{},object.setDefaultHeaders=function(headers){return configuration.defaultHeaders=headers,object.defaultHeaders=configuration.defaultHeaders,this},object.defaultHeaders=configuration.defaultHeaders,configuration.defaultResponseMethod=configuration.defaultResponseMethod||"promise",object.setDefaultResponseMethod=function(method){return configuration.defaultResponseMethod=method,object.defaultResponseMethod=configuration.defaultResponseMethod,this},object.defaultResponseMethod=configuration.defaultResponseMethod,configuration.methodOverriders=configuration.methodOverriders||[],object.setMethodOverriders=function(values){var overriders=(0,_lodash.extend)([],values);return configuration.isOverridenMethod("delete",overriders)&&overriders.push("remove"),configuration.methodOverriders=overriders,this},configuration.jsonp=!(0,_lodash.isUndefined)(configuration.jsonp)&&configuration.jsonp,object.setJsonp=function(active){configuration.jsonp=active},configuration.isOverridenMethod=function(method,values){var search=values||configuration.methodOverriders;return!(0,_lodash.isUndefined)((0,_lodash.find)(search,function(one){return one.toLowerCase()===method.toLowerCase()}))},configuration.urlCreator=configuration.urlCreator||"path",object.setUrlCreator=function(name){if(!(0,_lodash.has)(configuration.urlCreatorFactory,name))throw new Error("URL Path selected isn't valid");return configuration.urlCreator=name,this},configuration.restangularFields=configuration.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPATCH:"customPATCH",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPATCH:"doPATCH",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},object.setRestangularFields=function(resFields){return configuration.restangularFields=(0,_lodash.extend)({},configuration.restangularFields,resFields),this},configuration.isRestangularized=function(obj){return!!obj[configuration.restangularFields.restangularized]},configuration.setFieldToElem=function(field,elem,value){var properties=field.split("."),idValue=elem;(0,_lodash.each)((0,_lodash.initial)(properties),function(prop){idValue[prop]={},idValue=idValue[prop]});var index=(0,_lodash.last)(properties);return idValue[index]=value,this},configuration.getFieldFromElem=function(field,elem){var properties=field.split("."),idValue=elem;return(0,_lodash.each)(properties,function(prop){idValue&&(idValue=idValue[prop])}),(0,_lodash.clone)(idValue)},configuration.setIdToElem=function(elem,id){return configuration.setFieldToElem(configuration.restangularFields.id,elem,id),this},configuration.getIdFromElem=function(elem){return configuration.getFieldFromElem(configuration.restangularFields.id,elem)},configuration.isValidId=function(elemId){return""!==elemId&&!(0,_lodash.isUndefined)(elemId)&&!(0,_lodash.isNull)(elemId)},configuration.setUrlToElem=function(elem,url){return configuration.setFieldToElem(configuration.restangularFields.selfLink,elem,url),this},configuration.getUrlFromElem=function(elem){return configuration.getFieldFromElem(configuration.restangularFields.selfLink,elem)},configuration.useCannonicalId=!(0,_lodash.isUndefined)(configuration.useCannonicalId)&&configuration.useCannonicalId,object.setUseCannonicalId=function(value){return configuration.useCannonicalId=value,this},configuration.getCannonicalIdFromElem=function(elem){var cannonicalId=elem[configuration.restangularFields.cannonicalId];return configuration.isValidId(cannonicalId)?cannonicalId:configuration.getIdFromElem(elem)},configuration.responseInterceptors=configuration.responseInterceptors?(0,_tslib.__spread)(configuration.responseInterceptors):[],configuration.defaultResponseInterceptor=function(data){return data||{}},configuration.responseExtractor=function(data,operation,what,url,response,subject){var interceptors=(0,_lodash.clone)(configuration.responseInterceptors);interceptors.push(configuration.defaultResponseInterceptor);var theData=data;return(0,_lodash.each)(interceptors,function(interceptor){theData=interceptor(theData,operation,what,url,response,subject)}),theData},object.addResponseInterceptor=function(extractor){return configuration.responseInterceptors.push(extractor),this},configuration.errorInterceptors=configuration.errorInterceptors?(0,_tslib.__spread)(configuration.errorInterceptors):[],object.addErrorInterceptor=function(interceptor){return configuration.errorInterceptors=(0,_tslib.__spread)([interceptor],configuration.errorInterceptors),this},object.setResponseInterceptor=object.addResponseInterceptor,object.setResponseExtractor=object.addResponseInterceptor,object.setErrorInterceptor=object.addErrorInterceptor,configuration.requestInterceptors=configuration.requestInterceptors?(0,_tslib.__spread)(configuration.requestInterceptors):[],configuration.defaultInterceptor=function(element,operation,path,url,headers,params,httpConfig){return{element:element,headers:headers,params:params,httpConfig:httpConfig}},configuration.fullRequestInterceptor=function(element,operation,path,url,headers,params,httpConfig){var interceptors=(0,_lodash.clone)(configuration.requestInterceptors),defaultRequest=configuration.defaultInterceptor(element,operation,path,url,headers,params,httpConfig);return(0,_lodash.reduce)(interceptors,function(request,interceptor){var returnInterceptor=interceptor(request.element,operation,path,url,request.headers,request.params,request.httpConfig);return(0,_lodash.extend)(request,returnInterceptor)},defaultRequest)},object.addRequestInterceptor=function(interceptor){return configuration.requestInterceptors.push(function(elem,operation,path,url,headers,params,httpConfig){return{headers:headers,params:params,element:interceptor(elem,operation,path,url),httpConfig:httpConfig}}),this},object.setRequestInterceptor=object.addRequestInterceptor,object.addFullRequestInterceptor=function(interceptor){return configuration.requestInterceptors.push(interceptor),this},object.setFullRequestInterceptor=object.addFullRequestInterceptor,configuration.onBeforeElemRestangularized=configuration.onBeforeElemRestangularized||function(elem){return elem},object.setOnBeforeElemRestangularized=function(post){return configuration.onBeforeElemRestangularized=post,this},object.setRestangularizePromiseInterceptor=function(interceptor){return configuration.restangularizePromiseInterceptor=interceptor,this},configuration.onElemRestangularized=configuration.onElemRestangularized||function(elem){return elem},object.setOnElemRestangularized=function(post){return configuration.onElemRestangularized=post,this},configuration.shouldSaveParent=configuration.shouldSaveParent||function(){return!0},object.setParentless=function(values){return(0,_lodash.isArray)(values)?configuration.shouldSaveParent=function(route){return!(0,_lodash.includes)(values,route)}:(0,_lodash.isBoolean)(values)&&(configuration.shouldSaveParent=function(){return!values}),this},configuration.suffix=(0,_lodash.isUndefined)(configuration.suffix)?null:configuration.suffix,object.setRequestSuffix=function(newSuffix){return configuration.suffix=newSuffix,this},configuration.transformers=configuration.transformers||{},object.addElementTransformer=function(type,secondArg,thirdArg){var isCollection=null,transformer=null;2===arguments.length?transformer=secondArg:(transformer=thirdArg,isCollection=secondArg);var typeTransformers=configuration.transformers[type];return typeTransformers||(typeTransformers=configuration.transformers[type]=[]),typeTransformers.push(function(coll,elem){return(0,_lodash.isNull)(isCollection)||coll===isCollection?transformer(elem):elem}),object},object.extendCollection=function(route,fn){return object.addElementTransformer(route,!0,fn)},object.extendModel=function(route,fn){return object.addElementTransformer(route,!1,fn)},configuration.transformElem=function(elem,isCollection,route,Restangular,force){if(!force&&!configuration.transformLocalElements&&!elem[configuration.restangularFields.fromServer])return elem;var typeTransformers=configuration.transformers[route],changedElem=elem;return typeTransformers&&(0,_lodash.each)(typeTransformers,function(transformer){changedElem=transformer(isCollection,changedElem)}),configuration.onElemRestangularized(changedElem,isCollection,route,Restangular)},configuration.transformLocalElements=!(0,_lodash.isUndefined)(configuration.transformLocalElements)&&configuration.transformLocalElements,object.setTransformOnlyServerElements=function(active){configuration.transformLocalElements=!active},configuration.fullResponse=!(0,_lodash.isUndefined)(configuration.fullResponse)&&configuration.fullResponse,object.setFullResponse=function(full){return configuration.fullResponse=full,this},configuration.urlCreatorFactory={};var BaseCreator=function(){};BaseCreator.prototype.setConfig=function(config){return this.config=config,this},BaseCreator.prototype.parentsArray=function(current){for(var parents=[];current;)parents.push(current),current=current[this.config.restangularFields.parentResource];return parents.reverse()},BaseCreator.prototype.resource=function(current,$http,localHttpConfig,callHeaders,callParams,what,etag,operation){var params=(0,_lodash.defaults)(callParams||{},this.config.defaultRequestParams.common),headers=(0,_lodash.defaults)(callHeaders||{},this.config.defaultHeaders);etag&&(configuration.isSafe(operation)?headers["If-None-Match"]=etag:headers["If-Match"]=etag);var url=this.base(current);if(what){var add="";/\/$/.test(url)||(add+="/"),url+=add+=what}return this.config.suffix&&-1===url.indexOf(this.config.suffix,url.length-this.config.suffix.length)&&!this.config.getUrlFromElem(current)&&(url+=this.config.suffix),current[this.config.restangularFields.httpConfig]=void 0,function(config,$http,url,configurer){var resource={};return(0,_lodash.each)((0,_lodash.keys)(configurer),function(key){var value=configurer[key];value.params=(0,_lodash.extend)({},value.params,config.defaultRequestParams[value.method.toLowerCase()]),(0,_lodash.isEmpty)(value.params)&&delete value.params,config.isSafe(value.method)?resource[key]=function(){var resultConfig=(0,_lodash.extend)(value,{url:url});return $http.createRequest(resultConfig)}:resource[key]=function(data){var resultConfig=(0,_lodash.extend)(value,{url:url,data:data});return $http.createRequest(resultConfig)}}),resource}(this.config,$http,url,{getList:this.config.withHttpValues(localHttpConfig,{method:"GET",params:params,headers:headers}),get:this.config.withHttpValues(localHttpConfig,{method:"GET",params:params,headers:headers}),jsonp:this.config.withHttpValues(localHttpConfig,{method:"jsonp",params:params,headers:headers}),put:this.config.withHttpValues(localHttpConfig,{method:"PUT",params:params,headers:headers}),post:this.config.withHttpValues(localHttpConfig,{method:"POST",params:params,headers:headers}),remove:this.config.withHttpValues(localHttpConfig,{method:"DELETE",params:params,headers:headers}),head:this.config.withHttpValues(localHttpConfig,{method:"HEAD",params:params,headers:headers}),trace:this.config.withHttpValues(localHttpConfig,{method:"TRACE",params:params,headers:headers}),options:this.config.withHttpValues(localHttpConfig,{method:"OPTIONS",params:params,headers:headers}),patch:this.config.withHttpValues(localHttpConfig,{method:"PATCH",params:params,headers:headers})})};var Path=function(){};(Path.prototype=new BaseCreator).normalizeUrl=function(url){var parts=/((?:http[s]?:)?\/\/)?(.*)?/.exec(url);return parts[2]=parts[2].replace(/[\\\/]+/g,"/"),void 0!==parts[1]?parts[1]+parts[2]:parts[2]},Path.prototype.base=function(current){var __this=this;return(0,_lodash.reduce)(this.parentsArray(current),function(acum,elem){var elemUrl,elemSelfLink=__this.config.getUrlFromElem(elem);if(elemSelfLink){if(__this.config.isAbsoluteUrl(elemSelfLink))return elemSelfLink;elemUrl=elemSelfLink}else if(elemUrl=elem[__this.config.restangularFields.route],elem[__this.config.restangularFields.restangularCollection]){var ids=elem[__this.config.restangularFields.ids];ids&&(elemUrl+="/"+ids.join(","))}else{var elemId=void 0;elemId=__this.config.useCannonicalId?__this.config.getCannonicalIdFromElem(elem):__this.config.getIdFromElem(elem),configuration.isValidId(elemId)&&!elem.singleOne&&(elemUrl+="/"+(__this.config.encodeIds?encodeURIComponent(elemId):elemId))}return acum=acum.replace(/\/$/,"")+"/"+elemUrl,__this.normalizeUrl(acum)},this.config.baseUrl)},Path.prototype.fetchUrl=function(current,what){var baseUrl=this.base(current);return what&&(baseUrl+="/"+what),baseUrl},Path.prototype.fetchRequestedUrl=function(current,what){var url=this.fetchUrl(current,what),params=current[configuration.restangularFields.reqParams];function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}if(!params)return url+(this.config.suffix||"");var parts=[];return function(obj,iterator,context){for(var sortedKeysArray=function(obj){var resultKeys=[];for(var key in obj)obj.hasOwnProperty(key)&&resultKeys.push(key);return resultKeys.sort()}(obj),i=0;i<sortedKeysArray.length;i++)iterator.call(context,obj[sortedKeysArray[i]],sortedKeysArray[i])}(params,function(value,key){null!==value&&void 0!==value&&((0,_lodash.isArray)(value)||(value=[value]),(0,_lodash.forEach)(value,function(v){(0,_lodash.isObject)(v)&&(v=JSON.stringify(v)),parts.push(encodeUriQuery(key)+"="+encodeUriQuery(v))}))}),url+(this.config.suffix||"")+(-1===url.indexOf("?")?"?":"&")+parts.join("&")},configuration.urlCreatorFactory.path=Path}exports.RestangularHttp=RestangularHttp;var Restangular=function(){function Restangular(configObj,injector,http){this.configObj=configObj,this.injector=injector,this.http=http,this.provider=new function($http){var globalConfiguration={};RestangularConfigurer(this,globalConfiguration),this.$get=function(){function createServiceForConfiguration(config){var service={},urlHandler=new config.urlCreatorFactory[config.urlCreator];function restangularizeBase(parent,elem,route,reqParams,fromServer){if(elem[config.restangularFields.route]=route,elem[config.restangularFields.getRestangularUrl]=(0,_lodash.bind)(urlHandler.fetchUrl,urlHandler,elem),elem[config.restangularFields.getRequestedUrl]=(0,_lodash.bind)(urlHandler.fetchRequestedUrl,urlHandler,elem),elem[config.restangularFields.addRestangularMethod]=(0,_lodash.bind)(addRestangularMethodFunction,elem),elem[config.restangularFields.clone]=(0,_lodash.bind)(copyRestangularizedElement,elem),elem[config.restangularFields.reqParams]=(0,_lodash.isEmpty)(reqParams)?null:reqParams,elem[config.restangularFields.withHttpConfig]=(0,_lodash.bind)(withHttpConfig,elem),elem[config.restangularFields.plain]=(0,_lodash.bind)(stripRestangular,elem,elem),elem[config.restangularFields.restangularized]=!0,elem[config.restangularFields.one]=(0,_lodash.bind)(one,elem,elem),elem[config.restangularFields.all]=(0,_lodash.bind)(all,elem,elem),elem[config.restangularFields.several]=(0,_lodash.bind)(several,elem,elem),elem[config.restangularFields.oneUrl]=(0,_lodash.bind)(oneUrl,elem,elem),elem[config.restangularFields.allUrl]=(0,_lodash.bind)(allUrl,elem,elem),elem[config.restangularFields.fromServer]=!!fromServer,parent&&config.shouldSaveParent(route)){var parentId=config.getIdFromElem(parent),parentUrl=config.getUrlFromElem(parent),restangularFieldsForParent=(0,_lodash.union)((0,_lodash.values)((0,_lodash.pick)(config.restangularFields,["route","singleOne","parentResource"])),config.extraFields),parentResource=(0,_lodash.pick)(parent,restangularFieldsForParent);config.isValidId(parentId)&&config.setIdToElem(parentResource,parentId,route),config.isValidId(parentUrl)&&config.setUrlToElem(parentResource,parentUrl,route),elem[config.restangularFields.parentResource]=parentResource}else elem[config.restangularFields.parentResource]=null;return elem}function one(parent,route,id,singleOne){var error;if((0,_lodash.isNumber)(route)||(0,_lodash.isNumber)(parent))throw error="You're creating a Restangular entity with the number ",error+="instead of the route or the parent. For example, you can't call .one(12).",new Error(error);if((0,_lodash.isUndefined)(route))throw error="You're creating a Restangular entity either without the path. ",error+="For example you can't call .one(). Please check if your arguments are valid.",new Error(error);var elem={};return config.setIdToElem(elem,id,route),config.setFieldToElem(config.restangularFields.singleOne,elem,singleOne),restangularizeElem(parent,elem,route,!1)}function all(parent,route){return restangularizeCollection(parent,[],route,!1)}function several(parent,route){var collection=[];return collection[config.restangularFields.ids]=Array.prototype.splice.call(arguments,2),restangularizeCollection(parent,collection,route,!1)}function oneUrl(parent,route,url){if(!route)throw new Error("Route is mandatory when creating new Restangular objects.");var elem={};return config.setUrlToElem(elem,url,route),restangularizeElem(parent,elem,route,!1)}function allUrl(parent,route,url){if(!route)throw new Error("Route is mandatory when creating new Restangular objects.");var elem={};return config.setUrlToElem(elem,url,route),restangularizeCollection(parent,elem,route,!1)}function restangularizeResponse(subject,isCollection,valueToFill){return subject.pipe((0,_operators.filter)(function(res){return!!res}))}function resolvePromise(subject,response,data,filledValue){(0,_lodash.extend)(filledValue,data),config.fullResponse?subject.next((0,_lodash.extend)(response,{data:data})):subject.next(data),subject.complete()}function stripRestangular(elem){if((0,_lodash.isArray)(elem)){var array_1=[];return(0,_lodash.each)(elem,function(value){array_1.push(config.isRestangularized(value)?stripRestangular(value):value)}),array_1}return(0,_lodash.omit)(elem,(0,_lodash.values)((0,_lodash.omit)(config.restangularFields,"id")))}function addCustomOperation(elem){elem[config.restangularFields.customOperation]=(0,_lodash.bind)(customFunction,elem);var requestMethods={get:customFunction,delete:customFunction};(0,_lodash.each)(["put","patch","post"],function(name){requestMethods[name]=function(operation,element,path,params,headers){return(0,_lodash.bind)(customFunction,this)(operation,path,params,headers,element)}}),(0,_lodash.each)(requestMethods,function(requestFunc,name){var callOperation="delete"===name?"remove":name;(0,_lodash.each)(["do","custom"],function(alias){elem[alias+name.toUpperCase()]=(0,_lodash.bind)(requestFunc,elem,callOperation)})}),elem[config.restangularFields.customGETLIST]=(0,_lodash.bind)(fetchFunction,elem),elem[config.restangularFields.doGETLIST]=elem[config.restangularFields.customGETLIST]}function copyRestangularizedElement(fromElement,toElement){void 0===toElement&&(toElement={});var copiedElement=(0,_object.assign)(toElement,fromElement);return restangularizeElem(copiedElement[config.restangularFields.parentResource],copiedElement,copiedElement[config.restangularFields.route],!0)}function restangularizeElem(parent,element,route,fromServer,collection,reqParams){var elem=config.onBeforeElemRestangularized(element,!1,route),localElem=restangularizeBase(parent,elem,route,reqParams,fromServer);return config.useCannonicalId&&(localElem[config.restangularFields.cannonicalId]=config.getIdFromElem(localElem)),collection&&(localElem[config.restangularFields.getParentList]=function(){return collection}),localElem[config.restangularFields.restangularCollection]=!1,localElem[config.restangularFields.get]=(0,_lodash.bind)(getFunction,localElem),localElem[config.restangularFields.getList]=(0,_lodash.bind)(fetchFunction,localElem),localElem[config.restangularFields.put]=(0,_lodash.bind)(putFunction,localElem),localElem[config.restangularFields.post]=(0,_lodash.bind)(postFunction,localElem),localElem[config.restangularFields.remove]=(0,_lodash.bind)(deleteFunction,localElem),localElem[config.restangularFields.head]=(0,_lodash.bind)(headFunction,localElem),localElem[config.restangularFields.trace]=(0,_lodash.bind)(traceFunction,localElem),localElem[config.restangularFields.options]=(0,_lodash.bind)(optionsFunction,localElem),localElem[config.restangularFields.patch]=(0,_lodash.bind)(patchFunction,localElem),localElem[config.restangularFields.save]=(0,_lodash.bind)(save,localElem),addCustomOperation(localElem),config.transformElem(localElem,!1,route,service,!0)}function restangularizeCollection(parent,element,route,fromServer,reqParams){var elem=config.onBeforeElemRestangularized(element,!0,route),localElem=restangularizeBase(parent,elem,route,reqParams,fromServer);return localElem[config.restangularFields.restangularCollection]=!0,localElem[config.restangularFields.post]=(0,_lodash.bind)(postFunction,localElem,null),localElem[config.restangularFields.remove]=(0,_lodash.bind)(deleteFunction,localElem),localElem[config.restangularFields.head]=(0,_lodash.bind)(headFunction,localElem),localElem[config.restangularFields.trace]=(0,_lodash.bind)(traceFunction,localElem),localElem[config.restangularFields.putElement]=(0,_lodash.bind)(putElementFunction,localElem),localElem[config.restangularFields.options]=(0,_lodash.bind)(optionsFunction,localElem),localElem[config.restangularFields.patch]=(0,_lodash.bind)(patchFunction,localElem),localElem[config.restangularFields.get]=(0,_lodash.bind)(getById,localElem),localElem[config.restangularFields.getList]=(0,_lodash.bind)(fetchFunction,localElem,null),addCustomOperation(localElem),config.transformElem(localElem,!0,route,service,!0)}function getById(id,reqParams,headers){return this.customGET(id.toString(),reqParams,headers)}function putElementFunction(idx,params,headers){var __this=this,elemToPut=this[idx],subject=new _rxjs.BehaviorSubject(null),filledArray=[];return filledArray=config.transformElem(filledArray,!0,elemToPut[config.restangularFields.route],service),elemToPut.put(params,headers).subscribe(function(serverElem){var newArray=copyRestangularizedElement(__this);newArray[idx]=serverElem,filledArray=newArray,subject.next(newArray)},function(response){subject.error(response)},function(){subject.complete()}),restangularizeResponse(subject,!0,filledArray)}function parseResponse(resData,operation,route,fetchUrl,response,subject){var data=config.responseExtractor(resData,operation,route,fetchUrl,response,subject),etag=response.headers.get("ETag");return data&&etag&&(data[config.restangularFields.etag]=etag),data}function fetchFunction(what,reqParams,headers){var __this=this,subject=new _rxjs.BehaviorSubject(null),url=urlHandler.fetchUrl(this,what),whatFetched=what||__this[config.restangularFields.route],request=config.fullRequestInterceptor(null,"getList",whatFetched,url,headers||{},reqParams||{},this[config.restangularFields.httpConfig]||{}),filledArray=[];filledArray=config.transformElem(filledArray,!0,whatFetched,service);var method="getList";config.jsonp&&(method="jsonp");var okCallback=function(response){var resData=response.body,fullParams=response.config.params,data=parseResponse(resData,"getList",whatFetched,url,response,subject);if(((0,_lodash.isUndefined)(data)||""===data)&&(data=[]),!(0,_lodash.isArray)(data))throw new Error("Response for getList SHOULD be an array and not an object or something else");if(!0===config.plainByDefault)return resolvePromise(subject,response,data,filledArray);var processedData=(0,_lodash.map)(data,function(elem){return __this[config.restangularFields.restangularCollection]?restangularizeElem(__this[config.restangularFields.parentResource],elem,__this[config.restangularFields.route],!0,data):restangularizeElem(__this,elem,what,!0,data)});processedData=(0,_lodash.extend)(data,processedData),__this[config.restangularFields.restangularCollection]?resolvePromise(subject,response,restangularizeCollection(__this[config.restangularFields.parentResource],processedData,__this[config.restangularFields.route],!0,fullParams),filledArray):resolvePromise(subject,response,restangularizeCollection(__this,processedData,what,!0,fullParams),filledArray)};return urlHandler.resource(this,$http,request.httpConfig,request.headers,request.params,what,this[config.restangularFields.etag],"getList")[method]().subscribe(okCallback,function(response){304===response.status&&__this[config.restangularFields.restangularCollection]?resolvePromise(subject,response,__this,filledArray):(0,_lodash.every)(config.errorInterceptors,function(cb){return!1!==cb(response,subject,okCallback)})&&subject.error(response)}),restangularizeResponse(subject,!0,filledArray)}function withHttpConfig(httpConfig){return this[config.restangularFields.httpConfig]=httpConfig,this}function save(params,headers){return this[config.restangularFields.fromServer]?this[config.restangularFields.put](params,headers):(0,_lodash.bind)(elemFunction,this)("post",void 0,params,void 0,headers)}function elemFunction(operation,what,params,obj,headers){var __this=this,subject=new _rxjs.BehaviorSubject(null),resParams=params||{},route=what||this[config.restangularFields.route],fetchUrl=urlHandler.fetchUrl(this,what),callObj=obj||this,etag=callObj[config.restangularFields.etag]||("post"!==operation?this[config.restangularFields.etag]:null);(0,_lodash.isObject)(callObj)&&config.isRestangularized(callObj)&&(callObj=stripRestangular(callObj));var request=config.fullRequestInterceptor(callObj,operation,route,fetchUrl,headers||{},resParams||{},this[config.restangularFields.httpConfig]||{}),filledObject={};filledObject=config.transformElem(filledObject,!1,route,service);var okCallback=function(response){var resData=(0,_lodash.get)(response,"body"),fullParams=(0,_lodash.get)(response,"config.params"),elem=parseResponse(resData,operation,route,fetchUrl,response,subject);if(elem){var data=void 0;if(!0===config.plainByDefault)return resolvePromise(subject,response,elem,filledObject);"post"!==operation||__this[config.restangularFields.restangularCollection]?((data=restangularizeElem(__this[config.restangularFields.parentResource],elem,__this[config.restangularFields.route],!0,null,fullParams))[config.restangularFields.singleOne]=__this[config.restangularFields.singleOne],resolvePromise(subject,response,data,filledObject)):(data=restangularizeElem(__this[config.restangularFields.parentResource],elem,route,!0,null,fullParams),resolvePromise(subject,response,data,filledObject))}else resolvePromise(subject,response,void 0,filledObject)},errorCallback=function(response){304===response.status&&config.isSafe(operation)?resolvePromise(subject,response,__this,filledObject):(0,_lodash.every)(config.errorInterceptors,function(cb){return!1!==cb(response,subject,okCallback)})&&subject.error(response)},callOperation=operation,callHeaders=(0,_lodash.extend)({},request.headers),isOverrideOperation=config.isOverridenMethod(operation);return isOverrideOperation?(callOperation="post",callHeaders=(0,_lodash.extend)(callHeaders,{"X-HTTP-Method-Override":"remove"===operation?"DELETE":operation.toUpperCase()})):config.jsonp&&"get"===callOperation&&(callOperation="jsonp"),config.isSafe(operation)?isOverrideOperation?urlHandler.resource(this,$http,request.httpConfig,callHeaders,request.params,what,etag,callOperation)[callOperation]({}).subscribe(okCallback,errorCallback):urlHandler.resource(this,$http,request.httpConfig,callHeaders,request.params,what,etag,callOperation)[callOperation]().subscribe(okCallback,errorCallback):urlHandler.resource(this,$http,request.httpConfig,callHeaders,request.params,what,etag,callOperation)[callOperation](request.element).subscribe(okCallback,errorCallback),restangularizeResponse(subject,!1,filledObject)}function getFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("get",void 0,params,void 0,headers)}function deleteFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("remove",void 0,params,void 0,headers)}function putFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("put",void 0,params,void 0,headers)}function postFunction(what,elem,params,headers){return(0,_lodash.bind)(elemFunction,this)("post",what,params,elem,headers)}function headFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("head",void 0,params,void 0,headers)}function traceFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("trace",void 0,params,void 0,headers)}function optionsFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("options",void 0,params,void 0,headers)}function patchFunction(elem,params,headers){return(0,_lodash.bind)(elemFunction,this)("patch",void 0,params,elem,headers)}function customFunction(operation,path,params,headers,elem){return(0,_lodash.bind)(elemFunction,this)(operation,path,params,elem,headers)}function addRestangularMethodFunction(name,operation,path,defaultParams,defaultHeaders,defaultElem){var bindedFunction;bindedFunction="getList"===operation?(0,_lodash.bind)(fetchFunction,this,path):(0,_lodash.bind)(customFunction,this,operation,path);var createdFunction=function(params,headers,elem){var callParams=(0,_lodash.defaults)({params:params,headers:headers,elem:elem},{params:defaultParams,headers:defaultHeaders,elem:defaultElem});return bindedFunction(callParams.params,callParams.headers,callParams.elem)};config.isSafe(operation)?this[name]=createdFunction:this[name]=function(elem,params,headers){return createdFunction(params,headers,elem)}}return urlHandler.setConfig(config),RestangularConfigurer(service,config),service.copy=(0,_lodash.bind)(copyRestangularizedElement,service),service.service=(0,_lodash.bind)(function(route,parent){var knownCollectionMethods=(0,_lodash.values)(config.restangularFields),serv={},collection=(parent||service).all(route);for(var prop in serv.one=(0,_lodash.bind)(one,parent||service,parent,route),serv.all=(0,_lodash.bind)(collection.all,collection),serv.post=(0,_lodash.bind)(collection.post,collection),serv.getList=(0,_lodash.bind)(collection.getList,collection),serv.withHttpConfig=(0,_lodash.bind)(collection.withHttpConfig,collection),serv.get=(0,_lodash.bind)(collection.get,collection),collection)collection.hasOwnProperty(prop)&&(0,_lodash.isFunction)(collection[prop])&&!(0,_lodash.includes)(knownCollectionMethods,prop)&&(serv[prop]=(0,_lodash.bind)(collection[prop],collection));return serv},service),service.withConfig=(0,_lodash.bind)(function(configurer){var newConfig=(0,_lodash.clone)((0,_lodash.omit)(config,"configuration"));return RestangularConfigurer(newConfig,newConfig),configurer(newConfig),createServiceForConfiguration(newConfig)},service),service.one=(0,_lodash.bind)(one,service,null),service.all=(0,_lodash.bind)(all,service,null),service.several=(0,_lodash.bind)(several,service,null),service.oneUrl=(0,_lodash.bind)(oneUrl,service,null),service.allUrl=(0,_lodash.bind)(allUrl,service,null),service.stripRestangular=(0,_lodash.bind)(stripRestangular,service),service.restangularizeElement=(0,_lodash.bind)(restangularizeElem,service),service.restangularizeCollection=(0,_lodash.bind)(function(parent,element,route){var collection=restangularizeCollection(parent,element,route,!1);return(0,_lodash.each)(collection,function(elem){elem&&restangularizeElem(parent,elem,route,!1)}),collection},service),service}return function(config){var service={};var urlHandler=new config.urlCreatorFactory[config.urlCreator];urlHandler.setConfig(config);function restangularizeBase(parent,elem,route,reqParams,fromServer){if(elem[config.restangularFields.route]=route,elem[config.restangularFields.getRestangularUrl]=(0,_lodash.bind)(urlHandler.fetchUrl,urlHandler,elem),elem[config.restangularFields.getRequestedUrl]=(0,_lodash.bind)(urlHandler.fetchRequestedUrl,urlHandler,elem),elem[config.restangularFields.addRestangularMethod]=(0,_lodash.bind)(addRestangularMethodFunction,elem),elem[config.restangularFields.clone]=(0,_lodash.bind)(copyRestangularizedElement,elem),elem[config.restangularFields.reqParams]=(0,_lodash.isEmpty)(reqParams)?null:reqParams,elem[config.restangularFields.withHttpConfig]=(0,_lodash.bind)(withHttpConfig,elem),elem[config.restangularFields.plain]=(0,_lodash.bind)(stripRestangular,elem,elem),elem[config.restangularFields.restangularized]=!0,elem[config.restangularFields.one]=(0,_lodash.bind)(one,elem,elem),elem[config.restangularFields.all]=(0,_lodash.bind)(all,elem,elem),elem[config.restangularFields.several]=(0,_lodash.bind)(several,elem,elem),elem[config.restangularFields.oneUrl]=(0,_lodash.bind)(oneUrl,elem,elem),elem[config.restangularFields.allUrl]=(0,_lodash.bind)(allUrl,elem,elem),elem[config.restangularFields.fromServer]=!!fromServer,parent&&config.shouldSaveParent(route)){var parentId=config.getIdFromElem(parent),parentUrl=config.getUrlFromElem(parent),restangularFieldsForParent=(0,_lodash.union)((0,_lodash.values)((0,_lodash.pick)(config.restangularFields,["route","singleOne","parentResource"])),config.extraFields),parentResource=(0,_lodash.pick)(parent,restangularFieldsForParent);config.isValidId(parentId)&&config.setIdToElem(parentResource,parentId,route),config.isValidId(parentUrl)&&config.setUrlToElem(parentResource,parentUrl,route),elem[config.restangularFields.parentResource]=parentResource}else elem[config.restangularFields.parentResource]=null;return elem}function one(parent,route,id,singleOne){var error;if((0,_lodash.isNumber)(route)||(0,_lodash.isNumber)(parent))throw error="You're creating a Restangular entity with the number ",error+="instead of the route or the parent. For example, you can't call .one(12).",new Error(error);if((0,_lodash.isUndefined)(route))throw error="You're creating a Restangular entity either without the path. ",error+="For example you can't call .one(). Please check if your arguments are valid.",new Error(error);var elem={};return config.setIdToElem(elem,id,route),config.setFieldToElem(config.restangularFields.singleOne,elem,singleOne),restangularizeElem(parent,elem,route,!1)}function all(parent,route){return restangularizeCollection(parent,[],route,!1)}function several(parent,route){var collection=[];return collection[config.restangularFields.ids]=Array.prototype.splice.call(arguments,2),restangularizeCollection(parent,collection,route,!1)}function oneUrl(parent,route,url){if(!route)throw new Error("Route is mandatory when creating new Restangular objects.");var elem={};return config.setUrlToElem(elem,url,route),restangularizeElem(parent,elem,route,!1)}function allUrl(parent,route,url){if(!route)throw new Error("Route is mandatory when creating new Restangular objects.");var elem={};return config.setUrlToElem(elem,url,route),restangularizeCollection(parent,elem,route,!1)}function restangularizeResponse(subject,isCollection,valueToFill){return subject.pipe((0,_operators.filter)(function(res){return!!res}))}function resolvePromise(subject,response,data,filledValue){(0,_lodash.extend)(filledValue,data),config.fullResponse?subject.next((0,_lodash.extend)(response,{data:data})):subject.next(data),subject.complete()}function stripRestangular(elem){if((0,_lodash.isArray)(elem)){var array_1=[];return(0,_lodash.each)(elem,function(value){array_1.push(config.isRestangularized(value)?stripRestangular(value):value)}),array_1}return(0,_lodash.omit)(elem,(0,_lodash.values)((0,_lodash.omit)(config.restangularFields,"id")))}function addCustomOperation(elem){elem[config.restangularFields.customOperation]=(0,_lodash.bind)(customFunction,elem);var requestMethods={get:customFunction,delete:customFunction};(0,_lodash.each)(["put","patch","post"],function(name){requestMethods[name]=function(operation,element,path,params,headers){return(0,_lodash.bind)(customFunction,this)(operation,path,params,headers,element)}}),(0,_lodash.each)(requestMethods,function(requestFunc,name){var callOperation="delete"===name?"remove":name;(0,_lodash.each)(["do","custom"],function(alias){elem[alias+name.toUpperCase()]=(0,_lodash.bind)(requestFunc,elem,callOperation)})}),elem[config.restangularFields.customGETLIST]=(0,_lodash.bind)(fetchFunction,elem),elem[config.restangularFields.doGETLIST]=elem[config.restangularFields.customGETLIST]}function copyRestangularizedElement(fromElement,toElement){void 0===toElement&&(toElement={});var copiedElement=(0,_object.assign)(toElement,fromElement);return restangularizeElem(copiedElement[config.restangularFields.parentResource],copiedElement,copiedElement[config.restangularFields.route],!0)}function restangularizeElem(parent,element,route,fromServer,collection,reqParams){var elem=config.onBeforeElemRestangularized(element,!1,route),localElem=restangularizeBase(parent,elem,route,reqParams,fromServer);return config.useCannonicalId&&(localElem[config.restangularFields.cannonicalId]=config.getIdFromElem(localElem)),collection&&(localElem[config.restangularFields.getParentList]=function(){return collection}),localElem[config.restangularFields.restangularCollection]=!1,localElem[config.restangularFields.get]=(0,_lodash.bind)(getFunction,localElem),localElem[config.restangularFields.getList]=(0,_lodash.bind)(fetchFunction,localElem),localElem[config.restangularFields.put]=(0,_lodash.bind)(putFunction,localElem),localElem[config.restangularFields.post]=(0,_lodash.bind)(postFunction,localElem),localElem[config.restangularFields.remove]=(0,_lodash.bind)(deleteFunction,localElem),localElem[config.restangularFields.head]=(0,_lodash.bind)(headFunction,localElem),localElem[config.restangularFields.trace]=(0,_lodash.bind)(traceFunction,localElem),localElem[config.restangularFields.options]=(0,_lodash.bind)(optionsFunction,localElem),localElem[config.restangularFields.patch]=(0,_lodash.bind)(patchFunction,localElem),localElem[config.restangularFields.save]=(0,_lodash.bind)(save,localElem),addCustomOperation(localElem),config.transformElem(localElem,!1,route,service,!0)}function restangularizeCollection(parent,element,route,fromServer,reqParams){var elem=config.onBeforeElemRestangularized(element,!0,route),localElem=restangularizeBase(parent,elem,route,reqParams,fromServer);return localElem[config.restangularFields.restangularCollection]=!0,localElem[config.restangularFields.post]=(0,_lodash.bind)(postFunction,localElem,null),localElem[config.restangularFields.remove]=(0,_lodash.bind)(deleteFunction,localElem),localElem[config.restangularFields.head]=(0,_lodash.bind)(headFunction,localElem),localElem[config.restangularFields.trace]=(0,_lodash.bind)(traceFunction,localElem),localElem[config.restangularFields.putElement]=(0,_lodash.bind)(putElementFunction,localElem),localElem[config.restangularFields.options]=(0,_lodash.bind)(optionsFunction,localElem),localElem[config.restangularFields.patch]=(0,_lodash.bind)(patchFunction,localElem),localElem[config.restangularFields.get]=(0,_lodash.bind)(getById,localElem),localElem[config.restangularFields.getList]=(0,_lodash.bind)(fetchFunction,localElem,null),addCustomOperation(localElem),config.transformElem(localElem,!0,route,service,!0)}function getById(id,reqParams,headers){return this.customGET(id.toString(),reqParams,headers)}function putElementFunction(idx,params,headers){var __this=this,elemToPut=this[idx],subject=new _rxjs.BehaviorSubject(null),filledArray=[];return filledArray=config.transformElem(filledArray,!0,elemToPut[config.restangularFields.route],service),elemToPut.put(params,headers).subscribe(function(serverElem){var newArray=copyRestangularizedElement(__this);newArray[idx]=serverElem,filledArray=newArray,subject.next(newArray)},function(response){subject.error(response)},function(){subject.complete()}),restangularizeResponse(subject,!0,filledArray)}function parseResponse(resData,operation,route,fetchUrl,response,subject){var data=config.responseExtractor(resData,operation,route,fetchUrl,response,subject),etag=response.headers.get("ETag");return data&&etag&&(data[config.restangularFields.etag]=etag),data}function fetchFunction(what,reqParams,headers){var __this=this,subject=new _rxjs.BehaviorSubject(null),url=urlHandler.fetchUrl(this,what),whatFetched=what||__this[config.restangularFields.route],request=config.fullRequestInterceptor(null,"getList",whatFetched,url,headers||{},reqParams||{},this[config.restangularFields.httpConfig]||{}),filledArray=[];filledArray=config.transformElem(filledArray,!0,whatFetched,service);var method="getList";config.jsonp&&(method="jsonp");var okCallback=function(response){var resData=response.body,fullParams=response.config.params,data=parseResponse(resData,"getList",whatFetched,url,response,subject);if(((0,_lodash.isUndefined)(data)||""===data)&&(data=[]),!(0,_lodash.isArray)(data))throw new Error("Response for getList SHOULD be an array and not an object or something else");if(!0===config.plainByDefault)return resolvePromise(subject,response,data,filledArray);var processedData=(0,_lodash.map)(data,function(elem){return __this[config.restangularFields.restangularCollection]?restangularizeElem(__this[config.restangularFields.parentResource],elem,__this[config.restangularFields.route],!0,data):restangularizeElem(__this,elem,what,!0,data)});processedData=(0,_lodash.extend)(data,processedData),__this[config.restangularFields.restangularCollection]?resolvePromise(subject,response,restangularizeCollection(__this[config.restangularFields.parentResource],processedData,__this[config.restangularFields.route],!0,fullParams),filledArray):resolvePromise(subject,response,restangularizeCollection(__this,processedData,what,!0,fullParams),filledArray)};return urlHandler.resource(this,$http,request.httpConfig,request.headers,request.params,what,this[config.restangularFields.etag],"getList")[method]().subscribe(okCallback,function(response){304===response.status&&__this[config.restangularFields.restangularCollection]?resolvePromise(subject,response,__this,filledArray):(0,_lodash.every)(config.errorInterceptors,function(cb){return!1!==cb(response,subject,okCallback)})&&subject.error(response)}),restangularizeResponse(subject,!0,filledArray)}function withHttpConfig(httpConfig){return this[config.restangularFields.httpConfig]=httpConfig,this}function save(params,headers){return this[config.restangularFields.fromServer]?this[config.restangularFields.put](params,headers):(0,_lodash.bind)(elemFunction,this)("post",void 0,params,void 0,headers)}function elemFunction(operation,what,params,obj,headers){var __this=this,subject=new _rxjs.BehaviorSubject(null),resParams=params||{},route=what||this[config.restangularFields.route],fetchUrl=urlHandler.fetchUrl(this,what),callObj=obj||this,etag=callObj[config.restangularFields.etag]||("post"!==operation?this[config.restangularFields.etag]:null);(0,_lodash.isObject)(callObj)&&config.isRestangularized(callObj)&&(callObj=stripRestangular(callObj));var request=config.fullRequestInterceptor(callObj,operation,route,fetchUrl,headers||{},resParams||{},this[config.restangularFields.httpConfig]||{}),filledObject={};filledObject=config.transformElem(filledObject,!1,route,service);var okCallback=function(response){var resData=(0,_lodash.get)(response,"body"),fullParams=(0,_lodash.get)(response,"config.params"),elem=parseResponse(resData,operation,route,fetchUrl,response,subject);if(elem){var data=void 0;if(!0===config.plainByDefault)return resolvePromise(subject,response,elem,filledObject);"post"!==operation||__this[config.restangularFields.restangularCollection]?((data=restangularizeElem(__this[config.restangularFields.parentResource],elem,__this[config.restangularFields.route],!0,null,fullParams))[config.restangularFields.singleOne]=__this[config.restangularFields.singleOne],resolvePromise(subject,response,data,filledObject)):(data=restangularizeElem(__this[config.restangularFields.parentResource],elem,route,!0,null,fullParams),resolvePromise(subject,response,data,filledObject))}else resolvePromise(subject,response,void 0,filledObject)},errorCallback=function(response){304===response.status&&config.isSafe(operation)?resolvePromise(subject,response,__this,filledObject):(0,_lodash.every)(config.errorInterceptors,function(cb){return!1!==cb(response,subject,okCallback)})&&subject.error(response)},callOperation=operation,callHeaders=(0,_lodash.extend)({},request.headers),isOverrideOperation=config.isOverridenMethod(operation);return isOverrideOperation?(callOperation="post",callHeaders=(0,_lodash.extend)(callHeaders,{"X-HTTP-Method-Override":"remove"===operation?"DELETE":operation.toUpperCase()})):config.jsonp&&"get"===callOperation&&(callOperation="jsonp"),config.isSafe(operation)?isOverrideOperation?urlHandler.resource(this,$http,request.httpConfig,callHeaders,request.params,what,etag,callOperation)[callOperation]({}).subscribe(okCallback,errorCallback):urlHandler.resource(this,$http,request.httpConfig,callHeaders,request.params,what,etag,callOperation)[callOperation]().subscribe(okCallback,errorCallback):urlHandler.resource(this,$http,request.httpConfig,callHeaders,request.params,what,etag,callOperation)[callOperation](request.element).subscribe(okCallback,errorCallback),restangularizeResponse(subject,!1,filledObject)}function getFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("get",void 0,params,void 0,headers)}function deleteFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("remove",void 0,params,void 0,headers)}function putFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("put",void 0,params,void 0,headers)}function postFunction(what,elem,params,headers){return(0,_lodash.bind)(elemFunction,this)("post",what,params,elem,headers)}function headFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("head",void 0,params,void 0,headers)}function traceFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("trace",void 0,params,void 0,headers)}function optionsFunction(params,headers){return(0,_lodash.bind)(elemFunction,this)("options",void 0,params,void 0,headers)}function patchFunction(elem,params,headers){return(0,_lodash.bind)(elemFunction,this)("patch",void 0,params,elem,headers)}function customFunction(operation,path,params,headers,elem){return(0,_lodash.bind)(elemFunction,this)(operation,path,params,elem,headers)}function addRestangularMethodFunction(name,operation,path,defaultParams,defaultHeaders,defaultElem){var bindedFunction;bindedFunction="getList"===operation?(0,_lodash.bind)(fetchFunction,this,path):(0,_lodash.bind)(customFunction,this,operation,path);var createdFunction=function(params,headers,elem){var callParams=(0,_lodash.defaults)({params:params,headers:headers,elem:elem},{params:defaultParams,headers:defaultHeaders,elem:defaultElem});return bindedFunction(callParams.params,callParams.headers,callParams.elem)};config.isSafe(operation)?this[name]=createdFunction:this[name]=function(elem,params,headers){return createdFunction(params,headers,elem)}}RestangularConfigurer(service,config);service.copy=(0,_lodash.bind)(copyRestangularizedElement,service);service.service=(0,_lodash.bind)(function(route,parent){var knownCollectionMethods=(0,_lodash.values)(config.restangularFields),serv={},collection=(parent||service).all(route);for(var prop in serv.one=(0,_lodash.bind)(one,parent||service,parent,route),serv.all=(0,_lodash.bind)(collection.all,collection),serv.post=(0,_lodash.bind)(collection.post,collection),serv.getList=(0,_lodash.bind)(collection.getList,collection),serv.withHttpConfig=(0,_lodash.bind)(collection.withHttpConfig,collection),serv.get=(0,_lodash.bind)(collection.get,collection),collection)collection.hasOwnProperty(prop)&&(0,_lodash.isFunction)(collection[prop])&&!(0,_lodash.includes)(knownCollectionMethods,prop)&&(serv[prop]=(0,_lodash.bind)(collection[prop],collection));return serv},service);service.withConfig=(0,_lodash.bind)(function(configurer){var newConfig=(0,_lodash.clone)((0,_lodash.omit)(config,"configuration"));return RestangularConfigurer(newConfig,newConfig),configurer(newConfig),createServiceForConfiguration(newConfig)},service);service.one=(0,_lodash.bind)(one,service,null);service.all=(0,_lodash.bind)(all,service,null);service.several=(0,_lodash.bind)(several,service,null);service.oneUrl=(0,_lodash.bind)(oneUrl,service,null);service.allUrl=(0,_lodash.bind)(allUrl,service,null);service.stripRestangular=(0,_lodash.bind)(stripRestangular,service);service.restangularizeElement=(0,_lodash.bind)(restangularizeElem,service);service.restangularizeCollection=(0,_lodash.bind)(function(parent,element,route){var collection=restangularizeCollection(parent,element,route,!1);return(0,_lodash.each)(collection,function(elem){elem&&restangularizeElem(parent,elem,route,!1)}),collection},service);return service}(globalConfiguration)}}(http);var element=this.provider.$get();(0,_object.assign)(this,element),this.setDefaultConfig()}return Restangular.prototype.setDefaultConfig=function(){var _a,_this=this;if(this.configObj&&(0,_lodash.isFunction)(this.configObj.fn)){var arrDI=(0,_lodash.map)(this.configObj.arrServices,function(services){return _this.injector.get(services)});(_a=this.configObj).fn.apply(_a,(0,_tslib.__spread)([this.provider],arrDI))}},Restangular.decorators=[{type:_core.Injectable}],Restangular.ctorParameters=function(){return[{type:void 0,decorators:[{type:_core.Optional},{type:_core.Inject,args:[RESTANGULAR]}]},{type:_core.Injector},{type:RestangularHttp}]},Restangular}();exports.Restangular=Restangular;var CONFIG_OBJ=new _core.InjectionToken("configObj");exports.a=CONFIG_OBJ;var RestangularModule=function(){function RestangularModule(parentModule){if(parentModule)throw new Error("RestangularModule is already loaded. Import it in the AppModule only")}return RestangularModule.forRoot=function(config1,config2){return{ngModule:RestangularModule,providers:[{provide:CONFIG_OBJ,useValue:[config1,config2]},{provide:RESTANGULAR,useFactory:RestangularFactory,deps:[CONFIG_OBJ]}]}},RestangularModule.decorators=[{type:_core.NgModule,args:[{imports:[_http.HttpClientModule],providers:[RestangularHttp,Restangular]}]}],RestangularModule.ctorParameters=function(){return[{type:RestangularModule,decorators:[{type:_core.Optional},{type:_core.SkipSelf}]}]},RestangularModule}();exports.RestangularModule=RestangularModule},{"@angular/core":"XDhY","@angular/common/http":"vwRf",tslib:"vCxL",lodash:"JNHf","core-js/features/object":"R3Ks",rxjs:"iRqj","rxjs/operators":"cVrl"}],K2L6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FamilyMemberService=void 0;var _core=require("@angular/core"),_ngxRestangular=require("ngx-restangular");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},FamilyMemberService=function(){function FamilyMemberService(restangular,$state,$anchorScroll,$location,BulbAuthService){this.restangular=restangular,this.$state=$state,this.$anchorScroll=$anchorScroll,this.$location=$location,this.BulbAuthService=BulbAuthService,this.debug=!1,this.newActivitiesExist=!1}var _a;return FamilyMemberService.prototype.fetchStudentActivities=function(memberId,studentId,lastId){var params={pageSize:"5",filter:studentId||"",lastId:lastId||""};return this.restangular.one("accounts",memberId).customGET("studentActivities",params).toPromise()},FamilyMemberService.prototype.scrollToAnchor=function(id){var _this=this;this.$state.go("account.settings").then(function(){_this.$location.hash(id),_this.$anchorScroll()})},FamilyMemberService.prototype.refreshAccount=function(){var _this=this;this.BulbAuthService.fetchCurrentUser().then(function(response){_this.storedAccount=response,_this.account=_this.restangular.copy(response)})},FamilyMemberService.prototype.setNewActivitiesToTrue=function(activitiesArr){var _this=this;activitiesArr.forEach(function(activity){activity.isNew&&(_this.newActivitiesExist=!0)})},FamilyMemberService.prototype.setNewToFalse=function(parentId,activityId){return this.restangular.one("accounts",parentId).one("studentActivities",activityId).customPATCH({},"notNew").toPromise()},FamilyMemberService=__decorate([(0,_core.Injectable)(),__param(1,(0,_core.Inject)("$state")),__param(2,(0,_core.Inject)("$anchorScroll")),__param(3,(0,_core.Inject)("$location")),__param(4,(0,_core.Inject)("BulbAuthService")),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==_ngxRestangular.Restangular&&_ngxRestangular.Restangular)?_a:Object,Object,Object,Object,Object])],FamilyMemberService)}();exports.FamilyMemberService=FamilyMemberService},{"@angular/core":"XDhY","ngx-restangular":"YJcD"}],iJ7S:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FamilyMemberContainerComponent=void 0;var obj,_core=require("@angular/core"),_familyMember=(obj=require("../family-member.model"))&&obj.__esModule?obj:{default:obj},_exports=require("../../app/exports"),_familyMember2=require("../family-member.service");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},urlPrefix=(0,_exports.resolveUrlPrefix)("family-member/family-member-container/"),FamilyMemberContainerComponent=function(){function FamilyMemberContainerComponent(FamilyMemberService){this.FamilyMemberService=FamilyMemberService,this.familyMembers=[],this.activities=[]}var _a;return FamilyMemberContainerComponent.prototype.ngOnInit=function(){var _this=this;this.parent.family.studentIds.forEach(function(member){_this.familyMembers.push(new _familyMember.default(member.avatarURL,member.id,member.displayName,member.username))}),this.FamilyMemberService.fetchStudentActivities(this.parent.id).then(function(response){_this.activities=response.plain()})},__decorate([(0,_core.Input)(),__metadata("design:type",Object)],FamilyMemberContainerComponent.prototype,"parent",void 0),FamilyMemberContainerComponent=__decorate([(0,_core.Component)({moduleId:module.id,templateUrl:urlPrefix+"family-member-container.component.html",providers:[_familyMember2.FamilyMemberService]}),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==_familyMember2.FamilyMemberService&&_familyMember2.FamilyMemberService)?_a:Object])],FamilyMemberContainerComponent)}();exports.FamilyMemberContainerComponent=FamilyMemberContainerComponent},{"@angular/core":"XDhY","../family-member.model":"fUHJ","../../app/exports":"lvDC","../family-member.service":"K2L6"}],qRUb:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.animate=function(timings,styles){void 0===styles&&(styles=null);return{type:4,styles:styles,timings:timings}},exports.animateChild=function(options){void 0===options&&(options=null);return{type:9,options:options}},exports.animation=function(steps,options){void 0===options&&(options=null);return{type:8,animation:steps,options:options}},exports.group=function(steps,options){void 0===options&&(options=null);return{type:3,steps:steps,options:options}},exports.keyframes=function(steps){return{type:5,steps:steps}},exports.query=function(selector,animation,options){void 0===options&&(options=null);return{type:11,selector:selector,animation:animation,options:options}},exports.sequence=function(steps,options){void 0===options&&(options=null);return{type:2,steps:steps,options:options}},exports.stagger=function(timings,animation){return{type:12,timings:timings,animation:animation}},exports.state=function(name,styles,options){return{type:0,name:name,styles:styles,options:options}},exports.style=function(tokens){return{type:6,styles:tokens,offset:null}},exports.transition=function(stateChangeExpr,steps,options){void 0===options&&(options=null);return{type:1,expr:stateChangeExpr,animation:steps,options:options}},exports.trigger=function(name,definitions){return{type:7,name:name,definitions:definitions,options:{}}},exports.useAnimation=function(animation,options){void 0===options&&(options=null);return{type:10,animation:animation,options:options}},exports.AnimationGroupPlayer=exports.PRE_STYLE=exports.NoopAnimationPlayer=exports.AUTO_STYLE=exports.AnimationFactory=exports.AnimationBuilder=void 0;var AnimationBuilder=function(){return function(){}}();exports.AnimationBuilder=AnimationBuilder;var AnimationFactory=function(){return function(){}}();exports.AnimationFactory=AnimationFactory;function scheduleMicroTask(cb){Promise.resolve(null).then(cb)}exports.AUTO_STYLE="*";var NoopAnimationPlayer=function(){function NoopAnimationPlayer(duration,delay){void 0===duration&&(duration=0),void 0===delay&&(delay=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=duration+delay}return NoopAnimationPlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(fn){return fn()}),this._onDoneFns=[])},NoopAnimationPlayer.prototype.onStart=function(fn){this._onStartFns.push(fn)},NoopAnimationPlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn)},NoopAnimationPlayer.prototype.onDestroy=function(fn){this._onDestroyFns.push(fn)},NoopAnimationPlayer.prototype.hasStarted=function(){return this._started},NoopAnimationPlayer.prototype.init=function(){},NoopAnimationPlayer.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},NoopAnimationPlayer.prototype.triggerMicrotask=function(){var _this=this;scheduleMicroTask(function(){return _this._onFinish()})},NoopAnimationPlayer.prototype._onStart=function(){this._onStartFns.forEach(function(fn){return fn()}),this._onStartFns=[]},NoopAnimationPlayer.prototype.pause=function(){},NoopAnimationPlayer.prototype.restart=function(){},NoopAnimationPlayer.prototype.finish=function(){this._onFinish()},NoopAnimationPlayer.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(fn){return fn()}),this._onDestroyFns=[])},NoopAnimationPlayer.prototype.reset=function(){},NoopAnimationPlayer.prototype.setPosition=function(position){},NoopAnimationPlayer.prototype.getPosition=function(){return 0},NoopAnimationPlayer.prototype.triggerCallback=function(phaseName){var methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(function(fn){return fn()}),methods.length=0},NoopAnimationPlayer}();exports.NoopAnimationPlayer=NoopAnimationPlayer;var AnimationGroupPlayer=function(){function AnimationGroupPlayer(_players){var _this=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_players;var doneCount=0,destroyCount=0,startCount=0,total=this.players.length;0==total?scheduleMicroTask(function(){return _this._onFinish()}):this.players.forEach(function(player){player.onDone(function(){++doneCount==total&&_this._onFinish()}),player.onDestroy(function(){++destroyCount==total&&_this._onDestroy()}),player.onStart(function(){++startCount==total&&_this._onStart()})}),this.totalTime=this.players.reduce(function(time,player){return Math.max(time,player.totalTime)},0)}return AnimationGroupPlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(fn){return fn()}),this._onDoneFns=[])},AnimationGroupPlayer.prototype.init=function(){this.players.forEach(function(player){return player.init()})},AnimationGroupPlayer.prototype.onStart=function(fn){this._onStartFns.push(fn)},AnimationGroupPlayer.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(fn){return fn()}),this._onStartFns=[])},AnimationGroupPlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn)},AnimationGroupPlayer.prototype.onDestroy=function(fn){this._onDestroyFns.push(fn)},AnimationGroupPlayer.prototype.hasStarted=function(){return this._started},AnimationGroupPlayer.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(player){return player.play()})},AnimationGroupPlayer.prototype.pause=function(){this.players.forEach(function(player){return player.pause()})},AnimationGroupPlayer.prototype.restart=function(){this.players.forEach(function(player){return player.restart()})},AnimationGroupPlayer.prototype.finish=function(){this._onFinish(),this.players.forEach(function(player){return player.finish()})},AnimationGroupPlayer.prototype.destroy=function(){this._onDestroy()},AnimationGroupPlayer.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(player){return player.destroy()}),this._onDestroyFns.forEach(function(fn){return fn()}),this._onDestroyFns=[])},AnimationGroupPlayer.prototype.reset=function(){this.players.forEach(function(player){return player.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},AnimationGroupPlayer.prototype.setPosition=function(p){var timeAtPosition=p*this.totalTime;this.players.forEach(function(player){var position=player.totalTime?Math.min(1,timeAtPosition/player.totalTime):1;player.setPosition(position)})},AnimationGroupPlayer.prototype.getPosition=function(){var min=0;return this.players.forEach(function(player){var p=player.getPosition();min=Math.min(p,min)}),min},AnimationGroupPlayer.prototype.beforeDestroy=function(){this.players.forEach(function(player){player.beforeDestroy&&player.beforeDestroy()})},AnimationGroupPlayer.prototype.triggerCallback=function(phaseName){var methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(function(fn){return fn()}),methods.length=0},AnimationGroupPlayer}();exports.AnimationGroupPlayer=AnimationGroupPlayer;exports.PRE_STYLE="!"},{}],XpVl:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomHandler=void 0;var __values=function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},DomHandler=function(){function DomHandler(){}return DomHandler.addClass=function(element,className){element.classList?element.classList.add(className):element.className+=" "+className},DomHandler.addMultipleClasses=function(element,className){if(element.classList)for(var styles=className.split(" "),i=0;i<styles.length;i++)element.classList.add(styles[i]);else for(styles=className.split(" "),i=0;i<styles.length;i++)element.className+=" "+styles[i]},DomHandler.removeClass=function(element,className){element.classList?element.classList.remove(className):element.className=element.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")},DomHandler.hasClass=function(element,className){return element.classList?element.classList.contains(className):new RegExp("(^| )"+className+"( |$)","gi").test(element.className)},DomHandler.siblings=function(element){return Array.prototype.filter.call(element.parentNode.children,function(child){return child!==element})},DomHandler.find=function(element,selector){return Array.from(element.querySelectorAll(selector))},DomHandler.findSingle=function(element,selector){return element?element.querySelector(selector):null},DomHandler.index=function(element){for(var children=element.parentNode.childNodes,num=0,i=0;i<children.length;i++){if(children[i]==element)return num;1==children[i].nodeType&&num++}return-1},DomHandler.indexWithinGroup=function(element,attributeName){for(var children=element.parentNode?element.parentNode.childNodes:[],num=0,i=0;i<children.length;i++){if(children[i]==element)return num;children[i].attributes&&children[i].attributes[attributeName]&&1==children[i].nodeType&&num++}return-1},DomHandler.relativePosition=function(element,target){var top,left,elementDimensions=element.offsetParent?{width:element.offsetWidth,height:element.offsetHeight}:this.getHiddenElementDimensions(element),targetHeight=target.offsetHeight,targetOffset=target.getBoundingClientRect(),viewport=this.getViewport();targetOffset.top+targetHeight+elementDimensions.height>viewport.height?(top=-1*elementDimensions.height,targetOffset.top+top<0&&(top=-1*targetOffset.top)):top=targetHeight,left=elementDimensions.width>viewport.width?-1*targetOffset.left:targetOffset.left+elementDimensions.width>viewport.width?-1*(targetOffset.left+elementDimensions.width-viewport.width):0,element.style.top=top+"px",element.style.left=left+"px"},DomHandler.absolutePosition=function(element,target){var top,left,elementDimensions=element.offsetParent?{width:element.offsetWidth,height:element.offsetHeight}:this.getHiddenElementDimensions(element),elementOuterHeight=elementDimensions.height,elementOuterWidth=elementDimensions.width,targetOuterHeight=target.offsetHeight,targetOuterWidth=target.offsetWidth,targetOffset=target.getBoundingClientRect(),windowScrollTop=this.getWindowScrollTop(),windowScrollLeft=this.getWindowScrollLeft(),viewport=this.getViewport();targetOffset.top+targetOuterHeight+elementOuterHeight>viewport.height?(top=targetOffset.top+windowScrollTop-elementOuterHeight)<0&&(top=windowScrollTop):top=targetOuterHeight+targetOffset.top+windowScrollTop,left=targetOffset.left+elementOuterWidth>viewport.width?Math.max(0,targetOffset.left+windowScrollLeft+targetOuterWidth-elementOuterWidth):targetOffset.left+windowScrollLeft,element.style.top=top+"px",element.style.left=left+"px"},DomHandler.getHiddenElementOuterHeight=function(element){element.style.visibility="hidden",element.style.display="block";var elementHeight=element.offsetHeight;return element.style.display="none",element.style.visibility="visible",elementHeight},DomHandler.getHiddenElementOuterWidth=function(element){element.style.visibility="hidden",element.style.display="block";var elementWidth=element.offsetWidth;return element.style.display="none",element.style.visibility="visible",elementWidth},DomHandler.getHiddenElementDimensions=function(element){var dimensions={};return element.style.visibility="hidden",element.style.display="block",dimensions.width=element.offsetWidth,dimensions.height=element.offsetHeight,element.style.display="none",element.style.visibility="visible",dimensions},DomHandler.scrollInView=function(container,item){var borderTopValue=getComputedStyle(container).getPropertyValue("borderTopWidth"),borderTop=borderTopValue?parseFloat(borderTopValue):0,paddingTopValue=getComputedStyle(container).getPropertyValue("paddingTop"),paddingTop=paddingTopValue?parseFloat(paddingTopValue):0,containerRect=container.getBoundingClientRect(),offset=item.getBoundingClientRect().top+document.body.scrollTop-(containerRect.top+document.body.scrollTop)-borderTop-paddingTop,scroll=container.scrollTop,elementHeight=container.clientHeight,itemHeight=this.getOuterHeight(item);offset<0?container.scrollTop=scroll+offset:offset+itemHeight>elementHeight&&(container.scrollTop=scroll+offset-elementHeight+itemHeight)},DomHandler.fadeIn=function(element,duration){element.style.opacity=0;var last=+new Date,opacity=0,tick=function(){opacity=+element.style.opacity.replace(",",".")+((new Date).getTime()-last)/duration,element.style.opacity=opacity,last=+new Date,+opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(tick)||setTimeout(tick,16))};tick()},DomHandler.fadeOut=function(element,ms){var opacity=1,gap=50/ms,fading=setInterval(function(){(opacity-=gap)<=0&&(opacity=0,clearInterval(fading)),element.style.opacity=opacity},50)},DomHandler.getWindowScrollTop=function(){var doc=document.documentElement;return(window.pageYOffset||doc.scrollTop)-(doc.clientTop||0)},DomHandler.getWindowScrollLeft=function(){var doc=document.documentElement;return(window.pageXOffset||doc.scrollLeft)-(doc.clientLeft||0)},DomHandler.matches=function(element,selector){var p=Element.prototype;return(p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(element,selector)},DomHandler.getOuterWidth=function(el,margin){var width=el.offsetWidth;if(margin){var style=getComputedStyle(el);width+=parseFloat(style.marginLeft)+parseFloat(style.marginRight)}return width},DomHandler.getHorizontalPadding=function(el){var style=getComputedStyle(el);return parseFloat(style.paddingLeft)+parseFloat(style.paddingRight)},DomHandler.getHorizontalMargin=function(el){var style=getComputedStyle(el);return parseFloat(style.marginLeft)+parseFloat(style.marginRight)},DomHandler.innerWidth=function(el){var width=el.offsetWidth,style=getComputedStyle(el);return width+=parseFloat(style.paddingLeft)+parseFloat(style.paddingRight)},DomHandler.width=function(el){var width=el.offsetWidth,style=getComputedStyle(el);return width-=parseFloat(style.paddingLeft)+parseFloat(style.paddingRight)},DomHandler.getInnerHeight=function(el){var height=el.offsetHeight,style=getComputedStyle(el);return height+=parseFloat(style.paddingTop)+parseFloat(style.paddingBottom)},DomHandler.getOuterHeight=function(el,margin){var height=el.offsetHeight;if(margin){var style=getComputedStyle(el);height+=parseFloat(style.marginTop)+parseFloat(style.marginBottom)}return height},DomHandler.getHeight=function(el){var height=el.offsetHeight,style=getComputedStyle(el);return height-=parseFloat(style.paddingTop)+parseFloat(style.paddingBottom)+parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth)},DomHandler.getWidth=function(el){var width=el.offsetWidth,style=getComputedStyle(el);return width-=parseFloat(style.paddingLeft)+parseFloat(style.paddingRight)+parseFloat(style.borderLeftWidth)+parseFloat(style.borderRightWidth)},DomHandler.getViewport=function(){var win=window,d=document,e=d.documentElement,g=d.getElementsByTagName("body")[0];return{width:win.innerWidth||e.clientWidth||g.clientWidth,height:win.innerHeight||e.clientHeight||g.clientHeight}},DomHandler.getOffset=function(el){var rect=el.getBoundingClientRect();return{top:rect.top+document.body.scrollTop,left:rect.left+document.body.scrollLeft}},DomHandler.replaceElementWith=function(element,replacementElement){var parentNode=element.parentNode;if(!parentNode)throw"Can't replace element";return parentNode.replaceChild(replacementElement,element)},DomHandler.getUserAgent=function(){return navigator.userAgent},DomHandler.isIE=function(){var ua=window.navigator.userAgent;if(ua.indexOf("MSIE ")>0)return!0;if(ua.indexOf("Trident/")>0){ua.indexOf("rv:");return!0}return ua.indexOf("Edge/")>0},DomHandler.isIOS=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},DomHandler.isAndroid=function(){return/(android)/i.test(navigator.userAgent)},DomHandler.appendChild=function(element,target){if(this.isElement(target))target.appendChild(element);else{if(!target.el||!target.el.nativeElement)throw"Cannot append "+target+" to "+element;target.el.nativeElement.appendChild(element)}},DomHandler.removeChild=function(element,target){if(this.isElement(target))target.removeChild(element);else{if(!target.el||!target.el.nativeElement)throw"Cannot remove "+element+" from "+target;target.el.nativeElement.removeChild(element)}},DomHandler.isElement=function(obj){return"object"==typeof HTMLElement?obj instanceof HTMLElement:obj&&"object"==typeof obj&&null!==obj&&1===obj.nodeType&&"string"==typeof obj.nodeName},DomHandler.calculateScrollbarWidth=function(el){if(el){var style=getComputedStyle(el);return el.offsetWidth-el.clientWidth-parseFloat(style.borderLeftWidth)-parseFloat(style.borderRightWidth)}if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var scrollDiv=document.createElement("div");scrollDiv.className="ui-scrollbar-measure",document.body.appendChild(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return document.body.removeChild(scrollDiv),this.calculatedScrollbarWidth=scrollbarWidth,scrollbarWidth},DomHandler.calculateScrollbarHeight=function(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var scrollDiv=document.createElement("div");scrollDiv.className="ui-scrollbar-measure",document.body.appendChild(scrollDiv);var scrollbarHeight=scrollDiv.offsetHeight-scrollDiv.clientHeight;return document.body.removeChild(scrollDiv),this.calculatedScrollbarWidth=scrollbarHeight,scrollbarHeight},DomHandler.invokeElementMethod=function(element,methodName,args){element[methodName].apply(element,args)},DomHandler.clearSelection=function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(error){}},DomHandler.getBrowser=function(){if(!this.browser){var matched=this.resolveUserAgent();this.browser={},matched.browser&&(this.browser[matched.browser]=!0,this.browser.version=matched.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},DomHandler.resolveUserAgent=function(){var ua=navigator.userAgent.toLowerCase(),match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},DomHandler.isInteger=function(value){return Number.isInteger?Number.isInteger(value):"number"==typeof value&&isFinite(value)&&Math.floor(value)===value},DomHandler.isHidden=function(element){return null===element.offsetParent},DomHandler.getFocusableElements=function(element){var e_1,_a,focusableElements=DomHandler.find(element,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),visibleFocusableElements=[];try{for(var focusableElements_1=__values(focusableElements),focusableElements_1_1=focusableElements_1.next();!focusableElements_1_1.done;focusableElements_1_1=focusableElements_1.next()){var focusableElement=focusableElements_1_1.value;"none"!=getComputedStyle(focusableElement).display&&"hidden"!=getComputedStyle(focusableElement).visibility&&visibleFocusableElements.push(focusableElement)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{focusableElements_1_1&&!focusableElements_1_1.done&&(_a=focusableElements_1.return)&&_a.call(focusableElements_1)}finally{if(e_1)throw e_1.error}}return visibleFocusableElements},DomHandler.zindex=1e3,DomHandler.calculatedScrollbarWidth=null,DomHandler.calculatedScrollbarHeight=null,DomHandler}();exports.DomHandler=DomHandler},{}],HJGK:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.a=exports.DynamicDialogRef=exports.DynamicDialogModule=exports.DynamicDialogInjector=exports.DynamicDialogConfig=exports.DynamicDialogComponent=exports.DialogService=void 0;var _core=require("@angular/core"),_animations=require("@angular/animations"),_common=require("@angular/common"),_dom=require("primeng/dom"),_rxjs=require("rxjs"),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},DynamicDialogContent=function(){function DynamicDialogContent(viewContainerRef){this.viewContainerRef=viewContainerRef}return DynamicDialogContent.ctorParameters=function(){return[{type:_core.ViewContainerRef}]},DynamicDialogContent=__decorate([(0,_core.Directive)({selector:"[pDynamicDialogContent]"})],DynamicDialogContent)}();exports.a=DynamicDialogContent;var DynamicDialogConfig=function(){return function(){}}();exports.DynamicDialogConfig=DynamicDialogConfig;var DynamicDialogRef=function(){function DynamicDialogRef(){this._onClose=new _rxjs.Subject,this.onClose=this._onClose.asObservable(),this._onDestroy=new _rxjs.Subject,this.onDestroy=this._onDestroy.asObservable()}return DynamicDialogRef.prototype.close=function(result){this._onClose.next(result)},DynamicDialogRef.prototype.destroy=function(){this._onDestroy.next()},DynamicDialogRef}();exports.DynamicDialogRef=DynamicDialogRef;var __decorate$1=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},showAnimation=(0,_animations.animation)([(0,_animations.style)({transform:"{{transform}}",opacity:0}),(0,_animations.animate)("{{transition}}",(0,_animations.style)({transform:"none",opacity:1}))]),hideAnimation=(0,_animations.animation)([(0,_animations.animate)("{{transition}}",(0,_animations.style)({transform:"{{transform}}",opacity:0}))]),DynamicDialogComponent=function(){function DynamicDialogComponent(componentFactoryResolver,cd,renderer,config,dialogRef,zone){this.componentFactoryResolver=componentFactoryResolver,this.cd=cd,this.renderer=renderer,this.config=config,this.dialogRef=dialogRef,this.zone=zone,this.visible=!0,this.transformOptions="scale(0.7)"}return DynamicDialogComponent.prototype.ngAfterViewInit=function(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()},DynamicDialogComponent.prototype.loadChildComponent=function(componentType){var componentFactory=this.componentFactoryResolver.resolveComponentFactory(componentType),viewContainerRef=this.insertionPoint.viewContainerRef;viewContainerRef.clear(),this.componentRef=viewContainerRef.createComponent(componentFactory)},DynamicDialogComponent.prototype.moveOnTop=function(){if(!1!==this.config.autoZIndex){var zIndex=(this.config.baseZIndex||0)+ ++_dom.DomHandler.zindex;this.container.style.zIndex=String(zIndex),this.maskViewChild.nativeElement.style.zIndex=String(zIndex-1)}},DynamicDialogComponent.prototype.onAnimationStart=function(event){switch(event.toState){case"visible":this.container=event.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.onContainerDestroy()}},DynamicDialogComponent.prototype.onAnimationEnd=function(event){"void"===event.toState&&this.dialogRef.destroy()},DynamicDialogComponent.prototype.onContainerDestroy=function(){this.unbindGlobalListeners(),!1!==this.config.modal&&this.disableModality(),this.container=null},DynamicDialogComponent.prototype.close=function(){this.visible=!1},DynamicDialogComponent.prototype.enableModality=function(){var _this=this;!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"click",function(event){_this.wrapper&&_this.wrapper.isSameNode(event.target)&&_this.close()})),!1!==this.config.modal&&_dom.DomHandler.addClass(document.body,"ui-overflow-hidden")},DynamicDialogComponent.prototype.disableModality=function(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&_dom.DomHandler.removeClass(document.body,"ui-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())},DynamicDialogComponent.prototype.onKeydown=function(event){if(9===event.which){event.preventDefault();var focusableElements=_dom.DomHandler.getFocusableElements(this.container);if(focusableElements&&focusableElements.length>0)if(document.activeElement){var focusedIndex=focusableElements.indexOf(document.activeElement);event.shiftKey?-1==focusedIndex||0===focusedIndex?focusableElements[focusableElements.length-1].focus():focusableElements[focusedIndex-1].focus():-1==focusedIndex||focusedIndex===focusableElements.length-1?focusableElements[0].focus():focusableElements[focusedIndex+1].focus()}else focusableElements[0].focus()}},DynamicDialogComponent.prototype.focus=function(){var focusable=_dom.DomHandler.findSingle(this.container,"a");focusable&&this.zone.runOutsideAngular(function(){setTimeout(function(){return focusable.focus()},5)})},DynamicDialogComponent.prototype.bindGlobalListeners=function(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener()},DynamicDialogComponent.prototype.unbindGlobalListeners=function(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener()},DynamicDialogComponent.prototype.bindDocumentKeydownListener=function(){var _this=this;this.zone.runOutsideAngular(function(){_this.documentKeydownListener=_this.onKeydown.bind(_this),window.document.addEventListener("keydown",_this.documentKeydownListener)})},DynamicDialogComponent.prototype.unbindDocumentKeydownListener=function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},DynamicDialogComponent.prototype.bindDocumentEscapeListener=function(){var _this=this;this.documentEscapeListener=this.renderer.listen("document","keydown",function(event){27==event.which&&parseInt(_this.container.style.zIndex)==_dom.DomHandler.zindex+(_this.config.baseZIndex?_this.config.baseZIndex:0)&&_this.close()})},DynamicDialogComponent.prototype.unbindDocumentEscapeListener=function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)},DynamicDialogComponent.prototype.unbindMaskClickListener=function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)},DynamicDialogComponent.prototype.ngOnDestroy=function(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()},DynamicDialogComponent.ctorParameters=function(){return[{type:_core.ComponentFactoryResolver},{type:_core.ChangeDetectorRef},{type:_core.Renderer2},{type:DynamicDialogConfig},{type:DynamicDialogRef},{type:_core.NgZone}]},__decorate$1([(0,_core.ViewChild)(DynamicDialogContent)],DynamicDialogComponent.prototype,"insertionPoint",void 0),__decorate$1([(0,_core.ViewChild)("mask")],DynamicDialogComponent.prototype,"maskViewChild",void 0),DynamicDialogComponent=__decorate$1([(0,_core.Component)({selector:"p-dynamicDialog",template:'\n        <div #mask [ngClass]="{\'ui-dialog-mask ui-dialog-visible\':true, \'ui-widget-overlay ui-dialog-mask-scrollblocker\': config.modal !== false}">\n            <div [ngClass]="{\'ui-dialog ui-dynamicdialog ui-widget ui-widget-content ui-corner-all ui-shadow\':true, \'ui-dialog-rtl\': config.rtl}" [ngStyle]="config.style" [class]="config.styleClass"\n                [@animation]="{value: \'visible\', params: {transform: transformOptions, transition: config.transitionOptions || \'150ms cubic-bezier(0, 0, 0.2, 1)\'}}"\n                (@animation.start)="onAnimationStart($event)" (@animation.done)="onAnimationEnd($event)" role="dialog" *ngIf="visible"\n                [style.width]="config.width" [style.height]="config.height">\n                <div class="ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top" *ngIf="config.showHeader === false ? false: true">\n                    <span class="ui-dialog-title">{{config.header}}</span>\n                    <div class="ui-dialog-titlebar-icons">\n                        <a [ngClass]="\'ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all\'" tabindex="0" role="button" (click)="close()" (keydown.enter)="close()" *ngIf="config.closable !== false">\n                            <span class="pi pi-times"></span>\n                        </a>\n                    </div>\n                </div>\n                <div class="ui-dialog-content ui-widget-content" [ngStyle]="config.contentStyle">\n                    <ng-template pDynamicDialogContent></ng-template>\n                </div>\n                <div class="ui-dialog-footer ui-widget-content" *ngIf="config.footer">\n                    {{config.footer}}\n                </div>\n            </div>\n        </div>\n\t',animations:[(0,_animations.trigger)("animation",[(0,_animations.transition)("void => visible",[(0,_animations.useAnimation)(showAnimation)]),(0,_animations.transition)("visible => void",[(0,_animations.useAnimation)(hideAnimation)])])],changeDetection:_core.ChangeDetectionStrategy.Default})],DynamicDialogComponent)}();exports.DynamicDialogComponent=DynamicDialogComponent;var DynamicDialogModule=function(){function DynamicDialogModule(){}return DynamicDialogModule=__decorate$1([(0,_core.NgModule)({imports:[_common.CommonModule],declarations:[DynamicDialogComponent,DynamicDialogContent],entryComponents:[DynamicDialogComponent]})],DynamicDialogModule)}();exports.DynamicDialogModule=DynamicDialogModule;var DynamicDialogInjector=function(){function DynamicDialogInjector(_parentInjector,_additionalTokens){this._parentInjector=_parentInjector,this._additionalTokens=_additionalTokens}return DynamicDialogInjector.prototype.get=function(token,notFoundValue,flags){var value=this._additionalTokens.get(token);return value||this._parentInjector.get(token,notFoundValue)},DynamicDialogInjector}();exports.DynamicDialogInjector=DynamicDialogInjector;var __decorate$2=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},DialogService=function(){function DialogService(componentFactoryResolver,appRef,injector){this.componentFactoryResolver=componentFactoryResolver,this.appRef=appRef,this.injector=injector}return DialogService.prototype.open=function(componentType,config){var dialogRef=this.appendDialogComponentToBody(config);return this.dialogComponentRef.instance.childComponentType=componentType,dialogRef},DialogService.prototype.appendDialogComponentToBody=function(config){var _this=this,map=new WeakMap;map.set(DynamicDialogConfig,config);var dialogRef=new DynamicDialogRef;map.set(DynamicDialogRef,dialogRef);var sub=dialogRef.onClose.subscribe(function(){_this.dialogComponentRef.instance.close()}),destroySub=dialogRef.onDestroy.subscribe(function(){_this.removeDialogComponentFromBody(),destroySub.unsubscribe(),sub.unsubscribe()}),componentRef=this.componentFactoryResolver.resolveComponentFactory(DynamicDialogComponent).create(new DynamicDialogInjector(this.injector,map));this.appRef.attachView(componentRef.hostView);var domElem=componentRef.hostView.rootNodes[0];return document.body.appendChild(domElem),this.dialogComponentRef=componentRef,dialogRef},DialogService.prototype.removeDialogComponentFromBody=function(){this.appRef.detachView(this.dialogComponentRef.hostView),this.dialogComponentRef.destroy()},DialogService.ctorParameters=function(){return[{type:_core.ComponentFactoryResolver},{type:_core.ApplicationRef},{type:_core.Injector}]},DialogService=__decorate$2([(0,_core.Injectable)()],DialogService)}();exports.DialogService=DialogService},{"@angular/core":"XDhY","@angular/animations":"qRUb","@angular/common":"AomE","primeng/dom":"XpVl",rxjs:"iRqj"}],RQFK:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnalyticsService=void 0;var _core=require("@angular/core");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AnalyticsService=function(){function AnalyticsService(){this.dataLayer=window.dataLayer||new Array}return AnalyticsService.prototype.pushEvent=function(eventObject){eventObject.event?this.dataLayer.push(eventObject):console.error("eventObject must contain an 'event' property!, did not send event to GTM")},AnalyticsService=__decorate([(0,_core.Injectable)(),__metadata("design:paramtypes",[])],AnalyticsService)}();exports.AnalyticsService=AnalyticsService},{"@angular/core":"XDhY"}],VScz:[function(require,module,exports){var process=require("process"),global=arguments[3];!function(){var that,browserFakeUserAgent="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";if(isNodejs="object"==typeof process&&"object"==typeof process.versions&&process.versions.node&&!1){var version=process.versions.node.toString().replace("v","");browserFakeUserAgent="Nodejs/"+version+" (NodeOS) AppleWebKit/"+version+" (KHTML, like Gecko) Nodejs/"+version+" Nodejs/"+version}that=void 0!==global?global:window,"undefined"==typeof window&&("undefined"==typeof window&&void 0!==global&&(global.navigator={userAgent:browserFakeUserAgent,getUserMedia:function(){}},that.window=global),"undefined"==typeof location&&(that.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(that.screen={width:0,height:0}));var navigator=window.navigator;void 0!==navigator?(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia)):navigator={getUserMedia:function(){},userAgent:browserFakeUserAgent};var isMobileDevice=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(navigator.userAgent||""),isEdge=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob),isOpera=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,isFirefox=void 0!==window.InstallTrigger,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),isChrome=!!window.chrome&&!isOpera,isIE="undefined"!=typeof document&&!!document.documentMode&&!isEdge;function retry(isDone,next){var currentTrial=0,isTimeout=!1,id=window.setInterval(function(){isDone()&&(window.clearInterval(id),next(isTimeout)),currentTrial++>50&&(window.clearInterval(id),next(isTimeout=!0))},10)}var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()},getOsName:function(){var osName="Unknown OS";return isMobile.Android()&&(osName="Android"),isMobile.BlackBerry()&&(osName="BlackBerry"),isMobile.iOS()&&(osName="iOS"),isMobile.Opera()&&(osName="Opera Mini"),isMobile.Windows()&&(osName="Windows"),osName}};var osName="Unknown OS",osVersion="Unknown OS Version";var ua,match,osInfo=function(){for(var cs,nVer=navigator.appVersion,nAgt=navigator.userAgent,os="-",clientStrings=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],i=0;cs=clientStrings[i];i++)if(cs.r.test(nAgt)){os=cs.s;break}var osVersion="-";switch(/Windows/.test(os)&&(/Windows (.*)/.test(os)&&(osVersion=/Windows (.*)/.exec(os)[1]),os="Windows"),os){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(nAgt)&&(osVersion=/Mac OS X (10[\.\_\d]+)/.exec(nAgt)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(nAgt)&&(osVersion=/Android ([\.\_\d]+)/.exec(nAgt)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(nAgt)&&(osVersion=(osVersion=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer))[1]+"."+osVersion[2]+"."+(0|osVersion[3]))}return{osName:os,osVersion:osVersion}}();osInfo&&osInfo.osName&&"-"!=osInfo.osName?(osName=osInfo.osName,osVersion=osInfo.osVersion):isMobile.any()&&"Android"==(osName=isMobile.getOsName())&&(osVersion=!!(match=(ua=(ua||navigator.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&match[1]);var isNodejs="object"==typeof process&&"object"==typeof process.versions&&process.versions.node;"Unknown OS"===osName&&isNodejs&&(osName="Nodejs",osVersion=process.versions.node.toString().replace("v",""));var isCanvasSupportsStreamCapturing=!1,isVideoSupportsStreamCapturing=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(item){"undefined"!=typeof document&&"function"==typeof document.createElement&&(!isCanvasSupportsStreamCapturing&&item in document.createElement("canvas")&&(isCanvasSupportsStreamCapturing=!0),!isVideoSupportsStreamCapturing&&item in document.createElement("video")&&(isVideoSupportsStreamCapturing=!0))});var regexIpv4Local=/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/,regexIpv4=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,regexIpv6=/[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}/;var MediaDevices=[],audioInputDevices=[],audioOutputDevices=[],videoInputDevices=[];navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(callback){var enumerateDevices=navigator.mediaDevices.enumerateDevices();enumerateDevices&&enumerateDevices.then?navigator.mediaDevices.enumerateDevices().then(callback).catch(function(){callback([])}):callback([])});var canEnumerate=!1;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack?canEnumerate=!0:navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(canEnumerate=!0);var hasMicrophone=!1,hasSpeakers=!1,hasWebcam=!1,isWebsiteHasMicrophonePermissions=!1,isWebsiteHasWebcamPermissions=!1;function checkDeviceSupport(callback){if(canEnumerate)if(!navigator.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(navigator.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!navigator.enumerateDevices&&navigator.enumerateDevices&&(navigator.enumerateDevices=navigator.enumerateDevices.bind(navigator)),navigator.enumerateDevices){MediaDevices=[],audioInputDevices=[],audioOutputDevices=[],videoInputDevices=[],hasMicrophone=!1,hasSpeakers=!1,hasWebcam=!1,isWebsiteHasMicrophonePermissions=!1,isWebsiteHasWebcamPermissions=!1;var alreadyUsedDevices={};navigator.enumerateDevices(function(devices){devices.forEach(function(_device){var device={};for(var d in _device)try{"function"!=typeof _device[d]&&(device[d]=_device[d])}catch(e){}alreadyUsedDevices[device.deviceId+device.label+device.kind]||("audio"===device.kind&&(device.kind="audioinput"),"video"===device.kind&&(device.kind="videoinput"),device.deviceId||(device.deviceId=device.id),device.id||(device.id=device.deviceId),device.label?("videoinput"!==device.kind||isWebsiteHasWebcamPermissions||(isWebsiteHasWebcamPermissions=!0),"audioinput"!==device.kind||isWebsiteHasMicrophonePermissions||(isWebsiteHasMicrophonePermissions=!0)):(device.isCustomLabel=!0,"videoinput"===device.kind?device.label="Camera "+(videoInputDevices.length+1):"audioinput"===device.kind?device.label="Microphone "+(audioInputDevices.length+1):"audiooutput"===device.kind?device.label="Speaker "+(audioOutputDevices.length+1):device.label="Please invoke getUserMedia once.",void 0!==DetectRTC&&DetectRTC.browser.isChrome&&DetectRTC.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(device.label="HTTPs is required to get label of this "+device.kind+" device.")),"audioinput"===device.kind&&(hasMicrophone=!0,-1===audioInputDevices.indexOf(device)&&audioInputDevices.push(device)),"audiooutput"===device.kind&&(hasSpeakers=!0,-1===audioOutputDevices.indexOf(device)&&audioOutputDevices.push(device)),"videoinput"===device.kind&&(hasWebcam=!0,-1===videoInputDevices.indexOf(device)&&videoInputDevices.push(device)),MediaDevices.push(device),alreadyUsedDevices[device.deviceId+device.label+device.kind]=device)}),void 0!==DetectRTC&&(DetectRTC.MediaDevices=MediaDevices,DetectRTC.hasMicrophone=hasMicrophone,DetectRTC.hasSpeakers=hasSpeakers,DetectRTC.hasWebcam=hasWebcam,DetectRTC.isWebsiteHasWebcamPermissions=isWebsiteHasWebcamPermissions,DetectRTC.isWebsiteHasMicrophonePermissions=isWebsiteHasMicrophonePermissions,DetectRTC.audioInputDevices=audioInputDevices,DetectRTC.audioOutputDevices=audioOutputDevices,DetectRTC.videoInputDevices=videoInputDevices),callback&&callback()})}else callback&&callback();else callback&&callback()}var DetectRTC=window.DetectRTC||{};DetectRTC.browser=function(){navigator.appVersion;var nameOffset,verOffset,ix,nAgt=navigator.userAgent,browserName=navigator.appName,fullVersion=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10);if(isSafari&&!isChrome&&-1!==nAgt.indexOf("CriOS")&&(isSafari=!1,isChrome=!0),isOpera){browserName="Opera";try{majorVersion=(fullVersion=navigator.userAgent.split("OPR/")[1].split(" ")[0]).split(".")[0]}catch(e){fullVersion="0.0.0.0",majorVersion=0}}else isIE?((verOffset=nAgt.indexOf("rv:"))>0?fullVersion=nAgt.substring(verOffset+3):(verOffset=nAgt.indexOf("MSIE"),fullVersion=nAgt.substring(verOffset+5)),browserName="IE"):isChrome?(verOffset=nAgt.indexOf("Chrome"),browserName="Chrome",fullVersion=nAgt.substring(verOffset+7)):isSafari?(verOffset=nAgt.indexOf("Safari"),browserName="Safari",fullVersion=nAgt.substring(verOffset+7),-1!==(verOffset=nAgt.indexOf("Version"))&&(fullVersion=nAgt.substring(verOffset+8)),-1!==navigator.userAgent.indexOf("Version/")&&(fullVersion=navigator.userAgent.split("Version/")[1].split(" ")[0])):isFirefox?(verOffset=nAgt.indexOf("Firefox"),browserName="Firefox",fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(browserName=nAgt.substring(nameOffset,verOffset),fullVersion=nAgt.substring(verOffset+1),browserName.toLowerCase()===browserName.toUpperCase()&&(browserName=navigator.appName));return isEdge&&(browserName="Edge",fullVersion=navigator.userAgent.split("Edge/")[1]),-1!==(ix=fullVersion.search(/[; \)]/))&&(fullVersion=fullVersion.substring(0,ix)),majorVersion=parseInt(""+fullVersion,10),isNaN(majorVersion)&&(fullVersion=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10)),{fullVersion:fullVersion,version:majorVersion,name:browserName,isPrivateBrowsing:!1}}(),function(callback){var isPrivate;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){isPrivate=!1},function(e){isPrivate=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var db;try{(db=window.indexedDB.open("test")).onerror=function(){return!0}}catch(e){isPrivate=!0}void 0===isPrivate&&retry(function(){return"done"===db.readyState},function(isTimeout){isTimeout||(isPrivate=!db.result)})}else if(function(userAgent){var ua=userAgent.toLowerCase();if(0===ua.indexOf("msie")&&0===ua.indexOf("trident"))return!1;var match=/(?:msie|rv:)\s?([\d\.]+)/.exec(ua);return!!(match&&parseInt(match[1],10)>=10)}(window.navigator.userAgent)){isPrivate=!1;try{window.indexedDB||(isPrivate=!0)}catch(e){isPrivate=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(e){isPrivate=!0}void 0===isPrivate&&(isPrivate=!1,window.localStorage.removeItem("test"))}}catch(e){isPrivate=!1}retry(function(){return void 0!==isPrivate},function(isTimeout){callback(isPrivate)})}(function(isPrivateBrowsing){DetectRTC.browser.isPrivateBrowsing=!!isPrivateBrowsing}),DetectRTC.browser["is"+DetectRTC.browser.name]=!0,DetectRTC.osName=osName,DetectRTC.osVersion=osVersion;"object"==typeof process&&"object"==typeof process.versions&&process.versions["node-webkit"];var isWebRTCSupported=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach(function(item){isWebRTCSupported||item in window&&(isWebRTCSupported=!0)}),DetectRTC.isWebRTCSupported=isWebRTCSupported,DetectRTC.isORTCSupported="undefined"!=typeof RTCIceGatherer;var isScreenCapturingSupported=!1;(DetectRTC.browser.isChrome&&DetectRTC.browser.version>=35?isScreenCapturingSupported=!0:DetectRTC.browser.isFirefox&&DetectRTC.browser.version>=34?isScreenCapturingSupported=!0:DetectRTC.browser.isEdge&&DetectRTC.browser.version>=17?isScreenCapturingSupported=!0:"Android"===DetectRTC.osName&&DetectRTC.browser.isChrome&&(isScreenCapturingSupported=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||""))||("undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(DetectRTC.browser.isChrome||DetectRTC.browser.isEdge||DetectRTC.browser.isOpera)?isScreenCapturingSupported=!1:DetectRTC.browser.isFirefox&&(isScreenCapturingSupported=!1));DetectRTC.isScreenCapturingSupported=isScreenCapturingSupported;var webAudio={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach(function(item){webAudio.isSupported||item in window&&(webAudio.isSupported=!0,window[item]&&"createMediaStreamSource"in window[item].prototype&&(webAudio.isCreateMediaStreamSourceSupported=!0))}),DetectRTC.isAudioContextSupported=webAudio.isSupported,DetectRTC.isCreateMediaStreamSourceSupported=webAudio.isCreateMediaStreamSourceSupported;var isRtpDataChannelsSupported=!1;DetectRTC.browser.isChrome&&DetectRTC.browser.version>31&&(isRtpDataChannelsSupported=!0),DetectRTC.isRtpDataChannelsSupported=isRtpDataChannelsSupported;var isSCTPSupportd=!1;DetectRTC.browser.isFirefox&&DetectRTC.browser.version>28?isSCTPSupportd=!0:DetectRTC.browser.isChrome&&DetectRTC.browser.version>25?isSCTPSupportd=!0:DetectRTC.browser.isOpera&&DetectRTC.browser.version>=11&&(isSCTPSupportd=!0),DetectRTC.isSctpDataChannelsSupported=isSCTPSupportd,DetectRTC.isMobileDevice=isMobileDevice;var isGetUserMediaSupported=!1;navigator.getUserMedia?isGetUserMediaSupported=!0:navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(isGetUserMediaSupported=!0),DetectRTC.browser.isChrome&&DetectRTC.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(isGetUserMediaSupported="Requires HTTPs"),"Nodejs"===DetectRTC.osName&&(isGetUserMediaSupported=!1),DetectRTC.isGetUserMediaSupported=isGetUserMediaSupported;var w,h,r,displayResolution="";screen.width&&(displayResolution+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));DetectRTC.displayResolution=displayResolution,DetectRTC.displayAspectRatio=(w=screen.width,h=screen.height,r=function gcd(a,b){return 0==b?a:gcd(b,a%b)}(w,h),w/r/(h/r)).toFixed(2),DetectRTC.isCanvasSupportsStreamCapturing=isCanvasSupportsStreamCapturing,DetectRTC.isVideoSupportsStreamCapturing=isVideoSupportsStreamCapturing,"Chrome"==DetectRTC.browser.name&&DetectRTC.browser.version>=53&&(DetectRTC.isCanvasSupportsStreamCapturing||(DetectRTC.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),DetectRTC.isVideoSupportsStreamCapturing||(DetectRTC.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),DetectRTC.DetectLocalIPAddress=function(callback,stream){if(DetectRTC.isWebRTCSupported){var isPublic=!0,isIpv4=!0;!function(callback,stream){if("undefined"!=typeof document&&"function"==typeof document.getElementById){var ipDuplicates={},RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!RTCPeerConnection){var iframe=document.getElementById("iframe");if(!iframe)return;var win=iframe.contentWindow;RTCPeerConnection=win.RTCPeerConnection||win.mozRTCPeerConnection||win.webkitRTCPeerConnection}if(RTCPeerConnection){var peerConfig=null;"Chrome"===DetectRTC.browser&&DetectRTC.browser.version<58&&(peerConfig={optional:[{RtpDataChannels:!0}]});var pc=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]},peerConfig);if(stream&&(pc.addStream?pc.addStream(stream):pc.addTrack&&stream.getTracks()[0]&&pc.addTrack(stream.getTracks()[0],stream)),pc.onicecandidate=function(event){event.candidate&&event.candidate.candidate?handleCandidate(event.candidate.candidate):handleCandidate()},!stream)try{pc.createDataChannel("sctp",{})}catch(e){}DetectRTC.isPromisesSupported?pc.createOffer().then(function(result){pc.setLocalDescription(result).then(afterCreateOffer)}):pc.createOffer(function(result){pc.setLocalDescription(result,afterCreateOffer,function(){})},function(){})}}function handleCandidate(candidate){if(candidate){var match=regexIpv4.exec(candidate);if(match){var ipAddress=match[1],isPublic=candidate.match(regexIpv4Local);void 0===ipDuplicates[ipAddress]&&callback(ipAddress,isPublic,!0),ipDuplicates[ipAddress]=!0}}else callback()}function afterCreateOffer(){var lines=pc.localDescription.sdp.split("\n");lines.forEach(function(line){line&&0===line.indexOf("a=candidate:")&&handleCandidate(line)})}}(function(ip){ip?ip.match(regexIpv4Local)?callback("Local: "+ip,isPublic=!1,isIpv4):ip.match(regexIpv6)?callback("Public: "+ip,isPublic,isIpv4=!1):callback("Public: "+ip,isPublic,isIpv4):callback()},stream)}},DetectRTC.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,DetectRTC.isWebSocketsBlocked=!DetectRTC.isWebSocketsSupported,"Nodejs"===DetectRTC.osName&&(DetectRTC.isWebSocketsSupported=!0,DetectRTC.isWebSocketsBlocked=!1),DetectRTC.checkWebSocketsSupport=function(callback){callback=callback||function(){};try{var starttime,websocket=new WebSocket("wss://echo.websocket.org:443/");websocket.onopen=function(){DetectRTC.isWebSocketsBlocked=!1,starttime=(new Date).getTime(),websocket.send("ping")},websocket.onmessage=function(){DetectRTC.WebsocketLatency=(new Date).getTime()-starttime+"ms",callback(),websocket.close(),websocket=null},websocket.onerror=function(){DetectRTC.isWebSocketsBlocked=!0,callback()}}catch(e){DetectRTC.isWebSocketsBlocked=!0,callback()}},DetectRTC.load=function(callback){checkDeviceSupport(callback=callback||function(){})},DetectRTC.MediaDevices=void 0!==MediaDevices?MediaDevices:[],DetectRTC.hasMicrophone=hasMicrophone,DetectRTC.hasSpeakers=hasSpeakers,DetectRTC.hasWebcam=hasWebcam,DetectRTC.isWebsiteHasWebcamPermissions=isWebsiteHasWebcamPermissions,DetectRTC.isWebsiteHasMicrophonePermissions=isWebsiteHasMicrophonePermissions,DetectRTC.audioInputDevices=audioInputDevices,DetectRTC.audioOutputDevices=audioOutputDevices,DetectRTC.videoInputDevices=videoInputDevices;var isSetSinkIdSupported=!1;"undefined"!=typeof document&&"function"==typeof document.createElement&&"setSinkId"in document.createElement("video")&&(isSetSinkIdSupported=!0),DetectRTC.isSetSinkIdSupported=isSetSinkIdSupported;var isRTPSenderReplaceTracksSupported=!1;DetectRTC.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(isRTPSenderReplaceTracksSupported=!0):DetectRTC.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(isRTPSenderReplaceTracksSupported=!0),DetectRTC.isRTPSenderReplaceTracksSupported=isRTPSenderReplaceTracksSupported;var isRemoteStreamProcessingSupported=!1;DetectRTC.browser.isFirefox&&DetectRTC.browser.version>38&&(isRemoteStreamProcessingSupported=!0),DetectRTC.isRemoteStreamProcessingSupported=isRemoteStreamProcessingSupported;var isApplyConstraintsSupported=!1;"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype&&(isApplyConstraintsSupported=!0),DetectRTC.isApplyConstraintsSupported=isApplyConstraintsSupported;var isMultiMonitorScreenCapturingSupported=!1;DetectRTC.browser.isFirefox&&DetectRTC.browser.version>=43&&(isMultiMonitorScreenCapturingSupported=!0),DetectRTC.isMultiMonitorScreenCapturingSupported=isMultiMonitorScreenCapturingSupported,DetectRTC.isPromisesSupported=!!("Promise"in window),DetectRTC.version="1.3.9",void 0===DetectRTC&&(window.DetectRTC={});var MediaStream=window.MediaStream;void 0===MediaStream&&"undefined"!=typeof webkitMediaStream&&(MediaStream=webkitMediaStream),DetectRTC.MediaStream=void 0!==MediaStream&&"function"==typeof MediaStream&&Object.keys(MediaStream.prototype),"undefined"!=typeof MediaStreamTrack?DetectRTC.MediaStreamTrack=Object.keys(MediaStreamTrack.prototype):DetectRTC.MediaStreamTrack=!1;var RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;DetectRTC.RTCPeerConnection=void 0!==RTCPeerConnection&&Object.keys(RTCPeerConnection.prototype),window.DetectRTC=DetectRTC,void 0!==module&&(module.exports=DetectRTC)}()},{process:"pBGv"}],jB5h:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioCompatibilityService=void 0;var obj,_core=require("@angular/core"),_detectrtc=(obj=require("detectrtc"))&&obj.__esModule?obj:{default:obj};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AudioCompatibilityService=function(){function AudioCompatibilityService(){}return AudioCompatibilityService.prototype.isWebRTCSupported=function(){return _detectrtc.default.isWebRTCSupported},AudioCompatibilityService.prototype.isMobileDevice=function(){return _detectrtc.default.isMobileDevice},AudioCompatibilityService.prototype.isChromeBrowser=function(){return _detectrtc.default.browser.isChrome},AudioCompatibilityService.prototype.isLegacyEdgeyBrowser=function(){return _detectrtc.default.browser.isEdge},AudioCompatibilityService.prototype.isSafariBrowser=function(){return _detectrtc.default.browser.isSafari},AudioCompatibilityService.prototype.browserDetails=function(){return _detectrtc.default.browser},AudioCompatibilityService.prototype.osName=function(){return _detectrtc.default.osName},AudioCompatibilityService=__decorate([(0,_core.Injectable)(),__metadata("design:paramtypes",[])],AudioCompatibilityService)}();exports.AudioCompatibilityService=AudioCompatibilityService},{"@angular/core":"XDhY",detectrtc:"VScz"}],wl9D:[function(require,module,exports){var root,factory;root=window,factory=function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="./src/wavesurfer.js")}({"./node_modules/debounce/index.js":function(module,exports){function debounce(func,wait,immediate){var timeout,args,context,timestamp,result;function later(){var last=Date.now()-timestamp;last<wait&&last>=0?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),context=args=null))}null==wait&&(wait=100);var debounced=function(){context=this,args=arguments,timestamp=Date.now();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result};return debounced.clear=function(){timeout&&(clearTimeout(timeout),timeout=null)},debounced.flush=function(){timeout&&(result=func.apply(context,args),context=args=null,clearTimeout(timeout),timeout=null)},debounced}debounce.debounce=debounce,module.exports=debounce},"./src/drawer.canvasentry.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _style=_interopRequireDefault(__webpack_require__("./src/util/style.js")),_getId=_interopRequireDefault(__webpack_require__("./src/util/get-id.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var CanvasEntry=function(){function CanvasEntry(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CanvasEntry),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,_getId.default)(this.constructor.name.toLowerCase()+"_"),this.canvasContextAttributes={}}var Constructor,protoProps,staticProps;return Constructor=CanvasEntry,(protoProps=[{key:"initWave",value:function(element){this.wave=element,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(element){this.progress=element,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(elementWidth,totalWidth,width,height){this.start=this.wave.offsetLeft/totalWidth||0,this.end=this.start+elementWidth/totalWidth,this.wave.width=width,this.wave.height=height;var elementSize={width:elementWidth+"px"};(0,_style.default)(this.wave,elementSize),this.hasProgressCanvas&&(this.progress.width=width,this.progress.height=height,(0,_style.default)(this.progress,elementSize))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(waveColor,progressColor){this.waveCtx.fillStyle=waveColor,this.hasProgressCanvas&&(this.progressCtx.fillStyle=progressColor)}},{key:"fillRects",value:function(x,y,width,height,radius){this.fillRectToContext(this.waveCtx,x,y,width,height,radius),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,x,y,width,height,radius)}},{key:"fillRectToContext",value:function(ctx,x,y,width,height,radius){ctx&&(radius?this.drawRoundedRect(ctx,x,y,width,height,radius):ctx.fillRect(x,y,width,height))}},{key:"drawRoundedRect",value:function(ctx,x,y,width,height,radius){0!==height&&(height<0&&(y-=height*=-1),ctx.beginPath(),ctx.moveTo(x+radius,y),ctx.lineTo(x+width-radius,y),ctx.quadraticCurveTo(x+width,y,x+width,y+radius),ctx.lineTo(x+width,y+height-radius),ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height),ctx.lineTo(x+radius,y+height),ctx.quadraticCurveTo(x,y+height,x,y+height-radius),ctx.lineTo(x,y+radius),ctx.quadraticCurveTo(x,y,x+radius,y),ctx.closePath(),ctx.fill())}},{key:"drawLines",value:function(peaks,absmax,halfH,offsetY,start,end){this.drawLineToContext(this.waveCtx,peaks,absmax,halfH,offsetY,start,end),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,peaks,absmax,halfH,offsetY,start,end)}},{key:"drawLineToContext",value:function(ctx,peaks,absmax,halfH,offsetY,start,end){if(ctx){var i,peak,h,length=peaks.length/2,first=Math.round(length*this.start),canvasStart=first,canvasEnd=Math.round(length*this.end)+1,scale=this.wave.width/(canvasEnd-canvasStart-1),halfOffset=halfH+offsetY,absmaxHalf=absmax/halfH;for(ctx.beginPath(),ctx.moveTo((canvasStart-first)*scale,halfOffset),ctx.lineTo((canvasStart-first)*scale,halfOffset-Math.round((peaks[2*canvasStart]||0)/absmaxHalf)),i=canvasStart;i<canvasEnd;i++)peak=peaks[2*i]||0,h=Math.round(peak/absmaxHalf),ctx.lineTo((i-first)*scale+this.halfPixel,halfOffset-h);for(var j=canvasEnd-1;j>=canvasStart;j--)peak=peaks[2*j+1]||0,h=Math.round(peak/absmaxHalf),ctx.lineTo((j-first)*scale+this.halfPixel,halfOffset-h);ctx.lineTo((canvasStart-first)*scale,halfOffset-Math.round((peaks[2*canvasStart+1]||0)/absmaxHalf)),ctx.closePath(),ctx.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(format,quality,type){var _this=this;return"blob"===type?new Promise(function(resolve){_this.wave.toBlob(resolve,format,quality)}):"dataURL"===type?this.wave.toDataURL(format,quality):void 0}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),CanvasEntry}();exports.default=CanvasEntry,module.exports=exports.default},"./src/drawer.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var util=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./src/util/index.js"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Drawer=function(_util$Observer){function Drawer(container,params){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Drawer),(_this=_possibleConstructorReturn(this,_getPrototypeOf(Drawer).call(this))).container=container,_this.params=params,_this.width=0,_this.height=params.height*_this.params.pixelRatio,_this.lastPos=0,_this.wrapper=null,_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Drawer,util.Observer),Constructor=Drawer,(protoProps=[{key:"style",value:function(el,styles){return util.style(el,styles)}},{key:"createWrapper",value:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(e,noPrevent){!noPrevent&&e.preventDefault();var progress,clientX=e.targetTouches?e.targetTouches[0].clientX:e.clientX,bbox=this.wrapper.getBoundingClientRect(),nominalWidth=this.width,parentWidth=this.getWidth();return!this.params.fillParent&&nominalWidth<parentWidth?(progress=(this.params.rtl?bbox.right-clientX:clientX-bbox.left)*(this.params.pixelRatio/nominalWidth)||0)>1&&(progress=1):progress=((this.params.rtl?bbox.right-clientX:clientX-bbox.left)+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,progress}},{key:"setupWrapperEvents",value:function(){var _this2=this;this.wrapper.addEventListener("click",function(e){var scrollbarHeight=_this2.wrapper.offsetHeight-_this2.wrapper.clientHeight;if(0!==scrollbarHeight){var bbox=_this2.wrapper.getBoundingClientRect();if(e.clientY>=bbox.bottom-scrollbarHeight)return}_this2.params.interact&&_this2.fireEvent("click",e,_this2.handleEvent(e))}),this.wrapper.addEventListener("dblclick",function(e){_this2.params.interact&&_this2.fireEvent("dblclick",e,_this2.handleEvent(e))}),this.wrapper.addEventListener("scroll",function(e){return _this2.fireEvent("scroll",e)})}},{key:"drawPeaks",value:function(peaks,length,start,end){this.setWidth(length)||this.clearWave(),this.params.barWidth?this.drawBars(peaks,0,start,end):this.drawWave(peaks,0,start,end)}},{key:"resetScroll",value:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(percent){var position=this.wrapper.scrollWidth*percent;this.recenterOnPosition(position,!0)}},{key:"recenterOnPosition",value:function(position,immediate){var scrollLeft=this.wrapper.scrollLeft,half=~~(this.wrapper.clientWidth/2),maxScroll=this.wrapper.scrollWidth-this.wrapper.clientWidth,target=position-half,offset=target-scrollLeft;if(0!=maxScroll){if(!immediate&&-half<=offset&&offset<half){var rate=this.params.autoCenterRate;rate/=half,rate*=maxScroll,target=scrollLeft+(offset=Math.max(-rate,Math.min(rate,offset)))}(target=Math.max(0,Math.min(maxScroll,target)))!=scrollLeft&&(this.wrapper.scrollLeft=target)}}},{key:"getScrollX",value:function(){var x=0;if(this.wrapper){var pixelRatio=this.params.pixelRatio;if(x=Math.round(this.wrapper.scrollLeft*pixelRatio),this.params.scrollParent){var maxScroll=~~(this.wrapper.scrollWidth*pixelRatio-this.getWidth());x=Math.min(maxScroll,Math.max(0,x))}}return x}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(width){return this.width!=width&&(this.width=width,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"setHeight",value:function(height){return height!=this.height&&(this.height=height,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(_progress){var minPxDelta=1/this.params.pixelRatio,pos=Math.round(_progress*this.width)*minPxDelta;if(pos<this.lastPos||pos-this.lastPos>=minPxDelta){if(this.lastPos=pos,this.params.scrollParent&&this.params.autoCenter){var newPos=~~(this.wrapper.scrollWidth*_progress);this.recenterOnPosition(newPos,this.params.autoCenterImmediately)}this.updateProgress(pos)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container&&this.container.removeChild(this.wrapper),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(peaks,channelIndex,start,end){}},{key:"drawWave",value:function(peaks,channelIndex,start,end){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(position){}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Drawer}();exports.default=Drawer,module.exports=exports.default},"./src/drawer.multicanvas.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _drawer=_interopRequireDefault(__webpack_require__("./src/drawer.js")),util=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./src/util/index.js")),_drawer2=_interopRequireDefault(__webpack_require__("./src/drawer.canvasentry.js"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var MultiCanvas=function(_Drawer){function MultiCanvas(container,params){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MultiCanvas),(_this=_possibleConstructorReturn(this,_getPrototypeOf(MultiCanvas).call(this,container,params))).maxCanvasWidth=params.maxCanvasWidth,_this.maxCanvasElementWidth=Math.round(params.maxCanvasWidth/params.pixelRatio),_this.hasProgressCanvas=params.waveColor!=params.progressColor,_this.halfPixel=.5/params.pixelRatio,_this.canvases=[],_this.progressWave=null,_this.EntryClass=_drawer2.default,_this.canvasContextAttributes=params.drawingContextAttributes,_this.overlap=2*Math.ceil(params.pixelRatio/2),_this.barRadius=params.barRadius||0,_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MultiCanvas,_drawer.default),Constructor=MultiCanvas,(protoProps=[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"})),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var _this2=this,totalWidth=Math.round(this.width/this.params.pixelRatio),requiredCanvases=Math.ceil(totalWidth/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<requiredCanvases;)this.addCanvas();for(;this.canvases.length>requiredCanvases;)this.removeCanvas();var canvasWidth=this.maxCanvasWidth+this.overlap,lastCanvas=this.canvases.length-1;this.canvases.forEach(function(entry,i){i==lastCanvas&&(canvasWidth=_this2.width-_this2.maxCanvasWidth*lastCanvas),_this2.updateDimensions(entry,canvasWidth,_this2.height),entry.clearWave()})}},{key:"addCanvas",value:function(){var entry=new this.EntryClass;entry.canvasContextAttributes=this.canvasContextAttributes,entry.hasProgressCanvas=this.hasProgressCanvas,entry.halfPixel=this.halfPixel;var leftOffset=this.maxCanvasElementWidth*this.canvases.length;entry.initWave(this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:2,left:leftOffset+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}))),this.hasProgressCanvas&&entry.initProgress(this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:leftOffset+"px",top:0,bottom:0,height:"100%"}))),this.canvases.push(entry)}},{key:"removeCanvas",value:function(){var lastEntry=this.canvases[this.canvases.length-1];lastEntry.wave.parentElement.removeChild(lastEntry.wave),this.hasProgressCanvas&&lastEntry.progress.parentElement.removeChild(lastEntry.progress),lastEntry&&(lastEntry.destroy(),lastEntry=null),this.canvases.pop()}},{key:"updateDimensions",value:function(entry,width,height){var elementWidth=Math.round(width/this.params.pixelRatio),totalWidth=Math.round(this.width/this.params.pixelRatio);entry.updateDimensions(elementWidth,totalWidth,width,height),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){this.canvases.forEach(function(entry){return entry.clearWave()})}},{key:"drawBars",value:function(peaks,channelIndex,start,end){var _this3=this;return this.prepareDraw(peaks,channelIndex,start,end,function(_ref){var absmax=_ref.absmax,hasMinVals=_ref.hasMinVals,offsetY=(_ref.height,_ref.offsetY),halfH=_ref.halfH,peaks=_ref.peaks;if(void 0!==start)for(var peakIndexScale=hasMinVals?2:1,length=peaks.length/peakIndexScale,bar=_this3.params.barWidth*_this3.params.pixelRatio,step=bar+(null===_this3.params.barGap?Math.max(_this3.params.pixelRatio,~~(bar/2)):Math.max(_this3.params.pixelRatio,_this3.params.barGap*_this3.params.pixelRatio)),scale=length/_this3.width,last=end,i=start;i<last;i+=step){var peak=peaks[Math.floor(i*scale*peakIndexScale)]||0,h=Math.round(peak/absmax*halfH);0==h&&_this3.params.barMinHeight&&(h=_this3.params.barMinHeight),_this3.fillRect(i+_this3.halfPixel,halfH-h+offsetY,bar+_this3.halfPixel,2*h,_this3.barRadius)}})}},{key:"drawWave",value:function(peaks,channelIndex,start,end){var _this4=this;return this.prepareDraw(peaks,channelIndex,start,end,function(_ref2){var absmax=_ref2.absmax,hasMinVals=_ref2.hasMinVals,offsetY=(_ref2.height,_ref2.offsetY),halfH=_ref2.halfH,peaks=_ref2.peaks;if(!hasMinVals){for(var reflectedPeaks=[],len=peaks.length,i=0;i<len;i++)reflectedPeaks[2*i]=peaks[i],reflectedPeaks[2*i+1]=-peaks[i];peaks=reflectedPeaks}void 0!==start&&_this4.drawLine(peaks,absmax,halfH,offsetY,start,end),_this4.fillRect(0,halfH+offsetY-_this4.halfPixel,_this4.width,_this4.halfPixel,_this4.barRadius)})}},{key:"drawLine",value:function(peaks,absmax,halfH,offsetY,start,end){var _this5=this;this.canvases.forEach(function(entry){_this5.setFillStyles(entry),entry.drawLines(peaks,absmax,halfH,offsetY,start,end)})}},{key:"fillRect",value:function(x,y,width,height,radius){for(var startCanvas=Math.floor(x/this.maxCanvasWidth),endCanvas=Math.min(Math.ceil((x+width)/this.maxCanvasWidth)+1,this.canvases.length),i=startCanvas;i<endCanvas;i++){var entry=this.canvases[i],leftOffset=i*this.maxCanvasWidth,intersection={x1:Math.max(x,i*this.maxCanvasWidth),y1:y,x2:Math.min(x+width,i*this.maxCanvasWidth+entry.wave.width),y2:y+height};intersection.x1<intersection.x2&&(this.setFillStyles(entry),entry.fillRects(intersection.x1-leftOffset,intersection.y1,intersection.x2-intersection.x1,intersection.y2-intersection.y1,radius))}}},{key:"prepareDraw",value:function(peaks,channelIndex,start,end,fn){var _this6=this;return util.frame(function(){if(peaks[0]instanceof Array){var channels=peaks;if(_this6.params.splitChannels)return _this6.setHeight(channels.length*_this6.params.height*_this6.params.pixelRatio),channels.forEach(function(channelPeaks,i){return _this6.prepareDraw(channelPeaks,i,start,end,fn)});peaks=channels[0]}var absmax=1/_this6.params.barHeight;if(_this6.params.normalize){var max=util.max(peaks),min=util.min(peaks);absmax=-min>max?-min:max}var hasMinVals=[].some.call(peaks,function(val){return val<0}),height=_this6.params.height*_this6.params.pixelRatio;return fn({absmax:absmax,hasMinVals:hasMinVals,height:height,offsetY:height*channelIndex||0,halfH:height/2,peaks:peaks})})()}},{key:"setFillStyles",value:function(entry){entry.setFillStyles(this.params.waveColor,this.params.progressColor)}},{key:"getImage",value:function(format,quality,type){if("blob"===type)return Promise.all(this.canvases.map(function(entry){return entry.getImage(format,quality,type)}));if("dataURL"===type){var images=this.canvases.map(function(entry){return entry.getImage(format,quality,type)});return images.length>1?images:images[0]}}},{key:"updateProgress",value:function(position){this.style(this.progressWave,{width:position+"px"})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),MultiCanvas}();exports.default=MultiCanvas,module.exports=exports.default},"./src/mediaelement-webaudio.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_mediaelement=(obj=__webpack_require__("./src/mediaelement.js"))&&obj.__esModule?obj:{default:obj};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var MediaElementWebAudio=function(_MediaElement){function MediaElementWebAudio(params){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MediaElementWebAudio),(_this=_possibleConstructorReturn(this,_getPrototypeOf(MediaElementWebAudio).call(this,params))).params=params,_this.sourceMediaElement=null,_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MediaElementWebAudio,_mediaelement.default),Constructor=MediaElementWebAudio,(protoProps=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(media,peaks){_get(_getPrototypeOf(MediaElementWebAudio.prototype),"_load",this).call(this,media,peaks),this.createMediaElementSource(media)}},{key:"createMediaElementSource",value:function(mediaElement){this.sourceMediaElement=this.ac.createMediaElementSource(mediaElement),this.sourceMediaElement.connect(this.analyser)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),MediaElementWebAudio}();exports.default=MediaElementWebAudio,module.exports=exports.default},"./src/mediaelement.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_webaudio=(obj=__webpack_require__("./src/webaudio.js"))&&obj.__esModule?obj:{default:obj},util=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./src/util/index.js"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var MediaElement=function(_WebAudio){function MediaElement(params){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MediaElement),(_this=_possibleConstructorReturn(this,_getPrototypeOf(MediaElement).call(this,params))).params=params,_this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},_this.mediaType=params.mediaType.toLowerCase(),_this.elementPosition=params.elementPosition,_this.peaks=null,_this.playbackRate=1,_this.volume=1,_this.isMuted=!1,_this.buffer=null,_this.onPlayEnd=null,_this.mediaListeners={},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MediaElement,_webaudio.default),Constructor=MediaElement,(protoProps=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var _this2=this;this.mediaListeners.error=function(){_this2.fireEvent("error","Error loading media element")},this.mediaListeners.canplay=function(){_this2.fireEvent("canplay")},this.mediaListeners.ended=function(){_this2.fireEvent("finish")},this.mediaListeners.play=function(){_this2.fireEvent("play")},this.mediaListeners.pause=function(){_this2.fireEvent("pause")},this.mediaListeners.seeked=function(event){_this2.fireEvent("seek")},this.mediaListeners.volumechange=function(event){_this2.isMuted=_this2.media.muted,_this2.isMuted?_this2.volume=0:_this2.volume=_this2.media.volume,_this2.fireEvent("volume")},Object.keys(this.mediaListeners).forEach(function(id){_this2.media.removeEventListener(id,_this2.mediaListeners[id]),_this2.media.addEventListener(id,_this2.mediaListeners[id])})}},{key:"createTimer",value:function(){var _this3=this;this.on("play",function onAudioProcess(){_this3.isPaused()||(_this3.fireEvent("audioprocess",_this3.getCurrentTime()),util.frame(onAudioProcess)())}),this.on("pause",function(){_this3.fireEvent("audioprocess",_this3.getCurrentTime())})}},{key:"load",value:function(url,container,peaks,preload){var media=document.createElement(this.mediaType);media.controls=this.params.mediaControls,media.autoplay=this.params.autoplay||!1,media.preload=null==preload?"auto":preload,media.src=url,media.style.width="100%";var prevMedia=container.querySelector(this.mediaType);prevMedia&&container.removeChild(prevMedia),container.appendChild(media),this._load(media,peaks)}},{key:"loadElt",value:function(elt,peaks){elt.controls=this.params.mediaControls,elt.autoplay=this.params.autoplay||!1,this._load(elt,peaks)}},{key:"_load",value:function(media,peaks){if(!(media instanceof HTMLMediaElement)||void 0===media.addEventListener)throw new Error("media parameter is not a valid media element");"function"==typeof media.load&&media.load(),this.media=media,this._setupMediaListeners(),this.peaks=peaks,this.onPlayEnd=null,this.buffer=null,this.isMuted=media.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var duration=(this.buffer||this.media).duration;return duration>=1/0&&(duration=this.media.seekable.end(0)),duration}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(value){this.playbackRate=value||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(start){null!=start&&(this.media.currentTime=start),this.clearPlayEnd()}},{key:"play",value:function(start,end){this.seekTo(start);var promise=this.media.play();return end&&this.setPlayEnd(end),promise}},{key:"pause",value:function(){var promise;return this.media&&(promise=this.media.pause()),this.clearPlayEnd(),promise}},{key:"setPlayEnd",value:function(end){var _this4=this;this.clearPlayEnd(),this._onPlayEnd=function(time){time>=end&&(_this4.pause(),_this4.seekTo(end))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(length,first,last){return this.buffer?_get(_getPrototypeOf(MediaElement.prototype),"getPeaks",this).call(this,length,first,last):this.peaks||[]}},{key:"setSinkId",value:function(deviceId){return deviceId?this.media.setSinkId?this.media.setSinkId(deviceId):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+deviceId))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(value){this.volume=value,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"destroy",value:function(){var _this5=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach(function(id){_this5.media&&_this5.media.removeEventListener(id,_this5.mediaListeners[id])}),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),MediaElement}();exports.default=MediaElement,module.exports=exports.default},"./src/peakcache.js":function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var PeakCache=function(){function PeakCache(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PeakCache),this.clearPeakCache()}var Constructor,protoProps,staticProps;return Constructor=PeakCache,(protoProps=[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(length,start,end){length!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=length);for(var uncachedRanges=[],i=0;i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<start;)i++;for(i%2==0&&uncachedRanges.push(start);i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<=end;)uncachedRanges.push(this.peakCacheRanges[i]),i++;i%2==0&&uncachedRanges.push(end),uncachedRanges=uncachedRanges.filter(function(item,pos,arr){return 0==pos?item!=arr[pos+1]:pos==arr.length-1?item!=arr[pos-1]:item!=arr[pos-1]&&item!=arr[pos+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(uncachedRanges),this.peakCacheRanges=this.peakCacheRanges.sort(function(a,b){return a-b}).filter(function(item,pos,arr){return 0==pos?item!=arr[pos+1]:pos==arr.length-1?item!=arr[pos-1]:item!=arr[pos-1]&&item!=arr[pos+1]});var uncachedRangePairs=[];for(i=0;i<uncachedRanges.length;i+=2)uncachedRangePairs.push([uncachedRanges[i],uncachedRanges[i+1]]);return uncachedRangePairs}},{key:"getCacheRanges",value:function(){var i,peakCacheRangePairs=[];for(i=0;i<this.peakCacheRanges.length;i+=2)peakCacheRangePairs.push([this.peakCacheRanges[i],this.peakCacheRanges[i+1]]);return peakCacheRangePairs}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PeakCache}();exports.default=PeakCache,module.exports=exports.default},"./src/util/ajax.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(options){var instance=new _observer.default,xhr=new XMLHttpRequest,fired100=!1;xhr.open(options.method||"GET",options.url,!0),xhr.responseType=options.responseType||"json",options.xhr&&(options.xhr.requestHeaders&&options.xhr.requestHeaders.forEach(function(header){xhr.setRequestHeader(header.key,header.value)}),options.xhr.withCredentials&&(xhr.withCredentials=!0));return xhr.addEventListener("progress",function(e){instance.fireEvent("progress",e),e.lengthComputable&&e.loaded==e.total&&(fired100=!0)}),xhr.addEventListener("load",function(e){fired100||instance.fireEvent("progress",e),instance.fireEvent("load",e),200==xhr.status||206==xhr.status?instance.fireEvent("success",xhr.response,e):instance.fireEvent("error",e)}),xhr.addEventListener("error",function(e){return instance.fireEvent("error",e)}),xhr.send(),instance.xhr=xhr,instance};var obj,_observer=(obj=__webpack_require__("./src/util/observer.js"))&&obj.__esModule?obj:{default:obj};module.exports=exports.default},"./src/util/extend.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(dest){console.warn("util.extend is deprecated; use Object.assign instead");for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];return sources.forEach(function(source){Object.keys(source).forEach(function(key){dest[key]=source[key]})}),dest},module.exports=exports.default},"./src/util/fetch.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(options){if(!options)throw new Error("fetch options missing");if(!options.url)throw new Error("fetch url missing");var instance=new _observer.default,fetchHeaders=new Headers,fetchRequest=new Request(options.url);instance.controller=new AbortController,options&&options.requestHeaders&&options.requestHeaders.forEach(function(header){fetchHeaders.append(header.key,header.value)});var responseType=options.responseType||"json",fetchOptions={method:options.method||"GET",headers:fetchHeaders,mode:options.mode||"cors",credentials:options.credentials||"same-origin",cache:options.cache||"default",redirect:options.redirect||"follow",referrer:options.referrer||"client",signal:instance.controller.signal};return fetch(fetchRequest,fetchOptions).then(function(response){instance.response=response;var progressAvailable=!0;response.body||(progressAvailable=!1);var contentLength=response.headers.get("content-length");return null===contentLength&&(progressAvailable=!1),progressAvailable?(instance.onProgress=function(e){instance.fireEvent("progress",e)},new Response(new ReadableStream(new ProgressHandler(instance,contentLength,response)),fetchOptions)):response}).then(function(response){var errMsg;if(response.ok)switch(responseType){case"arraybuffer":return response.arrayBuffer();case"json":return response.json();case"blob":return response.blob();case"text":return response.text();default:errMsg="Unknown responseType: "+responseType}throw errMsg||(errMsg="HTTP error status: "+response.status),new Error(errMsg)}).then(function(response){instance.fireEvent("success",response)}).catch(function(error){instance.fireEvent("error",error)}),instance.fetchRequest=fetchRequest,instance};var obj,_observer=(obj=__webpack_require__("./src/util/observer.js"))&&obj.__esModule?obj:{default:obj};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ProgressHandler=function(){function ProgressHandler(instance,contentLength,response){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ProgressHandler),this.instance=instance,this.instance._reader=response.body.getReader(),this.total=parseInt(contentLength,10),this.loaded=0}var Constructor,protoProps,staticProps;return Constructor=ProgressHandler,(protoProps=[{key:"start",value:function(controller){var _this=this;!function read(){_this.instance._reader.read().then(function(_ref){var done=_ref.done,value=_ref.value;if(done)return 0===_this.total&&_this.instance.onProgress.call(_this.instance,{loaded:_this.loaded,total:_this.total,lengthComputable:!1}),void controller.close();_this.loaded+=value.byteLength,_this.instance.onProgress.call(_this.instance,{loaded:_this.loaded,total:_this.total,lengthComputable:!(0===_this.total)}),controller.enqueue(value),read()}).catch(function(error){controller.error(error)})}()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ProgressHandler}();module.exports=exports.default},"./src/util/frame.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(func){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(0,_requestAnimationFrame.default)(function(){return func.apply(void 0,args)})}};var obj,_requestAnimationFrame=(obj=__webpack_require__("./src/util/request-animation-frame.js"))&&obj.__esModule?obj:{default:obj};module.exports=exports.default},"./src/util/get-id.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(prefix){void 0===prefix&&(prefix="wavesurfer_");return prefix+Math.random().toString(32).substring(2)},module.exports=exports.default},"./src/util/index.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ajax",{enumerable:!0,get:function(){return _ajax.default}}),Object.defineProperty(exports,"getId",{enumerable:!0,get:function(){return _getId.default}}),Object.defineProperty(exports,"max",{enumerable:!0,get:function(){return _max.default}}),Object.defineProperty(exports,"min",{enumerable:!0,get:function(){return _min.default}}),Object.defineProperty(exports,"Observer",{enumerable:!0,get:function(){return _observer.default}}),Object.defineProperty(exports,"extend",{enumerable:!0,get:function(){return _extend.default}}),Object.defineProperty(exports,"style",{enumerable:!0,get:function(){return _style.default}}),Object.defineProperty(exports,"requestAnimationFrame",{enumerable:!0,get:function(){return _requestAnimationFrame.default}}),Object.defineProperty(exports,"frame",{enumerable:!0,get:function(){return _frame.default}}),Object.defineProperty(exports,"debounce",{enumerable:!0,get:function(){return _debounce.default}}),Object.defineProperty(exports,"preventClick",{enumerable:!0,get:function(){return _preventClick.default}}),Object.defineProperty(exports,"fetchFile",{enumerable:!0,get:function(){return _fetch.default}});var _ajax=_interopRequireDefault(__webpack_require__("./src/util/ajax.js")),_getId=_interopRequireDefault(__webpack_require__("./src/util/get-id.js")),_max=_interopRequireDefault(__webpack_require__("./src/util/max.js")),_min=_interopRequireDefault(__webpack_require__("./src/util/min.js")),_observer=_interopRequireDefault(__webpack_require__("./src/util/observer.js")),_extend=_interopRequireDefault(__webpack_require__("./src/util/extend.js")),_style=_interopRequireDefault(__webpack_require__("./src/util/style.js")),_requestAnimationFrame=_interopRequireDefault(__webpack_require__("./src/util/request-animation-frame.js")),_frame=_interopRequireDefault(__webpack_require__("./src/util/frame.js")),_debounce=_interopRequireDefault(__webpack_require__("./node_modules/debounce/index.js")),_preventClick=_interopRequireDefault(__webpack_require__("./src/util/prevent-click.js")),_fetch=_interopRequireDefault(__webpack_require__("./src/util/fetch.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},"./src/util/max.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(values){var largest=-1/0;return Object.keys(values).forEach(function(i){values[i]>largest&&(largest=values[i])}),largest},module.exports=exports.default},"./src/util/min.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(values){var smallest=Number(1/0);return Object.keys(values).forEach(function(i){values[i]<smallest&&(smallest=values[i])}),smallest},module.exports=exports.default},"./src/util/observer.js":function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Observer=function(){function Observer(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Observer),this.handlers=null}var Constructor,protoProps,staticProps;return Constructor=Observer,(protoProps=[{key:"on",value:function(event,fn){var _this=this;this.handlers||(this.handlers={});var handlers=this.handlers[event];return handlers||(handlers=this.handlers[event]=[]),handlers.push(fn),{name:event,callback:fn,un:function(e,fn){return _this.un(e,fn)}}}},{key:"un",value:function(event,fn){if(this.handlers){var i,handlers=this.handlers[event];if(handlers)if(fn)for(i=handlers.length-1;i>=0;i--)handlers[i]==fn&&handlers.splice(i,1);else handlers.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(event,handler){var _this2=this;return this.on(event,function fn(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];handler.apply(_this2,args),setTimeout(function(){_this2.un(event,fn)},0)})}},{key:"fireEvent",value:function(event){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];if(this.handlers){var handlers=this.handlers[event];handlers&&handlers.forEach(function(fn){fn.apply(void 0,args)})}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Observer}();exports.default=Observer,module.exports=exports.default},"./src/util/prevent-click.js":function(module,exports,__webpack_require__){"use strict";function preventClickHandler(event){event.stopPropagation(),document.body.removeEventListener("click",preventClickHandler,!0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(values){document.body.addEventListener("click",preventClickHandler,!0)},module.exports=exports.default},"./src/util/request-animation-frame.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback,element){return setTimeout(callback,1e3/60)}).bind(window);exports.default=_default,module.exports=exports.default},"./src/util/style.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(el,styles){return Object.keys(styles).forEach(function(prop){el.style[prop]!==styles[prop]&&(el.style[prop]=styles[prop])}),el},module.exports=exports.default},"./src/wavesurfer.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var util=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./src/util/index.js")),_drawer=_interopRequireDefault(__webpack_require__("./src/drawer.multicanvas.js")),_webaudio=_interopRequireDefault(__webpack_require__("./src/webaudio.js")),_mediaelement=_interopRequireDefault(__webpack_require__("./src/mediaelement.js")),_peakcache=_interopRequireDefault(__webpack_require__("./src/peakcache.js")),_mediaelementWebaudio=_interopRequireDefault(__webpack_require__("./src/mediaelement-webaudio.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var WaveSurfer=function(_util$Observer){function WaveSurfer(params){var _this;if(_classCallCheck(this,WaveSurfer),(_this=_possibleConstructorReturn(this,_getPrototypeOf(WaveSurfer).call(this))).defaultParams={audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!0},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:_drawer.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,waveColor:"#999",xhr:{}},_this.backends={MediaElement:_mediaelement.default,WebAudio:_webaudio.default,MediaElementWebAudio:_mediaelementWebaudio.default},_this.util=util,_this.params=Object.assign({},_this.defaultParams,params),_this.container="string"==typeof params.container?document.querySelector(_this.params.container):_this.params.container,!_this.container)throw new Error("Container element not found");if(null==_this.params.mediaContainer?_this.mediaContainer=_this.container:"string"==typeof _this.params.mediaContainer?_this.mediaContainer=document.querySelector(_this.params.mediaContainer):_this.mediaContainer=_this.params.mediaContainer,!_this.mediaContainer)throw new Error("Media Container element not found");if(_this.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(_this.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(!0===_this.params.rtl&&util.style(_this.container,{transform:"rotateY(180deg)"}),_this.params.backgroundColor&&_this.setBackgroundColor(_this.params.backgroundColor),_this.savedVolume=0,_this.isMuted=!1,_this.tmpEvents=[],_this.currentRequest=null,_this.arraybuffer=null,_this.drawer=null,_this.backend=null,_this.peakCache=null,"function"!=typeof _this.params.renderer)throw new Error("Renderer parameter is invalid");_this.Drawer=_this.params.renderer,"AudioElement"==_this.params.backend&&(_this.params.backend="MediaElement"),"WebAudio"!=_this.params.backend&&"MediaElementWebAudio"!==_this.params.backend||_webaudio.default.prototype.supportsWebAudio.call(null)||(_this.params.backend="MediaElement"),_this.Backend=_this.backends[_this.params.backend],_this.initialisedPluginList={},_this.isDestroyed=!1,_this.isReady=!1;var prevWidth=0;return _this._onResize=util.debounce(function(){prevWidth==_this.drawer.wrapper.clientWidth||_this.params.scrollParent||(prevWidth=_this.drawer.wrapper.clientWidth,_this.drawer.fireEvent("redraw"))},"number"==typeof _this.params.responsive?_this.params.responsive:100),_possibleConstructorReturn(_this,_assertThisInitialized(_this))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WaveSurfer,util.Observer),_createClass(WaveSurfer,null,[{key:"create",value:function(params){return new WaveSurfer(params).init()}}]),_createClass(WaveSurfer,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(plugins){var _this2=this;return plugins.forEach(function(plugin){return _this2.addPlugin(plugin)}),plugins.forEach(function(plugin){plugin.deferInit||_this2.initPlugin(plugin.name)}),this.fireEvent("plugins-registered",plugins),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(plugin){var _this3=this;if(!plugin.name)throw new Error("Plugin does not have a name!");if(!plugin.instance)throw new Error("Plugin ".concat(plugin.name," does not have an instance property!"));plugin.staticProps&&Object.keys(plugin.staticProps).forEach(function(pluginStaticProp){_this3[pluginStaticProp]=plugin.staticProps[pluginStaticProp]});var Instance=plugin.instance;return Object.getOwnPropertyNames(util.Observer.prototype).forEach(function(key){Instance.prototype[key]=util.Observer.prototype[key]}),this[plugin.name]=new Instance(plugin.params||{},this),this.fireEvent("plugin-added",plugin.name),this}},{key:"initPlugin",value:function(name){if(!this[name])throw new Error("Plugin ".concat(name," has not been added yet!"));return this.initialisedPluginList[name]&&this.destroyPlugin(name),this[name].init(),this.initialisedPluginList[name]=!0,this.fireEvent("plugin-initialised",name),this}},{key:"destroyPlugin",value:function(name){if(!this[name])throw new Error("Plugin ".concat(name," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[name])throw new Error("Plugin ".concat(name," is not active and cannot be destroyed!"));if("function"!=typeof this[name].destroy)throw new Error("Plugin ".concat(name," does not have a destroy function!"));return this[name].destroy(),delete this.initialisedPluginList[name],this.fireEvent("plugin-destroyed",name),this}},{key:"destroyAllPlugins",value:function(){var _this4=this;Object.keys(this.initialisedPluginList).forEach(function(name){return _this4.destroyPlugin(name)})}},{key:"createDrawer",value:function(){var _this5=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),!1!==this.params.responsive&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",function(){_this5.drawBuffer(),_this5.drawer.progress(_this5.backend.getPlayedPercents())}),this.drawer.on("click",function(e,progress){setTimeout(function(){return _this5.seekTo(progress)},0)}),this.drawer.on("scroll",function(e){_this5.params.partialRender&&_this5.drawBuffer(),_this5.fireEvent("scroll",e)})}},{key:"createBackend",value:function(){var _this6=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",function(){_this6.drawer.progress(_this6.backend.getPlayedPercents()),_this6.fireEvent("finish")}),this.backend.on("play",function(){return _this6.fireEvent("play")}),this.backend.on("pause",function(){return _this6.fireEvent("pause")}),this.backend.on("audioprocess",function(time){_this6.drawer.progress(_this6.backend.getPlayedPercents()),_this6.fireEvent("audioprocess",time)}),"MediaElement"!==this.params.backend&&"MediaElementWebAudio"!==this.params.backend||(this.backend.on("seek",function(){_this6.drawer.progress(_this6.backend.getPlayedPercents())}),this.backend.on("volume",function(){var newVolume=_this6.getVolume();_this6.fireEvent("volume",newVolume),_this6.backend.isMuted!==_this6.isMuted&&(_this6.isMuted=_this6.backend.isMuted,_this6.fireEvent("mute",_this6.isMuted))}))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new _peakcache.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(seconds){seconds>=this.getDuration()?this.seekTo(1):this.seekTo(seconds/this.getDuration())}},{key:"play",value:function(start,end){var _this7=this;return this.fireEvent("interaction",function(){return _this7.play(start,end)}),this.backend.play(start,end)}},{key:"setPlayEnd",value:function(position){this.backend.setPlayEnd(position)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(seconds){this.skip(-seconds||-this.params.skipLength)}},{key:"skipForward",value:function(seconds){this.skip(seconds||this.params.skipLength)}},{key:"skip",value:function(offset){var duration=this.getDuration()||1,position=this.getCurrentTime()||0;position=Math.max(0,Math.min(duration,position+(offset||0))),this.seekAndCenter(position/duration)}},{key:"seekAndCenter",value:function(progress){this.seekTo(progress),this.drawer.recenter(progress)}},{key:"seekTo",value:function(progress){var _this8=this;if("number"!=typeof progress||!isFinite(progress)||progress<0||progress>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",function(){return _this8.seekTo(progress)});var paused=this.backend.isPaused();paused||this.backend.pause();var oldScrollParent=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(progress*this.getDuration()),this.drawer.progress(progress),paused||this.backend.play(),this.params.scrollParent=oldScrollParent,this.fireEvent("seek",progress)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(deviceId){return this.backend.setSinkId(deviceId)}},{key:"setVolume",value:function(newVolume){this.backend.setVolume(newVolume),this.fireEvent("volume",newVolume)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(rate){this.backend.setPlaybackRate(rate)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(mute){mute!==this.isMuted?(mute?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)):this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){return this.params.waveColor}},{key:"setWaveColor",value:function(color){this.params.waveColor=color,this.drawBuffer()}},{key:"getProgressColor",value:function(){return this.params.progressColor}},{key:"setProgressColor",value:function(color){this.params.progressColor=color,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(color){this.params.backgroundColor=color,util.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(color){this.params.cursorColor=color,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(height){this.params.height=height,this.drawer.setHeight(height*this.params.pixelRatio),this.drawBuffer()}},{key:"drawBuffer",value:function(){var peaks,nominalWidth=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),parentWidth=this.drawer.getWidth(),width=nominalWidth,start=0,end=Math.max(start+parentWidth,width);if(this.params.fillParent&&(!this.params.scrollParent||nominalWidth<parentWidth)&&(start=0,end=width=parentWidth),this.params.partialRender){var i,newRanges=this.peakCache.addRangeToPeakCache(width,start,end);for(i=0;i<newRanges.length;i++)peaks=this.backend.getPeaks(width,newRanges[i][0],newRanges[i][1]),this.drawer.drawPeaks(peaks,width,newRanges[i][0],newRanges[i][1])}else peaks=this.backend.getPeaks(width,start,end),this.drawer.drawPeaks(peaks,width,start,end);this.fireEvent("redraw",peaks,width)}},{key:"zoom",value:function(pxPerSec){pxPerSec?(this.params.minPxPerSec=pxPerSec,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",pxPerSec)}},{key:"loadArrayBuffer",value:function(arraybuffer){var _this9=this;this.decodeArrayBuffer(arraybuffer,function(data){_this9.isDestroyed||_this9.loadDecodedBuffer(data)})}},{key:"loadDecodedBuffer",value:function(buffer){this.backend.load(buffer),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(blob){var _this10=this,reader=new FileReader;reader.addEventListener("progress",function(e){return _this10.onProgress(e)}),reader.addEventListener("load",function(e){return _this10.loadArrayBuffer(e.target.result)}),reader.addEventListener("error",function(){return _this10.fireEvent("error","Error reading file")}),reader.readAsArrayBuffer(blob),this.empty()}},{key:"load",value:function(url,peaks,preload,duration){if(!url)throw new Error("url parameter cannot be empty");if(this.empty(),preload){var preloadIgnoreReasons={"Preload is not 'auto', 'none' or 'metadata'":-1===["auto","metadata","none"].indexOf(preload),"Peaks are not provided":!peaks,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":-1===["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend),"Url is not of type string":"string"!=typeof url},activeReasons=Object.keys(preloadIgnoreReasons).filter(function(reason){return preloadIgnoreReasons[reason]});activeReasons.length&&(console.warn("Preload parameter of wavesurfer.load will be ignored because:\n\t- "+activeReasons.join("\n\t- ")),preload=null)}switch(this.params.backend){case"WebAudio":return this.loadBuffer(url,peaks,duration);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(url,peaks,preload,duration)}}},{key:"loadBuffer",value:function(url,peaks,duration){var _this11=this,load=function(action){return action&&_this11.tmpEvents.push(_this11.once("ready",action)),_this11.getArrayBuffer(url,function(data){return _this11.loadArrayBuffer(data)})};if(!peaks)return load();this.backend.setPeaks(peaks,duration),this.drawBuffer(),this.tmpEvents.push(this.once("interaction",load))}},{key:"loadMediaElement",value:function(urlOrElt,peaks,preload,duration){var _this12=this,url=urlOrElt;if("string"==typeof urlOrElt)this.backend.load(url,this.mediaContainer,peaks,preload);else{var elt=urlOrElt;this.backend.loadElt(elt,peaks),url=elt.src}this.tmpEvents.push(this.backend.once("canplay",function(){_this12.backend.destroyed||(_this12.drawBuffer(),_this12.isReady=!0,_this12.fireEvent("ready"))}),this.backend.once("error",function(err){return _this12.fireEvent("error",err)})),peaks&&this.backend.setPeaks(peaks,duration),peaks&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(url,function(arraybuffer){_this12.decodeArrayBuffer(arraybuffer,function(buffer){_this12.backend.buffer=buffer,_this12.backend.setPeaks(null),_this12.drawBuffer(),_this12.fireEvent("waveform-ready")})})}},{key:"decodeArrayBuffer",value:function(arraybuffer,callback){var _this13=this;this.arraybuffer=arraybuffer,this.backend.decodeArrayBuffer(arraybuffer,function(data){_this13.isDestroyed||_this13.arraybuffer!=arraybuffer||(callback(data),_this13.arraybuffer=null)},function(){return _this13.fireEvent("error","Error decoding audiobuffer")})}},{key:"getArrayBuffer",value:function(url,callback){var _this14=this,options=Object.assign({url:url,responseType:"arraybuffer"},this.params.xhr),request=util.fetchFile(options);return this.currentRequest=request,this.tmpEvents.push(request.on("progress",function(e){_this14.onProgress(e)}),request.on("success",function(data){callback(data),_this14.currentRequest=null}),request.on("error",function(e){_this14.fireEvent("error",e),_this14.currentRequest=null})),request}},{key:"onProgress",value:function(e){var percentComplete;percentComplete=e.lengthComputable?e.loaded/e.total:e.loaded/(e.loaded+1e6),this.fireEvent("loading",Math.round(100*percentComplete),e.target)}},{key:"exportPCM",value:function(length,accuracy,noWindow,start,end){length=length||1024,start=start||0,accuracy=accuracy||1e4,noWindow=noWindow||!1;var peaks=this.backend.getPeaks(length,start,end),arr=[].map.call(peaks,function(val){return Math.round(val*accuracy)/accuracy});return new Promise(function(resolve,reject){var json=JSON.stringify(arr);noWindow||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(json)),resolve(json)})}},{key:"exportImage",value:function(format,quality,type){return format||(format="image/png"),quality||(quality=1),type||(type="dataURL"),this.drawer.getImage(format,quality,type)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach(function(e){return e.un()})}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),!1!==this.params.responsive&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&this.backend.destroy(),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}]),WaveSurfer}();exports.default=WaveSurfer,WaveSurfer.VERSION="3.3.1",WaveSurfer.util=util,module.exports=exports.default},"./src/webaudio.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var util=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./src/util/index.js"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var PLAYING="playing",PAUSED="paused",FINISHED="finished",WebAudio=function(_util$Observer){function WebAudio(params){var _this$stateBehaviors,_this$states,_this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WebAudio),(_this=_possibleConstructorReturn(this,_getPrototypeOf(WebAudio).call(this))).audioContext=null,_this.offlineAudioContext=null,_this.stateBehaviors=(_defineProperty(_this$stateBehaviors={},PLAYING,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var duration=this.getDuration();return this.getCurrentTime()/duration||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),_defineProperty(_this$stateBehaviors,PAUSED,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var duration=this.getDuration();return this.getCurrentTime()/duration||0},getCurrentTime:function(){return this.startPosition}}),_defineProperty(_this$stateBehaviors,FINISHED,{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),_this$stateBehaviors),_this.params=params,_this.ac=params.audioContext||(_this.supportsWebAudio()?_this.getAudioContext():{}),_this.lastPlay=_this.ac.currentTime,_this.startPosition=0,_this.scheduledPause=null,_this.states=(_defineProperty(_this$states={},PLAYING,Object.create(_this.stateBehaviors[PLAYING])),_defineProperty(_this$states,PAUSED,Object.create(_this.stateBehaviors[PAUSED])),_defineProperty(_this$states,FINISHED,Object.create(_this.stateBehaviors[FINISHED])),_this$states),_this.buffer=null,_this.filters=[],_this.gainNode=null,_this.mergedPeaks=null,_this.offlineAc=null,_this.peaks=null,_this.playbackRate=1,_this.analyser=null,_this.scriptNode=null,_this.source=null,_this.splitPeaks=[],_this.state=null,_this.explicitDuration=params.duration,_this.destroyed=!1,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WebAudio,util.Observer),_createClass(WebAudio,[{key:"supportsWebAudio",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(sampleRate){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,sampleRate)),window.WaveSurferOfflineAudioContext}}]),_createClass(WebAudio,[{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(PAUSED),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach(function(filter){filter&&filter.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(state){this.state!==this.states[state]&&(this.state=this.states[state],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var _len=arguments.length,filters=new Array(_len),_key=0;_key<_len;_key++)filters[_key]=arguments[_key];this.setFilters(filters)}},{key:"setFilters",value:function(filters){this.disconnectFilters(),filters&&filters.length&&(this.filters=filters,this.analyser.disconnect(),filters.reduce(function(prev,curr){return prev.connect(curr),curr},this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor?this.scriptNode=this.params.audioScriptProcessor:this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(WebAudio.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(WebAudio.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var _this2=this;this.scriptNode.onaudioprocess=function(){var time=_this2.getCurrentTime();time>=_this2.getDuration()?(_this2.setState(FINISHED),_this2.fireEvent("pause")):time>=_this2.scheduledPause?_this2.pause():_this2.state===_this2.states[PLAYING]&&_this2.fireEvent("audioprocess",time)}}},{key:"removeOnAudioProcess",value:function(){this.scriptNode.onaudioprocess=function(){}}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(deviceId){if(deviceId){var audio=new window.Audio;if(!audio.setSinkId)return Promise.reject(new Error("setSinkId is not supported in your browser"));audio.autoplay=!0;var dest=this.ac.createMediaStreamDestination();return this.gainNode.disconnect(),this.gainNode.connect(dest),audio.srcObject=dest.stream,audio.setSinkId(deviceId)}return Promise.reject(new Error("Invalid deviceId: "+deviceId))}},{key:"setVolume",value:function(value){this.gainNode.gain.setValueAtTime(value,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(arraybuffer,callback,errback){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(arraybuffer,function(data){return callback(data)},errback)}},{key:"setPeaks",value:function(peaks,duration){null!=duration&&(this.explicitDuration=duration),this.peaks=peaks}},{key:"setLength",value:function(length){if(!this.mergedPeaks||length!=2*this.mergedPeaks.length-1+2){this.splitPeaks=[],this.mergedPeaks=[];var c,channels=this.buffer?this.buffer.numberOfChannels:1;for(c=0;c<channels;c++)this.splitPeaks[c]=[],this.splitPeaks[c][2*(length-1)]=0,this.splitPeaks[c][2*(length-1)+1]=0;this.mergedPeaks[2*(length-1)]=0,this.mergedPeaks[2*(length-1)+1]=0}}},{key:"getPeaks",value:function(length,first,last){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(first=first||0,last=last||length-1,this.setLength(length),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var newBuffer=this.createBuffer(1,4096,this.sampleRate);this.buffer=newBuffer.buffer}var c,sampleSize=this.buffer.length/length,sampleStep=~~(sampleSize/10)||1,channels=this.buffer.numberOfChannels;for(c=0;c<channels;c++){var peaks=this.splitPeaks[c],chan=this.buffer.getChannelData(c),i=void 0;for(i=first;i<=last;i++){var start=~~(i*sampleSize),end=~~(start+sampleSize),min=0,max=0,j=void 0;for(j=start;j<end;j+=sampleStep){var value=chan[j];value>max&&(max=value),value<min&&(min=value)}peaks[2*i]=max,peaks[2*i+1]=min,(0==c||max>this.mergedPeaks[2*i])&&(this.mergedPeaks[2*i]=max),(0==c||min<this.mergedPeaks[2*i+1])&&(this.mergedPeaks[2*i+1]=min)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"==typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null)}},{key:"load",value:function(buffer){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=buffer,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"isPaused",value:function(){return this.state!==this.states[PLAYING]}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(start,end){if(this.buffer)return this.scheduledPause=null,null==start&&(start=this.getCurrentTime())>=this.getDuration()&&(start=0),null==end&&(end=this.getDuration()),this.startPosition=start,this.lastPlay=this.ac.currentTime,this.state===this.states[FINISHED]&&this.setState(PAUSED),{start:start,end:end}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(start,end){if(this.buffer){this.createSource();var adjustedTime=this.seekTo(start,end);start=adjustedTime.start,end=adjustedTime.end,this.scheduledPause=end,this.source.start(0,start),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(PLAYING),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(PAUSED),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(value){value=value||1,this.isPaused()?this.playbackRate=value:(this.pause(),this.playbackRate=value,this.play())}},{key:"setPlayEnd",value:function(end){this.scheduledPause=end}}]),WebAudio}();exports.default=WebAudio,WebAudio.scriptBufferSize=256,module.exports=exports.default}})},"object"==typeof exports&&"object"==typeof module?module.exports=factory():"object"==typeof exports?exports.WaveSurfer=factory():root.WaveSurfer=factory()},{}],PiqP:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioVisualService=void 0;var _exports=_interopRequireDefault(require("../../exports")),_core=require("@angular/core"),_wavesurfer=_interopRequireDefault(require("wavesurfer.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AudioVisualService=function(){function AudioVisualService(){this.defaultWaveFormOptions=_exports.default}return AudioVisualService.prototype.createWaveFormInstance=function(container){return container&&(this.defaultWaveFormOptions.container=container),_wavesurfer.default.create(this.defaultWaveFormOptions)},AudioVisualService=__decorate([(0,_core.Injectable)(),__metadata("design:paramtypes",[])],AudioVisualService)}();exports.AudioVisualService=AudioVisualService},{"../../exports":"lvDC","@angular/core":"XDhY","wavesurfer.js":"wl9D"}],xLwp:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BulbFetchMediaDataService=void 0;var _core=require("@angular/core");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},BulbFetchMediaDataService=function(){function BulbFetchMediaDataService(){}var BulbFetchMediaDataService_1;return BulbFetchMediaDataService_1=BulbFetchMediaDataService,BulbFetchMediaDataService.prototype.fetchMedia=function(constraints){return BulbFetchMediaDataService_1.navigator.mediaDevices.getUserMedia(constraints)},BulbFetchMediaDataService.prototype.isUsingExternalAudioInputDevice=function(isSafariBrowser){return new Promise(function(resolve,reject){var mediaDevices=BulbFetchMediaDataService_1.navigator.mediaDevices;BulbFetchMediaDataService_1.navigator.mediaDevices&&BulbFetchMediaDataService_1.navigator.mediaDevices.enumerateDevices?isSafariBrowser&&mediaDevices.getUserMedia({audio:!0}).then(function(stream){stream.getAudioTracks().forEach(function(track){track.stop()}),mediaDevices.enumerateDevices().then(function(devices){var filterAudioInputDevices=devices.filter(function(device){return"audioinput"===device.kind}).filter(function(audioInputDevice){return"Built-in Microphone"!==audioInputDevice.label});resolve(filterAudioInputDevices.length>=1)})}):reject("enumerateDevices() not supported.")})},BulbFetchMediaDataService.navigator=window.navigator,BulbFetchMediaDataService=BulbFetchMediaDataService_1=__decorate([(0,_core.Injectable)(),__metadata("design:paramtypes",[])],BulbFetchMediaDataService)}();exports.BulbFetchMediaDataService=BulbFetchMediaDataService},{"@angular/core":"XDhY"}],juYr:[function(require,module,exports){arguments[3];!function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){var arr=[],document=window.document,slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);return"function"!==type&&!jQuery.isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj)}jQuery.fn=jQuery.prototype={jquery:"2.2.4",constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],target!==(copy=options[name])&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&realStringObj-parseFloat(realStringObj)+1>=0},isPlainObject:function(obj){var key;if("object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype||{},"isPrototypeOf"))return!1;for(key in obj);return void 0===key||hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;(code=jQuery.trim(code))&&(1===code.indexOf("use strict")?((script=document.createElement("script")).text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;i<length&&!1!==callback.call(obj[i],i,obj[i]);i++);else for(i in obj)if(!1===callback.call(obj[i],i,obj[i]))break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)!callback(elems[i],i)!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;i<length;i++)null!=(value=callback(elems[i],i,arg))&&ret.push(value);else for(i in elems)null!=(value=callback(elems[i],i,arg))&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if("string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn))return args=slice.call(arguments,2),(proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))}).guid=fn.guid=fn.guid||jQuery.guid++,proxy},now:Date.now,support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!=high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(1!==nodeType)newContext=context,newSelector=selector;else if("object"!==context.nodeName.toLowerCase()){for((nid=context.getAttribute("id"))?nid=nid.replace(rescape,"\\$&"):context.setAttribute("id",nid=expando),i=(groups=tokenize(selector)).length,nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";i--;)groups[i]=nidselect+" "+toSelector(groups[i]);newSelector=groups.join(","),newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];return function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){return"input"===elem.nodeName.toLowerCase()&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&void 0!==context.getElementsByTagName&&context}for(i in support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return!!documentElement&&"HTML"!==documentElement.nodeName},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(docElem=(document=doc).documentElement,documentIsHTML=!isXML(document),(parent=document.defaultView)&&parent.top!==parent&&(parent.addEventListener?parent.addEventListener("unload",unloadHandler,!1):parent.attachEvent&&parent.attachEvent("onunload",unloadHandler)),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(document.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if(void 0!==context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=void 0!==elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return void 0!==context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(void 0!==context.getElementsByClassName&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&&(assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare||(1&(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},document):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},(Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||void 0!==elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(diff=(nodeIndex=(cache=(uniqueCache=(outerCache=(node=parent)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1])&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(diff=nodeIndex=(cache=(uniqueCache=(outerCache=(node=elem)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1]),!1===diff)for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((uniqueCache=(outerCache=node[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]=[dirruns,diff]),node!==elem)););return(diff-=last)===first||diff%first==0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)seed[idx=indexOf(seed,matched[i])]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return(elemLang=elemLang.toLowerCase())===lang||0===elemLang.indexOf(lang+"-")}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return!1===elem.disabled},disabled:function(elem){return!0===elem.disabled},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}}).pseudos.nth=Expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if((oldCache=(uniqueCache=(outerCache=elem[expando]||(elem[expando]={}))[elem.uniqueID]||(outerCache[elem.uniqueID]={}))[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(uniqueCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||function(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if((matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches))[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){for(type in matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length)),Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)(cached=matcherFromTokens(match[i]))[expando]?setMatchers.push(cached):elementMatchers.push(cached);(cached=compilerCache(selector,function(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context===document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument===document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}(elementMatchers,setMatchers))).selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if((tokens=match[0]=match[0].slice(0)).length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(!(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0]))return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),!(selector=seed.length&&toSelector(tokens)))return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){if(!isXML&&"input"===elem.nodeName.toLowerCase())return elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;if(!isXML)return!0===elem[name]?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var dir=function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},siblings=function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;i<len;i++)jQuery.find(selector,self[i],ret);return(ret=this.pushStack(len>1?jQuery.unique(ret):ret)).selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,"string"==typeof selector){if(!(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector))||!match[1]&&context)return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return(elem=document.getElementById(match[2]))&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?void 0!==root.ready?root.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))}).prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var readyList,rnotwhite=/\S+/g;function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}jQuery.Callbacks=function(options){options="string"==typeof options?function(options){var object={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){for(locked=options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)!1===list[firingIndex].apply(memory[0],memory[1])&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")},self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){jQuery.isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==jQuery.type(arg)&&add(arg)})}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),index<=firingIndex&&firingIndex--}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){return list&&(list=[]),this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=[context,(args=args||[]).slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);i<length;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}}),jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(!0===wait?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,!0!==wait&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed))),readyList.promise(obj)},jQuery.ready.promise();var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key))for(i in chainable=!0,key)access(elems,fn,i,key[i],!0,emptyGet,raw);else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1,Data.prototype={register:function(owner,initial){var value=initial||{};return owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,writable:!0,configurable:!0}),owner[this.expando]},cache:function(owner){if(!acceptData(owner))return{};var value=owner[this.expando];return value||(value={},acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if("string"==typeof data)cache[data]=value;else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){return void 0===key?this.cache(owner):owner[this.expando]&&owner[this.expando][key]},access:function(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?void 0!==(stored=this.get(owner,key))?stored:this.get(owner,jQuery.camelCase(key)):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(void 0!==cache){if(void 0===key)this.register(owner);else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),name=key in cache?[key,camel]:(name=camel)in cache?[name]:name.match(rnotwhite)||[]),i=name.length;for(;i--;)delete cache[name[i]]}(void 0===key||jQuery.isEmptyObject(cache))&&(owner.nodeType?owner[this.expando]=void 0:delete owner[this.expando])}},hasData:function(owner){var cache=owner[this.expando];return void 0!==cache&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),"string"==typeof(data=elem.getAttribute(name))){try{data="true"===data||"false"!==data&&("null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data)}catch(e){}dataUser.set(elem,key,data)}else data=void 0;return data}jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=dataUser.get(elem),1===elem.nodeType&&!dataPriv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&0===(name=attrs[i].name).indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name]));dataPriv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data,camelKey;if(elem&&void 0===value)return void 0!==(data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,"-$&").toLowerCase()))?data:(camelKey=jQuery.camelCase(key),void 0!==(data=dataUser.get(elem,camelKey))?data:void 0!==(data=dataAttr(elem,camelKey,void 0))?data:void 0);camelKey=jQuery.camelCase(key),this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value),key.indexOf("-")>-1&&void 0!==data&&dataUser.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=dataPriv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type);"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)(tmp=dataPriv.get(elements[i],type+"queueHooks"))&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3],valueParts=valueParts||[],initialInUnit=+initial||1;do{initialInUnit/=scale=scale||".5",jQuery.style(elem,prop,initialInUnit+unit)}while(scale!==(scale=currentValue()/initial)&&1!==scale&&--maxIterations)}return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}var rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([\w:-]+)/,rscriptType=/^$|\/(?:java|ecma)script/i,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(context,tag){var ret=void 0!==context.getElementsByTagName?context.getElementsByTagName(tag||"*"):void 0!==context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var div,input,rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if((elem=elems[i])||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),(tmp=fragment.firstChild).textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if(selection&&jQuery.inArray(elem,selection)>-1)ignored&&ignored.push(elem);else if(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment}div=document.createDocumentFragment().appendChild(document.createElement("div")),(input=document.createElement("input")).setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){for(type in"string"!=typeof selector&&(data=data||selector,selector=void 0),types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),!1===fn)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,(fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)}).guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(elemData)for(handler.handler&&(handler=(handleObjIn=handler).handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return void 0!==jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),t=(types=(types||"").match(rnotwhite)||[""]).length;t--;)type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||((handlers=events[type]=[]).delegateCount=0,special.setup&&!1!==special.setup.call(elem,data,namespaces,eventHandle)||elem.addEventListener&&elem.addEventListener(type,eventHandle)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(elemData&&(events=elemData.events)){for(t=(types=(types||"").match(rnotwhite)||[""]).length;t--;)if(type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},handlers=events[type=(selector?special.delegateType:special.bindType)||type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&!1!==special.teardown.call(elem,namespaces,elemData.handle)||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue,args=slice.call(arguments),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||!1!==special.preDispatch.call(this,event)){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.rnamespace&&!event.rnamespace.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,void 0!==(ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args))&&!1===(event.result=ret)&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&("click"!==event.type||isNaN(event.button)||event.button<1))for(;cur!==this;cur=cur.parentNode||this)if(1===cur.nodeType&&(!0!==cur.disabled||"click"!==event.type)){for(matches=[],i=0;i<delegateCount;i++)void 0===matches[sel=(handleObj=handlers[i]).selector+" "]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(doc=(eventDoc=event.target.ownerDocument||document).documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)event[prop=copy[i]]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&!1===src.returnValue?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===this||jQuery.contains(this,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return!1!==selector&&"function"!=typeof selector||(fn=selector,selector=void 0),!1===fn&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&&(pdataOld=dataPriv.access(src),pdataCur=dataPriv.set(dest,pdataOld),events=pdataOld.events))for(type in delete pdataCur.handle,pdataCur.events={},events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i]);dataUser.hasData(src)&&(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&&(first=(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored)).firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(hasScripts=(scripts=jQuery.map(getAll(fragment,"script"),disableScript)).length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return collection}function remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&jQuery.contains(node.ownerDocument,node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,src,dest,nodeName,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),i=0,l=(srcElements=getAll(elem)).length;i<l;i++)src=srcElements[i],dest=destElements[i],void 0,"input"===(nodeName=dest.nodeName.toLowerCase())&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return(destElements=getAll(clone,"script")).length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=void 0}elem[dataUser.expando]&&(elem[dataUser.expando]=void 0)}}}),jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,elem).appendChild(elem)})},prepend:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)1===(elem=this[i]||{}).nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={HTML:"block",BODY:"block"};function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||("none"!==(display=actualDisplay(nodeName,doc))&&display||((doc=(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement))[0].contentDocument).write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}var rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){var view=elem.ownerDocument.defaultView;return view&&view.opener||(view=window),view.getComputedStyle(elem)},swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in ret=callback.apply(elem,args||[]),options)elem.style[name]=old[name];return ret},documentElement=document.documentElement;function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return""!==(ret=(computed=computed||getStyles(elem))?computed.getPropertyValue(name)||computed[name]:void 0)&&void 0!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),computed&&!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(!conditionFn())return(this.get=hookFn).apply(this,arguments);delete this.get}}}!function(){var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");function computeStyleTests(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",div.innerHTML="",documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal="1%"!==divStyle.top,reliableMarginLeftVal="2px"===divStyle.marginLeft,boxSizingReliableVal="4px"===divStyle.width,div.style.marginRight="50%",pixelMarginRightVal="4px"===divStyle.marginRight,documentElement.removeChild(container)}div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",container.appendChild(div),jQuery.extend(support,{pixelPosition:function(){return computeStyleTests(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computeStyleTests(),boxSizingReliableVal},pixelMarginRight:function(){return null==boxSizingReliableVal&&computeStyleTests(),pixelMarginRightVal},reliableMarginLeft:function(){return null==boxSizingReliableVal&&computeStyleTests(),reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",documentElement.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight),documentElement.removeChild(container),div.removeChild(marginDiv),ret}}))}();var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;function vendorPropName(name){if(name in emptyStyle)return name;for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if((name=cssPrefixes[i]+capName)in emptyStyle)return name}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;i<4;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(val<=0||null==val){if(((val=curCSS(elem,name,styles))<0||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;index<length;index++)(elem=elements[index]).style&&(values[index]=dataPriv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=dataPriv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||dataPriv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;index<length;index++)(elem=elements[index]).style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;if(name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value)return hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name];"string"===(type=typeof value)&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null!=value&&value==value&&("number"===type&&(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value))}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),(hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName])&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),!0===extra||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)return rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles);return subtract&&(matches=rcssNum.exec(value))&&"px"!==(matches[3]||"px")&&(elem.style[name]=value,value=jQuery.css(elem,name)),setPositiveNumber(0,value,subtract)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed)return swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""))&&"auto"!==result?result:0},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||null==tween.elem.style[jQuery.cssProps[tween.prop]]&&!jQuery.cssHooks[tween.prop]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function createFxNow(){return window.setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)attrs["margin"+(which=cssExpand[i])]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),percent=1-(remaining/animation.duration||0),index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(!function(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(easing=specialEasing[name=jQuery.camelCase(index)],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),(hooks=jQuery.cssHooks[name])&&"expand"in hooks)for(index in value=hooks.expand(value),delete props[name],value)index in props||(props[index]=value[index],specialEasing[index]=easing);else specialEasing[name]=easing}(props,animation.opts.specialEasing);index<length;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return jQuery.isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)),result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.match(rnotwhite);for(var prop,index=0,length=props.length;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[function(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,"fxshow");for(prop in opts.queue||(null==(hooks=jQuery._queueHooks(elem,"fx")).unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],"inline"===("none"===(display=jQuery.css(elem,"display"))?dataPriv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display)&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]})),props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else for(prop in dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;for(prop in dataPriv.remove(elem,"fxshow"),orig)jQuery.style(elem,prop,orig[prop])}),orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,null!=opt.queue&&!0!==opt.queue||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&!1!==type&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})},finish:function(type){return!1!==type&&(type=type||"fx"),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)(timer=timers[i])()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){window.clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx&&jQuery.fx.speeds[time]||time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,(input=document.createElement("input")).value="t",input.type="radio",support.radioValue="t"===input.value}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return void 0===elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0!==value?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:null==(ret=jQuery.find.attr(elem,name))?void 0:ret)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null},set:function(elem){var parent=elem.parentNode;parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&(" "+curValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");curValue!==(finalValue=jQuery.trim(cur))&&elem.setAttribute("class",finalValue)}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&(" "+curValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>-1;)cur=cur.replace(" "+clazz+" "," ");curValue!==(finalValue=jQuery.trim(cur))&&elem.setAttribute("class",finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):this.each(function(){var className,i,self,classNames;if("string"===type)for(i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else void 0!==value&&"boolean"!==type||((className=getClass(this))&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||!1===value?"":dataPriv.get(this,"__className__")||""))})},hasClass:function(selector){var className,elem,i=0;for(className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className)>-1)return!0;return!1}});var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];return arguments.length?(isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(null==(val=isFunction?value.call(this,i,jQuery(this).val()):value)?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),(hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))})):elem?(hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()])&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:"string"==typeof(ret=elem.value)?ret.replace(rreturn,""):null==ret?"":ret:void 0}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.trim(jQuery.text(elem)).replace(rspaces," ")}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;i<max;i++)if(((option=options[i]).selected||i===index)&&(support.optDisabled?!option.disabled:null===option.getAttribute("disabled"))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)((option=options[i]).selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>-1&&(type=(namespaces=type.split(".")).shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,(event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event)).isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||!1!==special.trigger.apply(elem,data))){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,(handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle"))&&handle.apply(cur,data),(handle=ontype&&cur[ontype])&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),!1===event.result&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&!1!==special._default.apply(eventPath.pop(),data)||!acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&((tmp=elem[ontype])&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem)}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),support.focusin="onfocusin"in window,support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}});var location=window.location,nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml;if(!data||"string"!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=void 0}return xml&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(state<2)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;for(i in(fireGlobals=jQuery.event&&s.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),!1===s.cache&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&!1!==s.contentType||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]),s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||2===state))return jqXHR.abort();for(i in strAbort="abort",{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),2===state)return jqXHR;s.async&&s.timeout>0&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(state<2))throw e;done(-1,e)}}else done(-1,"No Transport");function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&status<300||304===status,responses&&(response=function(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}(s,jqXHR,responses)),response=function(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(!(conv=converters[prev+" "+current]||converters["* "+current]))for(conv2 in converters)if((tmp=conv2.split(" "))[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){!0===conv?conv=converters[conv2]:!0!==converters[conv2]&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(!0!==conv)if(conv&&s.throws)response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&((modified=jqXHR.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[cacheURL]=modified),(modified=jqXHR.getResponseHeader("etag"))&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,isSuccess=!(error=response.error))):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem)},jQuery.expr.filters.visible=function(elem){return elem.offsetWidth>0||elem.offsetHeight>0||elem.getClientRects().length>0};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];for(i in options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null,"abort"===type?xhr.abort():"error"===type?"number"!=typeof xhr.status?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"text"!==(xhr.responseType||"text")||"string"!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=callback("error"),void 0!==xhr.onabort?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&&window.setTimeout(function(){callback&&errorCallback()})},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){var script,callback;if(s.crossDomain)return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=!1!==s.jsonp&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):!1!==s.jsonp&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){void 0===overwritten?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>-1&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1?(curTop=(curPosition=curElem.position()).top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,jQuery.extend({},curOffset))),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;return doc?(docElem=doc.documentElement,jQuery.contains(docElem,elem)?(box=elem.getBoundingClientRect(),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box):void 0},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(void 0===val)return win?win[prop]:elem[method];win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val},method,val,arguments.length)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(!0===margin||!0===value?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)},size:function(){return this.length}}),jQuery.fn.andSelf=jQuery.fn.addBack;var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery})},{}],iQJt:[function(require,module,exports){var global=arguments[3],WORKER_ENABLED=!!(global===global.window&&global.URL&&global.Blob&&global.Worker);function InlineWorker(func,self){var functionBody,_this=this;if(self=self||{},WORKER_ENABLED)return functionBody=func.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new global.Worker(global.URL.createObjectURL(new global.Blob([functionBody],{type:"text/javascript"})));this.self=self,this.self.postMessage=function(data){setTimeout(function(){_this.onmessage({data:data})},0)},setTimeout(func.bind(self,self),0)}InlineWorker.prototype.postMessage=function(data){var _this=this;setTimeout(function(){_this.self.onmessage({data:data})},0)},module.exports=InlineWorker},{}],VkQu:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_inlineWorker=require("inline-worker"),_inlineWorker2=(obj=_inlineWorker)&&obj.__esModule?obj:{default:obj};var defaultConfig={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},Microphone=function(){function Microphone(source,config){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Microphone),this.config=Object.assign({},defaultConfig,config),this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},this.context=source.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(e){if(_this.recording){for(var buffer=[],channel=0;channel<_this.config.numChannels;channel++)buffer.push(e.inputBuffer.getChannelData(channel));_this.worker.postMessage({command:"record",buffer:buffer})}},source.connect(this.node),this.node.connect(this.context.destination);this.worker=new _inlineWorker2.default(function(){var recLength=0,recBuffers=[],sampleRate=void 0,numChannels=void 0;function initBuffers(){for(var channel=0;channel<numChannels;channel++)recBuffers[channel]=[]}function mergeBuffers(recBuffers,recLength){for(var result=new Float32Array(recLength),offset=0,i=0;i<recBuffers.length;i++)result.set(recBuffers[i],offset),offset+=recBuffers[i].length;return result}function writeString(view,offset,string){for(var i=0;i<string.length;i+=1)view.setUint8(offset+i,string.charCodeAt(i))}this.onmessage=function(e){switch(e.data.command){case"init":config=e.data.config,sampleRate=config.sampleRate,numChannels=config.numChannels,initBuffers();break;case"record":!function(inputBuffer){for(var channel=0;channel<numChannels;channel++)recBuffers[channel].push(inputBuffer[channel]);recLength+=inputBuffer[0].length}(e.data.buffer);break;case"exportWAV":!function(type){for(var buffers=[],channel=0;channel<numChannels;channel++)buffers.push(mergeBuffers(recBuffers[channel],recLength));var interleaved=void 0;interleaved=2===numChannels?function(inputL,inputR){var length=inputL.length+inputR.length,result=new Float32Array(length),index=0,inputIndex=0;for(;index<length;)result[index++]=inputL[inputIndex],result[index++]=inputR[inputIndex],inputIndex++;return result}(buffers[0],buffers[1]):buffers[0];var dataview=(samples=interleaved,buffer=new ArrayBuffer(44+2*samples.length),view=new DataView(buffer),writeString(view,0,"RIFF"),view.setUint32(4,36+2*samples.length,!0),writeString(view,8,"WAVE"),writeString(view,12,"fmt "),view.setUint32(16,16,!0),view.setUint16(20,1,!0),view.setUint16(22,numChannels,!0),view.setUint32(24,sampleRate,!0),view.setUint32(28,4*sampleRate,!0),view.setUint16(32,2*numChannels,!0),view.setUint16(34,16,!0),writeString(view,36,"data"),view.setUint32(40,2*samples.length,!0),function(output,offset,input){for(var i=0;i<input.length;i++,offset+=2){var s=Math.max(-1,Math.min(1,input[i]));output.setInt16(offset,s<0?32768*s:32767*s,!0)}}(view,44,samples),view),audioBlob=new Blob([dataview],{type:type});var samples,buffer,view;this.postMessage({command:"exportWAV",data:audioBlob})}(e.data.type);break;case"getBuffer":!function(){for(var buffers=[],channel=0;channel<numChannels;channel++)buffers.push(mergeBuffers(recBuffers[channel],recLength));this.postMessage({command:"getBuffer",data:buffers})}();break;case"clear":recLength=0,recBuffers=[],initBuffers()}var config}},{}),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(e){var cb=_this.callbacks[e.data.command].pop();"function"==typeof cb&&cb(e.data.data)}}return _createClass(Microphone,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(cb){if(!(cb=cb||this.config.callback))throw new Error("Callback not set");this.callbacks.getBuffer.push(cb),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(cb,mimeType){if(mimeType=mimeType||this.config.mimeType,!(cb=cb||this.config.callback))throw new Error("Callback not set");this.callbacks.exportWAV.push(cb),this.worker.postMessage({command:"exportWAV",type:mimeType})}}]),Microphone}();Microphone.forceDownload=function(blob,filename){var a=document.createElement("a");a.style="display: none",document.body.appendChild(a);var url=window.URL.createObjectURL(blob);a.href=url,a.download=filename,a.click(),window.URL.revokeObjectURL(url),document.body.removeChild(a)},exports.default=Microphone},{"inline-worker":"iQJt"}],N2jJ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_microphone=require("./microphone"),_microphone2=(obj=_microphone)&&obj.__esModule?obj:{default:obj};var defaultConfig={nFrequencyBars:255,onAnalysed:null},Recorder=function(){function Recorder(audioContext){var config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Recorder),this.config=Object.assign({},defaultConfig,config),this.audioContext=audioContext,this.audioInput=null,this.realAudioInput=null,this.inputPoint=null,this.audioRecorder=null,this.rafID=null,this.analyserContext=null,this.recIndex=0,this.stream=null,this.updateAnalysers=this.updateAnalysers.bind(this)}return _createClass(Recorder,[{key:"init",value:function(stream){var _this=this;return new Promise(function(resolve){_this.inputPoint=_this.audioContext.createGain(),_this.stream=stream,_this.realAudioInput=_this.audioContext.createMediaStreamSource(stream),_this.audioInput=_this.realAudioInput,_this.audioInput.connect(_this.inputPoint),_this.analyserNode=_this.audioContext.createAnalyser(),_this.analyserNode.fftSize=2048,_this.inputPoint.connect(_this.analyserNode),_this.audioRecorder=new _microphone2.default(_this.inputPoint);var zeroGain=_this.audioContext.createGain();zeroGain.gain.value=0,_this.inputPoint.connect(zeroGain),zeroGain.connect(_this.audioContext.destination),_this.updateAnalysers(),resolve()})}},{key:"start",value:function(){var _this2=this;return new Promise(function(resolve,reject){_this2.audioRecorder?(_this2.audioRecorder.clear(),_this2.audioRecorder.record(),resolve(_this2.stream)):reject("Not currently recording")})}},{key:"stop",value:function(){var _this3=this;return new Promise(function(resolve){_this3.audioRecorder.stop(),_this3.audioRecorder.getBuffer(function(buffer){_this3.audioRecorder.exportWAV(function(blob){return resolve({buffer:buffer,blob:blob})})})})}},{key:"updateAnalysers",value:function(){if(this.config.onAnalysed){requestAnimationFrame(this.updateAnalysers);var freqByteData=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(freqByteData);for(var data=new Array(255),lastNonZero=0,datum=void 0,idx=0;idx<255;idx+=1)0!==(datum=Math.floor(freqByteData[idx])-Math.floor(freqByteData[idx])%5)&&(lastNonZero=idx),data[idx]=datum;this.config.onAnalysed({data:data,lineTo:lastNonZero})}}},{key:"setOnAnalysed",value:function(handler){this.config.onAnalysed=handler}}]),Recorder}();Recorder.download=function(blob){var filename=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio";_microphone2.default.forceDownload(blob,filename+".wav")},exports.default=Recorder},{"./microphone":"VkQu"}],YIOO:[function(require,module,exports){module.exports=require("./lib/index.js")},{"./lib/index.js":"N2jJ"}],nrg4:[function(require,module,exports){module.exports=function(object,key){return Object.prototype.hasOwnProperty.call(object,key)}},{}],j52u:[function(require,module,exports){function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var has=require("./hasProperty");module.exports=function(){function Translator(locales){var _this=this;this.locale={strings:{},pluralize:function(n){return 1===n?0:1}},Array.isArray(locales)?locales.forEach(function(locale){return _this._apply(locale)}):this._apply(locales)}var _proto=Translator.prototype;return _proto._apply=function(locale){if(locale&&locale.strings){var prevLocale=this.locale;this.locale=_extends({},prevLocale,{strings:_extends({},prevLocale.strings,locale.strings)}),this.locale.pluralize=locale.pluralize||prevLocale.pluralize}},_proto.interpolate=function(phrase,options){var _String$prototype=String.prototype,split=_String$prototype.split,replace=_String$prototype.replace,dollarRegex=/\$/g,interpolated=[phrase];for(var arg in options)if("_"!==arg&&has(options,arg)){var replacement=options[arg];"string"==typeof replacement&&(replacement=replace.call(options[arg],dollarRegex,"$$$$")),interpolated=insertReplacement(interpolated,new RegExp("%\\{"+arg+"\\}","g"),replacement)}return interpolated;function insertReplacement(source,rx,replacement){var newParts=[];return source.forEach(function(chunk){if("string"!=typeof chunk)return newParts.push(chunk);split.call(chunk,rx).forEach(function(raw,i,list){""!==raw&&newParts.push(raw),i<list.length-1&&newParts.push(replacement)})}),newParts}},_proto.translate=function(key,options){return this.translateArray(key,options).join("")},_proto.translateArray=function(key,options){var string=this.locale.strings[key];if("object"==typeof string){if(options&&void 0!==options.smart_count){var plural=this.locale.pluralize(options.smart_count);return this.interpolate(string[plural],options)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return this.interpolate(string,options)},Translator}()},{"./hasProperty":"nrg4"}],Jb2j:[function(require,module,exports){module.exports=function(){var emitter={},_fns=emitter._fns={};return emitter.emit=function(event,arg1,arg2,arg3,arg4,arg5,arg6){var toEmit=function(e){var out=_fns[e]?_fns[e]:[],idx=e.indexOf(":"),args=-1===idx?[e]:[e.substring(0,idx),e.substring(idx+1)],keys=Object.keys(_fns),i=0,l=keys.length;for(;i<l;i++){var key=keys[i];if("*"===key&&(out=out.concat(_fns[key])),2===args.length&&args[0]===key){out=out.concat(_fns[key]);break}}return out}(event);toEmit.length&&function(e,fns,args){var i=0,l=fns.length;for(;i<l&&fns[i];i++)fns[i].event=e,fns[i].apply(fns[i],args)}(event,toEmit,[arg1,arg2,arg3,arg4,arg5,arg6])},emitter.on=function(event,fn){_fns[event]||(_fns[event]=[]),_fns[event].push(fn)},emitter.once=function(event,fn){this.on(event,function one(){fn.apply(this,arguments),emitter.off(event,one)})},emitter.off=function(event,fn){var keep=[];if(event&&fn)for(var fns=this._fns[event],i=0,l=fns?fns.length:0;i<l;i++)fns[i]!==fn&&keep.push(fns[i]);keep.length?this._fns[event]=keep:delete this._fns[event]},emitter}},{}],QiFa:[function(require,module,exports){module.exports=function(num,size){var s="000000000"+num;return s.substr(s.length-size)}},{}],YEDK:[function(require,module,exports){var pad=require("./pad.js"),env="object"==typeof window?window:self,globalCount=Object.keys(env).length,clientId=pad(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+globalCount.toString(36),4);module.exports=function(){return clientId}},{"./pad.js":"QiFa"}],BCUB:[function(require,module,exports){var getRandomValue,crypto="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(crypto){var lim=Math.pow(2,32)-1;getRandomValue=function(){return Math.abs(crypto.getRandomValues(new Uint32Array(1))[0]/lim)}}else getRandomValue=Math.random;module.exports=getRandomValue},{}],Kk0o:[function(require,module,exports){var fingerprint=require("./lib/fingerprint.js"),pad=require("./lib/pad.js"),getRandomValue=require("./lib/getRandomValue.js"),c=0,blockSize=4,base=36,discreteValues=Math.pow(base,blockSize);function randomBlock(){return pad((getRandomValue()*discreteValues<<0).toString(base),blockSize)}function safeCounter(){return c=c<discreteValues?c:0,++c-1}function cuid(){return"c"+(new Date).getTime().toString(base)+pad(safeCounter().toString(base),blockSize)+fingerprint()+(randomBlock()+randomBlock())}cuid.slug=function(){var date=(new Date).getTime().toString(36),counter=safeCounter().toString(36).slice(-4),print=fingerprint().slice(0,1)+fingerprint().slice(-1),random=randomBlock().slice(-2);return date.slice(-2)+counter+print+random},cuid.isCuid=function(stringToCheck){return"string"==typeof stringToCheck&&!!stringToCheck.startsWith("c")},cuid.isSlug=function(stringToCheck){if("string"!=typeof stringToCheck)return!1;var stringLength=stringToCheck.length;return stringLength>=7&&stringLength<=10},cuid.fingerprint=fingerprint,module.exports=cuid},{"./lib/fingerprint.js":"YEDK","./lib/pad.js":"QiFa","./lib/getRandomValue.js":"BCUB"}],FNyO:[function(require,module,exports){var global=arguments[3],FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectToString=Object.prototype.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var result=wait-(time-lastCallTime);return maxing?nativeMin(result,maxWait-(time-lastInvokeTime)):result}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function toNumber(value){if("number"==typeof value)return value;if(function(value){return"symbol"==typeof value||function(value){return!!value&&"object"==typeof value}(value)&&objectToString.call(value)==symbolTag}(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}},{}],T55n:[function(require,module,exports){module.exports=function(num){if("number"!=typeof num||isNaN(num))throw new TypeError("Expected a number, got "+typeof num);var neg=num<0,units=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];neg&&(num=-num);if(num<1)return(neg?"-":"")+num+" B";var exponent=Math.min(Math.floor(Math.log(num)/Math.log(1024)),units.length-1);num=Number(num/Math.pow(1024,exponent));var unit=units[exponent];return num>=10||num%1==0?(neg?"-":"")+num.toFixed(0)+" "+unit:(neg?"-":"")+num.toFixed(1)+" "+unit}},{}],Qe44:[function(require,module,exports){"use strict";function WildcardMatcher(text,separator){this.text=text=text||"",this.hasWild=~text.indexOf("*"),this.separator=separator,this.parts=text.split(separator)}WildcardMatcher.prototype.match=function(input){var ii,testParts,matches=!0,parts=this.parts,partsCount=parts.length;if("string"==typeof input||input instanceof String)if(this.hasWild||this.text==input){for(testParts=(input||"").split(this.separator),ii=0;matches&&ii<partsCount;ii++)"*"!==parts[ii]&&(matches=ii<testParts.length&&parts[ii]===testParts[ii]);matches=matches&&testParts}else matches=!1;else if("function"==typeof input.splice)for(matches=[],ii=input.length;ii--;)this.match(input[ii])&&(matches[matches.length]=input[ii]);else if("object"==typeof input)for(var key in matches={},input)this.match(key)&&(matches[key]=input[key]);return matches},module.exports=function(text,test,separator){var matcher=new WildcardMatcher(text,separator||/[\/\.]/);return void 0!==test?matcher.match(test):matcher}},{}],lprK:[function(require,module,exports){var wildcard=require("wildcard"),reMimePartSplit=/[\/\+\.]/;module.exports=function(target,pattern){function test(pattern){var result=wildcard(pattern,target,reMimePartSplit);return result&&result.length>=2}return pattern?test(pattern.split(";")[0]):test}},{wildcard:"Qe44"}],o6Zq:[function(require,module,exports){function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var DefaultStore=function(){function DefaultStore(){this.state={},this.callbacks=[]}var _proto=DefaultStore.prototype;return _proto.getState=function(){return this.state},_proto.setState=function(patch){var prevState=_extends({},this.state),nextState=_extends({},this.state,patch);this.state=nextState,this._publish(prevState,nextState,patch)},_proto.subscribe=function(listener){var _this=this;return this.callbacks.push(listener),function(){_this.callbacks.splice(_this.callbacks.indexOf(listener),1)}},_proto._publish=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];this.callbacks.forEach(function(listener){listener.apply(void 0,args)})},DefaultStore}();DefaultStore.VERSION="1.2.1",module.exports=function(){return new DefaultStore}},{}],ExSc:[function(require,module,exports){module.exports=function(fullFileName){var lastDot=fullFileName.lastIndexOf(".");return-1===lastDot||lastDot===fullFileName.length-1?{name:fullFileName,extension:void 0}:{name:fullFileName.slice(0,lastDot),extension:fullFileName.slice(lastDot+1)}}},{}],upGL:[function(require,module,exports){module.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf"}},{}],IReq:[function(require,module,exports){var getFileNameAndExtension=require("./getFileNameAndExtension"),mimeTypes=require("./mimeTypes");module.exports=function(file){var fileExtension=file.name?getFileNameAndExtension(file.name).extension:null;return fileExtension=fileExtension?fileExtension.toLowerCase():null,file.type?file.type:fileExtension&&mimeTypes[fileExtension]?mimeTypes[fileExtension]:"application/octet-stream"}},{"./getFileNameAndExtension":"ExSc","./mimeTypes":"upGL"}],JgpY:[function(require,module,exports){function encodeFilename(name){var suffix="";return name.replace(/[^A-Z0-9]/gi,function(character){return suffix+="-"+function(character){return character.charCodeAt(0).toString(32)}(character),"/"})+suffix}module.exports=function(file){var id="uppy";return"string"==typeof file.name&&(id+="-"+encodeFilename(file.name.toLowerCase())),void 0!==file.type&&(id+="-"+file.type),file.meta&&"string"==typeof file.meta.relativePath&&(id+="-"+encodeFilename(file.meta.relativePath.toLowerCase())),void 0!==file.data.size&&(id+="-"+file.data.size),void 0!==file.data.lastModified&&(id+="-"+file.data.lastModified),id}},{}],gxKi:[function(require,module,exports){module.exports=function(userAgent){if(null==userAgent&&(userAgent="undefined"!=typeof navigator?navigator.userAgent:null),!userAgent)return!0;var m=/Edge\/(\d+\.\d+)/.exec(userAgent);if(!m)return!0;var _edgeVersion$split=m[1].split("."),major=_edgeVersion$split[0],minor=_edgeVersion$split[1];return major=parseInt(major,10),minor=parseInt(minor,10),major<15||15===major&&minor<15063||(major>18||18===major&&minor>=18218)}},{}],jsA8:[function(require,module,exports){function pad(str){return 2!==str.length?0+str:str}module.exports=function(){var date=new Date;return pad(date.getHours().toString())+":"+pad(date.getMinutes().toString())+":"+pad(date.getSeconds().toString())}},{}],drv0:[function(require,module,exports){var getTimeStamp=require("@uppy/utils/lib/getTimeStamp"),justErrorsLogger={debug:function(){},warn:function(){},error:function(){for(var _console,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_console=console).error.apply(_console,["[Uppy] ["+getTimeStamp()+"]"].concat(args))}},debugLogger={debug:function(){for(var debug=console.debug||console.log,_len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];debug.call.apply(debug,[console,"[Uppy] ["+getTimeStamp()+"]"].concat(args))},warn:function(){for(var _console2,_len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return(_console2=console).warn.apply(_console2,["[Uppy] ["+getTimeStamp()+"]"].concat(args))},error:function(){for(var _console3,_len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return(_console3=console).error.apply(_console3,["[Uppy] ["+getTimeStamp()+"]"].concat(args))}};module.exports={justErrorsLogger:justErrorsLogger,debugLogger:debugLogger}},{"@uppy/utils/lib/getTimeStamp":"jsA8"}],Ynqe:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createElement=exports.h=h,exports.cloneElement=cloneElement,exports.Component=Component,exports.render=render,exports.rerender=rerender,exports.options=exports.default=void 0;var options={};exports.options=options;var stack=[],EMPTY_CHILDREN=[];function h(nodeName,attributes){var lastSimple,child,simple,i,children=EMPTY_CHILDREN;for(i=arguments.length;i-- >2;)stack.push(arguments[i]);for(attributes&&null!=attributes.children&&(stack.length||stack.push(attributes.children),delete attributes.children);stack.length;)if((child=stack.pop())&&void 0!==child.pop)for(i=child.length;i--;)stack.push(child[i]);else"boolean"==typeof child&&(child=null),(simple="function"!=typeof nodeName)&&(null==child?child="":"number"==typeof child?child=String(child):"string"!=typeof child&&(simple=!1)),simple&&lastSimple?children[children.length-1]+=child:children===EMPTY_CHILDREN?children=[child]:children.push(child),lastSimple=simple;var p=new function(){};return p.nodeName=nodeName,p.children=children,p.attributes=null==attributes?void 0:attributes,p.key=null==attributes?void 0:attributes.key,void 0!==options.vnode&&options.vnode(p),p}function extend(obj,props){for(var i in props)obj[i]=props[i];return obj}var defer="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function cloneElement(vnode,props){return h(vnode.nodeName,extend(extend({},vnode.attributes),props),arguments.length>2?[].slice.call(arguments,2):vnode.children)}var IS_NON_DIMENSIONAL=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,items=[];function enqueueRender(component){!component._dirty&&(component._dirty=!0)&&1==items.push(component)&&(options.debounceRendering||defer)(rerender)}function rerender(){var p,list=items;for(items=[];p=list.pop();)p._dirty&&renderComponent(p)}function isNamedNode(node,nodeName){return node.normalizedNodeName===nodeName||node.nodeName.toLowerCase()===nodeName.toLowerCase()}function getNodeProps(vnode){var props=extend({},vnode.attributes);props.children=vnode.children;var defaultProps=vnode.nodeName.defaultProps;if(void 0!==defaultProps)for(var i in defaultProps)void 0===props[i]&&(props[i]=defaultProps[i]);return props}function removeNode(node){var parentNode=node.parentNode;parentNode&&parentNode.removeChild(node)}function setAccessor(node,name,old,value,isSvg){if("className"===name&&(name="class"),"key"===name);else if("ref"===name)old&&old(null),value&&value(node);else if("class"!==name||isSvg)if("style"===name){if(value&&"string"!=typeof value&&"string"!=typeof old||(node.style.cssText=value||""),value&&"object"==typeof value){if("string"!=typeof old)for(var i in old)i in value||(node.style[i]="");for(var i in value)node.style[i]="number"==typeof value[i]&&!1===IS_NON_DIMENSIONAL.test(i)?value[i]+"px":value[i]}}else if("dangerouslySetInnerHTML"===name)value&&(node.innerHTML=value.__html||"");else if("o"==name[0]&&"n"==name[1]){var useCapture=name!==(name=name.replace(/Capture$/,""));name=name.toLowerCase().substring(2),value?old||node.addEventListener(name,eventProxy,useCapture):node.removeEventListener(name,eventProxy,useCapture),(node._listeners||(node._listeners={}))[name]=value}else if("list"!==name&&"type"!==name&&!isSvg&&name in node)!function(node,name,value){try{node[name]=value}catch(e){}}(node,name,null==value?"":value),null!=value&&!1!==value||node.removeAttribute(name);else{var ns=isSvg&&name!==(name=name.replace(/^xlink:?/,""));null==value||!1===value?ns?node.removeAttributeNS("http://www.w3.org/1999/xlink",name.toLowerCase()):node.removeAttribute(name):"function"!=typeof value&&(ns?node.setAttributeNS("http://www.w3.org/1999/xlink",name.toLowerCase(),value):node.setAttribute(name,value))}else node.className=value||""}function eventProxy(e){return this._listeners[e.type](options.event&&options.event(e)||e)}var mounts=[],diffLevel=0,isSvgMode=!1,hydrating=!1;function flushMounts(){for(var c;c=mounts.pop();)options.afterMount&&options.afterMount(c),c.componentDidMount&&c.componentDidMount()}function diff(dom,vnode,context,mountAll,parent,componentRoot){diffLevel++||(isSvgMode=null!=parent&&void 0!==parent.ownerSVGElement,hydrating=null!=dom&&!("__preactattr_"in dom));var ret=idiff(dom,vnode,context,mountAll,componentRoot);return parent&&ret.parentNode!==parent&&parent.appendChild(ret),--diffLevel||(hydrating=!1,componentRoot||flushMounts()),ret}function idiff(dom,vnode,context,mountAll,componentRoot){var out=dom,prevSvgMode=isSvgMode;if(null!=vnode&&"boolean"!=typeof vnode||(vnode=""),"string"==typeof vnode||"number"==typeof vnode)return dom&&void 0!==dom.splitText&&dom.parentNode&&(!dom._component||componentRoot)?dom.nodeValue!=vnode&&(dom.nodeValue=vnode):(out=document.createTextNode(vnode),dom&&(dom.parentNode&&dom.parentNode.replaceChild(out,dom),recollectNodeTree(dom,!0))),out.__preactattr_=!0,out;var nodeName,node,vnodeName=vnode.nodeName;if("function"==typeof vnodeName)return function(dom,vnode,context,mountAll){var c=dom&&dom._component,originalComponent=c,oldDom=dom,isDirectOwner=c&&dom._componentConstructor===vnode.nodeName,isOwner=isDirectOwner,props=getNodeProps(vnode);for(;c&&!isOwner&&(c=c._parentComponent);)isOwner=c.constructor===vnode.nodeName;c&&isOwner&&(!mountAll||c._component)?(setComponentProps(c,props,3,context,mountAll),dom=c.base):(originalComponent&&!isDirectOwner&&(unmountComponent(originalComponent),dom=oldDom=null),c=createComponent(vnode.nodeName,props,context),dom&&!c.nextBase&&(c.nextBase=dom,oldDom=null),setComponentProps(c,props,1,context,mountAll),dom=c.base,oldDom&&dom!==oldDom&&(oldDom._component=null,recollectNodeTree(oldDom,!1)));return dom}(dom,vnode,context,mountAll);if(isSvgMode="svg"===vnodeName||"foreignObject"!==vnodeName&&isSvgMode,vnodeName=String(vnodeName),(!dom||!isNamedNode(dom,vnodeName))&&(nodeName=vnodeName,(node=isSvgMode?document.createElementNS("http://www.w3.org/2000/svg",nodeName):document.createElement(nodeName)).normalizedNodeName=nodeName,out=node,dom)){for(;dom.firstChild;)out.appendChild(dom.firstChild);dom.parentNode&&dom.parentNode.replaceChild(out,dom),recollectNodeTree(dom,!0)}var fc=out.firstChild,props=out.__preactattr_,vchildren=vnode.children;if(null==props){props=out.__preactattr_={};for(var a=out.attributes,i=a.length;i--;)props[a[i].name]=a[i].value}return!hydrating&&vchildren&&1===vchildren.length&&"string"==typeof vchildren[0]&&null!=fc&&void 0!==fc.splitText&&null==fc.nextSibling?fc.nodeValue!=vchildren[0]&&(fc.nodeValue=vchildren[0]):(vchildren&&vchildren.length||null!=fc)&&function(dom,vchildren,context,mountAll,isHydrating){var j,c,f,vchild,child,originalChildren=dom.childNodes,children=[],keyed={},keyedLen=0,min=0,len=originalChildren.length,childrenLen=0,vlen=vchildren?vchildren.length:0;if(0!==len)for(var i=0;i<len;i++){var _child=originalChildren[i],props=_child.__preactattr_,key=vlen&&props?_child._component?_child._component.__key:props.key:null;null!=key?(keyedLen++,keyed[key]=_child):(props||(void 0!==_child.splitText?!isHydrating||_child.nodeValue.trim():isHydrating))&&(children[childrenLen++]=_child)}if(0!==vlen)for(var i=0;i<vlen;i++){vchild=vchildren[i],child=null;var key=vchild.key;if(null!=key)keyedLen&&void 0!==keyed[key]&&(child=keyed[key],keyed[key]=void 0,keyedLen--);else if(!child&&min<childrenLen)for(j=min;j<childrenLen;j++)if(void 0!==children[j]&&(node=c=children[j],hydrating=isHydrating,"string"==typeof(vnode=vchild)||"number"==typeof vnode?void 0!==node.splitText:"string"==typeof vnode.nodeName?!node._componentConstructor&&isNamedNode(node,vnode.nodeName):hydrating||node._componentConstructor===vnode.nodeName)){child=c,children[j]=void 0,j===childrenLen-1&&childrenLen--,j===min&&min++;break}child=idiff(child,vchild,context,mountAll),f=originalChildren[i],child&&child!==dom&&child!==f&&(null==f?dom.appendChild(child):child===f.nextSibling?removeNode(f):dom.insertBefore(child,f))}var node,vnode,hydrating;if(keyedLen)for(var i in keyed)void 0!==keyed[i]&&recollectNodeTree(keyed[i],!1);for(;min<=childrenLen;)void 0!==(child=children[childrenLen--])&&recollectNodeTree(child,!1)}(out,vchildren,context,mountAll,hydrating||null!=props.dangerouslySetInnerHTML),function(dom,attrs,old){var name;for(name in old)attrs&&null!=attrs[name]||null==old[name]||setAccessor(dom,name,old[name],old[name]=void 0,isSvgMode);for(name in attrs)"children"===name||"innerHTML"===name||name in old&&attrs[name]===("value"===name||"checked"===name?dom[name]:old[name])||setAccessor(dom,name,old[name],old[name]=attrs[name],isSvgMode)}(out,vnode.attributes,props),isSvgMode=prevSvgMode,out}function recollectNodeTree(node,unmountOnly){var component=node._component;component?unmountComponent(component):(null!=node.__preactattr_&&node.__preactattr_.ref&&node.__preactattr_.ref(null),!1!==unmountOnly&&null!=node.__preactattr_||removeNode(node),removeChildren(node))}function removeChildren(node){for(node=node.lastChild;node;){var next=node.previousSibling;recollectNodeTree(node,!0),node=next}}var components={};function createComponent(Ctor,props,context){var inst,list=components[Ctor.name];if(Ctor.prototype&&Ctor.prototype.render?(inst=new Ctor(props,context),Component.call(inst,props,context)):((inst=new Component(props,context)).constructor=Ctor,inst.render=doRender),list)for(var i=list.length;i--;)if(list[i].constructor===Ctor){inst.nextBase=list[i].nextBase,list.splice(i,1);break}return inst}function doRender(props,state,context){return this.constructor(props,context)}function setComponentProps(component,props,opts,context,mountAll){component._disable||(component._disable=!0,(component.__ref=props.ref)&&delete props.ref,(component.__key=props.key)&&delete props.key,!component.base||mountAll?component.componentWillMount&&component.componentWillMount():component.componentWillReceiveProps&&component.componentWillReceiveProps(props,context),context&&context!==component.context&&(component.prevContext||(component.prevContext=component.context),component.context=context),component.prevProps||(component.prevProps=component.props),component.props=props,component._disable=!1,0!==opts&&(1!==opts&&!1===options.syncComponentUpdates&&component.base?enqueueRender(component):renderComponent(component,1,mountAll)),component.__ref&&component.__ref(component))}function renderComponent(component,opts,mountAll,isChild){if(!component._disable){var rendered,inst,cbase,props=component.props,state=component.state,context=component.context,previousProps=component.prevProps||props,previousState=component.prevState||state,previousContext=component.prevContext||context,isUpdate=component.base,nextBase=component.nextBase,initialBase=isUpdate||nextBase,initialChildComponent=component._component,skip=!1;if(isUpdate&&(component.props=previousProps,component.state=previousState,component.context=previousContext,2!==opts&&component.shouldComponentUpdate&&!1===component.shouldComponentUpdate(props,state,context)?skip=!0:component.componentWillUpdate&&component.componentWillUpdate(props,state,context),component.props=props,component.state=state,component.context=context),component.prevProps=component.prevState=component.prevContext=component.nextBase=null,component._dirty=!1,!skip){rendered=component.render(props,state,context),component.getChildContext&&(context=extend(extend({},context),component.getChildContext()));var toUnmount,base,childComponent=rendered&&rendered.nodeName;if("function"==typeof childComponent){var childProps=getNodeProps(rendered);(inst=initialChildComponent)&&inst.constructor===childComponent&&childProps.key==inst.__key?setComponentProps(inst,childProps,1,context,!1):(toUnmount=inst,component._component=inst=createComponent(childComponent,childProps,context),inst.nextBase=inst.nextBase||nextBase,inst._parentComponent=component,setComponentProps(inst,childProps,0,context,!1),renderComponent(inst,1,mountAll,!0)),base=inst.base}else cbase=initialBase,(toUnmount=initialChildComponent)&&(cbase=component._component=null),(initialBase||1===opts)&&(cbase&&(cbase._component=null),base=diff(cbase,rendered,context,mountAll||!isUpdate,initialBase&&initialBase.parentNode,!0));if(initialBase&&base!==initialBase&&inst!==initialChildComponent){var baseParent=initialBase.parentNode;baseParent&&base!==baseParent&&(baseParent.replaceChild(base,initialBase),toUnmount||(initialBase._component=null,recollectNodeTree(initialBase,!1)))}if(toUnmount&&unmountComponent(toUnmount),component.base=base,base&&!isChild){for(var componentRef=component,t=component;t=t._parentComponent;)(componentRef=t).base=base;base._component=componentRef,base._componentConstructor=componentRef.constructor}}if(!isUpdate||mountAll?mounts.unshift(component):skip||(component.componentDidUpdate&&component.componentDidUpdate(previousProps,previousState,previousContext),options.afterUpdate&&options.afterUpdate(component)),null!=component._renderCallbacks)for(;component._renderCallbacks.length;)component._renderCallbacks.pop().call(component);diffLevel||isChild||flushMounts()}}function unmountComponent(component){options.beforeUnmount&&options.beforeUnmount(component);var base=component.base;component._disable=!0,component.componentWillUnmount&&component.componentWillUnmount(),component.base=null;var inner=component._component;inner?unmountComponent(inner):base&&(base.__preactattr_&&base.__preactattr_.ref&&base.__preactattr_.ref(null),component.nextBase=base,removeNode(base),function(component){var name=component.constructor.name;(components[name]||(components[name]=[])).push(component)}(component),removeChildren(base)),component.__ref&&component.__ref(null)}function Component(props,context){this._dirty=!0,this.context=context,this.props=props,this.state=this.state||{}}function render(vnode,parent,merge){return diff(merge,vnode,{},!1,parent,!1)}extend(Component.prototype,{setState:function(state,callback){var s=this.state;this.prevState||(this.prevState=extend({},s)),extend(s,"function"==typeof state?state(s,this.props):state),callback&&(this._renderCallbacks=this._renderCallbacks||[]).push(callback),enqueueRender(this)},forceUpdate:function(callback){callback&&(this._renderCallbacks=this._renderCallbacks||[]).push(callback),renderComponent(this,2)},render:function(){}});var _default={h:h,createElement:h,cloneElement:cloneElement,Component:Component,render:render,rerender:rerender,options:options};exports.default=_default},{}],pHeK:[function(require,module,exports){module.exports=function(obj){return obj&&"object"==typeof obj&&obj.nodeType===Node.ELEMENT_NODE}},{}],N9RQ:[function(require,module,exports){var isDOMElement=require("./isDOMElement");module.exports=function(element,context){return void 0===context&&(context=document),"string"==typeof element?context.querySelector(element):isDOMElement(element)?element:void 0}},{"./isDOMElement":"pHeK"}],tH2E:[function(require,module,exports){function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var preact=require("preact"),findDOMElement=require("@uppy/utils/lib/findDOMElement");module.exports=function(){function Plugin(uppy,opts){this.uppy=uppy,this.opts=opts||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}var _proto=Plugin.prototype;return _proto.getPluginState=function(){return this.uppy.getState().plugins[this.id]||{}},_proto.setPluginState=function(update){var _extends2,plugins=this.uppy.getState().plugins;this.uppy.setState({plugins:_extends({},plugins,(_extends2={},_extends2[this.id]=_extends({},plugins[this.id],{},update),_extends2))})},_proto.setOptions=function(newOpts){this.opts=_extends({},this.opts,{},newOpts),this.setPluginState()},_proto.update=function(state){void 0!==this.el&&this._updateUI&&this._updateUI(state)},_proto.afterUpdate=function(){},_proto.onMount=function(){},_proto.mount=function(target,plugin){var fn,calling,latestArgs,targetPlugin,_this=this,callerPluginName=plugin.id,targetElement=findDOMElement(target);if(targetElement)return this.isTargetDOMEl=!0,this.rerender=function(state){_this.uppy.getPlugin(_this.id)&&(_this.el=preact.render(_this.render(state),targetElement,_this.el),_this.afterUpdate())},this._updateUI=(fn=this.rerender,calling=null,latestArgs=null,function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return latestArgs=args,calling||(calling=Promise.resolve().then(function(){return calling=null,fn.apply(void 0,latestArgs)})),calling}),this.uppy.log("Installing "+callerPluginName+" to a DOM element '"+target+"'"),this.opts.replaceTargetContent&&(targetElement.innerHTML=""),this.el=preact.render(this.render(this.uppy.getState()),targetElement),this.onMount(),this.el;if("object"==typeof target&&target instanceof Plugin)targetPlugin=target;else if("function"==typeof target){var Target=target;this.uppy.iteratePlugins(function(plugin){if(plugin instanceof Target)return targetPlugin=plugin,!1})}if(targetPlugin)return this.uppy.log("Installing "+callerPluginName+" to "+targetPlugin.id),this.parent=targetPlugin,this.el=targetPlugin.addTarget(plugin),this.onMount(),this.el;throw this.uppy.log("Not installing "+callerPluginName),new Error("Invalid target option given to "+callerPluginName+". Please make sure that the element\n      exists on the page, or that the plugin you are targeting has been installed. Check that the <script> tag initializing Uppy\n      comes at the bottom of the page, before the closing </body> tag (see https://github.com/transloadit/uppy/issues/1042).")},_proto.render=function(state){throw new Error("Extend the render method to add your plugin to a DOM element")},_proto.addTarget=function(plugin){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},_proto.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},_proto.install=function(){},_proto.uninstall=function(){this.unmount()},Plugin}()},{preact:"Ynqe","@uppy/utils/lib/findDOMElement":"N9RQ"}],Mcra:[function(require,module,exports){function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf("[native code]")))return Class;var fn;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(Parent,args,Class){return(_construct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Translator=require("@uppy/utils/lib/Translator"),ee=require("namespace-emitter"),cuid=require("cuid"),throttle=require("lodash.throttle"),prettyBytes=require("@uppy/utils/lib/prettyBytes"),match=require("mime-match"),DefaultStore=require("@uppy/store-default"),getFileType=require("@uppy/utils/lib/getFileType"),getFileNameAndExtension=require("@uppy/utils/lib/getFileNameAndExtension"),generateFileID=require("@uppy/utils/lib/generateFileID"),supportsUploadProgress=require("./supportsUploadProgress"),_require=require("./loggers"),justErrorsLogger=_require.justErrorsLogger,debugLogger=_require.debugLogger,Plugin=require("./Plugin"),RestrictionError=function(_Error){var subClass,superClass;function RestrictionError(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Error.call.apply(_Error,[this].concat(args))||this).isRestriction=!0,_this}return superClass=_Error,(subClass=RestrictionError).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,RestrictionError}(_wrapNativeSuper(Error)),Uppy=function(){function Uppy(opts){var _this2=this;this.defaultLocale={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize2:"%{backwardsCompat} %{size}",exceedsSize:"This file exceeds maximum allowed size of",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noNewAlreadyUploading:"Cannot add new files: already uploading",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},selectAllFilesFromFolderNamed:"Select all files from folder %{name}",unselectAllFilesFromFolderNamed:"Unselect all files from folder %{name}",selectFileNamed:"Select file %{name}",unselectFileNamed:"Unselect file %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",emptyFolderAdded:"No files were added from empty folder",folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};var defaultOptions={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,debug:!1,restrictions:{maxFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeFileAdded:function(currentFile,files){return currentFile},onBeforeUpload:function(files){return files},store:DefaultStore(),logger:justErrorsLogger};if(this.opts=_extends({},defaultOptions,{},opts,{restrictions:_extends({},defaultOptions.restrictions,{},opts&&opts.restrictions)}),opts&&opts.logger&&opts.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):opts&&opts.debug&&(this.opts.logger=debugLogger),this.log("Using Core v"+this.constructor.VERSION),this.opts.restrictions.allowedFileTypes&&null!==this.opts.restrictions.allowedFileTypes&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this._calculateProgress=throttle(this._calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=ee(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:supportsUploadProgress(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:_extends({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe(function(prevState,nextState,patch){_this2.emit("state-update",prevState,nextState,patch),_this2.updateAll(nextState)}),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),this._addListeners()}var Constructor,protoProps,staticProps,_proto=Uppy.prototype;return _proto.on=function(event,callback){return this.emitter.on(event,callback),this},_proto.off=function(event,callback){return this.emitter.off(event,callback),this},_proto.updateAll=function(state){this.iteratePlugins(function(plugin){plugin.update(state)})},_proto.setState=function(patch){this.store.setState(patch)},_proto.getState=function(){return this.store.getState()},_proto.setFileState=function(fileID,state){var _extends2;if(!this.getState().files[fileID])throw new Error("Cant set state for "+fileID+" (the file could have been removed)");this.setState({files:_extends({},this.getState().files,(_extends2={},_extends2[fileID]=_extends({},this.getState().files[fileID],state),_extends2))})},_proto.i18nInit=function(){this.translator=new Translator([this.defaultLocale,this.opts.locale]),this.locale=this.translator.locale,this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator)},_proto.setOptions=function(newOpts){this.opts=_extends({},this.opts,{},newOpts,{restrictions:_extends({},this.opts.restrictions,{},newOpts&&newOpts.restrictions)}),newOpts.meta&&this.setMeta(newOpts.meta),this.i18nInit(),newOpts.locale&&this.iteratePlugins(function(plugin){plugin.setOptions()}),this.setState()},_proto.resetProgress=function(){var defaultProgress={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},files=_extends({},this.getState().files),updatedFiles={};Object.keys(files).forEach(function(fileID){var updatedFile=_extends({},files[fileID]);updatedFile.progress=_extends({},updatedFile.progress,defaultProgress),updatedFiles[fileID]=updatedFile}),this.setState({files:updatedFiles,totalProgress:0}),this.emit("reset-progress")},_proto.addPreProcessor=function(fn){this.preProcessors.push(fn)},_proto.removePreProcessor=function(fn){var i=this.preProcessors.indexOf(fn);-1!==i&&this.preProcessors.splice(i,1)},_proto.addPostProcessor=function(fn){this.postProcessors.push(fn)},_proto.removePostProcessor=function(fn){var i=this.postProcessors.indexOf(fn);-1!==i&&this.postProcessors.splice(i,1)},_proto.addUploader=function(fn){this.uploaders.push(fn)},_proto.removeUploader=function(fn){var i=this.uploaders.indexOf(fn);-1!==i&&this.uploaders.splice(i,1)},_proto.setMeta=function(data){var updatedMeta=_extends({},this.getState().meta,data),updatedFiles=_extends({},this.getState().files);Object.keys(updatedFiles).forEach(function(fileID){updatedFiles[fileID]=_extends({},updatedFiles[fileID],{meta:_extends({},updatedFiles[fileID].meta,data)})}),this.log("Adding metadata:"),this.log(data),this.setState({meta:updatedMeta,files:updatedFiles})},_proto.setFileMeta=function(fileID,data){var updatedFiles=_extends({},this.getState().files);if(updatedFiles[fileID]){var newMeta=_extends({},updatedFiles[fileID].meta,data);updatedFiles[fileID]=_extends({},updatedFiles[fileID],{meta:newMeta}),this.setState({files:updatedFiles})}else this.log("Was trying to set metadata for a file that has been removed: ",fileID)},_proto.getFile=function(fileID){return this.getState().files[fileID]},_proto.getFiles=function(){var files=this.getState().files;return Object.keys(files).map(function(fileID){return files[fileID]})},_proto._checkMinNumberOfFiles=function(files){var minNumberOfFiles=this.opts.restrictions.minNumberOfFiles;if(Object.keys(files).length<minNumberOfFiles)throw new RestrictionError(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:minNumberOfFiles}))},_proto._checkRestrictions=function(files,file){var _this$opts$restrictio=this.opts.restrictions,maxFileSize=_this$opts$restrictio.maxFileSize,maxNumberOfFiles=_this$opts$restrictio.maxNumberOfFiles,allowedFileTypes=_this$opts$restrictio.allowedFileTypes;if(maxNumberOfFiles&&Object.keys(files).length+1>maxNumberOfFiles)throw new RestrictionError(""+this.i18n("youCanOnlyUploadX",{smart_count:maxNumberOfFiles}));if(allowedFileTypes&&!allowedFileTypes.some(function(type){return type.indexOf("/")>-1?!!file.type&&match(file.type.replace(/;.*?$/,""),type):"."===type[0]&&file.extension.toLowerCase()===type.substr(1).toLowerCase()})){var allowedFileTypesString=allowedFileTypes.join(", ");throw new RestrictionError(this.i18n("youCanOnlyUploadFileTypes",{types:allowedFileTypesString}))}if(maxFileSize&&null!=file.data.size&&file.data.size>maxFileSize)throw new RestrictionError(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:prettyBytes(maxFileSize)}))},_proto._showOrLogErrorAndThrow=function(err,_temp){var _ref=void 0===_temp?{}:_temp,_ref$showInformer=_ref.showInformer,showInformer=void 0===_ref$showInformer||_ref$showInformer,_ref$file=_ref.file,file=void 0===_ref$file?null:_ref$file,_ref$throwErr=_ref.throwErr,throwErr=void 0===_ref$throwErr||_ref$throwErr,message="object"==typeof err?err.message:err,details="object"==typeof err&&err.details?err.details:"",logMessageWithDetails=message;if(details&&(logMessageWithDetails+=" "+details),err.isRestriction?(this.log(logMessageWithDetails),this.emit("restriction-failed",file,err)):this.log(logMessageWithDetails,"error"),showInformer&&this.info({message:message,details:details},"error",5e3),throwErr)throw"object"==typeof err?err:new Error(err)},_proto._assertNewUploadAllowed=function(file){!1===this.getState().allowNewUpload&&this._showOrLogErrorAndThrow(new RestrictionError(this.i18n("noNewAlreadyUploading")),{file:file})},_proto._checkAndCreateFileStateObject=function(files,file){var fileType=getFileType(file);file.type=fileType;var fileName,onBeforeFileAddedResult=this.opts.onBeforeFileAdded(file,files);!1===onBeforeFileAddedResult&&this._showOrLogErrorAndThrow(new RestrictionError("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,file:file}),"object"==typeof onBeforeFileAddedResult&&onBeforeFileAddedResult&&(file=onBeforeFileAddedResult),fileName=file.name?file.name:"image"===fileType.split("/")[0]?fileType.split("/")[0]+"."+fileType.split("/")[1]:"noname";var fileExtension=getFileNameAndExtension(fileName).extension,isRemote=file.isRemote||!1,fileID=generateFileID(file);files[fileID]&&this._showOrLogErrorAndThrow(new RestrictionError(this.i18n("noDuplicates",{fileName:fileName})),{file:file});var meta=file.meta||{};meta.name=fileName,meta.type=fileType;var size=isFinite(file.data.size)?file.data.size:null,newFile={source:file.source||"",id:fileID,name:fileName,extension:fileExtension||"",meta:_extends({},this.getState().meta,{},meta),type:fileType,data:file.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:size,uploadComplete:!1,uploadStarted:null},size:size,isRemote:isRemote,remote:file.remote||"",preview:file.preview};try{this._checkRestrictions(files,newFile)}catch(err){this._showOrLogErrorAndThrow(err,{file:newFile})}return newFile},_proto._startIfAutoProceed=function(){var _this3=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){_this3.scheduledAutoProceed=null,_this3.upload().catch(function(err){err.isRestriction||_this3.log(err.stack||err.message||err)})},4))},_proto.addFile=function(file){var _extends3;this._assertNewUploadAllowed(file);var files=this.getState().files,newFile=this._checkAndCreateFileStateObject(files,file);return this.setState({files:_extends({},files,(_extends3={},_extends3[newFile.id]=newFile,_extends3))}),this.emit("file-added",newFile),this.log("Added file: "+newFile.name+", "+newFile.id+", mime type: "+newFile.type),this._startIfAutoProceed(),newFile.id},_proto.addFiles=function(fileDescriptors){var _this4=this;this._assertNewUploadAllowed();for(var files=_extends({},this.getState().files),newFiles=[],errors=[],i=0;i<fileDescriptors.length;i++)try{var newFile=this._checkAndCreateFileStateObject(files,fileDescriptors[i]);newFiles.push(newFile),files[newFile.id]=newFile}catch(err){err.isRestriction||errors.push(err)}if(this.setState({files:files}),newFiles.forEach(function(newFile){_this4.emit("file-added",newFile)}),newFiles.length>5?this.log("Added batch of "+newFiles.length+" files"):Object.keys(newFiles).forEach(function(fileID){_this4.log("Added file: "+newFiles[fileID].name+"\n id: "+newFiles[fileID].id+"\n type: "+newFiles[fileID].type)}),newFiles.length>0&&this._startIfAutoProceed(),errors.length>0){var message="Multiple errors occurred while adding files:\n";errors.forEach(function(subError){message+="\n * "+subError.message}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:errors.length}),details:message},"error",5e3);var err=new Error(message);throw err.errors=errors,err}},_proto.removeFiles=function(fileIDs){var _this5=this,_this$getState4=this.getState(),files=_this$getState4.files,currentUploads=_this$getState4.currentUploads,updatedFiles=_extends({},files),updatedUploads=_extends({},currentUploads),removedFiles=Object.create(null);function fileIsNotRemoved(uploadFileID){return void 0===removedFiles[uploadFileID]}fileIDs.forEach(function(fileID){files[fileID]&&(removedFiles[fileID]=files[fileID],delete updatedFiles[fileID])});var uploadsToRemove=[];Object.keys(updatedUploads).forEach(function(uploadID){var newFileIDs=currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved);0!==newFileIDs.length?updatedUploads[uploadID]=_extends({},currentUploads[uploadID],{fileIDs:newFileIDs}):uploadsToRemove.push(uploadID)}),uploadsToRemove.forEach(function(uploadID){delete updatedUploads[uploadID]});var stateUpdate={currentUploads:updatedUploads,files:updatedFiles};0===Object.keys(updatedFiles).length&&(stateUpdate.allowNewUpload=!0,stateUpdate.error=null),this.setState(stateUpdate),this._calculateTotalProgress();var removedFileIDs=Object.keys(removedFiles);removedFileIDs.forEach(function(fileID){_this5.emit("file-removed",removedFiles[fileID])}),removedFileIDs.length>5?this.log("Removed "+removedFileIDs.length+" files"):this.log("Removed files: "+removedFileIDs.join(", "))},_proto.removeFile=function(fileID){this.removeFiles([fileID])},_proto.pauseResume=function(fileID){if(this.getState().capabilities.resumableUploads&&!this.getFile(fileID).uploadComplete){var isPaused=!(this.getFile(fileID).isPaused||!1);return this.setFileState(fileID,{isPaused:isPaused}),this.emit("upload-pause",fileID,isPaused),isPaused}},_proto.pauseAll=function(){var updatedFiles=_extends({},this.getState().files);Object.keys(updatedFiles).filter(function(file){return!updatedFiles[file].progress.uploadComplete&&updatedFiles[file].progress.uploadStarted}).forEach(function(file){var updatedFile=_extends({},updatedFiles[file],{isPaused:!0});updatedFiles[file]=updatedFile}),this.setState({files:updatedFiles}),this.emit("pause-all")},_proto.resumeAll=function(){var updatedFiles=_extends({},this.getState().files);Object.keys(updatedFiles).filter(function(file){return!updatedFiles[file].progress.uploadComplete&&updatedFiles[file].progress.uploadStarted}).forEach(function(file){var updatedFile=_extends({},updatedFiles[file],{isPaused:!1,error:null});updatedFiles[file]=updatedFile}),this.setState({files:updatedFiles}),this.emit("resume-all")},_proto.retryAll=function(){var updatedFiles=_extends({},this.getState().files),filesToRetry=Object.keys(updatedFiles).filter(function(file){return updatedFiles[file].error});filesToRetry.forEach(function(file){var updatedFile=_extends({},updatedFiles[file],{isPaused:!1,error:null});updatedFiles[file]=updatedFile}),this.setState({files:updatedFiles,error:null}),this.emit("retry-all",filesToRetry);var uploadID=this._createUpload(filesToRetry,{forceAllowNewUpload:!0});return this._runUpload(uploadID)},_proto.cancelAll=function(){this.emit("cancel-all");var files=this.getState().files,fileIDs=Object.keys(files);fileIDs.length&&this.removeFiles(fileIDs),this.setState({totalProgress:0,error:null})},_proto.retryUpload=function(fileID){this.setFileState(fileID,{error:null,isPaused:!1}),this.emit("upload-retry",fileID);var uploadID=this._createUpload([fileID],{forceAllowNewUpload:!0});return this._runUpload(uploadID)},_proto.reset=function(){this.cancelAll()},_proto._calculateProgress=function(file,data){if(this.getFile(file.id)){var canHavePercentage=isFinite(data.bytesTotal)&&data.bytesTotal>0;this.setFileState(file.id,{progress:_extends({},this.getFile(file.id).progress,{bytesUploaded:data.bytesUploaded,bytesTotal:data.bytesTotal,percentage:canHavePercentage?Math.round(data.bytesUploaded/data.bytesTotal*100):0})}),this._calculateTotalProgress()}else this.log("Not setting progress for a file that has been removed: "+file.id)},_proto._calculateTotalProgress=function(){var inProgress=this.getFiles().filter(function(file){return file.progress.uploadStarted||file.progress.preprocess||file.progress.postprocess});if(0===inProgress.length)return this.emit("progress",0),void this.setState({totalProgress:0});var sizedFiles=inProgress.filter(function(file){return null!=file.progress.bytesTotal}),unsizedFiles=inProgress.filter(function(file){return null==file.progress.bytesTotal});if(0!==sizedFiles.length){var totalSize=sizedFiles.reduce(function(acc,file){return acc+file.progress.bytesTotal},0),averageSize=totalSize/sizedFiles.length;totalSize+=averageSize*unsizedFiles.length;var uploadedSize=0;sizedFiles.forEach(function(file){uploadedSize+=file.progress.bytesUploaded}),unsizedFiles.forEach(function(file){uploadedSize+=averageSize*(file.progress.percentage||0)/100});var totalProgress=0===totalSize?0:Math.round(uploadedSize/totalSize*100);totalProgress>100&&(totalProgress=100),this.setState({totalProgress:totalProgress}),this.emit("progress",totalProgress)}else{var progressMax=100*inProgress.length,currentProgress=unsizedFiles.reduce(function(acc,file){return acc+file.progress.percentage},0),_totalProgress=Math.round(currentProgress/progressMax*100);this.setState({totalProgress:_totalProgress})}},_proto._addListeners=function(){var _this6=this;this.on("error",function(error){var errorMsg="Unknown error";error.message&&(errorMsg=error.message),error.details&&(errorMsg+=" "+error.details),_this6.setState({error:errorMsg})}),this.on("upload-error",function(file,error,response){var errorMsg="Unknown error";if(error.message&&(errorMsg=error.message),error.details&&(errorMsg+=" "+error.details),_this6.setFileState(file.id,{error:errorMsg,response:response}),_this6.setState({error:error.message}),"object"==typeof error&&error.message){var newError=new Error(error.message);newError.details=error.message,error.details&&(newError.details+=" "+error.details),newError.message=_this6.i18n("failedToUpload",{file:file.name}),_this6._showOrLogErrorAndThrow(newError,{throwErr:!1})}else _this6._showOrLogErrorAndThrow(error,{throwErr:!1})}),this.on("upload",function(){_this6.setState({error:null})}),this.on("upload-started",function(file,upload){_this6.getFile(file.id)?_this6.setFileState(file.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:file.size}}):_this6.log("Not setting progress for a file that has been removed: "+file.id)}),this.on("upload-progress",this._calculateProgress),this.on("upload-success",function(file,uploadResp){if(_this6.getFile(file.id)){var currentProgress=_this6.getFile(file.id).progress;_this6.setFileState(file.id,{progress:_extends({},currentProgress,{uploadComplete:!0,percentage:100,bytesUploaded:currentProgress.bytesTotal}),response:uploadResp,uploadURL:uploadResp.uploadURL,isPaused:!1}),_this6._calculateTotalProgress()}else _this6.log("Not setting progress for a file that has been removed: "+file.id)}),this.on("preprocess-progress",function(file,progress){_this6.getFile(file.id)?_this6.setFileState(file.id,{progress:_extends({},_this6.getFile(file.id).progress,{preprocess:progress})}):_this6.log("Not setting progress for a file that has been removed: "+file.id)}),this.on("preprocess-complete",function(file){if(_this6.getFile(file.id)){var files=_extends({},_this6.getState().files);files[file.id]=_extends({},files[file.id],{progress:_extends({},files[file.id].progress)}),delete files[file.id].progress.preprocess,_this6.setState({files:files})}else _this6.log("Not setting progress for a file that has been removed: "+file.id)}),this.on("postprocess-progress",function(file,progress){_this6.getFile(file.id)?_this6.setFileState(file.id,{progress:_extends({},_this6.getState().files[file.id].progress,{postprocess:progress})}):_this6.log("Not setting progress for a file that has been removed: "+file.id)}),this.on("postprocess-complete",function(file){if(_this6.getFile(file.id)){var files=_extends({},_this6.getState().files);files[file.id]=_extends({},files[file.id],{progress:_extends({},files[file.id].progress)}),delete files[file.id].progress.postprocess,_this6.setState({files:files})}else _this6.log("Not setting progress for a file that has been removed: "+file.id)}),this.on("restored",function(){_this6._calculateTotalProgress()}),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",function(){return _this6.updateOnlineStatus()}),window.addEventListener("offline",function(){return _this6.updateOnlineStatus()}),setTimeout(function(){return _this6.updateOnlineStatus()},3e3))},_proto.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},_proto.getID=function(){return this.opts.id},_proto.use=function(Plugin,opts){if("function"!=typeof Plugin)throw new TypeError("Expected a plugin class, but got "+(null===Plugin?"null":typeof Plugin)+". Please verify that the plugin was imported and spelled correctly.");var plugin=new Plugin(this,opts),pluginId=plugin.id;if(this.plugins[plugin.type]=this.plugins[plugin.type]||[],!pluginId)throw new Error("Your plugin must have an id");if(!plugin.type)throw new Error("Your plugin must have a type");var existsPluginAlready=this.getPlugin(pluginId);if(existsPluginAlready){var _msg="Already found a plugin named '"+existsPluginAlready.id+"'. Tried to use: '"+pluginId+"'.\nUppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(_msg)}return Plugin.VERSION&&this.log("Using "+pluginId+" v"+Plugin.VERSION),this.plugins[plugin.type].push(plugin),plugin.install(),this},_proto.getPlugin=function(id){var foundPlugin=null;return this.iteratePlugins(function(plugin){if(plugin.id===id)return foundPlugin=plugin,!1}),foundPlugin},_proto.iteratePlugins=function(method){var _this7=this;Object.keys(this.plugins).forEach(function(pluginType){_this7.plugins[pluginType].forEach(method)})},_proto.removePlugin=function(instance){this.log("Removing plugin "+instance.id),this.emit("plugin-remove",instance),instance.uninstall&&instance.uninstall();var list=this.plugins[instance.type].slice(),index=list.indexOf(instance);-1!==index&&(list.splice(index,1),this.plugins[instance.type]=list);var updatedState=this.getState();delete updatedState.plugins[instance.id],this.setState(updatedState)},_proto.close=function(){var _this8=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this._storeUnsubscribe(),this.iteratePlugins(function(plugin){_this8.removePlugin(plugin)})},_proto.info=function(message,type,duration){void 0===type&&(type="info"),void 0===duration&&(duration=3e3);var isComplexMessage="object"==typeof message;this.setState({info:{isHidden:!1,type:type,message:isComplexMessage?message.message:message,details:isComplexMessage?message.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==duration?setTimeout(this.hideInfo,duration):void 0},_proto.hideInfo=function(){var newInfo=_extends({},this.getState().info,{isHidden:!0});this.setState({info:newInfo}),this.emit("info-hidden")},_proto.log=function(message,type){var logger=this.opts.logger;switch(type){case"error":logger.error(message);break;case"warning":logger.warn(message);break;default:logger.debug(message)}},_proto.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},_proto.restore=function(uploadID){return this.log('Core: attempting to restore upload "'+uploadID+'"'),this.getState().currentUploads[uploadID]?this._runUpload(uploadID):(this._removeUpload(uploadID),Promise.reject(new Error("Nonexistent upload")))},_proto._createUpload=function(fileIDs,opts){var _extends4;void 0===opts&&(opts={});var _opts$forceAllowNewUp=opts.forceAllowNewUpload,forceAllowNewUpload=void 0!==_opts$forceAllowNewUp&&_opts$forceAllowNewUp,_this$getState6=this.getState(),allowNewUpload=_this$getState6.allowNewUpload,currentUploads=_this$getState6.currentUploads;if(!allowNewUpload&&!forceAllowNewUpload)throw new Error("Cannot create a new upload: already uploading.");var uploadID=cuid();return this.emit("upload",{id:uploadID,fileIDs:fileIDs}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploads,currentUploads:_extends({},currentUploads,(_extends4={},_extends4[uploadID]={fileIDs:fileIDs,step:0,result:{}},_extends4))}),uploadID},_proto._getUpload=function(uploadID){return this.getState().currentUploads[uploadID]},_proto.addResultData=function(uploadID,data){var _extends5;if(this._getUpload(uploadID)){var currentUploads=this.getState().currentUploads,currentUpload=_extends({},currentUploads[uploadID],{result:_extends({},currentUploads[uploadID].result,data)});this.setState({currentUploads:_extends({},currentUploads,(_extends5={},_extends5[uploadID]=currentUpload,_extends5))})}else this.log("Not setting result for an upload that has been removed: "+uploadID)},_proto._removeUpload=function(uploadID){var currentUploads=_extends({},this.getState().currentUploads);delete currentUploads[uploadID],this.setState({currentUploads:currentUploads})},_proto._runUpload=function(uploadID){var _this9=this,restoreStep=this.getState().currentUploads[uploadID].step,steps=[].concat(this.preProcessors,this.uploaders,this.postProcessors),lastStep=Promise.resolve();return steps.forEach(function(fn,step){step<restoreStep||(lastStep=lastStep.then(function(){var _extends6,currentUploads=_this9.getState().currentUploads,currentUpload=currentUploads[uploadID];if(currentUpload){var updatedUpload=_extends({},currentUpload,{step:step});return _this9.setState({currentUploads:_extends({},currentUploads,(_extends6={},_extends6[uploadID]=updatedUpload,_extends6))}),fn(updatedUpload.fileIDs,uploadID)}}).then(function(result){return null}))}),lastStep.catch(function(err){_this9.emit("error",err,uploadID),_this9._removeUpload(uploadID)}),lastStep.then(function(){var currentUpload=_this9.getState().currentUploads[uploadID];if(currentUpload){var files=currentUpload.fileIDs.map(function(fileID){return _this9.getFile(fileID)}),successful=files.filter(function(file){return!file.error}),failed=files.filter(function(file){return file.error});_this9.addResultData(uploadID,{successful:successful,failed:failed,uploadID:uploadID})}}).then(function(){var currentUploads=_this9.getState().currentUploads;if(currentUploads[uploadID]){var result=currentUploads[uploadID].result;return _this9.emit("complete",result),_this9._removeUpload(uploadID),result}}).then(function(result){return null==result&&_this9.log("Not setting result for an upload that has been removed: "+uploadID),result})},_proto.upload=function(){var _this10=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var files=this.getState().files,onBeforeUploadResult=this.opts.onBeforeUpload(files);return!1===onBeforeUploadResult?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(onBeforeUploadResult&&"object"==typeof onBeforeUploadResult&&(files=onBeforeUploadResult,this.setState({files:files})),Promise.resolve().then(function(){return _this10._checkMinNumberOfFiles(files)}).then(function(){var currentUploads=_this10.getState().currentUploads,currentlyUploadingFiles=Object.keys(currentUploads).reduce(function(prev,curr){return prev.concat(currentUploads[curr].fileIDs)},[]),waitingFileIDs=[];Object.keys(files).forEach(function(fileID){var file=_this10.getFile(fileID);file.progress.uploadStarted||-1!==currentlyUploadingFiles.indexOf(fileID)||waitingFileIDs.push(file.id)});var uploadID=_this10._createUpload(waitingFileIDs);return _this10._runUpload(uploadID)}).catch(function(err){_this10._showOrLogErrorAndThrow(err)}))},Constructor=Uppy,(protoProps=[{key:"state",get:function(){return this.getState()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Uppy}();Uppy.VERSION="1.10.2",module.exports=function(opts){return new Uppy(opts)},module.exports.Uppy=Uppy,module.exports.Plugin=Plugin,module.exports.debugLogger=debugLogger},{"@uppy/utils/lib/Translator":"j52u","namespace-emitter":"Jb2j",cuid:"Kk0o","lodash.throttle":"FNyO","@uppy/utils/lib/prettyBytes":"T55n","mime-match":"lprK","@uppy/store-default":"o6Zq","@uppy/utils/lib/getFileType":"IReq","@uppy/utils/lib/getFileNameAndExtension":"ExSc","@uppy/utils/lib/generateFileID":"JgpY","./supportsUploadProgress":"gxKi","./loggers":"drv0","./Plugin":"tH2E"}],H0qN:[function(require,module,exports){"use strict";module.exports=function(port,protocol){if(protocol=protocol.split(":")[0],!(port=+port))return!1;switch(protocol){case"http":case"ws":return 80!==port;case"https":case"wss":return 443!==port;case"ftp":return 21!==port;case"gopher":return 70!==port;case"file":return!1}return 0!==port}},{}],yScC:[function(require,module,exports){"use strict";var undef,has=Object.prototype.hasOwnProperty;function decode(input){try{return decodeURIComponent(input.replace(/\+/g," "))}catch(e){return null}}exports.stringify=function(obj,prefix){prefix=prefix||"";var value,key,pairs=[];for(key in"string"!=typeof prefix&&(prefix="?"),obj)if(has.call(obj,key)){if((value=obj[key])||null!==value&&value!==undef&&!isNaN(value)||(value=""),key=encodeURIComponent(key),value=encodeURIComponent(value),null===key||null===value)continue;pairs.push(key+"="+value)}return pairs.length?prefix+pairs.join("&"):""},exports.parse=function(query){for(var part,parser=/([^=?&]+)=?([^&]*)/g,result={};part=parser.exec(query);){var key=decode(part[1]),value=decode(part[2]);null===key||null===value||key in result||(result[key]=value)}return result}},{}],xKrr:[function(require,module,exports){var global=arguments[3],required=require("requires-port"),qs=require("querystringify"),slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,left=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function trimLeft(str){return(str||"").toString().replace(left,"")}var rules=[["#","hash"],["?","query"],function(address){return address.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(loc){var key,location=("undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{}).location||{},finaldestination={},type=typeof(loc=loc||location);if("blob:"===loc.protocol)finaldestination=new Url(unescape(loc.pathname),{});else if("string"===type)for(key in finaldestination=new Url(loc,{}),ignore)delete finaldestination[key];else if("object"===type){for(key in loc)key in ignore||(finaldestination[key]=loc[key]);void 0===finaldestination.slashes&&(finaldestination.slashes=slashes.test(loc.href))}return finaldestination}function extractProtocol(address){address=trimLeft(address);var match=protocolre.exec(address);return{protocol:match[1]?match[1].toLowerCase():"",slashes:!!match[2],rest:match[3]}}function Url(address,location,parser){if(address=trimLeft(address),!(this instanceof Url))return new Url(address,location,parser);var relative,extracted,parse,instruction,index,key,instructions=rules.slice(),type=typeof location,url=this,i=0;for("object"!==type&&"string"!==type&&(parser=location,location=null),parser&&"function"!=typeof parser&&(parser=qs.parse),location=lolcation(location),relative=!(extracted=extractProtocol(address||"")).protocol&&!extracted.slashes,url.slashes=extracted.slashes||relative&&location.slashes,url.protocol=extracted.protocol||location.protocol||"",address=extracted.rest,extracted.slashes||(instructions[3]=[/(.*)/,"pathname"]);i<instructions.length;i++)"function"!=typeof(instruction=instructions[i])?(parse=instruction[0],key=instruction[1],parse!=parse?url[key]=address:"string"==typeof parse?~(index=address.indexOf(parse))&&("number"==typeof instruction[2]?(url[key]=address.slice(0,index),address=address.slice(index+instruction[2])):(url[key]=address.slice(index),address=address.slice(0,index))):(index=parse.exec(address))&&(url[key]=index[1],address=address.slice(0,index.index)),url[key]=url[key]||relative&&instruction[3]&&location[key]||"",instruction[4]&&(url[key]=url[key].toLowerCase())):address=instruction(address);parser&&(url.query=parser(url.query)),relative&&location.slashes&&"/"!==url.pathname.charAt(0)&&(""!==url.pathname||""!==location.pathname)&&(url.pathname=function(relative,base){if(""===relative)return base;for(var path=(base||"/").split("/").slice(0,-1).concat(relative.split("/")),i=path.length,last=path[i-1],unshift=!1,up=0;i--;)"."===path[i]?path.splice(i,1):".."===path[i]?(path.splice(i,1),up++):up&&(0===i&&(unshift=!0),path.splice(i,1),up--);return unshift&&path.unshift(""),"."!==last&&".."!==last||path.push(""),path.join("/")}(url.pathname,location.pathname)),required(url.port,url.protocol)||(url.host=url.hostname,url.port=""),url.username=url.password="",url.auth&&(instruction=url.auth.split(":"),url.username=instruction[0]||"",url.password=instruction[1]||""),url.origin=url.protocol&&url.host&&"file:"!==url.protocol?url.protocol+"//"+url.host:"null",url.href=url.toString()}Url.prototype={set:function(part,value,fn){var url=this;switch(part){case"query":"string"==typeof value&&value.length&&(value=(fn||qs.parse)(value)),url[part]=value;break;case"port":url[part]=value,required(value,url.protocol)?value&&(url.host=url.hostname+":"+value):(url.host=url.hostname,url[part]="");break;case"hostname":url[part]=value,url.port&&(value+=":"+url.port),url.host=value;break;case"host":url[part]=value,/:\d+$/.test(value)?(value=value.split(":"),url.port=value.pop(),url.hostname=value.join(":")):(url.hostname=value,url.port="");break;case"protocol":url.protocol=value.toLowerCase(),url.slashes=!fn;break;case"pathname":case"hash":if(value){var char="pathname"===part?"/":"#";url[part]=value.charAt(0)!==char?char+value:value}else url[part]=value;break;default:url[part]=value}for(var i=0;i<rules.length;i++){var ins=rules[i];ins[4]&&(url[ins[1]]=url[ins[1]].toLowerCase())}return url.origin=url.protocol&&url.host&&"file:"!==url.protocol?url.protocol+"//"+url.host:"null",url.href=url.toString(),url},toString:function(stringify){stringify&&"function"==typeof stringify||(stringify=qs.stringify);var query,url=this,protocol=url.protocol;protocol&&":"!==protocol.charAt(protocol.length-1)&&(protocol+=":");var result=protocol+(url.slashes?"//":"");return url.username&&(result+=url.username,url.password&&(result+=":"+url.password),result+="@"),result+=url.host+url.pathname,(query="object"==typeof url.query?stringify(url.query):url.query)&&(result+="?"!==query.charAt(0)?"?"+query:query),url.hash&&(result+=url.hash),result}},Url.extractProtocol=extractProtocol,Url.location=lolcation,Url.trimLeft=trimLeft,Url.qs=qs,module.exports=Url},{"requires-port":"H0qN",querystringify:"yScC"}],Hjxq:[function(require,module,exports){module.exports=function(){function RateLimitedQueue(limit){this.limit="number"!=typeof limit||0===limit?1/0:limit,this.activeRequests=0,this.queuedHandlers=[]}var _proto=RateLimitedQueue.prototype;return _proto._call=function(fn){var _this=this;this.activeRequests+=1;var cancelActive,_done=!1;try{cancelActive=fn()}catch(err){throw this.activeRequests-=1,err}return{abort:function(){_done||(_done=!0,_this.activeRequests-=1,cancelActive(),_this._queueNext())},done:function(){_done||(_done=!0,_this.activeRequests-=1,_this._queueNext())}}},_proto._queueNext=function(){var _this2=this;Promise.resolve().then(function(){_this2._next()})},_proto._next=function(){if(!(this.activeRequests>=this.limit)&&0!==this.queuedHandlers.length){var next=this.queuedHandlers.shift(),handler=this._call(next.fn);next.abort=handler.abort,next.done=handler.done}},_proto._queue=function(fn,options){var _this3=this;void 0===options&&(options={});var handler={fn:fn,priority:options.priority||0,abort:function(){_this3._dequeue(handler)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},index=function(array,predicate){for(var i=0;i<array.length;i++)if(predicate(array[i]))return i;return-1}(this.queuedHandlers,function(other){return handler.priority>other.priority});return-1===index?this.queuedHandlers.push(handler):this.queuedHandlers.splice(index,0,handler),handler},_proto._dequeue=function(handler){var index=this.queuedHandlers.indexOf(handler);-1!==index&&this.queuedHandlers.splice(index,1)},_proto.run=function(fn,queueOptions){return this.activeRequests<this.limit?this._call(fn):this._queue(fn,queueOptions)},_proto.wrapPromiseFunction=function(fn,queueOptions){var _this4=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var queuedRequest,outerPromise=new Promise(function(resolve,reject){queuedRequest=_this4.run(function(){var cancelError,innerPromise;try{innerPromise=Promise.resolve(fn.apply(void 0,args))}catch(err){innerPromise=Promise.reject(err)}return innerPromise.then(function(result){cancelError?reject(cancelError):(queuedRequest.done(),resolve(result))},function(err){cancelError?reject(cancelError):(queuedRequest.done(),reject(err))}),function(){cancelError=new Error("Cancelled")}},queueOptions)});return outerPromise.abort=function(){queuedRequest.abort()},outerPromise}},RateLimitedQueue}()},{}],RYSo:[function(require,module,exports){module.exports=function(promises){var resolutions=[],rejections=[];function resolved(value){resolutions.push(value)}function rejected(error){rejections.push(error)}return Promise.all(promises.map(function(promise){return promise.then(resolved,rejected)})).then(function(){return{successful:resolutions,failed:rejections}})}},{}],xHv4:[function(require,module,exports){"use strict";function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf("[native code]")))return Class;var fn;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(Parent,args,Class){return(_construct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var AuthError=function(_Error){var subClass,superClass;function AuthError(){var _this;return(_this=_Error.call(this,"Authorization required")||this).name="AuthError",_this.isAuthError=!0,_this}return superClass=_Error,(subClass=AuthError).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,AuthError}(_wrapNativeSuper(Error));module.exports=AuthError},{}],Rg3u:[function(require,module,exports){function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf("[native code]")))return Class;var fn;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(Parent,args,Class){return(_construct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var NetworkError=function(_Error){var subClass,superClass;function NetworkError(error,xhr){var _this;return void 0===xhr&&(xhr=null),(_this=_Error.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.\n\nSource error: ["+error+"]")||this).isNetworkError=!0,_this.request=xhr,_this}return superClass=_Error,(subClass=NetworkError).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,NetworkError}(_wrapNativeSuper(Error));module.exports=NetworkError},{}],xAKU:[function(require,module,exports){"use strict";var _class,_temp;function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var AuthError=require("./AuthError"),NetworkError=require("@uppy/utils/lib/NetworkError");module.exports=(_temp=_class=function(){function RequestClient(uppy,opts){this.uppy=uppy,this.opts=opts,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}var Constructor,protoProps,staticProps,_proto=RequestClient.prototype;return _proto.headers=function(){var userHeaders=this.opts.companionHeaders||this.opts.serverHeaders||{};return Promise.resolve(_extends({},this.defaultHeaders,{},userHeaders))},_proto._getPostResponseFunc=function(skip){var _this=this;return function(response){return skip?response:_this.onReceiveResponse(response)}},_proto.onReceiveResponse=function(response){var _extends2,companion=this.uppy.getState().companion||{},host=this.opts.companionUrl,headers=response.headers;headers.has("i-am")&&headers.get("i-am")!==companion[host]&&this.uppy.setState({companion:_extends({},companion,(_extends2={},_extends2[host]=headers.get("i-am"),_extends2))});return response},_proto._getUrl=function(url){return/^(https?:|)\/\//.test(url)?url:this.hostname+"/"+url},_proto._json=function(res){if(401===res.status)throw new AuthError;if(res.status<200||res.status>300){var errMsg="Failed request with status: "+res.status+". "+res.statusText;return res.json().then(function(errData){throw errMsg=errData.message?errMsg+" message: "+errData.message:errMsg,errMsg=errData.requestId?errMsg+" request-Id: "+errData.requestId:errMsg,new Error(errMsg)}).catch(function(){throw new Error(errMsg)})}return res.json()},_proto.preflight=function(path){var _this2=this;return new Promise(function(resolve,reject){if(_this2.preflightDone)return resolve(_this2.allowedHeaders.slice());fetch(_this2._getUrl(path),{method:"OPTIONS"}).then(function(response){response.headers.has("access-control-allow-headers")&&(_this2.allowedHeaders=response.headers.get("access-control-allow-headers").split(",").map(function(headerName){return headerName.trim().toLowerCase()})),_this2.preflightDone=!0,resolve(_this2.allowedHeaders.slice())}).catch(function(err){_this2.uppy.log("[CompanionClient] unable to make preflight request "+err,"warning"),_this2.preflightDone=!0,resolve(_this2.allowedHeaders.slice())})})},_proto.preflightAndHeaders=function(path){var _this3=this;return Promise.all([this.preflight(path),this.headers()]).then(function(_ref){var allowedHeaders=_ref[0],headers=_ref[1];return Object.keys(headers).forEach(function(header){-1===allowedHeaders.indexOf(header.toLowerCase())&&(_this3.uppy.log("[CompanionClient] excluding unallowed header "+header),delete headers[header])}),headers})},_proto.get=function(path,skipPostResponse){var _this4=this;return new Promise(function(resolve,reject){_this4.preflightAndHeaders(path).then(function(headers){fetch(_this4._getUrl(path),{method:"get",headers:headers,credentials:"same-origin"}).catch(function(err){throw"AbortError"===err.name?err:new NetworkError(err)}).then(_this4._getPostResponseFunc(skipPostResponse)).then(function(res){return _this4._json(res).then(resolve)}).catch(function(err){err=err.isAuthError?err:new Error("Could not get "+_this4._getUrl(path)+". "+err),reject(err)})}).catch(reject)})},_proto.post=function(path,data,skipPostResponse){var _this5=this;return new Promise(function(resolve,reject){_this5.preflightAndHeaders(path).then(function(headers){fetch(_this5._getUrl(path),{method:"post",headers:headers,credentials:"same-origin",body:JSON.stringify(data)}).catch(function(err){throw"AbortError"===err.name?err:new NetworkError(err)}).then(_this5._getPostResponseFunc(skipPostResponse)).then(function(res){return _this5._json(res).then(resolve)}).catch(function(err){err=err.isAuthError?err:new Error("Could not post "+_this5._getUrl(path)+". "+err),reject(err)})}).catch(reject)})},_proto.delete=function(path,data,skipPostResponse){var _this6=this;return new Promise(function(resolve,reject){_this6.preflightAndHeaders(path).then(function(headers){fetch(_this6.hostname+"/"+path,{method:"delete",headers:headers,credentials:"same-origin",body:data?JSON.stringify(data):null}).catch(function(err){throw"AbortError"===err.name?err:new NetworkError(err)}).then(_this6._getPostResponseFunc(skipPostResponse)).then(function(res){return _this6._json(res).then(resolve)}).catch(function(err){err=err.isAuthError?err:new Error("Could not delete "+_this6._getUrl(path)+". "+err),reject(err)})}).catch(reject)})},Constructor=RequestClient,(protoProps=[{key:"hostname",get:function(){var companion=this.uppy.getState().companion,host=this.opts.companionUrl;return(companion&&companion[host]?companion[host]:host).replace(/\/$/,"")}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client="+RequestClient.VERSION}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),RequestClient}(),_class.VERSION="1.4.3",_temp)},{"./AuthError":"xHv4","@uppy/utils/lib/NetworkError":"Rg3u"}],RWm0:[function(require,module,exports){"use strict";module.exports.setItem=function(key,value){return new Promise(function(resolve){localStorage.setItem(key,value),resolve()})},module.exports.getItem=function(key){return Promise.resolve(localStorage.getItem(key))},module.exports.removeItem=function(key){return new Promise(function(resolve){localStorage.removeItem(key),resolve()})}},{}],QEpS:[function(require,module,exports){"use strict";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var RequestClient=require("./RequestClient"),tokenStorage=require("./tokenStorage"),_getName=function(id){return id.split("-").map(function(s){return s.charAt(0).toUpperCase()+s.slice(1)}).join(" ")};module.exports=function(_RequestClient){var subClass,superClass;function Provider(uppy,opts){var _this;return(_this=_RequestClient.call(this,uppy,opts)||this).provider=opts.provider,_this.id=_this.provider,_this.authProvider=opts.authProvider||_this.provider,_this.name=_this.opts.name||_getName(_this.id),_this.pluginId=_this.opts.pluginId,_this.tokenKey="companion-"+_this.pluginId+"-auth-token",_this}superClass=_RequestClient,(subClass=Provider).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Provider.prototype;return _proto.headers=function(){var _this2=this;return new Promise(function(resolve,reject){_RequestClient.prototype.headers.call(_this2).then(function(headers){_this2.getAuthToken().then(function(token){resolve(_extends({},headers,{"uppy-auth-token":token}))})}).catch(reject)})},_proto.onReceiveResponse=function(response){response=_RequestClient.prototype.onReceiveResponse.call(this,response);var plugin=this.uppy.getPlugin(this.pluginId),authenticated=plugin.getPluginState().authenticated?401!==response.status:response.status<400;return plugin.setPluginState({authenticated:authenticated}),response},_proto.setAuthToken=function(token){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,token)},_proto.getAuthToken=function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},_proto.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},_proto.fileUrl=function(id){return this.hostname+"/"+this.id+"/get/"+id},_proto.list=function(directory){return this.get(this.id+"/list/"+(directory||""))},_proto.logout=function(){var _this3=this;return new Promise(function(resolve,reject){_this3.get(_this3.id+"/logout").then(function(res){_this3.uppy.getPlugin(_this3.pluginId).storage.removeItem(_this3.tokenKey).then(function(){return resolve(res)}).catch(reject)}).catch(reject)})},Provider.initPlugin=function(plugin,opts,defaultOpts){if(plugin.type="acquirer",plugin.files=[],defaultOpts&&(plugin.opts=_extends({},defaultOpts,opts)),opts.serverUrl||opts.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(opts.companionAllowedHosts){var pattern=opts.companionAllowedHosts;if(!("string"==typeof pattern||Array.isArray(pattern)||pattern instanceof RegExp))throw new TypeError(plugin.id+': the option "companionAllowedHosts" must be one of string, Array, RegExp');plugin.opts.companionAllowedHosts=pattern}else/^(?!https?:\/\/).*$/i.test(opts.companionUrl)?plugin.opts.companionAllowedHosts="https://"+opts.companionUrl.replace(/^\/\//,""):plugin.opts.companionAllowedHosts=opts.companionUrl;plugin.storage=plugin.opts.storage||tokenStorage},Provider}(RequestClient)},{"./RequestClient":"xAKU","./tokenStorage":"RWm0"}],YxJ3:[function(require,module,exports){var ee=require("namespace-emitter");module.exports=function(){function UppySocket(opts){this.opts=opts,this._queued=[],this.isOpen=!1,this.emitter=ee(),this._handleMessage=this._handleMessage.bind(this),this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this),opts&&!1===opts.autoOpen||this.open()}var _proto=UppySocket.prototype;return _proto.open=function(){var _this=this;this.socket=new WebSocket(this.opts.target),this.socket.onopen=function(e){for(_this.isOpen=!0;_this._queued.length>0&&_this.isOpen;){var first=_this._queued[0];_this.send(first.action,first.payload),_this._queued=_this._queued.slice(1)}},this.socket.onclose=function(e){_this.isOpen=!1},this.socket.onmessage=this._handleMessage},_proto.close=function(){this.socket&&this.socket.close()},_proto.send=function(action,payload){this.isOpen?this.socket.send(JSON.stringify({action:action,payload:payload})):this._queued.push({action:action,payload:payload})},_proto.on=function(action,handler){this.emitter.on(action,handler)},_proto.emit=function(action,payload){this.emitter.emit(action,payload)},_proto.once=function(action,handler){this.emitter.once(action,handler)},_proto._handleMessage=function(e){try{var message=JSON.parse(e.data);this.emit(message.action,message.payload)}catch(err){console.log(err)}},UppySocket}()},{"namespace-emitter":"Jb2j"}],hyfe:[function(require,module,exports){"use strict";var RequestClient=require("./RequestClient"),Provider=require("./Provider"),Socket=require("./Socket");module.exports={RequestClient:RequestClient,Provider:Provider,Socket:Socket}},{"./RequestClient":"xAKU","./Provider":"QEpS","./Socket":"YxJ3"}],TsAJ:[function(require,module,exports){var has=Object.prototype.hasOwnProperty;module.exports=function queryStringify(obj,prefix){var pairs=[];for(var key in obj)if(has.call(obj,key)){var pair,value=obj[key],enkey=encodeURIComponent(key);pair="object"==typeof value?queryStringify(value,prefix?prefix+"["+enkey+"]":enkey):(prefix?prefix+"["+enkey+"]":enkey)+"="+encodeURIComponent(value),pairs.push(pair)}return pairs.join("&")}},{}],AeKW:[function(require,module,exports){var throttle=require("lodash.throttle");module.exports=throttle(function(uploader,progressData,file){var progress=progressData.progress,bytesUploaded=progressData.bytesUploaded,bytesTotal=progressData.bytesTotal;progress&&(uploader.uppy.log("Upload progress: "+progress),uploader.uppy.emit("upload-progress",file,{uploader:uploader,bytesUploaded:bytesUploaded,bytesTotal:bytesTotal}))},300,{leading:!0,trailing:!0})},{"lodash.throttle":"FNyO"}],N2t6:[function(require,module,exports){module.exports=function(url){var host=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(url)[1];return(/^http:\/\//i.test(url)?"ws":"wss")+"://"+host}},{}],vghT:[function(require,module,exports){module.exports=function(){function EventTracker(emitter){this._events=[],this._emitter=emitter}var _proto=EventTracker.prototype;return _proto.on=function(event,fn){return this._events.push([event,fn]),this._emitter.on(event,fn)},_proto.remove=function(){var _this=this;this._events.forEach(function(_ref){var event=_ref[0],fn=_ref[1];_this._emitter.off(event,fn)})},EventTracker}()},{}],j1ax:[function(require,module,exports){var ProgressTimeout=function(){function ProgressTimeout(timeout,timeoutHandler){this._timeout=timeout,this._onTimedOut=timeoutHandler,this._isDone=!1,this._aliveTimer=null,this._onTimedOut=this._onTimedOut.bind(this)}var _proto=ProgressTimeout.prototype;return _proto.progress=function(){this._isDone||this._timeout>0&&(this._aliveTimer&&clearTimeout(this._aliveTimer),this._aliveTimer=setTimeout(this._onTimedOut,this._timeout))},_proto.done=function(){this._aliveTimer&&(clearTimeout(this._aliveTimer),this._aliveTimer=null),this._isDone=!0},ProgressTimeout}();module.exports=ProgressTimeout},{}],rjjR:[function(require,module,exports){module.exports=function(xhr){return!!xhr&&(0!==xhr.readyState&&4!==xhr.readyState||0===xhr.status)}},{}],gUFG:[function(require,module,exports){function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var cuid=require("cuid"),_require=require("@uppy/companion-client"),Provider=_require.Provider,RequestClient=_require.RequestClient,Socket=_require.Socket,emitSocketProgress=require("@uppy/utils/lib/emitSocketProgress"),getSocketHost=require("@uppy/utils/lib/getSocketHost"),EventTracker=require("@uppy/utils/lib/EventTracker"),ProgressTimeout=require("@uppy/utils/lib/ProgressTimeout"),NetworkError=require("@uppy/utils/lib/NetworkError"),isNetworkError=require("@uppy/utils/lib/isNetworkError");function buildResponseError(xhr,error){return error||(error=new Error("Upload error")),"string"==typeof error&&(error=new Error(error)),error instanceof Error||(error=_extends(new Error("Upload error"),{data:error})),isNetworkError(xhr)?error=new NetworkError(error,xhr):(error.request=xhr,error)}module.exports=function(){function MiniXHRUpload(uppy,opts){this.uppy=uppy,this.opts=_extends({validateStatus:function(status,responseText,response){return status>=200&&status<300}},opts),this.requests=opts.__queue,this.uploaderEvents=Object.create(null)}var _proto=MiniXHRUpload.prototype;return _proto._getOptions=function(file){var overrides=this.uppy.getState().xhrUpload,opts=_extends({},this.opts,{},overrides||{},{},file.xhrUpload||{},{headers:{}});return _extends(opts.headers,this.opts.headers),overrides&&_extends(opts.headers,overrides.headers),file.xhrUpload&&_extends(opts.headers,file.xhrUpload.headers),opts},_proto.uploadFile=function(id,current,total){var file=this.uppy.getFile(id);if(file.error)throw new Error(file.error);return file.isRemote?this._uploadRemoteFile(file,current,total):this._uploadLocalFile(file,current,total)},_proto._addMetadata=function(formData,meta,opts){(Array.isArray(opts.metaFields)?opts.metaFields:Object.keys(meta)).forEach(function(item){formData.append(item,meta[item])})},_proto._createFormDataUpload=function(file,opts){var formPost=new FormData;this._addMetadata(formPost,file.meta,opts);var dataWithUpdatedType=function(file){return file.data.slice(0,file.data.size,file.meta.type)}(file);return file.name?formPost.append(opts.fieldName,dataWithUpdatedType,file.meta.name):formPost.append(opts.fieldName,dataWithUpdatedType),formPost},_proto._createBareUpload=function(file,opts){return file.data},_proto._onFileRemoved=function(fileID,cb){this.uploaderEvents[fileID].on("file-removed",function(file){fileID===file.id&&cb(file.id)})},_proto._onRetry=function(fileID,cb){this.uploaderEvents[fileID].on("upload-retry",function(targetFileID){fileID===targetFileID&&cb()})},_proto._onRetryAll=function(fileID,cb){var _this=this;this.uploaderEvents[fileID].on("retry-all",function(filesToRetry){_this.uppy.getFile(fileID)&&cb()})},_proto._onCancelAll=function(fileID,cb){var _this2=this;this.uploaderEvents[fileID].on("cancel-all",function(){_this2.uppy.getFile(fileID)&&cb()})},_proto._uploadLocalFile=function(file,current,total){var _this3=this,opts=this._getOptions(file);return this.uppy.log("uploading "+current+" of "+total),new Promise(function(resolve,reject){var data=opts.formData?_this3._createFormDataUpload(file,opts):_this3._createBareUpload(file,opts),xhr=new XMLHttpRequest;_this3.uploaderEvents[file.id]=new EventTracker(_this3.uppy);var timer=new ProgressTimeout(opts.timeout,function(){xhr.abort(),queuedRequest.done();var error=new Error(_this3.i18n("timedOut",{seconds:Math.ceil(opts.timeout/1e3)}));_this3.uppy.emit("upload-error",file,error),reject(error)}),id=cuid();xhr.upload.addEventListener("loadstart",function(ev){_this3.uppy.log("[AwsS3/XHRUpload] "+id+" started")}),xhr.upload.addEventListener("progress",function(ev){_this3.uppy.log("[AwsS3/XHRUpload] "+id+" progress: "+ev.loaded+" / "+ev.total),timer.progress(),ev.lengthComputable&&_this3.uppy.emit("upload-progress",file,{uploader:_this3,bytesUploaded:ev.loaded,bytesTotal:ev.total})}),xhr.addEventListener("load",function(ev){if(_this3.uppy.log("[AwsS3/XHRUpload] "+id+" finished"),timer.done(),queuedRequest.done(),_this3.uploaderEvents[file.id]&&(_this3.uploaderEvents[file.id].remove(),_this3.uploaderEvents[file.id]=null),opts.validateStatus(ev.target.status,xhr.responseText,xhr)){var body=opts.getResponseData(xhr.responseText,xhr),uploadURL=body[opts.responseUrlFieldName],uploadResp={status:ev.target.status,body:body,uploadURL:uploadURL};return _this3.uppy.emit("upload-success",file,uploadResp),uploadURL&&_this3.uppy.log("Download "+file.name+" from "+uploadURL),resolve(file)}var _body=opts.getResponseData(xhr.responseText,xhr),error=buildResponseError(xhr,opts.getResponseError(xhr.responseText,xhr)),response={status:ev.target.status,body:_body};return _this3.uppy.emit("upload-error",file,error,response),reject(error)}),xhr.addEventListener("error",function(ev){_this3.uppy.log("[AwsS3/XHRUpload] "+id+" errored"),timer.done(),queuedRequest.done(),_this3.uploaderEvents[file.id]&&(_this3.uploaderEvents[file.id].remove(),_this3.uploaderEvents[file.id]=null);var error=buildResponseError(xhr,opts.getResponseError(xhr.responseText,xhr));return _this3.uppy.emit("upload-error",file,error),reject(error)}),xhr.open(opts.method.toUpperCase(),opts.endpoint,!0),xhr.withCredentials=opts.withCredentials,""!==opts.responseType&&(xhr.responseType=opts.responseType),Object.keys(opts.headers).forEach(function(header){xhr.setRequestHeader(header,opts.headers[header])});var queuedRequest=_this3.requests.run(function(){return xhr.send(data),function(){timer.done(),xhr.abort()}},{priority:1});_this3._onFileRemoved(file.id,function(){queuedRequest.abort(),reject(new Error("File removed"))}),_this3._onCancelAll(file.id,function(){queuedRequest.abort(),reject(new Error("Upload cancelled"))})})},_proto._uploadRemoteFile=function(file,current,total){var _this4=this,opts=this._getOptions(file);return new Promise(function(resolve,reject){var fields={};(Array.isArray(opts.metaFields)?opts.metaFields:Object.keys(file.meta)).forEach(function(name){fields[name]=file.meta[name]}),new(file.remote.providerOptions.provider?Provider:RequestClient)(_this4.uppy,file.remote.providerOptions).post(file.remote.url,_extends({},file.remote.body,{endpoint:opts.endpoint,size:file.data.size,fieldname:opts.fieldName,metadata:fields,httpMethod:opts.method,useFormData:opts.formData,headers:opts.headers})).then(function(res){var token=res.token,host=getSocketHost(file.remote.companionUrl),socket=new Socket({target:host+"/api/"+token,autoOpen:!1});_this4.uploaderEvents[file.id]=new EventTracker(_this4.uppy),_this4._onFileRemoved(file.id,function(){socket.send("pause",{}),queuedRequest.abort(),resolve("upload "+file.id+" was removed")}),_this4._onCancelAll(file.id,function(){socket.send("pause",{}),queuedRequest.abort(),resolve("upload "+file.id+" was canceled")}),_this4._onRetry(file.id,function(){socket.send("pause",{}),socket.send("resume",{})}),_this4._onRetryAll(file.id,function(){socket.send("pause",{}),socket.send("resume",{})}),socket.on("progress",function(progressData){return emitSocketProgress(_this4,progressData,file)}),socket.on("success",function(data){var body=opts.getResponseData(data.response.responseText,data.response),uploadURL=body[opts.responseUrlFieldName],uploadResp={status:data.response.status,body:body,uploadURL:uploadURL};return _this4.uppy.emit("upload-success",file,uploadResp),queuedRequest.done(),_this4.uploaderEvents[file.id]&&(_this4.uploaderEvents[file.id].remove(),_this4.uploaderEvents[file.id]=null),resolve()}),socket.on("error",function(errData){var resp=errData.response,error=resp?opts.getResponseError(resp.responseText,resp):_extends(new Error(errData.error.message),{cause:errData.error});_this4.uppy.emit("upload-error",file,error),queuedRequest.done(),_this4.uploaderEvents[file.id]&&(_this4.uploaderEvents[file.id].remove(),_this4.uploaderEvents[file.id]=null),reject(error)});var queuedRequest=_this4.requests.run(function(){return socket.open(),file.isPaused&&socket.send("pause",{}),function(){return socket.close()}})}).catch(function(err){_this4.uppy.emit("upload-error",file,err),reject(err)})})},MiniXHRUpload}()},{cuid:"Kk0o","@uppy/companion-client":"hyfe","@uppy/utils/lib/emitSocketProgress":"AeKW","@uppy/utils/lib/getSocketHost":"N2t6","@uppy/utils/lib/EventTracker":"vghT","@uppy/utils/lib/ProgressTimeout":"j1ax","@uppy/utils/lib/NetworkError":"Rg3u","@uppy/utils/lib/isNetworkError":"rjjR"}],iYSd:[function(require,module,exports){var _class,_temp;function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var URL_="function"==typeof URL?URL:require("url-parse"),Plugin=require("@uppy/core").Plugin,RateLimitedQueue=require("@uppy/utils/lib/RateLimitedQueue"),settle=require("@uppy/utils/lib/settle"),hasProperty=require("@uppy/utils/lib/hasProperty"),RequestClient=require("@uppy/companion-client").RequestClient,qsStringify=require("qs-stringify"),MiniXHRUpload=require("./MiniXHRUpload");function isXml(content,xhr){var rawContentType=xhr.headers?xhr.headers["content-type"]:xhr.getResponseHeader("Content-Type");if(null===rawContentType)return!1;var contentType=rawContentType.replace(/;.*$/,"").toLowerCase();if("string"==typeof contentType){if("application/xml"===contentType||"text/xml"===contentType)return!0;if("text/html"===contentType&&/^<\?xml /.test(content))return!0}return!1}function getXmlValue(source,key){var start=source.indexOf("<"+key+">"),end=source.indexOf("</"+key+">",start);return-1!==start&&-1!==end?source.slice(start+key.length+2,end):""}function assertServerError(res){if(res&&res.error){var error=new Error(res.message);throw _extends(error,res.error),error}return res}var warnedSuccessActionStatus=!1;module.exports=(_temp=_class=function(_Plugin){var subClass,superClass;function AwsS3(uppy,opts){var _this;(_this=_Plugin.call(this,uppy,opts)||this).type="uploader",_this.id=_this.opts.id||"AwsS3",_this.title="AWS S3";var defaultOptions={timeout:3e4,limit:0,metaFields:[],getUploadParameters:_this.getUploadParameters.bind(_assertThisInitialized(_this))};return _this.opts=_extends({},defaultOptions,{},opts),_this.client=new RequestClient(uppy,opts),_this.handleUpload=_this.handleUpload.bind(_assertThisInitialized(_this)),_this.requests=new RateLimitedQueue(_this.opts.limit),_this}superClass=_Plugin,(subClass=AwsS3).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=AwsS3.prototype;return _proto.getUploadParameters=function(file){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var filename=file.meta.name,type=file.meta.type,metadata={};this.opts.metaFields.forEach(function(key){null!=file.meta[key]&&(metadata[key]=file.meta[key].toString())});var query=qsStringify({filename:filename,type:type,metadata:metadata});return this.client.get("s3/params?"+query).then(assertServerError)},_proto.validateParameters=function(file,params){if(!("object"==typeof params&&params&&"string"==typeof params.url&&("object"==typeof params.fields||null==params.fields)&&(null==params.method||/^(put|post)$/i.test(params.method)))){var err=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '"+file.name+"', expected an object '{ url, method, fields, headers }'.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.");throw console.error(err),err}},_proto.handleUpload=function(fileIDs){var _this2=this,paramsPromises=Object.create(null);function onremove(file){var id=file.id;hasProperty(paramsPromises,id)&&paramsPromises[id].abort()}this.uppy.on("file-removed",onremove),fileIDs.forEach(function(id){var file=_this2.uppy.getFile(id);_this2.uppy.emit("upload-started",file)});var getUploadParameters=this.requests.wrapPromiseFunction(function(file){return _this2.opts.getUploadParameters(file)}),numberOfFiles=fileIDs.length;return settle(fileIDs.map(function(id,index){var file=_this2.uppy.getFile(id);return paramsPromises[id]=getUploadParameters(file),paramsPromises[id].then(function(params){delete paramsPromises[id],_this2.validateParameters(file,params);var _params$method=params.method,method=void 0===_params$method?"post":_params$method,url=params.url,fields=params.fields,headers=params.headers,xhrOpts={method:method,formData:"post"===method.toLowerCase(),endpoint:url,metaFields:fields?Object.keys(fields):[]};return headers&&(xhrOpts.headers=headers),_this2.uppy.setFileState(file.id,{meta:_extends({},file.meta,{},fields),xhrUpload:xhrOpts}),_this2._uploader.uploadFile(file.id,index,numberOfFiles)}).catch(function(error){delete paramsPromises[id],_this2.uppy.emit("upload-error",file,error)})})).then(function(settled){return _this2.uppy.off("file-removed",onremove),settled})},_proto.install=function(){var uppy=this.uppy;this.uppy.addUploader(this.handleUpload);var xhrOptions={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,__queue:this.requests,responseType:"text",getResponseData:this.opts.getResponseData||function(content,xhr){var origin,link;return isXml(content,xhr)?{location:(origin=xhr.responseURL,link=getXmlValue(content,"Location"),origin?new URL_(link,origin).toString():new URL_(link).toString()),bucket:getXmlValue(content,"Bucket"),key:getXmlValue(content,"Key"),etag:getXmlValue(content,"ETag")}:"POST"===this.method.toUpperCase()?(warnedSuccessActionStatus||(uppy.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),warnedSuccessActionStatus=!0),{location:null}):xhr.responseURL?{location:xhr.responseURL.replace(/\?.*$/,"")}:{location:null}},getResponseError:function(content,xhr){if(isXml(content,xhr)){var error=getXmlValue(content,"Message");return new Error(error)}}};this._uploader=new MiniXHRUpload(this.uppy,xhrOptions),this._uploader.i18n=this.uppy.i18n},_proto.uninstall=function(){this.uppy.removePreProcessor(this.handleUpload)},AwsS3}(Plugin),_class.VERSION="1.6.3",_temp)},{"url-parse":"xKrr","@uppy/core":"Mcra","@uppy/utils/lib/RateLimitedQueue":"Hjxq","@uppy/utils/lib/settle":"RYSo","@uppy/utils/lib/hasProperty":"nrg4","@uppy/companion-client":"hyfe","qs-stringify":"TsAJ","./MiniXHRUpload":"gUFG"}],Pro7:[function(require,module,exports){"use strict";var LogLevel;Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogLevel=void 0,exports.LogLevel=LogLevel,function(LogLevel){LogLevel[LogLevel.None=0]="None",LogLevel[LogLevel.Error=1]="Error",LogLevel[LogLevel.Debug=2]="Debug",LogLevel[LogLevel.Verbose=3]="Verbose"}(LogLevel||(exports.LogLevel=LogLevel={}))},{}],glSR:[function(require,module,exports){"use strict";var Severity;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Severity=void 0,exports.Severity=Severity,function(Severity){Severity.Fatal="fatal",Severity.Error="error",Severity.Warning="warning",Severity.Log="log",Severity.Info="info",Severity.Debug="debug",Severity.Critical="critical"}(Severity||(exports.Severity=Severity={})),function(Severity){Severity.fromString=function(level){switch(level){case"debug":return Severity.Debug;case"info":return Severity.Info;case"warn":case"warning":return Severity.Warning;case"error":return Severity.Error;case"fatal":return Severity.Fatal;case"critical":return Severity.Critical;case"log":default:return Severity.Log}}}(Severity||(exports.Severity=Severity={}))},{}],ZFP0:[function(require,module,exports){"use strict";var SpanStatus;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpanStatus=void 0,exports.SpanStatus=SpanStatus,function(SpanStatus){SpanStatus.Ok="ok",SpanStatus.DeadlineExceeded="deadline_exceeded",SpanStatus.Unauthenticated="unauthenticated",SpanStatus.PermissionDenied="permission_denied",SpanStatus.NotFound="not_found",SpanStatus.ResourceExhausted="resource_exhausted",SpanStatus.InvalidArgument="invalid_argument",SpanStatus.Unimplemented="unimplemented",SpanStatus.Unavailable="unavailable",SpanStatus.InternalError="internal_error",SpanStatus.UnknownError="unknown_error",SpanStatus.Cancelled="cancelled",SpanStatus.AlreadyExists="already_exists",SpanStatus.FailedPrecondition="failed_precondition",SpanStatus.Aborted="aborted",SpanStatus.OutOfRange="out_of_range",SpanStatus.DataLoss="data_loss"}(SpanStatus||(exports.SpanStatus=SpanStatus={})),function(SpanStatus){SpanStatus.fromHttpCode=function(httpStatus){if(httpStatus<400)return SpanStatus.Ok;if(httpStatus>=400&&httpStatus<500)switch(httpStatus){case 401:return SpanStatus.Unauthenticated;case 403:return SpanStatus.PermissionDenied;case 404:return SpanStatus.NotFound;case 409:return SpanStatus.AlreadyExists;case 413:return SpanStatus.FailedPrecondition;case 429:return SpanStatus.ResourceExhausted;default:return SpanStatus.InvalidArgument}if(httpStatus>=500&&httpStatus<600)switch(httpStatus){case 501:return SpanStatus.Unimplemented;case 503:return SpanStatus.Unavailable;case 504:return SpanStatus.DeadlineExceeded;default:return SpanStatus.InternalError}return SpanStatus.UnknownError}}(SpanStatus||(exports.SpanStatus=SpanStatus={}))},{}],PQXu:[function(require,module,exports){"use strict";var Status;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Status=void 0,exports.Status=Status,function(Status){Status.Unknown="unknown",Status.Skipped="skipped",Status.Success="success",Status.RateLimit="rate_limit",Status.Invalid="invalid",Status.Failed="failed"}(Status||(exports.Status=Status={})),function(Status){Status.fromHttpCode=function(code){return code>=200&&code<300?Status.Success:429===code?Status.RateLimit:code>=400&&code<500?Status.Invalid:code>=500?Status.Failed:Status.Unknown}}(Status||(exports.Status=Status={}))},{}],vYhp:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"LogLevel",{enumerable:!0,get:function(){return _loglevel.LogLevel}}),Object.defineProperty(exports,"Severity",{enumerable:!0,get:function(){return _severity.Severity}}),Object.defineProperty(exports,"SpanStatus",{enumerable:!0,get:function(){return _span.SpanStatus}}),Object.defineProperty(exports,"Status",{enumerable:!0,get:function(){return _status.Status}});var _loglevel=require("./loglevel"),_severity=require("./severity"),_span=require("./span"),_status=require("./status")},{"./loglevel":"Pro7","./severity":"glSR","./span":"ZFP0","./status":"PQXu"}],PHfu:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.forget=function(promise){promise.then(null,function(e){console.error(e)})}},{}],RzbR:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setPrototypeOf=void 0;var setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(obj,proto){return obj.__proto__=proto,obj}:function(obj,proto){for(var prop in proto)obj.hasOwnProperty(prop)||(obj[prop]=proto[prop]);return obj});exports.setPrototypeOf=setPrototypeOf},{}],IhUY:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SentryError=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_polyfill=require("./polyfill");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SentryError=function(_super){function SentryError(message){var _newTarget=this.constructor,_this=_super.call(this,message)||this;return _this.message=message,_this.name=_newTarget.prototype.constructor.name,(0,_polyfill.setPrototypeOf)(_this,_newTarget.prototype),_this}return tslib_1.__extends(SentryError,_super),SentryError}(Error);exports.SentryError=SentryError},{tslib:"vCxL","./polyfill":"RzbR"}],cixp:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function isPlainObject(wat){return"[object Object]"===Object.prototype.toString.call(wat)}function isInstanceOf(wat,base){try{return wat instanceof base}catch(_e){return!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isError=function(wat){switch(Object.prototype.toString.call(wat)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(wat,Error)}},exports.isErrorEvent=function(wat){return"[object ErrorEvent]"===Object.prototype.toString.call(wat)},exports.isDOMError=function(wat){return"[object DOMError]"===Object.prototype.toString.call(wat)},exports.isDOMException=function(wat){return"[object DOMException]"===Object.prototype.toString.call(wat)},exports.isString=function(wat){return"[object String]"===Object.prototype.toString.call(wat)},exports.isPrimitive=function(wat){return null===wat||"object"!==_typeof(wat)&&"function"!=typeof wat},exports.isPlainObject=isPlainObject,exports.isEvent=function(wat){return"undefined"!=typeof Event&&isInstanceOf(wat,Event)},exports.isElement=function(wat){return"undefined"!=typeof Element&&isInstanceOf(wat,Element)},exports.isRegExp=function(wat){return"[object RegExp]"===Object.prototype.toString.call(wat)},exports.isThenable=function(wat){return Boolean(wat&&wat.then&&"function"==typeof wat.then)},exports.isSyntheticEvent=function(wat){return isPlainObject(wat)&&"nativeEvent"in wat&&"preventDefault"in wat&&"stopPropagation"in wat},exports.isInstanceOf=isInstanceOf},{}],EomM:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.truncate=function(str,max){void 0===max&&(max=0);if("string"!=typeof str||0===max)return str;return str.length<=max?str:str.substr(0,max)+"..."},exports.snipLine=function(line,colno){var newLine=line,ll=newLine.length;if(ll<=150)return newLine;colno>ll&&(colno=ll);var start=Math.max(colno-60,0);start<5&&(start=0);var end=Math.min(start+140,ll);end>ll-5&&(end=ll);end===ll&&(start=Math.max(end-140,0));newLine=newLine.slice(start,end),start>0&&(newLine="'{snip} "+newLine);end<ll&&(newLine+=" {snip}");return newLine},exports.safeJoin=function(input,delimiter){if(!Array.isArray(input))return"";for(var output=[],i=0;i<input.length;i++){var value=input[i];try{output.push(String(value))}catch(e){output.push("[value cannot be serialized]")}}return output.join(delimiter)},exports.isMatchingPattern=function(value,pattern){if((0,_is.isRegExp)(pattern))return pattern.test(value);if("string"==typeof pattern)return-1!==value.indexOf(pattern);return!1};var _is=require("./is")},{"./is":"cixp"}],CNBN:[function(require,module,exports){var process=require("process"),global=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.dynamicRequire=dynamicRequire,exports.isNodeEnv=isNodeEnv,exports.getGlobalObject=getGlobalObject,exports.uuid4=function(){var global=getGlobalObject(),crypto=global.crypto||global.msCrypto;if(void 0!==crypto&&crypto.getRandomValues){var arr=new Uint16Array(8);crypto.getRandomValues(arr),arr[3]=4095&arr[3]|16384,arr[4]=16383&arr[4]|32768;var pad=function(num){for(var v=num.toString(16);v.length<4;)v="0"+v;return v};return pad(arr[0])+pad(arr[1])+pad(arr[2])+pad(arr[3])+pad(arr[4])+pad(arr[5])+pad(arr[6])+pad(arr[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0,v="x"===c?r:3&r|8;return v.toString(16)})},exports.parseUrl=function(url){if(!url)return{};var match=url.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!match)return{};var query=match[6]||"",fragment=match[8]||"";return{host:match[4],path:match[5],protocol:match[2],relative:match[5]+query+fragment}},exports.getEventDescription=function(event){if(event.message)return event.message;if(event.exception&&event.exception.values&&event.exception.values[0]){var exception=event.exception.values[0];return exception.type&&exception.value?exception.type+": "+exception.value:exception.type||exception.value||event.event_id||"<unknown>"}return event.event_id||"<unknown>"},exports.consoleSandbox=function(callback){var global=getGlobalObject();if(!("console"in global))return callback();var originalConsole=global.console,wrappedLevels={};["debug","info","warn","error","log","assert"].forEach(function(level){level in global.console&&originalConsole[level].__sentry_original__&&(wrappedLevels[level]=originalConsole[level],originalConsole[level]=originalConsole[level].__sentry_original__)});var result=callback();return Object.keys(wrappedLevels).forEach(function(level){originalConsole[level]=wrappedLevels[level]}),result},exports.addExceptionTypeValue=function(event,value,type){event.exception=event.exception||{},event.exception.values=event.exception.values||[],event.exception.values[0]=event.exception.values[0]||{},event.exception.values[0].value=event.exception.values[0].value||value||"",event.exception.values[0].type=event.exception.values[0].type||type||"Error"},exports.addExceptionMechanism=function(event,mechanism){void 0===mechanism&&(mechanism={});try{event.exception.values[0].mechanism=event.exception.values[0].mechanism||{},Object.keys(mechanism).forEach(function(key){event.exception.values[0].mechanism[key]=mechanism[key]})}catch(_oO){}},exports.getLocationHref=function(){try{return document.location.href}catch(oO){return""}},exports.htmlTreeAsString=function(elem){try{for(var currentElem=elem,out=[],height=0,len=0,sepLength=" > ".length,nextStr=void 0;currentElem&&height++<5&&!("html"===(nextStr=_htmlElementAsString(currentElem))||height>1&&len+out.length*sepLength+nextStr.length>=80);)out.push(nextStr),len+=nextStr.length,currentElem=currentElem.parentNode;return out.reverse().join(" > ")}catch(_oO){return"<unknown>"}},exports.timestampWithMs=function(){return(crossPlatformPerformance.timeOrigin+crossPlatformPerformance.now())/1e3},exports.parseSemver=function(input){var match=input.match(SEMVER_REGEXP)||[],major=parseInt(match[1],10),minor=parseInt(match[2],10),patch=parseInt(match[3],10);return{buildmetadata:match[5],major:isNaN(major)?void 0:major,minor:isNaN(minor)?void 0:minor,patch:isNaN(patch)?void 0:patch,prerelease:match[4]}},exports.parseRetryAfterHeader=function(now,header){if(!header)return defaultRetryAfter;var headerDelay=parseInt(""+header,10);if(!isNaN(headerDelay))return 1e3*headerDelay;var headerDate=Date.parse(""+header);if(!isNaN(headerDate))return headerDate-now;return defaultRetryAfter},exports.getFunctionName=function(fn){try{return fn&&"function"==typeof fn&&fn.name||defaultFunctionName}catch(e){return defaultFunctionName}},exports.addContextToFrame=function(lines,frame,linesOfContext){void 0===linesOfContext&&(linesOfContext=5);var lineno=frame.lineno||0,maxLines=lines.length,sourceLine=Math.max(Math.min(maxLines,lineno-1),0);frame.pre_context=lines.slice(Math.max(0,sourceLine-linesOfContext),sourceLine).map(function(line){return(0,_string.snipLine)(line,0)}),frame.context_line=(0,_string.snipLine)(lines[Math.min(maxLines-1,sourceLine)],frame.colno||0),frame.post_context=lines.slice(Math.min(sourceLine+1,maxLines),sourceLine+1+linesOfContext).map(function(line){return(0,_string.snipLine)(line,0)})},exports.crossPlatformPerformance=void 0;var _is=require("./is"),_string=require("./string");function dynamicRequire(mod,request){return mod.require(request)}function isNodeEnv(){return"[object process]"===Object.prototype.toString.call(void 0!==process?process:0)}var fallbackGlobalObject={};function getGlobalObject(){return isNodeEnv()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:fallbackGlobalObject}function _htmlElementAsString(el){var className,classes,key,attr,i,elem=el,out=[];if(!elem||!elem.tagName)return"";if(out.push(elem.tagName.toLowerCase()),elem.id&&out.push("#"+elem.id),(className=elem.className)&&(0,_is.isString)(className))for(classes=className.split(/\s+/),i=0;i<classes.length;i++)out.push("."+classes[i]);var attrWhitelist=["type","name","title","alt"];for(i=0;i<attrWhitelist.length;i++)key=attrWhitelist[i],(attr=elem.getAttribute(key))&&out.push("["+key+'="'+attr+'"]');return out.join("")}var INITIAL_TIME=Date.now(),prevNow=0,performanceFallback={now:function(){var now=Date.now()-INITIAL_TIME;return now<prevNow&&(now=prevNow),prevNow=now,now},timeOrigin:INITIAL_TIME},crossPlatformPerformance=function(){if(isNodeEnv())try{return dynamicRequire(module,"perf_hooks").performance}catch(_){return performanceFallback}return getGlobalObject().performance&&void 0===performance.timeOrigin&&(performance.timeOrigin=performance.timing&&performance.timing.navigationStart||INITIAL_TIME),getGlobalObject().performance||performanceFallback}();exports.crossPlatformPerformance=crossPlatformPerformance;var SEMVER_REGEXP=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;var defaultRetryAfter=6e4;var defaultFunctionName="<anonymous>"},{"./is":"cixp","./string":"EomM",process:"pBGv"}],ZYOL:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.logger=void 0;var _misc=require("./misc"),global=(0,_misc.getGlobalObject)(),PREFIX="Sentry Logger ",Logger=function(){function Logger(){this._enabled=!1}return Logger.prototype.disable=function(){this._enabled=!1},Logger.prototype.enable=function(){this._enabled=!0},Logger.prototype.log=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&(0,_misc.consoleSandbox)(function(){global.console.log(PREFIX+"[Log]: "+args.join(" "))})},Logger.prototype.warn=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&(0,_misc.consoleSandbox)(function(){global.console.warn(PREFIX+"[Warn]: "+args.join(" "))})},Logger.prototype.error=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&(0,_misc.consoleSandbox)(function(){global.console.error(PREFIX+"[Error]: "+args.join(" "))})},Logger}();global.__SENTRY__=global.__SENTRY__||{};var logger=global.__SENTRY__.logger||(global.__SENTRY__.logger=new Logger);exports.logger=logger},{"./misc":"CNBN"}],dPzZ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Memo=void 0;var Memo=function(){function Memo(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return Memo.prototype.memoize=function(obj){if(this._hasWeakSet)return!!this._inner.has(obj)||(this._inner.add(obj),!1);for(var i=0;i<this._inner.length;i++){if(this._inner[i]===obj)return!0}return this._inner.push(obj),!1},Memo.prototype.unmemoize=function(obj){if(this._hasWeakSet)this._inner.delete(obj);else for(var i=0;i<this._inner.length;i++)if(this._inner[i]===obj){this._inner.splice(i,1);break}},Memo}();exports.Memo=Memo},{}],f2BT:[function(require,module,exports){var global=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.fill=function(source,name,replacement){if(!(name in source))return;var original=source[name],wrapped=replacement(original);if("function"==typeof wrapped)try{wrapped.prototype=wrapped.prototype||{},Object.defineProperties(wrapped,{__sentry_original__:{enumerable:!1,value:original}})}catch(_Oo){}source[name]=wrapped},exports.urlEncode=function(object){return Object.keys(object).map(function(key){return encodeURIComponent(key)+"="+encodeURIComponent(object[key])}).join("&")},exports.normalizeToSize=function normalizeToSize(object,depth,maxSize){void 0===depth&&(depth=3);void 0===maxSize&&(maxSize=102400);var serialized=normalize(object,depth);if(value=serialized,function(value){return~-encodeURI(value).split(/%..|./).length}(JSON.stringify(value))>maxSize)return normalizeToSize(object,depth-1,maxSize);var value;return serialized},exports.walk=walk,exports.normalize=normalize,exports.extractExceptionKeysForMessage=function(exception,maxLength){void 0===maxLength&&(maxLength=40);var keys=Object.keys(getWalkSource(exception));if(keys.sort(),!keys.length)return"[object has no keys]";if(keys[0].length>=maxLength)return(0,_string.truncate)(keys[0],maxLength);for(var includedKeys=keys.length;includedKeys>0;includedKeys--){var serialized=keys.slice(0,includedKeys).join(", ");if(!(serialized.length>maxLength))return includedKeys===keys.length?serialized:(0,_string.truncate)(serialized,maxLength)}return""},exports.dropUndefinedKeys=function dropUndefinedKeys(val){var e_1,_a;if((0,_is.isPlainObject)(val)){var obj=val,rv={};try{for(var _b=tslib_1.__values(Object.keys(obj)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value;void 0!==obj[key]&&(rv[key]=dropUndefinedKeys(obj[key]))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return rv}if(Array.isArray(val))return val.map(dropUndefinedKeys);return val};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_is=require("./is"),_memo=require("./memo"),_misc=require("./misc"),_string=require("./string");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function getWalkSource(value){if((0,_is.isError)(value)){var error=value,err={message:error.message,name:error.name,stack:error.stack};for(var i in error)Object.prototype.hasOwnProperty.call(error,i)&&(err[i]=error[i]);return err}if((0,_is.isEvent)(value)){var event_1=value,source={};source.type=event_1.type;try{source.target=(0,_is.isElement)(event_1.target)?(0,_misc.htmlTreeAsString)(event_1.target):Object.prototype.toString.call(event_1.target)}catch(_oO){source.target="<unknown>"}try{source.currentTarget=(0,_is.isElement)(event_1.currentTarget)?(0,_misc.htmlTreeAsString)(event_1.currentTarget):Object.prototype.toString.call(event_1.currentTarget)}catch(_oO){source.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&(0,_is.isInstanceOf)(value,CustomEvent)&&(source.detail=event_1.detail),event_1)Object.prototype.hasOwnProperty.call(event_1,i)&&(source[i]=event_1);return source}return value}function normalizeValue(value,key){return"domain"===key&&value&&"object"===_typeof(value)&&value._events?"[Domain]":"domainEmitter"===key?"[DomainEmitter]":void 0!==global&&value===global?"[Global]":"undefined"!=typeof window&&value===window?"[Window]":"undefined"!=typeof document&&value===document?"[Document]":(0,_is.isSyntheticEvent)(value)?"[SyntheticEvent]":"number"==typeof value&&value!=value?"[NaN]":void 0===value?"[undefined]":"function"==typeof value?"[Function: "+(0,_misc.getFunctionName)(value)+"]":value}function walk(key,value,depth,memo){if(void 0===depth&&(depth=1/0),void 0===memo&&(memo=new _memo.Memo),0===depth)return function(value){var type=Object.prototype.toString.call(value);if("string"==typeof value)return value;if("[object Object]"===type)return"[Object]";if("[object Array]"===type)return"[Array]";var normalized=normalizeValue(value);return(0,_is.isPrimitive)(normalized)?normalized:type}(value);if(null!==value&&void 0!==value&&"function"==typeof value.toJSON)return value.toJSON();var normalized=normalizeValue(value,key);if((0,_is.isPrimitive)(normalized))return normalized;var source=getWalkSource(value),acc=Array.isArray(value)?[]:{};if(memo.memoize(value))return"[Circular ~]";for(var innerKey in source)Object.prototype.hasOwnProperty.call(source,innerKey)&&(acc[innerKey]=walk(innerKey,source[innerKey],depth-1,memo));return memo.unmemoize(value),acc}function normalize(input,depth){try{return JSON.parse(JSON.stringify(input,function(key,value){return walk(key,value,depth)}))}catch(_oO){return"**non-serializable**"}}},{tslib:"vCxL","./is":"cixp","./memo":"dPzZ","./misc":"CNBN","./string":"EomM"}],bF34:[function(require,module,exports){"use strict";function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolve=resolve,exports.relative=function(from,to){from=resolve(from).substr(1),to=resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return(outputParts=outputParts.concat(toParts.slice(samePartsLength))).join("/")},exports.normalizePath=normalizePath,exports.isAbsolute=isAbsolute,exports.join=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return normalizePath(args.join("/"))},exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir)return".";dir&&(dir=dir.substr(0,dir.length-1));return root+dir},exports.basename=function(path,ext){var f=splitPath(path)[2];ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length));return f};var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function splitPath(filename){var parts=splitPathRe.exec(filename);return parts?parts.slice(1):[]}function resolve(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];for(var resolvedPath="",resolvedAbsolute=!1,i=args.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?args[i]:"/";path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(resolvedPath.split("/").filter(function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."}function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}function normalizePath(path){var isPathAbsolute=isAbsolute(path),trailingSlash="/"===path.substr(-1),normalizedPath=normalizeArray(path.split("/").filter(function(p){return!!p}),!isPathAbsolute).join("/");return normalizedPath||isPathAbsolute||(normalizedPath="."),normalizedPath&&trailingSlash&&(normalizedPath+="/"),(isPathAbsolute?"/":"")+normalizedPath}function isAbsolute(path){return"/"===path.charAt(0)}},{}],EwT2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SyncPromise=void 0;var States,_is=require("./is");!function(States){States.PENDING="PENDING",States.RESOLVED="RESOLVED",States.REJECTED="REJECTED"}(States||(States={}));var SyncPromise=function(){function SyncPromise(executor){var _this=this;this._state=States.PENDING,this._handlers=[],this._resolve=function(value){_this._setResult(States.RESOLVED,value)},this._reject=function(reason){_this._setResult(States.REJECTED,reason)},this._setResult=function(state,value){_this._state===States.PENDING&&((0,_is.isThenable)(value)?value.then(_this._resolve,_this._reject):(_this._state=state,_this._value=value,_this._executeHandlers()))},this._attachHandler=function(handler){_this._handlers=_this._handlers.concat(handler),_this._executeHandlers()},this._executeHandlers=function(){if(_this._state!==States.PENDING){var cachedHandlers=_this._handlers.slice();_this._handlers=[],cachedHandlers.forEach(function(handler){handler.done||(_this._state===States.RESOLVED&&handler.onfulfilled&&handler.onfulfilled(_this._value),_this._state===States.REJECTED&&handler.onrejected&&handler.onrejected(_this._value),handler.done=!0)})}};try{executor(this._resolve,this._reject)}catch(e){this._reject(e)}}return SyncPromise.prototype.toString=function(){return"[object SyncPromise]"},SyncPromise.resolve=function(value){return new SyncPromise(function(resolve){resolve(value)})},SyncPromise.reject=function(reason){return new SyncPromise(function(_,reject){reject(reason)})},SyncPromise.all=function(collection){return new SyncPromise(function(resolve,reject){if(Array.isArray(collection))if(0!==collection.length){var counter=collection.length,resolvedCollection=[];collection.forEach(function(item,index){SyncPromise.resolve(item).then(function(value){resolvedCollection[index]=value,0===(counter-=1)&&resolve(resolvedCollection)}).then(null,reject)})}else resolve([]);else reject(new TypeError("Promise.all requires an array as input."))})},SyncPromise.prototype.then=function(onfulfilled,onrejected){var _this=this;return new SyncPromise(function(resolve,reject){_this._attachHandler({done:!1,onfulfilled:function(result){if(onfulfilled)try{return void resolve(onfulfilled(result))}catch(e){return void reject(e)}else resolve(result)},onrejected:function(reason){if(onrejected)try{return void resolve(onrejected(reason))}catch(e){return void reject(e)}else reject(reason)}})})},SyncPromise.prototype.catch=function(onrejected){return this.then(function(val){return val},onrejected)},SyncPromise.prototype.finally=function(onfinally){var _this=this;return new SyncPromise(function(resolve,reject){var val,isRejected;return _this.then(function(value){isRejected=!1,val=value,onfinally&&onfinally()},function(reason){isRejected=!0,val=reason,onfinally&&onfinally()}).then(function(){isRejected?reject(val):resolve(val)})})},SyncPromise}();exports.SyncPromise=SyncPromise},{"./is":"cixp"}],WUuT:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PromiseBuffer=void 0;var _error=require("./error"),_syncpromise=require("./syncpromise"),PromiseBuffer=function(){function PromiseBuffer(_limit){this._limit=_limit,this._buffer=[]}return PromiseBuffer.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},PromiseBuffer.prototype.add=function(task){var _this=this;return this.isReady()?(-1===this._buffer.indexOf(task)&&this._buffer.push(task),task.then(function(){return _this.remove(task)}).then(null,function(){return _this.remove(task).then(null,function(){})}),task):_syncpromise.SyncPromise.reject(new _error.SentryError("Not adding Promise due to buffer limit reached."))},PromiseBuffer.prototype.remove=function(task){return this._buffer.splice(this._buffer.indexOf(task),1)[0]},PromiseBuffer.prototype.length=function(){return this._buffer.length},PromiseBuffer.prototype.drain=function(timeout){var _this=this;return new _syncpromise.SyncPromise(function(resolve){var capturedSetTimeout=setTimeout(function(){timeout&&timeout>0&&resolve(!1)},timeout);_syncpromise.SyncPromise.all(_this._buffer).then(function(){clearTimeout(capturedSetTimeout),resolve(!0)}).then(null,function(){resolve(!0)})})},PromiseBuffer}();exports.PromiseBuffer=PromiseBuffer},{"./error":"IhUY","./syncpromise":"EwT2"}],shUJ:[function(require,module,exports){arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},exports.supportsDOMError=function(){try{return new DOMError(""),!0}catch(e){return!1}},exports.supportsDOMException=function(){try{return new DOMException(""),!0}catch(e){return!1}},exports.supportsFetch=supportsFetch,exports.supportsNativeFetch=function(){if(!supportsFetch())return!1;var global=(0,_misc.getGlobalObject)();if(isNativeFetch(global.fetch))return!0;var result=!1,doc=global.document;if(doc&&"function"==typeof doc.createElement)try{var sandbox=doc.createElement("iframe");sandbox.hidden=!0,doc.head.appendChild(sandbox),sandbox.contentWindow&&sandbox.contentWindow.fetch&&(result=isNativeFetch(sandbox.contentWindow.fetch)),doc.head.removeChild(sandbox)}catch(err){_logger.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",err)}return result},exports.supportsReportingObserver=function(){return"ReportingObserver"in(0,_misc.getGlobalObject)()},exports.supportsReferrerPolicy=function(){if(!supportsFetch())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}},exports.supportsHistory=function(){var global=(0,_misc.getGlobalObject)(),chrome=global.chrome,isChromePackagedApp=chrome&&chrome.app&&chrome.app.runtime,hasHistoryApi="history"in global&&!!global.history.pushState&&!!global.history.replaceState;return!isChromePackagedApp&&hasHistoryApi};var _logger=require("./logger"),_misc=require("./misc");function supportsFetch(){if(!("fetch"in(0,_misc.getGlobalObject)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function isNativeFetch(func){return func&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(func.toString())}},{"./logger":"ZYOL","./misc":"CNBN"}],Sn6H:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addInstrumentationHandler=function(handler){if(!handler||"string"!=typeof handler.type||"function"!=typeof handler.callback)return;handlers[handler.type]=handlers[handler.type]||[],handlers[handler.type].push(handler.callback),function(type){if(instrumented[type])return;switch(instrumented[type]=!0,type){case"console":!function(){if(!("console"in global))return;["debug","info","warn","error","log","assert"].forEach(function(level){level in global.console&&(0,_object.fill)(global.console,level,function(originalConsoleLevel){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];triggerHandlers("console",{args:args,level:level}),originalConsoleLevel&&Function.prototype.apply.call(originalConsoleLevel,global.console,args)}})})}();break;case"dom":!function(){if(!("document"in global))return;global.document.addEventListener("click",domEventHandler("click",triggerHandlers.bind(null,"dom")),!1),global.document.addEventListener("keypress",keypressEventHandler(triggerHandlers.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(target){var proto=global[target]&&global[target].prototype;proto&&proto.hasOwnProperty&&proto.hasOwnProperty("addEventListener")&&((0,_object.fill)(proto,"addEventListener",function(original){return function(eventName,fn,options){return fn&&fn.handleEvent?("click"===eventName&&(0,_object.fill)(fn,"handleEvent",function(innerOriginal){return function(event){return domEventHandler("click",triggerHandlers.bind(null,"dom"))(event),innerOriginal.call(this,event)}}),"keypress"===eventName&&(0,_object.fill)(fn,"handleEvent",function(innerOriginal){return function(event){return keypressEventHandler(triggerHandlers.bind(null,"dom"))(event),innerOriginal.call(this,event)}})):("click"===eventName&&domEventHandler("click",triggerHandlers.bind(null,"dom"),!0)(this),"keypress"===eventName&&keypressEventHandler(triggerHandlers.bind(null,"dom"))(this)),original.call(this,eventName,fn,options)}}),(0,_object.fill)(proto,"removeEventListener",function(original){return function(eventName,fn,options){var callback=fn;try{callback=callback&&(callback.__sentry_wrapped__||callback)}catch(e){}return original.call(this,eventName,callback,options)}}))})}();break;case"xhr":!function(){if(!("XMLHttpRequest"in global))return;var xhrproto=XMLHttpRequest.prototype;(0,_object.fill)(xhrproto,"open",function(originalOpen){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var url=args[1];return this.__sentry_xhr__={method:(0,_is.isString)(args[0])?args[0].toUpperCase():args[0],url:args[1]},(0,_is.isString)(url)&&"POST"===this.__sentry_xhr__.method&&url.match(/sentry_key/)&&(this.__sentry_own_request__=!0),originalOpen.apply(this,args)}}),(0,_object.fill)(xhrproto,"send",function(originalSend){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var xhr=this,commonHandlerData={args:args,startTimestamp:Date.now(),xhr:xhr};return triggerHandlers("xhr",tslib_1.__assign({},commonHandlerData)),xhr.addEventListener("readystatechange",function(){if(4===xhr.readyState){try{xhr.__sentry_xhr__&&(xhr.__sentry_xhr__.status_code=xhr.status)}catch(e){}triggerHandlers("xhr",tslib_1.__assign({},commonHandlerData,{endTimestamp:Date.now()}))}}),originalSend.apply(this,args)}})}();break;case"fetch":!function(){if(!(0,_supports.supportsNativeFetch)())return;(0,_object.fill)(global,"fetch",function(originalFetch){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var commonHandlerData={args:args,fetchData:{method:function(fetchArgs){void 0===fetchArgs&&(fetchArgs=[]);if("Request"in global&&(0,_is.isInstanceOf)(fetchArgs[0],Request)&&fetchArgs[0].method)return String(fetchArgs[0].method).toUpperCase();if(fetchArgs[1]&&fetchArgs[1].method)return String(fetchArgs[1].method).toUpperCase();return"GET"}(args),url:function(fetchArgs){void 0===fetchArgs&&(fetchArgs=[]);if("string"==typeof fetchArgs[0])return fetchArgs[0];if("Request"in global&&(0,_is.isInstanceOf)(fetchArgs[0],Request))return fetchArgs[0].url;return String(fetchArgs[0])}(args)},startTimestamp:Date.now()};return triggerHandlers("fetch",tslib_1.__assign({},commonHandlerData)),originalFetch.apply(global,args).then(function(response){return triggerHandlers("fetch",tslib_1.__assign({},commonHandlerData,{endTimestamp:Date.now(),response:response})),response},function(error){throw triggerHandlers("fetch",tslib_1.__assign({},commonHandlerData,{endTimestamp:Date.now(),error:error})),error})}})}();break;case"history":!function(){if(!(0,_supports.supportsHistory)())return;var oldOnPopState=global.onpopstate;function historyReplacementFunction(originalHistoryFunction){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var url=args.length>2?args[2]:void 0;if(url){var from=lastHref,to=String(url);lastHref=to,triggerHandlers("history",{from:from,to:to})}return originalHistoryFunction.apply(this,args)}}global.onpopstate=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var to=global.location.href,from=lastHref;if(lastHref=to,triggerHandlers("history",{from:from,to:to}),oldOnPopState)return oldOnPopState.apply(this,args)},(0,_object.fill)(global.history,"pushState",historyReplacementFunction),(0,_object.fill)(global.history,"replaceState",historyReplacementFunction)}();break;case"error":_oldOnErrorHandler=global.onerror,global.onerror=function(msg,url,line,column,error){return triggerHandlers("error",{column:column,error:error,line:line,msg:msg,url:url}),!!_oldOnErrorHandler&&_oldOnErrorHandler.apply(this,arguments)};break;case"unhandledrejection":_oldOnUnhandledRejectionHandler=global.onunhandledrejection,global.onunhandledrejection=function(e){return triggerHandlers("unhandledrejection",e),!_oldOnUnhandledRejectionHandler||_oldOnUnhandledRejectionHandler.apply(this,arguments)};break;default:_logger.logger.warn("unknown instrumentation type:",type)}}(handler.type)};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_is=require("./is"),_logger=require("./logger"),_misc=require("./misc"),_object=require("./object"),_supports=require("./supports");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var lastHref,global=(0,_misc.getGlobalObject)(),handlers={},instrumented={};function triggerHandlers(type,data){var e_1,_a;if(type&&handlers[type])try{for(var _b=tslib_1.__values(handlers[type]||[]),_c=_b.next();!_c.done;_c=_b.next()){var handler=_c.value;try{handler(data)}catch(e){_logger.logger.error("Error while triggering instrumentation handler.\nType: "+type+"\nName: "+(0,_misc.getFunctionName)(handler)+"\nError: "+e)}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}var keypressTimeout,lastCapturedEvent,debounceDuration=1e3,debounceTimer=0;function domEventHandler(name,handler,debounce){return void 0===debounce&&(debounce=!1),function(event){keypressTimeout=void 0,event&&lastCapturedEvent!==event&&(lastCapturedEvent=event,debounceTimer&&clearTimeout(debounceTimer),debounce?debounceTimer=setTimeout(function(){handler({event:event,name:name})}):handler({event:event,name:name}))}}function keypressEventHandler(handler){return function(event){var target;try{target=event.target}catch(e){return}var tagName=target&&target.tagName;tagName&&("INPUT"===tagName||"TEXTAREA"===tagName||target.isContentEditable)&&(keypressTimeout||domEventHandler("input",handler)(event),clearTimeout(keypressTimeout),keypressTimeout=setTimeout(function(){keypressTimeout=void 0},debounceDuration))}}var _oldOnErrorHandler=null;var _oldOnUnhandledRejectionHandler=null},{tslib:"vCxL","./is":"cixp","./logger":"ZYOL","./misc":"CNBN","./object":"f2BT","./supports":"shUJ"}],au1D:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dsn=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_error=require("./error");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,Dsn=function(){function Dsn(from){"string"==typeof from?this._fromString(from):this._fromComponents(from),this._validate()}return Dsn.prototype.toString=function(withPassword){void 0===withPassword&&(withPassword=!1);var _a=this,host=_a.host,path=_a.path,pass=_a.pass,port=_a.port,projectId=_a.projectId;return _a.protocol+"://"+_a.user+(withPassword&&pass?":"+pass:"")+"@"+host+(port?":"+port:"")+"/"+(path?path+"/":path)+projectId},Dsn.prototype._fromString=function(str){var match=DSN_REGEX.exec(str);if(!match)throw new _error.SentryError("Invalid Dsn");var _a=tslib_1.__read(match.slice(1),6),protocol=_a[0],user=_a[1],_b=_a[2],pass=void 0===_b?"":_b,host=_a[3],_c=_a[4],port=void 0===_c?"":_c,path="",projectId=_a[5],split=projectId.split("/");split.length>1&&(path=split.slice(0,-1).join("/"),projectId=split.pop()),this._fromComponents({host:host,pass:pass,path:path,projectId:projectId,port:port,protocol:protocol,user:user})},Dsn.prototype._fromComponents=function(components){this.protocol=components.protocol,this.user=components.user,this.pass=components.pass||"",this.host=components.host,this.port=components.port||"",this.path=components.path||"",this.projectId=components.projectId},Dsn.prototype._validate=function(){var _this=this;if(["protocol","user","host","projectId"].forEach(function(component){if(!_this[component])throw new _error.SentryError("Invalid Dsn")}),"http"!==this.protocol&&"https"!==this.protocol)throw new _error.SentryError("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new _error.SentryError("Invalid Dsn")},Dsn}();exports.Dsn=Dsn},{tslib:"vCxL","./error":"IhUY"}],vnUD:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _async=require("./async");Object.keys(_async).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _async[key]}})});var _error=require("./error");Object.keys(_error).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _error[key]}})});var _is=require("./is");Object.keys(_is).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _is[key]}})});var _logger=require("./logger");Object.keys(_logger).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _logger[key]}})});var _memo=require("./memo");Object.keys(_memo).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _memo[key]}})});var _misc=require("./misc");Object.keys(_misc).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _misc[key]}})});var _object=require("./object");Object.keys(_object).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _object[key]}})});var _path=require("./path");Object.keys(_path).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _path[key]}})});var _promisebuffer=require("./promisebuffer");Object.keys(_promisebuffer).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _promisebuffer[key]}})});var _string=require("./string");Object.keys(_string).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _string[key]}})});var _supports=require("./supports");Object.keys(_supports).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _supports[key]}})});var _syncpromise=require("./syncpromise");Object.keys(_syncpromise).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _syncpromise[key]}})});var _instrument=require("./instrument");Object.keys(_instrument).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _instrument[key]}})});var _dsn=require("./dsn");Object.keys(_dsn).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _dsn[key]}})})},{"./async":"PHfu","./error":"IhUY","./is":"cixp","./logger":"ZYOL","./memo":"dPzZ","./misc":"CNBN","./object":"f2BT","./path":"bF34","./promisebuffer":"WUuT","./string":"EomM","./supports":"shUJ","./syncpromise":"EwT2","./instrument":"Sn6H","./dsn":"au1D"}],RFfS:[function(require,module,exports){arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.addGlobalEventProcessor=function(callback){getGlobalEventProcessors().push(callback)},exports.Scope=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var Scope=function(){function Scope(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return Scope.prototype.addScopeListener=function(callback){this._scopeListeners.push(callback)},Scope.prototype.addEventProcessor=function(callback){return this._eventProcessors.push(callback),this},Scope.prototype._notifyScopeListeners=function(){var _this=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout(function(){_this._scopeListeners.forEach(function(callback){callback(_this)}),_this._notifyingListeners=!1}))},Scope.prototype._notifyEventProcessors=function(processors,event,hint,index){var _this=this;return void 0===index&&(index=0),new _utils.SyncPromise(function(resolve,reject){var processor=processors[index];if(null===event||"function"!=typeof processor)resolve(event);else{var result=processor(tslib_1.__assign({},event),hint);(0,_utils.isThenable)(result)?result.then(function(final){return _this._notifyEventProcessors(processors,final,hint,index+1).then(resolve)}).then(null,reject):_this._notifyEventProcessors(processors,result,hint,index+1).then(resolve).then(null,reject)}})},Scope.prototype.setUser=function(user){return this._user=user||{},this._notifyScopeListeners(),this},Scope.prototype.setTags=function(tags){return this._tags=tslib_1.__assign({},this._tags,tags),this._notifyScopeListeners(),this},Scope.prototype.setTag=function(key,value){var _a;return this._tags=tslib_1.__assign({},this._tags,((_a={})[key]=value,_a)),this._notifyScopeListeners(),this},Scope.prototype.setExtras=function(extras){return this._extra=tslib_1.__assign({},this._extra,extras),this._notifyScopeListeners(),this},Scope.prototype.setExtra=function(key,extra){var _a;return this._extra=tslib_1.__assign({},this._extra,((_a={})[key]=extra,_a)),this._notifyScopeListeners(),this},Scope.prototype.setFingerprint=function(fingerprint){return this._fingerprint=fingerprint,this._notifyScopeListeners(),this},Scope.prototype.setLevel=function(level){return this._level=level,this._notifyScopeListeners(),this},Scope.prototype.setTransaction=function(transaction){return this._transaction=transaction,this._span&&(this._span.transaction=transaction),this._notifyScopeListeners(),this},Scope.prototype.setContext=function(key,context){var _a;return this._context=tslib_1.__assign({},this._context,((_a={})[key]=context,_a)),this._notifyScopeListeners(),this},Scope.prototype.setSpan=function(span){return this._span=span,this._notifyScopeListeners(),this},Scope.prototype.getSpan=function(){return this._span},Scope.clone=function(scope){var newScope=new Scope;return scope&&(newScope._breadcrumbs=tslib_1.__spread(scope._breadcrumbs),newScope._tags=tslib_1.__assign({},scope._tags),newScope._extra=tslib_1.__assign({},scope._extra),newScope._context=tslib_1.__assign({},scope._context),newScope._user=scope._user,newScope._level=scope._level,newScope._span=scope._span,newScope._transaction=scope._transaction,newScope._fingerprint=scope._fingerprint,newScope._eventProcessors=tslib_1.__spread(scope._eventProcessors)),newScope},Scope.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},Scope.prototype.addBreadcrumb=function(breadcrumb,maxBreadcrumbs){var mergedBreadcrumb=tslib_1.__assign({timestamp:(0,_utils.timestampWithMs)()},breadcrumb);return this._breadcrumbs=void 0!==maxBreadcrumbs&&maxBreadcrumbs>=0?tslib_1.__spread(this._breadcrumbs,[mergedBreadcrumb]).slice(-maxBreadcrumbs):tslib_1.__spread(this._breadcrumbs,[mergedBreadcrumb]),this._notifyScopeListeners(),this},Scope.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Scope.prototype._applyFingerprint=function(event){event.fingerprint=event.fingerprint?Array.isArray(event.fingerprint)?event.fingerprint:[event.fingerprint]:[],this._fingerprint&&(event.fingerprint=event.fingerprint.concat(this._fingerprint)),event.fingerprint&&!event.fingerprint.length&&delete event.fingerprint},Scope.prototype.applyToEvent=function(event,hint){return this._extra&&Object.keys(this._extra).length&&(event.extra=tslib_1.__assign({},this._extra,event.extra)),this._tags&&Object.keys(this._tags).length&&(event.tags=tslib_1.__assign({},this._tags,event.tags)),this._user&&Object.keys(this._user).length&&(event.user=tslib_1.__assign({},this._user,event.user)),this._context&&Object.keys(this._context).length&&(event.contexts=tslib_1.__assign({},this._context,event.contexts)),this._level&&(event.level=this._level),this._transaction&&(event.transaction=this._transaction),this._span&&(event.contexts=tslib_1.__assign({trace:this._span.getTraceContext()},event.contexts)),this._applyFingerprint(event),event.breadcrumbs=tslib_1.__spread(event.breadcrumbs||[],this._breadcrumbs),event.breadcrumbs=event.breadcrumbs.length>0?event.breadcrumbs:void 0,this._notifyEventProcessors(tslib_1.__spread(getGlobalEventProcessors(),this._eventProcessors),event,hint)},Scope}();function getGlobalEventProcessors(){var global=(0,_utils.getGlobalObject)();return global.__SENTRY__=global.__SENTRY__||{},global.__SENTRY__.globalEventProcessors=global.__SENTRY__.globalEventProcessors||[],global.__SENTRY__.globalEventProcessors}exports.Scope=Scope},{tslib:"vCxL","@sentry/utils":"vnUD"}],R95U:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMainCarrier=getMainCarrier,exports.makeMain=makeMain,exports.getCurrentHub=function(){var registry=getMainCarrier();hasHubOnCarrier(registry)&&!getHubFromCarrier(registry).isOlderThan(API_VERSION)||setHubOnCarrier(registry,new Hub);if((0,_utils.isNodeEnv)())return function(registry){try{var carrier=getMainCarrier(),sentry=carrier.__SENTRY__;if(!sentry||!sentry.extensions||!sentry.extensions.domain)return getHubFromCarrier(registry);var domain=sentry.extensions.domain,activeDomain=domain.active;if(!activeDomain)return getHubFromCarrier(registry);if(!hasHubOnCarrier(activeDomain)||getHubFromCarrier(activeDomain).isOlderThan(API_VERSION)){var registryHubTopStack=getHubFromCarrier(registry).getStackTop();setHubOnCarrier(activeDomain,new Hub(registryHubTopStack.client,_scope.Scope.clone(registryHubTopStack.scope)))}return getHubFromCarrier(activeDomain)}catch(_Oo){return getHubFromCarrier(registry)}}(registry);return getHubFromCarrier(registry)},exports.getHubFromCarrier=getHubFromCarrier,exports.setHubOnCarrier=setHubOnCarrier,exports.Hub=exports.API_VERSION=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_utils=require("@sentry/utils"),_scope=require("./scope");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var API_VERSION=3;exports.API_VERSION=API_VERSION;var Hub=function(){function Hub(client,scope,_version){void 0===scope&&(scope=new _scope.Scope),void 0===_version&&(_version=API_VERSION),this._version=_version,this._stack=[],this._stack.push({client:client,scope:scope})}return Hub.prototype._invokeClient=function(method){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var top=this.getStackTop();top&&top.client&&top.client[method]&&(_a=top.client)[method].apply(_a,tslib_1.__spread(args,[top.scope]))},Hub.prototype.isOlderThan=function(version){return this._version<version},Hub.prototype.bindClient=function(client){this.getStackTop().client=client,client&&client.setupIntegrations&&client.setupIntegrations()},Hub.prototype.pushScope=function(){var stack=this.getStack(),parentScope=stack.length>0?stack[stack.length-1].scope:void 0,scope=_scope.Scope.clone(parentScope);return this.getStack().push({client:this.getClient(),scope:scope}),scope},Hub.prototype.popScope=function(){return void 0!==this.getStack().pop()},Hub.prototype.withScope=function(callback){var scope=this.pushScope();try{callback(scope)}finally{this.popScope()}},Hub.prototype.getClient=function(){return this.getStackTop().client},Hub.prototype.getScope=function(){return this.getStackTop().scope},Hub.prototype.getStack=function(){return this._stack},Hub.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},Hub.prototype.captureException=function(exception,hint){var eventId=this._lastEventId=(0,_utils.uuid4)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error("Sentry syntheticException")}catch(exception){syntheticException=exception}finalHint={originalException:exception,syntheticException:syntheticException}}return this._invokeClient("captureException",exception,tslib_1.__assign({},finalHint,{event_id:eventId})),eventId},Hub.prototype.captureMessage=function(message,level,hint){var eventId=this._lastEventId=(0,_utils.uuid4)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error(message)}catch(exception){syntheticException=exception}finalHint={originalException:message,syntheticException:syntheticException}}return this._invokeClient("captureMessage",message,level,tslib_1.__assign({},finalHint,{event_id:eventId})),eventId},Hub.prototype.captureEvent=function(event,hint){var eventId=this._lastEventId=(0,_utils.uuid4)();return this._invokeClient("captureEvent",event,tslib_1.__assign({},hint,{event_id:eventId})),eventId},Hub.prototype.lastEventId=function(){return this._lastEventId},Hub.prototype.addBreadcrumb=function(breadcrumb,hint){var top=this.getStackTop();if(top.scope&&top.client){var _a=top.client.getOptions&&top.client.getOptions()||{},_b=_a.beforeBreadcrumb,beforeBreadcrumb=void 0===_b?null:_b,_c=_a.maxBreadcrumbs,maxBreadcrumbs=void 0===_c?100:_c;if(!(maxBreadcrumbs<=0)){var timestamp=(0,_utils.timestampWithMs)(),mergedBreadcrumb=tslib_1.__assign({timestamp:timestamp},breadcrumb),finalBreadcrumb=beforeBreadcrumb?(0,_utils.consoleSandbox)(function(){return beforeBreadcrumb(mergedBreadcrumb,hint)}):mergedBreadcrumb;null!==finalBreadcrumb&&top.scope.addBreadcrumb(finalBreadcrumb,Math.min(maxBreadcrumbs,100))}}},Hub.prototype.setUser=function(user){var top=this.getStackTop();top.scope&&top.scope.setUser(user)},Hub.prototype.setTags=function(tags){var top=this.getStackTop();top.scope&&top.scope.setTags(tags)},Hub.prototype.setExtras=function(extras){var top=this.getStackTop();top.scope&&top.scope.setExtras(extras)},Hub.prototype.setTag=function(key,value){var top=this.getStackTop();top.scope&&top.scope.setTag(key,value)},Hub.prototype.setExtra=function(key,extra){var top=this.getStackTop();top.scope&&top.scope.setExtra(key,extra)},Hub.prototype.setContext=function(name,context){var top=this.getStackTop();top.scope&&top.scope.setContext(name,context)},Hub.prototype.configureScope=function(callback){var top=this.getStackTop();top.scope&&top.client&&callback(top.scope)},Hub.prototype.run=function(callback){var oldHub=makeMain(this);try{callback(this)}finally{makeMain(oldHub)}},Hub.prototype.getIntegration=function(integration){var client=this.getClient();if(!client)return null;try{return client.getIntegration(integration)}catch(_oO){return _utils.logger.warn("Cannot retrieve integration "+integration.id+" from the current Hub"),null}},Hub.prototype.startSpan=function(spanOrSpanContext,forceNoChild){return void 0===forceNoChild&&(forceNoChild=!1),this._callExtensionMethod("startSpan",spanOrSpanContext,forceNoChild)},Hub.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},Hub.prototype._callExtensionMethod=function(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var sentry=getMainCarrier().__SENTRY__;if(sentry&&sentry.extensions&&"function"==typeof sentry.extensions[method])return sentry.extensions[method].apply(this,args);_utils.logger.warn("Extension method "+method+" couldn't be found, doing nothing.")},Hub}();function getMainCarrier(){var carrier=(0,_utils.getGlobalObject)();return carrier.__SENTRY__=carrier.__SENTRY__||{extensions:{},hub:void 0},carrier}function makeMain(hub){var registry=getMainCarrier(),oldHub=getHubFromCarrier(registry);return setHubOnCarrier(registry,hub),oldHub}function hasHubOnCarrier(carrier){return!!(carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub)}function getHubFromCarrier(carrier){return carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub?carrier.__SENTRY__.hub:(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=new Hub,carrier.__SENTRY__.hub)}function setHubOnCarrier(carrier,hub){return!!carrier&&(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=hub,!0)}exports.Hub=Hub},{tslib:"vCxL","@sentry/utils":"vnUD","./scope":"RFfS"}],U9M5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"addGlobalEventProcessor",{enumerable:!0,get:function(){return _scope.addGlobalEventProcessor}}),Object.defineProperty(exports,"Scope",{enumerable:!0,get:function(){return _scope.Scope}}),Object.defineProperty(exports,"getCurrentHub",{enumerable:!0,get:function(){return _hub.getCurrentHub}}),Object.defineProperty(exports,"getHubFromCarrier",{enumerable:!0,get:function(){return _hub.getHubFromCarrier}}),Object.defineProperty(exports,"getMainCarrier",{enumerable:!0,get:function(){return _hub.getMainCarrier}}),Object.defineProperty(exports,"Hub",{enumerable:!0,get:function(){return _hub.Hub}}),Object.defineProperty(exports,"makeMain",{enumerable:!0,get:function(){return _hub.makeMain}}),Object.defineProperty(exports,"setHubOnCarrier",{enumerable:!0,get:function(){return _hub.setHubOnCarrier}});var _scope=require("./scope"),_hub=require("./hub")},{"./scope":"RFfS","./hub":"R95U"}],uQ1D:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.captureException=function(exception){var syntheticException;try{throw new Error("Sentry syntheticException")}catch(exception){syntheticException=exception}return callOnHub("captureException",exception,{originalException:exception,syntheticException:syntheticException})},exports.captureMessage=function(message,level){var syntheticException;try{throw new Error(message)}catch(exception){syntheticException=exception}return callOnHub("captureMessage",message,level,{originalException:message,syntheticException:syntheticException})},exports.captureEvent=function(event){return callOnHub("captureEvent",event)},exports.configureScope=function(callback){callOnHub("configureScope",callback)},exports.addBreadcrumb=function(breadcrumb){callOnHub("addBreadcrumb",breadcrumb)},exports.setContext=function(name,context){callOnHub("setContext",name,context)},exports.setExtras=function(extras){callOnHub("setExtras",extras)},exports.setTags=function(tags){callOnHub("setTags",tags)},exports.setExtra=function(key,extra){callOnHub("setExtra",key,extra)},exports.setTag=function(key,value){callOnHub("setTag",key,value)},exports.setUser=function(user){callOnHub("setUser",user)},exports.withScope=function(callback){callOnHub("withScope",callback)},exports._callOnClient=function(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];callOnHub.apply(void 0,tslib_1.__spread(["_invokeClient",method],args))};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_hub=require("@sentry/hub");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function callOnHub(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var hub=(0,_hub.getCurrentHub)();if(hub&&hub[method])return hub[method].apply(hub,tslib_1.__spread(args));throw new Error("No hub defined or "+method+" was not found on the hub, please open a bug report.")}},{tslib:"vCxL","@sentry/hub":"U9M5"}],DsIj:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.API=void 0;var _utils=require("@sentry/utils"),API=function(){function API(dsn){this.dsn=dsn,this._dsnObject=new _utils.Dsn(dsn)}return API.prototype.getDsn=function(){return this._dsnObject},API.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},API.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var auth={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+(0,_utils.urlEncode)(auth)},API.prototype._getBaseUrl=function(){var dsn=this._dsnObject,protocol=dsn.protocol?dsn.protocol+":":"",port=dsn.port?":"+dsn.port:"";return protocol+"//"+dsn.host+port},API.prototype.getStoreEndpointPath=function(){var dsn=this._dsnObject;return(dsn.path?"/"+dsn.path:"")+"/api/"+dsn.projectId+"/store/"},API.prototype.getRequestHeaders=function(clientName,clientVersion){var dsn=this._dsnObject,header=["Sentry sentry_version=7"];return header.push("sentry_client="+clientName+"/"+clientVersion),header.push("sentry_key="+dsn.user),dsn.pass&&header.push("sentry_secret="+dsn.pass),{"Content-Type":"application/json","X-Sentry-Auth":header.join(", ")}},API.prototype.getReportDialogEndpoint=function(dialogOptions){void 0===dialogOptions&&(dialogOptions={});var dsn=this._dsnObject,endpoint=this._getBaseUrl()+(dsn.path?"/"+dsn.path:"")+"/api/embed/error-page/",encodedOptions=[];for(var key in encodedOptions.push("dsn="+dsn.toString()),dialogOptions)if("user"===key){if(!dialogOptions.user)continue;dialogOptions.user.name&&encodedOptions.push("name="+encodeURIComponent(dialogOptions.user.name)),dialogOptions.user.email&&encodedOptions.push("email="+encodeURIComponent(dialogOptions.user.email))}else encodedOptions.push(encodeURIComponent(key)+"="+encodeURIComponent(dialogOptions[key]));return encodedOptions.length?endpoint+"?"+encodedOptions.join("&"):endpoint},API}();exports.API=API},{"@sentry/utils":"vnUD"}],am9d:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIntegrationsToSetup=getIntegrationsToSetup,exports.setupIntegration=setupIntegration,exports.setupIntegrations=function(options){var integrations={};return getIntegrationsToSetup(options).forEach(function(integration){integrations[integration.name]=integration,setupIntegration(integration)}),integrations},exports.installedIntegrations=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_hub=require("@sentry/hub"),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var installedIntegrations=[];function getIntegrationsToSetup(options){var defaultIntegrations=options.defaultIntegrations&&tslib_1.__spread(options.defaultIntegrations)||[],userIntegrations=options.integrations,integrations=[];if(Array.isArray(userIntegrations)){var userIntegrationsNames_1=userIntegrations.map(function(i){return i.name}),pickedIntegrationsNames_1=[];defaultIntegrations.forEach(function(defaultIntegration){-1===userIntegrationsNames_1.indexOf(defaultIntegration.name)&&-1===pickedIntegrationsNames_1.indexOf(defaultIntegration.name)&&(integrations.push(defaultIntegration),pickedIntegrationsNames_1.push(defaultIntegration.name))}),userIntegrations.forEach(function(userIntegration){-1===pickedIntegrationsNames_1.indexOf(userIntegration.name)&&(integrations.push(userIntegration),pickedIntegrationsNames_1.push(userIntegration.name))})}else"function"==typeof userIntegrations?(integrations=userIntegrations(defaultIntegrations),integrations=Array.isArray(integrations)?integrations:[integrations]):integrations=tslib_1.__spread(defaultIntegrations);var integrationsNames=integrations.map(function(i){return i.name});return-1!==integrationsNames.indexOf("Debug")&&integrations.push.apply(integrations,tslib_1.__spread(integrations.splice(integrationsNames.indexOf("Debug"),1))),integrations}function setupIntegration(integration){-1===installedIntegrations.indexOf(integration.name)&&(integration.setupOnce(_hub.addGlobalEventProcessor,_hub.getCurrentHub),installedIntegrations.push(integration.name),_utils.logger.log("Integration installed: "+integration.name))}exports.installedIntegrations=installedIntegrations},{tslib:"vCxL","@sentry/hub":"U9M5","@sentry/utils":"vnUD"}],AQrL:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseClient=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_utils=require("@sentry/utils"),_integration=require("./integration");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var BaseClient=function(){function BaseClient(backendClass,options){this._integrations={},this._processing=!1,this._backend=new backendClass(options),this._options=options,options.dsn&&(this._dsn=new _utils.Dsn(options.dsn))}return BaseClient.prototype.captureException=function(exception,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._processing=!0,this._getBackend().eventFromException(exception,hint).then(function(event){return _this._processEvent(event,hint,scope)}).then(function(finalEvent){eventId=finalEvent&&finalEvent.event_id,_this._processing=!1}).then(null,function(reason){_utils.logger.error(reason),_this._processing=!1}),eventId},BaseClient.prototype.captureMessage=function(message,level,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._processing=!0,((0,_utils.isPrimitive)(message)?this._getBackend().eventFromMessage(""+message,level,hint):this._getBackend().eventFromException(message,hint)).then(function(event){return _this._processEvent(event,hint,scope)}).then(function(finalEvent){eventId=finalEvent&&finalEvent.event_id,_this._processing=!1}).then(null,function(reason){_utils.logger.error(reason),_this._processing=!1}),eventId},BaseClient.prototype.captureEvent=function(event,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._processing=!0,this._processEvent(event,hint,scope).then(function(finalEvent){eventId=finalEvent&&finalEvent.event_id,_this._processing=!1}).then(null,function(reason){_utils.logger.error(reason),_this._processing=!1}),eventId},BaseClient.prototype.getDsn=function(){return this._dsn},BaseClient.prototype.getOptions=function(){return this._options},BaseClient.prototype.flush=function(timeout){var _this=this;return this._isClientProcessing(timeout).then(function(status){return clearInterval(status.interval),_this._getBackend().getTransport().close(timeout).then(function(transportFlushed){return status.ready&&transportFlushed})})},BaseClient.prototype.close=function(timeout){var _this=this;return this.flush(timeout).then(function(result){return _this.getOptions().enabled=!1,result})},BaseClient.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=(0,_integration.setupIntegrations)(this._options))},BaseClient.prototype.getIntegration=function(integration){try{return this._integrations[integration.id]||null}catch(_oO){return _utils.logger.warn("Cannot retrieve integration "+integration.id+" from the current Client"),null}},BaseClient.prototype._isClientProcessing=function(timeout){var _this=this;return new _utils.SyncPromise(function(resolve){var ticked=0,interval=0;clearInterval(interval),interval=setInterval(function(){_this._processing?timeout&&(ticked+=1)>=timeout&&resolve({interval:interval,ready:!1}):resolve({interval:interval,ready:!0})},1)})},BaseClient.prototype._getBackend=function(){return this._backend},BaseClient.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},BaseClient.prototype._prepareEvent=function(event,scope,hint){var _this=this,_a=this.getOptions(),environment=_a.environment,release=_a.release,dist=_a.dist,_b=_a.maxValueLength,maxValueLength=void 0===_b?250:_b,_c=_a.normalizeDepth,normalizeDepth=void 0===_c?3:_c,prepared=tslib_1.__assign({},event);void 0===prepared.environment&&void 0!==environment&&(prepared.environment=environment),void 0===prepared.release&&void 0!==release&&(prepared.release=release),void 0===prepared.dist&&void 0!==dist&&(prepared.dist=dist),prepared.message&&(prepared.message=(0,_utils.truncate)(prepared.message,maxValueLength));var exception=prepared.exception&&prepared.exception.values&&prepared.exception.values[0];exception&&exception.value&&(exception.value=(0,_utils.truncate)(exception.value,maxValueLength));var request=prepared.request;request&&request.url&&(request.url=(0,_utils.truncate)(request.url,maxValueLength)),void 0===prepared.event_id&&(prepared.event_id=hint&&hint.event_id?hint.event_id:(0,_utils.uuid4)()),this._addIntegrations(prepared.sdk);var result=_utils.SyncPromise.resolve(prepared);return scope&&(result=scope.applyToEvent(prepared,hint)),result.then(function(evt){return"number"==typeof normalizeDepth&&normalizeDepth>0?_this._normalizeEvent(evt,normalizeDepth):evt})},BaseClient.prototype._normalizeEvent=function(event,depth){return event?tslib_1.__assign({},event,event.breadcrumbs&&{breadcrumbs:event.breadcrumbs.map(function(b){return tslib_1.__assign({},b,b.data&&{data:(0,_utils.normalize)(b.data,depth)})})},event.user&&{user:(0,_utils.normalize)(event.user,depth)},event.contexts&&{contexts:(0,_utils.normalize)(event.contexts,depth)},event.extra&&{extra:(0,_utils.normalize)(event.extra,depth)}):null},BaseClient.prototype._addIntegrations=function(sdkInfo){var integrationsArray=Object.keys(this._integrations);sdkInfo&&integrationsArray.length>0&&(sdkInfo.integrations=integrationsArray)},BaseClient.prototype._processEvent=function(event,hint,scope){var _this=this,_a=this.getOptions(),beforeSend=_a.beforeSend,sampleRate=_a.sampleRate;return this._isEnabled()?"number"==typeof sampleRate&&Math.random()>sampleRate?_utils.SyncPromise.reject("This event has been sampled, will not send event."):new _utils.SyncPromise(function(resolve,reject){_this._prepareEvent(event,scope,hint).then(function(prepared){if(null!==prepared){var finalEvent=prepared;if(hint&&hint.data&&!0===hint.data.__sentry__||!beforeSend)return _this._getBackend().sendEvent(finalEvent),void resolve(finalEvent);var beforeSendResult=beforeSend(prepared,hint);if(void 0===beforeSendResult)_utils.logger.error("`beforeSend` method has to return `null` or a valid event.");else if((0,_utils.isThenable)(beforeSendResult))_this._handleAsyncBeforeSend(beforeSendResult,resolve,reject);else{if(null===(finalEvent=beforeSendResult))return _utils.logger.log("`beforeSend` returned `null`, will not send event."),void resolve(null);_this._getBackend().sendEvent(finalEvent),resolve(finalEvent)}}else reject("An event processor returned null, will not send event.")}).then(null,function(reason){_this.captureException(reason,{data:{__sentry__:!0},originalException:reason}),reject("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+reason)})}):_utils.SyncPromise.reject("SDK not enabled, will not send event.")},BaseClient.prototype._handleAsyncBeforeSend=function(beforeSend,resolve,reject){var _this=this;beforeSend.then(function(processedEvent){null!==processedEvent?(_this._getBackend().sendEvent(processedEvent),resolve(processedEvent)):reject("`beforeSend` returned `null`, will not send event.")}).then(null,function(e){reject("beforeSend rejected with "+e)})},BaseClient}();exports.BaseClient=BaseClient},{tslib:"vCxL","@sentry/utils":"vnUD","./integration":"am9d"}],fec3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoopTransport=void 0;var _types=require("@sentry/types"),_utils=require("@sentry/utils"),NoopTransport=function(){function NoopTransport(){}return NoopTransport.prototype.sendEvent=function(_){return _utils.SyncPromise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:_types.Status.Skipped})},NoopTransport.prototype.close=function(_){return _utils.SyncPromise.resolve(!0)},NoopTransport}();exports.NoopTransport=NoopTransport},{"@sentry/types":"vYhp","@sentry/utils":"vnUD"}],BMjl:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseBackend=void 0;var _utils=require("@sentry/utils"),_noop=require("./transports/noop"),BaseBackend=function(){function BaseBackend(options){this._options=options,this._options.dsn||_utils.logger.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return BaseBackend.prototype._setupTransport=function(){return new _noop.NoopTransport},BaseBackend.prototype.eventFromException=function(_exception,_hint){throw new _utils.SentryError("Backend has to implement `eventFromException` method")},BaseBackend.prototype.eventFromMessage=function(_message,_level,_hint){throw new _utils.SentryError("Backend has to implement `eventFromMessage` method")},BaseBackend.prototype.sendEvent=function(event){this._transport.sendEvent(event).then(null,function(reason){_utils.logger.error("Error while sending event: "+reason)})},BaseBackend.prototype.getTransport=function(){return this._transport},BaseBackend}();exports.BaseBackend=BaseBackend},{"@sentry/utils":"vnUD","./transports/noop":"fec3"}],Bvms:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initAndBind=function(clientClass,options){!0===options.debug&&_utils.logger.enable();var hub=(0,_hub.getCurrentHub)(),client=new clientClass(options);hub.bindClient(client)};var _hub=require("@sentry/hub"),_utils=require("@sentry/utils")},{"@sentry/hub":"U9M5","@sentry/utils":"vnUD"}],ON5N:[function(require,module,exports){"use strict";var originalFunctionToString;Object.defineProperty(exports,"__esModule",{value:!0}),exports.FunctionToString=void 0;var FunctionToString=function(){function FunctionToString(){this.name=FunctionToString.id}return FunctionToString.prototype.setupOnce=function(){originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var context=this.__sentry_original__||this;return originalFunctionToString.apply(context,args)}},FunctionToString.id="FunctionToString",FunctionToString}();exports.FunctionToString=FunctionToString},{}],PwYX:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InboundFilters=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_hub=require("@sentry/hub"),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],InboundFilters=function(){function InboundFilters(_options){void 0===_options&&(_options={}),this._options=_options,this.name=InboundFilters.id}return InboundFilters.prototype.setupOnce=function(){(0,_hub.addGlobalEventProcessor)(function(event){var hub=(0,_hub.getCurrentHub)();if(!hub)return event;var self=hub.getIntegration(InboundFilters);if(self){var client=hub.getClient(),clientOptions=client?client.getOptions():{},options=self._mergeOptions(clientOptions);if(self._shouldDropEvent(event,options))return null}return event})},InboundFilters.prototype._shouldDropEvent=function(event,options){return this._isSentryError(event,options)?(_utils.logger.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,_utils.getEventDescription)(event)),!0):this._isIgnoredError(event,options)?(_utils.logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,_utils.getEventDescription)(event)),!0):this._isBlacklistedUrl(event,options)?(_utils.logger.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+(0,_utils.getEventDescription)(event)+".\nUrl: "+this._getEventFilterUrl(event)),!0):!this._isWhitelistedUrl(event,options)&&(_utils.logger.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+(0,_utils.getEventDescription)(event)+".\nUrl: "+this._getEventFilterUrl(event)),!0)},InboundFilters.prototype._isSentryError=function(event,options){if(void 0===options&&(options={}),!options.ignoreInternal)return!1;try{return event&&event.exception&&event.exception.values&&event.exception.values[0]&&"SentryError"===event.exception.values[0].type||!1}catch(_oO){return!1}},InboundFilters.prototype._isIgnoredError=function(event,options){return void 0===options&&(options={}),!(!options.ignoreErrors||!options.ignoreErrors.length)&&this._getPossibleEventMessages(event).some(function(message){return options.ignoreErrors.some(function(pattern){return(0,_utils.isMatchingPattern)(message,pattern)})})},InboundFilters.prototype._isBlacklistedUrl=function(event,options){if(void 0===options&&(options={}),!options.blacklistUrls||!options.blacklistUrls.length)return!1;var url=this._getEventFilterUrl(event);return!!url&&options.blacklistUrls.some(function(pattern){return(0,_utils.isMatchingPattern)(url,pattern)})},InboundFilters.prototype._isWhitelistedUrl=function(event,options){if(void 0===options&&(options={}),!options.whitelistUrls||!options.whitelistUrls.length)return!0;var url=this._getEventFilterUrl(event);return!url||options.whitelistUrls.some(function(pattern){return(0,_utils.isMatchingPattern)(url,pattern)})},InboundFilters.prototype._mergeOptions=function(clientOptions){return void 0===clientOptions&&(clientOptions={}),{blacklistUrls:tslib_1.__spread(this._options.blacklistUrls||[],clientOptions.blacklistUrls||[]),ignoreErrors:tslib_1.__spread(this._options.ignoreErrors||[],clientOptions.ignoreErrors||[],DEFAULT_IGNORE_ERRORS),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:tslib_1.__spread(this._options.whitelistUrls||[],clientOptions.whitelistUrls||[])}},InboundFilters.prototype._getPossibleEventMessages=function(event){if(event.message)return[event.message];if(event.exception)try{var _a=event.exception.values&&event.exception.values[0]||{},_b=_a.type,type=void 0===_b?"":_b,_c=_a.value,value=void 0===_c?"":_c;return[""+value,type+": "+value]}catch(oO){return _utils.logger.error("Cannot extract message for event "+(0,_utils.getEventDescription)(event)),[]}return[]},InboundFilters.prototype._getEventFilterUrl=function(event){try{if(event.stacktrace){var frames_1=event.stacktrace.frames;return frames_1&&frames_1[frames_1.length-1].filename||null}if(event.exception){var frames_2=event.exception.values&&event.exception.values[0].stacktrace&&event.exception.values[0].stacktrace.frames;return frames_2&&frames_2[frames_2.length-1].filename||null}return null}catch(oO){return _utils.logger.error("Cannot extract url for event "+(0,_utils.getEventDescription)(event)),null}},InboundFilters.id="InboundFilters",InboundFilters}();exports.InboundFilters=InboundFilters},{tslib:"vCxL","@sentry/hub":"U9M5","@sentry/utils":"vnUD"}],t1vy:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"FunctionToString",{enumerable:!0,get:function(){return _functiontostring.FunctionToString}}),Object.defineProperty(exports,"InboundFilters",{enumerable:!0,get:function(){return _inboundfilters.InboundFilters}});var _functiontostring=require("./functiontostring"),_inboundfilters=require("./inboundfilters")},{"./functiontostring":"ON5N","./inboundfilters":"PwYX"}],TZM3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"addBreadcrumb",{enumerable:!0,get:function(){return _minimal.addBreadcrumb}}),Object.defineProperty(exports,"captureException",{enumerable:!0,get:function(){return _minimal.captureException}}),Object.defineProperty(exports,"captureEvent",{enumerable:!0,get:function(){return _minimal.captureEvent}}),Object.defineProperty(exports,"captureMessage",{enumerable:!0,get:function(){return _minimal.captureMessage}}),Object.defineProperty(exports,"configureScope",{enumerable:!0,get:function(){return _minimal.configureScope}}),Object.defineProperty(exports,"setContext",{enumerable:!0,get:function(){return _minimal.setContext}}),Object.defineProperty(exports,"setExtra",{enumerable:!0,get:function(){return _minimal.setExtra}}),Object.defineProperty(exports,"setExtras",{enumerable:!0,get:function(){return _minimal.setExtras}}),Object.defineProperty(exports,"setTag",{enumerable:!0,get:function(){return _minimal.setTag}}),Object.defineProperty(exports,"setTags",{enumerable:!0,get:function(){return _minimal.setTags}}),Object.defineProperty(exports,"setUser",{enumerable:!0,get:function(){return _minimal.setUser}}),Object.defineProperty(exports,"withScope",{enumerable:!0,get:function(){return _minimal.withScope}}),Object.defineProperty(exports,"addGlobalEventProcessor",{enumerable:!0,get:function(){return _hub.addGlobalEventProcessor}}),Object.defineProperty(exports,"getCurrentHub",{enumerable:!0,get:function(){return _hub.getCurrentHub}}),Object.defineProperty(exports,"getHubFromCarrier",{enumerable:!0,get:function(){return _hub.getHubFromCarrier}}),Object.defineProperty(exports,"Hub",{enumerable:!0,get:function(){return _hub.Hub}}),Object.defineProperty(exports,"Scope",{enumerable:!0,get:function(){return _hub.Scope}}),Object.defineProperty(exports,"API",{enumerable:!0,get:function(){return _api.API}}),Object.defineProperty(exports,"BaseClient",{enumerable:!0,get:function(){return _baseclient.BaseClient}}),Object.defineProperty(exports,"BaseBackend",{enumerable:!0,get:function(){return _basebackend.BaseBackend}}),Object.defineProperty(exports,"initAndBind",{enumerable:!0,get:function(){return _sdk.initAndBind}}),Object.defineProperty(exports,"NoopTransport",{enumerable:!0,get:function(){return _noop.NoopTransport}}),exports.Integrations=void 0;var _minimal=require("@sentry/minimal"),_hub=require("@sentry/hub"),_api=require("./api"),_baseclient=require("./baseclient"),_basebackend=require("./basebackend"),_sdk=require("./sdk"),_noop=require("./transports/noop"),Integrations=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("./integrations"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}exports.Integrations=Integrations},{"@sentry/minimal":"uQ1D","@sentry/hub":"U9M5","./api":"DsIj","./baseclient":"AQrL","./basebackend":"BMjl","./sdk":"Bvms","./transports/noop":"fec3","./integrations":"t1vy"}],EptK:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeStackTrace=function(ex){var stack=null,popSize=ex&&ex.framesToPop;try{if(stack=function(ex){if(!ex||!ex.stacktrace)return null;for(var parts,opera10Regex=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,opera11Regex=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,lines=ex.stacktrace.split("\n"),stack=[],line=0;line<lines.length;line+=2){var element=null;(parts=opera10Regex.exec(lines[line]))?element={url:parts[2],func:parts[3],args:[],line:+parts[1],column:null}:(parts=opera11Regex.exec(lines[line]))&&(element={url:parts[6],func:parts[3]||parts[4],args:parts[5]?parts[5].split(","):[],line:+parts[1],column:+parts[2]}),element&&(!element.func&&element.line&&(element.func=UNKNOWN_FUNCTION),stack.push(element))}if(!stack.length)return null;return{message:extractMessage(ex),name:ex.name,stack:stack}}(ex))return popFrames(stack,popSize)}catch(e){}try{if(stack=function(ex){if(!ex||!ex.stack)return null;for(var submatch,parts,element,stack=[],lines=ex.stack.split("\n"),i=0;i<lines.length;++i){if(parts=chrome.exec(lines[i])){var isNative=parts[2]&&0===parts[2].indexOf("native");parts[2]&&0===parts[2].indexOf("eval")&&(submatch=chromeEval.exec(parts[2]))&&(parts[2]=submatch[1],parts[3]=submatch[2],parts[4]=submatch[3]),element={url:parts[2]&&0===parts[2].indexOf("address at ")?parts[2].substr("address at ".length):parts[2],func:parts[1]||UNKNOWN_FUNCTION,args:isNative?[parts[2]]:[],line:parts[3]?+parts[3]:null,column:parts[4]?+parts[4]:null}}else if(parts=winjs.exec(lines[i]))element={url:parts[2],func:parts[1]||UNKNOWN_FUNCTION,args:[],line:+parts[3],column:parts[4]?+parts[4]:null};else{if(!(parts=gecko.exec(lines[i])))continue;parts[3]&&parts[3].indexOf(" > eval")>-1&&(submatch=geckoEval.exec(parts[3]))?(parts[1]=parts[1]||"eval",parts[3]=submatch[1],parts[4]=submatch[2],parts[5]=""):0!==i||parts[5]||void 0===ex.columnNumber||(stack[0].column=ex.columnNumber+1),element={url:parts[3],func:parts[1]||UNKNOWN_FUNCTION,args:parts[2]?parts[2].split(","):[],line:parts[4]?+parts[4]:null,column:parts[5]?+parts[5]:null}}!element.func&&element.line&&(element.func=UNKNOWN_FUNCTION),stack.push(element)}if(!stack.length)return null;return{message:extractMessage(ex),name:ex.name,stack:stack}}(ex))return popFrames(stack,popSize)}catch(e){}return{message:extractMessage(ex),name:ex&&ex.name,stack:[],failed:!0}};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var UNKNOWN_FUNCTION="?",chrome=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gecko=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,winjs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,geckoEval=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,chromeEval=/\((\S*)(?::(\d+))(?::(\d+))\)/;function popFrames(stacktrace,popSize){try{return tslib_1.__assign({},stacktrace,{stack:stacktrace.stack.slice(popSize)})}catch(e){return stacktrace}}function extractMessage(ex){var message=ex&&ex.message;return message?message.error&&"string"==typeof message.error.message?message.error.message:message:"No error message"}},{tslib:"vCxL"}],kAUL:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exceptionFromStacktrace=exceptionFromStacktrace,exports.eventFromPlainObject=function(exception,syntheticException,rejection){var event={exception:{values:[{type:(0,_utils.isEvent)(exception)?exception.constructor.name:rejection?"UnhandledRejection":"Error",value:"Non-Error "+(rejection?"promise rejection":"exception")+" captured with keys: "+(0,_utils.extractExceptionKeysForMessage)(exception)}]},extra:{__serialized__:(0,_utils.normalizeToSize)(exception)}};if(syntheticException){var stacktrace=(0,_tracekit.computeStackTrace)(syntheticException),frames_1=prepareFramesForEvent(stacktrace.stack);event.stacktrace={frames:frames_1}}return event},exports.eventFromStacktrace=function(stacktrace){return{exception:{values:[exceptionFromStacktrace(stacktrace)]}}},exports.prepareFramesForEvent=prepareFramesForEvent;var _utils=require("@sentry/utils"),_tracekit=require("./tracekit"),STACKTRACE_LIMIT=50;function exceptionFromStacktrace(stacktrace){var frames=prepareFramesForEvent(stacktrace.stack),exception={type:stacktrace.name,value:stacktrace.message};return frames&&frames.length&&(exception.stacktrace={frames:frames}),void 0===exception.type&&""===exception.value&&(exception.value="Unrecoverable error caught"),exception}function prepareFramesForEvent(stack){if(!stack||!stack.length)return[];var localStack=stack,firstFrameFunction=localStack[0].func||"",lastFrameFunction=localStack[localStack.length-1].func||"";return-1===firstFrameFunction.indexOf("captureMessage")&&-1===firstFrameFunction.indexOf("captureException")||(localStack=localStack.slice(1)),-1!==lastFrameFunction.indexOf("sentryWrapped")&&(localStack=localStack.slice(0,-1)),localStack.map(function(frame){return{colno:null===frame.column?void 0:frame.column,filename:frame.url||localStack[0].url,function:frame.func||"?",in_app:!0,lineno:null===frame.line?void 0:frame.line}}).slice(0,STACKTRACE_LIMIT).reverse()}},{"@sentry/utils":"vnUD","./tracekit":"EptK"}],yGRZ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventFromUnknownInput=function(exception,syntheticException,options){void 0===options&&(options={});var event;if((0,_utils.isErrorEvent)(exception)&&exception.error){var errorEvent=exception;return exception=errorEvent.error,event=(0,_parsers.eventFromStacktrace)((0,_tracekit.computeStackTrace)(exception))}if((0,_utils.isDOMError)(exception)||(0,_utils.isDOMException)(exception)){var domException=exception,name_1=domException.name||((0,_utils.isDOMError)(domException)?"DOMError":"DOMException"),message=domException.message?name_1+": "+domException.message:name_1;return event=eventFromString(message,syntheticException,options),(0,_utils.addExceptionTypeValue)(event,message),event}if((0,_utils.isError)(exception))return event=(0,_parsers.eventFromStacktrace)((0,_tracekit.computeStackTrace)(exception));if((0,_utils.isPlainObject)(exception)||(0,_utils.isEvent)(exception)){var objectException=exception;return event=(0,_parsers.eventFromPlainObject)(objectException,syntheticException,options.rejection),(0,_utils.addExceptionMechanism)(event,{synthetic:!0}),event}return event=eventFromString(exception,syntheticException,options),(0,_utils.addExceptionTypeValue)(event,""+exception,void 0),(0,_utils.addExceptionMechanism)(event,{synthetic:!0}),event},exports.eventFromString=eventFromString;var _utils=require("@sentry/utils"),_parsers=require("./parsers"),_tracekit=require("./tracekit");function eventFromString(input,syntheticException,options){void 0===options&&(options={});var event={message:input};if(options.attachStacktrace&&syntheticException){var stacktrace=(0,_tracekit.computeStackTrace)(syntheticException),frames_1=(0,_parsers.prepareFramesForEvent)(stacktrace.stack);event.stacktrace={frames:frames_1}}return event}},{"@sentry/utils":"vnUD","./parsers":"kAUL","./tracekit":"EptK"}],TRJV:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseTransport=void 0;var _core=require("@sentry/core"),_utils=require("@sentry/utils"),BaseTransport=function(){function BaseTransport(options){this.options=options,this._buffer=new _utils.PromiseBuffer(30),this.url=new _core.API(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return BaseTransport.prototype.sendEvent=function(_){throw new _utils.SentryError("Transport Class has to implement `sendEvent` method")},BaseTransport.prototype.close=function(timeout){return this._buffer.drain(timeout)},BaseTransport}();exports.BaseTransport=BaseTransport},{"@sentry/core":"TZM3","@sentry/utils":"vnUD"}],HQW2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FetchTransport=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_types=require("@sentry/types"),_utils=require("@sentry/utils"),_base=require("./base");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var global=(0,_utils.getGlobalObject)(),FetchTransport=function(_super){function FetchTransport(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._disabledUntil=new Date(Date.now()),_this}return tslib_1.__extends(FetchTransport,_super),FetchTransport.prototype.sendEvent=function(event){var _this=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:event,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var defaultOptions={body:JSON.stringify(event),method:"POST",referrerPolicy:(0,_utils.supportsReferrerPolicy)()?"origin":""};return void 0!==this.options.headers&&(defaultOptions.headers=this.options.headers),this._buffer.add(new _utils.SyncPromise(function(resolve,reject){global.fetch(_this.url,defaultOptions).then(function(response){var status=_types.Status.fromHttpCode(response.status);if(status!==_types.Status.Success){if(status===_types.Status.RateLimit){var now=Date.now();_this._disabledUntil=new Date(now+(0,_utils.parseRetryAfterHeader)(now,response.headers.get("Retry-After"))),_utils.logger.warn("Too many requests, backing off till: "+_this._disabledUntil)}reject(response)}else resolve({status:status})}).catch(reject)}))},FetchTransport}(_base.BaseTransport);exports.FetchTransport=FetchTransport},{tslib:"vCxL","@sentry/types":"vYhp","@sentry/utils":"vnUD","./base":"TRJV"}],mwwI:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XHRTransport=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_types=require("@sentry/types"),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var XHRTransport=function(_super){function XHRTransport(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._disabledUntil=new Date(Date.now()),_this}return tslib_1.__extends(XHRTransport,_super),XHRTransport.prototype.sendEvent=function(event){var _this=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:event,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new _utils.SyncPromise(function(resolve,reject){var request=new XMLHttpRequest;for(var header in request.onreadystatechange=function(){if(4===request.readyState){var status=_types.Status.fromHttpCode(request.status);if(status!==_types.Status.Success){if(status===_types.Status.RateLimit){var now=Date.now();_this._disabledUntil=new Date(now+(0,_utils.parseRetryAfterHeader)(now,request.getResponseHeader("Retry-After"))),_utils.logger.warn("Too many requests, backing off till: "+_this._disabledUntil)}reject(request)}else resolve({status:status})}},request.open("POST",_this.url),_this.options.headers)_this.options.headers.hasOwnProperty(header)&&request.setRequestHeader(header,_this.options.headers[header]);request.send(JSON.stringify(event))}))},XHRTransport}(require("./base").BaseTransport);exports.XHRTransport=XHRTransport},{tslib:"vCxL","@sentry/types":"vYhp","@sentry/utils":"vnUD","./base":"TRJV"}],iexI:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"BaseTransport",{enumerable:!0,get:function(){return _base.BaseTransport}}),Object.defineProperty(exports,"FetchTransport",{enumerable:!0,get:function(){return _fetch.FetchTransport}}),Object.defineProperty(exports,"XHRTransport",{enumerable:!0,get:function(){return _xhr.XHRTransport}});var _base=require("./base"),_fetch=require("./fetch"),_xhr=require("./xhr")},{"./base":"TRJV","./fetch":"HQW2","./xhr":"mwwI"}],V30D:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BrowserBackend=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_core=require("@sentry/core"),_types=require("@sentry/types"),_utils=require("@sentry/utils"),_eventbuilder=require("./eventbuilder"),_transports=require("./transports");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var BrowserBackend=function(_super){function BrowserBackend(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(BrowserBackend,_super),BrowserBackend.prototype._setupTransport=function(){if(!this._options.dsn)return _super.prototype._setupTransport.call(this);var transportOptions=tslib_1.__assign({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(transportOptions):(0,_utils.supportsFetch)()?new _transports.FetchTransport(transportOptions):new _transports.XHRTransport(transportOptions)},BrowserBackend.prototype.eventFromException=function(exception,hint){var syntheticException=hint&&hint.syntheticException||void 0,event=(0,_eventbuilder.eventFromUnknownInput)(exception,syntheticException,{attachStacktrace:this._options.attachStacktrace});return(0,_utils.addExceptionMechanism)(event,{handled:!0,type:"generic"}),event.level=_types.Severity.Error,hint&&hint.event_id&&(event.event_id=hint.event_id),_utils.SyncPromise.resolve(event)},BrowserBackend.prototype.eventFromMessage=function(message,level,hint){void 0===level&&(level=_types.Severity.Info);var syntheticException=hint&&hint.syntheticException||void 0,event=(0,_eventbuilder.eventFromString)(message,syntheticException,{attachStacktrace:this._options.attachStacktrace});return event.level=level,hint&&hint.event_id&&(event.event_id=hint.event_id),_utils.SyncPromise.resolve(event)},BrowserBackend}(_core.BaseBackend);exports.BrowserBackend=BrowserBackend},{tslib:"vCxL","@sentry/core":"TZM3","@sentry/types":"vYhp","@sentry/utils":"vnUD","./eventbuilder":"yGRZ","./transports":"iexI"}],Qr3a:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SDK_VERSION=exports.SDK_NAME=void 0;exports.SDK_NAME="sentry.javascript.browser";exports.SDK_VERSION="5.15.4"},{}],s6nm:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BrowserClient=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_core=require("@sentry/core"),_utils=require("@sentry/utils"),_backend=require("./backend"),_version=require("./version");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var BrowserClient=function(_super){function BrowserClient(options){return void 0===options&&(options={}),_super.call(this,_backend.BrowserBackend,options)||this}return tslib_1.__extends(BrowserClient,_super),BrowserClient.prototype._prepareEvent=function(event,scope,hint){return event.platform=event.platform||"javascript",event.sdk=tslib_1.__assign({},event.sdk,{name:_version.SDK_NAME,packages:tslib_1.__spread(event.sdk&&event.sdk.packages||[],[{name:"npm:@sentry/browser",version:_version.SDK_VERSION}]),version:_version.SDK_VERSION}),_super.prototype._prepareEvent.call(this,event,scope,hint)},BrowserClient.prototype.showReportDialog=function(options){void 0===options&&(options={});var document=(0,_utils.getGlobalObject)().document;if(document)if(this._isEnabled()){var dsn=options.dsn||this.getDsn();if(options.eventId)if(dsn){var script=document.createElement("script");script.async=!0,script.src=new _core.API(dsn).getReportDialogEndpoint(options),options.onLoad&&(script.onload=options.onLoad),(document.head||document.body).appendChild(script)}else _utils.logger.error("Missing `Dsn` option in showReportDialog call");else _utils.logger.error("Missing `eventId` option in showReportDialog call")}else _utils.logger.error("Trying to call showReportDialog with Sentry Client is disabled")},BrowserClient}(_core.BaseClient);exports.BrowserClient=BrowserClient},{tslib:"vCxL","@sentry/core":"TZM3","@sentry/utils":"vnUD","./backend":"V30D","./version":"Qr3a"}],PuX9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shouldIgnoreOnError=function(){return ignoreOnError>0},exports.ignoreNextOnError=ignoreNextOnError,exports.wrap=function wrap(fn,options,before){void 0===options&&(options={});if("function"!=typeof fn)return fn;try{if(fn.__sentry__)return fn;if(fn.__sentry_wrapped__)return fn.__sentry_wrapped__}catch(e){return fn}var sentryWrapped=function(){var args=Array.prototype.slice.call(arguments);try{before&&"function"==typeof before&&before.apply(this,arguments);var wrappedArguments=args.map(function(arg){return wrap(arg,options)});return fn.handleEvent?fn.handleEvent.apply(this,wrappedArguments):fn.apply(this,wrappedArguments)}catch(ex){throw ignoreNextOnError(),(0,_core.withScope)(function(scope){scope.addEventProcessor(function(event){var processedEvent=tslib_1.__assign({},event);return options.mechanism&&((0,_utils.addExceptionTypeValue)(processedEvent,void 0,void 0),(0,_utils.addExceptionMechanism)(processedEvent,options.mechanism)),processedEvent.extra=tslib_1.__assign({},processedEvent.extra,{arguments:args}),processedEvent}),(0,_core.captureException)(ex)}),ex}};try{for(var property in fn)Object.prototype.hasOwnProperty.call(fn,property)&&(sentryWrapped[property]=fn[property])}catch(_oO){}fn.prototype=fn.prototype||{};sentryWrapped.prototype=fn.prototype;Object.defineProperty(fn,"__sentry_wrapped__",{enumerable:!1,value:sentryWrapped});Object.defineProperties(sentryWrapped,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:fn}});try{var descriptor=Object.getOwnPropertyDescriptor(sentryWrapped,"name");descriptor.configurable&&Object.defineProperty(sentryWrapped,"name",{get:function(){return fn.name}})}catch(_oO){}return sentryWrapped};var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_core=require("@sentry/core"),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ignoreOnError=0;function ignoreNextOnError(){ignoreOnError+=1,setTimeout(function(){ignoreOnError-=1})}},{tslib:"vCxL","@sentry/core":"TZM3","@sentry/utils":"vnUD"}],l5aE:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalHandlers=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_core=require("@sentry/core"),_types=require("@sentry/types"),_utils=require("@sentry/utils"),_eventbuilder=require("../eventbuilder"),_helpers=require("../helpers");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var GlobalHandlers=function(){function GlobalHandlers(options){this.name=GlobalHandlers.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=tslib_1.__assign({onerror:!0,onunhandledrejection:!0},options)}return GlobalHandlers.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(_utils.logger.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(_utils.logger.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},GlobalHandlers.prototype._installGlobalOnErrorHandler=function(){var _this=this;this._onErrorHandlerInstalled||((0,_utils.addInstrumentationHandler)({callback:function(data){var error=data.error,currentHub=(0,_core.getCurrentHub)(),hasIntegration=currentHub.getIntegration(GlobalHandlers),isFailedOwnDelivery=error&&!0===error.__sentry_own_request__;if(hasIntegration&&!(0,_helpers.shouldIgnoreOnError)()&&!isFailedOwnDelivery){var client=currentHub.getClient(),event=(0,_utils.isPrimitive)(error)?_this._eventFromIncompleteOnError(data.msg,data.url,data.line,data.column):_this._enhanceEventWithInitialFrame((0,_eventbuilder.eventFromUnknownInput)(error,void 0,{attachStacktrace:client&&client.getOptions().attachStacktrace,rejection:!1}),data.url,data.line,data.column);(0,_utils.addExceptionMechanism)(event,{handled:!1,type:"onerror"}),currentHub.captureEvent(event,{originalException:error})}},type:"error"}),this._onErrorHandlerInstalled=!0)},GlobalHandlers.prototype._installGlobalOnUnhandledRejectionHandler=function(){var _this=this;this._onUnhandledRejectionHandlerInstalled||((0,_utils.addInstrumentationHandler)({callback:function(e){var error=e;try{"reason"in e?error=e.reason:"detail"in e&&"reason"in e.detail&&(error=e.detail.reason)}catch(_oO){}var currentHub=(0,_core.getCurrentHub)(),hasIntegration=currentHub.getIntegration(GlobalHandlers),isFailedOwnDelivery=error&&!0===error.__sentry_own_request__;if(!hasIntegration||(0,_helpers.shouldIgnoreOnError)()||isFailedOwnDelivery)return!0;var client=currentHub.getClient(),event=(0,_utils.isPrimitive)(error)?_this._eventFromIncompleteRejection(error):(0,_eventbuilder.eventFromUnknownInput)(error,void 0,{attachStacktrace:client&&client.getOptions().attachStacktrace,rejection:!0});event.level=_types.Severity.Error,(0,_utils.addExceptionMechanism)(event,{handled:!1,type:"onunhandledrejection"}),currentHub.captureEvent(event,{originalException:error})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},GlobalHandlers.prototype._eventFromIncompleteOnError=function(msg,url,line,column){var name,message=(0,_utils.isErrorEvent)(msg)?msg.message:msg;if((0,_utils.isString)(message)){var groups=message.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);groups&&(name=groups[1],message=groups[2])}var event={exception:{values:[{type:name||"Error",value:message}]}};return this._enhanceEventWithInitialFrame(event,url,line,column)},GlobalHandlers.prototype._eventFromIncompleteRejection=function(error){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+error}]}}},GlobalHandlers.prototype._enhanceEventWithInitialFrame=function(event,url,line,column){event.exception=event.exception||{},event.exception.values=event.exception.values||[],event.exception.values[0]=event.exception.values[0]||{},event.exception.values[0].stacktrace=event.exception.values[0].stacktrace||{},event.exception.values[0].stacktrace.frames=event.exception.values[0].stacktrace.frames||[];var colno=isNaN(parseInt(column,10))?void 0:column,lineno=isNaN(parseInt(line,10))?void 0:line,filename=(0,_utils.isString)(url)&&url.length>0?url:(0,_utils.getLocationHref)();return 0===event.exception.values[0].stacktrace.frames.length&&event.exception.values[0].stacktrace.frames.push({colno:colno,filename:filename,function:"?",in_app:!0,lineno:lineno}),event},GlobalHandlers.id="GlobalHandlers",GlobalHandlers}();exports.GlobalHandlers=GlobalHandlers},{tslib:"vCxL","@sentry/core":"TZM3","@sentry/types":"vYhp","@sentry/utils":"vnUD","../eventbuilder":"yGRZ","../helpers":"PuX9"}],Q7DM:[function(require,module,exports){arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.TryCatch=void 0;var _utils=require("@sentry/utils"),_helpers=require("../helpers"),TryCatch=function(){function TryCatch(){this._ignoreOnError=0,this.name=TryCatch.id}return TryCatch.prototype._wrapTimeFunction=function(original){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var originalCallback=args[0];return args[0]=(0,_helpers.wrap)(originalCallback,{mechanism:{data:{function:(0,_utils.getFunctionName)(original)},handled:!0,type:"instrument"}}),original.apply(this,args)}},TryCatch.prototype._wrapRAF=function(original){return function(callback){return original((0,_helpers.wrap)(callback,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,_utils.getFunctionName)(original)},handled:!0,type:"instrument"}}))}},TryCatch.prototype._wrapEventTarget=function(target){var global=(0,_utils.getGlobalObject)(),proto=global[target]&&global[target].prototype;proto&&proto.hasOwnProperty&&proto.hasOwnProperty("addEventListener")&&((0,_utils.fill)(proto,"addEventListener",function(original){return function(eventName,fn,options){try{"function"==typeof fn.handleEvent&&(fn.handleEvent=(0,_helpers.wrap)(fn.handleEvent.bind(fn),{mechanism:{data:{function:"handleEvent",handler:(0,_utils.getFunctionName)(fn),target:target},handled:!0,type:"instrument"}}))}catch(err){}return original.call(this,eventName,(0,_helpers.wrap)(fn,{mechanism:{data:{function:"addEventListener",handler:(0,_utils.getFunctionName)(fn),target:target},handled:!0,type:"instrument"}}),options)}}),(0,_utils.fill)(proto,"removeEventListener",function(original){return function(eventName,fn,options){var callback=fn;try{callback=callback&&(callback.__sentry_wrapped__||callback)}catch(e){}return original.call(this,eventName,callback,options)}}))},TryCatch.prototype._wrapXHR=function(originalSend){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var xhr=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(prop){prop in xhr&&"function"==typeof xhr[prop]&&(0,_utils.fill)(xhr,prop,function(original){var wrapOptions={mechanism:{data:{function:prop,handler:(0,_utils.getFunctionName)(original)},handled:!0,type:"instrument"}};return original.__sentry_original__&&(wrapOptions.mechanism.data.handler=(0,_utils.getFunctionName)(original.__sentry_original__)),(0,_helpers.wrap)(original,wrapOptions)})}),originalSend.apply(this,args)}},TryCatch.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var global=(0,_utils.getGlobalObject)();(0,_utils.fill)(global,"setTimeout",this._wrapTimeFunction.bind(this)),(0,_utils.fill)(global,"setInterval",this._wrapTimeFunction.bind(this)),(0,_utils.fill)(global,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in global&&(0,_utils.fill)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},TryCatch.id="TryCatch",TryCatch}();exports.TryCatch=TryCatch},{"@sentry/utils":"vnUD","../helpers":"PuX9"}],YFxN:[function(require,module,exports){arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.Breadcrumbs=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_core=require("@sentry/core"),_types=require("@sentry/types"),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var Breadcrumbs=function(){function Breadcrumbs(options){this.name=Breadcrumbs.id,this._options=tslib_1.__assign({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},options)}return Breadcrumbs.prototype._consoleBreadcrumb=function(handlerData){var breadcrumb={category:"console",data:{arguments:handlerData.args,logger:"console"},level:_types.Severity.fromString(handlerData.level),message:(0,_utils.safeJoin)(handlerData.args," ")};if("assert"===handlerData.level){if(!1!==handlerData.args[0])return;breadcrumb.message="Assertion failed: "+((0,_utils.safeJoin)(handlerData.args.slice(1)," ")||"console.assert"),breadcrumb.data.arguments=handlerData.args.slice(1)}(0,_core.getCurrentHub)().addBreadcrumb(breadcrumb,{input:handlerData.args,level:handlerData.level})},Breadcrumbs.prototype._domBreadcrumb=function(handlerData){var target;try{target=handlerData.event.target?(0,_utils.htmlTreeAsString)(handlerData.event.target):(0,_utils.htmlTreeAsString)(handlerData.event)}catch(e){target="<unknown>"}0!==target.length&&(0,_core.getCurrentHub)().addBreadcrumb({category:"ui."+handlerData.name,message:target},{event:handlerData.event,name:handlerData.name})},Breadcrumbs.prototype._xhrBreadcrumb=function(handlerData){if(handlerData.endTimestamp){if(handlerData.xhr.__sentry_own_request__)return;(0,_core.getCurrentHub)().addBreadcrumb({category:"xhr",data:handlerData.xhr.__sentry_xhr__,type:"http"},{xhr:handlerData.xhr})}else this._options.sentry&&handlerData.xhr.__sentry_own_request__&&addSentryBreadcrumb(handlerData.args[0])},Breadcrumbs.prototype._fetchBreadcrumb=function(handlerData){if(handlerData.endTimestamp){var client=(0,_core.getCurrentHub)().getClient(),dsn=client&&client.getDsn();if(this._options.sentry&&dsn){var filterUrl=new _core.API(dsn).getStoreEndpoint();if(filterUrl&&-1!==handlerData.fetchData.url.indexOf(filterUrl)&&"POST"===handlerData.fetchData.method&&handlerData.args[1]&&handlerData.args[1].body)return void addSentryBreadcrumb(handlerData.args[1].body)}handlerData.error?(0,_core.getCurrentHub)().addBreadcrumb({category:"fetch",data:tslib_1.__assign({},handlerData.fetchData,{status_code:handlerData.response.status}),level:_types.Severity.Error,type:"http"},{data:handlerData.error,input:handlerData.args}):(0,_core.getCurrentHub)().addBreadcrumb({category:"fetch",data:tslib_1.__assign({},handlerData.fetchData,{status_code:handlerData.response.status}),type:"http"},{input:handlerData.args,response:handlerData.response})}},Breadcrumbs.prototype._historyBreadcrumb=function(handlerData){var global=(0,_utils.getGlobalObject)(),from=handlerData.from,to=handlerData.to,parsedLoc=(0,_utils.parseUrl)(global.location.href),parsedFrom=(0,_utils.parseUrl)(from),parsedTo=(0,_utils.parseUrl)(to);parsedFrom.path||(parsedFrom=parsedLoc),parsedLoc.protocol===parsedTo.protocol&&parsedLoc.host===parsedTo.host&&(to=parsedTo.relative),parsedLoc.protocol===parsedFrom.protocol&&parsedLoc.host===parsedFrom.host&&(from=parsedFrom.relative),(0,_core.getCurrentHub)().addBreadcrumb({category:"navigation",data:{from:from,to:to}})},Breadcrumbs.prototype.setupOnce=function(){var _this=this;this._options.console&&(0,_utils.addInstrumentationHandler)({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._consoleBreadcrumb.apply(_this,tslib_1.__spread(args))},type:"console"}),this._options.dom&&(0,_utils.addInstrumentationHandler)({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._domBreadcrumb.apply(_this,tslib_1.__spread(args))},type:"dom"}),this._options.xhr&&(0,_utils.addInstrumentationHandler)({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._xhrBreadcrumb.apply(_this,tslib_1.__spread(args))},type:"xhr"}),this._options.fetch&&(0,_utils.addInstrumentationHandler)({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._fetchBreadcrumb.apply(_this,tslib_1.__spread(args))},type:"fetch"}),this._options.history&&(0,_utils.addInstrumentationHandler)({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._historyBreadcrumb.apply(_this,tslib_1.__spread(args))},type:"history"})},Breadcrumbs.id="Breadcrumbs",Breadcrumbs}();function addSentryBreadcrumb(serializedData){try{var event_1=JSON.parse(serializedData);(0,_core.getCurrentHub)().addBreadcrumb({category:"sentry."+("transaction"===event_1.type?"transaction":"event"),event_id:event_1.event_id,level:event_1.level||_types.Severity.fromString("error"),message:(0,_utils.getEventDescription)(event_1)},{event:event_1})}catch(_oO){_utils.logger.error("Error while adding sentry type breadcrumb")}}exports.Breadcrumbs=Breadcrumbs},{tslib:"vCxL","@sentry/core":"TZM3","@sentry/types":"vYhp","@sentry/utils":"vnUD"}],KquI:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinkedErrors=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_core=require("@sentry/core"),_utils=require("@sentry/utils"),_parsers=require("../parsers"),_tracekit=require("../tracekit");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var DEFAULT_KEY="cause",DEFAULT_LIMIT=5,LinkedErrors=function(){function LinkedErrors(options){void 0===options&&(options={}),this.name=LinkedErrors.id,this._key=options.key||DEFAULT_KEY,this._limit=options.limit||DEFAULT_LIMIT}return LinkedErrors.prototype.setupOnce=function(){(0,_core.addGlobalEventProcessor)(function(event,hint){var self=(0,_core.getCurrentHub)().getIntegration(LinkedErrors);return self?self._handler(event,hint):event})},LinkedErrors.prototype._handler=function(event,hint){if(!(event.exception&&event.exception.values&&hint&&(0,_utils.isInstanceOf)(hint.originalException,Error)))return event;var linkedErrors=this._walkErrorTree(hint.originalException,this._key);return event.exception.values=tslib_1.__spread(linkedErrors,event.exception.values),event},LinkedErrors.prototype._walkErrorTree=function(error,key,stack){if(void 0===stack&&(stack=[]),!(0,_utils.isInstanceOf)(error[key],Error)||stack.length+1>=this._limit)return stack;var stacktrace=(0,_tracekit.computeStackTrace)(error[key]),exception=(0,_parsers.exceptionFromStacktrace)(stacktrace);return this._walkErrorTree(error[key],key,tslib_1.__spread([exception],stack))},LinkedErrors.id="LinkedErrors",LinkedErrors}();exports.LinkedErrors=LinkedErrors},{tslib:"vCxL","@sentry/core":"TZM3","@sentry/utils":"vnUD","../parsers":"kAUL","../tracekit":"EptK"}],wEu1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserAgent=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_core=require("@sentry/core");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var global=(0,require("@sentry/utils").getGlobalObject)(),UserAgent=function(){function UserAgent(){this.name=UserAgent.id}return UserAgent.prototype.setupOnce=function(){(0,_core.addGlobalEventProcessor)(function(event){if((0,_core.getCurrentHub)().getIntegration(UserAgent)){if(!global.navigator||!global.location)return event;var request=event.request||{};return request.url=request.url||global.location.href,request.headers=request.headers||{},request.headers["User-Agent"]=global.navigator.userAgent,tslib_1.__assign({},event,{request:request})}return event})},UserAgent.id="UserAgent",UserAgent}();exports.UserAgent=UserAgent},{tslib:"vCxL","@sentry/core":"TZM3","@sentry/utils":"vnUD"}],vue0:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"GlobalHandlers",{enumerable:!0,get:function(){return _globalhandlers.GlobalHandlers}}),Object.defineProperty(exports,"TryCatch",{enumerable:!0,get:function(){return _trycatch.TryCatch}}),Object.defineProperty(exports,"Breadcrumbs",{enumerable:!0,get:function(){return _breadcrumbs.Breadcrumbs}}),Object.defineProperty(exports,"LinkedErrors",{enumerable:!0,get:function(){return _linkederrors.LinkedErrors}}),Object.defineProperty(exports,"UserAgent",{enumerable:!0,get:function(){return _useragent.UserAgent}});var _globalhandlers=require("./globalhandlers"),_trycatch=require("./trycatch"),_breadcrumbs=require("./breadcrumbs"),_linkederrors=require("./linkederrors"),_useragent=require("./useragent")},{"./globalhandlers":"l5aE","./trycatch":"Q7DM","./breadcrumbs":"YFxN","./linkederrors":"KquI","./useragent":"wEu1"}],nKpN:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=function(options){void 0===options&&(options={});void 0===options.defaultIntegrations&&(options.defaultIntegrations=defaultIntegrations);if(void 0===options.release){var window_1=(0,_utils.getGlobalObject)();window_1.SENTRY_RELEASE&&window_1.SENTRY_RELEASE.id&&(options.release=window_1.SENTRY_RELEASE.id)}(0,_core.initAndBind)(_client.BrowserClient,options)},exports.showReportDialog=function(options){void 0===options&&(options={});options.eventId||(options.eventId=(0,_core.getCurrentHub)().lastEventId());var client=(0,_core.getCurrentHub)().getClient();client&&client.showReportDialog(options)},exports.lastEventId=function(){return(0,_core.getCurrentHub)().lastEventId()},exports.forceLoad=function(){},exports.onLoad=function(callback){callback()},exports.flush=function(timeout){var client=(0,_core.getCurrentHub)().getClient();if(client)return client.flush(timeout);return _utils.SyncPromise.reject(!1)},exports.close=function(timeout){var client=(0,_core.getCurrentHub)().getClient();if(client)return client.close(timeout);return _utils.SyncPromise.reject(!1)},exports.wrap=function(fn){return(0,_helpers.wrap)(fn)()},exports.defaultIntegrations=void 0;var _core=require("@sentry/core"),_utils=require("@sentry/utils"),_client=require("./client"),_helpers=require("./helpers"),_integrations=require("./integrations"),defaultIntegrations=[new _core.Integrations.InboundFilters,new _core.Integrations.FunctionToString,new _integrations.TryCatch,new _integrations.Breadcrumbs,new _integrations.GlobalHandlers,new _integrations.LinkedErrors,new _integrations.UserAgent];exports.defaultIntegrations=defaultIntegrations},{"@sentry/core":"TZM3","@sentry/utils":"vnUD","./client":"s6nm","./helpers":"PuX9","./integrations":"vue0"}],QNOP:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Severity",{enumerable:!0,get:function(){return _types.Severity}}),Object.defineProperty(exports,"Status",{enumerable:!0,get:function(){return _types.Status}}),Object.defineProperty(exports,"addGlobalEventProcessor",{enumerable:!0,get:function(){return _core.addGlobalEventProcessor}}),Object.defineProperty(exports,"addBreadcrumb",{enumerable:!0,get:function(){return _core.addBreadcrumb}}),Object.defineProperty(exports,"captureException",{enumerable:!0,get:function(){return _core.captureException}}),Object.defineProperty(exports,"captureEvent",{enumerable:!0,get:function(){return _core.captureEvent}}),Object.defineProperty(exports,"captureMessage",{enumerable:!0,get:function(){return _core.captureMessage}}),Object.defineProperty(exports,"configureScope",{enumerable:!0,get:function(){return _core.configureScope}}),Object.defineProperty(exports,"getHubFromCarrier",{enumerable:!0,get:function(){return _core.getHubFromCarrier}}),Object.defineProperty(exports,"getCurrentHub",{enumerable:!0,get:function(){return _core.getCurrentHub}}),Object.defineProperty(exports,"Hub",{enumerable:!0,get:function(){return _core.Hub}}),Object.defineProperty(exports,"Scope",{enumerable:!0,get:function(){return _core.Scope}}),Object.defineProperty(exports,"setContext",{enumerable:!0,get:function(){return _core.setContext}}),Object.defineProperty(exports,"setExtra",{enumerable:!0,get:function(){return _core.setExtra}}),Object.defineProperty(exports,"setExtras",{enumerable:!0,get:function(){return _core.setExtras}}),Object.defineProperty(exports,"setTag",{enumerable:!0,get:function(){return _core.setTag}}),Object.defineProperty(exports,"setTags",{enumerable:!0,get:function(){return _core.setTags}}),Object.defineProperty(exports,"setUser",{enumerable:!0,get:function(){return _core.setUser}}),Object.defineProperty(exports,"withScope",{enumerable:!0,get:function(){return _core.withScope}}),Object.defineProperty(exports,"BrowserClient",{enumerable:!0,get:function(){return _client.BrowserClient}}),Object.defineProperty(exports,"defaultIntegrations",{enumerable:!0,get:function(){return _sdk.defaultIntegrations}}),Object.defineProperty(exports,"forceLoad",{enumerable:!0,get:function(){return _sdk.forceLoad}}),Object.defineProperty(exports,"init",{enumerable:!0,get:function(){return _sdk.init}}),Object.defineProperty(exports,"lastEventId",{enumerable:!0,get:function(){return _sdk.lastEventId}}),Object.defineProperty(exports,"onLoad",{enumerable:!0,get:function(){return _sdk.onLoad}}),Object.defineProperty(exports,"showReportDialog",{enumerable:!0,get:function(){return _sdk.showReportDialog}}),Object.defineProperty(exports,"flush",{enumerable:!0,get:function(){return _sdk.flush}}),Object.defineProperty(exports,"close",{enumerable:!0,get:function(){return _sdk.close}}),Object.defineProperty(exports,"wrap",{enumerable:!0,get:function(){return _sdk.wrap}}),Object.defineProperty(exports,"SDK_NAME",{enumerable:!0,get:function(){return _version.SDK_NAME}}),Object.defineProperty(exports,"SDK_VERSION",{enumerable:!0,get:function(){return _version.SDK_VERSION}});var _types=require("@sentry/types"),_core=require("@sentry/core"),_client=require("./client"),_sdk=require("./sdk"),_version=require("./version")},{"@sentry/types":"vYhp","@sentry/core":"TZM3","./client":"s6nm","./sdk":"nKpN","./version":"Qr3a"}],cUe8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _exportNames={Integrations:!0,Transports:!0};exports.Transports=exports.Integrations=void 0;var tslib_1=_interopRequireWildcard(require("tslib")),_exports=require("./exports");Object.keys(_exports).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _exports[key]}}))});var _core=require("@sentry/core"),_utils=require("@sentry/utils"),BrowserIntegrations=_interopRequireWildcard(require("./integrations")),Transports=_interopRequireWildcard(require("./transports"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}exports.Transports=Transports;var windowIntegrations={},_window=(0,_utils.getGlobalObject)();_window.Sentry&&_window.Sentry.Integrations&&(windowIntegrations=_window.Sentry.Integrations);var INTEGRATIONS=tslib_1.__assign({},windowIntegrations,_core.Integrations,BrowserIntegrations);exports.Integrations=INTEGRATIONS},{tslib:"vCxL","./exports":"QNOP","@sentry/core":"TZM3","@sentry/utils":"vnUD","./integrations":"vue0","./transports":"iexI"}],Te8N:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Angular=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var angularPattern=/^\[((?:[$a-zA-Z0-9]+:)?(?:[$a-zA-Z0-9]+))\] (.*?)\n?(\S+)$/,Angular=function(){function Angular(options){void 0===options&&(options={}),this.name=Angular.id,this._angular=options.angular||(0,_utils.getGlobalObject)().angular}return Angular.prototype.setupOnce=function(_,getCurrentHub){var _this=this;this._angular?(this._getCurrentHub=getCurrentHub,this._angular.module(Angular.moduleName,[]).config(["$provide",function($provide){$provide.decorator("$exceptionHandler",["$delegate",_this._$exceptionHandlerDecorator.bind(_this)])}])):_utils.logger.error("AngularIntegration is missing an Angular instance")},Angular.prototype._$exceptionHandlerDecorator=function($delegate){var _this=this;return function(exception,cause){var hub=_this._getCurrentHub&&_this._getCurrentHub();hub&&hub.getIntegration(Angular)&&hub.withScope(function(scope){cause&&scope.setExtra("cause",cause),scope.addEventProcessor(function(event){var ex=event.exception&&event.exception.values&&event.exception.values[0];if(ex){var matches=angularPattern.exec(ex.value||"");matches&&(ex.type=matches[1],ex.value=matches[2],event.message=ex.type+": "+ex.value,event.extra=tslib_1.__assign({},event.extra,{angularDocs:matches[3].substr(0,250)}))}return event}),hub.captureException(exception)}),$delegate(exception,cause)}},Angular.id="AngularJS",Angular.moduleName="ngSentry",Angular}();exports.Angular=Angular},{tslib:"vCxL","@sentry/utils":"vnUD"}],bFxB:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CaptureConsole=void 0;var _types=require("@sentry/types"),_utils=require("@sentry/utils"),global=(0,_utils.getGlobalObject)(),CaptureConsole=function(){function CaptureConsole(options){void 0===options&&(options={}),this.name=CaptureConsole.id,this._levels=["log","info","warn","error","debug","assert"],options.levels&&(this._levels=options.levels)}return CaptureConsole.prototype.setupOnce=function(_,getCurrentHub){"console"in global&&this._levels.forEach(function(level){level in global.console&&(0,_utils.fill)(global.console,level,function(originalConsoleLevel){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var hub=getCurrentHub();hub.getIntegration(CaptureConsole)&&hub.withScope(function(scope){scope.setLevel(_types.Severity.fromString(level)),scope.setExtra("arguments",args),scope.addEventProcessor(function(event){return event.logger="console",event});var message=(0,_utils.safeJoin)(args," ");"assert"===level?!1===args[0]&&(message="Assertion failed: "+((0,_utils.safeJoin)(args.slice(1)," ")||"console.assert"),scope.setExtra("arguments",args.slice(1)),hub.captureMessage(message)):hub.captureMessage(message)}),originalConsoleLevel&&Function.prototype.apply.call(originalConsoleLevel,global.console,args)}})})},CaptureConsole.id="CaptureConsole",CaptureConsole}();exports.CaptureConsole=CaptureConsole},{"@sentry/types":"vYhp","@sentry/utils":"vnUD"}],Uv1x:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Debug=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var Debug=function(){function Debug(options){this.name=Debug.id,this._options=tslib_1.__assign({debugger:!1,stringify:!1},options)}return Debug.prototype.setupOnce=function(addGlobalEventProcessor,getCurrentHub){addGlobalEventProcessor(function(event,hint){var self=getCurrentHub().getIntegration(Debug);return self&&(self._options.debugger,(0,_utils.consoleSandbox)(function(){self._options.stringify?(console.log(JSON.stringify(event,null,2)),hint&&console.log(JSON.stringify(hint,null,2))):(console.log(event),hint&&console.log(hint))})),event})},Debug.id="Debug",Debug}();exports.Debug=Debug},{tslib:"vCxL","@sentry/utils":"vnUD"}],pxcH:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dedupe=void 0;var Dedupe=function(){function Dedupe(){this.name=Dedupe.id}return Dedupe.prototype.setupOnce=function(addGlobalEventProcessor,getCurrentHub){addGlobalEventProcessor(function(currentEvent){var self=getCurrentHub().getIntegration(Dedupe);if(self){try{if(self._shouldDropEvent(currentEvent,self._previousEvent))return null}catch(_oO){return self._previousEvent=currentEvent}return self._previousEvent=currentEvent}return currentEvent})},Dedupe.prototype._shouldDropEvent=function(currentEvent,previousEvent){return!!previousEvent&&(!!this._isSameMessageEvent(currentEvent,previousEvent)||!!this._isSameExceptionEvent(currentEvent,previousEvent))},Dedupe.prototype._isSameMessageEvent=function(currentEvent,previousEvent){var currentMessage=currentEvent.message,previousMessage=previousEvent.message;return!(!currentMessage&&!previousMessage)&&(!(currentMessage&&!previousMessage||!currentMessage&&previousMessage)&&(currentMessage===previousMessage&&(!!this._isSameFingerprint(currentEvent,previousEvent)&&!!this._isSameStacktrace(currentEvent,previousEvent))))},Dedupe.prototype._getFramesFromEvent=function(event){var exception=event.exception;if(exception)try{return exception.values[0].stacktrace.frames}catch(_oO){return}else if(event.stacktrace)return event.stacktrace.frames},Dedupe.prototype._isSameStacktrace=function(currentEvent,previousEvent){var currentFrames=this._getFramesFromEvent(currentEvent),previousFrames=this._getFramesFromEvent(previousEvent);if(!currentFrames&&!previousFrames)return!0;if(currentFrames&&!previousFrames||!currentFrames&&previousFrames)return!1;if(currentFrames=currentFrames,(previousFrames=previousFrames).length!==currentFrames.length)return!1;for(var i=0;i<previousFrames.length;i++){var frameA=previousFrames[i],frameB=currentFrames[i];if(frameA.filename!==frameB.filename||frameA.lineno!==frameB.lineno||frameA.colno!==frameB.colno||frameA.function!==frameB.function)return!1}return!0},Dedupe.prototype._getExceptionFromEvent=function(event){return event.exception&&event.exception.values&&event.exception.values[0]},Dedupe.prototype._isSameExceptionEvent=function(currentEvent,previousEvent){var previousException=this._getExceptionFromEvent(previousEvent),currentException=this._getExceptionFromEvent(currentEvent);return!(!previousException||!currentException)&&(previousException.type===currentException.type&&previousException.value===currentException.value&&(!!this._isSameFingerprint(currentEvent,previousEvent)&&!!this._isSameStacktrace(currentEvent,previousEvent)))},Dedupe.prototype._isSameFingerprint=function(currentEvent,previousEvent){var currentFingerprint=currentEvent.fingerprint,previousFingerprint=previousEvent.fingerprint;if(!currentFingerprint&&!previousFingerprint)return!0;if(currentFingerprint&&!previousFingerprint||!currentFingerprint&&previousFingerprint)return!1;currentFingerprint=currentFingerprint,previousFingerprint=previousFingerprint;try{return!(currentFingerprint.join("")!==previousFingerprint.join(""))}catch(_oO){return!1}},Dedupe.id="Dedupe",Dedupe}();exports.Dedupe=Dedupe},{}],YEmO:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ember=void 0;var _utils=require("@sentry/utils"),Ember=function(){function Ember(options){void 0===options&&(options={}),this.name=Ember.id,this._Ember=options.Ember||(0,_utils.getGlobalObject)().Ember}return Ember.prototype.setupOnce=function(_,getCurrentHub){var _this=this;if(this._Ember){var oldOnError=this._Ember.onerror;this._Ember.onerror=function(error){if(getCurrentHub().getIntegration(Ember)&&getCurrentHub().captureException(error,{originalException:error}),"function"==typeof oldOnError)oldOnError.call(_this._Ember,error);else if(_this._Ember.testing)throw error},this._Ember.RSVP.on("error",function(reason){getCurrentHub().getIntegration(Ember)&&getCurrentHub().withScope(function(scope){(0,_utils.isInstanceOf)(reason,Error)?(scope.setExtra("context","Unhandled Promise error detected"),getCurrentHub().captureException(reason,{originalException:reason})):(scope.setExtra("reason",reason),getCurrentHub().captureMessage("Unhandled Promise error detected"))})})}else _utils.logger.error("EmberIntegration is missing an Ember instance")},Ember.id="Ember",Ember}();exports.Ember=Ember},{"@sentry/utils":"vnUD"}],dQ1l:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExtraErrorData=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var ExtraErrorData=function(){function ExtraErrorData(_options){void 0===_options&&(_options={depth:3}),this._options=_options,this.name=ExtraErrorData.id}return ExtraErrorData.prototype.setupOnce=function(addGlobalEventProcessor,getCurrentHub){addGlobalEventProcessor(function(event,hint){var self=getCurrentHub().getIntegration(ExtraErrorData);return self?self.enhanceEventWithErrorData(event,hint):event})},ExtraErrorData.prototype.enhanceEventWithErrorData=function(event,hint){var _a;if(!hint||!hint.originalException||!(0,_utils.isError)(hint.originalException))return event;var name=hint.originalException.name||hint.originalException.constructor.name,errorData=this._extractErrorData(hint.originalException);if(errorData){var contexts=tslib_1.__assign({},event.contexts),normalizedErrorData=(0,_utils.normalize)(errorData,this._options.depth);return(0,_utils.isPlainObject)(normalizedErrorData)&&(contexts=tslib_1.__assign({},event.contexts,((_a={})[name]=tslib_1.__assign({},normalizedErrorData),_a))),tslib_1.__assign({},event,{contexts:contexts})}return event},ExtraErrorData.prototype._extractErrorData=function(error){var e_1,_a,result=null;try{var nativeKeys_1=["name","message","stack","line","column","fileName","lineNumber","columnNumber"],errorKeys=Object.getOwnPropertyNames(error).filter(function(key){return-1===nativeKeys_1.indexOf(key)});if(errorKeys.length){var extraErrorInfo={};try{for(var errorKeys_1=tslib_1.__values(errorKeys),errorKeys_1_1=errorKeys_1.next();!errorKeys_1_1.done;errorKeys_1_1=errorKeys_1.next()){var key=errorKeys_1_1.value,value=error[key];(0,_utils.isError)(value)&&(value=value.toString()),extraErrorInfo[key]=value}}catch(e_1_1){e_1={error:e_1_1}}finally{try{errorKeys_1_1&&!errorKeys_1_1.done&&(_a=errorKeys_1.return)&&_a.call(errorKeys_1)}finally{if(e_1)throw e_1.error}}result=extraErrorInfo}}catch(oO){_utils.logger.error("Unable to extract extra data from the Error object:",oO)}return result},ExtraErrorData.id="ExtraErrorData",ExtraErrorData}();exports.ExtraErrorData=ExtraErrorData},{tslib:"vCxL","@sentry/utils":"vnUD"}],kx0G:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReportingObserver=void 0;var ReportTypes,tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}!function(ReportTypes){ReportTypes.Crash="crash",ReportTypes.Deprecation="deprecation",ReportTypes.Intervention="intervention"}(ReportTypes||(ReportTypes={}));var ReportingObserver=function(){function ReportingObserver(_options){void 0===_options&&(_options={types:[ReportTypes.Crash,ReportTypes.Deprecation,ReportTypes.Intervention]}),this._options=_options,this.name=ReportingObserver.id}return ReportingObserver.prototype.setupOnce=function(_,getCurrentHub){(0,_utils.supportsReportingObserver)()&&(this._getCurrentHub=getCurrentHub,new((0,_utils.getGlobalObject)().ReportingObserver)(this.handler.bind(this),{buffered:!0,types:this._options.types}).observe())},ReportingObserver.prototype.handler=function(reports){var e_1,_a,hub=this._getCurrentHub&&this._getCurrentHub();if(hub&&hub.getIntegration(ReportingObserver)){var _loop_1=function(report){hub.withScope(function(scope){scope.setExtra("url",report.url);var label="ReportingObserver ["+report.type+"]",details="No details available";if(report.body){var body,plainBody={};for(var prop in report.body)plainBody[prop]=report.body[prop];if(scope.setExtra("body",plainBody),report.type===ReportTypes.Crash)details=[(body=report.body).crashId||"",body.reason||""].join(" ").trim()||details;else details=(body=report.body).message||details}hub.captureMessage(label+": "+details)})};try{for(var reports_1=tslib_1.__values(reports),reports_1_1=reports_1.next();!reports_1_1.done;reports_1_1=reports_1.next()){_loop_1(reports_1_1.value)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{reports_1_1&&!reports_1_1.done&&(_a=reports_1.return)&&_a.call(reports_1)}finally{if(e_1)throw e_1.error}}}},ReportingObserver.id="ReportingObserver",ReportingObserver}();exports.ReportingObserver=ReportingObserver},{tslib:"vCxL","@sentry/utils":"vnUD"}],qbiJ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RewriteFrames=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib")),_utils=require("@sentry/utils");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var RewriteFrames=function(){function RewriteFrames(options){var _this=this;void 0===options&&(options={}),this.name=RewriteFrames.id,this._iteratee=function(frame){if(!frame.filename)return frame;var isWindowsFrame=/^[A-Z]:\\/.test(frame.filename),startsWithSlash=/^\//.test(frame.filename);if(frame.filename&&(isWindowsFrame||startsWithSlash)){var filename=isWindowsFrame?frame.filename.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):frame.filename,base=_this._root?(0,_utils.relative)(_this._root,filename):(0,_utils.basename)(filename);frame.filename="app:///"+base}return frame},options.root&&(this._root=options.root),options.iteratee&&(this._iteratee=options.iteratee)}return RewriteFrames.prototype.setupOnce=function(addGlobalEventProcessor,getCurrentHub){addGlobalEventProcessor(function(event){var self=getCurrentHub().getIntegration(RewriteFrames);return self?self.process(event):event})},RewriteFrames.prototype.process=function(event){return event.exception&&Array.isArray(event.exception.values)?this._processExceptionsEvent(event):event.stacktrace?this._processStacktraceEvent(event):event},RewriteFrames.prototype._processExceptionsEvent=function(event){var _this=this;try{return tslib_1.__assign({},event,{exception:tslib_1.__assign({},event.exception,{values:event.exception.values.map(function(value){return tslib_1.__assign({},value,{stacktrace:_this._processStacktrace(value.stacktrace)})})})})}catch(_oO){return event}},RewriteFrames.prototype._processStacktraceEvent=function(event){try{return tslib_1.__assign({},event,{stacktrace:this._processStacktrace(event.stacktrace)})}catch(_oO){return event}},RewriteFrames.prototype._processStacktrace=function(stacktrace){var _this=this;return tslib_1.__assign({},stacktrace,{frames:stacktrace&&stacktrace.frames&&stacktrace.frames.map(function(f){return _this._iteratee(f)})})},RewriteFrames.id="RewriteFrames",RewriteFrames}();exports.RewriteFrames=RewriteFrames},{tslib:"vCxL","@sentry/utils":"vnUD"}],UZR2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SessionTiming=void 0;var tslib_1=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("tslib"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SessionTiming=function(){function SessionTiming(){this.name=SessionTiming.id,this._startTime=Date.now()}return SessionTiming.prototype.setupOnce=function(addGlobalEventProcessor,getCurrentHub){addGlobalEventProcessor(function(event){var self=getCurrentHub().getIntegration(SessionTiming);return self?self.process(event):event})},SessionTiming.prototype.process=function(event){var _a,now=Date.now();return tslib_1.__assign({},event,{extra:tslib_1.__assign({},event.extra,(_a={},_a["session:start"]=this._startTime,_a["session:duration"]=now-this._startTime,_a["session:end"]=now,_a))})},SessionTiming.id="SessionTiming",SessionTiming}();exports.SessionTiming=SessionTiming},{tslib:"vCxL"}],MWUs:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transaction=void 0;var Transaction=function(){function Transaction(){this.name=Transaction.id}return Transaction.prototype.setupOnce=function(addGlobalEventProcessor,getCurrentHub){addGlobalEventProcessor(function(event){var self=getCurrentHub().getIntegration(Transaction);return self?self.process(event):event})},Transaction.prototype.process=function(event){for(var frames=this._getFramesFromEvent(event),i=frames.length-1;i>=0;i--){var frame=frames[i];if(!0===frame.in_app){event.transaction=this._getTransaction(frame);break}}return event},Transaction.prototype._getFramesFromEvent=function(event){var exception=event.exception&&event.exception.values&&event.exception.values[0];return exception&&exception.stacktrace&&exception.stacktrace.frames||[]},Transaction.prototype._getTransaction=function(frame){return frame.module||frame.function?(frame.module||"?")+"/"+(frame.function||"?"):"<unknown>"},Transaction.id="Transaction",Transaction}();exports.Transaction=Transaction},{}],nSjW:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Vue=void 0;var _utils=require("@sentry/utils"),Vue=function(){function Vue(options){void 0===options&&(options={}),this.name=Vue.id,this._attachProps=!0,this._logErrors=!1,this._Vue=options.Vue||(0,_utils.getGlobalObject)().Vue,void 0!==options.logErrors&&(this._logErrors=options.logErrors),!1===options.attachProps&&(this._attachProps=!1)}return Vue.prototype._formatComponentName=function(vm){if(vm.$root===vm)return"root instance";var name=vm._isVue?vm.$options.name||vm.$options._componentTag:vm.name;return(name?"component <"+name+">":"anonymous component")+(vm._isVue&&vm.$options.__file?" at "+vm.$options.__file:"")},Vue.prototype.setupOnce=function(_,getCurrentHub){var _this=this;if(this._Vue&&this._Vue.config){var oldOnError=this._Vue.config.errorHandler;this._Vue.config.errorHandler=function(error,vm,info){var metadata={};(0,_utils.isPlainObject)(vm)&&(metadata.componentName=_this._formatComponentName(vm),_this._attachProps&&(metadata.propsData=vm.$options.propsData)),void 0!==info&&(metadata.lifecycleHook=info),getCurrentHub().getIntegration(Vue)&&setTimeout(function(){getCurrentHub().withScope(function(scope){scope.setContext("vue",metadata),getCurrentHub().captureException(error)})}),"function"==typeof oldOnError&&oldOnError.call(_this._Vue,error,vm,info),_this._logErrors&&(_this._Vue.util.warn("Error in "+info+': "'+error.toString()+'"',vm),console.error(error))}}else _utils.logger.error("VueIntegration is missing a Vue instance")},Vue.id="Vue",Vue}();exports.Vue=Vue},{"@sentry/utils":"vnUD"}],fmHF:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Angular",{enumerable:!0,get:function(){return _angular.Angular}}),Object.defineProperty(exports,"CaptureConsole",{enumerable:!0,get:function(){return _captureconsole.CaptureConsole}}),Object.defineProperty(exports,"Debug",{enumerable:!0,get:function(){return _debug.Debug}}),Object.defineProperty(exports,"Dedupe",{enumerable:!0,get:function(){return _dedupe.Dedupe}}),Object.defineProperty(exports,"Ember",{enumerable:!0,get:function(){return _ember.Ember}}),Object.defineProperty(exports,"ExtraErrorData",{enumerable:!0,get:function(){return _extraerrordata.ExtraErrorData}}),Object.defineProperty(exports,"ReportingObserver",{enumerable:!0,get:function(){return _reportingobserver.ReportingObserver}}),Object.defineProperty(exports,"RewriteFrames",{enumerable:!0,get:function(){return _rewriteframes.RewriteFrames}}),Object.defineProperty(exports,"SessionTiming",{enumerable:!0,get:function(){return _sessiontiming.SessionTiming}}),Object.defineProperty(exports,"Transaction",{enumerable:!0,get:function(){return _transaction.Transaction}}),Object.defineProperty(exports,"Vue",{enumerable:!0,get:function(){return _vue.Vue}});var _angular=require("./angular"),_captureconsole=require("./captureconsole"),_debug=require("./debug"),_dedupe=require("./dedupe"),_ember=require("./ember"),_extraerrordata=require("./extraerrordata"),_reportingobserver=require("./reportingobserver"),_rewriteframes=require("./rewriteframes"),_sessiontiming=require("./sessiontiming"),_transaction=require("./transaction"),_vue=require("./vue")},{"./angular":"Te8N","./captureconsole":"bFxB","./debug":"Uv1x","./dedupe":"pxcH","./ember":"YEmO","./extraerrordata":"dQ1l","./reportingobserver":"kx0G","./rewriteframes":"qbiJ","./sessiontiming":"UZR2","./transaction":"MWUs","./vue":"nSjW"}],shL8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ErrorService=void 0;var _core=require("@angular/core"),_config=require("../config"),Sentry=_interopRequireWildcard(require("@sentry/browser")),SentryIntegrations=_interopRequireWildcard(require("@sentry/integrations"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};Sentry.init({attachStacktrace:!0,dsn:_config.CONFIG.sentry?_config.CONFIG.sentry.client.dsn:"",environment:_config.CONFIG.sentry?_config.CONFIG.sentry.client.environment:"",release:_config.CONFIG.sentry?_config.CONFIG.sentry.client.release:"",integrations:[new SentryIntegrations.Angular],ignoreErrors:["POST /b/rest/auth/authenticate 404 (Not Found)"]});var ErrorService=function(){function ErrorService(BulbAuthService){var _this=this;this.BulbAuthService=BulbAuthService,Sentry.configureScope(function(scope){return _this.configureSentryScope(scope)})}return ErrorService.prototype.handleException=function(exception){Sentry.captureException(exception)},ErrorService.prototype.interceptNgxRestangularError=function(response,subject,responseHandler){return response.status>=400&&Sentry.withScope(function(scope){scope.setExtra("requestBody",response.request.body),scope.setExtra("responseBody",response.data),Sentry.captureMessage(response.request.method+" "+response.request.urlWithParams+" "+response.status+" ("+response.statusText+")",Sentry.Severity.Error)}),!0},ErrorService.prototype.interceptRestangularError=function(response,deferred,responseHandler){return response.status>=400&&Sentry.withScope(function(scope){scope.setExtra("requestBody",response.config.data),scope.setExtra("responseBody",response.data),Sentry.captureMessage(response.config.method+" "+response.config.url+" "+response.status+" ("+response.statusText+")",Sentry.Severity.Error)}),!0},ErrorService.prototype.configureSentryScope=function(scope){var user=this.BulbAuthService.currentUser;user.isAuthenticated()?scope.setUser({id:user.id,username:user.username}):scope.setUser({})},ErrorService=__decorate([(0,_core.Injectable)(),__param(0,(0,_core.Inject)("BulbAuthService")),__metadata("design:paramtypes",[Object])],ErrorService)}();exports.ErrorService=ErrorService},{"@angular/core":"XDhY","../config":"C9JJ","@sentry/browser":"cUe8","@sentry/integrations":"fmHF"}],bEGA:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UploadAssetService=void 0;var _exports=require("../app/exports"),_core=require("@angular/core"),_lodash=require("lodash"),_ngxRestangular=require("ngx-restangular"),_core2=_interopRequireDefault(require("@uppy/core")),_awsS=_interopRequireDefault(require("@uppy/aws-s3")),_error=require("./error.service");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},UploadAssetService=function(){function UploadAssetService(restangular,errorService,BulbAssetLibraryService,BulbBusyCoverService){this.restangular=restangular,this.errorService=errorService,this.BulbAssetLibraryService=BulbAssetLibraryService,this.BulbBusyCoverService=BulbBusyCoverService,this.fromWithinAssetLibrary=!0,this.defaultUppyOptions={autoProceed:!0,debug:!0,restrictions:{maxFileSize:1e10},onBeforeUpload:this.onBeforeUppyUpload.bind(this)},this.fileList=[]}var _a,_b;return UploadAssetService.prototype.uploadFile=function($target,allowedTypes,fromWithinAssetLibrary,uploadState){var _this=this;this.uploadState=uploadState,this.fromWithinAssetLibrary=fromWithinAssetLibrary,$target.trigger("click");var AssetContainerController=window.bulbVars.AssetContainerController,BulbInsertBlockExtensionFactory=window.bulbVars.BulbInsertBlockExtensionFactory,BulbUploadController=window.bulbVars.BulbUploadController,ImageCarouselBlockDirective=window.bulbVars.ImageCarouselBlockDirective,finalUppyConfigurationOptions=this.generateUppyUploadOptions(allowedTypes);this.uppy=(0,_core2.default)(finalUppyConfigurationOptions),this.initializeUppyEvents(AssetContainerController,BulbInsertBlockExtensionFactory,BulbUploadController,ImageCarouselBlockDirective,$target),this.initializeUppyAwsS3(),$target.on("change",function(event){Array.from(event.target.files).forEach(function(file){try{var fileObject={source:"file input",name:file.name,type:file.type,data:file};_this.fileId=_this.uppy.addFile(fileObject),_this.fileList.push(_this.fileId)}catch(error){_this.errorService.handleException(error)}})})},UploadAssetService.prototype.uploadFileWithoutBrowser=function(file,allowedTypes,fromWithinAssetLibrary,uploadState){this.uploadState=uploadState||"draganddrop",this.fromWithinAssetLibrary=fromWithinAssetLibrary;var AssetContainerController=window.bulbVars.AssetContainerController,BulbInsertBlockExtensionFactory=window.bulbVars.BulbInsertBlockExtensionFactory,BulbUploadController=window.bulbVars.BulbUploadController,ImageCarouselBlockDirective=window.bulbVars.ImageCarouselBlockDirective,finalUppyConfigurationOptions=this.generateUppyUploadOptions(allowedTypes);this.uppy=(0,_core2.default)(finalUppyConfigurationOptions),this.initializeUppyEvents(AssetContainerController,BulbInsertBlockExtensionFactory,BulbUploadController,ImageCarouselBlockDirective);try{var fileObject={source:"Local",name:file.name,type:file.type,data:file};this.fileId=this.uppy.addFile(fileObject),this.fileList.push(this.fileId)}catch(error){this.errorService.handleException(error)}this.initializeUppyAwsS3()},UploadAssetService.prototype.initializeUppyAwsS3=function(){var restangular=this.restangular;this.uppy.use(_awsS.default,{timeout:0,getUploadParameters:function(file){var postParams={assetKey:file.assetKey,fileName:file.name,contentType:file.type};return restangular.one("s3Policy").customPOST(postParams).toPromise().then(function(s3Params){return{method:s3Params.method,url:s3Params.url,fields:s3Params.fields}})},getResponseData:function(responseText,response){return{url:responseText.match(/<Location>(.*?)<\/Location>/)[1]}}})},UploadAssetService.prototype.initializeUppyEvents=function(AssetContainerController,BulbInsertBlockExtensionFactory,BulbUploadController,ImageCarouselBlockDirective,$target){var _this=this;this.uppy.on("upload",function(data){var file=_this.uppy.getFile(data.fileIDs);_this.createAsset(file.type,file).then(function(res){switch(_this.uploadState){case"avatar":case"coverimage":BulbUploadController.addFileHandler(null,file.data);break;case"assetlibrary":case"draganddrop":case"page":_this.fromWithinAssetLibrary?AssetContainerController.uploadFileAdd():(BulbInsertBlockExtensionFactory.addFileHandler(null,file.data.entry),BulbInsertBlockExtensionFactory.submitFileHandler(null,file.data));break;case"pageImageCarousel":ImageCarouselBlockDirective.submitFileHandler(null,file.data);break;default:_this.errorService.handleException("Error uploading asset. Unkown upload state : "+_this.uploadState)}})}),this.uppy.on("upload-progress",function(file,progress){var canonicalProgress=parseInt((progress.bytesUploaded/progress.bytesTotal*100).toString(),10);switch(_this.uploadState){case"avatar":case"coverimage":BulbUploadController.progressFileHandler(null,file.data,canonicalProgress);break;case"assetlibrary":case"draganddrop":case"page":_this.fromWithinAssetLibrary?AssetContainerController.uploadFileProgress(null,file.data,canonicalProgress):BulbInsertBlockExtensionFactory.progressFileHandler(null,file.data,canonicalProgress);break;default:_this.errorService.handleException("Error uploading asset. Unkown upload state : "+_this.uploadState)}}),this.uppy.on("upload-success",function(file,response){var postParams={assetKey:file.assetKey,fileName:file.name};_this.restangular.one("assetlibrary",file.data.entry.id).customPOST(postParams,"process").subscribe(function(){switch(_this.uploadState){case"avatar":case"coverimage":BulbUploadController.doneFileHandler(null,file.data);break;case"assetlibrary":case"draganddrop":case"page":_this.fromWithinAssetLibrary?AssetContainerController.uploadFileDone(null,file.data):BulbInsertBlockExtensionFactory.doneFileHandler(null,file.data);break;case"pageImageCarousel":ImageCarouselBlockDirective.doneFileHandler(null,file.data);break;default:_this.errorService.handleException("Error uploading asset. Unkown upload state : "+_this.uploadState)}})}),this.uppy.on("complete",function(result){$target&&$target.remove()})},UploadAssetService.prototype.onBeforeUppyUpload=function(files){var updatedFiles={},key=(0,_exports.generateObjectId)();return Object.keys(files).forEach(function(fileID){updatedFiles[fileID]=__assign({},files[fileID],{assetKey:key+"."+files[fileID].name.split(".").pop()})}),updatedFiles},UploadAssetService.prototype.createAsset=function(assetType,file){var BulbAssetLibraryService=this.BulbAssetLibraryService,BulbBusyCoverService=this.BulbBusyCoverService;file.data.originalFiles=[],file.data.files=[];var entry={name:file.name,credit:"",fileSize:file.size},bulbFile={name:file.name};if(file.data.originalFiles.push(bulbFile),file.data.files.push(bulbFile),assetType.includes("image")){var reader=new FileReader;return reader.onload=function(event){file.data.target=event.target},reader.readAsDataURL(file.data),BulbBusyCoverService.showBusyDuring(BulbAssetLibraryService.api.createImage(null,entry).then(function(res){file.data.entry=res.entry}))}return assetType.includes("video")?BulbBusyCoverService.showBusyDuring(BulbAssetLibraryService.api.createVideo(null,entry).then(function(res){file.data.entry=res.entry})):assetType.includes("audio")?BulbBusyCoverService.showBusyDuring(BulbAssetLibraryService.api.createAudio(null,entry).then(function(res){file.data.entry=res.entry})):BulbBusyCoverService.showBusyDuring(BulbAssetLibraryService.api.createAttachedFile(null,entry).then(function(res){file.data.entry=res.entry}))},UploadAssetService.prototype.generateUppyUploadOptions=function(allowedTypes){return"*"!==allowedTypes?(0,_lodash.merge)({},this.defaultUppyOptions,{restrictions:{allowedFileTypes:allowedTypes.split(",")}}):this.defaultUppyOptions},UploadAssetService=__decorate([(0,_core.Injectable)(),__param(2,(0,_core.Inject)("BulbAssetLibraryService")),__param(3,(0,_core.Inject)("BulbBusyCoverService")),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==_ngxRestangular.Restangular&&_ngxRestangular.Restangular)?_a:Object,"function"==typeof(_b=void 0!==_error.ErrorService&&_error.ErrorService)?_b:Object,Object,Object])],UploadAssetService)}();exports.UploadAssetService=UploadAssetService},{"../app/exports":"lvDC","@angular/core":"XDhY",lodash:"JNHf","ngx-restangular":"YJcD","@uppy/core":"Mcra","@uppy/aws-s3":"iYSd","./error.service":"shL8"}],XxCX:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioRecordComponent=void 0;var _analytics=require("../../../common/analytics.service"),_audioCompatibility=require("../audio-compatibility.service"),_audioVisual=require("../audio-visual/audio-visual.service"),_fetchMediaData=require("../fetch-media-data.service"),_core=require("@angular/core"),_platformBrowser=require("@angular/platform-browser"),_dynamicdialog=require("primeng/dynamicdialog");require("jquery");var obj,_recorderJs=(obj=require("recorder-js"))&&obj.__esModule?obj:{default:obj},_exports=require("../../exports"),_uploadAsset=require("../../../common/upload-asset.service");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},urlPrefix=(0,_exports.resolveUrlPrefix)("app/audio/audio-record/"),AudioRecordComponent=function(){function AudioRecordComponent(BulbAssetLibraryService,BulbAuthService,BulbBrowserService,BulbBusyCoverService,dynamicDialogRef,dialogConfig,sanitizer,$translate,fetchMediaService,analyticsService,audioCompatibilityService,uploadAssetService,waveSurferService){this.BulbAssetLibraryService=BulbAssetLibraryService,this.BulbAuthService=BulbAuthService,this.BulbBrowserService=BulbBrowserService,this.BulbBusyCoverService=BulbBusyCoverService,this.dynamicDialogRef=dynamicDialogRef,this.dialogConfig=dialogConfig,this.sanitizer=sanitizer,this.$translate=$translate,this.fetchMediaService=fetchMediaService,this.analyticsService=analyticsService,this.audioCompatibilityService=audioCompatibilityService,this.uploadAssetService=uploadAssetService,this.waveSurferService=waveSurferService,this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.exceededRecordingLimit=!1,this.isRecording=!1,this.AUDIO_COUNTDOWN_TIMER=4e3,this.doneRecording=!1,this.waveSurferInstance=null,this.mediaRecorder=new _recorderJs.default(this.audioContext),this.mediaStream=null,this.audioBlob=null,this.timeInterval=null}var AudioRecordComponent_1,_a,_b,_c,_d,_e,_f,_g,_h;return AudioRecordComponent_1=AudioRecordComponent,AudioRecordComponent.prototype.startRecording=function(){var _this=this;this.fetchMediaService.fetchMedia({audio:!0}).then(function(stream){_this.mediaStream=stream,_this._showAudioRecordingToast();var audioCaptureRecordingEventObject={event:"AudioCaptureRecordingUser",userId:_this.BulbAuthService.currentUser.id};_this.analyticsService.pushEvent(audioCaptureRecordingEventObject),new AudioRecordComponent_1.CountDown,_this._createWaveSurferInstance(),setTimeout(function(){_this._initializeMicrophone(),_this._captureAudioStream(stream),_this._initializeRecordingWatcher()},_this.AUDIO_COUNTDOWN_TIMER)}).catch(function(error){console.log("Couldn't access the user's media data: ",error)})},AudioRecordComponent.prototype.stopRecording=function(){var _this=this;this.isRecording=!1,this.doneRecording=!0,this.mediaRecorder.stop().then(function(_a){var blob=_a.blob;_a.buffer;_this.audioBlob=blob,_this.audioBlobObjectURL=URL.createObjectURL(_this.audioBlob),_this.blobSrc=_this.sanitizer.bypassSecurityTrustUrl(_this.audioBlobObjectURL)}),clearInterval(this.timeInterval),this._dereferenceMediaStream(),this._destroyWaveSurferInstance()},AudioRecordComponent.prototype.closeAudioDialog=function(){clearInterval(this.timeInterval),this._destroyWaveSurferInstance(),this.dynamicDialogRef.close()},AudioRecordComponent.prototype.closeAudioDialogKeyPress=function(event){this.BulbAssetLibraryService.dialog.closeCurrentModalKeyPress(event),this.closeAudioDialog()},AudioRecordComponent.prototype.handleDeleteAudioRecording=function(deleteRecording){deleteRecording&&(this.isRecording=!1,this.doneRecording=!1,this._revokeGeneratedAudioObjectURL())},AudioRecordComponent.prototype.handleAudioRecordingDownload=function(audioRecordingFileName){if(this.audioCompatibilityService.isLegacyEdgeyBrowser()){var link=document.createElement("a"),audioObjectUrl=this.audioBlobObjectURL.replace("unsafe:","");link.setAttribute("href",audioObjectUrl),link.setAttribute("download",audioRecordingFileName),document.body.appendChild(link),link.click(),document.body.removeChild(link)}else _recorderJs.default.download(this.audioBlob,audioRecordingFileName)},AudioRecordComponent.prototype._initializeRecordingWatcher=function(){var _this=this,date=new Date;(0,_exports.runningOnTestEnv)()&&(AudioRecordComponent_1.RECORDING_INTERVAL_CHECK=6e3),this.timeInterval=setInterval(function(){_this._checkInterval(date)},AudioRecordComponent_1.RECORDING_INTERVAL_CHECK)},AudioRecordComponent.prototype._checkInterval=function(date){var futureDate=new Date,timeDifference=((0,_exports.runningOnTestEnv)()?futureDate.getMinutes():futureDate.getHours())-((0,_exports.runningOnTestEnv)()?date.getMinutes():date.getHours());timeDifference===AudioRecordComponent_1.RECORDING_LIMIT&&(this.recordingTimeDifference=(0,_exports.runningOnTestEnv)()?timeDifference/60:timeDifference,clearInterval(this.timeInterval),this.exceededRecordingLimit=!0,this.stopRecording())},AudioRecordComponent.prototype._showAudioRecordingToast=function(){var audioRecordingMessage=this.$translate.instant("pageview_audio_recording_toast");window.iziToast.show({theme:"dark",timeout:4e3,close:!1,icon:"fas fa-microphone",message:audioRecordingMessage,position:"topCenter",progressBarColor:"rgb(0,174,239)"})},AudioRecordComponent.prototype._blobToFile=function(theBlob,fileName){var b=theBlob;return b.lastModifiedDate=new Date,b.name=fileName,theBlob},AudioRecordComponent.prototype._revokeGeneratedAudioObjectURL=function(){this.audioBlobObjectURL&&AudioRecordComponent_1.URL.revokeObjectURL(this.audioBlobObjectURL)},AudioRecordComponent.prototype.handleAudioRecordingSave=function(audioData){audioData.save&&this._saveAudioRecording(audioData)},AudioRecordComponent.prototype._saveAudioRecording=function(audioData){var fromWithinAssetLibrary=this.dialogConfig.fromWithinAssetLibrary;this.closeAudioDialog(),this.BulbAssetLibraryService.dialog.dismissAllModals();var audioFile=this._blobToFile(this.audioBlob,audioData.fileName);this.uploadAssetService.uploadFileWithoutBrowser(audioFile,"audio/*",fromWithinAssetLibrary,fromWithinAssetLibrary?"assetlibrary":"page")},AudioRecordComponent.prototype._createWaveSurferInstance=function(){this.waveSurferInstance=this.waveSurferService.createWaveFormInstance("#audio-recording-microphone-waveform"),jQuery("wave").css({position:"",display:""})},AudioRecordComponent.prototype._initializeMicrophone=function(){this.isRecording=!0,setTimeout(function(){jQuery(".audio-button-stop").hide().fadeIn("slow").focus()}),this.BulbBrowserService.isIOSMobile()||this.waveSurferInstance.microphone.start()},AudioRecordComponent.prototype._captureAudioStream=function(stream){this.mediaRecorder.init(stream),this.mediaRecorder.start()},AudioRecordComponent.prototype._dereferenceMediaStream=function(){this.mediaStream&&(this.mediaStream.getAudioTracks().forEach(function(track){track.stop()}),this.mediaStream=null)},AudioRecordComponent.prototype._destroyWaveSurferInstance=function(){this.waveSurferInstance&&(this.waveSurferInstance.destroy(),this.waveSurferInstance.microphone.stopDevice(),this.waveSurferInstance.microphone.destroy())},AudioRecordComponent.URL=window.URL||window.webkitURL,AudioRecordComponent.RECORDING_LIMIT=2,AudioRecordComponent.RECORDING_INTERVAL_CHECK=36e5,AudioRecordComponent.CountDown=function(){function class_1(){var _this=this;this.count=3,this.$htmlCountDownElement=jQuery("#count-down"),this.$audioButtonStart=jQuery(".audio-button-start"),this.COUNT_DOWN_DELAY=1e3,this.timerFunction=setInterval(function(){_this._handleTimer()},this.COUNT_DOWN_DELAY)}return class_1.prototype._endCountdown=function(){clearInterval(this.timerFunction),this.$htmlCountDownElement.hide(),setTimeout(function(){jQuery(".audio-button-stop").addClass("audio-pulse")},500)},class_1.prototype._handleTimer=function(){this.$htmlCountDownElement.show(),this.$audioButtonStart.addClass("audio-pulse"),this.$audioButtonStart.html(""),0===this.count?this._endCountdown():(this.$htmlCountDownElement.hide().html(this.count).fadeIn("slow"),this.count--)},class_1}(),AudioRecordComponent=AudioRecordComponent_1=__decorate([(0,_core.Component)({moduleId:module.id,selector:"audio-record",templateUrl:urlPrefix+"audio-record.component.html"}),__param(0,(0,_core.Inject)("BulbAssetLibraryService")),__param(1,(0,_core.Inject)("BulbAuthService")),__param(2,(0,_core.Inject)("BulbBrowserService")),__param(3,(0,_core.Inject)("BulbBusyCoverService")),__param(7,(0,_core.Inject)("$translate")),__metadata("design:paramtypes",[Object,Object,Object,Object,"function"==typeof(_a=void 0!==_dynamicdialog.DynamicDialogRef&&_dynamicdialog.DynamicDialogRef)?_a:Object,"function"==typeof(_b=void 0!==_dynamicdialog.DynamicDialogConfig&&_dynamicdialog.DynamicDialogConfig)?_b:Object,"function"==typeof(_c=void 0!==_platformBrowser.DomSanitizer&&_platformBrowser.DomSanitizer)?_c:Object,Object,"function"==typeof(_d=void 0!==_fetchMediaData.BulbFetchMediaDataService&&_fetchMediaData.BulbFetchMediaDataService)?_d:Object,"function"==typeof(_e=void 0!==_analytics.AnalyticsService&&_analytics.AnalyticsService)?_e:Object,"function"==typeof(_f=void 0!==_audioCompatibility.AudioCompatibilityService&&_audioCompatibility.AudioCompatibilityService)?_f:Object,"function"==typeof(_g=void 0!==_uploadAsset.UploadAssetService&&_uploadAsset.UploadAssetService)?_g:Object,"function"==typeof(_h=void 0!==_audioVisual.AudioVisualService&&_audioVisual.AudioVisualService)?_h:Object])],AudioRecordComponent)}();exports.AudioRecordComponent=AudioRecordComponent},{"../../../common/analytics.service":"RQFK","../audio-compatibility.service":"jB5h","../audio-visual/audio-visual.service":"PiqP","../fetch-media-data.service":"xLwp","@angular/core":"XDhY","@angular/platform-browser":"dAl9","primeng/dynamicdialog":"HJGK",jquery:"juYr","recorder-js":"YIOO","../../exports":"lvDC","../../../common/upload-asset.service":"bEGA"}],bQ0H:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MacmillanBookDialogComponent=void 0;var _core=require("@angular/core"),_exports=require("../exports"),_dynamicdialog=require("primeng/dynamicdialog"),_ngxRestangular=require("ngx-restangular");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},urlPrefix=(0,_exports.resolveUrlPrefix)("app/macmillan-book-dialog/"),MacmillanBookDialogComponent=function(){function MacmillanBookDialogComponent(dialogRef,config,restangular,state,BulbGroupService){this.dialogRef=dialogRef,this.config=config,this.restangular=restangular,this.state=state,this.BulbGroupService=BulbGroupService,this.bookSelected=!1}var _a,_b,_c;return MacmillanBookDialogComponent.prototype.imageSelected=function(){this.bookSelected=!0},MacmillanBookDialogComponent.prototype.continue=function(){var _this=this;this.dialogRef.close(this.selectedBook),this.config.runningInAngularJS&&jQuery("p-dynamicdialog").remove(),this.BulbGroupService.createMacMillanGroup(this.selectedBook).then(function(macMillanGroup){_this.config.redirectToGroup&&_this.state.go("group",{groupUrl:macMillanGroup.url},{location:"replace"})})},MacmillanBookDialogComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"macmillan-book-dialog",templateUrl:urlPrefix+"macmillan-book-dialog.component.html"}),__param(3,(0,_core.Inject)("$state")),__param(4,(0,_core.Inject)("BulbGroupService")),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==_dynamicdialog.DynamicDialogRef&&_dynamicdialog.DynamicDialogRef)?_a:Object,"function"==typeof(_b=void 0!==_dynamicdialog.DynamicDialogConfig&&_dynamicdialog.DynamicDialogConfig)?_b:Object,"function"==typeof(_c=void 0!==_ngxRestangular.Restangular&&_ngxRestangular.Restangular)?_c:Object,Object,Object])],MacmillanBookDialogComponent)}();exports.MacmillanBookDialogComponent=MacmillanBookDialogComponent},{"@angular/core":"XDhY","../exports":"lvDC","primeng/dynamicdialog":"HJGK","ngx-restangular":"YJcD"}],uvuy:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AeroDynamicDialogService=void 0;var _core=require("@angular/core"),_dynamicdialog=require("primeng/dynamicdialog"),_audioRecord=require("../../app/audio/audio-record/audio-record.component"),_macmillanBookDialog=require("../../app/macmillan-book-dialog/macmillan-book-dialog.component");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},AeroDynamicDialogService=function(){function AeroDynamicDialogService(dialogService,BulbBrowserService){this.dialogService=dialogService,this.BulbBrowserService=BulbBrowserService}var _a;return AeroDynamicDialogService.prototype.show=function(component,dialogOptions){return this.dialogService.open(component,dialogOptions)},AeroDynamicDialogService.prototype.showMacMillanBookDialog=function(runningInAngularJS,redirectToGroup){void 0===runningInAngularJS&&(runningInAngularJS=!1),void 0===redirectToGroup&&(redirectToGroup=!1);var macMillanDialogOptions={width:this.BulbBrowserService.isIOSMobile()||this.BulbBrowserService.isAndroid()?"97%":"40%",height:"382px",dismissableMask:!0,styleClass:"aero-dynamic-dialog",runningInAngularJS:runningInAngularJS,redirectToGroup:redirectToGroup};return this.dialogService.open(_macmillanBookDialog.MacmillanBookDialogComponent,macMillanDialogOptions)},AeroDynamicDialogService.prototype.showAudioRecordingDialog=function(runningInAngularJS,fromWithinAssetlibrary){void 0===runningInAngularJS&&(runningInAngularJS=!1),void 0===fromWithinAssetlibrary&&(fromWithinAssetlibrary=!1);var audioRecordingDialogOptions={width:this.BulbBrowserService.isIOSMobile()||this.BulbBrowserService.isAndroid()?"377px":"576px",height:"369px",closeOnEscape:!0,styleClass:"audio-record aero-dynamic-dialog",runningInAngularJS:runningInAngularJS,fromWithinAssetlibrary:fromWithinAssetlibrary};return this.dialogService.open(_audioRecord.AudioRecordComponent,audioRecordingDialogOptions)},AeroDynamicDialogService=__decorate([(0,_core.Injectable)(),__param(1,(0,_core.Inject)("BulbBrowserService")),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==_dynamicdialog.DialogService&&_dynamicdialog.DialogService)?_a:Object,Object])],AeroDynamicDialogService)}();exports.AeroDynamicDialogService=AeroDynamicDialogService},{"@angular/core":"XDhY","primeng/dynamicdialog":"HJGK","../../app/audio/audio-record/audio-record.component":"XxCX","../../app/macmillan-book-dialog/macmillan-book-dialog.component":"bQ0H"}],MOTr:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestComponent=void 0;var _core=require("@angular/core"),_exports=require("../exports"),_config=require("../../config"),_aeroDynamicDialog=require("../../aero/aero-dynamic-dialog/aero-dynamic-dialog.service");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},urlPrefix=(0,_exports.resolveUrlPrefix)("app/test/"),TestComponent=function(){function TestComponent(aeroDynamicDialogService){this.aeroDynamicDialogService=aeroDynamicDialogService,this.CONFIG=_config.CONFIG}var _a;return TestComponent.prototype.testBookDialog=function(){this.aeroDynamicDialogService.showMacMillanBookDialog(!1,!0)},TestComponent.prototype.testAudioRecord=function(){this.aeroDynamicDialogService.showAudioRecordingDialog(!1)},TestComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"test",templateUrl:urlPrefix+"test.component.html",providers:[_aeroDynamicDialog.AeroDynamicDialogService]}),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==_aeroDynamicDialog.AeroDynamicDialogService&&_aeroDynamicDialog.AeroDynamicDialogService)?_a:Object])],TestComponent)}();exports.TestComponent=TestComponent},{"@angular/core":"XDhY","../exports":"lvDC","../../config":"C9JJ","../../aero/aero-dynamic-dialog/aero-dynamic-dialog.service":"uvuy"}],yEaa:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TranslationService=void 0;var _core=require("@angular/core");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},TranslationService=function(){function TranslationService($translate){this.$translate=$translate}return TranslationService.prototype.translateInstant=function(keyWord){return this.$translate.instant(keyWord)},TranslationService.prototype.translate=function(keyWord){return this.$translate(keyWord)},TranslationService=__decorate([(0,_core.Injectable)(),__param(0,(0,_core.Inject)("$translate")),__metadata("design:paramtypes",[Object])],TranslationService)}();exports.TranslationService=TranslationService},{"@angular/core":"XDhY"}],l7UR:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AeroButtonComponent=void 0;var _core=require("@angular/core"),_exports=require("../../app/exports"),_translation=require("../../common/translation.service");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var ButtonType,ButtonSize,__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};!function(ButtonType){ButtonType[ButtonType.ACTION=0]="ACTION",ButtonType[ButtonType.PRIMARY=1]="PRIMARY",ButtonType[ButtonType.ALERT=2]="ALERT",ButtonType[ButtonType.SECONDARY=3]="SECONDARY",ButtonType[ButtonType.INCACTIVE=4]="INCACTIVE"}(ButtonType||(ButtonType={})),function(ButtonSize){ButtonSize[ButtonSize.LARGE=0]="LARGE",ButtonSize[ButtonSize.PILL=1]="PILL",ButtonSize[ButtonSize.SLIM=2]="SLIM"}(ButtonSize||(ButtonSize={}));var urlPrefix=(0,_exports.resolveUrlPrefix)("aero/aero-button/"),AeroButtonComponent=function(){function AeroButtonComponent($translate){this.$translate=$translate}var _a,_b;return AeroButtonComponent.prototype.ngOnInit=function(){this.label=this.label?this.$translate.translateInstant(this.label):this.$translate.translateInstant("button_default_label")},__decorate([(0,_core.Input)(),__metadata("design:type",Number)],AeroButtonComponent.prototype,"type",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Number)],AeroButtonComponent.prototype,"size",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroButtonComponent.prototype,"label",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroButtonComponent.prototype,"icon",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Boolean)],AeroButtonComponent.prototype,"disabled",void 0),__decorate([(0,_core.Input)(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof Function&&Function)?_a:Object)],AeroButtonComponent.prototype,"callback",void 0),AeroButtonComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"aero-button",templateUrl:urlPrefix+"aero-button.component.html"}),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==_translation.TranslationService&&_translation.TranslationService)?_b:Object])],AeroButtonComponent)}();exports.AeroButtonComponent=AeroButtonComponent},{"@angular/core":"XDhY","../../app/exports":"lvDC","../../common/translation.service":"yEaa"}],ENnS:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._isNumberValue=_isNumberValue,exports.coerceArray=function(value){return Array.isArray(value)?value:[value]},exports.coerceBooleanProperty=function(value){return null!=value&&""+value!="false"},exports.coerceCssPixelValue=function(value){if(null==value)return"";return"string"==typeof value?value:value+"px"},exports.coerceElement=function(elementOrRef){return elementOrRef instanceof _core.ElementRef?elementOrRef.nativeElement:elementOrRef},exports.coerceNumberProperty=function(value,fallbackValue){void 0===fallbackValue&&(fallbackValue=0);return _isNumberValue(value)?Number(value):fallbackValue};var _core=require("@angular/core");function _isNumberValue(value){return!isNaN(parseFloat(value))&&!isNaN(Number(value))}},{"@angular/core":"XDhY"}],nvNp:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._getShadowRoot=function(element){if(_supportsShadowDom()){var rootNode=element.getRootNode?element.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&rootNode instanceof ShadowRoot)return rootNode}return null},exports._supportsShadowDom=_supportsShadowDom,exports.getRtlScrollAxisType=function(){if("object"!=typeof document||!document)return 0;if(null==rtlScrollAxisType){var scrollContainer=document.createElement("div"),containerStyle=scrollContainer.style;scrollContainer.dir="rtl",containerStyle.height="1px",containerStyle.width="1px",containerStyle.overflow="auto",containerStyle.visibility="hidden",containerStyle.pointerEvents="none",containerStyle.position="absolute";var content=document.createElement("div"),contentStyle=content.style;contentStyle.width="2px",contentStyle.height="1px",scrollContainer.appendChild(content),document.body.appendChild(scrollContainer),rtlScrollAxisType=0,0===scrollContainer.scrollLeft&&(scrollContainer.scrollLeft=1,rtlScrollAxisType=0===scrollContainer.scrollLeft?1:2),scrollContainer.parentNode.removeChild(scrollContainer)}return rtlScrollAxisType},exports.getSupportedInputTypes=function(){if(supportedInputTypes)return supportedInputTypes;if("object"!=typeof document||!document)return supportedInputTypes=new Set(candidateInputTypes);var featureTestInput=document.createElement("input");return supportedInputTypes=new Set(candidateInputTypes.filter(function(value){return featureTestInput.setAttribute("type",value),featureTestInput.type===value}))},exports.normalizePassiveListenerOptions=function(options){return supportsPassiveEventListeners()?options:!!options.capture},exports.supportsPassiveEventListeners=supportsPassiveEventListeners,exports.supportsScrollBehavior=function(){return!!("object"==typeof document&&"scrollBehavior"in document.documentElement.style)},exports.PlatformModule=exports.Platform=void 0;var hasV8BreakIterator,_core=require("@angular/core"),_common=require("@angular/common");try{hasV8BreakIterator="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_a){hasV8BreakIterator=!1}var Platform=function(){function Platform(_platformId){this._platformId=_platformId,this.isBrowser=this._platformId?(0,_common.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hasV8BreakIterator)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return Platform.decorators=[{type:_core.Injectable,args:[{providedIn:"root"}]}],Platform.ctorParameters=function(){return[{type:Object,decorators:[{type:_core.Optional},{type:_core.Inject,args:[_core.PLATFORM_ID]}]}]},Platform.prov=(0,_core.defineInjectable)({factory:function(){return new Platform((0,_core.inject)(_core.PLATFORM_ID,8))},token:Platform,providedIn:"root"}),Platform}();exports.Platform=Platform;var supportedInputTypes,PlatformModule=function(){function PlatformModule(){}return PlatformModule.decorators=[{type:_core.NgModule,args:[{}]}],PlatformModule}();exports.PlatformModule=PlatformModule;var supportsPassiveEvents,rtlScrollAxisType,shadowDomIsSupported,candidateInputTypes=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function supportsPassiveEventListeners(){if(null==supportsPassiveEvents&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return supportsPassiveEvents=!0}}))}finally{supportsPassiveEvents=supportsPassiveEvents||!1}return supportsPassiveEvents}function _supportsShadowDom(){if(null==shadowDomIsSupported){var head="undefined"!=typeof document?document.head:null;shadowDomIsSupported=!(!head||!head.createShadowRoot&&!head.attachShadow)}return shadowDomIsSupported}},{"@angular/core":"XDhY","@angular/common":"AomE"}],Fc7K:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.angular_material_src_cdk_bidi_bidi_a=DIR_DOCUMENT_FACTORY,exports.Directionality=exports.Dir=exports.DIR_DOCUMENT=exports.BidiModule=void 0;var _core=require("@angular/core"),_common=require("@angular/common"),DIR_DOCUMENT=new _core.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:DIR_DOCUMENT_FACTORY});function DIR_DOCUMENT_FACTORY(){return(0,_core.inject)(_common.DOCUMENT)}exports.DIR_DOCUMENT=DIR_DOCUMENT;var Directionality=function(){function Directionality(_document){if(this.value="ltr",this.change=new _core.EventEmitter,_document){var bodyDir=_document.body?_document.body.dir:null,htmlDir=_document.documentElement?_document.documentElement.dir:null,value=bodyDir||htmlDir;this.value="ltr"===value||"rtl"===value?value:"ltr"}}return Directionality.prototype.ngOnDestroy=function(){this.change.complete()},Directionality.decorators=[{type:_core.Injectable,args:[{providedIn:"root"}]}],Directionality.ctorParameters=function(){return[{type:void 0,decorators:[{type:_core.Optional},{type:_core.Inject,args:[DIR_DOCUMENT]}]}]},Directionality.prov=(0,_core.defineInjectable)({factory:function(){return new Directionality((0,_core.inject)(DIR_DOCUMENT,8))},token:Directionality,providedIn:"root"}),Directionality}();exports.Directionality=Directionality;var Dir=function(){function Dir(){this._dir="ltr",this._isInitialized=!1,this.change=new _core.EventEmitter}return Object.defineProperty(Dir.prototype,"dir",{get:function(){return this._dir},set:function(value){var old=this._dir,normalizedValue=value?value.toLowerCase():value;this._rawDir=value,this._dir="ltr"===normalizedValue||"rtl"===normalizedValue?normalizedValue:"ltr",old!==this._dir&&this._isInitialized&&this.change.emit(this._dir)},enumerable:!0,configurable:!0}),Object.defineProperty(Dir.prototype,"value",{get:function(){return this.dir},enumerable:!0,configurable:!0}),Dir.prototype.ngAfterContentInit=function(){this._isInitialized=!0},Dir.prototype.ngOnDestroy=function(){this.change.complete()},Dir.decorators=[{type:_core.Directive,args:[{selector:"[dir]",providers:[{provide:Directionality,useExisting:Dir}],host:{"[attr.dir]":"_rawDir"},exportAs:"dir"}]}],Dir.propDecorators={change:[{type:_core.Output,args:["dirChange"]}],dir:[{type:_core.Input}]},Dir}();exports.Dir=Dir;var BidiModule=function(){function BidiModule(){}return BidiModule.decorators=[{type:_core.NgModule,args:[{exports:[Dir],declarations:[Dir]}]}],BidiModule}();exports.BidiModule=BidiModule},{"@angular/core":"XDhY","@angular/common":"AomE"}],z0IW:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMultipleValuesInSingleSelectionError=getMultipleValuesInSingleSelectionError,exports.isDataSource=function(value){return value&&"function"==typeof value.connect},exports.UniqueSelectionDispatcher=exports.SelectionModel=exports.DataSource=exports.ArrayDataSource=void 0;var _tslib=require("tslib"),_rxjs=require("rxjs"),_core=require("@angular/core"),DataSource=function(){return function(){}}();exports.DataSource=DataSource;var ArrayDataSource=function(_super){function ArrayDataSource(_data){var _this=_super.call(this)||this;return _this._data=_data,_this}return(0,_tslib.__extends)(ArrayDataSource,_super),ArrayDataSource.prototype.connect=function(){return(0,_rxjs.isObservable)(this._data)?this._data:(0,_rxjs.of)(this._data)},ArrayDataSource.prototype.disconnect=function(){},ArrayDataSource}(DataSource);exports.ArrayDataSource=ArrayDataSource;var SelectionModel=function(){function SelectionModel(_multiple,initiallySelectedValues,_emitChanges){var _this=this;void 0===_multiple&&(_multiple=!1),void 0===_emitChanges&&(_emitChanges=!0),this._multiple=_multiple,this._emitChanges=_emitChanges,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new _rxjs.Subject,initiallySelectedValues&&initiallySelectedValues.length&&(_multiple?initiallySelectedValues.forEach(function(value){return _this._markSelected(value)}):this._markSelected(initiallySelectedValues[0]),this._selectedToEmit.length=0)}return Object.defineProperty(SelectionModel.prototype,"selected",{get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected},enumerable:!0,configurable:!0}),SelectionModel.prototype.select=function(){for(var _this=this,values=[],_i=0;_i<arguments.length;_i++)values[_i]=arguments[_i];this._verifyValueAssignment(values),values.forEach(function(value){return _this._markSelected(value)}),this._emitChangeEvent()},SelectionModel.prototype.deselect=function(){for(var _this=this,values=[],_i=0;_i<arguments.length;_i++)values[_i]=arguments[_i];this._verifyValueAssignment(values),values.forEach(function(value){return _this._unmarkSelected(value)}),this._emitChangeEvent()},SelectionModel.prototype.toggle=function(value){this.isSelected(value)?this.deselect(value):this.select(value)},SelectionModel.prototype.clear=function(){this._unmarkAll(),this._emitChangeEvent()},SelectionModel.prototype.isSelected=function(value){return this._selection.has(value)},SelectionModel.prototype.isEmpty=function(){return 0===this._selection.size},SelectionModel.prototype.hasValue=function(){return!this.isEmpty()},SelectionModel.prototype.sort=function(predicate){this._multiple&&this.selected&&this._selected.sort(predicate)},SelectionModel.prototype.isMultipleSelection=function(){return this._multiple},SelectionModel.prototype._emitChangeEvent=function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])},SelectionModel.prototype._markSelected=function(value){this.isSelected(value)||(this._multiple||this._unmarkAll(),this._selection.add(value),this._emitChanges&&this._selectedToEmit.push(value))},SelectionModel.prototype._unmarkSelected=function(value){this.isSelected(value)&&(this._selection.delete(value),this._emitChanges&&this._deselectedToEmit.push(value))},SelectionModel.prototype._unmarkAll=function(){var _this=this;this.isEmpty()||this._selection.forEach(function(value){return _this._unmarkSelected(value)})},SelectionModel.prototype._verifyValueAssignment=function(values){if(values.length>1&&!this._multiple)throw getMultipleValuesInSingleSelectionError()},SelectionModel}();function getMultipleValuesInSingleSelectionError(){return Error("Cannot pass multiple values into SelectionModel with single-value mode.")}exports.SelectionModel=SelectionModel;var UniqueSelectionDispatcher=function(){function UniqueSelectionDispatcher(){this._listeners=[]}return UniqueSelectionDispatcher.prototype.notify=function(id,name){var e_1,_a;try{for(var _b=(0,_tslib.__values)(this._listeners),_c=_b.next();!_c.done;_c=_b.next()){(0,_c.value)(id,name)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},UniqueSelectionDispatcher.prototype.listen=function(listener){var _this=this;return this._listeners.push(listener),function(){_this._listeners=_this._listeners.filter(function(registered){return listener!==registered})}},UniqueSelectionDispatcher.prototype.ngOnDestroy=function(){this._listeners=[]},UniqueSelectionDispatcher.decorators=[{type:_core.Injectable,args:[{providedIn:"root"}]}],UniqueSelectionDispatcher.prov=(0,_core.defineInjectable)({factory:function(){return new UniqueSelectionDispatcher},token:UniqueSelectionDispatcher,providedIn:"root"}),UniqueSelectionDispatcher}();exports.UniqueSelectionDispatcher=UniqueSelectionDispatcher},{tslib:"vCxL",rxjs:"iRqj","@angular/core":"XDhY"}],o7jn:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._fixedSizeVirtualScrollStrategyFactory=_fixedSizeVirtualScrollStrategyFactory,exports.ViewportRuler=exports.VIRTUAL_SCROLL_STRATEGY=exports.ScrollingModule=exports.ScrollDispatcher=exports.FixedSizeVirtualScrollStrategy=exports.DEFAULT_SCROLL_TIME=exports.DEFAULT_RESIZE_TIME=exports.CdkVirtualScrollViewport=exports.CdkVirtualForOf=exports.CdkScrollableModule=exports.CdkScrollable=exports.CdkFixedSizeVirtualScroll=void 0;var _coercion=require("@angular/cdk/coercion"),_core=require("@angular/core"),_rxjs=require("rxjs"),_operators=require("rxjs/operators"),_platform2=require("@angular/cdk/platform"),_common=require("@angular/common"),_bidi=require("@angular/cdk/bidi"),_tslib=require("tslib"),_collections=require("@angular/cdk/collections"),VIRTUAL_SCROLL_STRATEGY=new _core.InjectionToken("VIRTUAL_SCROLL_STRATEGY");exports.VIRTUAL_SCROLL_STRATEGY=VIRTUAL_SCROLL_STRATEGY;var FixedSizeVirtualScrollStrategy=function(){function FixedSizeVirtualScrollStrategy(itemSize,minBufferPx,maxBufferPx){this._scrolledIndexChange=new _rxjs.Subject,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,_operators.distinctUntilChanged)()),this._viewport=null,this._itemSize=itemSize,this._minBufferPx=minBufferPx,this._maxBufferPx=maxBufferPx}return FixedSizeVirtualScrollStrategy.prototype.attach=function(viewport){this._viewport=viewport,this._updateTotalContentSize(),this._updateRenderedRange()},FixedSizeVirtualScrollStrategy.prototype.detach=function(){this._scrolledIndexChange.complete(),this._viewport=null},FixedSizeVirtualScrollStrategy.prototype.updateItemAndBufferSize=function(itemSize,minBufferPx,maxBufferPx){if(maxBufferPx<minBufferPx)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=itemSize,this._minBufferPx=minBufferPx,this._maxBufferPx=maxBufferPx,this._updateTotalContentSize(),this._updateRenderedRange()},FixedSizeVirtualScrollStrategy.prototype.onContentScrolled=function(){this._updateRenderedRange()},FixedSizeVirtualScrollStrategy.prototype.onDataLengthChanged=function(){this._updateTotalContentSize(),this._updateRenderedRange()},FixedSizeVirtualScrollStrategy.prototype.onContentRendered=function(){},FixedSizeVirtualScrollStrategy.prototype.onRenderedOffsetChanged=function(){},FixedSizeVirtualScrollStrategy.prototype.scrollToIndex=function(index,behavior){this._viewport&&this._viewport.scrollToOffset(index*this._itemSize,behavior)},FixedSizeVirtualScrollStrategy.prototype._updateTotalContentSize=function(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)},FixedSizeVirtualScrollStrategy.prototype._updateRenderedRange=function(){if(this._viewport){var scrollOffset=this._viewport.measureScrollOffset(),firstVisibleIndex=scrollOffset/this._itemSize,renderedRange=this._viewport.getRenderedRange(),newRange={start:renderedRange.start,end:renderedRange.end},viewportSize=this._viewport.getViewportSize(),dataLength=this._viewport.getDataLength(),startBuffer=scrollOffset-newRange.start*this._itemSize;if(startBuffer<this._minBufferPx&&0!=newRange.start){var expandStart=Math.ceil((this._maxBufferPx-startBuffer)/this._itemSize);newRange.start=Math.max(0,newRange.start-expandStart),newRange.end=Math.min(dataLength,Math.ceil(firstVisibleIndex+(viewportSize+this._minBufferPx)/this._itemSize))}else{var endBuffer=newRange.end*this._itemSize-(scrollOffset+viewportSize);if(endBuffer<this._minBufferPx&&newRange.end!=dataLength){var expandEnd=Math.ceil((this._maxBufferPx-endBuffer)/this._itemSize);expandEnd>0&&(newRange.end=Math.min(dataLength,newRange.end+expandEnd),newRange.start=Math.max(0,Math.floor(firstVisibleIndex-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(newRange),this._viewport.setRenderedContentOffset(this._itemSize*newRange.start),this._scrolledIndexChange.next(Math.floor(firstVisibleIndex))}},FixedSizeVirtualScrollStrategy}();function _fixedSizeVirtualScrollStrategyFactory(fixedSizeDir){return fixedSizeDir._scrollStrategy}exports.FixedSizeVirtualScrollStrategy=FixedSizeVirtualScrollStrategy;var CdkFixedSizeVirtualScroll=function(){function CdkFixedSizeVirtualScroll(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new FixedSizeVirtualScrollStrategy(this.itemSize,this.minBufferPx,this.maxBufferPx)}return Object.defineProperty(CdkFixedSizeVirtualScroll.prototype,"itemSize",{get:function(){return this._itemSize},set:function(value){this._itemSize=(0,_coercion.coerceNumberProperty)(value)},enumerable:!0,configurable:!0}),Object.defineProperty(CdkFixedSizeVirtualScroll.prototype,"minBufferPx",{get:function(){return this._minBufferPx},set:function(value){this._minBufferPx=(0,_coercion.coerceNumberProperty)(value)},enumerable:!0,configurable:!0}),Object.defineProperty(CdkFixedSizeVirtualScroll.prototype,"maxBufferPx",{get:function(){return this._maxBufferPx},set:function(value){this._maxBufferPx=(0,_coercion.coerceNumberProperty)(value)},enumerable:!0,configurable:!0}),CdkFixedSizeVirtualScroll.prototype.ngOnChanges=function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)},CdkFixedSizeVirtualScroll.decorators=[{type:_core.Directive,args:[{selector:"cdk-virtual-scroll-viewport[itemSize]",providers:[{provide:VIRTUAL_SCROLL_STRATEGY,useFactory:_fixedSizeVirtualScrollStrategyFactory,deps:[(0,_core.forwardRef)(function(){return CdkFixedSizeVirtualScroll})]}]}]}],CdkFixedSizeVirtualScroll.propDecorators={itemSize:[{type:_core.Input}],minBufferPx:[{type:_core.Input}],maxBufferPx:[{type:_core.Input}]},CdkFixedSizeVirtualScroll}();exports.CdkFixedSizeVirtualScroll=CdkFixedSizeVirtualScroll;exports.DEFAULT_SCROLL_TIME=20;var ScrollDispatcher=function(){function ScrollDispatcher(_ngZone,_platform,document){this._ngZone=_ngZone,this._platform=_platform,this._scrolled=new _rxjs.Subject,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=document}return ScrollDispatcher.prototype.register=function(scrollable){var _this=this;this.scrollContainers.has(scrollable)||this.scrollContainers.set(scrollable,scrollable.elementScrolled().subscribe(function(){return _this._scrolled.next(scrollable)}))},ScrollDispatcher.prototype.deregister=function(scrollable){var scrollableReference=this.scrollContainers.get(scrollable);scrollableReference&&(scrollableReference.unsubscribe(),this.scrollContainers.delete(scrollable))},ScrollDispatcher.prototype.scrolled=function(auditTimeInMs){var _this=this;return void 0===auditTimeInMs&&(auditTimeInMs=20),this._platform.isBrowser?new _rxjs.Observable(function(observer){_this._globalSubscription||_this._addGlobalListener();var subscription=auditTimeInMs>0?_this._scrolled.pipe((0,_operators.auditTime)(auditTimeInMs)).subscribe(observer):_this._scrolled.subscribe(observer);return _this._scrolledCount++,function(){subscription.unsubscribe(),_this._scrolledCount--,_this._scrolledCount||_this._removeGlobalListener()}}):(0,_rxjs.of)()},ScrollDispatcher.prototype.ngOnDestroy=function(){var _this=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(_,container){return _this.deregister(container)}),this._scrolled.complete()},ScrollDispatcher.prototype.ancestorScrolled=function(elementRef,auditTimeInMs){var ancestors=this.getAncestorScrollContainers(elementRef);return this.scrolled(auditTimeInMs).pipe((0,_operators.filter)(function(target){return!target||ancestors.indexOf(target)>-1}))},ScrollDispatcher.prototype.getAncestorScrollContainers=function(elementRef){var _this=this,scrollingContainers=[];return this.scrollContainers.forEach(function(_subscription,scrollable){_this._scrollableContainsElement(scrollable,elementRef)&&scrollingContainers.push(scrollable)}),scrollingContainers},ScrollDispatcher.prototype._getDocument=function(){return this._document||document},ScrollDispatcher.prototype._getWindow=function(){return this._getDocument().defaultView||window},ScrollDispatcher.prototype._scrollableContainsElement=function(scrollable,elementRef){var element=elementRef.nativeElement,scrollableElement=scrollable.getElementRef().nativeElement;do{if(element==scrollableElement)return!0}while(element=element.parentElement);return!1},ScrollDispatcher.prototype._addGlobalListener=function(){var _this=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){var window=_this._getWindow();return(0,_rxjs.fromEvent)(window.document,"scroll").subscribe(function(){return _this._scrolled.next()})})},ScrollDispatcher.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},ScrollDispatcher.decorators=[{type:_core.Injectable,args:[{providedIn:"root"}]}],ScrollDispatcher.ctorParameters=function(){return[{type:_core.NgZone},{type:_platform2.Platform},{type:void 0,decorators:[{type:_core.Optional},{type:_core.Inject,args:[_common.DOCUMENT]}]}]},ScrollDispatcher.prov=(0,_core.defineInjectable)({factory:function(){return new ScrollDispatcher((0,_core.inject)(_core.NgZone),(0,_core.inject)(_platform2.Platform),(0,_core.inject)(_common.DOCUMENT,8))},token:ScrollDispatcher,providedIn:"root"}),ScrollDispatcher}();exports.ScrollDispatcher=ScrollDispatcher;var CdkScrollable=function(){function CdkScrollable(elementRef,scrollDispatcher,ngZone,dir){var _this=this;this.elementRef=elementRef,this.scrollDispatcher=scrollDispatcher,this.ngZone=ngZone,this.dir=dir,this._destroyed=new _rxjs.Subject,this._elementScrolled=new _rxjs.Observable(function(observer){return _this.ngZone.runOutsideAngular(function(){return(0,_rxjs.fromEvent)(_this.elementRef.nativeElement,"scroll").pipe((0,_operators.takeUntil)(_this._destroyed)).subscribe(observer)})})}return CdkScrollable.prototype.ngOnInit=function(){this.scrollDispatcher.register(this)},CdkScrollable.prototype.ngOnDestroy=function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()},CdkScrollable.prototype.elementScrolled=function(){return this._elementScrolled},CdkScrollable.prototype.getElementRef=function(){return this.elementRef},CdkScrollable.prototype.scrollTo=function(options){var el=this.elementRef.nativeElement,isRtl=this.dir&&"rtl"==this.dir.value;null==options.left&&(options.left=isRtl?options.end:options.start),null==options.right&&(options.right=isRtl?options.start:options.end),null!=options.bottom&&(options.top=el.scrollHeight-el.clientHeight-options.bottom),isRtl&&0!=(0,_platform2.getRtlScrollAxisType)()?(null!=options.left&&(options.right=el.scrollWidth-el.clientWidth-options.left),2==(0,_platform2.getRtlScrollAxisType)()?options.left=options.right:1==(0,_platform2.getRtlScrollAxisType)()&&(options.left=options.right?-options.right:options.right)):null!=options.right&&(options.left=el.scrollWidth-el.clientWidth-options.right),this._applyScrollToOptions(options)},CdkScrollable.prototype._applyScrollToOptions=function(options){var el=this.elementRef.nativeElement;(0,_platform2.supportsScrollBehavior)()?el.scrollTo(options):(null!=options.top&&(el.scrollTop=options.top),null!=options.left&&(el.scrollLeft=options.left))},CdkScrollable.prototype.measureScrollOffset=function(from){var el=this.elementRef.nativeElement;if("top"==from)return el.scrollTop;if("bottom"==from)return el.scrollHeight-el.clientHeight-el.scrollTop;var isRtl=this.dir&&"rtl"==this.dir.value;return"start"==from?from=isRtl?"right":"left":"end"==from&&(from=isRtl?"left":"right"),isRtl&&2==(0,_platform2.getRtlScrollAxisType)()?"left"==from?el.scrollWidth-el.clientWidth-el.scrollLeft:el.scrollLeft:isRtl&&1==(0,_platform2.getRtlScrollAxisType)()?"left"==from?el.scrollLeft+el.scrollWidth-el.clientWidth:-el.scrollLeft:"left"==from?el.scrollLeft:el.scrollWidth-el.clientWidth-el.scrollLeft},CdkScrollable.decorators=[{type:_core.Directive,args:[{selector:"[cdk-scrollable], [cdkScrollable]"}]}],CdkScrollable.ctorParameters=function(){return[{type:_core.ElementRef},{type:ScrollDispatcher},{type:_core.NgZone},{type:_bidi.Directionality,decorators:[{type:_core.Optional}]}]},CdkScrollable}();exports.CdkScrollable=CdkScrollable;exports.DEFAULT_RESIZE_TIME=20;var ViewportRuler=function(){function ViewportRuler(_platform,ngZone,document){var _this=this;this._platform=_platform,this._document=document,ngZone.runOutsideAngular(function(){var window=_this._getWindow();_this._change=_platform.isBrowser?(0,_rxjs.merge)((0,_rxjs.fromEvent)(window,"resize"),(0,_rxjs.fromEvent)(window,"orientationchange")):(0,_rxjs.of)(),_this._invalidateCache=_this.change().subscribe(function(){return _this._updateViewportSize()})})}return ViewportRuler.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},ViewportRuler.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var output={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),output},ViewportRuler.prototype.getViewportRect=function(){var scrollPosition=this.getViewportScrollPosition(),_a=this.getViewportSize(),width=_a.width,height=_a.height;return{top:scrollPosition.top,left:scrollPosition.left,bottom:scrollPosition.top+height,right:scrollPosition.left+width,height:height,width:width}},ViewportRuler.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var document=this._getDocument(),window=this._getWindow(),documentElement=document.documentElement,documentRect=documentElement.getBoundingClientRect();return{top:-documentRect.top||document.body.scrollTop||window.scrollY||documentElement.scrollTop||0,left:-documentRect.left||document.body.scrollLeft||window.scrollX||documentElement.scrollLeft||0}},ViewportRuler.prototype.change=function(throttleTime){return void 0===throttleTime&&(throttleTime=20),throttleTime>0?this._change.pipe((0,_operators.auditTime)(throttleTime)):this._change},ViewportRuler.prototype._getDocument=function(){return this._document||document},ViewportRuler.prototype._getWindow=function(){return this._getDocument().defaultView||window},ViewportRuler.prototype._updateViewportSize=function(){var window=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},ViewportRuler.decorators=[{type:_core.Injectable,args:[{providedIn:"root"}]}],ViewportRuler.ctorParameters=function(){return[{type:_platform2.Platform},{type:_core.NgZone},{type:void 0,decorators:[{type:_core.Optional},{type:_core.Inject,args:[_common.DOCUMENT]}]}]},ViewportRuler.prov=(0,_core.defineInjectable)({factory:function(){return new ViewportRuler((0,_core.inject)(_platform2.Platform),(0,_core.inject)(_core.NgZone),(0,_core.inject)(_common.DOCUMENT,8))},token:ViewportRuler,providedIn:"root"}),ViewportRuler}();exports.ViewportRuler=ViewportRuler;var SCROLL_SCHEDULER="undefined"!=typeof requestAnimationFrame?_rxjs.animationFrameScheduler:_rxjs.asapScheduler,CdkVirtualScrollViewport=function(_super){function CdkVirtualScrollViewport(elementRef,_changeDetectorRef,ngZone,_scrollStrategy,dir,scrollDispatcher,viewportRuler){var _this=_super.call(this,elementRef,scrollDispatcher,ngZone,dir)||this;if(_this.elementRef=elementRef,_this._changeDetectorRef=_changeDetectorRef,_this._scrollStrategy=_scrollStrategy,_this._detachedSubject=new _rxjs.Subject,_this._renderedRangeSubject=new _rxjs.Subject,_this._orientation="vertical",_this.scrolledIndexChange=new _rxjs.Observable(function(observer){return _this._scrollStrategy.scrolledIndexChange.subscribe(function(index){return Promise.resolve().then(function(){return _this.ngZone.run(function(){return observer.next(index)})})})}),_this.renderedRangeStream=_this._renderedRangeSubject.asObservable(),_this._totalContentSize=0,_this._totalContentWidth="",_this._totalContentHeight="",_this._renderedRange={start:0,end:0},_this._dataLength=0,_this._viewportSize=0,_this._renderedContentOffset=0,_this._renderedContentOffsetNeedsRewrite=!1,_this._isChangeDetectionPending=!1,_this._runAfterChangeDetection=[],_this._viewportChanges=_rxjs.Subscription.EMPTY,!_scrollStrategy)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.');return viewportRuler&&(_this._viewportChanges=viewportRuler.change().subscribe(function(){_this.checkViewportSize()})),_this}return(0,_tslib.__extends)(CdkVirtualScrollViewport,_super),Object.defineProperty(CdkVirtualScrollViewport.prototype,"orientation",{get:function(){return this._orientation},set:function(orientation){this._orientation!==orientation&&(this._orientation=orientation,this._calculateSpacerSize())},enumerable:!0,configurable:!0}),CdkVirtualScrollViewport.prototype.ngOnInit=function(){var _this=this;_super.prototype.ngOnInit.call(this),this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){_this._measureViewportSize(),_this._scrollStrategy.attach(_this),_this.elementScrolled().pipe((0,_operators.startWith)(null),(0,_operators.auditTime)(0,SCROLL_SCHEDULER)).subscribe(function(){return _this._scrollStrategy.onContentScrolled()}),_this._markChangeDetectionNeeded()})})},CdkVirtualScrollViewport.prototype.ngOnDestroy=function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),_super.prototype.ngOnDestroy.call(this)},CdkVirtualScrollViewport.prototype.attach=function(forOf){var _this=this;if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(function(){_this._forOf=forOf,_this._forOf.dataStream.pipe((0,_operators.takeUntil)(_this._detachedSubject)).subscribe(function(data){var newLength=data.length;newLength!==_this._dataLength&&(_this._dataLength=newLength,_this._scrollStrategy.onDataLengthChanged()),_this._doChangeDetection()})})},CdkVirtualScrollViewport.prototype.detach=function(){this._forOf=null,this._detachedSubject.next()},CdkVirtualScrollViewport.prototype.getDataLength=function(){return this._dataLength},CdkVirtualScrollViewport.prototype.getViewportSize=function(){return this._viewportSize},CdkVirtualScrollViewport.prototype.getRenderedRange=function(){return this._renderedRange},CdkVirtualScrollViewport.prototype.setTotalContentSize=function(size){this._totalContentSize!==size&&(this._totalContentSize=size,this._calculateSpacerSize(),this._markChangeDetectionNeeded())},CdkVirtualScrollViewport.prototype.setRenderedRange=function(range){var r1,r2,_this=this;r1=this._renderedRange,r2=range,(r1.start!=r2.start||r1.end!=r2.end)&&(this._renderedRangeSubject.next(this._renderedRange=range),this._markChangeDetectionNeeded(function(){return _this._scrollStrategy.onContentRendered()}))},CdkVirtualScrollViewport.prototype.getOffsetToRenderedContentStart=function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset},CdkVirtualScrollViewport.prototype.setRenderedContentOffset=function(offset,to){var _this=this;void 0===to&&(to="to-start");var isRtl=this.dir&&"rtl"==this.dir.value,isHorizontal="horizontal"==this.orientation,axis=isHorizontal?"X":"Y",transform="translate"+axis+"("+Number((isHorizontal&&isRtl?-1:1)*offset)+"px)";this._renderedContentOffset=offset,"to-end"===to&&(transform+=" translate"+axis+"(-100%)",this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=transform&&(this._renderedContentTransform=transform,this._markChangeDetectionNeeded(function(){_this._renderedContentOffsetNeedsRewrite?(_this._renderedContentOffset-=_this.measureRenderedContentSize(),_this._renderedContentOffsetNeedsRewrite=!1,_this.setRenderedContentOffset(_this._renderedContentOffset)):_this._scrollStrategy.onRenderedOffsetChanged()}))},CdkVirtualScrollViewport.prototype.scrollToOffset=function(offset,behavior){void 0===behavior&&(behavior="auto");var options={behavior:behavior};"horizontal"===this.orientation?options.start=offset:options.top=offset,this.scrollTo(options)},CdkVirtualScrollViewport.prototype.scrollToIndex=function(index,behavior){void 0===behavior&&(behavior="auto"),this._scrollStrategy.scrollToIndex(index,behavior)},CdkVirtualScrollViewport.prototype.measureScrollOffset=function(from){return from?_super.prototype.measureScrollOffset.call(this,from):_super.prototype.measureScrollOffset.call(this,"horizontal"===this.orientation?"start":"top")},CdkVirtualScrollViewport.prototype.measureRenderedContentSize=function(){var contentEl=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?contentEl.offsetWidth:contentEl.offsetHeight},CdkVirtualScrollViewport.prototype.measureRangeSize=function(range){return this._forOf?this._forOf.measureRangeSize(range,this.orientation):0},CdkVirtualScrollViewport.prototype.checkViewportSize=function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()},CdkVirtualScrollViewport.prototype._measureViewportSize=function(){var viewportEl=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?viewportEl.clientWidth:viewportEl.clientHeight},CdkVirtualScrollViewport.prototype._markChangeDetectionNeeded=function(runAfter){var _this=this;runAfter&&this._runAfterChangeDetection.push(runAfter),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){_this._doChangeDetection()})}))},CdkVirtualScrollViewport.prototype._doChangeDetection=function(){var e_1,_a,_this=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(function(){return _this._changeDetectorRef.markForCheck()});var runAfterChangeDetection=this._runAfterChangeDetection;this._runAfterChangeDetection=[];try{for(var runAfterChangeDetection_1=(0,_tslib.__values)(runAfterChangeDetection),runAfterChangeDetection_1_1=runAfterChangeDetection_1.next();!runAfterChangeDetection_1_1.done;runAfterChangeDetection_1_1=runAfterChangeDetection_1.next()){(0,runAfterChangeDetection_1_1.value)()}}catch(e_1_1){e_1={error:e_1_1}}finally{try{runAfterChangeDetection_1_1&&!runAfterChangeDetection_1_1.done&&(_a=runAfterChangeDetection_1.return)&&_a.call(runAfterChangeDetection_1)}finally{if(e_1)throw e_1.error}}},CdkVirtualScrollViewport.prototype._calculateSpacerSize=function(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""},CdkVirtualScrollViewport.decorators=[{type:_core.Component,args:[{selector:"cdk-virtual-scroll-viewport",template:'\x3c!--\n  Wrap the rendered content in an element that will be used to offset it based on the scroll\n  position.\n--\x3e\n<div #contentWrapper class="cdk-virtual-scroll-content-wrapper">\n  <ng-content></ng-content>\n</div>\n\x3c!--\n  Spacer used to force the scrolling container to the correct size for the *total* number of items\n  so that the scrollbar captures the size of the entire data set.\n--\x3e\n<div class="cdk-virtual-scroll-spacer"\n     [style.width]="_totalContentWidth" [style.height]="_totalContentHeight"></div>\n',host:{class:"cdk-virtual-scroll-viewport","[class.cdk-virtual-scroll-orientation-horizontal]":'orientation === "horizontal"',"[class.cdk-virtual-scroll-orientation-vertical]":'orientation !== "horizontal"'},encapsulation:_core.ViewEncapsulation.None,changeDetection:_core.ChangeDetectionStrategy.OnPush,providers:[{provide:CdkScrollable,useExisting:CdkVirtualScrollViewport}],styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"]}]}],CdkVirtualScrollViewport.ctorParameters=function(){return[{type:_core.ElementRef},{type:_core.ChangeDetectorRef},{type:_core.NgZone},{type:void 0,decorators:[{type:_core.Optional},{type:_core.Inject,args:[VIRTUAL_SCROLL_STRATEGY]}]},{type:_bidi.Directionality,decorators:[{type:_core.Optional}]},{type:ScrollDispatcher},{type:ViewportRuler,decorators:[{type:_core.Optional}]}]},CdkVirtualScrollViewport.propDecorators={orientation:[{type:_core.Input}],scrolledIndexChange:[{type:_core.Output}],_contentWrapper:[{type:_core.ViewChild,args:["contentWrapper",{static:!0}]}]},CdkVirtualScrollViewport}(CdkScrollable);function getSize(orientation,node){var el=node;if(!el.getBoundingClientRect)return 0;var rect=el.getBoundingClientRect();return"horizontal"==orientation?rect.width:rect.height}exports.CdkVirtualScrollViewport=CdkVirtualScrollViewport;var CdkVirtualForOf=function(){function CdkVirtualForOf(_viewContainerRef,_template,_differs,_viewport,ngZone){var _this=this;this._viewContainerRef=_viewContainerRef,this._template=_template,this._differs=_differs,this._viewport=_viewport,this.viewChange=new _rxjs.Subject,this._dataSourceChanges=new _rxjs.Subject,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe((0,_operators.startWith)(null),(0,_operators.pairwise)(),(0,_operators.switchMap)(function(_a){var _b=(0,_tslib.__read)(_a,2),prev=_b[0],cur=_b[1];return _this._changeDataSource(prev,cur)}),(0,_operators.shareReplay)(1)),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new _rxjs.Subject,this.dataStream.subscribe(function(data){_this._data=data,_this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,_operators.takeUntil)(this._destroyed)).subscribe(function(range){_this._renderedRange=range,ngZone.run(function(){return _this.viewChange.next(_this._renderedRange)}),_this._onRenderedDataChange()}),this._viewport.attach(this)}return Object.defineProperty(CdkVirtualForOf.prototype,"cdkVirtualForOf",{get:function(){return this._cdkVirtualForOf},set:function(value){this._cdkVirtualForOf=value,(0,_collections.isDataSource)(value)?this._dataSourceChanges.next(value):this._dataSourceChanges.next(new _collections.ArrayDataSource((0,_rxjs.isObservable)(value)?value:Array.prototype.slice.call(value||[])))},enumerable:!0,configurable:!0}),Object.defineProperty(CdkVirtualForOf.prototype,"cdkVirtualForTrackBy",{get:function(){return this._cdkVirtualForTrackBy},set:function(fn){var _this=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=fn?function(index,item){return fn(index+(_this._renderedRange?_this._renderedRange.start:0),item)}:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(CdkVirtualForOf.prototype,"cdkVirtualForTemplate",{set:function(value){value&&(this._needsUpdate=!0,this._template=value)},enumerable:!0,configurable:!0}),CdkVirtualForOf.prototype.measureRangeSize=function(range,orientation){if(range.start>=range.end)return 0;if(range.start<this._renderedRange.start||range.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");for(var renderedStartIndex=range.start-this._renderedRange.start,totalSize=0,i=range.end-range.start;i--;)for(var view=this._viewContainerRef.get(i+renderedStartIndex),j=view?view.rootNodes.length:0;j--;)totalSize+=getSize(orientation,view.rootNodes[j]);return totalSize},CdkVirtualForOf.prototype.ngDoCheck=function(){if(this._differ&&this._needsUpdate){var changes=this._differ.diff(this._renderedItems);changes?this._applyChanges(changes):this._updateContext(),this._needsUpdate=!1}},CdkVirtualForOf.prototype.ngOnDestroy=function(){var e_1,_a;this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();try{for(var _b=(0,_tslib.__values)(this._templateCache),_c=_b.next();!_c.done;_c=_b.next()){_c.value.destroy()}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},CdkVirtualForOf.prototype._onRenderedDataChange=function(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)},CdkVirtualForOf.prototype._changeDataSource=function(oldDs,newDs){return oldDs&&oldDs.disconnect(this),this._needsUpdate=!0,newDs?newDs.connect(this):(0,_rxjs.of)()},CdkVirtualForOf.prototype._updateContext=function(){for(var count=this._data.length,i=this._viewContainerRef.length;i--;){var view=this._viewContainerRef.get(i);view.context.index=this._renderedRange.start+i,view.context.count=count,this._updateComputedContextProperties(view.context),view.detectChanges()}},CdkVirtualForOf.prototype._applyChanges=function(changes){var _this=this;changes.forEachOperation(function(record,adjustedPreviousIndex,currentIndex){if(null==record.previousIndex)(view=_this._insertViewForNewItem(currentIndex)).context.$implicit=record.item;else if(null==currentIndex)_this._cacheView(_this._detachView(adjustedPreviousIndex));else{var view=_this._viewContainerRef.get(adjustedPreviousIndex);_this._viewContainerRef.move(view,currentIndex),view.context.$implicit=record.item}}),changes.forEachIdentityChange(function(record){_this._viewContainerRef.get(record.currentIndex).context.$implicit=record.item});for(var count=this._data.length,i=this._viewContainerRef.length;i--;){var view=this._viewContainerRef.get(i);view.context.index=this._renderedRange.start+i,view.context.count=count,this._updateComputedContextProperties(view.context)}},CdkVirtualForOf.prototype._cacheView=function(view){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(view);else{var index=this._viewContainerRef.indexOf(view);-1===index?view.destroy():this._viewContainerRef.remove(index)}},CdkVirtualForOf.prototype._insertViewForNewItem=function(index){return this._insertViewFromCache(index)||this._createEmbeddedViewAt(index)},CdkVirtualForOf.prototype._updateComputedContextProperties=function(context){context.first=0===context.index,context.last=context.index===context.count-1,context.even=context.index%2==0,context.odd=!context.even},CdkVirtualForOf.prototype._createEmbeddedViewAt=function(index){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index)},CdkVirtualForOf.prototype._insertViewFromCache=function(index){var cachedView=this._templateCache.pop();return cachedView&&this._viewContainerRef.insert(cachedView,index),cachedView||null},CdkVirtualForOf.prototype._detachView=function(index){return this._viewContainerRef.detach(index)},CdkVirtualForOf.decorators=[{type:_core.Directive,args:[{selector:"[cdkVirtualFor][cdkVirtualForOf]"}]}],CdkVirtualForOf.ctorParameters=function(){return[{type:_core.ViewContainerRef},{type:_core.TemplateRef},{type:_core.IterableDiffers},{type:CdkVirtualScrollViewport,decorators:[{type:_core.SkipSelf}]},{type:_core.NgZone}]},CdkVirtualForOf.propDecorators={cdkVirtualForOf:[{type:_core.Input}],cdkVirtualForTrackBy:[{type:_core.Input}],cdkVirtualForTemplate:[{type:_core.Input}],cdkVirtualForTemplateCacheSize:[{type:_core.Input}]},CdkVirtualForOf}();exports.CdkVirtualForOf=CdkVirtualForOf;var CdkScrollableModule=function(){function CdkScrollableModule(){}return CdkScrollableModule.decorators=[{type:_core.NgModule,args:[{exports:[CdkScrollable],declarations:[CdkScrollable]}]}],CdkScrollableModule}();exports.CdkScrollableModule=CdkScrollableModule;var ScrollingModule=function(){function ScrollingModule(){}return ScrollingModule.decorators=[{type:_core.NgModule,args:[{imports:[_bidi.BidiModule,_platform2.PlatformModule,CdkScrollableModule],exports:[_bidi.BidiModule,CdkScrollableModule,CdkFixedSizeVirtualScroll,CdkVirtualForOf,CdkVirtualScrollViewport],declarations:[CdkFixedSizeVirtualScroll,CdkVirtualForOf,CdkVirtualScrollViewport]}]}],ScrollingModule}();exports.ScrollingModule=ScrollingModule},{"@angular/cdk/coercion":"ENnS","@angular/core":"XDhY",rxjs:"iRqj","rxjs/operators":"cVrl","@angular/cdk/platform":"nvNp","@angular/common":"AomE","@angular/cdk/bidi":"Fc7K",tslib:"vCxL","@angular/cdk/collections":"z0IW"}],c7J6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeDragDropService=exports.SharedModule=exports.PrimeTemplate=exports.MessageService=exports.Header=exports.Footer=exports.ConfirmationService=void 0;var _core=require("@angular/core"),_rxjs=require("rxjs"),_common=require("@angular/common"),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ConfirmationService=function(){function ConfirmationService(){this.requireConfirmationSource=new _rxjs.Subject,this.acceptConfirmationSource=new _rxjs.Subject,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}return ConfirmationService.prototype.confirm=function(confirmation){return this.requireConfirmationSource.next(confirmation),this},ConfirmationService.prototype.close=function(){return this.requireConfirmationSource.next(null),this},ConfirmationService.prototype.onAccept=function(){this.acceptConfirmationSource.next()},ConfirmationService=__decorate([(0,_core.Injectable)()],ConfirmationService)}();exports.ConfirmationService=ConfirmationService;var __decorate$1=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},MessageService=function(){function MessageService(){this.messageSource=new _rxjs.Subject,this.clearSource=new _rxjs.Subject,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}return MessageService.prototype.add=function(message){message&&this.messageSource.next(message)},MessageService.prototype.addAll=function(messages){messages&&messages.length&&this.messageSource.next(messages)},MessageService.prototype.clear=function(key){this.clearSource.next(key||null)},MessageService=__decorate$1([(0,_core.Injectable)()],MessageService)}();exports.MessageService=MessageService;var __decorate$2=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},Header=function(){function Header(){}return Header=__decorate$2([(0,_core.Component)({selector:"p-header",template:"<ng-content></ng-content>"})],Header)}();exports.Header=Header;var Footer=function(){function Footer(){}return Footer=__decorate$2([(0,_core.Component)({selector:"p-footer",template:"<ng-content></ng-content>"})],Footer)}();exports.Footer=Footer;var PrimeTemplate=function(){function PrimeTemplate(template){this.template=template}return PrimeTemplate.prototype.getType=function(){return this.name},PrimeTemplate.ctorParameters=function(){return[{type:_core.TemplateRef}]},__decorate$2([(0,_core.Input)()],PrimeTemplate.prototype,"type",void 0),__decorate$2([(0,_core.Input)("pTemplate")],PrimeTemplate.prototype,"name",void 0),PrimeTemplate=__decorate$2([(0,_core.Directive)({selector:"[pTemplate]",host:{}})],PrimeTemplate)}();exports.PrimeTemplate=PrimeTemplate;var SharedModule=function(){function SharedModule(){}return SharedModule=__decorate$2([(0,_core.NgModule)({imports:[_common.CommonModule],exports:[Header,Footer,PrimeTemplate],declarations:[Header,Footer,PrimeTemplate]})],SharedModule)}();exports.SharedModule=SharedModule;var __decorate$3=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},TreeDragDropService=function(){function TreeDragDropService(){this.dragStartSource=new _rxjs.Subject,this.dragStopSource=new _rxjs.Subject,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}return TreeDragDropService.prototype.startDrag=function(event){this.dragStartSource.next(event)},TreeDragDropService.prototype.stopDrag=function(event){this.dragStopSource.next(event)},TreeDragDropService=__decorate$3([(0,_core.Injectable)()],TreeDragDropService)}();exports.TreeDragDropService=TreeDragDropService},{"@angular/core":"XDhY",rxjs:"iRqj","@angular/common":"AomE"}],ySGQ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniqueComponentId=function(){return exports.lastId=lastId+=1,"pr_id_"+lastId},exports.lastId=exports.ObjectUtils=exports.FilterUtils=void 0;var __values=function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},ObjectUtils=function(){function ObjectUtils(){}return ObjectUtils.equals=function(obj1,obj2,field){return field?this.resolveFieldData(obj1,field)===this.resolveFieldData(obj2,field):this.equalsByValue(obj1,obj2)},ObjectUtils.equalsByValue=function(obj1,obj2){if(obj1===obj2)return!0;if(obj1&&obj2&&"object"==typeof obj1&&"object"==typeof obj2){var i,length,key,arrA=Array.isArray(obj1),arrB=Array.isArray(obj2);if(arrA&&arrB){if((length=obj1.length)!=obj2.length)return!1;for(i=length;0!=i--;)if(!this.equalsByValue(obj1[i],obj2[i]))return!1;return!0}if(arrA!=arrB)return!1;var dateA=obj1 instanceof Date,dateB=obj2 instanceof Date;if(dateA!=dateB)return!1;if(dateA&&dateB)return obj1.getTime()==obj2.getTime();var regexpA=obj1 instanceof RegExp,regexpB=obj2 instanceof RegExp;if(regexpA!=regexpB)return!1;if(regexpA&&regexpB)return obj1.toString()==obj2.toString();var keys=Object.keys(obj1);if((length=keys.length)!==Object.keys(obj2).length)return!1;for(i=length;0!=i--;)if(!Object.prototype.hasOwnProperty.call(obj2,keys[i]))return!1;for(i=length;0!=i--;)if(key=keys[i],!this.equalsByValue(obj1[key],obj2[key]))return!1;return!0}return obj1!=obj1&&obj2!=obj2},ObjectUtils.resolveFieldData=function(data,field){if(data&&field){if(this.isFunction(field))return field(data);if(-1==field.indexOf("."))return data[field];for(var fields=field.split("."),value=data,i=0,len=fields.length;i<len;++i){if(null==value)return null;value=value[fields[i]]}return value}return null},ObjectUtils.isFunction=function(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)},ObjectUtils.reorderArray=function(value,from,to){value&&from!==to&&(to>=value.length&&(to%=value.length,from%=value.length),value.splice(to,0,value.splice(from,1)[0]))},ObjectUtils.generateSelectItems=function(val,field){var e_1,_a,selectItems;if(val&&val.length){selectItems=[];try{for(var val_1=__values(val),val_1_1=val_1.next();!val_1_1.done;val_1_1=val_1.next()){var item=val_1_1.value;selectItems.push({label:this.resolveFieldData(item,field),value:item})}}catch(e_1_1){e_1={error:e_1_1}}finally{try{val_1_1&&!val_1_1.done&&(_a=val_1.return)&&_a.call(val_1)}finally{if(e_1)throw e_1.error}}}return selectItems},ObjectUtils.insertIntoOrderedArray=function(item,index,arr,sourceArr){if(arr.length>0){for(var injected=!1,i=0;i<arr.length;i++){if(this.findIndexInList(arr[i],sourceArr)>index){arr.splice(i,0,item),injected=!0;break}}injected||arr.push(item)}else arr.push(item)},ObjectUtils.findIndexInList=function(item,list){var index=-1;if(list)for(var i=0;i<list.length;i++)if(list[i]==item){index=i;break}return index},ObjectUtils.removeAccents=function(str){return str&&str.search(/[\xC0-\xFF]/g)>-1&&(str=str.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),str},ObjectUtils}();exports.ObjectUtils=ObjectUtils;var __values$1=function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},FilterUtils=function(){function FilterUtils(){}return FilterUtils.filter=function(value,fields,filterValue,filterMatchMode,filterLocale){var e_1,_a,e_2,_b,filteredItems=[],filterText=ObjectUtils.removeAccents(filterValue).toLocaleLowerCase(filterLocale);if(value)try{for(var value_1=__values$1(value),value_1_1=value_1.next();!value_1_1.done;value_1_1=value_1.next()){var item=value_1_1.value;try{for(var fields_1=(e_2=void 0,__values$1(fields)),fields_1_1=fields_1.next();!fields_1_1.done;fields_1_1=fields_1.next()){var field=fields_1_1.value,fieldValue=ObjectUtils.removeAccents(String(ObjectUtils.resolveFieldData(item,field))).toLocaleLowerCase(filterLocale);if(FilterUtils[filterMatchMode](fieldValue,filterText,filterLocale)){filteredItems.push(item);break}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{fields_1_1&&!fields_1_1.done&&(_b=fields_1.return)&&_b.call(fields_1)}finally{if(e_2)throw e_2.error}}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{value_1_1&&!value_1_1.done&&(_a=value_1.return)&&_a.call(value_1)}finally{if(e_1)throw e_1.error}}return filteredItems},FilterUtils.startsWith=function(value,filter,filterLocale){if(void 0===filter||null===filter||""===filter.trim())return!0;if(void 0===value||null===value)return!1;var filterValue=ObjectUtils.removeAccents(filter.toString()).toLocaleLowerCase(filterLocale);return ObjectUtils.removeAccents(value.toString()).toLocaleLowerCase(filterLocale).slice(0,filterValue.length)===filterValue},FilterUtils.contains=function(value,filter,filterLocale){if(void 0===filter||null===filter||"string"==typeof filter&&""===filter.trim())return!0;if(void 0===value||null===value)return!1;var filterValue=ObjectUtils.removeAccents(filter.toString()).toLocaleLowerCase(filterLocale);return-1!==ObjectUtils.removeAccents(value.toString()).toLocaleLowerCase(filterLocale).indexOf(filterValue)},FilterUtils.endsWith=function(value,filter,filterLocale){if(void 0===filter||null===filter||""===filter.trim())return!0;if(void 0===value||null===value)return!1;var filterValue=ObjectUtils.removeAccents(filter.toString()).toLocaleLowerCase(filterLocale),stringValue=ObjectUtils.removeAccents(value.toString()).toLocaleLowerCase(filterLocale);return-1!==stringValue.indexOf(filterValue,stringValue.length-filterValue.length)},FilterUtils.equals=function(value,filter,filterLocale){return void 0===filter||null===filter||"string"==typeof filter&&""===filter.trim()||void 0!==value&&null!==value&&(value.getTime&&filter.getTime?value.getTime()===filter.getTime():ObjectUtils.removeAccents(value.toString()).toLocaleLowerCase(filterLocale)==ObjectUtils.removeAccents(filter.toString()).toLocaleLowerCase(filterLocale))},FilterUtils.notEquals=function(value,filter,filterLocale){return void 0!==filter&&null!==filter&&("string"!=typeof filter||""!==filter.trim())&&(void 0===value||null===value||(value.getTime&&filter.getTime?value.getTime()!==filter.getTime():ObjectUtils.removeAccents(value.toString()).toLocaleLowerCase(filterLocale)!=ObjectUtils.removeAccents(filter.toString()).toLocaleLowerCase(filterLocale)))},FilterUtils.in=function(value,filter,filterLocale){if(void 0===filter||null===filter||0===filter.length)return!0;if(void 0===value||null===value)return!1;for(var i=0;i<filter.length;i++)if(ObjectUtils.equals(value,filter[i]))return!0;return!1},FilterUtils.lt=function(value,filter,filterLocale){return void 0===filter||null===filter||void 0!==value&&null!==value&&(value.getTime&&filter.getTime?value.getTime()<filter.getTime():value<filter)},FilterUtils.lte=function(value,filter,filterLocale){return void 0===filter||null===filter||void 0!==value&&null!==value&&(value.getTime&&filter.getTime?value.getTime()<=filter.getTime():value<=filter)},FilterUtils.gt=function(value,filter,filterLocale){return void 0===filter||null===filter||void 0!==value&&null!==value&&(value.getTime&&filter.getTime?value.getTime()>filter.getTime():value>filter)},FilterUtils.gte=function(value,filter,filterLocale){return void 0===filter||null===filter||void 0!==value&&null!==value&&(value.getTime&&filter.getTime?value.getTime()>=filter.getTime():value>=filter)},FilterUtils}();exports.FilterUtils=FilterUtils;var lastId=0;exports.lastId=lastId},{}],NLO0:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReactiveFormsModule=exports.FormsModule=exports.VERSION=exports.Validators=exports.NG_VALIDATORS=exports.NG_ASYNC_VALIDATORS=exports.FormGroup=exports.FormControl=exports.FormArray=exports.AbstractControl=exports.FormBuilder=exports.RequiredValidator=exports.PatternValidator=exports.MinLengthValidator=exports.MaxLengthValidator=exports.EmailValidator=exports.CheckboxRequiredValidator=exports.SelectMultipleControlValueAccessor=exports.SelectControlValueAccessor=exports.NgSelectOption=exports.FormGroupName=exports.FormArrayName=exports.FormGroupDirective=exports.FormControlName=exports.FormControlDirective=exports.RangeValueAccessor=exports.RadioControlValueAccessor=exports.NumberValueAccessor=exports.NgModelGroup=exports.NgModel=exports.NgFormSelectorWarning=exports.NgForm=exports.NgControlStatusGroup=exports.NgControlStatus=exports.NgControl=exports.DefaultValueAccessor=exports.COMPOSITION_BUFFER_MODE=exports.NG_VALUE_ACCESSOR=exports.ControlContainer=exports.CheckboxControlValueAccessor=exports.AbstractFormGroupDirective=exports.AbstractControlDirective=exports.angular_packages_forms_forms_ba=exports.angular_packages_forms_forms_bf=exports.angular_packages_forms_forms_bd=exports.angular_packages_forms_forms_be=exports.angular_packages_forms_forms_bc=exports.angular_packages_forms_forms_bb=exports.angular_packages_forms_forms_x=exports.NgSelectMultipleOption=exports.angular_packages_forms_forms_y=exports.angular_packages_forms_forms_w=exports.angular_packages_forms_forms_u=exports.angular_packages_forms_forms_v=exports.angular_packages_forms_forms_t=exports.angular_packages_forms_forms_s=exports.angular_packages_forms_forms_r=exports.angular_packages_forms_forms_q=exports.angular_packages_forms_forms_p=exports.angular_packages_forms_forms_o=exports.angular_packages_forms_forms_n=exports.angular_packages_forms_forms_m=exports.NgNoValidate=exports.angular_packages_forms_forms_z=exports.angular_packages_forms_forms_l=exports.angular_packages_forms_forms_k=exports.angular_packages_forms_forms_j=exports.angular_packages_forms_forms_i=exports.angular_packages_forms_forms_h=exports.angular_packages_forms_forms_g=exports.angular_packages_forms_forms_f=exports.angular_packages_forms_forms_e=exports.angular_packages_forms_forms_b=exports.angular_packages_forms_forms_a=exports.angular_packages_forms_forms_c=exports.InternalFormsSharedModule=exports.angular_packages_forms_forms_d=void 0;var _tslib=require("tslib"),_core=require("@angular/core"),_platformBrowser=require("@angular/platform-browser"),_rxjs=require("rxjs"),_operators=require("rxjs/operators"),NG_VALUE_ACCESSOR=new _core.InjectionToken("NgValueAccessor");exports.NG_VALUE_ACCESSOR=NG_VALUE_ACCESSOR;var CHECKBOX_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,_core.forwardRef)(function(){return CheckboxControlValueAccessor}),multi:!0};exports.angular_packages_forms_forms_e=CHECKBOX_VALUE_ACCESSOR;var CheckboxControlValueAccessor=function(){function CheckboxControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return CheckboxControlValueAccessor.prototype.writeValue=function(value){this._renderer.setProperty(this._elementRef.nativeElement,"checked",value)},CheckboxControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},CheckboxControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},CheckboxControlValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)},CheckboxControlValueAccessor=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[CHECKBOX_VALUE_ACCESSOR]}),(0,_tslib.__metadata)("design:paramtypes",[_core.Renderer2,_core.ElementRef])],CheckboxControlValueAccessor)}();exports.CheckboxControlValueAccessor=CheckboxControlValueAccessor;var DEFAULT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,_core.forwardRef)(function(){return DefaultValueAccessor}),multi:!0};exports.angular_packages_forms_forms_f=DEFAULT_VALUE_ACCESSOR;var COMPOSITION_BUFFER_MODE=new _core.InjectionToken("CompositionEventMode");exports.COMPOSITION_BUFFER_MODE=COMPOSITION_BUFFER_MODE;var DefaultValueAccessor=function(){function DefaultValueAccessor(_renderer,_elementRef,_compositionMode){var userAgent;this._renderer=_renderer,this._elementRef=_elementRef,this._compositionMode=_compositionMode,this.onChange=function(_){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(userAgent=(0,_platformBrowser.getDOM)()?(0,_platformBrowser.getDOM)().getUserAgent():"",!/android (\d+)/.test(userAgent.toLowerCase())))}return DefaultValueAccessor.prototype.writeValue=function(value){var normalizedValue=null==value?"":value;this._renderer.setProperty(this._elementRef.nativeElement,"value",normalizedValue)},DefaultValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},DefaultValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},DefaultValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)},DefaultValueAccessor.prototype._handleInput=function(value){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(value)},DefaultValueAccessor.prototype._compositionStart=function(){this._composing=!0},DefaultValueAccessor.prototype._compositionEnd=function(value){this._composing=!1,this._compositionMode&&this.onChange(value)},DefaultValueAccessor=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"$any(this)._handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"$any(this)._compositionStart()","(compositionend)":"$any(this)._compositionEnd($event.target.value)"},providers:[DEFAULT_VALUE_ACCESSOR]}),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Inject)(COMPOSITION_BUFFER_MODE)),(0,_tslib.__metadata)("design:paramtypes",[_core.Renderer2,_core.ElementRef,Boolean])],DefaultValueAccessor)}();exports.DefaultValueAccessor=DefaultValueAccessor;var AbstractControlDirective=function(){function AbstractControlDirective(){}return Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),AbstractControlDirective.prototype.reset=function(value){void 0===value&&(value=void 0),this.control&&this.control.reset(value)},AbstractControlDirective.prototype.hasError=function(errorCode,path){return!!this.control&&this.control.hasError(errorCode,path)},AbstractControlDirective.prototype.getError=function(errorCode,path){return this.control?this.control.getError(errorCode,path):null},AbstractControlDirective}();exports.AbstractControlDirective=AbstractControlDirective;var ControlContainer=function(_super){function ControlContainer(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(ControlContainer,_super),Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(ControlContainer.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),ControlContainer}(AbstractControlDirective);function unimplemented(){throw new Error("unimplemented")}exports.ControlContainer=ControlContainer;var NgControl=function(_super){function NgControl(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._parent=null,_this.name=null,_this.valueAccessor=null,_this._rawValidators=[],_this._rawAsyncValidators=[],_this}return(0,_tslib.__extends)(NgControl,_super),Object.defineProperty(NgControl.prototype,"validator",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),NgControl}(AbstractControlDirective);exports.NgControl=NgControl;var AbstractControlStatus=function(){function AbstractControlStatus(cd){this._cd=cd}return Object.defineProperty(AbstractControlStatus.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlStatus.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),AbstractControlStatus}();exports.angular_packages_forms_forms_g=AbstractControlStatus;var ngControlStatusHost={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"};exports.angular_packages_forms_forms_h=ngControlStatusHost;var NgControlStatus=function(_super){function NgControlStatus(cd){return _super.call(this,cd)||this}return(0,_tslib.__extends)(NgControlStatus,_super),NgControlStatus=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[formControlName],[ngModel],[formControl]",host:ngControlStatusHost}),(0,_tslib.__param)(0,(0,_core.Self)()),(0,_tslib.__metadata)("design:paramtypes",[NgControl])],NgControlStatus)}(AbstractControlStatus);exports.NgControlStatus=NgControlStatus;var NgControlStatusGroup=function(_super){function NgControlStatusGroup(cd){return _super.call(this,cd)||this}return(0,_tslib.__extends)(NgControlStatusGroup,_super),NgControlStatusGroup=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:ngControlStatusHost}),(0,_tslib.__param)(0,(0,_core.Self)()),(0,_tslib.__metadata)("design:paramtypes",[ControlContainer])],NgControlStatusGroup)}(AbstractControlStatus);function isEmptyInputValue(value){return null==value||0===value.length}exports.NgControlStatusGroup=NgControlStatusGroup;var NG_VALIDATORS=new _core.InjectionToken("NgValidators");exports.NG_VALIDATORS=NG_VALIDATORS;var NG_ASYNC_VALIDATORS=new _core.InjectionToken("NgAsyncValidators");exports.NG_ASYNC_VALIDATORS=NG_ASYNC_VALIDATORS;var EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Validators=function(){function Validators(){}return Validators.min=function(min){return function(control){if(isEmptyInputValue(control.value)||isEmptyInputValue(min))return null;var value=parseFloat(control.value);return!isNaN(value)&&value<min?{min:{min:min,actual:control.value}}:null}},Validators.max=function(max){return function(control){if(isEmptyInputValue(control.value)||isEmptyInputValue(max))return null;var value=parseFloat(control.value);return!isNaN(value)&&value>max?{max:{max:max,actual:control.value}}:null}},Validators.required=function(control){return isEmptyInputValue(control.value)?{required:!0}:null},Validators.requiredTrue=function(control){return!0===control.value?null:{required:!0}},Validators.email=function(control){return isEmptyInputValue(control.value)?null:EMAIL_REGEXP.test(control.value)?null:{email:!0}},Validators.minLength=function(minLength){return function(control){if(isEmptyInputValue(control.value))return null;var length=control.value?control.value.length:0;return length<minLength?{minlength:{requiredLength:minLength,actualLength:length}}:null}},Validators.maxLength=function(maxLength){return function(control){var length=control.value?control.value.length:0;return length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:length}}:null}},Validators.pattern=function(pattern){return pattern?("string"==typeof pattern?(regexStr="","^"!==pattern.charAt(0)&&(regexStr+="^"),regexStr+=pattern,"$"!==pattern.charAt(pattern.length-1)&&(regexStr+="$"),regex=new RegExp(regexStr)):(regexStr=pattern.toString(),regex=pattern),function(control){if(isEmptyInputValue(control.value))return null;var value=control.value;return regex.test(value)?null:{pattern:{requiredPattern:regexStr,actualValue:value}}}):Validators.nullValidator;var regex,regexStr},Validators.nullValidator=function(control){return null},Validators.compose=function(validators){if(!validators)return null;var presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return _mergeErrors(function(control,validators){return validators.map(function(v){return v(control)})}(control,presentValidators))}},Validators.composeAsync=function(validators){if(!validators)return null;var presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){var observables=function(control,validators){return validators.map(function(v){return v(control)})}(control,presentValidators).map(toObservable);return(0,_rxjs.forkJoin)(observables).pipe((0,_operators.map)(_mergeErrors))}},Validators}();function isPresent(o){return null!=o}function toObservable(r){var obs=(0,_core.isPromise)(r)?(0,_rxjs.from)(r):r;if(!(0,_core.isObservable)(obs))throw new Error("Expected validator to return Promise or Observable.");return obs}function _mergeErrors(arrayOfErrors){var res=arrayOfErrors.reduce(function(res,errors){return null!=errors?(0,_tslib.__assign)({},res,errors):res},{});return 0===Object.keys(res).length?null:res}function normalizeValidator(validator){return validator.validate?function(c){return validator.validate(c)}:validator}function normalizeAsyncValidator(validator){return validator.validate?function(c){return validator.validate(c)}:validator}exports.Validators=Validators;var NUMBER_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,_core.forwardRef)(function(){return NumberValueAccessor}),multi:!0};exports.angular_packages_forms_forms_m=NUMBER_VALUE_ACCESSOR;var NumberValueAccessor=function(){function NumberValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return NumberValueAccessor.prototype.writeValue=function(value){var normalizedValue=null==value?"":value;this._renderer.setProperty(this._elementRef.nativeElement,"value",normalizedValue)},NumberValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(""==value?null:parseFloat(value))}},NumberValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},NumberValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)},NumberValueAccessor=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[NUMBER_VALUE_ACCESSOR]}),(0,_tslib.__metadata)("design:paramtypes",[_core.Renderer2,_core.ElementRef])],NumberValueAccessor)}();exports.NumberValueAccessor=NumberValueAccessor;var RADIO_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,_core.forwardRef)(function(){return RadioControlValueAccessor}),multi:!0};exports.angular_packages_forms_forms_n=RADIO_VALUE_ACCESSOR;var RadioControlRegistry=function(){function RadioControlRegistry(){this._accessors=[]}return RadioControlRegistry.prototype.add=function(control,accessor){this._accessors.push([control,accessor])},RadioControlRegistry.prototype.remove=function(accessor){for(var i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===accessor)return void this._accessors.splice(i,1)},RadioControlRegistry.prototype.select=function(accessor){var _this=this;this._accessors.forEach(function(c){_this._isSameGroup(c,accessor)&&c[1]!==accessor&&c[1].fireUncheck(accessor.value)})},RadioControlRegistry.prototype._isSameGroup=function(controlPair,accessor){return!!controlPair[0].control&&(controlPair[0]._parent===accessor._control._parent&&controlPair[1].name===accessor.name)},RadioControlRegistry=(0,_tslib.__decorate)([(0,_core.Injectable)()],RadioControlRegistry)}();exports.angular_packages_forms_forms_o=RadioControlRegistry;var RadioControlValueAccessor=function(){function RadioControlValueAccessor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer,this._elementRef=_elementRef,this._registry=_registry,this._injector=_injector,this.onChange=function(){},this.onTouched=function(){}}return RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(NgControl),this._checkName(),this._registry.add(this._control,this)},RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this)},RadioControlValueAccessor.prototype.writeValue=function(value){this._state=value===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},RadioControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(){fn(_this.value),_this._registry.select(_this)}},RadioControlValueAccessor.prototype.fireUncheck=function(value){this.writeValue(value)},RadioControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},RadioControlValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)},RadioControlValueAccessor.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},RadioControlValueAccessor.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",String)],RadioControlValueAccessor.prototype,"name",void 0),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",String)],RadioControlValueAccessor.prototype,"formControlName",void 0),(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object)],RadioControlValueAccessor.prototype,"value",void 0),RadioControlValueAccessor=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[RADIO_VALUE_ACCESSOR]}),(0,_tslib.__metadata)("design:paramtypes",[_core.Renderer2,_core.ElementRef,RadioControlRegistry,_core.Injector])],RadioControlValueAccessor)}();exports.RadioControlValueAccessor=RadioControlValueAccessor;var RANGE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,_core.forwardRef)(function(){return RangeValueAccessor}),multi:!0};exports.angular_packages_forms_forms_p=RANGE_VALUE_ACCESSOR;var RangeValueAccessor=function(){function RangeValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return RangeValueAccessor.prototype.writeValue=function(value){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(value))},RangeValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(""==value?null:parseFloat(value))}},RangeValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},RangeValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)},RangeValueAccessor=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[RANGE_VALUE_ACCESSOR]}),(0,_tslib.__metadata)("design:paramtypes",[_core.Renderer2,_core.ElementRef])],RangeValueAccessor)}();exports.RangeValueAccessor=RangeValueAccessor;var FormErrorExamples_formControlName='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',FormErrorExamples_formGroupName='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',FormErrorExamples_formArrayName='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',FormErrorExamples_ngModelGroup='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',FormErrorExamples_ngModelWithFormGroup='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ',ReactiveErrors=function(){function ReactiveErrors(){}return ReactiveErrors.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+FormErrorExamples_formControlName)},ReactiveErrors.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+FormErrorExamples_formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+FormErrorExamples_ngModelGroup)},ReactiveErrors.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+FormErrorExamples_formControlName)},ReactiveErrors.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+FormErrorExamples_formGroupName)},ReactiveErrors.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+FormErrorExamples_formArrayName)},ReactiveErrors.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},ReactiveErrors.ngModelWarning=function(directiveName){console.warn("\n    It looks like you're using ngModel on the same form field as "+directiveName+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===directiveName?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},ReactiveErrors}(),SELECT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,_core.forwardRef)(function(){return SelectControlValueAccessor}),multi:!0};function _buildValueString(id,value){return null==id?""+value:(value&&"object"==typeof value&&(value="Object"),(id+": "+value).slice(0,50))}exports.angular_packages_forms_forms_w=SELECT_VALUE_ACCESSOR;var SelectControlValueAccessor=function(){function SelectControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=function(_){},this.onTouched=function(){},this._compareWith=_core.looseIdentical}return Object.defineProperty(SelectControlValueAccessor.prototype,"compareWith",{set:function(fn){if("function"!=typeof fn)throw new Error("compareWith must be a function, but received "+JSON.stringify(fn));this._compareWith=fn},enumerable:!0,configurable:!0}),SelectControlValueAccessor.prototype.writeValue=function(value){this.value=value;var id=this._getOptionId(value);null==id&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var valueString=_buildValueString(id,value);this._renderer.setProperty(this._elementRef.nativeElement,"value",valueString)},SelectControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this.onChange=function(valueString){_this.value=_this._getOptionValue(valueString),fn(_this.value)}},SelectControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},SelectControlValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)},SelectControlValueAccessor.prototype._registerOption=function(){return(this._idCounter++).toString()},SelectControlValueAccessor.prototype._getOptionId=function(value){var e_1,_a;try{for(var _b=(0,_tslib.__values)(Array.from(this._optionMap.keys())),_c=_b.next();!_c.done;_c=_b.next()){var id=_c.value;if(this._compareWith(this._optionMap.get(id),value))return id}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return null},SelectControlValueAccessor.prototype._getOptionValue=function(valueString){var id=function(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id):valueString},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Function),(0,_tslib.__metadata)("design:paramtypes",[Function])],SelectControlValueAccessor.prototype,"compareWith",null),SelectControlValueAccessor=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[SELECT_VALUE_ACCESSOR]}),(0,_tslib.__metadata)("design:paramtypes",[_core.Renderer2,_core.ElementRef])],SelectControlValueAccessor)}();exports.SelectControlValueAccessor=SelectControlValueAccessor;var NgSelectOption=function(){function NgSelectOption(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(NgSelectOption.prototype,"ngValue",{set:function(value){null!=this._select&&(this._select._optionMap.set(this.id,value),this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectOption.prototype,"value",{set:function(value){this._setElementValue(value),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),NgSelectOption.prototype._setElementValue=function(value){this._renderer.setProperty(this._element.nativeElement,"value",value)},NgSelectOption.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},(0,_tslib.__decorate)([(0,_core.Input)("ngValue"),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgSelectOption.prototype,"ngValue",null),(0,_tslib.__decorate)([(0,_core.Input)("value"),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgSelectOption.prototype,"value",null),NgSelectOption=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"option"}),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Host)()),(0,_tslib.__metadata)("design:paramtypes",[_core.ElementRef,_core.Renderer2,SelectControlValueAccessor])],NgSelectOption)}();exports.NgSelectOption=NgSelectOption;var SELECT_MULTIPLE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,_core.forwardRef)(function(){return SelectMultipleControlValueAccessor}),multi:!0};function _buildValueString$1(id,value){return null==id?""+value:("string"==typeof value&&(value="'"+value+"'"),value&&"object"==typeof value&&(value="Object"),(id+": "+value).slice(0,50))}exports.angular_packages_forms_forms_x=SELECT_MULTIPLE_VALUE_ACCESSOR;var SelectMultipleControlValueAccessor=function(){function SelectMultipleControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=function(_){},this.onTouched=function(){},this._compareWith=_core.looseIdentical}return Object.defineProperty(SelectMultipleControlValueAccessor.prototype,"compareWith",{set:function(fn){if("function"!=typeof fn)throw new Error("compareWith must be a function, but received "+JSON.stringify(fn));this._compareWith=fn},enumerable:!0,configurable:!0}),SelectMultipleControlValueAccessor.prototype.writeValue=function(value){var optionSelectedStateSetter,_this=this;if(this.value=value,Array.isArray(value)){var ids_1=value.map(function(v){return _this._getOptionId(v)});optionSelectedStateSetter=function(opt,o){opt._setSelected(ids_1.indexOf(o.toString())>-1)}}else optionSelectedStateSetter=function(opt,o){opt._setSelected(!1)};this._optionMap.forEach(optionSelectedStateSetter)},SelectMultipleControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this.onChange=function(_){var selected=[];if(_.hasOwnProperty("selectedOptions"))for(var options=_.selectedOptions,i=0;i<options.length;i++){var opt=options.item(i),val=_this._getOptionValue(opt.value);selected.push(val)}else for(options=_.options,i=0;i<options.length;i++){if((opt=options.item(i)).selected){val=_this._getOptionValue(opt.value);selected.push(val)}}_this.value=selected,fn(selected)}},SelectMultipleControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},SelectMultipleControlValueAccessor.prototype.setDisabledState=function(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)},SelectMultipleControlValueAccessor.prototype._registerOption=function(value){var id=(this._idCounter++).toString();return this._optionMap.set(id,value),id},SelectMultipleControlValueAccessor.prototype._getOptionId=function(value){var e_1,_a;try{for(var _b=(0,_tslib.__values)(Array.from(this._optionMap.keys())),_c=_b.next();!_c.done;_c=_b.next()){var id=_c.value;if(this._compareWith(this._optionMap.get(id)._value,value))return id}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return null},SelectMultipleControlValueAccessor.prototype._getOptionValue=function(valueString){var id=function(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id)._value:valueString},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Function),(0,_tslib.__metadata)("design:paramtypes",[Function])],SelectMultipleControlValueAccessor.prototype,"compareWith",null),SelectMultipleControlValueAccessor=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[SELECT_MULTIPLE_VALUE_ACCESSOR]}),(0,_tslib.__metadata)("design:paramtypes",[_core.Renderer2,_core.ElementRef])],SelectMultipleControlValueAccessor)}();exports.SelectMultipleControlValueAccessor=SelectMultipleControlValueAccessor;var NgSelectMultipleOption=function(){function NgSelectMultipleOption(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(NgSelectMultipleOption.prototype,"ngValue",{set:function(value){null!=this._select&&(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectMultipleOption.prototype,"value",{set:function(value){this._select?(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value)):this._setElementValue(value)},enumerable:!0,configurable:!0}),NgSelectMultipleOption.prototype._setElementValue=function(value){this._renderer.setProperty(this._element.nativeElement,"value",value)},NgSelectMultipleOption.prototype._setSelected=function(selected){this._renderer.setProperty(this._element.nativeElement,"selected",selected)},NgSelectMultipleOption.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},(0,_tslib.__decorate)([(0,_core.Input)("ngValue"),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgSelectMultipleOption.prototype,"ngValue",null),(0,_tslib.__decorate)([(0,_core.Input)("value"),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgSelectMultipleOption.prototype,"value",null),NgSelectMultipleOption=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"option"}),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Host)()),(0,_tslib.__metadata)("design:paramtypes",[_core.ElementRef,_core.Renderer2,SelectMultipleControlValueAccessor])],NgSelectMultipleOption)}();function controlPath(name,parent){return(0,_tslib.__spread)(parent.path,[name])}function setUpControl(control,dir){control||_throwError(dir,"Cannot find control with"),dir.valueAccessor||_throwError(dir,"No value accessor for form control with"),control.validator=Validators.compose([control.validator,dir.validator]),control.asyncValidator=Validators.composeAsync([control.asyncValidator,dir.asyncValidator]),dir.valueAccessor.writeValue(control.value),function(control,dir){dir.valueAccessor.registerOnChange(function(newValue){control._pendingValue=newValue,control._pendingChange=!0,control._pendingDirty=!0,"change"===control.updateOn&&updateControl(control,dir)})}(control,dir),function(control,dir){control.registerOnChange(function(newValue,emitModelEvent){dir.valueAccessor.writeValue(newValue),emitModelEvent&&dir.viewToModelUpdate(newValue)})}(control,dir),function(control,dir){dir.valueAccessor.registerOnTouched(function(){control._pendingTouched=!0,"blur"===control.updateOn&&control._pendingChange&&updateControl(control,dir),"submit"!==control.updateOn&&control.markAsTouched()})}(control,dir),dir.valueAccessor.setDisabledState&&control.registerOnDisabledChange(function(isDisabled){dir.valueAccessor.setDisabledState(isDisabled)}),dir._rawValidators.forEach(function(validator){validator.registerOnValidatorChange&&validator.registerOnValidatorChange(function(){return control.updateValueAndValidity()})}),dir._rawAsyncValidators.forEach(function(validator){validator.registerOnValidatorChange&&validator.registerOnValidatorChange(function(){return control.updateValueAndValidity()})})}function updateControl(control,dir){control._pendingDirty&&control.markAsDirty(),control.setValue(control._pendingValue,{emitModelToViewChange:!1}),dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1}function setUpFormContainer(control,dir){null==control&&_throwError(dir,"Cannot find control with"),control.validator=Validators.compose([control.validator,dir.validator]),control.asyncValidator=Validators.composeAsync([control.asyncValidator,dir.asyncValidator])}function _noControlError(dir){return _throwError(dir,"There is no FormControl instance attached to form control element with")}function _throwError(dir,message){var messageEnd;throw messageEnd=dir.path.length>1?"path: '"+dir.path.join(" -> ")+"'":dir.path[0]?"name: '"+dir.path+"'":"unspecified name attribute",new Error(message+" "+messageEnd)}function composeValidators(validators){return null!=validators?Validators.compose(validators.map(normalizeValidator)):null}function composeAsyncValidators(validators){return null!=validators?Validators.composeAsync(validators.map(normalizeAsyncValidator)):null}function isPropertyUpdated(changes,viewModel){if(!changes.hasOwnProperty("model"))return!1;var change=changes.model;return!!change.isFirstChange()||!(0,_core.looseIdentical)(viewModel,change.currentValue)}exports.NgSelectMultipleOption=exports.angular_packages_forms_forms_y=NgSelectMultipleOption;var BUILTIN_ACCESSORS=[CheckboxControlValueAccessor,RangeValueAccessor,NumberValueAccessor,SelectControlValueAccessor,SelectMultipleControlValueAccessor,RadioControlValueAccessor];function syncPendingControls(form,directives){form._syncPendingControls(),directives.forEach(function(dir){var control=dir.control;"submit"===control.updateOn&&control._pendingChange&&(dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1)})}function selectValueAccessor(dir,valueAccessors){if(!valueAccessors)return null;Array.isArray(valueAccessors)||_throwError(dir,"Value accessor was not provided as an array for form control with");var defaultAccessor=void 0,builtinAccessor=void 0,customAccessor=void 0;return valueAccessors.forEach(function(v){var valueAccessor;v.constructor===DefaultValueAccessor?defaultAccessor=v:(valueAccessor=v,BUILTIN_ACCESSORS.some(function(a){return valueAccessor.constructor===a})?(builtinAccessor&&_throwError(dir,"More than one built-in value accessor matches form control with"),builtinAccessor=v):(customAccessor&&_throwError(dir,"More than one custom value accessor matches form control with"),customAccessor=v))}),customAccessor||(builtinAccessor||(defaultAccessor||(_throwError(dir,"No valid value accessor for form control with"),null)))}function removeDir(list,el){var index=list.indexOf(el);index>-1&&list.splice(index,1)}function _ngModelWarning(name,type,instance,warningConfig){(0,_core.isDevMode)()&&"never"!==warningConfig&&((null!==warningConfig&&"once"!==warningConfig||type._ngModelWarningSentOnce)&&("always"!==warningConfig||instance._ngModelWarningSent)||(ReactiveErrors.ngModelWarning(name),type._ngModelWarningSentOnce=!0,instance._ngModelWarningSent=!0))}function coerceToValidator(validatorOrOpts){var validator=isOptionsObj(validatorOrOpts)?validatorOrOpts.validators:validatorOrOpts;return Array.isArray(validator)?composeValidators(validator):validator||null}function coerceToAsyncValidator(asyncValidator,validatorOrOpts){var origAsyncValidator=isOptionsObj(validatorOrOpts)?validatorOrOpts.asyncValidators:asyncValidator;return Array.isArray(origAsyncValidator)?composeAsyncValidators(origAsyncValidator):origAsyncValidator||null}function isOptionsObj(validatorOrOpts){return null!=validatorOrOpts&&!Array.isArray(validatorOrOpts)&&"object"==typeof validatorOrOpts}var AbstractControl=function(){function AbstractControl(validator,asyncValidator){this.validator=validator,this.asyncValidator=asyncValidator,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(AbstractControl.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),AbstractControl.prototype.setValidators=function(newValidator){this.validator=coerceToValidator(newValidator)},AbstractControl.prototype.setAsyncValidators=function(newValidator){this.asyncValidator=coerceToAsyncValidator(newValidator)},AbstractControl.prototype.clearValidators=function(){this.validator=null},AbstractControl.prototype.clearAsyncValidators=function(){this.asyncValidator=null},AbstractControl.prototype.markAsTouched=function(opts){void 0===opts&&(opts={}),this.touched=!0,this._parent&&!opts.onlySelf&&this._parent.markAsTouched(opts)},AbstractControl.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(control){return control.markAllAsTouched()})},AbstractControl.prototype.markAsUntouched=function(opts){void 0===opts&&(opts={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(control){control.markAsUntouched({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)},AbstractControl.prototype.markAsDirty=function(opts){void 0===opts&&(opts={}),this.pristine=!1,this._parent&&!opts.onlySelf&&this._parent.markAsDirty(opts)},AbstractControl.prototype.markAsPristine=function(opts){void 0===opts&&(opts={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(control){control.markAsPristine({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)},AbstractControl.prototype.markAsPending=function(opts){void 0===opts&&(opts={}),this.status="PENDING",!1!==opts.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!opts.onlySelf&&this._parent.markAsPending(opts)},AbstractControl.prototype.disable=function(opts){void 0===opts&&(opts={});var skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(control){control.disable((0,_tslib.__assign)({},opts,{onlySelf:!0}))}),this._updateValue(),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors((0,_tslib.__assign)({},opts,{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(function(changeFn){return changeFn(!0)})},AbstractControl.prototype.enable=function(opts){void 0===opts&&(opts={});var skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="VALID",this._forEachChild(function(control){control.enable((0,_tslib.__assign)({},opts,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent}),this._updateAncestors((0,_tslib.__assign)({},opts,{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(function(changeFn){return changeFn(!1)})},AbstractControl.prototype._updateAncestors=function(opts){this._parent&&!opts.onlySelf&&(this._parent.updateValueAndValidity(opts),opts.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},AbstractControl.prototype.setParent=function(parent){this._parent=parent},AbstractControl.prototype.updateValueAndValidity=function(opts){void 0===opts&&(opts={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(opts.emitEvent)),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!opts.onlySelf&&this._parent.updateValueAndValidity(opts)},AbstractControl.prototype._updateTreeValidity=function(opts){void 0===opts&&(opts={emitEvent:!0}),this._forEachChild(function(ctrl){return ctrl._updateTreeValidity(opts)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent})},AbstractControl.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},AbstractControl.prototype._runValidator=function(){return this.validator?this.validator(this):null},AbstractControl.prototype._runAsyncValidator=function(emitEvent){var _this=this;if(this.asyncValidator){this.status="PENDING";var obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=obs.subscribe(function(errors){return _this.setErrors(errors,{emitEvent:emitEvent})})}},AbstractControl.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},AbstractControl.prototype.setErrors=function(errors,opts){void 0===opts&&(opts={}),this.errors=errors,this._updateControlsErrors(!1!==opts.emitEvent)},AbstractControl.prototype.get=function(path){return function(control,path,delimiter){return null==path?null:(path instanceof Array||(path=path.split(delimiter)),path instanceof Array&&0===path.length?null:path.reduce(function(v,name){return v instanceof FormGroup?v.controls.hasOwnProperty(name)?v.controls[name]:null:v instanceof FormArray&&v.at(name)||null},control))}(this,path,".")},AbstractControl.prototype.getError=function(errorCode,path){var control=path?this.get(path):this;return control&&control.errors?control.errors[errorCode]:null},AbstractControl.prototype.hasError=function(errorCode,path){return!!this.getError(errorCode,path)},Object.defineProperty(AbstractControl.prototype,"root",{get:function(){for(var x=this;x._parent;)x=x._parent;return x},enumerable:!0,configurable:!0}),AbstractControl.prototype._updateControlsErrors=function(emitEvent){this.status=this._calculateStatus(),emitEvent&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(emitEvent)},AbstractControl.prototype._initObservables=function(){this.valueChanges=new _core.EventEmitter,this.statusChanges=new _core.EventEmitter},AbstractControl.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},AbstractControl.prototype._anyControlsHaveStatus=function(status){return this._anyControls(function(control){return control.status===status})},AbstractControl.prototype._anyControlsDirty=function(){return this._anyControls(function(control){return control.dirty})},AbstractControl.prototype._anyControlsTouched=function(){return this._anyControls(function(control){return control.touched})},AbstractControl.prototype._updatePristine=function(opts){void 0===opts&&(opts={}),this.pristine=!this._anyControlsDirty(),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)},AbstractControl.prototype._updateTouched=function(opts){void 0===opts&&(opts={}),this.touched=this._anyControlsTouched(),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)},AbstractControl.prototype._isBoxedValue=function(formState){return"object"==typeof formState&&null!==formState&&2===Object.keys(formState).length&&"value"in formState&&"disabled"in formState},AbstractControl.prototype._registerOnCollectionChange=function(fn){this._onCollectionChange=fn},AbstractControl.prototype._setUpdateStrategy=function(opts){isOptionsObj(opts)&&null!=opts.updateOn&&(this._updateOn=opts.updateOn)},AbstractControl.prototype._parentMarkedDirty=function(onlySelf){var parentDirty=this._parent&&this._parent.dirty;return!onlySelf&&parentDirty&&!this._parent._anyControlsDirty()},AbstractControl}();exports.AbstractControl=AbstractControl;var FormControl=function(_super){function FormControl(formState,validatorOrOpts,asyncValidator){void 0===formState&&(formState=null);var _this=_super.call(this,coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts))||this;return _this._onChange=[],_this._applyFormState(formState),_this._setUpdateStrategy(validatorOrOpts),_this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),_this._initObservables(),_this}return(0,_tslib.__extends)(FormControl,_super),FormControl.prototype.setValue=function(value,options){var _this=this;void 0===options&&(options={}),this.value=this._pendingValue=value,this._onChange.length&&!1!==options.emitModelToViewChange&&this._onChange.forEach(function(changeFn){return changeFn(_this.value,!1!==options.emitViewToModelChange)}),this.updateValueAndValidity(options)},FormControl.prototype.patchValue=function(value,options){void 0===options&&(options={}),this.setValue(value,options)},FormControl.prototype.reset=function(formState,options){void 0===formState&&(formState=null),void 0===options&&(options={}),this._applyFormState(formState),this.markAsPristine(options),this.markAsUntouched(options),this.setValue(this.value,options),this._pendingChange=!1},FormControl.prototype._updateValue=function(){},FormControl.prototype._anyControls=function(condition){return!1},FormControl.prototype._allControlsDisabled=function(){return this.disabled},FormControl.prototype.registerOnChange=function(fn){this._onChange.push(fn)},FormControl.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},FormControl.prototype.registerOnDisabledChange=function(fn){this._onDisabledChange.push(fn)},FormControl.prototype._forEachChild=function(cb){},FormControl.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)},FormControl.prototype._applyFormState=function(formState){this._isBoxedValue(formState)?(this.value=this._pendingValue=formState.value,formState.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=formState},FormControl}(AbstractControl);exports.FormControl=FormControl;var FormGroup=function(_super){function FormGroup(controls,validatorOrOpts,asyncValidator){var _this=_super.call(this,coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts))||this;return _this.controls=controls,_this._initObservables(),_this._setUpdateStrategy(validatorOrOpts),_this._setUpControls(),_this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),_this}return(0,_tslib.__extends)(FormGroup,_super),FormGroup.prototype.registerControl=function(name,control){return this.controls[name]?this.controls[name]:(this.controls[name]=control,control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange),control)},FormGroup.prototype.addControl=function(name,control){this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()},FormGroup.prototype.removeControl=function(name){this.controls[name]&&this.controls[name]._registerOnCollectionChange(function(){}),delete this.controls[name],this.updateValueAndValidity(),this._onCollectionChange()},FormGroup.prototype.setControl=function(name,control){this.controls[name]&&this.controls[name]._registerOnCollectionChange(function(){}),delete this.controls[name],control&&this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()},FormGroup.prototype.contains=function(controlName){return this.controls.hasOwnProperty(controlName)&&this.controls[controlName].enabled},FormGroup.prototype.setValue=function(value,options){var _this=this;void 0===options&&(options={}),this._checkAllValuesPresent(value),Object.keys(value).forEach(function(name){_this._throwIfControlMissing(name),_this.controls[name].setValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)},FormGroup.prototype.patchValue=function(value,options){var _this=this;void 0===options&&(options={}),Object.keys(value).forEach(function(name){_this.controls[name]&&_this.controls[name].patchValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)},FormGroup.prototype.reset=function(value,options){void 0===value&&(value={}),void 0===options&&(options={}),this._forEachChild(function(control,name){control.reset(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)},FormGroup.prototype.getRawValue=function(){return this._reduceChildren({},function(acc,control,name){return acc[name]=control instanceof FormControl?control.value:control.getRawValue(),acc})},FormGroup.prototype._syncPendingControls=function(){var subtreeUpdated=this._reduceChildren(!1,function(updated,child){return!!child._syncPendingControls()||updated});return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated},FormGroup.prototype._throwIfControlMissing=function(name){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[name])throw new Error("Cannot find form control with name: "+name+".")},FormGroup.prototype._forEachChild=function(cb){var _this=this;Object.keys(this.controls).forEach(function(k){return cb(_this.controls[k],k)})},FormGroup.prototype._setUpControls=function(){var _this=this;this._forEachChild(function(control){control.setParent(_this),control._registerOnCollectionChange(_this._onCollectionChange)})},FormGroup.prototype._updateValue=function(){this.value=this._reduceValue()},FormGroup.prototype._anyControls=function(condition){var _this=this,res=!1;return this._forEachChild(function(control,name){res=res||_this.contains(name)&&condition(control)}),res},FormGroup.prototype._reduceValue=function(){var _this=this;return this._reduceChildren({},function(acc,control,name){return(control.enabled||_this.disabled)&&(acc[name]=control.value),acc})},FormGroup.prototype._reduceChildren=function(initValue,fn){var res=initValue;return this._forEachChild(function(control,name){res=fn(res,control,name)}),res},FormGroup.prototype._allControlsDisabled=function(){var e_1,_a;try{for(var _b=(0,_tslib.__values)(Object.keys(this.controls)),_c=_b.next();!_c.done;_c=_b.next()){var controlName=_c.value;if(this.controls[controlName].enabled)return!1}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return Object.keys(this.controls).length>0||this.disabled},FormGroup.prototype._checkAllValuesPresent=function(value){this._forEachChild(function(control,name){if(void 0===value[name])throw new Error("Must supply a value for form control with name: '"+name+"'.")})},FormGroup}(AbstractControl);exports.FormGroup=FormGroup;var FormArray=function(_super){function FormArray(controls,validatorOrOpts,asyncValidator){var _this=_super.call(this,coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts))||this;return _this.controls=controls,_this._initObservables(),_this._setUpdateStrategy(validatorOrOpts),_this._setUpControls(),_this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),_this}return(0,_tslib.__extends)(FormArray,_super),FormArray.prototype.at=function(index){return this.controls[index]},FormArray.prototype.push=function(control){this.controls.push(control),this._registerControl(control),this.updateValueAndValidity(),this._onCollectionChange()},FormArray.prototype.insert=function(index,control){this.controls.splice(index,0,control),this._registerControl(control),this.updateValueAndValidity()},FormArray.prototype.removeAt=function(index){this.controls[index]&&this.controls[index]._registerOnCollectionChange(function(){}),this.controls.splice(index,1),this.updateValueAndValidity()},FormArray.prototype.setControl=function(index,control){this.controls[index]&&this.controls[index]._registerOnCollectionChange(function(){}),this.controls.splice(index,1),control&&(this.controls.splice(index,0,control),this._registerControl(control)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(FormArray.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),FormArray.prototype.setValue=function(value,options){var _this=this;void 0===options&&(options={}),this._checkAllValuesPresent(value),value.forEach(function(newValue,index){_this._throwIfControlMissing(index),_this.at(index).setValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)},FormArray.prototype.patchValue=function(value,options){var _this=this;void 0===options&&(options={}),value.forEach(function(newValue,index){_this.at(index)&&_this.at(index).patchValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)},FormArray.prototype.reset=function(value,options){void 0===value&&(value=[]),void 0===options&&(options={}),this._forEachChild(function(control,index){control.reset(value[index],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)},FormArray.prototype.getRawValue=function(){return this.controls.map(function(control){return control instanceof FormControl?control.value:control.getRawValue()})},FormArray.prototype.clear=function(){this.controls.length<1||(this._forEachChild(function(control){return control._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())},FormArray.prototype._syncPendingControls=function(){var subtreeUpdated=this.controls.reduce(function(updated,child){return!!child._syncPendingControls()||updated},!1);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated},FormArray.prototype._throwIfControlMissing=function(index){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(index))throw new Error("Cannot find form control at index "+index)},FormArray.prototype._forEachChild=function(cb){this.controls.forEach(function(control,index){cb(control,index)})},FormArray.prototype._updateValue=function(){var _this=this;this.value=this.controls.filter(function(control){return control.enabled||_this.disabled}).map(function(control){return control.value})},FormArray.prototype._anyControls=function(condition){return this.controls.some(function(control){return control.enabled&&condition(control)})},FormArray.prototype._setUpControls=function(){var _this=this;this._forEachChild(function(control){return _this._registerControl(control)})},FormArray.prototype._checkAllValuesPresent=function(value){this._forEachChild(function(control,i){if(void 0===value[i])throw new Error("Must supply a value for form control at index: "+i+".")})},FormArray.prototype._allControlsDisabled=function(){var e_2,_a;try{for(var _b=(0,_tslib.__values)(this.controls),_c=_b.next();!_c.done;_c=_b.next()){if(_c.value.enabled)return!1}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}return this.controls.length>0||this.disabled},FormArray.prototype._registerControl=function(control){control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)},FormArray}(AbstractControl);exports.FormArray=FormArray;var formDirectiveProvider={provide:ControlContainer,useExisting:(0,_core.forwardRef)(function(){return NgForm})};exports.angular_packages_forms_forms_i=formDirectiveProvider;var resolvedPromise=Promise.resolve(null),NgForm=function(_super){function NgForm(validators,asyncValidators){var _this=_super.call(this)||this;return _this.submitted=!1,_this._directives=[],_this.ngSubmit=new _core.EventEmitter,_this.form=new FormGroup({},composeValidators(validators),composeAsyncValidators(asyncValidators)),_this}return(0,_tslib.__extends)(NgForm,_super),NgForm.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),NgForm.prototype.addControl=function(dir){var _this=this;resolvedPromise.then(function(){var container=_this._findContainer(dir.path);dir.control=container.registerControl(dir.name,dir.control),setUpControl(dir.control,dir),dir.control.updateValueAndValidity({emitEvent:!1}),_this._directives.push(dir)})},NgForm.prototype.getControl=function(dir){return this.form.get(dir.path)},NgForm.prototype.removeControl=function(dir){var _this=this;resolvedPromise.then(function(){var container=_this._findContainer(dir.path);container&&container.removeControl(dir.name),removeDir(_this._directives,dir)})},NgForm.prototype.addFormGroup=function(dir){var _this=this;resolvedPromise.then(function(){var container=_this._findContainer(dir.path),group=new FormGroup({});setUpFormContainer(group,dir),container.registerControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.removeFormGroup=function(dir){var _this=this;resolvedPromise.then(function(){var container=_this._findContainer(dir.path);container&&container.removeControl(dir.name)})},NgForm.prototype.getFormGroup=function(dir){return this.form.get(dir.path)},NgForm.prototype.updateModel=function(dir,value){var _this=this;resolvedPromise.then(function(){_this.form.get(dir.path).setValue(value)})},NgForm.prototype.setValue=function(value){this.control.setValue(value)},NgForm.prototype.onSubmit=function($event){return this.submitted=!0,syncPendingControls(this.form,this._directives),this.ngSubmit.emit($event),!1},NgForm.prototype.onReset=function(){this.resetForm()},NgForm.prototype.resetForm=function(value){void 0===value&&(value=void 0),this.form.reset(value),this.submitted=!1},NgForm.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},NgForm.prototype._findContainer=function(path){return path.pop(),path.length?this.form.get(path):this.form},(0,_tslib.__decorate)([(0,_core.Input)("ngFormOptions"),(0,_tslib.__metadata)("design:type",Object)],NgForm.prototype,"options",void 0),NgForm=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"form:not([ngNoForm]):not([formGroup]),ngForm,ng-form,[ngForm]",providers:[formDirectiveProvider],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}),(0,_tslib.__param)(0,(0,_core.Optional)()),(0,_tslib.__param)(0,(0,_core.Self)()),(0,_tslib.__param)(0,(0,_core.Inject)(NG_VALIDATORS)),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Self)()),(0,_tslib.__param)(1,(0,_core.Inject)(NG_ASYNC_VALIDATORS)),(0,_tslib.__metadata)("design:paramtypes",[Array,Array])],NgForm)}(ControlContainer);exports.NgForm=NgForm;var TemplateDrivenErrors=function(){function TemplateDrivenErrors(){}return TemplateDrivenErrors.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+FormErrorExamples_formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+FormErrorExamples_ngModelWithFormGroup)},TemplateDrivenErrors.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+FormErrorExamples_formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+FormErrorExamples_ngModelGroup)},TemplateDrivenErrors.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},TemplateDrivenErrors.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+FormErrorExamples_formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+FormErrorExamples_ngModelGroup)},TemplateDrivenErrors.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},TemplateDrivenErrors}(),NG_FORM_SELECTOR_WARNING=new _core.InjectionToken("NgFormSelectorWarning");exports.angular_packages_forms_forms_j=NG_FORM_SELECTOR_WARNING;var NgFormSelectorWarning=function(){function NgFormSelectorWarning(ngFormWarning){(ngFormWarning&&"once"!==ngFormWarning||NgFormSelectorWarning_1._ngFormWarning)&&"always"!==ngFormWarning||(TemplateDrivenErrors.ngFormWarning(),NgFormSelectorWarning_1._ngFormWarning=!0)}var NgFormSelectorWarning_1;return NgFormSelectorWarning_1=NgFormSelectorWarning,NgFormSelectorWarning._ngFormWarning=!1,NgFormSelectorWarning=NgFormSelectorWarning_1=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"ngForm"}),(0,_tslib.__param)(0,(0,_core.Optional)()),(0,_tslib.__param)(0,(0,_core.Inject)(NG_FORM_SELECTOR_WARNING)),(0,_tslib.__metadata)("design:paramtypes",[Object])],NgFormSelectorWarning)}();exports.NgFormSelectorWarning=NgFormSelectorWarning;var AbstractFormGroupDirective=function(_super){function AbstractFormGroupDirective(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(AbstractFormGroupDirective,_super),AbstractFormGroupDirective.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},AbstractFormGroupDirective.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(AbstractFormGroupDirective.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"path",{get:function(){return controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"validator",{get:function(){return composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractFormGroupDirective.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),AbstractFormGroupDirective.prototype._checkParentType=function(){},AbstractFormGroupDirective}(ControlContainer);exports.AbstractFormGroupDirective=AbstractFormGroupDirective;var modelGroupProvider={provide:ControlContainer,useExisting:(0,_core.forwardRef)(function(){return NgModelGroup})};exports.angular_packages_forms_forms_l=modelGroupProvider;var NgModelGroup=function(_super){function NgModelGroup(parent,validators,asyncValidators){var _this=_super.call(this)||this;return _this._parent=parent,_this._validators=validators,_this._asyncValidators=asyncValidators,_this}var NgModelGroup_1;return(0,_tslib.__extends)(NgModelGroup,_super),NgModelGroup_1=NgModelGroup,NgModelGroup.prototype._checkParentType=function(){this._parent instanceof NgModelGroup_1||this._parent instanceof NgForm||TemplateDrivenErrors.modelGroupParentException()},(0,_tslib.__decorate)([(0,_core.Input)("ngModelGroup"),(0,_tslib.__metadata)("design:type",String)],NgModelGroup.prototype,"name",void 0),NgModelGroup=NgModelGroup_1=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngModelGroup]",providers:[modelGroupProvider],exportAs:"ngModelGroup"}),(0,_tslib.__param)(0,(0,_core.Host)()),(0,_tslib.__param)(0,(0,_core.SkipSelf)()),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Self)()),(0,_tslib.__param)(1,(0,_core.Inject)(NG_VALIDATORS)),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Self)()),(0,_tslib.__param)(2,(0,_core.Inject)(NG_ASYNC_VALIDATORS)),(0,_tslib.__metadata)("design:paramtypes",[ControlContainer,Array,Array])],NgModelGroup)}(AbstractFormGroupDirective);exports.NgModelGroup=NgModelGroup;var formControlBinding={provide:NgControl,useExisting:(0,_core.forwardRef)(function(){return NgModel})};exports.angular_packages_forms_forms_k=formControlBinding;var resolvedPromise$1=Promise.resolve(null),NgModel=function(_super){function NgModel(parent,validators,asyncValidators,valueAccessors){var _this=_super.call(this)||this;return _this.control=new FormControl,_this._registered=!1,_this.update=new _core.EventEmitter,_this._parent=parent,_this._rawValidators=validators||[],_this._rawAsyncValidators=asyncValidators||[],_this.valueAccessor=selectValueAccessor(_this,valueAccessors),_this}return(0,_tslib.__extends)(NgModel,_super),NgModel.prototype.ngOnChanges=function(changes){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in changes&&this._updateDisabled(changes),isPropertyUpdated(changes,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},NgModel.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(NgModel.prototype,"path",{get:function(){return this._parent?controlPath(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"validator",{get:function(){return composeValidators(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),NgModel.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,this.update.emit(newValue)},NgModel.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},NgModel.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},NgModel.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},NgModel.prototype._setUpStandalone=function(){setUpControl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},NgModel.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},NgModel.prototype._checkParentType=function(){!(this._parent instanceof NgModelGroup)&&this._parent instanceof AbstractFormGroupDirective?TemplateDrivenErrors.formGroupNameException():this._parent instanceof NgModelGroup||this._parent instanceof NgForm||TemplateDrivenErrors.modelParentException()},NgModel.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||TemplateDrivenErrors.missingNameException()},NgModel.prototype._updateValue=function(value){var _this=this;resolvedPromise$1.then(function(){_this.control.setValue(value,{emitViewToModelChange:!1})})},NgModel.prototype._updateDisabled=function(changes){var _this=this,disabledValue=changes.isDisabled.currentValue,isDisabled=""===disabledValue||disabledValue&&"false"!==disabledValue;resolvedPromise$1.then(function(){isDisabled&&!_this.control.disabled?_this.control.disable():!isDisabled&&_this.control.disabled&&_this.control.enable()})},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",String)],NgModel.prototype,"name",void 0),(0,_tslib.__decorate)([(0,_core.Input)("disabled"),(0,_tslib.__metadata)("design:type",Boolean)],NgModel.prototype,"isDisabled",void 0),(0,_tslib.__decorate)([(0,_core.Input)("ngModel"),(0,_tslib.__metadata)("design:type",Object)],NgModel.prototype,"model",void 0),(0,_tslib.__decorate)([(0,_core.Input)("ngModelOptions"),(0,_tslib.__metadata)("design:type",Object)],NgModel.prototype,"options",void 0),(0,_tslib.__decorate)([(0,_core.Output)("ngModelChange"),(0,_tslib.__metadata)("design:type",Object)],NgModel.prototype,"update",void 0),NgModel=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[formControlBinding],exportAs:"ngModel"}),(0,_tslib.__param)(0,(0,_core.Optional)()),(0,_tslib.__param)(0,(0,_core.Host)()),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Self)()),(0,_tslib.__param)(1,(0,_core.Inject)(NG_VALIDATORS)),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Self)()),(0,_tslib.__param)(2,(0,_core.Inject)(NG_ASYNC_VALIDATORS)),(0,_tslib.__param)(3,(0,_core.Optional)()),(0,_tslib.__param)(3,(0,_core.Self)()),(0,_tslib.__param)(3,(0,_core.Inject)(NG_VALUE_ACCESSOR)),(0,_tslib.__metadata)("design:paramtypes",[ControlContainer,Array,Array,Array])],NgModel)}(NgControl);exports.NgModel=NgModel;var NgNoValidate=function(){function NgNoValidate(){}return NgNoValidate=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}})],NgNoValidate)}();exports.NgNoValidate=exports.angular_packages_forms_forms_z=NgNoValidate;var NG_MODEL_WITH_FORM_CONTROL_WARNING=new _core.InjectionToken("NgModelWithFormControlWarning");exports.angular_packages_forms_forms_q=NG_MODEL_WITH_FORM_CONTROL_WARNING;var formControlBinding$1={provide:NgControl,useExisting:(0,_core.forwardRef)(function(){return FormControlDirective})};exports.angular_packages_forms_forms_r=formControlBinding$1;var FormControlDirective=function(_super){function FormControlDirective(validators,asyncValidators,valueAccessors,_ngModelWarningConfig){var _this=_super.call(this)||this;return _this._ngModelWarningConfig=_ngModelWarningConfig,_this.update=new _core.EventEmitter,_this._ngModelWarningSent=!1,_this._rawValidators=validators||[],_this._rawAsyncValidators=asyncValidators||[],_this.valueAccessor=selectValueAccessor(_this,valueAccessors),_this}var FormControlDirective_1;return(0,_tslib.__extends)(FormControlDirective,_super),FormControlDirective_1=FormControlDirective,Object.defineProperty(FormControlDirective.prototype,"isDisabled",{set:function(isDisabled){ReactiveErrors.disabledAttrWarning()},enumerable:!0,configurable:!0}),FormControlDirective.prototype.ngOnChanges=function(changes){this._isControlChanged(changes)&&(setUpControl(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),isPropertyUpdated(changes,this.viewModel)&&(_ngModelWarning("formControl",FormControlDirective_1,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(FormControlDirective.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlDirective.prototype,"validator",{get:function(){return composeValidators(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlDirective.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlDirective.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),FormControlDirective.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,this.update.emit(newValue)},FormControlDirective.prototype._isControlChanged=function(changes){return changes.hasOwnProperty("form")},FormControlDirective._ngModelWarningSentOnce=!1,(0,_tslib.__decorate)([(0,_core.Input)("formControl"),(0,_tslib.__metadata)("design:type",FormControl)],FormControlDirective.prototype,"form",void 0),(0,_tslib.__decorate)([(0,_core.Input)("disabled"),(0,_tslib.__metadata)("design:type",Boolean),(0,_tslib.__metadata)("design:paramtypes",[Boolean])],FormControlDirective.prototype,"isDisabled",null),(0,_tslib.__decorate)([(0,_core.Input)("ngModel"),(0,_tslib.__metadata)("design:type",Object)],FormControlDirective.prototype,"model",void 0),(0,_tslib.__decorate)([(0,_core.Output)("ngModelChange"),(0,_tslib.__metadata)("design:type",Object)],FormControlDirective.prototype,"update",void 0),FormControlDirective=FormControlDirective_1=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[formControl]",providers:[formControlBinding$1],exportAs:"ngForm"}),(0,_tslib.__param)(0,(0,_core.Optional)()),(0,_tslib.__param)(0,(0,_core.Self)()),(0,_tslib.__param)(0,(0,_core.Inject)(NG_VALIDATORS)),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Self)()),(0,_tslib.__param)(1,(0,_core.Inject)(NG_ASYNC_VALIDATORS)),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Self)()),(0,_tslib.__param)(2,(0,_core.Inject)(NG_VALUE_ACCESSOR)),(0,_tslib.__param)(3,(0,_core.Optional)()),(0,_tslib.__param)(3,(0,_core.Inject)(NG_MODEL_WITH_FORM_CONTROL_WARNING)),(0,_tslib.__metadata)("design:paramtypes",[Array,Array,Array,Object])],FormControlDirective)}(NgControl);exports.FormControlDirective=FormControlDirective;var formDirectiveProvider$1={provide:ControlContainer,useExisting:(0,_core.forwardRef)(function(){return FormGroupDirective})};exports.angular_packages_forms_forms_t=formDirectiveProvider$1;var FormGroupDirective=function(_super){function FormGroupDirective(_validators,_asyncValidators){var _this=_super.call(this)||this;return _this._validators=_validators,_this._asyncValidators=_asyncValidators,_this.submitted=!1,_this.directives=[],_this.form=null,_this.ngSubmit=new _core.EventEmitter,_this}return(0,_tslib.__extends)(FormGroupDirective,_super),FormGroupDirective.prototype.ngOnChanges=function(changes){this._checkFormPresent(),changes.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(FormGroupDirective.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(FormGroupDirective.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(FormGroupDirective.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),FormGroupDirective.prototype.addControl=function(dir){var ctrl=this.form.get(dir.path);return setUpControl(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1}),this.directives.push(dir),ctrl},FormGroupDirective.prototype.getControl=function(dir){return this.form.get(dir.path)},FormGroupDirective.prototype.removeControl=function(dir){removeDir(this.directives,dir)},FormGroupDirective.prototype.addFormGroup=function(dir){var ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})},FormGroupDirective.prototype.removeFormGroup=function(dir){},FormGroupDirective.prototype.getFormGroup=function(dir){return this.form.get(dir.path)},FormGroupDirective.prototype.addFormArray=function(dir){var ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})},FormGroupDirective.prototype.removeFormArray=function(dir){},FormGroupDirective.prototype.getFormArray=function(dir){return this.form.get(dir.path)},FormGroupDirective.prototype.updateModel=function(dir,value){this.form.get(dir.path).setValue(value)},FormGroupDirective.prototype.onSubmit=function($event){return this.submitted=!0,syncPendingControls(this.form,this.directives),this.ngSubmit.emit($event),!1},FormGroupDirective.prototype.onReset=function(){this.resetForm()},FormGroupDirective.prototype.resetForm=function(value){void 0===value&&(value=void 0),this.form.reset(value),this.submitted=!1},FormGroupDirective.prototype._updateDomValue=function(){var _this=this;this.directives.forEach(function(dir){var newCtrl=_this.form.get(dir.path);dir.control!==newCtrl&&(!function(control,dir){dir.valueAccessor.registerOnChange(function(){return _noControlError(dir)}),dir.valueAccessor.registerOnTouched(function(){return _noControlError(dir)}),dir._rawValidators.forEach(function(validator){validator.registerOnValidatorChange&&validator.registerOnValidatorChange(null)}),dir._rawAsyncValidators.forEach(function(validator){validator.registerOnValidatorChange&&validator.registerOnValidatorChange(null)}),control&&control._clearChangeFns()}(dir.control,dir),newCtrl&&setUpControl(newCtrl,dir),dir.control=newCtrl)}),this.form._updateTreeValidity({emitEvent:!1})},FormGroupDirective.prototype._updateRegistrations=function(){var _this=this;this.form._registerOnCollectionChange(function(){return _this._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},FormGroupDirective.prototype._updateValidators=function(){var sync=composeValidators(this._validators);this.form.validator=Validators.compose([this.form.validator,sync]);var async=composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=Validators.composeAsync([this.form.asyncValidator,async])},FormGroupDirective.prototype._checkFormPresent=function(){this.form||ReactiveErrors.missingFormException()},(0,_tslib.__decorate)([(0,_core.Input)("formGroup"),(0,_tslib.__metadata)("design:type",FormGroup)],FormGroupDirective.prototype,"form",void 0),(0,_tslib.__decorate)([(0,_core.Output)(),(0,_tslib.__metadata)("design:type",Object)],FormGroupDirective.prototype,"ngSubmit",void 0),FormGroupDirective=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[formGroup]",providers:[formDirectiveProvider$1],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}),(0,_tslib.__param)(0,(0,_core.Optional)()),(0,_tslib.__param)(0,(0,_core.Self)()),(0,_tslib.__param)(0,(0,_core.Inject)(NG_VALIDATORS)),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Self)()),(0,_tslib.__param)(1,(0,_core.Inject)(NG_ASYNC_VALIDATORS)),(0,_tslib.__metadata)("design:paramtypes",[Array,Array])],FormGroupDirective)}(ControlContainer);exports.FormGroupDirective=FormGroupDirective;var formGroupNameProvider={provide:ControlContainer,useExisting:(0,_core.forwardRef)(function(){return FormGroupName})};exports.angular_packages_forms_forms_u=formGroupNameProvider;var FormGroupName=function(_super){function FormGroupName(parent,validators,asyncValidators){var _this=_super.call(this)||this;return _this._parent=parent,_this._validators=validators,_this._asyncValidators=asyncValidators,_this}return(0,_tslib.__extends)(FormGroupName,_super),FormGroupName.prototype._checkParentType=function(){_hasInvalidParent(this._parent)&&ReactiveErrors.groupParentException()},(0,_tslib.__decorate)([(0,_core.Input)("formGroupName"),(0,_tslib.__metadata)("design:type",String)],FormGroupName.prototype,"name",void 0),FormGroupName=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[formGroupName]",providers:[formGroupNameProvider]}),(0,_tslib.__param)(0,(0,_core.Optional)()),(0,_tslib.__param)(0,(0,_core.Host)()),(0,_tslib.__param)(0,(0,_core.SkipSelf)()),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Self)()),(0,_tslib.__param)(1,(0,_core.Inject)(NG_VALIDATORS)),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Self)()),(0,_tslib.__param)(2,(0,_core.Inject)(NG_ASYNC_VALIDATORS)),(0,_tslib.__metadata)("design:paramtypes",[ControlContainer,Array,Array])],FormGroupName)}(AbstractFormGroupDirective);exports.FormGroupName=FormGroupName;var formArrayNameProvider={provide:ControlContainer,useExisting:(0,_core.forwardRef)(function(){return FormArrayName})};exports.angular_packages_forms_forms_v=formArrayNameProvider;var FormArrayName=function(_super){function FormArrayName(parent,validators,asyncValidators){var _this=_super.call(this)||this;return _this._parent=parent,_this._validators=validators,_this._asyncValidators=asyncValidators,_this}return(0,_tslib.__extends)(FormArrayName,_super),FormArrayName.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},FormArrayName.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(FormArrayName.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"path",{get:function(){return controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"validator",{get:function(){return composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormArrayName.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),FormArrayName.prototype._checkParentType=function(){_hasInvalidParent(this._parent)&&ReactiveErrors.arrayParentException()},(0,_tslib.__decorate)([(0,_core.Input)("formArrayName"),(0,_tslib.__metadata)("design:type",String)],FormArrayName.prototype,"name",void 0),FormArrayName=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[formArrayName]",providers:[formArrayNameProvider]}),(0,_tslib.__param)(0,(0,_core.Optional)()),(0,_tslib.__param)(0,(0,_core.Host)()),(0,_tslib.__param)(0,(0,_core.SkipSelf)()),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Self)()),(0,_tslib.__param)(1,(0,_core.Inject)(NG_VALIDATORS)),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Self)()),(0,_tslib.__param)(2,(0,_core.Inject)(NG_ASYNC_VALIDATORS)),(0,_tslib.__metadata)("design:paramtypes",[ControlContainer,Array,Array])],FormArrayName)}(ControlContainer);function _hasInvalidParent(parent){return!(parent instanceof FormGroupName||parent instanceof FormGroupDirective||parent instanceof FormArrayName)}exports.FormArrayName=FormArrayName;var controlNameBinding={provide:NgControl,useExisting:(0,_core.forwardRef)(function(){return FormControlName})};exports.angular_packages_forms_forms_s=controlNameBinding;var FormControlName=function(_super){function FormControlName(parent,validators,asyncValidators,valueAccessors,_ngModelWarningConfig){var _this=_super.call(this)||this;return _this._ngModelWarningConfig=_ngModelWarningConfig,_this._added=!1,_this.update=new _core.EventEmitter,_this._ngModelWarningSent=!1,_this._parent=parent,_this._rawValidators=validators||[],_this._rawAsyncValidators=asyncValidators||[],_this.valueAccessor=selectValueAccessor(_this,valueAccessors),_this}var FormControlName_1;return(0,_tslib.__extends)(FormControlName,_super),FormControlName_1=FormControlName,Object.defineProperty(FormControlName.prototype,"isDisabled",{set:function(isDisabled){ReactiveErrors.disabledAttrWarning()},enumerable:!0,configurable:!0}),FormControlName.prototype.ngOnChanges=function(changes){this._added||this._setUpControl(),isPropertyUpdated(changes,this.viewModel)&&(_ngModelWarning("formControlName",FormControlName_1,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},FormControlName.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},FormControlName.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,this.update.emit(newValue)},Object.defineProperty(FormControlName.prototype,"path",{get:function(){return controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"validator",{get:function(){return composeValidators(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(FormControlName.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),FormControlName.prototype._checkParentType=function(){!(this._parent instanceof FormGroupName)&&this._parent instanceof AbstractFormGroupDirective?ReactiveErrors.ngModelGroupException():this._parent instanceof FormGroupName||this._parent instanceof FormGroupDirective||this._parent instanceof FormArrayName||ReactiveErrors.controlParentException()},FormControlName.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},FormControlName._ngModelWarningSentOnce=!1,(0,_tslib.__decorate)([(0,_core.Input)("formControlName"),(0,_tslib.__metadata)("design:type",String)],FormControlName.prototype,"name",void 0),(0,_tslib.__decorate)([(0,_core.Input)("disabled"),(0,_tslib.__metadata)("design:type",Boolean),(0,_tslib.__metadata)("design:paramtypes",[Boolean])],FormControlName.prototype,"isDisabled",null),(0,_tslib.__decorate)([(0,_core.Input)("ngModel"),(0,_tslib.__metadata)("design:type",Object)],FormControlName.prototype,"model",void 0),(0,_tslib.__decorate)([(0,_core.Output)("ngModelChange"),(0,_tslib.__metadata)("design:type",Object)],FormControlName.prototype,"update",void 0),FormControlName=FormControlName_1=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[formControlName]",providers:[controlNameBinding]}),(0,_tslib.__param)(0,(0,_core.Optional)()),(0,_tslib.__param)(0,(0,_core.Host)()),(0,_tslib.__param)(0,(0,_core.SkipSelf)()),(0,_tslib.__param)(1,(0,_core.Optional)()),(0,_tslib.__param)(1,(0,_core.Self)()),(0,_tslib.__param)(1,(0,_core.Inject)(NG_VALIDATORS)),(0,_tslib.__param)(2,(0,_core.Optional)()),(0,_tslib.__param)(2,(0,_core.Self)()),(0,_tslib.__param)(2,(0,_core.Inject)(NG_ASYNC_VALIDATORS)),(0,_tslib.__param)(3,(0,_core.Optional)()),(0,_tslib.__param)(3,(0,_core.Self)()),(0,_tslib.__param)(3,(0,_core.Inject)(NG_VALUE_ACCESSOR)),(0,_tslib.__param)(4,(0,_core.Optional)()),(0,_tslib.__param)(4,(0,_core.Inject)(NG_MODEL_WITH_FORM_CONTROL_WARNING)),(0,_tslib.__metadata)("design:paramtypes",[ControlContainer,Array,Array,Array,Object])],FormControlName)}(NgControl);exports.FormControlName=FormControlName;var REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,_core.forwardRef)(function(){return RequiredValidator}),multi:!0};exports.angular_packages_forms_forms_ba=REQUIRED_VALIDATOR;var CHECKBOX_REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,_core.forwardRef)(function(){return CheckboxRequiredValidator}),multi:!0};exports.angular_packages_forms_forms_bb=CHECKBOX_REQUIRED_VALIDATOR;var RequiredValidator=function(){function RequiredValidator(){}return Object.defineProperty(RequiredValidator.prototype,"required",{get:function(){return this._required},set:function(value){this._required=null!=value&&!1!==value&&""+value!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),RequiredValidator.prototype.validate=function(control){return this.required?Validators.required(control):null},RequiredValidator.prototype.registerOnValidatorChange=function(fn){this._onChange=fn},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],RequiredValidator.prototype,"required",null),RequiredValidator=(0,_tslib.__decorate)([(0,_core.Directive)({selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[REQUIRED_VALIDATOR],host:{"[attr.required]":'required ? "" : null'}})],RequiredValidator)}();exports.RequiredValidator=RequiredValidator;var CheckboxRequiredValidator=function(_super){function CheckboxRequiredValidator(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(CheckboxRequiredValidator,_super),CheckboxRequiredValidator.prototype.validate=function(control){return this.required?Validators.requiredTrue(control):null},CheckboxRequiredValidator=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[CHECKBOX_REQUIRED_VALIDATOR],host:{"[attr.required]":'required ? "" : null'}})],CheckboxRequiredValidator)}(RequiredValidator);exports.CheckboxRequiredValidator=CheckboxRequiredValidator;var EMAIL_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,_core.forwardRef)(function(){return EmailValidator}),multi:!0};exports.angular_packages_forms_forms_bc=EMAIL_VALIDATOR;var EmailValidator=function(){function EmailValidator(){}return Object.defineProperty(EmailValidator.prototype,"email",{set:function(value){this._enabled=""===value||!0===value||"true"===value,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),EmailValidator.prototype.validate=function(control){return this._enabled?Validators.email(control):null},EmailValidator.prototype.registerOnValidatorChange=function(fn){this._onChange=fn},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object),(0,_tslib.__metadata)("design:paramtypes",[Object])],EmailValidator.prototype,"email",null),EmailValidator=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[EMAIL_VALIDATOR]})],EmailValidator)}();exports.EmailValidator=EmailValidator;var MIN_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,_core.forwardRef)(function(){return MinLengthValidator}),multi:!0};exports.angular_packages_forms_forms_bd=MIN_LENGTH_VALIDATOR;var MinLengthValidator=function(){function MinLengthValidator(){}return MinLengthValidator.prototype.ngOnChanges=function(changes){"minlength"in changes&&(this._createValidator(),this._onChange&&this._onChange())},MinLengthValidator.prototype.validate=function(control){return null==this.minlength?null:this._validator(control)},MinLengthValidator.prototype.registerOnValidatorChange=function(fn){this._onChange=fn},MinLengthValidator.prototype._createValidator=function(){this._validator=Validators.minLength(parseInt(this.minlength,10))},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",String)],MinLengthValidator.prototype,"minlength",void 0),MinLengthValidator=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[MIN_LENGTH_VALIDATOR],host:{"[attr.minlength]":"minlength ? minlength : null"}})],MinLengthValidator)}();exports.MinLengthValidator=MinLengthValidator;var MAX_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,_core.forwardRef)(function(){return MaxLengthValidator}),multi:!0};exports.angular_packages_forms_forms_be=MAX_LENGTH_VALIDATOR;var MaxLengthValidator=function(){function MaxLengthValidator(){}return MaxLengthValidator.prototype.ngOnChanges=function(changes){"maxlength"in changes&&(this._createValidator(),this._onChange&&this._onChange())},MaxLengthValidator.prototype.validate=function(control){return null!=this.maxlength?this._validator(control):null},MaxLengthValidator.prototype.registerOnValidatorChange=function(fn){this._onChange=fn},MaxLengthValidator.prototype._createValidator=function(){this._validator=Validators.maxLength(parseInt(this.maxlength,10))},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",String)],MaxLengthValidator.prototype,"maxlength",void 0),MaxLengthValidator=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[MAX_LENGTH_VALIDATOR],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}})],MaxLengthValidator)}();exports.MaxLengthValidator=MaxLengthValidator;var PATTERN_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,_core.forwardRef)(function(){return PatternValidator}),multi:!0};exports.angular_packages_forms_forms_bf=PATTERN_VALIDATOR;var PatternValidator=function(){function PatternValidator(){}return PatternValidator.prototype.ngOnChanges=function(changes){"pattern"in changes&&(this._createValidator(),this._onChange&&this._onChange())},PatternValidator.prototype.validate=function(control){return this._validator(control)},PatternValidator.prototype.registerOnValidatorChange=function(fn){this._onChange=fn},PatternValidator.prototype._createValidator=function(){this._validator=Validators.pattern(this.pattern)},(0,_tslib.__decorate)([(0,_core.Input)(),(0,_tslib.__metadata)("design:type",Object)],PatternValidator.prototype,"pattern",void 0),PatternValidator=(0,_tslib.__decorate)([(0,_core.Directive)({selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[PATTERN_VALIDATOR],host:{"[attr.pattern]":"pattern ? pattern : null"}})],PatternValidator)}();exports.PatternValidator=PatternValidator;var SHARED_FORM_DIRECTIVES=[NgNoValidate,NgSelectOption,NgSelectMultipleOption,DefaultValueAccessor,NumberValueAccessor,RangeValueAccessor,CheckboxControlValueAccessor,SelectControlValueAccessor,SelectMultipleControlValueAccessor,RadioControlValueAccessor,NgControlStatus,NgControlStatusGroup,RequiredValidator,MinLengthValidator,MaxLengthValidator,PatternValidator,CheckboxRequiredValidator,EmailValidator];exports.angular_packages_forms_forms_a=SHARED_FORM_DIRECTIVES;var TEMPLATE_DRIVEN_DIRECTIVES=[NgModel,NgModelGroup,NgForm,NgFormSelectorWarning];exports.angular_packages_forms_forms_b=TEMPLATE_DRIVEN_DIRECTIVES;var REACTIVE_DRIVEN_DIRECTIVES=[FormControlDirective,FormGroupDirective,FormControlName,FormGroupName,FormArrayName];exports.angular_packages_forms_forms_c=REACTIVE_DRIVEN_DIRECTIVES;var InternalFormsSharedModule=function(){function InternalFormsSharedModule(){}return InternalFormsSharedModule=(0,_tslib.__decorate)([(0,_core.NgModule)({declarations:SHARED_FORM_DIRECTIVES,exports:SHARED_FORM_DIRECTIVES})],InternalFormsSharedModule)}();exports.InternalFormsSharedModule=exports.angular_packages_forms_forms_d=InternalFormsSharedModule;var FormBuilder=function(){function FormBuilder(){}return FormBuilder.prototype.group=function(controlsConfig,options){void 0===options&&(options=null);var controls=this._reduceControls(controlsConfig),validators=null,asyncValidators=null,updateOn=void 0;return null!=options&&(!function(options){return void 0!==options.asyncValidators||void 0!==options.validators||void 0!==options.updateOn}(options)?(validators=null!=options.validator?options.validator:null,asyncValidators=null!=options.asyncValidator?options.asyncValidator:null):(validators=null!=options.validators?options.validators:null,asyncValidators=null!=options.asyncValidators?options.asyncValidators:null,updateOn=null!=options.updateOn?options.updateOn:void 0)),new FormGroup(controls,{asyncValidators:asyncValidators,updateOn:updateOn,validators:validators})},FormBuilder.prototype.control=function(formState,validatorOrOpts,asyncValidator){return new FormControl(formState,validatorOrOpts,asyncValidator)},FormBuilder.prototype.array=function(controlsConfig,validatorOrOpts,asyncValidator){var _this=this,controls=controlsConfig.map(function(c){return _this._createControl(c)});return new FormArray(controls,validatorOrOpts,asyncValidator)},FormBuilder.prototype._reduceControls=function(controlsConfig){var _this=this,controls={};return Object.keys(controlsConfig).forEach(function(controlName){controls[controlName]=_this._createControl(controlsConfig[controlName])}),controls},FormBuilder.prototype._createControl=function(controlConfig){if(controlConfig instanceof FormControl||controlConfig instanceof FormGroup||controlConfig instanceof FormArray)return controlConfig;if(Array.isArray(controlConfig)){var value=controlConfig[0],validator=controlConfig.length>1?controlConfig[1]:null,asyncValidator=controlConfig.length>2?controlConfig[2]:null;return this.control(value,validator,asyncValidator)}return this.control(controlConfig)},FormBuilder=(0,_tslib.__decorate)([(0,_core.Injectable)()],FormBuilder)}();exports.FormBuilder=FormBuilder;var VERSION=new _core.Version("8.2.13");exports.VERSION=VERSION;var FormsModule=function(){function FormsModule(){}var FormsModule_1;return FormsModule_1=FormsModule,FormsModule.withConfig=function(opts){return{ngModule:FormsModule_1,providers:[{provide:NG_FORM_SELECTOR_WARNING,useValue:opts.warnOnDeprecatedNgFormSelector}]}},FormsModule=FormsModule_1=(0,_tslib.__decorate)([(0,_core.NgModule)({declarations:TEMPLATE_DRIVEN_DIRECTIVES,providers:[RadioControlRegistry],exports:[InternalFormsSharedModule,TEMPLATE_DRIVEN_DIRECTIVES]})],FormsModule)}();exports.FormsModule=FormsModule;var ReactiveFormsModule=function(){function ReactiveFormsModule(){}var ReactiveFormsModule_1;return ReactiveFormsModule_1=ReactiveFormsModule,ReactiveFormsModule.withConfig=function(opts){return{ngModule:ReactiveFormsModule_1,providers:[{provide:NG_MODEL_WITH_FORM_CONTROL_WARNING,useValue:opts.warnOnNgModelWithFormControl}]}},ReactiveFormsModule=ReactiveFormsModule_1=(0,_tslib.__decorate)([(0,_core.NgModule)({declarations:[REACTIVE_DRIVEN_DIRECTIVES],providers:[FormBuilder,RadioControlRegistry],exports:[InternalFormsSharedModule,REACTIVE_DRIVEN_DIRECTIVES]})],ReactiveFormsModule)}();exports.ReactiveFormsModule=ReactiveFormsModule},{tslib:"vCxL","@angular/core":"XDhY","@angular/platform-browser":"dAl9",rxjs:"iRqj","rxjs/operators":"cVrl"}],kifu:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TooltipModule=exports.Tooltip=void 0;var _core=require("@angular/core"),_common=require("@angular/common"),_dom=require("primeng/dom"),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},Tooltip=function(){function Tooltip(el,zone){this.el=el,this.zone=zone,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}return Object.defineProperty(Tooltip.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=val,this.deactivate()},enumerable:!0,configurable:!0}),Tooltip.prototype.ngAfterViewInit=function(){var _this=this;this.zone.runOutsideAngular(function(){"hover"===_this.tooltipEvent?(_this.mouseEnterListener=_this.onMouseEnter.bind(_this),_this.mouseLeaveListener=_this.onMouseLeave.bind(_this),_this.clickListener=_this.onClick.bind(_this),_this.el.nativeElement.addEventListener("mouseenter",_this.mouseEnterListener),_this.el.nativeElement.addEventListener("mouseleave",_this.mouseLeaveListener),_this.el.nativeElement.addEventListener("click",_this.clickListener)):"focus"===_this.tooltipEvent&&(_this.focusListener=_this.onFocus.bind(_this),_this.blurListener=_this.onBlur.bind(_this),_this.el.nativeElement.addEventListener("focus",_this.focusListener),_this.el.nativeElement.addEventListener("blur",_this.blurListener))})},Tooltip.prototype.onMouseEnter=function(e){this.container||this.showTimeout||this.activate()},Tooltip.prototype.onMouseLeave=function(e){this.deactivate()},Tooltip.prototype.onFocus=function(e){this.activate()},Tooltip.prototype.onBlur=function(e){this.deactivate()},Tooltip.prototype.onClick=function(e){this.deactivate()},Tooltip.prototype.activate=function(){var _this=this;if(this.active=!0,this.clearHideTimeout(),this.showDelay?this.showTimeout=setTimeout(function(){_this.show()},this.showDelay):this.show(),this.life){var duration=this.showDelay?this.life+this.showDelay:this.life;this.hideTimeout=setTimeout(function(){_this.hide()},duration)}},Tooltip.prototype.deactivate=function(){var _this=this;this.active=!1,this.clearShowTimeout(),this.hideDelay?(this.clearHideTimeout(),this.hideTimeout=setTimeout(function(){_this.hide()},this.hideDelay)):this.hide()},Object.defineProperty(Tooltip.prototype,"text",{get:function(){return this._text},set:function(text){this._text=text,this.active&&(this._text?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())},enumerable:!0,configurable:!0}),Tooltip.prototype.create=function(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");var tooltipArrow=document.createElement("div");tooltipArrow.className="ui-tooltip-arrow",this.container.appendChild(tooltipArrow),this.tooltipText=document.createElement("div"),this.tooltipText.className="ui-tooltip-text ui-shadow ui-corner-all",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):"target"===this.appendTo?_dom.DomHandler.appendChild(this.container,this.el.nativeElement):_dom.DomHandler.appendChild(this.container,this.appendTo),this.container.style.display="inline-block"},Tooltip.prototype.show=function(){this.text&&!this.disabled&&(this.create(),this.align(),_dom.DomHandler.fadeIn(this.container,250),"auto"===this.tooltipZIndex?this.container.style.zIndex=++_dom.DomHandler.zindex:this.container.style.zIndex=this.tooltipZIndex,this.bindDocumentResizeListener())},Tooltip.prototype.hide=function(){this.remove()},Tooltip.prototype.updateText=function(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text},Tooltip.prototype.align=function(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}},Tooltip.prototype.getHostOffset=function(){if("body"===this.appendTo||"target"===this.appendTo){var offset=this.el.nativeElement.getBoundingClientRect();return{left:offset.left+_dom.DomHandler.getWindowScrollLeft(),top:offset.top+_dom.DomHandler.getWindowScrollTop()}}return{left:0,top:0}},Tooltip.prototype.alignRight=function(){this.preAlign("right");var hostOffset=this.getHostOffset(),left=hostOffset.left+_dom.DomHandler.getOuterWidth(this.el.nativeElement),top=hostOffset.top+(_dom.DomHandler.getOuterHeight(this.el.nativeElement)-_dom.DomHandler.getOuterHeight(this.container))/2;this.container.style.left=left+"px",this.container.style.top=top+"px"},Tooltip.prototype.alignLeft=function(){this.preAlign("left");var hostOffset=this.getHostOffset(),left=hostOffset.left-_dom.DomHandler.getOuterWidth(this.container),top=hostOffset.top+(_dom.DomHandler.getOuterHeight(this.el.nativeElement)-_dom.DomHandler.getOuterHeight(this.container))/2;this.container.style.left=left+"px",this.container.style.top=top+"px"},Tooltip.prototype.alignTop=function(){this.preAlign("top");var hostOffset=this.getHostOffset(),left=hostOffset.left+(_dom.DomHandler.getOuterWidth(this.el.nativeElement)-_dom.DomHandler.getOuterWidth(this.container))/2,top=hostOffset.top-_dom.DomHandler.getOuterHeight(this.container);this.container.style.left=left+"px",this.container.style.top=top+"px"},Tooltip.prototype.alignBottom=function(){this.preAlign("bottom");var hostOffset=this.getHostOffset(),left=hostOffset.left+(_dom.DomHandler.getOuterWidth(this.el.nativeElement)-_dom.DomHandler.getOuterWidth(this.container))/2,top=hostOffset.top+_dom.DomHandler.getOuterHeight(this.el.nativeElement);this.container.style.left=left+"px",this.container.style.top=top+"px"},Tooltip.prototype.preAlign=function(position){this.container.style.left="-999px",this.container.style.top="-999px";var defaultClassName="ui-tooltip ui-widget ui-tooltip-"+position;this.container.className=this.tooltipStyleClass?defaultClassName+" "+this.tooltipStyleClass:defaultClassName},Tooltip.prototype.isOutOfBounds=function(){var offset=this.container.getBoundingClientRect(),targetTop=offset.top,targetLeft=offset.left,width=_dom.DomHandler.getOuterWidth(this.container),height=_dom.DomHandler.getOuterHeight(this.container),viewport=_dom.DomHandler.getViewport();return targetLeft+width>viewport.width||targetLeft<0||targetTop<0||targetTop+height>viewport.height},Tooltip.prototype.onWindowResize=function(e){this.hide()},Tooltip.prototype.bindDocumentResizeListener=function(){var _this=this;this.zone.runOutsideAngular(function(){_this.resizeListener=_this.onWindowResize.bind(_this),window.addEventListener("resize",_this.resizeListener)})},Tooltip.prototype.unbindDocumentResizeListener=function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},Tooltip.prototype.unbindEvents=function(){"hover"===this.tooltipEvent?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()},Tooltip.prototype.remove=function(){this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):_dom.DomHandler.removeChild(this.container,this.appendTo)),this.unbindDocumentResizeListener(),this.clearTimeouts(),this.container=null},Tooltip.prototype.clearShowTimeout=function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},Tooltip.prototype.clearHideTimeout=function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)},Tooltip.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout()},Tooltip.prototype.ngOnDestroy=function(){this.unbindEvents(),this.remove()},Tooltip.ctorParameters=function(){return[{type:_core.ElementRef},{type:_core.NgZone}]},__decorate([(0,_core.Input)()],Tooltip.prototype,"tooltipPosition",void 0),__decorate([(0,_core.Input)()],Tooltip.prototype,"tooltipEvent",void 0),__decorate([(0,_core.Input)()],Tooltip.prototype,"appendTo",void 0),__decorate([(0,_core.Input)()],Tooltip.prototype,"positionStyle",void 0),__decorate([(0,_core.Input)()],Tooltip.prototype,"tooltipStyleClass",void 0),__decorate([(0,_core.Input)()],Tooltip.prototype,"tooltipZIndex",void 0),__decorate([(0,_core.Input)()],Tooltip.prototype,"escape",void 0),__decorate([(0,_core.Input)()],Tooltip.prototype,"showDelay",void 0),__decorate([(0,_core.Input)()],Tooltip.prototype,"hideDelay",void 0),__decorate([(0,_core.Input)()],Tooltip.prototype,"life",void 0),__decorate([(0,_core.Input)("tooltipDisabled")],Tooltip.prototype,"disabled",null),__decorate([(0,_core.Input)("pTooltip")],Tooltip.prototype,"text",null),Tooltip=__decorate([(0,_core.Directive)({selector:"[pTooltip]"})],Tooltip)}();exports.Tooltip=Tooltip;var TooltipModule=function(){function TooltipModule(){}return TooltipModule=__decorate([(0,_core.NgModule)({imports:[_common.CommonModule],exports:[Tooltip],declarations:[Tooltip]})],TooltipModule)}();exports.TooltipModule=TooltipModule},{"@angular/core":"XDhY","@angular/common":"AomE","primeng/dom":"XpVl"}],LnOG:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropdownModule=exports.DropdownItem=exports.Dropdown=exports.DROPDOWN_VALUE_ACCESSOR=void 0;var _scrolling=require("@angular/cdk/scrolling"),_core=require("@angular/core"),_animations=require("@angular/animations"),_common=require("@angular/common"),_api=require("primeng/api"),_dom=require("primeng/dom"),_utils=require("primeng/utils"),_forms=require("@angular/forms"),_tooltip=require("primeng/tooltip"),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__values=function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},DROPDOWN_VALUE_ACCESSOR={provide:_forms.NG_VALUE_ACCESSOR,useExisting:(0,_core.forwardRef)(function(){return Dropdown}),multi:!0};exports.DROPDOWN_VALUE_ACCESSOR=DROPDOWN_VALUE_ACCESSOR;var DropdownItem=function(){function DropdownItem(){this.onClick=new _core.EventEmitter}return DropdownItem.prototype.onOptionClick=function(event){this.onClick.emit({originalEvent:event,option:this.option})},__decorate([(0,_core.Input)()],DropdownItem.prototype,"option",void 0),__decorate([(0,_core.Input)()],DropdownItem.prototype,"selected",void 0),__decorate([(0,_core.Input)()],DropdownItem.prototype,"disabled",void 0),__decorate([(0,_core.Input)()],DropdownItem.prototype,"visible",void 0),__decorate([(0,_core.Input)()],DropdownItem.prototype,"itemSize",void 0),__decorate([(0,_core.Input)()],DropdownItem.prototype,"template",void 0),__decorate([(0,_core.Output)()],DropdownItem.prototype,"onClick",void 0),DropdownItem=__decorate([(0,_core.Component)({selector:"p-dropdownItem",template:'\n        <li (click)="onOptionClick($event)" role="option"\n            [attr.aria-label]="option.label" [attr.aria-selected]="selected"\n            [ngStyle]="{\'height\': itemSize + \'px\'}"\n            [ngClass]="{\'ui-dropdown-item ui-corner-all\':true,\n                                                \'ui-state-highlight\': selected,\n                                                \'ui-state-disabled\':(option.disabled),\n                                                \'ui-dropdown-item-empty\': !option.label||option.label.length === 0}">\n            <span *ngIf="!template">{{option.label||\'empty\'}}</span>\n            <ng-container *ngTemplateOutlet="template; context: {$implicit: option}"></ng-container>\n        </li>\n    '})],DropdownItem)}();exports.DropdownItem=DropdownItem;var Dropdown=function(){function Dropdown(el,renderer,cd,zone){this.el=el,this.renderer=renderer,this.cd=cd,this.zone=zone,this.scrollHeight="200px",this.filterBy="label",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.autoDisplayFirst=!0,this.emptyFilterMessage="No results found",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions="225ms ease-out",this.hideTransitionOptions="195ms ease-in",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new _core.EventEmitter,this.onFocus=new _core.EventEmitter,this.onBlur=new _core.EventEmitter,this.onClick=new _core.EventEmitter,this.onShow=new _core.EventEmitter,this.onHide=new _core.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){},this.viewPortOffsetTop=0}return Object.defineProperty(Dropdown.prototype,"disabled",{get:function(){return this._disabled},set:function(_disabled){_disabled&&(this.focused=!1),this._disabled=_disabled,this.cd.destroyed||this.cd.detectChanges()},enumerable:!0,configurable:!0}),Dropdown.prototype.ngAfterContentInit=function(){var _this=this;this.templates.forEach(function(item){switch(item.getType()){case"item":_this.itemTemplate=item.template;break;case"selectedItem":_this.selectedItemTemplate=item.template;break;case"group":_this.groupTemplate=item.template;break;default:_this.itemTemplate=item.template}})},Dropdown.prototype.ngOnInit=function(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)},Object.defineProperty(Dropdown.prototype,"options",{get:function(){return this._options},set:function(val){var opts=this.optionLabel?_utils.ObjectUtils.generateSelectItems(val,this.optionLabel):val;this._options=opts,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this.updateFilledState(),this.filterValue&&this.filterValue.length&&this.activateFilter()},enumerable:!0,configurable:!0}),Dropdown.prototype.ngAfterViewInit=function(){this.editable&&this.updateEditableLabel()},Object.defineProperty(Dropdown.prototype,"label",{get:function(){return this.selectedOption?this.selectedOption.label:null},enumerable:!0,configurable:!0}),Dropdown.prototype.updateEditableLabel=function(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.selectedOption.label:this.value||"")},Dropdown.prototype.onItemClick=function(event){var _this=this,option=event.option;option.disabled||(this.selectItem(event,option),this.accessibleViewChild.nativeElement.focus()),setTimeout(function(){_this.hide(event)},150)},Dropdown.prototype.selectItem=function(event,option){var _this=this;this.selectedOption!=option&&(this.selectedOption=option,this.value=option.value,this.filled=!0,this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:event.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(function(){_this.viewPortOffsetTop=_this.viewPort?_this.viewPort.measureScrollOffset():0},1))},Dropdown.prototype.ngAfterViewChecked=function(){var _this=this;if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(function(){setTimeout(function(){_this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){var range=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(range.start>this.virtualScrollSelectedIndex||range.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}_dom.DomHandler.findSingle(this.overlay,"li.ui-state-highlight")&&_dom.DomHandler.scrollInView(this.itemsWrapper,_dom.DomHandler.findSingle(this.overlay,"li.ui-state-highlight")),this.selectedOptionUpdated=!1}},Dropdown.prototype.writeValue=function(value){this.filter&&this.resetFilter(),this.value=value,this.updateSelectedOption(value),this.updateEditableLabel(),this.updateFilledState(),this.cd.markForCheck()},Dropdown.prototype.resetFilter=function(){this.filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options},Dropdown.prototype.updateSelectedOption=function(val){this.selectedOption=this.findOption(val,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0},Dropdown.prototype.registerOnChange=function(fn){this.onModelChange=fn},Dropdown.prototype.registerOnTouched=function(fn){this.onModelTouched=fn},Dropdown.prototype.setDisabledState=function(val){this.disabled=val},Dropdown.prototype.onMouseclick=function(event){this.disabled||this.readonly||this.isInputClick(event)||(this.onClick.emit(event),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide(event):this.show(),this.cd.detectChanges())},Dropdown.prototype.isInputClick=function(event){return _dom.DomHandler.hasClass(event.target,"ui-dropdown-clear-icon")||event.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&event.target.isSameNode(this.editableInputViewChild.nativeElement)},Dropdown.prototype.isOutsideClicked=function(event){return!(this.el.nativeElement.isSameNode(event.target)||this.el.nativeElement.contains(event.target)||this.overlay&&this.overlay.contains(event.target))},Dropdown.prototype.onEditableInputClick=function(){this.bindDocumentClickListener()},Dropdown.prototype.onEditableInputFocus=function(event){this.focused=!0,this.hide(event),this.onFocus.emit(event)},Dropdown.prototype.onEditableInputChange=function(event){this.value=event.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:event,value:this.value})},Dropdown.prototype.show=function(){this.overlayVisible=!0},Dropdown.prototype.onOverlayAnimationStart=function(event){switch(event.toState){case"visible":this.overlay=event.element;var itemsWrapperSelector=this.virtualScroll?".cdk-virtual-scroll-viewport":".ui-dropdown-items-wrapper";if(this.itemsWrapper=_dom.DomHandler.findSingle(this.overlay,itemsWrapperSelector),this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++_dom.DomHandler.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.options&&this.options.length&&!this.virtualScroll){var selectedListItem=_dom.DomHandler.findSingle(this.itemsWrapper,".ui-dropdown-item.ui-state-highlight");selectedListItem&&_dom.DomHandler.scrollInView(this.itemsWrapper,selectedListItem)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(event);break;case"void":this.onOverlayHide()}},Dropdown.prototype.scrollToSelectedVirtualScrollElement=function(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0},Dropdown.prototype.updateVirtualScrollSelectedIndex=function(resetOffset){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(resetOffset&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay))},Dropdown.prototype.appendOverlay=function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):_dom.DomHandler.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=_dom.DomHandler.getWidth(this.containerViewChild.nativeElement)+"px"))},Dropdown.prototype.restoreOverlayAppend=function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)},Dropdown.prototype.hide=function(event){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck(),this.onHide.emit(event)},Dropdown.prototype.alignOverlay=function(){this.overlay&&(this.appendTo?_dom.DomHandler.absolutePosition(this.overlay,this.containerViewChild.nativeElement):_dom.DomHandler.relativePosition(this.overlay,this.containerViewChild.nativeElement))},Dropdown.prototype.onInputFocus=function(event){this.focused=!0,this.onFocus.emit(event)},Dropdown.prototype.onInputBlur=function(event){this.focused=!1,this.onBlur.emit(event),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1},Dropdown.prototype.findPrevEnabledOption=function(index){var prevEnabledOption;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var i=index-1;0<=i;i--){if(!(option=this.optionsToDisplay[i]).disabled){prevEnabledOption=option;break}}if(!prevEnabledOption)for(i=this.optionsToDisplay.length-1;i>=index;i--){var option;if(!(option=this.optionsToDisplay[i]).disabled){prevEnabledOption=option;break}}}return prevEnabledOption},Dropdown.prototype.findNextEnabledOption=function(index){var nextEnabledOption;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var i=index+1;index<this.optionsToDisplay.length-1;i++){if(!(option=this.optionsToDisplay[i]).disabled){nextEnabledOption=option;break}}if(!nextEnabledOption)for(i=0;i<index;i++){var option;if(!(option=this.optionsToDisplay[i]).disabled){nextEnabledOption=option;break}}}return nextEnabledOption},Dropdown.prototype.onKeydown=function(event,search){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(event.which){case 40:if(!this.overlayVisible&&event.altKey)this.show();else if(this.group){if(-1!==(selectedItemIndex=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1)){var nextItemIndex=selectedItemIndex.itemIndex+1;nextItemIndex<this.optionsToDisplay[selectedItemIndex.groupIndex].items.length?(this.selectItem(event,this.optionsToDisplay[selectedItemIndex.groupIndex].items[nextItemIndex]),this.selectedOptionUpdated=!0):this.optionsToDisplay[selectedItemIndex.groupIndex+1]&&(this.selectItem(event,this.optionsToDisplay[selectedItemIndex.groupIndex+1].items[0]),this.selectedOptionUpdated=!0)}else this.selectItem(event,this.optionsToDisplay[0].items[0])}else{var selectedItemIndex=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1,nextEnabledOption=this.findNextEnabledOption(selectedItemIndex);nextEnabledOption&&(this.selectItem(event,nextEnabledOption),this.selectedOptionUpdated=!0)}event.preventDefault();break;case 38:if(this.group){if(-1!==(selectedItemIndex=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1)){var prevItemIndex=selectedItemIndex.itemIndex-1;if(prevItemIndex>=0)this.selectItem(event,this.optionsToDisplay[selectedItemIndex.groupIndex].items[prevItemIndex]),this.selectedOptionUpdated=!0;else if(prevItemIndex<0){var prevGroup=this.optionsToDisplay[selectedItemIndex.groupIndex-1];prevGroup&&(this.selectItem(event,prevGroup.items[prevGroup.items.length-1]),this.selectedOptionUpdated=!0)}}}else{selectedItemIndex=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1;var prevEnabledOption=this.findPrevEnabledOption(selectedItemIndex);prevEnabledOption&&(this.selectItem(event,prevEnabledOption),this.selectedOptionUpdated=!0)}event.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),event.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(event),event.preventDefault();break;case 27:case 9:this.hide(event);break;default:search&&this.search(event)}},Dropdown.prototype.search=function(event){var _this=this;this.searchTimeout&&clearTimeout(this.searchTimeout);var newOption,char=event.key;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=char,this.previousSearchChar===this.currentSearchChar?this.searchValue=this.currentSearchChar:this.searchValue=this.searchValue?this.searchValue+char:char,this.group){var searchIndex=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):{groupIndex:0,itemIndex:0};newOption=this.searchOptionWithinGroup(searchIndex)}else{searchIndex=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1;newOption=this.searchOption(++searchIndex)}newOption&&!newOption.disabled&&(this.selectItem(event,newOption),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(function(){_this.searchValue=null},250)},Dropdown.prototype.searchOption=function(index){var option;return this.searchValue&&((option=this.searchOptionInRange(index,this.optionsToDisplay.length))||(option=this.searchOptionInRange(0,index))),option},Dropdown.prototype.searchOptionInRange=function(start,end){for(var i=start;i<end;i++){var opt=this.optionsToDisplay[i];if(opt.label.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!opt.disabled)return opt}return null},Dropdown.prototype.searchOptionWithinGroup=function(index){if(this.searchValue){for(var i=index.groupIndex;i<this.optionsToDisplay.length;i++)for(var j=index.groupIndex===i?index.itemIndex+1:0;j<this.optionsToDisplay[i].items.length;j++){if((opt=this.optionsToDisplay[i].items[j]).label.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!opt.disabled)return opt}for(i=0;i<=index.groupIndex;i++)for(j=0;j<(index.groupIndex===i?index.itemIndex:this.optionsToDisplay[i].items.length);j++){var opt;if((opt=this.optionsToDisplay[i].items[j]).label.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!opt.disabled)return opt}}return null},Dropdown.prototype.findOptionIndex=function(val,opts){var index=-1;if(opts)for(var i=0;i<opts.length;i++)if(null==val&&null==opts[i].value||_utils.ObjectUtils.equals(val,opts[i].value,this.dataKey)){index=i;break}return index},Dropdown.prototype.findOptionGroupIndex=function(val,opts){var groupIndex,itemIndex;if(opts)for(var i=0;i<opts.length&&(groupIndex=i,-1===(itemIndex=this.findOptionIndex(val,opts[i].items)));i++);return-1!==itemIndex?{groupIndex:groupIndex,itemIndex:itemIndex}:-1},Dropdown.prototype.findOption=function(val,opts,inGroup){var e_1,_a;if(this.group&&!inGroup){var opt=void 0;if(opts&&opts.length)try{for(var opts_1=__values(opts),opts_1_1=opts_1.next();!opts_1_1.done;opts_1_1=opts_1.next()){var optgroup=opts_1_1.value;if(opt=this.findOption(val,optgroup.items,!0))break}}catch(e_1_1){e_1={error:e_1_1}}finally{try{opts_1_1&&!opts_1_1.done&&(_a=opts_1.return)&&_a.call(opts_1)}finally{if(e_1)throw e_1.error}}return opt}var index=this.findOptionIndex(val,opts);return-1!=index?opts[index]:null},Dropdown.prototype.onFilter=function(event){var inputValue=event.target.value;inputValue&&inputValue.length?(this.filterValue=inputValue,this.activateFilter()):(this.filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0},Dropdown.prototype.activateFilter=function(){var e_2,_a,searchFields=this.filterBy.split(",");if(this.options&&this.options.length){if(this.group){var filteredGroups=[];try{for(var _b=__values(this.options),_c=_b.next();!_c.done;_c=_b.next()){var optgroup=_c.value,filteredSubOptions=_utils.FilterUtils.filter(optgroup.items,searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);filteredSubOptions&&filteredSubOptions.length&&filteredGroups.push({label:optgroup.label,value:optgroup.value,items:filteredSubOptions})}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}this.optionsToDisplay=filteredGroups}else this.optionsToDisplay=_utils.FilterUtils.filter(this.options,searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}},Dropdown.prototype.applyFocus=function(){this.editable?_dom.DomHandler.findSingle(this.el.nativeElement,".ui-dropdown-label.ui-inputtext").focus():_dom.DomHandler.findSingle(this.el.nativeElement,"input[readonly]").focus()},Dropdown.prototype.focus=function(){this.applyFocus()},Dropdown.prototype.bindDocumentClickListener=function(){var _this=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(event){_this.isOutsideClicked(event)&&(_this.hide(event),_this.unbindDocumentClickListener()),_this.cd.markForCheck()}))},Dropdown.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},Dropdown.prototype.bindDocumentResizeListener=function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)},Dropdown.prototype.unbindDocumentResizeListener=function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)},Dropdown.prototype.onWindowResize=function(){_dom.DomHandler.isAndroid()||this.hide(event)},Dropdown.prototype.updateFilledState=function(){this.filled=null!=this.selectedOption},Dropdown.prototype.clear=function(event){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:event,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.updateFilledState()},Dropdown.prototype.onOverlayHide=function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()},Dropdown.prototype.ngOnDestroy=function(){this.restoreOverlayAppend(),this.onOverlayHide()},Dropdown.ctorParameters=function(){return[{type:_core.ElementRef},{type:_core.Renderer2},{type:_core.ChangeDetectorRef},{type:_core.NgZone}]},__decorate([(0,_core.Input)()],Dropdown.prototype,"scrollHeight",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"filter",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"name",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"style",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"panelStyle",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"styleClass",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"panelStyleClass",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"readonly",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"required",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"editable",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"appendTo",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"tabindex",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"placeholder",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"filterPlaceholder",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"filterLocale",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"inputId",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"selectId",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"dataKey",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"filterBy",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"autofocus",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"resetFilterOnHide",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"dropdownIcon",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"optionLabel",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"autoDisplayFirst",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"group",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"showClear",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"emptyFilterMessage",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"virtualScroll",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"itemSize",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"autoZIndex",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"baseZIndex",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"showTransitionOptions",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"hideTransitionOptions",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"ariaFilterLabel",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"ariaLabelledBy",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"filterMatchMode",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"maxlength",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"tooltip",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"tooltipPosition",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"tooltipPositionStyle",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"tooltipStyleClass",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"autofocusFilter",void 0),__decorate([(0,_core.Output)()],Dropdown.prototype,"onChange",void 0),__decorate([(0,_core.Output)()],Dropdown.prototype,"onFocus",void 0),__decorate([(0,_core.Output)()],Dropdown.prototype,"onBlur",void 0),__decorate([(0,_core.Output)()],Dropdown.prototype,"onClick",void 0),__decorate([(0,_core.Output)()],Dropdown.prototype,"onShow",void 0),__decorate([(0,_core.Output)()],Dropdown.prototype,"onHide",void 0),__decorate([(0,_core.ViewChild)("container")],Dropdown.prototype,"containerViewChild",void 0),__decorate([(0,_core.ViewChild)("filter")],Dropdown.prototype,"filterViewChild",void 0),__decorate([(0,_core.ViewChild)("in")],Dropdown.prototype,"accessibleViewChild",void 0),__decorate([(0,_core.ViewChild)(_scrolling.CdkVirtualScrollViewport)],Dropdown.prototype,"viewPort",void 0),__decorate([(0,_core.ViewChild)("editableInput")],Dropdown.prototype,"editableInputViewChild",void 0),__decorate([(0,_core.ContentChildren)(_api.PrimeTemplate)],Dropdown.prototype,"templates",void 0),__decorate([(0,_core.Input)()],Dropdown.prototype,"disabled",null),__decorate([(0,_core.Input)()],Dropdown.prototype,"options",null),Dropdown=__decorate([(0,_core.Component)({selector:"p-dropdown",template:'\n         <div #container [ngClass]="{\'ui-dropdown ui-widget ui-state-default ui-corner-all\':true,\n            \'ui-state-disabled\':disabled, \'ui-dropdown-open\':overlayVisible, \'ui-state-focus\':focused, \'ui-dropdown-clearable\': showClear && !disabled}"\n            (click)="onMouseclick($event)" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible">\n                <input #in [attr.id]="inputId" type="text" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" readonly (focus)="onInputFocus($event)" aria-haspopup="listbox"\n                    aria-haspopup="listbox" [attr.aria-expanded]="overlayVisible" [attr.aria-labelledby]="ariaLabelledBy" (blur)="onInputBlur($event)" (keydown)="onKeydown($event, true)"\n                    [disabled]="disabled" [attr.tabindex]="tabindex" [attr.autofocus]="autofocus" role="listbox">\n            </div>\n            <div class="ui-dropdown-label-container" [pTooltip]="tooltip" [tooltipPosition]="tooltipPosition" [positionStyle]="tooltipPositionStyle" [tooltipStyleClass]="tooltipStyleClass">\n                <span [ngClass]="{\'ui-dropdown-label ui-inputtext ui-corner-all\':true,\'ui-dropdown-label-empty\':(label == null || label.length === 0)}" *ngIf="!editable && (label != null)">\n                    <ng-container *ngIf="!selectedItemTemplate">{{label||\'empty\'}}</ng-container>\n                    <ng-container *ngTemplateOutlet="selectedItemTemplate; context: {$implicit: selectedOption}"></ng-container>\n                </span>\n                <span [ngClass]="{\'ui-dropdown-label ui-inputtext ui-corner-all ui-placeholder\':true,\'ui-dropdown-label-empty\': (placeholder == null || placeholder.length === 0)}" *ngIf="!editable && (label == null)">{{placeholder||\'empty\'}}</span>\n                <input #editableInput type="text" [attr.maxlength]="maxlength" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" class="ui-dropdown-label ui-inputtext ui-corner-all" *ngIf="editable" [disabled]="disabled" [attr.placeholder]="placeholder"\n                    aria-haspopup="listbox" [attr.aria-expanded]="overlayVisible" (click)="onEditableInputClick()" (input)="onEditableInputChange($event)" (focus)="onEditableInputFocus($event)" (blur)="onInputBlur($event)">\n                <i class="ui-dropdown-clear-icon pi pi-times" (click)="clear($event)" *ngIf="value != null && showClear && !disabled"></i>\n            </div>\n            <div class="ui-dropdown-trigger ui-state-default ui-corner-right" role="button" aria-haspopup="listbox" [attr.aria-expanded]="overlayVisible">\n                <span class="ui-dropdown-trigger-icon ui-clickable" [ngClass]="dropdownIcon"></span>\n            </div>\n            <div *ngIf="overlayVisible" [ngClass]="\'ui-dropdown-panel  ui-widget ui-widget-content ui-corner-all ui-shadow\'" [@overlayAnimation]="{value: \'visible\', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}" (@overlayAnimation.start)="onOverlayAnimationStart($event)" [ngStyle]="panelStyle" [class]="panelStyleClass">\n                <div *ngIf="filter" class="ui-dropdown-filter-container" (click)="$event.stopPropagation()">\n                    <input #filter type="text" autocomplete="off" [value]="filterValue||\'\'" class="ui-dropdown-filter ui-inputtext ui-widget ui-state-default ui-corner-all" [attr.placeholder]="filterPlaceholder"\n                    (keydown.enter)="$event.preventDefault()" (keydown)="onKeydown($event, false)" (input)="onFilter($event)" [attr.aria-label]="ariaFilterLabel">\n                    <span class="ui-dropdown-filter-icon pi pi-search"></span>\n                </div>\n                <div class="ui-dropdown-items-wrapper" [style.max-height]="virtualScroll ? \'auto\' : (scrollHeight||\'auto\')">\n                    <ul class="ui-dropdown-items ui-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset" role="listbox">\n                        <ng-container *ngIf="group">\n                            <ng-template ngFor let-optgroup [ngForOf]="optionsToDisplay">\n                                <li class="ui-dropdown-item-group">\n                                    <span *ngIf="!groupTemplate">{{optgroup.label||\'empty\'}}</span>\n                                    <ng-container *ngTemplateOutlet="groupTemplate; context: {$implicit: optgroup}"></ng-container>\n                                </li>\n                                <ng-container *ngTemplateOutlet="itemslist; context: {$implicit: optgroup.items, selectedOption: selectedOption}"></ng-container>\n                            </ng-template>\n                        </ng-container>\n                        <ng-container *ngIf="!group">\n                            <ng-container *ngTemplateOutlet="itemslist; context: {$implicit: optionsToDisplay, selectedOption: selectedOption}"></ng-container>\n                        </ng-container>\n                        <ng-template #itemslist let-options let-selectedOption="selectedOption">\n\n                            <ng-container *ngIf="!virtualScroll; else virtualScrollList">\n                                <ng-template ngFor let-option let-i="index" [ngForOf]="options">\n                                    <p-dropdownItem [option]="option" [selected]="selectedOption == option"\n                                                    (onClick)="onItemClick($event)"\n                                                    [template]="itemTemplate"></p-dropdownItem>\n                                </ng-template>\n                            </ng-container>\n                            <ng-template #virtualScrollList>\n                                <cdk-virtual-scroll-viewport (scrolledIndexChange)="scrollToSelectedVirtualScrollElement()" #viewport [ngStyle]="{\'height\': scrollHeight}" [itemSize]="itemSize" *ngIf="virtualScroll && optionsToDisplay && optionsToDisplay.length">\n                                    <ng-container *cdkVirtualFor="let option of options; let i = index; let c = count; let f = first; let l = last; let e = even; let o = odd">\n                                        <p-dropdownItem [option]="option" [selected]="selectedOption == option"\n                                                                   (onClick)="onItemClick($event)"\n                                                                   [template]="itemTemplate"></p-dropdownItem>\n                                    </ng-container>\n                                </cdk-virtual-scroll-viewport>\n                            </ng-template>\n                        </ng-template>\n                        <li *ngIf="filter && (!optionsToDisplay || (optionsToDisplay && optionsToDisplay.length === 0))" class="ui-dropdown-empty-message">{{emptyFilterMessage}}</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    ',animations:[(0,_animations.trigger)("overlayAnimation",[(0,_animations.state)("void",(0,_animations.style)({transform:"translateY(5%)",opacity:0})),(0,_animations.state)("visible",(0,_animations.style)({transform:"translateY(0)",opacity:1})),(0,_animations.transition)("void => visible",(0,_animations.animate)("{{showTransitionParams}}")),(0,_animations.transition)("visible => void",(0,_animations.animate)("{{hideTransitionParams}}"))])],host:{"[class.ui-inputwrapper-filled]":"filled","[class.ui-inputwrapper-focus]":"focused"},providers:[DROPDOWN_VALUE_ACCESSOR],changeDetection:_core.ChangeDetectionStrategy.Default})],Dropdown)}();exports.Dropdown=Dropdown;var DropdownModule=function(){function DropdownModule(){}return DropdownModule=__decorate([(0,_core.NgModule)({imports:[_common.CommonModule,_api.SharedModule,_scrolling.ScrollingModule,_tooltip.TooltipModule],exports:[Dropdown,_api.SharedModule,_scrolling.ScrollingModule],declarations:[Dropdown,DropdownItem]})],DropdownModule)}();exports.DropdownModule=DropdownModule},{"@angular/cdk/scrolling":"o7jn","@angular/core":"XDhY","@angular/animations":"qRUb","@angular/common":"AomE","primeng/api":"c7J6","primeng/dom":"XpVl","primeng/utils":"ySGQ","@angular/forms":"NLO0","primeng/tooltip":"kifu"}],uCD8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AeroDropdownComponent=void 0;var _core=require("@angular/core"),_exports=require("../../app/exports"),_translation=require("../../common/translation.service"),_dropdown=require("primeng/dropdown");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},urlPrefix=(0,_exports.resolveUrlPrefix)("aero/aero-dropdown/"),AeroDropdownComponent=function(){function AeroDropdownComponent($translate){this.$translate=$translate,this.choices=[],this.options=[],this.required=!1,this.enableSearch=!1,this.dropDownIcon="fas fa-chevron-down",this.autoDisplayFirst=!1,this.scrollHeight="200px",this.communicating=new _core.EventEmitter}var _a,_b,_c;return AeroDropdownComponent.prototype.ngOnInit=function(){this.handleCreatingInputPlaceholder(),this.handleAriaLabel(),this.styleClass=this.styleClass?this.styleClass+" aero-dropdown":"aero-dropdown"},AeroDropdownComponent.prototype.ngOnChanges=function(changes){changes.choices&&(this.handleCreatingChoices(),0!==changes.choices.previousValue.length&&this.dropdown&&(this.dropdown.show(),this.dropdown.selectItem(new CustomEvent("optionsChanged"),this.options[0])))},AeroDropdownComponent.prototype.ngAfterViewInit=function(){this.dropdown=this.dropdowns.first,this.overrideKeyDownAction()},AeroDropdownComponent.prototype.handleCreatingChoices=function(){var _this=this;this.options=[],this.choices.forEach(function(option){var optionObject;optionObject="string"===_this.choicesType?{label:_this.translateOptionLabel(option),value:option}:"object"===_this.choicesType&&_this.choicesField?{label:_this.translateOptionLabel(option[_this.choicesField]),value:option}:{label:_this.translateOptionLabel(option.display),value:option.value?option.value:option.display},_this.options.push(optionObject)}),this.previousValue=this.selectedOption},AeroDropdownComponent.prototype.translateOptionLabel=function(label){return this.translateChoices?this.$translate.translateInstant(label):label},AeroDropdownComponent.prototype.handleAriaLabel=function(){var _this=this;this.ariaFilterLabel&&(this.ariaFilterLabel=this.$translate.translateInstant(this.ariaFilterLabel)),setTimeout(function(){jQuery("#"+_this.inputElementId).removeAttr("readonly aria-label")})},AeroDropdownComponent.prototype.handleCreatingInputPlaceholder=function(){this.placeholder&&(this.placeholder=this.$translate.translateInstant(this.placeholder))},AeroDropdownComponent.prototype.handleOnHideEvent=function(event){this.dropDownIcon="fas fa-chevron-down",event&&(event.originalEvent instanceof MouseEvent&&event.option||event instanceof KeyboardEvent&&"Enter"===event.key)?(this.communicating.emit({selectedOption:this.selectedOption}),this.previousValue=this.selectedOption,this.styleClass=this.styleClass.replace(" aero-validation","")):this.selectedOption=this.previousValue,this.formField&&!this.selectedOption&&(this.formField.$invalid=!0,this.styleClass+=" aero-validation")},AeroDropdownComponent.prototype.handleOnShowEvent=function(event){this.dropDownIcon="fas fa-chevron-up",this.formField&&(this.formField.$invalid=!1,this.formField.$touched=!0)},AeroDropdownComponent.prototype.handleKeydownEvent=function(event){switch(event.key){case"ArrowDown":case"ArrowUp":this.dropdown.overlayVisible||this.dropdown.show(),event.preventDefault();break;case"Home":this.dropdown.overlayVisible&&this.dropdown.selectItem(event,this.options[0]),event.preventDefault();break;case"End":this.dropdown.overlayVisible&&this.dropdown.selectItem(event,this.options[this.options.length-1]),event.preventDefault()}},AeroDropdownComponent.prototype.overrideKeyDownAction=function(){var _this=this;if(this.dropdown){var onKeyDownOriginFn_1=this.dropdown.onKeydown.bind(this.dropdown);this.dropdown.onKeydown=function(event,search){"Enter"===event.key?(_this.dropdown.overlayVisible?_this.dropdown.hide(event):_this.dropdown.show(),event.preventDefault()):onKeyDownOriginFn_1(event,search)}}},AeroDropdownComponent.prototype.overrideMouseClickEvent=function(){var _this=this;this.dropdown&&(this.dropdown.onMouseclick=function(event){_this.dropdown.overlayVisible||(_this.dropdown.show(),_this.dropdown.accessibleViewChild.nativeElement.focus())})},__decorate([(0,_core.Input)(),__metadata("design:type",Object)],AeroDropdownComponent.prototype,"choices",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroDropdownComponent.prototype,"choicesType",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroDropdownComponent.prototype,"choicesField",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Boolean)],AeroDropdownComponent.prototype,"translateChoices",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Object)],AeroDropdownComponent.prototype,"inputElementId",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroDropdownComponent.prototype,"ariaLabel",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroDropdownComponent.prototype,"ariaFilterLabel",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroDropdownComponent.prototype,"placeholder",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Boolean)],AeroDropdownComponent.prototype,"required",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Boolean)],AeroDropdownComponent.prototype,"enableSearch",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroDropdownComponent.prototype,"dropDownIcon",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Boolean)],AeroDropdownComponent.prototype,"autoDisplayFirst",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroDropdownComponent.prototype,"scrollHeight",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroDropdownComponent.prototype,"styleClass",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Object)],AeroDropdownComponent.prototype,"selectedOption",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Object)],AeroDropdownComponent.prototype,"formField",void 0),__decorate([(0,_core.Output)(),__metadata("design:type","function"==typeof(_a=void 0!==_core.EventEmitter&&_core.EventEmitter)?_a:Object)],AeroDropdownComponent.prototype,"communicating",void 0),__decorate([(0,_core.ViewChildren)(_dropdown.Dropdown),__metadata("design:type","function"==typeof(_b=void 0!==_core.QueryList&&_core.QueryList)?_b:Object)],AeroDropdownComponent.prototype,"dropdowns",void 0),AeroDropdownComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"aero-dropdown",templateUrl:urlPrefix+"aero-dropdown.component.html"}),__metadata("design:paramtypes",["function"==typeof(_c=void 0!==_translation.TranslationService&&_translation.TranslationService)?_c:Object])],AeroDropdownComponent)}();exports.AeroDropdownComponent=AeroDropdownComponent},{"@angular/core":"XDhY","../../app/exports":"lvDC","../../common/translation.service":"yEaa","primeng/dropdown":"LnOG"}],PrWb:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BulbFetchUserService=void 0;var _core=require("@angular/core");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},BulbFetchUserService=function(){function BulbFetchUserService(){this.ORIGINAL_USER=window.bulbVars?window.bulbVars.bulbOriginalUser:{}}return BulbFetchUserService.prototype.fetchUser=function(){var _this=this;return new Promise(function(resolve,reject){resolve(_this.ORIGINAL_USER),reject("Error obtaining original user."),window.bulbVars&&window.bulbVars.bulbOriginalUser&&delete window.bulbVars.bulbOriginalUser})},Object.defineProperty(BulbFetchUserService.prototype,"originalUser",{get:function(){return this.ORIGINAL_USER},enumerable:!0,configurable:!0}),BulbFetchUserService=__decorate([(0,_core.Injectable)(),__metadata("design:paramtypes",[])],BulbFetchUserService)}();exports.BulbFetchUserService=BulbFetchUserService},{"@angular/core":"XDhY"}],UFIK:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResolveUrlPipe=void 0;var _core=require("@angular/core"),_compiler=require("@angular/compiler"),_config=require("../config");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ResolveUrlPipe=function(){function ResolveUrlPipe(){this.standardUrlResolver=(0,_compiler.createOfflineCompileUrlResolver)()}return ResolveUrlPipe.prototype.transform=function(url){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return _config.CONFIG.resource.cdnRoot?_config.CONFIG.resource.cdnRoot+url:this.standardUrlResolver.resolve("",url)},ResolveUrlPipe=__decorate([(0,_core.Pipe)({name:"resolveUrl"})],ResolveUrlPipe)}();exports.ResolveUrlPipe=ResolveUrlPipe},{"@angular/core":"XDhY","@angular/compiler":"yigG","../config":"C9JJ"}],Qdmg:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTourStepData=function(stepName){return Tour[stepName]},exports.Tour=void 0;var Tour={welcomeStep:createStepMetaData("welcomeStep","resources/images/bulb-tour-main-bulb-logo.gif","onboarding_tour_get_started_body","https://www.bulbapp.com/u/onboarding-tour","onboarding_tour_get_started_link_text",!1,"onboarding_tour_get_started_additional_text"),createPageStep:createStepMetaData("createPageStep",null,"onboarding_tour_create_page_body","https://www.bulbapp.com/u/pages~32","onboarding_tour_create_page_link_text",!0),createCollectionStep:createStepMetaData("createCollectionStep",null,"onboarding_tour_create_collection_body","https://www.bulbapp.com/u/collections~54","onboarding_tour_create_collection_link_text",!0),assetLibraryStep:createStepMetaData("assetLibraryStep",null,"onboarding_tour_asset_library_body","https://help.bulbapp.com/hc/en-us/sections/360001565054-Asset-Library","onboarding_tour_asset_library_link_text",!0),groupStep:createStepMetaData("groupStep",null,"onboarding_tour_group_body","https://www.bulbapp.com/u/groups~34","onboarding_tour_group_link_text",!0),pageEditStep:createStepMetaData("pageEditStep","resources/images/bulb-tour-page-intro-edit.gif","","https://help.bulbapp.com/hc/en-us/articles/115004896788-How-to-format-Text","onboarding_tour_page_intro1_link_text",!0),pageEditMobileStep:createStepMetaData("pageEditStep","resources/images/bulb-tour-page-intro-edit-mobile.gif","","https://help.bulbapp.com/hc/en-us/articles/115004896788-How-to-format-Text","onboarding_tour_page_intro1_link_text",!0),pageMediaStep:createStepMetaData("pageMediaStep","resources/images/bulb-tour-page-intro-add-media.gif","","https://help.bulbapp.com/hc/en-us/articles/115004896988-How-to-add-a-Video","onboarding_tour_page_intro2_link_text",!0),pageMediaMobileStep:createStepMetaData("pageMediaStep","resources/images/bulb-tour-page-intro-add-media-mobile.gif","","https://help.bulbapp.com/hc/en-us/articles/115004896988-How-to-add-a-Video","onboarding_tour_page_intro2_link_text",!0),publishStep:createStepMetaData("publishStep",null,"onboarding_tour_publish_body","https://www.bulbapp.com/u/publishing-sharing~9","onboarding_tour_publish_link_text",!0),shareStep:createStepMetaData("shareStep",null,"onboarding_tour_share_body","https://www.bulbapp.com/u/publishing-sharing~9","onboarding_tour_share_link_text",!0),shareStepMobile:createStepMetaData("shareStepMobile",null,"onboarding_tour_share_mobile_body","https://www.bulbapp.com/u/publishing-sharing~9","onboarding_tour_share_link_text",!0),commentsStep:createStepMetaData("commentsStep",null,"onboarding_tour_comment_body","https://www.bulbapp.com/u/commenting~6","onboarding_tour_comment_link_text",!0),doneStep:createStepMetaData("doneStep","resources/images/bulb-tour-end.gif","onboarding_tour_end_tour_body",null,null,!1)};function createStepMetaData(stepName,imageSource,bodyText,anchorLink,anchorText,showCarousel,additionalText){return{stepName:stepName,imageSource:imageSource,bodyText:bodyText,anchorLink:anchorLink,anchorText:anchorText,showCarousel:showCarousel,additionalText:additionalText}}exports.Tour=Tour},{}],MT3T:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TourDetailsService=void 0;var _core=require("@angular/core"),_resolveUrl=require("../../common/resolve-url.pipe"),_tourSteps=require("./tour-steps");require("fs");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},TourDetailsService=function(){function TourDetailsService($translate,resolveUrlPipe){var _this=this;this.$translate=$translate,this.resolveUrlPipe=resolveUrlPipe,this.tourTemplate=null,this.elementSelectorClass=".tippy-tooltip",this.mobileAnchorIdentifier="bulb-group-tab-tour-id-mobile",this.webAnchorIdentifier="bulb-group-tab-tour-id-web",this.targetCandidates=["share-button-text","publish-page","page-ellipsis"],this.handleDelay=function(isMobile,isGroupStep){return void 0===isMobile&&(isMobile=!1),void 0===isGroupStep&&(isGroupStep=!1),_this.setAnchorId(isMobile,isGroupStep),new Promise(function(resolve){setTimeout(function(){resolve()},TourDetailsService_1.DELAY_BETWEEN_TOUR_STEP)})},this.defaultStepOptions={cancelIcon:{enabled:!0},tippyOptions:{duration:TourDetailsService_1.ANIMATION_DELAY,onShow:function(instance){_this.toggleExtraClassOnSection(instance,!0)},onHide:function(instance){if(_this.toggleExtraClassOnSection(instance,!1),instance.reference.id===_this.mobileAnchorIdentifier){var node=document.getElementById(instance.reference.id);node&&node.parentNode&&(node.parentNode.classList.remove("group-menu"),node.parentNode.removeChild(node))}}},highlightClass:"highlight-target"},this.getButtons=function(tourObject){return{next:{classes:"bulb-onboarding-next-button",text:_this.translateText("onboarding_tour_next_button"),action:function(){tourObject.next()}},done:{classes:"bulb-done-button",text:_this.translateText("onboarding_tour_done_button"),action:function(){tourObject.getCurrentStep().hide(),setTimeout(function(){tourObject.complete()},TourDetailsService_1.DELAY_BETWEEN_TOUR_STEP)}},start:{classes:"next-button bulb-onboarding-start-button",text:_this.translateText("onboarding_tour_get_started_button"),action:function(){return tourObject.next()}}}},this.setAnchorId=function(isMobile,isGroupStep){if(isGroupStep){var selector=isMobile?".accordion":".tabs",tabs=document.querySelector(selector);if(tabs)for(var elementFound=!1,tabItems=tabs.children,node=document.getElementById(_this.mobileAnchorIdentifier),i=0;i<tabItems.length;i++){var tabId=tabItems[i].getAttribute("id");if("groups-mobile"===tabId){if(!tabItems[i].contains(node)){tabItems[i].classList.add("group-menu");var htmlDivElement=document.createElement("div");htmlDivElement.setAttribute("class","group-anchor-tag"),htmlDivElement.setAttribute("id",_this.mobileAnchorIdentifier),tabItems[i].insertBefore(htmlDivElement,tabItems[i].firstChild)}elementFound=!0}else"groups"===tabId&&(tabItems[i].children[0].setAttribute("id",_this.webAnchorIdentifier),elementFound=!0);if(elementFound)break}}},this.toggleExtraClassOnSection=function(instance,addClass){var targetElement,className;(_this.targetCandidates.indexOf(instance.reference.id)>-1||instance.reference.classList.contains(_this.targetCandidates[0]))&&(targetElement=document.querySelector(".bulb-page-header"),className="bulb-override-page-header"),"asset-library-mobile"!==instance.reference.id&&instance.reference.id!==_this.mobileAnchorIdentifier||(targetElement=document.querySelector("#mobileTabContainer"),className="bulb-override-mobile-menu"),targetElement&&(targetElement&&!addClass?targetElement.classList.remove(className):targetElement.classList.add(className))}}var TourDetailsService_1,_a;return TourDetailsService_1=TourDetailsService,TourDetailsService.prototype.animateStep=function(animationClass){var contentDiv=document.querySelector(this.elementSelectorClass);contentDiv.removeAttribute("data-animation"),contentDiv.classList.add("tour-animate",animationClass)},TourDetailsService.prototype.setModalDimension=function(){var element=document.querySelector(this.elementSelectorClass);element.removeAttribute("style"),element.classList.add("shepherd-modal-dimension")},TourDetailsService.prototype.createMainTourSteps=function(tourObject){var _this=this;return[{buttons:[this.getButtons(tourObject).start],classes:"bulb-onboarding-tour-modal centered-tour",id:"welcomeStep",title:this.translateText("onboarding_tour_get_started_title"),text:this.transformStepTemplate((0,_tourSteps.getTourStepData)("welcomeStep")),when:{hide:function(){return _this.animateStep("tour-bounce-out-down")}}},{beforeShowPromise:this.handleDelay,attachTo:{element:"#create-page",on:"top"},buttons:[this.getButtons(tourObject).next],canClickTarget:!1,classes:"bulb-onboarding-tour-modal",id:"createPageStep",title:this.translateText("onboarding_tour_create_page_title"),text:this.transformStepTemplate((0,_tourSteps.getTourStepData)("createPageStep")),when:{show:function(){return _this.animateStep("tour-bounce-in-up")},hide:function(){return _this.animateStep("tour-bounce-out-down")}}},{beforeShowPromise:this.handleDelay,attachTo:{element:"#create-collection",on:"top"},buttons:[this.getButtons(tourObject).next],canClickTarget:!1,classes:"bulb-onboarding-tour-modal",id:"createCollectionStep",title:this.translateText("onboarding_tour_create_collection_title"),text:this.transformStepTemplate((0,_tourSteps.getTourStepData)("createCollectionStep")),when:{show:function(){return _this.animateStep("tour-bounce-in-up")},hide:function(){return _this.animateStep("tour-bounce-out-down")}}}]},TourDetailsService.prototype.createMenuTourSteps=function(isMobile,tourObject){var _this=this;return[{attachTo:{element:isMobile?"#asset-library-mobile":"#asset-library",on:"bottom"},buttons:[this.getButtons(tourObject).next],canClickTarget:!1,classes:"bulb-onboarding-tour-modal",highlightClass:isMobile?"highlight-target-mobile":"highlight-target",id:"assetLibraryStep",title:this.translateText("onboarding_tour_asset_library_title"),text:this.transformStepTemplate((0,_tourSteps.getTourStepData)("assetLibraryStep")),when:{hide:function(){return _this.animateStep("tour-bounce-out-up")}}},{beforeShowPromise:function(){return _this.handleDelay(isMobile,!0)},attachTo:{element:isMobile?"#"+this.mobileAnchorIdentifier:"#"+this.webAnchorIdentifier,on:"bottom"},buttons:[this.getButtons(tourObject).next],canClickTarget:!1,classes:"bulb-onboarding-tour-modal",id:"groupStep",highlightClass:isMobile?"highlight-target-mobile":"highlight-target",title:this.translateText("onboarding_tour_group_title"),text:this.transformStepTemplate((0,_tourSteps.getTourStepData)("groupStep")),when:{show:function(){window.menuTour("GROUPS"),_this.animateStep("tour-bounce-in-down")}}}]},TourDetailsService.prototype.createPageIntroSteps=function(isMobile,tourObject){var _this=this;return[{buttons:[this.getButtons(tourObject).next],classes:"bulb-onboarding-menu-tour",id:"pageEditStep",title:this.translateText("onboarding_tour_page_intro1_title"),text:isMobile?this.transformStepTemplate((0,_tourSteps.getTourStepData)("pageEditMobileStep")):this.transformStepTemplate((0,_tourSteps.getTourStepData)("pageEditStep")),when:{show:function(){return _this.setModalDimension()}}},{beforeShowPromise:this.handleDelay,buttons:[this.getButtons(tourObject).next],classes:"bulb-onboarding-menu-tour bulb-page-intro-media",id:"pageMediaStep",title:this.translateText(isMobile?"onboarding_tour_page_intro2_title_mobile":"onboarding_tour_page_intro2_title"),text:isMobile?this.transformStepTemplate((0,_tourSteps.getTourStepData)("pageMediaMobileStep")):this.transformStepTemplate((0,_tourSteps.getTourStepData)("pageMediaStep")),when:{show:function(){return _this.setModalDimension()},hide:function(){return _this.animateStep("tour-bounce-out-down")}}}]},TourDetailsService.prototype.createPageTourSteps=function(isMobileDevice,isMediumDevice,tourObject){var _this=this;return[{beforeShowPromise:this.handleDelay,attachTo:{element:"#publish-page",on:"top"},buttons:[this.getButtons(tourObject).next],canClickTarget:!1,classes:"bulb-onboarding-tour-modal",id:"publishStep",title:this.translateText("onboarding_tour_publish_title"),text:this.transformStepTemplate((0,_tourSteps.getTourStepData)("publishStep")),when:{show:function(){return _this.animateStep("tour-bounce-in-down")},hide:function(){return _this.animateStep("tour-bounce-out-up")}}},{beforeShowPromise:this.handleDelay,attachTo:{element:isMobileDevice?"#page-ellipsis":".share-button-text",on:"top"},buttons:[this.getButtons(tourObject).next],canClickTarget:!1,classes:"bulb-onboarding-tour-modal",id:"shareStep",title:this.translateText("onboarding_tour_share_title"),text:isMobileDevice?this.transformStepTemplate((0,_tourSteps.getTourStepData)("shareStepMobile")):this.transformStepTemplate((0,_tourSteps.getTourStepData)("shareStep")),when:{show:function(){return _this.animateStep("tour-bounce-in-down")},hide:function(){return _this.animateStep("tour-bounce-out-up")}}},{beforeShowPromise:this.handleDelay,attachTo:{element:isMediumDevice?".bulb-footer-comments-counter":"#comment-textarea",on:"top"},buttons:[this.getButtons(tourObject).next],classes:"bulb-onboarding-tour-modal",highlightClass:"highlight-comment-step",id:"commentsStep",title:this.translateText("onboarding_tour_comment_title"),text:this.transformStepTemplate((0,_tourSteps.getTourStepData)("commentsStep")),when:{show:function(){return _this.animateStep("tour-bounce-in-up")},hide:function(){return _this.animateStep("tour-bounce-out-down")}}}]},TourDetailsService.prototype.createTourCompletedStep=function(firstName,tourObject){var _this=this;return{beforeShowPromise:this.handleDelay,buttons:[this.getButtons(tourObject).done],id:"doneStep",title:this.translateText("onboarding_tour_done_title",{name:firstName}),classes:"bulb-onboarding-congrats-modal",text:this.transformStepTemplate((0,_tourSteps.getTourStepData)("doneStep")),when:{show:function(){return _this.animateStep("tour-bounce-in-up")},hide:function(){return _this.animateStep("tour-bounce-out-down")}}}},TourDetailsService.prototype.createEndTourStep=function(){return{titleCode:"onboarding_tour_end_tour_title",cancelButtonCode:"onboarding_tour_resume_tour_button",bodyText:this.translateText("onboarding_tour_end_tour_body",{link:"<a id='bulbAnchorTag' href='https://www.bulbapp.com/library' target='_blank'>bulbLibrary</a>"}),okButtonCode:"onboarding_tour_end_tour_button",fontAwesomeCode:"fas fa-map-signs",windowClass:"updated-modal-design bulb-onboarding-end-tour"}},TourDetailsService.prototype.transformStepTemplate=function(stepData){null===this.tourTemplate&&(this.tourTemplate='<div>\n\timage_here\n\t<p>step_body_here</p>\n\tanchor_here\n\t<div style="text-align:center" class="carousel_class_here">\n\t\t<span class="dot createPageStep"></span>\n\t\t<span class="dot createCollectionStep"></span>\n\t\t<span class="dot assetLibraryStep"></span>\n\t\t<span class="dot groupStep"></span>\n\t\t<span class="dot pageEditStep"></span>\n\t\t<span class="dot pageMediaStep"></span>\n\t\t<span class="dot publishStep"></span>\n\t\t<span class="dot shareStep shareStepMobile"></span>\n\t\t<span class="dot commentsStep"></span>\n\t</div>\n</div>\n');var transformedTemplate=this.tourTemplate;if(stepData.imageSource){var imageClass="no-class";"welcomeStep"===stepData.stepName?imageClass="bulb-tour-logo-height":"doneStep"===stepData.stepName&&(imageClass="bulb-end-tour-logo-height"),transformedTemplate=transformedTemplate.replace("image_here","<img class="+imageClass+" src="+this.resolveUrlPipe.transform(stepData.imageSource)+">")}else transformedTemplate=transformedTemplate.replace("image_here","");if(stepData.bodyText){var translatedText=void 0;translatedText="doneStep"===stepData.stepName?this.translateText(stepData.bodyText,{link:"<a id='bulbAnchorTag' href='https://www.bulbapp.com/library' target='_blank'>bulbLibrary</a>"}):this.translateText(stepData.bodyText),transformedTemplate=transformedTemplate.replace("step_body_here",translatedText)}else transformedTemplate=transformedTemplate.replace("step_body_here","");return transformedTemplate=stepData.anchorText&&stepData.anchorLink&&stepData.additionalText?transformedTemplate.replace("anchor_here","<a id='bulbAnchorTag' href="+stepData.anchorLink+" target='_blank'>\n\t\t\t\t"+this.translateText(stepData.anchorText)+"</a> "+this.translateText(stepData.additionalText)):stepData.anchorText&&stepData.anchorLink?transformedTemplate.replace("anchor_here","<a id='bulbAnchorTag' href="+stepData.anchorLink+" target='_blank'>"+this.translateText(stepData.anchorText)+"</a>"):transformedTemplate.replace("anchor_here",""),transformedTemplate=stepData.showCarousel?transformedTemplate.replace(stepData.stepName,"active-step"):transformedTemplate.replace("carousel_class_here","bulb-tour-carousel")},TourDetailsService.prototype.translateText=function(key,args){return this.$translate.instant(key,args)},TourDetailsService.DELAY_BETWEEN_TOUR_STEP=600,TourDetailsService.ANIMATION_DELAY=500,TourDetailsService=TourDetailsService_1=__decorate([(0,_core.Injectable)({providedIn:"root"}),__param(0,(0,_core.Inject)("$translate")),__metadata("design:paramtypes",[Object,"function"==typeof(_a=void 0!==_resolveUrl.ResolveUrlPipe&&_resolveUrl.ResolveUrlPipe)?_a:Object])],TourDetailsService)}();exports.TourDetailsService=TourDetailsService},{"@angular/core":"XDhY","../../common/resolve-url.pipe":"UFIK","./tour-steps":"Qdmg",fs:"rDCW"}],hkOC:[function(require,module,exports){var global=arguments[3];function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var validTypes={object:!0,symbol:!0},global$1=function(){if(this)return this;Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0});try{return __global__}finally{delete Object.prototype.__global__}}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global||"undefined"!=typeof self&&self;function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}var NativeSymbol,SymbolPolyfill,HiddenSymbol,isNativeSafe,is=function(value){return void 0!==value&&null!==value},possibleTypes={object:!0,function:!0,undefined:!0},is$2=function(value){if(!function(value){return!!is(value)&&hasOwnProperty.call(possibleTypes,typeof value)}(value))return!1;try{return!!value.constructor&&value.constructor.prototype===value}catch(error){return!1}},classRe=/^\s*class[\s{/}]/,functionToString=Function.prototype.toString,is$4=function(value){return!!function(value){if("function"!=typeof value)return!1;if(!hasOwnProperty.call(value,"length"))return!1;try{if("number"!=typeof value.length)return!1;if("function"!=typeof value.call)return!1;if("function"!=typeof value.apply)return!1}catch(error){return!1}return!is$2(value)}(value)&&!classRe.test(functionToString.call(value))},isValue=function(val){return void 0!==val&&null!==val},keys=Object.keys,keys$1=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}()?Object.keys:function(object){return keys(isValue(object)?Object(object):object)},max=Math.max,assign=function(){var obj,assign=Object.assign;return"function"==typeof assign&&(assign(obj={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),obj.foo+obj.bar+obj.trzy==="razdwatrzy")}()?Object.assign:function(dest,src){var error,i,assign,length=max(arguments.length,2);for(dest=Object(function(value){if(!isValue(value))throw new TypeError("Cannot use null or undefined");return value}(dest)),assign=function(key){try{dest[key]=src[key]}catch(e){error||(error=e)}},i=1;i<length;++i)src=arguments[i],keys$1(src).forEach(assign);if(void 0!==error)throw error;return dest},forEach=Array.prototype.forEach,create=Object.create,normalizeOptions=function(opts1){var result=create(null);return forEach.call(arguments,function(options){isValue(options)&&function(src,obj){var key;for(key in src)obj[key]=src[key]}(Object(options),result)}),result},str="razdwatrzy",indexOf=String.prototype.indexOf,contains="function"==typeof str.contains&&!0===str.contains("dwa")&&!1===str.contains("foo")?String.prototype.contains:function(searchString){return indexOf.call(this,searchString,arguments[1])>-1},d_1=createCommonjsModule(function(module){(module.exports=function(dscr,value){var c,e,w,options,desc;return arguments.length<2||"string"!=typeof dscr?(options=value,value=dscr,dscr=null):options=arguments[2],is(dscr)?(c=contains.call(dscr,"c"),e=contains.call(dscr,"e"),w=contains.call(dscr,"w")):(c=w=!0,e=!1),desc={value:value,configurable:c,enumerable:e,writable:w},options?assign(normalizeOptions(options),desc):desc}).gs=function(dscr,get,set){var c,e,options,desc;return"string"!=typeof dscr?(options=set,set=get,get=dscr,dscr=null):options=arguments[3],is(get)?is$4(get)?is(set)?is$4(set)||(options=set,set=void 0):set=void 0:(options=get,get=set=void 0):get=void 0,is(dscr)?(c=contains.call(dscr,"c"),e=contains.call(dscr,"e")):(c=!0,e=!1),desc={get:get,set:set,configurable:c,enumerable:e},options?assign(normalizeOptions(options),desc):desc}}),validateSymbol=function(value){if(!(x=value)||!("symbol"==typeof x||x.constructor&&"Symbol"===x.constructor.name&&"Symbol"===x[x.constructor.toStringTag]))throw new TypeError(value+" is not a symbol");var x;return value},create$1=Object.create,defineProperties=Object.defineProperties,defineProperty=Object.defineProperty,objPrototype=Object.prototype,globalSymbols=create$1(null);if("function"==typeof Symbol){NativeSymbol=Symbol;try{String(NativeSymbol()),isNativeSafe=!0}catch(ignore){}}var created,generateName=(created=create$1(null),function(desc){for(var name,ie11BugWorkaround,postfix=0;created[desc+(postfix||"")];)++postfix;return created[desc+=postfix||""]=!0,defineProperty(objPrototype,name="@@"+desc,d_1.gs(null,function(value){ie11BugWorkaround||(ie11BugWorkaround=!0,defineProperty(this,name,d_1(value)),ie11BugWorkaround=!1)})),name});HiddenSymbol=function(description){if(this instanceof HiddenSymbol)throw new TypeError("Symbol is not a constructor");return SymbolPolyfill(description)};var polyfill=SymbolPolyfill=function Symbol(description){var symbol;if(this instanceof Symbol)throw new TypeError("Symbol is not a constructor");return isNativeSafe?NativeSymbol(description):(symbol=create$1(HiddenSymbol.prototype),description=void 0===description?"":String(description),defineProperties(symbol,{__description__:d_1("",description),__name__:d_1("",generateName(description))}))};defineProperties(SymbolPolyfill,{for:d_1(function(key){return globalSymbols[key]?globalSymbols[key]:globalSymbols[key]=SymbolPolyfill(String(key))}),keyFor:d_1(function(s){var key;for(key in validateSymbol(s),globalSymbols)if(globalSymbols[key]===s)return key}),hasInstance:d_1("",NativeSymbol&&NativeSymbol.hasInstance||SymbolPolyfill("hasInstance")),isConcatSpreadable:d_1("",NativeSymbol&&NativeSymbol.isConcatSpreadable||SymbolPolyfill("isConcatSpreadable")),iterator:d_1("",NativeSymbol&&NativeSymbol.iterator||SymbolPolyfill("iterator")),match:d_1("",NativeSymbol&&NativeSymbol.match||SymbolPolyfill("match")),replace:d_1("",NativeSymbol&&NativeSymbol.replace||SymbolPolyfill("replace")),search:d_1("",NativeSymbol&&NativeSymbol.search||SymbolPolyfill("search")),species:d_1("",NativeSymbol&&NativeSymbol.species||SymbolPolyfill("species")),split:d_1("",NativeSymbol&&NativeSymbol.split||SymbolPolyfill("split")),toPrimitive:d_1("",NativeSymbol&&NativeSymbol.toPrimitive||SymbolPolyfill("toPrimitive")),toStringTag:d_1("",NativeSymbol&&NativeSymbol.toStringTag||SymbolPolyfill("toStringTag")),unscopables:d_1("",NativeSymbol&&NativeSymbol.unscopables||SymbolPolyfill("unscopables"))}),defineProperties(HiddenSymbol.prototype,{constructor:d_1(SymbolPolyfill),toString:d_1("",function(){return this.__name__})}),defineProperties(SymbolPolyfill.prototype,{toString:d_1(function(){return"Symbol ("+validateSymbol(this).__description__+")"}),valueOf:d_1(function(){return validateSymbol(this)})}),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toPrimitive,d_1("",function(){var symbol=validateSymbol(this);return"symbol"==typeof symbol?symbol:symbol.toString()})),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toStringTag,d_1("c","Symbol")),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toStringTag,d_1("c",SymbolPolyfill.prototype[SymbolPolyfill.toStringTag])),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toPrimitive,d_1("c",SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive])),function(){var symbol;if("function"!=typeof Symbol)return!1;symbol=Symbol("test symbol");try{String(symbol)}catch(e){return!1}return!!validTypes[typeof Symbol.iterator]&&!!validTypes[typeof Symbol.toPrimitive]&&!!validTypes[typeof Symbol.toStringTag]}()||Object.defineProperty(global$1,"Symbol",{value:polyfill,configurable:!0,enumerable:!1,writable:!0});var isobject=function(val){return null!=val&&"object"==typeof val&&!1===Array.isArray(val)},getValue=function(target,path,options){if(isobject(options)||(options={default:options}),!isValidObject(target))return void 0!==options.default?options.default:target;"number"==typeof path&&(path=String(path));const isArray=Array.isArray(path),isString="string"==typeof path,splitChar=options.separator||".",joinChar=options.joinChar||("string"==typeof splitChar?splitChar:".");if(!isString&&!isArray)return target;if(isString&&path in target)return isValid(path,target,options)?target[path]:options.default;let segs=isArray?path:function(path,splitChar,options){if("function"==typeof options.split)return options.split(path);return path.split(splitChar)}(path,splitChar,options),len=segs.length,idx=0;do{let prop=segs[idx];for("number"==typeof prop&&(prop=String(prop));prop&&"\\"===prop.slice(-1);)prop=join([prop.slice(0,-1),segs[++idx]||""],joinChar,options);if(prop in target){if(!isValid(prop,target,options))return options.default;target=target[prop]}else{let hasProp=!1,n=idx+1;for(;n<len;)if(hasProp=(prop=join([prop,segs[n++]],joinChar,options))in target){if(!isValid(prop,target,options))return options.default;target=target[prop],idx=n-1;break}if(!hasProp)return options.default}}while(++idx<len&&isValidObject(target));return idx===len?target:options.default};function join(segs,joinChar,options){return"function"==typeof options.join?options.join(segs):segs[0]+joinChar+segs[1]}function isValid(key,target,options){return"function"!=typeof options.isValid||options.isValid(key,target)}function isValidObject(val){return isobject(val)||Array.isArray(val)||"function"==typeof val}var VNode=function(){},options={},stack=[],EMPTY_CHILDREN=[];function h(nodeName,attributes){var lastSimple,child,simple,i,children=EMPTY_CHILDREN;for(i=arguments.length;i-- >2;)stack.push(arguments[i]);for(attributes&&null!=attributes.children&&(stack.length||stack.push(attributes.children),delete attributes.children);stack.length;)if((child=stack.pop())&&void 0!==child.pop)for(i=child.length;i--;)stack.push(child[i]);else"boolean"==typeof child&&(child=null),(simple="function"!=typeof nodeName)&&(null==child?child="":"number"==typeof child?child=String(child):"string"!=typeof child&&(simple=!1)),simple&&lastSimple?children[children.length-1]+=child:children===EMPTY_CHILDREN?children=[child]:children.push(child),lastSimple=simple;var p=new VNode;return p.nodeName=nodeName,p.children=children,p.attributes=null==attributes?void 0:attributes,p.key=null==attributes?void 0:attributes.key,p}function extend(obj,props){for(var i in props)obj[i]=props[i];return obj}function applyRef(ref,value){ref&&("function"==typeof ref?ref(value):ref.current=value)}var defer="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var IS_NON_DIMENSIONAL=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,items=[];function enqueueRender(component){!component._dirty&&(component._dirty=!0)&&1==items.push(component)&&defer(rerender)}function rerender(){for(var p;p=items.pop();)p._dirty&&renderComponent(p)}function isNamedNode(node,nodeName){return node.normalizedNodeName===nodeName||node.nodeName.toLowerCase()===nodeName.toLowerCase()}function getNodeProps(vnode){var props=extend({},vnode.attributes);props.children=vnode.children;var defaultProps=vnode.nodeName.defaultProps;if(void 0!==defaultProps)for(var i in defaultProps)void 0===props[i]&&(props[i]=defaultProps[i]);return props}function removeNode(node){var parentNode=node.parentNode;parentNode&&parentNode.removeChild(node)}function setAccessor(node,name,old,value,isSvg){if("className"===name&&(name="class"),"key"===name);else if("ref"===name)applyRef(old,null),applyRef(value,node);else if("class"!==name||isSvg)if("style"===name){if(value&&"string"!=typeof value&&"string"!=typeof old||(node.style.cssText=value||""),value&&"object"==typeof value){if("string"!=typeof old)for(var i in old)i in value||(node.style[i]="");for(var i in value)node.style[i]="number"==typeof value[i]&&!1===IS_NON_DIMENSIONAL.test(i)?value[i]+"px":value[i]}}else if("dangerouslySetInnerHTML"===name)value&&(node.innerHTML=value.__html||"");else if("o"==name[0]&&"n"==name[1]){var useCapture=name!==(name=name.replace(/Capture$/,""));name=name.toLowerCase().substring(2),value?old||node.addEventListener(name,eventProxy,useCapture):node.removeEventListener(name,eventProxy,useCapture),(node._listeners||(node._listeners={}))[name]=value}else if("list"!==name&&"type"!==name&&!isSvg&&name in node){try{node[name]=null==value?"":value}catch(e){}null!=value&&!1!==value||"spellcheck"==name||node.removeAttribute(name)}else{var ns=isSvg&&name!==(name=name.replace(/^xlink:?/,""));null==value||!1===value?ns?node.removeAttributeNS("http://www.w3.org/1999/xlink",name.toLowerCase()):node.removeAttribute(name):"function"!=typeof value&&(ns?node.setAttributeNS("http://www.w3.org/1999/xlink",name.toLowerCase(),value):node.setAttribute(name,value))}else node.className=value||""}function eventProxy(e){return this._listeners[e.type](e)}var mounts=[],diffLevel=0,isSvgMode=!1,hydrating=!1;function flushMounts(){for(var c;c=mounts.shift();)c.componentDidMount&&c.componentDidMount()}function diff(dom,vnode,context,mountAll,parent,componentRoot){diffLevel++||(isSvgMode=null!=parent&&void 0!==parent.ownerSVGElement,hydrating=null!=dom&&!("__preactattr_"in dom));var ret=idiff(dom,vnode,context,mountAll,componentRoot);return parent&&ret.parentNode!==parent&&parent.appendChild(ret),--diffLevel||(hydrating=!1,componentRoot||flushMounts()),ret}function idiff(dom,vnode,context,mountAll,componentRoot){var out=dom,prevSvgMode=isSvgMode;if(null!=vnode&&"boolean"!=typeof vnode||(vnode=""),"string"==typeof vnode||"number"==typeof vnode)return dom&&void 0!==dom.splitText&&dom.parentNode&&(!dom._component||componentRoot)?dom.nodeValue!=vnode&&(dom.nodeValue=vnode):(out=document.createTextNode(vnode),dom&&(dom.parentNode&&dom.parentNode.replaceChild(out,dom),recollectNodeTree(dom,!0))),out.__preactattr_=!0,out;var nodeName,node,vnodeName=vnode.nodeName;if("function"==typeof vnodeName)return function(dom,vnode,context,mountAll){var c=dom&&dom._component,originalComponent=c,oldDom=dom,isDirectOwner=c&&dom._componentConstructor===vnode.nodeName,isOwner=isDirectOwner,props=getNodeProps(vnode);for(;c&&!isOwner&&(c=c._parentComponent);)isOwner=c.constructor===vnode.nodeName;c&&isOwner&&(!mountAll||c._component)?(setComponentProps(c,props,3,context,mountAll),dom=c.base):(originalComponent&&!isDirectOwner&&(unmountComponent(originalComponent),dom=oldDom=null),c=createComponent(vnode.nodeName,props,context),dom&&!c.nextBase&&(c.nextBase=dom,oldDom=null),setComponentProps(c,props,1,context,mountAll),dom=c.base,oldDom&&dom!==oldDom&&(oldDom._component=null,recollectNodeTree(oldDom,!1)));return dom}(dom,vnode,context,mountAll);if(isSvgMode="svg"===vnodeName||"foreignObject"!==vnodeName&&isSvgMode,vnodeName=String(vnodeName),(!dom||!isNamedNode(dom,vnodeName))&&(nodeName=vnodeName,(node=isSvgMode?document.createElementNS("http://www.w3.org/2000/svg",nodeName):document.createElement(nodeName)).normalizedNodeName=nodeName,out=node,dom)){for(;dom.firstChild;)out.appendChild(dom.firstChild);dom.parentNode&&dom.parentNode.replaceChild(out,dom),recollectNodeTree(dom,!0)}var fc=out.firstChild,props=out.__preactattr_,vchildren=vnode.children;if(null==props){props=out.__preactattr_={};for(var a=out.attributes,i=a.length;i--;)props[a[i].name]=a[i].value}return!hydrating&&vchildren&&1===vchildren.length&&"string"==typeof vchildren[0]&&null!=fc&&void 0!==fc.splitText&&null==fc.nextSibling?fc.nodeValue!=vchildren[0]&&(fc.nodeValue=vchildren[0]):(vchildren&&vchildren.length||null!=fc)&&function(dom,vchildren,context,mountAll,isHydrating){var j,c,f,vchild,child,originalChildren=dom.childNodes,children=[],keyed={},keyedLen=0,min=0,len=originalChildren.length,childrenLen=0,vlen=vchildren?vchildren.length:0;if(0!==len)for(var i=0;i<len;i++){var _child=originalChildren[i],props=_child.__preactattr_,key=vlen&&props?_child._component?_child._component.__key:props.key:null;null!=key?(keyedLen++,keyed[key]=_child):(props||(void 0!==_child.splitText?!isHydrating||_child.nodeValue.trim():isHydrating))&&(children[childrenLen++]=_child)}if(0!==vlen)for(var i=0;i<vlen;i++){vchild=vchildren[i],child=null;var key=vchild.key;if(null!=key)keyedLen&&void 0!==keyed[key]&&(child=keyed[key],keyed[key]=void 0,keyedLen--);else if(min<childrenLen)for(j=min;j<childrenLen;j++)if(void 0!==children[j]&&(node=c=children[j],hydrating=isHydrating,"string"==typeof(vnode=vchild)||"number"==typeof vnode?void 0!==node.splitText:"string"==typeof vnode.nodeName?!node._componentConstructor&&isNamedNode(node,vnode.nodeName):hydrating||node._componentConstructor===vnode.nodeName)){child=c,children[j]=void 0,j===childrenLen-1&&childrenLen--,j===min&&min++;break}child=idiff(child,vchild,context,mountAll),f=originalChildren[i],child&&child!==dom&&child!==f&&(null==f?dom.appendChild(child):child===f.nextSibling?removeNode(f):dom.insertBefore(child,f))}var node,vnode,hydrating;if(keyedLen)for(var i in keyed)void 0!==keyed[i]&&recollectNodeTree(keyed[i],!1);for(;min<=childrenLen;)void 0!==(child=children[childrenLen--])&&recollectNodeTree(child,!1)}(out,vchildren,context,mountAll,hydrating||null!=props.dangerouslySetInnerHTML),function(dom,attrs,old){var name;for(name in old)attrs&&null!=attrs[name]||null==old[name]||setAccessor(dom,name,old[name],old[name]=void 0,isSvgMode);for(name in attrs)"children"===name||"innerHTML"===name||name in old&&attrs[name]===("value"===name||"checked"===name?dom[name]:old[name])||setAccessor(dom,name,old[name],old[name]=attrs[name],isSvgMode)}(out,vnode.attributes,props),isSvgMode=prevSvgMode,out}function recollectNodeTree(node,unmountOnly){var component=node._component;component?unmountComponent(component):(null!=node.__preactattr_&&applyRef(node.__preactattr_.ref,null),!1!==unmountOnly&&null!=node.__preactattr_||removeNode(node),removeChildren(node))}function removeChildren(node){for(node=node.lastChild;node;){var next=node.previousSibling;recollectNodeTree(node,!0),node=next}}var recyclerComponents=[];function createComponent(Ctor,props,context){var inst,i=recyclerComponents.length;for(Ctor.prototype&&Ctor.prototype.render?(inst=new Ctor(props,context),Component.call(inst,props,context)):((inst=new Component(props,context)).constructor=Ctor,inst.render=doRender);i--;)if(recyclerComponents[i].constructor===Ctor)return inst.nextBase=recyclerComponents[i].nextBase,recyclerComponents.splice(i,1),inst;return inst}function doRender(props,state,context){return this.constructor(props,context)}function setComponentProps(component,props,renderMode,context,mountAll){component._disable||(component._disable=!0,component.__ref=props.ref,component.__key=props.key,delete props.ref,delete props.key,void 0===component.constructor.getDerivedStateFromProps&&(!component.base||mountAll?component.componentWillMount&&component.componentWillMount():component.componentWillReceiveProps&&component.componentWillReceiveProps(props,context)),context&&context!==component.context&&(component.prevContext||(component.prevContext=component.context),component.context=context),component.prevProps||(component.prevProps=component.props),component.props=props,component._disable=!1,0!==renderMode&&(1!==renderMode&&!1===options.syncComponentUpdates&&component.base?enqueueRender(component):renderComponent(component,1,mountAll)),applyRef(component.__ref,component))}function renderComponent(component,renderMode,mountAll,isChild){if(!component._disable){var rendered,inst,cbase,props=component.props,state=component.state,context=component.context,previousProps=component.prevProps||props,previousState=component.prevState||state,previousContext=component.prevContext||context,isUpdate=component.base,nextBase=component.nextBase,initialBase=isUpdate||nextBase,initialChildComponent=component._component,skip=!1,snapshot=previousContext;if(component.constructor.getDerivedStateFromProps&&(state=extend(extend({},state),component.constructor.getDerivedStateFromProps(props,state)),component.state=state),isUpdate&&(component.props=previousProps,component.state=previousState,component.context=previousContext,2!==renderMode&&component.shouldComponentUpdate&&!1===component.shouldComponentUpdate(props,state,context)?skip=!0:component.componentWillUpdate&&component.componentWillUpdate(props,state,context),component.props=props,component.state=state,component.context=context),component.prevProps=component.prevState=component.prevContext=component.nextBase=null,component._dirty=!1,!skip){rendered=component.render(props,state,context),component.getChildContext&&(context=extend(extend({},context),component.getChildContext())),isUpdate&&component.getSnapshotBeforeUpdate&&(snapshot=component.getSnapshotBeforeUpdate(previousProps,previousState));var toUnmount,base,childComponent=rendered&&rendered.nodeName;if("function"==typeof childComponent){var childProps=getNodeProps(rendered);(inst=initialChildComponent)&&inst.constructor===childComponent&&childProps.key==inst.__key?setComponentProps(inst,childProps,1,context,!1):(toUnmount=inst,component._component=inst=createComponent(childComponent,childProps,context),inst.nextBase=inst.nextBase||nextBase,inst._parentComponent=component,setComponentProps(inst,childProps,0,context,!1),renderComponent(inst,1,mountAll,!0)),base=inst.base}else cbase=initialBase,(toUnmount=initialChildComponent)&&(cbase=component._component=null),(initialBase||1===renderMode)&&(cbase&&(cbase._component=null),base=diff(cbase,rendered,context,mountAll||!isUpdate,initialBase&&initialBase.parentNode,!0));if(initialBase&&base!==initialBase&&inst!==initialChildComponent){var baseParent=initialBase.parentNode;baseParent&&base!==baseParent&&(baseParent.replaceChild(base,initialBase),toUnmount||(initialBase._component=null,recollectNodeTree(initialBase,!1)))}if(toUnmount&&unmountComponent(toUnmount),component.base=base,base&&!isChild){for(var componentRef=component,t=component;t=t._parentComponent;)(componentRef=t).base=base;base._component=componentRef,base._componentConstructor=componentRef.constructor}}for(!isUpdate||mountAll?mounts.push(component):skip||component.componentDidUpdate&&component.componentDidUpdate(previousProps,previousState,snapshot);component._renderCallbacks.length;)component._renderCallbacks.pop().call(component);diffLevel||isChild||flushMounts()}}function unmountComponent(component){var base=component.base;component._disable=!0,component.componentWillUnmount&&component.componentWillUnmount(),component.base=null;var inner=component._component;inner?unmountComponent(inner):base&&(null!=base.__preactattr_&&applyRef(base.__preactattr_.ref,null),component.nextBase=base,removeNode(base),recyclerComponents.push(component),removeChildren(base)),applyRef(component.__ref,null)}function Component(props,context){this._dirty=!0,this.context=context,this.props=props,this.state=this.state||{},this._renderCallbacks=[]}extend(Component.prototype,{setState:function(state,callback){this.prevState||(this.prevState=this.state),this.state=extend(extend({},this.state),"function"==typeof state?state(this.state,this.props):state),callback&&this._renderCallbacks.push(callback),enqueueRender(this)},forceUpdate:function(callback){callback&&this._renderCallbacks.push(callback),renderComponent(this,2)},render:function(){}});var preact={h:h,createElement:h,cloneElement:function(vnode,props){return h(vnode.nodeName,extend(extend({},vnode.attributes),props),arguments.length>2?[].slice.call(arguments,2):vnode.children)},createRef:function(){return{}},Component:Component,render:function(vnode,parent,merge){return diff(merge,vnode,{},!1,parent,!1)},rerender:rerender,options:options};function isElement(value){return value instanceof HTMLElement}function isFunction(value){return"function"==typeof value}function isString(value){return"string"==typeof value}function isUndefined(value){return void 0===value}var Evented=function(){function Evented(){}var _proto=Evented.prototype;return _proto.on=function(event,handler,ctx){var once=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];isUndefined(this.bindings)&&(this.bindings={}),isUndefined(this.bindings[event])&&(this.bindings[event]=[]),this.bindings[event].push({handler:handler,ctx:ctx,once:once})},_proto.once=function(event,handler,ctx){this.on(event,handler,ctx,!0)},_proto.off=function(event,handler){var _this=this;if(isUndefined(this.bindings)||isUndefined(this.bindings[event]))return!1;isUndefined(handler)?delete this.bindings[event]:this.bindings[event].forEach(function(binding,index){binding.handler===handler&&_this.bindings[event].splice(index,1)})},_proto.trigger=function(event){var _this2=this;if(!isUndefined(this.bindings)&&this.bindings[event]){var args=Array.prototype.slice.call(arguments,1);this.bindings[event].forEach(function(binding,index){var ctx=binding.ctx,handler=binding.handler,once=binding.once,context=ctx||_this2;handler.apply(context,args),once&&_this2.bindings[event].splice(index,1)})}},Evented}();function autoBind(self){for(var keys=Object.getOwnPropertyNames(self.constructor.prototype),i=0;i<keys.length;i++){var key=keys[i],val=self[key];"constructor"!==key&&"function"==typeof val&&(self[key]=val.bind(self))}return self}function bindAdvance(step){var _ref=step.options.advanceOn||{},event=_ref.event,selector=_ref.selector;if(!event)return console.error("advanceOn was defined, but no event name was passed.");var el,handler=function(selector,step){return function(event){if(step.isOpen()){var targetIsEl=step.el&&event.currentTarget===step.el;(!isUndefined(selector)&&event.currentTarget.matches(selector)||targetIsEl)&&step.tour.next()}}}(selector,step);try{el=document.querySelector(selector)}catch(e){}if(!isUndefined(selector)&&!el)return console.error("No element was found for the selector supplied to advanceOn: "+selector);el?(el.addEventListener(event,handler),step.on("destroy",function(){return el.removeEventListener(event,handler)})):(document.body.addEventListener(event,handler,!0),step.on("destroy",function(){return document.body.removeEventListener(event,handler,!0)}))}var addHasTitleClass=function(step){return{addHasTitleClass:_createClassModifier(step.classPrefix+"shepherd-has-title")}};function _createClassModifier(className){return{enabled:!0,fn:function(data){return data.instance.popper.classList.add(className),data}}}function makeCenteredTippy(step){var centeredStylePopperModifier={computeStyle:{enabled:!0,fn:function(data){return data.styles=_extends({},data.styles,{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),data}},addShepherdClass:_createClassModifier(step.styles.shepherd.trim())},_makeCommonTippyOptio2=_makeCommonTippyOptions(step),popperOptions=_makeCommonTippyOptio2.popperOptions,tippyOptions=_makeCommonTippyOptio2.tippyOptions;return tippyOptions.placement="top",tippyOptions.arrow=!1,tippyOptions.popperOptions=tippyOptions.popperOptions||{},popperOptions=_extends({},popperOptions,{},tippyOptions.popperOptions,{modifiers:_extends({},popperOptions.modifiers,{},centeredStylePopperModifier,{},tippyOptions.popperOptions.modifiers)}),tippyOptions.popperOptions=popperOptions,tippyOptions}function _makeCommonTippyOptions(step){var popperOptions={positionFixed:!0,modifiers:{addShepherdClass:_createClassModifier(step.styles.shepherd.trim())}},tippyOptions=_extends({content:step.el},step.options.tippyOptions),shepherdElementZIndex=getValue(step,"tour.options.styleVariables.shepherdElementZIndex");return shepherdElementZIndex&&(tippyOptions.zIndex=shepherdElementZIndex),step.options.title&&(popperOptions.modifiers=_extends({},popperOptions.modifiers,{},addHasTitleClass(step))),{popperOptions:popperOptions,tippyOptions:tippyOptions}}function _extends$1(){return(_extends$1=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,ua=isBrowser?navigator.userAgent:"",isIE=/MSIE |Trident\//.test(ua),isUCBrowser=/UCBrowser\//.test(ua),isIOS=isBrowser&&/iPhone|iPad|iPod/.test(navigator.platform),defaultProps={allowHTML:!0,animateFill:!1,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onCreate:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnCreate:!1,sticky:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},POPPER_INSTANCE_DEPENDENCIES=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],PASSIVE={passive:!0},PREVENT_OVERFLOW_PADDING=5,ROUND_ARROW_INNER_HTML='<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>',IOS_CLASS="tippy-iOS",POPPER_CLASS="tippy-popper",TOOLTIP_CLASS="tippy-tooltip",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",POPPER_SELECTOR="."+POPPER_CLASS,TOOLTIP_SELECTOR="."+TOOLTIP_CLASS,CONTENT_SELECTOR="."+CONTENT_CLASS,BACKDROP_SELECTOR="."+BACKDROP_CLASS,ARROW_SELECTOR="."+ARROW_CLASS,SVG_ARROW_SELECTOR="."+SVG_ARROW_CLASS,currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,isIOS&&document.body.classList.add(IOS_CLASS),window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var now=performance.now();now-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove),isIOS||document.body.classList.remove(IOS_CLASS)),lastMouseMoveTime=now}function onWindowBlur(){var activeElement=document.activeElement,instance=activeElement._tippy;activeElement&&activeElement.blur&&instance&&!instance.state.isVisible&&activeElement.blur()}var keys$2=Object.keys(defaultProps);function hasOwnProperty$1(obj,key){return{}.hasOwnProperty.call(obj,key)}function getValueAtIndexOrReturn(value,index,defaultValue){if(Array.isArray(value)){var v=value[index];return null==v?Array.isArray(defaultValue)?defaultValue[index]:defaultValue:v}return value}function getModifier(obj,key){return obj&&obj.modifiers&&obj.modifiers[key]}function isRealElement(value){return value instanceof Element}function invokeWithArgsOrReturn(value,args){return"function"==typeof value?value.apply(null,args):value}function setFlipModifierEnabled(modifiers,value){modifiers.filter(function(m){return"flip"===m.name})[0].enabled=value}function div(){return document.createElement("div")}function setTransitionDuration(els,value){els.forEach(function(el){el&&(el.style.transitionDuration=value+"ms")})}function setVisibilityState(els,state){els.forEach(function(el){el&&el.setAttribute("data-state",state)})}function evaluateProps(reference,props){var out=_extends$1({},props,{content:invokeWithArgsOrReturn(props.content,[reference])},props.ignoreAttributes?{}:function(reference){return keys$2.reduce(function(acc,key){var valueAsString=(reference.getAttribute("data-tippy-"+key)||"").trim();if(!valueAsString)return acc;if("content"===key)acc[key]=valueAsString;else try{acc[key]=JSON.parse(valueAsString)}catch(e){acc[key]=valueAsString}return acc},{})}(reference));return out.animateFill&&(out.arrow=!1),(out.arrow||isUCBrowser)&&(out.animateFill=!1),out}function debounce(fn,ms){return 0===ms?fn:function(arg){clearTimeout(timeout),timeout=setTimeout(function(){fn(arg)},ms)};var timeout}function preserveInvocation(originalFn,currentFn,args){originalFn&&originalFn!==currentFn&&originalFn.apply(null,args)}function arrayFrom(value){return[].slice.call(value)}function includes(a,b){return a.indexOf(b)>-1}function setInnerHTML(element,html){element.innerHTML=isRealElement(html)?html.innerHTML:html}function setContent(contentEl,props){if(isRealElement(props.content))setInnerHTML(contentEl,""),contentEl.appendChild(props.content);else if("function"!=typeof props.content){contentEl[props.allowHTML?"innerHTML":"textContent"]=props.content}}function getChildren(popper){return{tooltip:popper.querySelector(TOOLTIP_SELECTOR),backdrop:popper.querySelector(BACKDROP_SELECTOR),content:popper.querySelector(CONTENT_SELECTOR),arrow:popper.querySelector(ARROW_SELECTOR)||popper.querySelector(SVG_ARROW_SELECTOR)}}function addInertia(tooltip){tooltip.setAttribute("data-inertia","")}function createArrowElement(arrow){var arrowElement=div();return!0===arrow?arrowElement.className=ARROW_CLASS:(arrowElement.className=SVG_ARROW_CLASS,isRealElement(arrow)?arrowElement.appendChild(arrow):setInnerHTML(arrowElement,"round"===arrow?ROUND_ARROW_INNER_HTML:arrow)),arrowElement}function createBackdropElement(isVisible){var backdrop=div();return backdrop.className=BACKDROP_CLASS,backdrop.setAttribute("data-state",isVisible?"visible":"hidden"),backdrop}function addInteractive(tooltip){tooltip.setAttribute("data-interactive","")}function updateTransitionEndListener(tooltip,action,listener){var eventName=isUCBrowser&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";tooltip[action+"EventListener"](eventName,listener)}function getBasePlacement(placement){return placement.split("-")[0]}function updateTheme(tooltip,action,theme){theme.split(" ").forEach(function(name){name&&tooltip.classList[action](name+"-theme")})}function createPopperElement(id,props){var popper=div();popper.className=POPPER_CLASS,popper.style.position="absolute",popper.style.top="0",popper.style.left="0";var tooltip=div();tooltip.className=TOOLTIP_CLASS,tooltip.id="tippy-"+id,tooltip.setAttribute("data-state","hidden"),tooltip.setAttribute("tabindex","-1"),updateTheme(tooltip,"add",props.theme);var content=div();return content.className=CONTENT_CLASS,content.setAttribute("data-state","hidden"),props.interactive&&addInteractive(tooltip),props.arrow&&(tooltip.setAttribute("data-arrow",""),tooltip.appendChild(createArrowElement(props.arrow))),props.animateFill&&(tooltip.appendChild(createBackdropElement(!1)),tooltip.setAttribute("data-animatefill","")),props.inertia&&addInertia(tooltip),setContent(content,props),tooltip.appendChild(content),popper.appendChild(tooltip),updatePopperElement(popper,props,props,!1),popper}function updatePopperElement(popper,prevProps,nextProps,isVisible){var _getChildren=getChildren(popper),tooltip=_getChildren.tooltip,content=_getChildren.content,backdrop=_getChildren.backdrop,arrow=_getChildren.arrow;popper.style.zIndex=""+nextProps.zIndex,tooltip.setAttribute("data-animation",nextProps.animation),tooltip.style.maxWidth=nextProps.maxWidth+("number"==typeof nextProps.maxWidth?"px":""),nextProps.role?tooltip.setAttribute("role",nextProps.role):tooltip.removeAttribute("role"),prevProps.content!==nextProps.content&&setContent(content,nextProps),!prevProps.animateFill&&nextProps.animateFill?(tooltip.appendChild(createBackdropElement(isVisible)),tooltip.setAttribute("data-animatefill","")):prevProps.animateFill&&!nextProps.animateFill&&(tooltip.removeChild(backdrop),tooltip.removeAttribute("data-animatefill")),!prevProps.arrow&&nextProps.arrow?(tooltip.appendChild(createArrowElement(nextProps.arrow)),tooltip.setAttribute("data-arrow","")):prevProps.arrow&&!nextProps.arrow?(tooltip.removeChild(arrow),tooltip.removeAttribute("data-arrow")):prevProps.arrow!==nextProps.arrow&&(tooltip.removeChild(arrow),tooltip.appendChild(createArrowElement(nextProps.arrow))),!prevProps.interactive&&nextProps.interactive?addInteractive(tooltip):prevProps.interactive&&!nextProps.interactive&&function(tooltip){tooltip.removeAttribute("data-interactive")}(tooltip),!prevProps.inertia&&nextProps.inertia?addInertia(tooltip):prevProps.inertia&&!nextProps.inertia&&function(tooltip){tooltip.removeAttribute("data-inertia")}(tooltip),prevProps.theme!==nextProps.theme&&(updateTheme(tooltip,"remove",prevProps.theme),updateTheme(tooltip,"add",nextProps.theme))}for(var isBrowser$1="undefined"!=typeof window&&"undefined"!=typeof document,longerTimeoutBrowsers=["Edge","Trident","Firefox"],timeoutDuration=0,i=0;i<longerTimeoutBrowsers.length;i+=1)if(isBrowser$1&&navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0){timeoutDuration=1;break}var debounce$1=isBrowser$1&&window.Promise?function(fn){var called=!1;return function(){called||(called=!0,window.Promise.resolve().then(function(){called=!1,fn()}))}}:function(fn){var scheduled=!1;return function(){scheduled||(scheduled=!0,setTimeout(function(){scheduled=!1,fn()},timeoutDuration))}};function isFunction$1(functionToCheck){return functionToCheck&&"[object Function]"==={}.toString.call(functionToCheck)}function getStyleComputedProperty(element,property){if(1!==element.nodeType)return[];var css=element.ownerDocument.defaultView.getComputedStyle(element,null);return property?css[property]:css}function getParentNode(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function getScrollParent(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}var _getStyleComputedProp=getStyleComputedProperty(element),overflow=_getStyleComputedProp.overflow,overflowX=_getStyleComputedProp.overflowX,overflowY=_getStyleComputedProp.overflowY;return/(auto|scroll|overlay)/.test(overflow+overflowY+overflowX)?element:getScrollParent(getParentNode(element))}var isIE11=isBrowser$1&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=isBrowser$1&&/MSIE 10/.test(navigator.userAgent);function isIE$1(version){return 11===version?isIE11:10===version?isIE10:isIE11||isIE10}function getOffsetParent(element){if(!element)return document.documentElement;for(var noOffsetParent=isIE$1(10)?document.body:null,offsetParent=element.offsetParent||null;offsetParent===noOffsetParent&&element.nextElementSibling;)offsetParent=(element=element.nextElementSibling).offsetParent;var nodeName=offsetParent&&offsetParent.nodeName;return nodeName&&"BODY"!==nodeName&&"HTML"!==nodeName?-1!==["TH","TD","TABLE"].indexOf(offsetParent.nodeName)&&"static"===getStyleComputedProperty(offsetParent,"position")?getOffsetParent(offsetParent):offsetParent:element?element.ownerDocument.documentElement:document.documentElement}function getRoot(node){return null!==node.parentNode?getRoot(node.parentNode):node}function findCommonOffsetParent(element1,element2){if(!(element1&&element1.nodeType&&element2&&element2.nodeType))return document.documentElement;var order=element1.compareDocumentPosition(element2)&Node.DOCUMENT_POSITION_FOLLOWING,start=order?element1:element2,end=order?element2:element1,range=document.createRange();range.setStart(start,0),range.setEnd(end,0);var element,nodeName,commonAncestorContainer=range.commonAncestorContainer;if(element1!==commonAncestorContainer&&element2!==commonAncestorContainer||start.contains(end))return"BODY"===(nodeName=(element=commonAncestorContainer).nodeName)||"HTML"!==nodeName&&getOffsetParent(element.firstElementChild)!==element?getOffsetParent(commonAncestorContainer):commonAncestorContainer;var element1root=getRoot(element1);return element1root.host?findCommonOffsetParent(element1root.host,element2):findCommonOffsetParent(element1,getRoot(element2).host)}function getScroll(element){var upperSide="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName){var html=element.ownerDocument.documentElement;return(element.ownerDocument.scrollingElement||html)[upperSide]}return element[upperSide]}function getBordersSize(styles,axis){var sideA="x"===axis?"Left":"Top",sideB="Left"===sideA?"Right":"Bottom";return parseFloat(styles["border"+sideA+"Width"],10)+parseFloat(styles["border"+sideB+"Width"],10)}function getSize(axis,body,html,computedStyle){return Math.max(body["offset"+axis],body["scroll"+axis],html["client"+axis],html["offset"+axis],html["scroll"+axis],isIE$1(10)?parseInt(html["offset"+axis])+parseInt(computedStyle["margin"+("Height"===axis?"Top":"Left")])+parseInt(computedStyle["margin"+("Height"===axis?"Bottom":"Right")]):0)}function getWindowSizes(document){var body=document.body,html=document.documentElement,computedStyle=isIE$1(10)&&getComputedStyle(html);return{height:getSize("Height",body,html,computedStyle),width:getSize("Width",body,html,computedStyle)}}var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),defineProperty$1=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},_extends$2=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function getClientRect(offsets){return _extends$2({},offsets,{right:offsets.left+offsets.width,bottom:offsets.top+offsets.height})}function getBoundingClientRect(element){var rect={};try{if(isIE$1(10)){rect=element.getBoundingClientRect();var scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left");rect.top+=scrollTop,rect.left+=scrollLeft,rect.bottom+=scrollTop,rect.right+=scrollLeft}else rect=element.getBoundingClientRect()}catch(e){}var result={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top},sizes="HTML"===element.nodeName?getWindowSizes(element.ownerDocument):{},width=sizes.width||element.clientWidth||result.right-result.left,height=sizes.height||element.clientHeight||result.bottom-result.top,horizScrollbar=element.offsetWidth-width,vertScrollbar=element.offsetHeight-height;if(horizScrollbar||vertScrollbar){var styles=getStyleComputedProperty(element);horizScrollbar-=getBordersSize(styles,"x"),vertScrollbar-=getBordersSize(styles,"y"),result.width-=horizScrollbar,result.height-=vertScrollbar}return getClientRect(result)}function getOffsetRectRelativeToArbitraryNode(children,parent){var fixedPosition=arguments.length>2&&void 0!==arguments[2]&&arguments[2],isIE10=isIE$1(10),isHTML="HTML"===parent.nodeName,childrenRect=getBoundingClientRect(children),parentRect=getBoundingClientRect(parent),scrollParent=getScrollParent(children),styles=getStyleComputedProperty(parent),borderTopWidth=parseFloat(styles.borderTopWidth,10),borderLeftWidth=parseFloat(styles.borderLeftWidth,10);fixedPosition&&isHTML&&(parentRect.top=Math.max(parentRect.top,0),parentRect.left=Math.max(parentRect.left,0));var offsets=getClientRect({top:childrenRect.top-parentRect.top-borderTopWidth,left:childrenRect.left-parentRect.left-borderLeftWidth,width:childrenRect.width,height:childrenRect.height});if(offsets.marginTop=0,offsets.marginLeft=0,!isIE10&&isHTML){var marginTop=parseFloat(styles.marginTop,10),marginLeft=parseFloat(styles.marginLeft,10);offsets.top-=borderTopWidth-marginTop,offsets.bottom-=borderTopWidth-marginTop,offsets.left-=borderLeftWidth-marginLeft,offsets.right-=borderLeftWidth-marginLeft,offsets.marginTop=marginTop,offsets.marginLeft=marginLeft}return(isIE10&&!fixedPosition?parent.contains(scrollParent):parent===scrollParent&&"BODY"!==scrollParent.nodeName)&&(offsets=function(rect,element){var subtract=arguments.length>2&&void 0!==arguments[2]&&arguments[2],scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left"),modifier=subtract?-1:1;return rect.top+=scrollTop*modifier,rect.bottom+=scrollTop*modifier,rect.left+=scrollLeft*modifier,rect.right+=scrollLeft*modifier,rect}(offsets,parent)),offsets}function getFixedPositionOffsetParent(element){if(!element||!element.parentElement||isIE$1())return document.documentElement;for(var el=element.parentElement;el&&"none"===getStyleComputedProperty(el,"transform");)el=el.parentElement;return el||document.documentElement}function getBoundaries(popper,reference,padding,boundariesElement){var fixedPosition=arguments.length>4&&void 0!==arguments[4]&&arguments[4],boundaries={top:0,left:0},offsetParent=fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,reference);if("viewport"===boundariesElement)boundaries=function(element){var excludeScroll=arguments.length>1&&void 0!==arguments[1]&&arguments[1],html=element.ownerDocument.documentElement,relativeOffset=getOffsetRectRelativeToArbitraryNode(element,html),width=Math.max(html.clientWidth,window.innerWidth||0),height=Math.max(html.clientHeight,window.innerHeight||0),scrollTop=excludeScroll?0:getScroll(html),scrollLeft=excludeScroll?0:getScroll(html,"left");return getClientRect({top:scrollTop-relativeOffset.top+relativeOffset.marginTop,left:scrollLeft-relativeOffset.left+relativeOffset.marginLeft,width:width,height:height})}(offsetParent,fixedPosition);else{var boundariesNode=void 0;"scrollParent"===boundariesElement?"BODY"===(boundariesNode=getScrollParent(getParentNode(reference))).nodeName&&(boundariesNode=popper.ownerDocument.documentElement):boundariesNode="window"===boundariesElement?popper.ownerDocument.documentElement:boundariesElement;var offsets=getOffsetRectRelativeToArbitraryNode(boundariesNode,offsetParent,fixedPosition);if("HTML"!==boundariesNode.nodeName||function isFixed(element){var nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName)return!1;if("fixed"===getStyleComputedProperty(element,"position"))return!0;var parentNode=getParentNode(element);return!!parentNode&&isFixed(parentNode)}(offsetParent))boundaries=offsets;else{var _getWindowSizes=getWindowSizes(popper.ownerDocument),height=_getWindowSizes.height,width=_getWindowSizes.width;boundaries.top+=offsets.top-offsets.marginTop,boundaries.bottom=height+offsets.top,boundaries.left+=offsets.left-offsets.marginLeft,boundaries.right=width+offsets.left}}var isPaddingNumber="number"==typeof(padding=padding||0);return boundaries.left+=isPaddingNumber?padding:padding.left||0,boundaries.top+=isPaddingNumber?padding:padding.top||0,boundaries.right-=isPaddingNumber?padding:padding.right||0,boundaries.bottom-=isPaddingNumber?padding:padding.bottom||0,boundaries}function computeAutoPlacement(placement,refRect,popper,reference,boundariesElement){var padding=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===placement.indexOf("auto"))return placement;var boundaries=getBoundaries(popper,reference,padding,boundariesElement),rects={top:{width:boundaries.width,height:refRect.top-boundaries.top},right:{width:boundaries.right-refRect.right,height:boundaries.height},bottom:{width:boundaries.width,height:boundaries.bottom-refRect.bottom},left:{width:refRect.left-boundaries.left,height:boundaries.height}},sortedAreas=Object.keys(rects).map(function(key){return _extends$2({key:key},rects[key],{area:(_ref=rects[key],_ref.width*_ref.height)});var _ref}).sort(function(a,b){return b.area-a.area}),filteredAreas=sortedAreas.filter(function(_ref2){var width=_ref2.width,height=_ref2.height;return width>=popper.clientWidth&&height>=popper.clientHeight}),computedPlacement=filteredAreas.length>0?filteredAreas[0].key:sortedAreas[0].key,variation=placement.split("-")[1];return computedPlacement+(variation?"-"+variation:"")}function getReferenceOffsets(state,popper,reference){var fixedPosition=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(reference,fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,reference),fixedPosition)}function getOuterSizes(element){var styles=element.ownerDocument.defaultView.getComputedStyle(element),x=parseFloat(styles.marginTop||0)+parseFloat(styles.marginBottom||0),y=parseFloat(styles.marginLeft||0)+parseFloat(styles.marginRight||0);return{width:element.offsetWidth+y,height:element.offsetHeight+x}}function getOppositePlacement(placement){var hash={left:"right",right:"left",bottom:"top",top:"bottom"};return placement.replace(/left|right|bottom|top/g,function(matched){return hash[matched]})}function getPopperOffsets(popper,referenceOffsets,placement){placement=placement.split("-")[0];var popperRect=getOuterSizes(popper),popperOffsets={width:popperRect.width,height:popperRect.height},isHoriz=-1!==["right","left"].indexOf(placement),mainSide=isHoriz?"top":"left",secondarySide=isHoriz?"left":"top",measurement=isHoriz?"height":"width",secondaryMeasurement=isHoriz?"width":"height";return popperOffsets[mainSide]=referenceOffsets[mainSide]+referenceOffsets[measurement]/2-popperRect[measurement]/2,popperOffsets[secondarySide]=placement===secondarySide?referenceOffsets[secondarySide]-popperRect[secondaryMeasurement]:referenceOffsets[getOppositePlacement(secondarySide)],popperOffsets}function find(arr,check){return Array.prototype.find?arr.find(check):arr.filter(check)[0]}function runModifiers(modifiers,data,ends){return(void 0===ends?modifiers:modifiers.slice(0,function(arr,prop,value){if(Array.prototype.findIndex)return arr.findIndex(function(cur){return cur[prop]===value});var match=find(arr,function(obj){return obj[prop]===value});return arr.indexOf(match)}(modifiers,"name",ends))).forEach(function(modifier){modifier.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var fn=modifier.function||modifier.fn;modifier.enabled&&isFunction$1(fn)&&(data.offsets.popper=getClientRect(data.offsets.popper),data.offsets.reference=getClientRect(data.offsets.reference),data=fn(data,modifier))}),data}function isModifierEnabled(modifiers,modifierName){return modifiers.some(function(_ref){var name=_ref.name;return _ref.enabled&&name===modifierName})}function getSupportedPropertyName(property){for(var prefixes=[!1,"ms","Webkit","Moz","O"],upperProp=property.charAt(0).toUpperCase()+property.slice(1),i=0;i<prefixes.length;i++){var prefix=prefixes[i],toCheck=prefix?""+prefix+upperProp:property;if(void 0!==document.body.style[toCheck])return toCheck}return null}function getWindow(element){var ownerDocument=element.ownerDocument;return ownerDocument?ownerDocument.defaultView:window}function setupEventListeners(reference,options,state,updateBound){state.updateBound=updateBound,getWindow(reference).addEventListener("resize",state.updateBound,{passive:!0});var scrollElement=getScrollParent(reference);return function attachToScrollParents(scrollParent,event,callback,scrollParents){var isBody="BODY"===scrollParent.nodeName,target=isBody?scrollParent.ownerDocument.defaultView:scrollParent;target.addEventListener(event,callback,{passive:!0}),isBody||attachToScrollParents(getScrollParent(target.parentNode),event,callback,scrollParents),scrollParents.push(target)}(scrollElement,"scroll",state.updateBound,state.scrollParents),state.scrollElement=scrollElement,state.eventsEnabled=!0,state}function disableEventListeners(){var reference,state;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(reference=this.reference,state=this.state,getWindow(reference).removeEventListener("resize",state.updateBound),state.scrollParents.forEach(function(target){target.removeEventListener("scroll",state.updateBound)}),state.updateBound=null,state.scrollParents=[],state.scrollElement=null,state.eventsEnabled=!1,state))}function isNumeric(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(n)}function setStyles(element,styles){Object.keys(styles).forEach(function(prop){var unit="";-1!==["width","height","top","right","bottom","left"].indexOf(prop)&&isNumeric(styles[prop])&&(unit="px"),element.style[prop]=styles[prop]+unit})}var isFirefox=isBrowser$1&&/Firefox/i.test(navigator.userAgent);function isModifierRequired(modifiers,requestingName,requestedName){var requesting=find(modifiers,function(_ref){return _ref.name===requestingName}),isRequired=!!requesting&&modifiers.some(function(modifier){return modifier.name===requestedName&&modifier.enabled&&modifier.order<requesting.order});if(!isRequired){var _requesting="`"+requestingName+"`",requested="`"+requestedName+"`";console.warn(requested+" modifier is required by "+_requesting+" modifier in order to work, be sure to include it before "+_requesting+"!")}return isRequired}var placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],validPlacements=placements.slice(3);function clockwise(placement){var counter=arguments.length>1&&void 0!==arguments[1]&&arguments[1],index=validPlacements.indexOf(placement),arr=validPlacements.slice(index+1).concat(validPlacements.slice(0,index));return counter?arr.reverse():arr}var BEHAVIORS={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function parseOffset(offset,popperOffsets,referenceOffsets,basePlacement){var offsets=[0,0],useHeight=-1!==["right","left"].indexOf(basePlacement),fragments=offset.split(/(\+|\-)/).map(function(frag){return frag.trim()}),divider=fragments.indexOf(find(fragments,function(frag){return-1!==frag.search(/,|\s/)}));fragments[divider]&&-1===fragments[divider].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var splitRegex=/\s*,\s*|\s+/,ops=-1!==divider?[fragments.slice(0,divider).concat([fragments[divider].split(splitRegex)[0]]),[fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider+1))]:[fragments];return(ops=ops.map(function(op,index){var measurement=(1===index?!useHeight:useHeight)?"height":"width",mergeWithPrevious=!1;return op.reduce(function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,mergeWithPrevious=!0,a):mergeWithPrevious?(a[a.length-1]+=b,mergeWithPrevious=!1,a):a.concat(b)},[]).map(function(str){return function(str,measurement,popperOffsets,referenceOffsets){var split=str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),value=+split[1],unit=split[2];if(!value)return str;if(0===unit.indexOf("%")){var element=void 0;switch(unit){case"%p":element=popperOffsets;break;case"%":case"%r":default:element=referenceOffsets}return getClientRect(element)[measurement]/100*value}if("vh"===unit||"vw"===unit)return("vh"===unit?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*value;return value}(str,measurement,popperOffsets,referenceOffsets)})})).forEach(function(op,index){op.forEach(function(frag,index2){isNumeric(frag)&&(offsets[index]+=frag*("-"===op[index2-1]?-1:1))})}),offsets}var Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(data){var placement=data.placement,basePlacement=placement.split("-")[0],shiftvariation=placement.split("-")[1];if(shiftvariation){var _data$offsets=data.offsets,reference=_data$offsets.reference,popper=_data$offsets.popper,isVertical=-1!==["bottom","top"].indexOf(basePlacement),side=isVertical?"left":"top",measurement=isVertical?"width":"height",shiftOffsets={start:defineProperty$1({},side,reference[side]),end:defineProperty$1({},side,reference[side]+reference[measurement]-popper[measurement])};data.offsets.popper=_extends$2({},popper,shiftOffsets[shiftvariation])}return data}},offset:{order:200,enabled:!0,fn:function(data,_ref){var offset=_ref.offset,placement=data.placement,_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,basePlacement=placement.split("-")[0],offsets=void 0;return offsets=isNumeric(+offset)?[+offset,0]:parseOffset(offset,popper,reference,basePlacement),"left"===basePlacement?(popper.top+=offsets[0],popper.left-=offsets[1]):"right"===basePlacement?(popper.top+=offsets[0],popper.left+=offsets[1]):"top"===basePlacement?(popper.left+=offsets[0],popper.top-=offsets[1]):"bottom"===basePlacement&&(popper.left+=offsets[0],popper.top+=offsets[1]),data.popper=popper,data},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(data,options){var boundariesElement=options.boundariesElement||getOffsetParent(data.instance.popper);data.instance.reference===boundariesElement&&(boundariesElement=getOffsetParent(boundariesElement));var transformProp=getSupportedPropertyName("transform"),popperStyles=data.instance.popper.style,top=popperStyles.top,left=popperStyles.left,transform=popperStyles[transformProp];popperStyles.top="",popperStyles.left="",popperStyles[transformProp]="";var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,boundariesElement,data.positionFixed);popperStyles.top=top,popperStyles.left=left,popperStyles[transformProp]=transform,options.boundaries=boundaries;var order=options.priority,popper=data.offsets.popper,check={primary:function(placement){var value=popper[placement];return popper[placement]<boundaries[placement]&&!options.escapeWithReference&&(value=Math.max(popper[placement],boundaries[placement])),defineProperty$1({},placement,value)},secondary:function(placement){var mainSide="right"===placement?"left":"top",value=popper[mainSide];return popper[placement]>boundaries[placement]&&!options.escapeWithReference&&(value=Math.min(popper[mainSide],boundaries[placement]-("right"===placement?popper.width:popper.height))),defineProperty$1({},mainSide,value)}};return order.forEach(function(placement){var side=-1!==["left","top"].indexOf(placement)?"primary":"secondary";popper=_extends$2({},popper,check[side](placement))}),data.offsets.popper=popper,data},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(data){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,placement=data.placement.split("-")[0],floor=Math.floor,isVertical=-1!==["top","bottom"].indexOf(placement),side=isVertical?"right":"bottom",opSide=isVertical?"left":"top",measurement=isVertical?"width":"height";return popper[side]<floor(reference[opSide])&&(data.offsets.popper[opSide]=floor(reference[opSide])-popper[measurement]),popper[opSide]>floor(reference[side])&&(data.offsets.popper[opSide]=floor(reference[side])),data}},arrow:{order:500,enabled:!0,fn:function(data,options){var _data$offsets$arrow;if(!isModifierRequired(data.instance.modifiers,"arrow","keepTogether"))return data;var arrowElement=options.element;if("string"==typeof arrowElement){if(!(arrowElement=data.instance.popper.querySelector(arrowElement)))return data}else if(!data.instance.popper.contains(arrowElement))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),data;var placement=data.placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isVertical=-1!==["left","right"].indexOf(placement),len=isVertical?"height":"width",sideCapitalized=isVertical?"Top":"Left",side=sideCapitalized.toLowerCase(),altSide=isVertical?"left":"top",opSide=isVertical?"bottom":"right",arrowElementSize=getOuterSizes(arrowElement)[len];reference[opSide]-arrowElementSize<popper[side]&&(data.offsets.popper[side]-=popper[side]-(reference[opSide]-arrowElementSize)),reference[side]+arrowElementSize>popper[opSide]&&(data.offsets.popper[side]+=reference[side]+arrowElementSize-popper[opSide]),data.offsets.popper=getClientRect(data.offsets.popper);var center=reference[side]+reference[len]/2-arrowElementSize/2,css=getStyleComputedProperty(data.instance.popper),popperMarginSide=parseFloat(css["margin"+sideCapitalized],10),popperBorderSide=parseFloat(css["border"+sideCapitalized+"Width"],10),sideValue=center-data.offsets.popper[side]-popperMarginSide-popperBorderSide;return sideValue=Math.max(Math.min(popper[len]-arrowElementSize,sideValue),0),data.arrowElement=arrowElement,data.offsets.arrow=(defineProperty$1(_data$offsets$arrow={},side,Math.round(sideValue)),defineProperty$1(_data$offsets$arrow,altSide,""),_data$offsets$arrow),data},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(data,options){if(isModifierEnabled(data.instance.modifiers,"inner"))return data;if(data.flipped&&data.placement===data.originalPlacement)return data;var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,options.boundariesElement,data.positionFixed),placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement),variation=data.placement.split("-")[1]||"",flipOrder=[];switch(options.behavior){case BEHAVIORS.FLIP:flipOrder=[placement,placementOpposite];break;case BEHAVIORS.CLOCKWISE:flipOrder=clockwise(placement);break;case BEHAVIORS.COUNTERCLOCKWISE:flipOrder=clockwise(placement,!0);break;default:flipOrder=options.behavior}return flipOrder.forEach(function(step,index){if(placement!==step||flipOrder.length===index+1)return data;placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement);var popperOffsets=data.offsets.popper,refOffsets=data.offsets.reference,floor=Math.floor,overlapsRef="left"===placement&&floor(popperOffsets.right)>floor(refOffsets.left)||"right"===placement&&floor(popperOffsets.left)<floor(refOffsets.right)||"top"===placement&&floor(popperOffsets.bottom)>floor(refOffsets.top)||"bottom"===placement&&floor(popperOffsets.top)<floor(refOffsets.bottom),overflowsLeft=floor(popperOffsets.left)<floor(boundaries.left),overflowsRight=floor(popperOffsets.right)>floor(boundaries.right),overflowsTop=floor(popperOffsets.top)<floor(boundaries.top),overflowsBottom=floor(popperOffsets.bottom)>floor(boundaries.bottom),overflowsBoundaries="left"===placement&&overflowsLeft||"right"===placement&&overflowsRight||"top"===placement&&overflowsTop||"bottom"===placement&&overflowsBottom,isVertical=-1!==["top","bottom"].indexOf(placement),flippedVariationByRef=!!options.flipVariations&&(isVertical&&"start"===variation&&overflowsLeft||isVertical&&"end"===variation&&overflowsRight||!isVertical&&"start"===variation&&overflowsTop||!isVertical&&"end"===variation&&overflowsBottom),flippedVariationByContent=!!options.flipVariationsByContent&&(isVertical&&"start"===variation&&overflowsRight||isVertical&&"end"===variation&&overflowsLeft||!isVertical&&"start"===variation&&overflowsBottom||!isVertical&&"end"===variation&&overflowsTop),flippedVariation=flippedVariationByRef||flippedVariationByContent;(overlapsRef||overflowsBoundaries||flippedVariation)&&(data.flipped=!0,(overlapsRef||overflowsBoundaries)&&(placement=flipOrder[index+1]),flippedVariation&&(variation=function(variation){return"end"===variation?"start":"start"===variation?"end":variation}(variation)),data.placement=placement+(variation?"-"+variation:""),data.offsets.popper=_extends$2({},data.offsets.popper,getPopperOffsets(data.instance.popper,data.offsets.reference,data.placement)),data=runModifiers(data.instance.modifiers,data,"flip"))}),data},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(data){var placement=data.placement,basePlacement=placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isHoriz=-1!==["left","right"].indexOf(basePlacement),subtractLength=-1===["top","left"].indexOf(basePlacement);return popper[isHoriz?"left":"top"]=reference[basePlacement]-(subtractLength?popper[isHoriz?"width":"height"]:0),data.placement=getOppositePlacement(placement),data.offsets.popper=getClientRect(popper),data}},hide:{order:800,enabled:!0,fn:function(data){if(!isModifierRequired(data.instance.modifiers,"hide","preventOverflow"))return data;var refRect=data.offsets.reference,bound=find(data.instance.modifiers,function(modifier){return"preventOverflow"===modifier.name}).boundaries;if(refRect.bottom<bound.top||refRect.left>bound.right||refRect.top>bound.bottom||refRect.right<bound.left){if(!0===data.hide)return data;data.hide=!0,data.attributes["x-out-of-boundaries"]=""}else{if(!1===data.hide)return data;data.hide=!1,data.attributes["x-out-of-boundaries"]=!1}return data}},computeStyle:{order:850,enabled:!0,fn:function(data,options){var x=options.x,y=options.y,popper=data.offsets.popper,legacyGpuAccelerationOption=find(data.instance.modifiers,function(modifier){return"applyStyle"===modifier.name}).gpuAcceleration;void 0!==legacyGpuAccelerationOption&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var gpuAcceleration=void 0!==legacyGpuAccelerationOption?legacyGpuAccelerationOption:options.gpuAcceleration,offsetParent=getOffsetParent(data.instance.popper),offsetParentRect=getBoundingClientRect(offsetParent),styles={position:popper.position},offsets=function(data,shouldRound){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,round=Math.round,floor=Math.floor,noRound=function(v){return v},referenceWidth=round(reference.width),popperWidth=round(popper.width),isVertical=-1!==["left","right"].indexOf(data.placement),isVariation=-1!==data.placement.indexOf("-"),horizontalToInteger=shouldRound?isVertical||isVariation||referenceWidth%2==popperWidth%2?round:floor:noRound,verticalToInteger=shouldRound?round:noRound;return{left:horizontalToInteger(referenceWidth%2==1&&popperWidth%2==1&&!isVariation&&shouldRound?popper.left-1:popper.left),top:verticalToInteger(popper.top),bottom:verticalToInteger(popper.bottom),right:horizontalToInteger(popper.right)}}(data,window.devicePixelRatio<2||!isFirefox),sideA="bottom"===x?"top":"bottom",sideB="right"===y?"left":"right",prefixedProperty=getSupportedPropertyName("transform"),left=void 0,top=void 0;if(top="bottom"===sideA?"HTML"===offsetParent.nodeName?-offsetParent.clientHeight+offsets.bottom:-offsetParentRect.height+offsets.bottom:offsets.top,left="right"===sideB?"HTML"===offsetParent.nodeName?-offsetParent.clientWidth+offsets.right:-offsetParentRect.width+offsets.right:offsets.left,gpuAcceleration&&prefixedProperty)styles[prefixedProperty]="translate3d("+left+"px, "+top+"px, 0)",styles[sideA]=0,styles[sideB]=0,styles.willChange="transform";else{var invertTop="bottom"===sideA?-1:1,invertLeft="right"===sideB?-1:1;styles[sideA]=top*invertTop,styles[sideB]=left*invertLeft,styles.willChange=sideA+", "+sideB}var attributes={"x-placement":data.placement};return data.attributes=_extends$2({},attributes,data.attributes),data.styles=_extends$2({},styles,data.styles),data.arrowStyles=_extends$2({},data.offsets.arrow,data.arrowStyles),data},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(data){var element,attributes;return setStyles(data.instance.popper,data.styles),element=data.instance.popper,attributes=data.attributes,Object.keys(attributes).forEach(function(prop){!1!==attributes[prop]?element.setAttribute(prop,attributes[prop]):element.removeAttribute(prop)}),data.arrowElement&&Object.keys(data.arrowStyles).length&&setStyles(data.arrowElement,data.arrowStyles),data},onLoad:function(reference,popper,options,modifierOptions,state){var referenceOffsets=getReferenceOffsets(state,popper,reference,options.positionFixed),placement=computeAutoPlacement(options.placement,referenceOffsets,popper,reference,options.modifiers.flip.boundariesElement,options.modifiers.flip.padding);return popper.setAttribute("x-placement",placement),setStyles(popper,{position:options.positionFixed?"fixed":"absolute"}),options},gpuAcceleration:void 0}}},Popper=function(){function Popper(reference,popper){var _this=this,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};classCallCheck(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(_this.update)},this.update=debounce$1(this.update.bind(this)),this.options=_extends$2({},Popper.Defaults,options),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=reference&&reference.jquery?reference[0]:reference,this.popper=popper&&popper.jquery?popper[0]:popper,this.options.modifiers={},Object.keys(_extends$2({},Popper.Defaults.modifiers,options.modifiers)).forEach(function(name){_this.options.modifiers[name]=_extends$2({},Popper.Defaults.modifiers[name]||{},options.modifiers?options.modifiers[name]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(name){return _extends$2({name:name},_this.options.modifiers[name])}).sort(function(a,b){return a.order-b.order}),this.modifiers.forEach(function(modifierOptions){modifierOptions.enabled&&isFunction$1(modifierOptions.onLoad)&&modifierOptions.onLoad(_this.reference,_this.popper,_this.options,modifierOptions,_this.state)}),this.update();var eventsEnabled=this.options.eventsEnabled;eventsEnabled&&this.enableEventListeners(),this.state.eventsEnabled=eventsEnabled}return createClass(Popper,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};data.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),data.placement=computeAutoPlacement(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),data.originalPlacement=data.placement,data.positionFixed=this.options.positionFixed,data.offsets.popper=getPopperOffsets(this.popper,data.offsets.reference,data.placement),data.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",data=runModifiers(this.modifiers,data),this.state.isCreated?this.options.onUpdate(data):(this.state.isCreated=!0,this.options.onCreate(data))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return disableEventListeners.call(this)}}]),Popper}();Popper.Utils=("undefined"!=typeof window?window:global).PopperUtils,Popper.placements=placements,Popper.Defaults=Defaults;var idCounter=1,mouseMoveListeners=[];function createTippy(reference,collectionProps){var lastTriggerEventType,showTimeout,hideTimeout,scheduleHideAnimationFrame,props=evaluateProps(reference,collectionProps);if(!props.multiple&&reference._tippy)return null;var currentMountCallback,currentTransitionEndListener,isBeingDestroyed=!1,hasMountCallbackRun=!1,didHideDueToDocumentMouseDown=!1,listeners=[],debouncedOnMouseMove=debounce(onMouseMove,props.interactiveDebounce),id=idCounter++,popper=createPopperElement(id,props),popperChildren=getChildren(popper),tooltip=popperChildren.tooltip,content=popperChildren.content,state={currentPlacement:props.placement,isScheduledToShow:!1,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},instance={id:id,reference:reference,popper:popper,popperChildren:popperChildren,popperInstance:null,props:props,state:state,clearDelayTimeouts:function(){clearTimeout(showTimeout),clearTimeout(hideTimeout),cancelAnimationFrame(scheduleHideAnimationFrame)},setProps:function(_ref2){var partialProps=_extends$1({},_ref2);if(instance.state.isDestroyed)return;removeTriggersFromEventListenersTarget();var prevProps=instance.props,nextProps=evaluateProps(reference,_extends$1({},instance.props,{},partialProps,{ignoreAttributes:!0}));nextProps.ignoreAttributes=hasOwnProperty$1(partialProps,"ignoreAttributes")?partialProps.ignoreAttributes||!1:prevProps.ignoreAttributes,instance.props=nextProps,addTriggersToEventListenersTarget(),cleanupInteractiveMouseListeners(),debouncedOnMouseMove=debounce(onMouseMove,nextProps.interactiveDebounce),updatePopperElement(popper,prevProps,nextProps,instance.state.isVisible),instance.popperChildren=getChildren(popper),instance.popperInstance&&(POPPER_INSTANCE_DEPENDENCIES.some(function(prop){return hasOwnProperty$1(partialProps,prop)&&partialProps[prop]!==prevProps[prop]})?(instance.popperInstance.destroy(),createPopperInstance(),instance.state.isVisible&&instance.popperInstance.enableEventListeners()):instance.popperInstance.update())},setContent:function(content){instance.setProps({content:content})},show:function(duration,shouldPreventPopperTransition){void 0===duration&&(duration=getValueAtIndexOrReturn(instance.props.duration,0,defaultProps.duration));void 0===shouldPreventPopperTransition&&(shouldPreventPopperTransition=!0);var isAlreadyVisible=instance.state.isVisible,isDestroyed=instance.state.isDestroyed,isDisabled=!instance.state.isEnabled,isTouchAndTouchDisabled=currentInput.isTouch&&!instance.props.touch;if(isAlreadyVisible||isDestroyed||isDisabled||isTouchAndTouchDisabled)return;if(getEventListenersTarget().hasAttribute("disabled"))return;if(!1===instance.props.onShow(instance))return;addDocumentMouseDownListener(),popper.style.visibility="visible",instance.state.isVisible=!0;var transitionableElements=getTransitionableElements();setTransitionDuration(shouldPreventPopperTransition?transitionableElements.concat(popper):transitionableElements,0),currentMountCallback=function(){instance.state.isVisible&&(instance.popperInstance.update(),instance.props.onMount(instance),instance.state.isMounted=!0,content.style.transitionDelay=instance.popperChildren.backdrop?Math.round(duration/12)+"ms":"",instance.props.sticky&&function(){setTransitionDuration([popper],isIE?0:instance.props.updateDuration);var prevRefRect=reference.getBoundingClientRect();!function updatePosition(){var currentRefRect=reference.getBoundingClientRect();prevRefRect.top===currentRefRect.top&&prevRefRect.right===currentRefRect.right&&prevRefRect.bottom===currentRefRect.bottom&&prevRefRect.left===currentRefRect.left||instance.popperInstance.scheduleUpdate();prevRefRect=currentRefRect;instance.state.isMounted&&requestAnimationFrame(updatePosition)}()}(),setTransitionDuration([popper],instance.props.updateDuration),setTransitionDuration(transitionableElements,duration),setVisibilityState(transitionableElements,"visible"),function(duration,callback){onTransitionEnd(duration,callback)}(duration,function(){if(instance.props.aria){var node=getEventListenersTarget(),attrName="aria-"+instance.props.aria,currentAttrValue=node.getAttribute(attrName),nextAttrValue=currentAttrValue?currentAttrValue+" "+tooltip.id:tooltip.id;node.setAttribute(attrName,nextAttrValue)}instance.props.onShown(instance),instance.state.isShown=!0}))},function(){hasMountCallbackRun=!1;var appendTo=instance.props.appendTo,parentNode="parent"===appendTo?reference.parentNode:invokeWithArgsOrReturn(appendTo,[reference]);parentNode.contains(popper)||parentNode.appendChild(popper);instance.popperInstance?(setFlipModifierEnabled(instance.popperInstance.modifiers,instance.props.flip),instance.popperInstance.enableEventListeners(),instance.popperInstance.scheduleUpdate()):(createPopperInstance(),instance.popperInstance.enableEventListeners())}()},hide:function(duration){void 0===duration&&(duration=getValueAtIndexOrReturn(instance.props.duration,1,defaultProps.duration));var isAlreadyHidden=!instance.state.isVisible&&!isBeingDestroyed,isDestroyed=instance.state.isDestroyed,isDisabled=!instance.state.isEnabled&&!isBeingDestroyed;if(isAlreadyHidden||isDestroyed||isDisabled)return;if(!1===instance.props.onHide(instance)&&!isBeingDestroyed)return;removeDocumentMouseDownListener(),popper.style.visibility="hidden",instance.state.isVisible=!1,instance.state.isShown=!1;var transitionableElements=getTransitionableElements();setTransitionDuration(transitionableElements,duration),setVisibilityState(transitionableElements,"hidden"),function(duration,callback){onTransitionEnd(duration,function(){!instance.state.isVisible&&popper.parentNode&&popper.parentNode.contains(popper)&&callback()})}(duration,function(){if(instance.props.aria){var node=getEventListenersTarget(),attrName="aria-"+instance.props.aria,currentAttrValue=node.getAttribute(attrName),nextAttrValue=currentAttrValue?currentAttrValue.replace(tooltip.id,"").trim():null;nextAttrValue?node.setAttribute(attrName,nextAttrValue):node.removeAttribute(attrName)}instance.popperInstance.disableEventListeners(),instance.popperInstance.options.placement=instance.props.placement,popper.parentNode.removeChild(popper),instance.props.onHidden(instance),instance.state.isMounted=!1})},enable:function(){instance.state.isEnabled=!0},disable:function(){instance.hide(),instance.state.isEnabled=!1},destroy:function(){if(instance.state.isDestroyed)return;isBeingDestroyed=!0,instance.hide(0),removeTriggersFromEventListenersTarget(),delete reference._tippy,instance.popperInstance&&instance.popperInstance.destroy();isBeingDestroyed=!1,instance.state.isDestroyed=!0}};return reference._tippy=instance,popper._tippy=instance,addTriggersToEventListenersTarget(),props.lazy||createPopperInstance(),props.showOnCreate&&scheduleShow(),popper.addEventListener("mouseenter",function(){instance.props.interactive&&instance.state.isVisible&&"mouseenter"===lastTriggerEventType&&instance.clearDelayTimeouts()}),popper.addEventListener("mouseleave",function(){instance.props.interactive&&"mouseenter"===lastTriggerEventType&&document.addEventListener("mousemove",debouncedOnMouseMove)}),props.onCreate(instance),instance;function getNormalizedTouchSettings(){var touch=instance.props.touch;return Array.isArray(touch)?touch:[touch,0]}function getIsCustomTouchBehavior(){return"hold"===getNormalizedTouchSettings()[0]}function getTransitionableElements(){return[tooltip,content,instance.popperChildren.backdrop]}function getEventListenersTarget(){return instance.props.triggerTarget||reference}function cleanupInteractiveMouseListeners(){document.body.removeEventListener("mouseleave",scheduleHide),document.removeEventListener("mousemove",debouncedOnMouseMove),mouseMoveListeners=mouseMoveListeners.filter(function(listener){return listener!==debouncedOnMouseMove})}function onDocumentMouseDown(event){if(!instance.props.interactive||!popper.contains(event.target)){if(getEventListenersTarget().contains(event.target)){if(currentInput.isTouch)return;if(instance.state.isVisible&&includes(instance.props.trigger,"click"))return}!0===instance.props.hideOnClick&&(instance.clearDelayTimeouts(),instance.hide(),didHideDueToDocumentMouseDown=!0,setTimeout(function(){didHideDueToDocumentMouseDown=!1}),instance.state.isMounted||removeDocumentMouseDownListener())}}function addDocumentMouseDownListener(){document.addEventListener("mousedown",onDocumentMouseDown,!0)}function removeDocumentMouseDownListener(){document.removeEventListener("mousedown",onDocumentMouseDown,!0)}function onTransitionEnd(duration,callback){function listener(event){event.target===tooltip&&(updateTransitionEndListener(tooltip,"remove",listener),callback())}if(0===duration)return callback();updateTransitionEndListener(tooltip,"remove",currentTransitionEndListener),updateTransitionEndListener(tooltip,"add",listener),currentTransitionEndListener=listener}function on(eventType,handler,options){void 0===options&&(options=!1),getEventListenersTarget().addEventListener(eventType,handler,options),listeners.push({eventType:eventType,handler:handler,options:options})}function addTriggersToEventListenersTarget(){getIsCustomTouchBehavior()&&(on("touchstart",onTrigger,PASSIVE),on("touchend",onMouseLeave,PASSIVE)),includes(instance.props.trigger,"click")||on("click",function(){currentInput.isTouch||!0!==instance.props.hideOnClick||instance.hide()}),instance.props.trigger.trim().split(" ").forEach(function(eventType){if("manual"!==eventType)switch(on(eventType,onTrigger),eventType){case"mouseenter":on("mouseleave",onMouseLeave);break;case"focus":on(isIE?"focusout":"blur",onBlur)}})}function removeTriggersFromEventListenersTarget(){listeners.forEach(function(_ref){var eventType=_ref.eventType,handler=_ref.handler,options=_ref.options;getEventListenersTarget().removeEventListener(eventType,handler,options)}),listeners=[]}function onTrigger(event){if(!didHideDueToDocumentMouseDown&&instance.state.isEnabled&&!isEventListenerStopped(event))if(instance.state.isVisible||(lastTriggerEventType=event.type,event instanceof MouseEvent&&mouseMoveListeners.forEach(function(listener){return listener(event)})),"click"===event.type&&!1!==instance.props.hideOnClick&&instance.state.isVisible)scheduleHide(event);else{var _getNormalizedTouchSe=getNormalizedTouchSettings(),value=_getNormalizedTouchSe[0],duration=_getNormalizedTouchSe[1];currentInput.isTouch&&"hold"===value&&duration?showTimeout=setTimeout(function(){scheduleShow(event)},duration):scheduleShow(event)}}function onMouseMove(event){(function(element,callback){for(;element;){if(callback(element))return element;element=element.parentElement}return null})(event.target,function(el){return el===reference||el===popper})||function(popperPlacement,popperRect,event,props){if(!popperPlacement)return!0;var x=event.clientX,y=event.clientY,interactiveBorder=props.interactiveBorder,distance=props.distance,exceedsTop=popperRect.top-y>("top"===popperPlacement?interactiveBorder+distance:interactiveBorder),exceedsBottom=y-popperRect.bottom>("bottom"===popperPlacement?interactiveBorder+distance:interactiveBorder),exceedsLeft=popperRect.left-x>("left"===popperPlacement?interactiveBorder+distance:interactiveBorder),exceedsRight=x-popperRect.right>("right"===popperPlacement?interactiveBorder+distance:interactiveBorder);return exceedsTop||exceedsBottom||exceedsLeft||exceedsRight}(getBasePlacement(instance.state.currentPlacement),popper.getBoundingClientRect(),event,instance.props)&&(cleanupInteractiveMouseListeners(),scheduleHide(event))}function onMouseLeave(event){if(!isEventListenerStopped(event))return instance.props.interactive?(document.body.addEventListener("mouseleave",scheduleHide),document.addEventListener("mousemove",debouncedOnMouseMove),void mouseMoveListeners.push(debouncedOnMouseMove)):void scheduleHide(event)}function onBlur(event){event.target===getEventListenersTarget()&&(instance.props.interactive&&event.relatedTarget&&popper.contains(event.relatedTarget)||scheduleHide(event))}function isEventListenerStopped(event){var supportsTouch="ontouchstart"in window,isTouchEvent=includes(event.type,"touch"),isCustomTouch=getIsCustomTouchBehavior();return supportsTouch&&currentInput.isTouch&&isCustomTouch&&!isTouchEvent||currentInput.isTouch&&!isCustomTouch&&isTouchEvent}function createPopperInstance(){var popperOptions=instance.props.popperOptions,arrow=instance.popperChildren.arrow,preventOverflowModifier=getModifier(popperOptions,"preventOverflow");function applyMutations(data){instance.state.currentPlacement=data.placement,instance.props.flip&&!instance.props.flipOnUpdate&&(data.flipped&&(instance.popperInstance.options.placement=data.placement),setFlipModifierEnabled(instance.popperInstance.modifiers,!1)),tooltip.setAttribute("data-placement",data.placement),!1!==data.attributes["x-out-of-boundaries"]?tooltip.setAttribute("data-out-of-boundaries",""):tooltip.removeAttribute("data-out-of-boundaries");var basePlacement=getBasePlacement(data.placement),isVerticalPlacement=includes(["top","bottom"],basePlacement),isSecondaryPlacement=includes(["bottom","right"],basePlacement),tooltipStyles=tooltip.style;tooltipStyles.top="0",tooltipStyles.left="0",tooltipStyles[isVerticalPlacement?"top":"left"]=(isSecondaryPlacement?1:-1)*instance.props.distance+"px"}var config=_extends$1({eventsEnabled:!1,placement:instance.props.placement},popperOptions,{modifiers:_extends$1({},popperOptions&&popperOptions.modifiers,{preventOverflow:_extends$1({boundariesElement:instance.props.boundary,padding:PREVENT_OVERFLOW_PADDING},preventOverflowModifier),tippySetPreventOverflowPadding:{enabled:!0,order:299,fn:function(data){var basePlacement=getBasePlacement(data.placement),padding=preventOverflowModifier&&void 0!==preventOverflowModifier.padding?preventOverflowModifier.padding:PREVENT_OVERFLOW_PADDING,isPaddingNumber="number"==typeof padding,paddingObject={top:0,bottom:0,left:0,right:0},computedPadding=Object.keys(paddingObject).reduce(function(obj,key){return obj[key]=isPaddingNumber?padding:padding[key],basePlacement===key&&(obj[key]=isPaddingNumber?padding+instance.props.distance:(padding[basePlacement]||0)+instance.props.distance),obj},paddingObject);return instance.popperInstance.modifiers.filter(function(m){return"preventOverflow"===m.name})[0].padding=computedPadding,data}},arrow:_extends$1({element:arrow,enabled:!!arrow},getModifier(popperOptions,"arrow")),flip:_extends$1({enabled:instance.props.flip,padding:instance.props.distance+PREVENT_OVERFLOW_PADDING,behavior:instance.props.flipBehavior},getModifier(popperOptions,"flip")),offset:_extends$1({offset:instance.props.offset},getModifier(popperOptions,"offset"))}),onCreate:function(data){applyMutations(data),preserveInvocation(popperOptions&&popperOptions.onCreate,config.onCreate,[data]),runMountCallback()},onUpdate:function(data){applyMutations(data),preserveInvocation(popperOptions&&popperOptions.onUpdate,config.onUpdate,[data]),runMountCallback()}});instance.popperInstance=new Popper(reference,popper,config)}function runMountCallback(){!hasMountCallbackRun&&currentMountCallback&&(hasMountCallbackRun=!0,function(popper){popper.offsetHeight}(popper),currentMountCallback())}function scheduleShow(event){instance.clearDelayTimeouts(),instance.state.isScheduledToShow=!0,instance.popperInstance||createPopperInstance(),event&&instance.props.onTrigger(instance,event),addDocumentMouseDownListener();var delay=getValueAtIndexOrReturn(instance.props.delay,0,defaultProps.delay);delay?showTimeout=setTimeout(function(){instance.show()},delay):instance.show()}function scheduleHide(event){if(instance.clearDelayTimeouts(),instance.props.onUntrigger(instance,event),instance.state.isVisible){instance.state.isScheduledToShow=!1;var delay=getValueAtIndexOrReturn(instance.props.delay,1,defaultProps.delay);delay?hideTimeout=setTimeout(function(){instance.state.isVisible&&instance.hide()},delay):scheduleHideAnimationFrame=requestAnimationFrame(function(){instance.hide()})}else removeDocumentMouseDownListener()}}function tippy(targets,optionalProps){document.addEventListener("touchstart",onDocumentTouchStart,_extends$1({},PASSIVE,{capture:!0})),window.addEventListener("blur",onWindowBlur);var value,props=_extends$1({},defaultProps,{},optionalProps),instances=(isRealElement(value=targets)?[value]:value instanceof NodeList?arrayFrom(value):Array.isArray(value)?value:arrayFrom(document.querySelectorAll(value))).reduce(function(acc,reference){var instance=reference&&createTippy(reference,props);return instance&&acc.push(instance),acc},[]);return isRealElement(targets)?instances[0]:instances}tippy.version="5.0.0-beta.1",tippy.defaultProps=defaultProps,tippy.currentInput=currentInput,tippy.setDefaultProps=function(partialProps){Object.keys(partialProps).forEach(function(key){defaultProps[key]=partialProps[key]})},tippy.hideAll=function(_temp){var _ref=void 0===_temp?{}:_temp,excludedReferenceOrInstance=_ref.exclude,duration=_ref.duration;arrayFrom(document.querySelectorAll(POPPER_SELECTOR)).forEach(function(popper){var value,instance=popper._tippy;if(instance){var isExcluded=!1;excludedReferenceOrInstance&&(isExcluded=(value=excludedReferenceOrInstance)&&value._tippy&&!value.classList.contains(POPPER_CLASS)?instance.reference===excludedReferenceOrInstance:popper===excludedReferenceOrInstance.popper),isExcluded||instance.hide(duration)}})},isBrowser&&setTimeout(function(){arrayFrom(document.querySelectorAll("[data-tippy]")).forEach(function(el){var content=el.getAttribute("data-tippy");content&&tippy(el,{content:content})})});function normalizePrefix(prefix){return isString(prefix)&&""!==prefix?"-"!==prefix.charAt(prefix.length-1)?prefix+"-":prefix:""}function parseAttachTo(step){var options=step.options.attachTo||{},returnOpts=_extends({},options);if(isString(options.element)){try{returnOpts.element=document.querySelector(options.element)}catch(e){}returnOpts.element||console.error("The element for this Shepherd step was not found "+options.element)}return returnOpts}function setupTooltip(step){if(isUndefined(tippy))throw new Error("Using the attachment feature of Shepherd requires the Tippy.js library");step.tooltip&&step.tooltip.destroy();var attachToOpts=parseAttachTo(step);step.tooltip=function(attachToOptions,step){var tippyOptions={},element=document.body;attachToOptions.element&&attachToOptions.on?(tippyOptions=function(attachToOptions,step){var _makeCommonTippyOptio=_makeCommonTippyOptions(step),popperOptions=_makeCommonTippyOptio.popperOptions,tippyOptions=_makeCommonTippyOptio.tippyOptions;tippyOptions.flipOnUpdate=!0,tippyOptions.placement=attachToOptions.on||"right";var stepPopperOptions=getValue(step,"options.tippyOptions.popperOptions");return stepPopperOptions&&(popperOptions=_extends({},popperOptions,{},stepPopperOptions,{modifiers:_extends({},popperOptions.modifiers,{},stepPopperOptions.modifiers)})),tippyOptions.popperOptions=popperOptions,tippyOptions}(attachToOptions,step),element=attachToOptions.element):tippyOptions=makeCenteredTippy(step);return tippy(element,tippyOptions)}(attachToOpts,step),step.target=attachToOpts.element}isBrowser&&function(css){var style=document.createElement("style");style.textContent=css,style.setAttribute("data-tippy-stylesheet","");var head=document.head,firstStyleOrLinkTag=head.querySelector("style,link");firstStyleOrLinkTag?head.insertBefore(style,firstStyleOrLinkTag):head.appendChild(style)}(".tippy-tooltip[data-animation=fade][data-state=hidden]{opacity:0}.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{pointer-events:none;max-width:calc(100% - 10px);transition-timing-function:cubic-bezier(.165,.84,.44,1)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;line-height:1.4;background-color:#333;overflow:hidden;transition-property:visibility,opacity,transform;outline:0}.tippy-tooltip[data-placement^=top] .tippy-arrow{border-width:8px 8px 0;border-top-color:#333;margin:0 3px;transform-origin:50% 0;bottom:-7px}.tippy-tooltip[data-placement^=bottom] .tippy-arrow{border-width:0 8px 8px;border-bottom-color:#333;margin:0 3px;transform-origin:50% 7px;top:-7px}.tippy-tooltip[data-placement^=left] .tippy-arrow{border-width:8px 0 8px 8px;border-left-color:#333;margin:3px 0;transform-origin:0 50%;right:-7px}.tippy-tooltip[data-placement^=right] .tippy-arrow{border-width:8px 8px 8px 0;border-right-color:#333;margin:3px 0;transform-origin:7px 50%;left:-7px}.tippy-tooltip[data-arrow]{overflow:visible}.tippy-tooltip[data-animatefill]{background-color:transparent!important}.tippy-tooltip[data-interactive]{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow{border-color:transparent;border-style:solid;position:absolute}.tippy-arrow[data-state=hidden]{opacity:0}.tippy-content{padding:.3125rem .5625rem}");var ShepherdButton=function(_Component){function ShepherdButton(){return _Component.apply(this,arguments)||this}return _inheritsLoose(ShepherdButton,_Component),ShepherdButton.prototype.render=function(props){var classPrefix=props.classPrefix,config=props.config,step=props.step,styles=props.styles,action=config.action,classes=config.classes,secondary=config.secondary,text=config.text;return preact.h("button",{className:(classes||"")+styles.button+(secondary?" "+classPrefix+"shepherd-button-secondary":""),onClick:action?action.bind(step.tour):null,tabindex:"0"},text)},ShepherdButton}(preact.Component),ShepherdFooter=function(_Component){function ShepherdFooter(){return _Component.apply(this,arguments)||this}_inheritsLoose(ShepherdFooter,_Component);var _proto=ShepherdFooter.prototype;return _proto.render=function(props){var classPrefix=props.classPrefix,step=props.step,styles=props.styles,buttons=step.options.buttons;return preact.h("footer",{className:styles.footer.trim()},this._addButtons(buttons,classPrefix,step,styles))},_proto._addButtons=function(buttons,classPrefix,step,styles){return buttons?buttons.map(function(config){return preact.h(ShepherdButton,{classPrefix:classPrefix,config:config,key:config.toString(),step:step,styles:styles})}):null},ShepherdFooter}(preact.Component),ShepherdHeader=function(_Component){function ShepherdHeader(props){var _this;return(_this=_Component.call(this,props)||this).step=props.step,_this.handleCancelClick=_this.handleCancelClick.bind(_assertThisInitialized(_this)),_this}_inheritsLoose(ShepherdHeader,_Component);var _proto=ShepherdHeader.prototype;return _proto.render=function(props){var labelId=props.labelId,step=props.step,styles=props.styles,_step$options=step.options,cancelIcon=_step$options.cancelIcon,title=_step$options.title;return preact.h("header",{className:styles.header.trim()},this.constructor._addTitle(labelId,styles,title),this._addCancelLink(cancelIcon,styles))},_proto.handleCancelClick=function(e){e.preventDefault(),this.step.cancel()},ShepherdHeader._addTitle=function(labelId,styles,title){return title?preact.h("h3",{id:labelId,className:styles.title.trim()},title):null},_proto._addCancelLink=function(cancelIcon,styles){return cancelIcon&&cancelIcon.enabled?preact.h("button",{"aria-label":cancelIcon.label?cancelIcon.label:"Close Tour",className:styles["cancel-icon"].trim(),onClick:this.handleCancelClick,type:"button"},preact.h("span",{"aria-hidden":"true"},"")):null},ShepherdHeader}(preact.Component),ShepherdText=function(_Component){function ShepherdText(){return _Component.apply(this,arguments)||this}_inheritsLoose(ShepherdText,_Component);var _proto=ShepherdText.prototype;return _proto.shouldComponentUpdate=function(){return!1},_proto.componentDidMount=function(){var step=this.props.step,text=step.options.text;isFunction(text)&&(text=text.call(step)),isElement(text)&&this.base.appendChild(text)},_proto.render=function(props){var descriptionId=props.descriptionId,step=props.step,styles=props.styles,text=step.options.text;return isFunction(text)&&(text=text.call(step)),preact.h("div",{className:styles.text.trim(),dangerouslySetInnerHTML:{__html:isElement(text)?null:text},id:descriptionId})},ShepherdText}(preact.Component),ShepherdContent=function(_Component){function ShepherdContent(){return _Component.apply(this,arguments)||this}return _inheritsLoose(ShepherdContent,_Component),ShepherdContent.prototype.render=function(props){var classPrefix=props.classPrefix,descriptionId=props.descriptionId,labelId=props.labelId,step=props.step,styles=props.styles;return preact.h("div",{className:styles.content.trim()},preact.h(ShepherdHeader,{labelId:labelId,step:step,styles:styles}),ShepherdContent._addShepherdText(descriptionId,step,styles),ShepherdContent._addShepherdFooter(classPrefix,step,styles))},ShepherdContent._addShepherdText=function(descriptionId,step,styles){return isUndefined(step.options.text)?null:preact.h(ShepherdText,{descriptionId:descriptionId,step:step,styles:styles})},ShepherdContent._addShepherdFooter=function(classPrefix,step,styles){return Array.isArray(step.options.buttons)&&step.options.buttons.length?preact.h(ShepherdFooter,{classPrefix:classPrefix,step:step,styles:styles}):null},ShepherdContent}(preact.Component),ShepherdElement=function(_Component){function ShepherdElement(props){var _this;return(_this=_Component.call(this,props)||this).step=props.step,_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this)),_this}_inheritsLoose(ShepherdElement,_Component);var _proto=ShepherdElement.prototype;return _proto.componentDidMount=function(){var focusableElements=this.element.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),firstFocusableElement=focusableElements[0],lastFocusableElement=focusableElements[focusableElements.length-1];this.focusableElements=focusableElements,this.firstFocusableElement=firstFocusableElement,this.lastFocusableElement=lastFocusableElement},_proto.render=function(props){var _dataStepId,_this2=this,classes=props.classes,classPrefix=props.classPrefix,descriptionId=props.descriptionId,labelId=props.labelId,step=props.step,styles=props.styles,dataStepId=((_dataStepId={})["data-"+classPrefix+"shepherd-step-id"]=step.id,_dataStepId);return preact.h("div",_extends({"aria-describedby":isUndefined(step.options.text)?null:descriptionId,"aria-labeledby":step.options.title?labelId:null,className:classes+styles.element},dataStepId,{onKeyDown:this.handleKeyDown,ref:function(c){return _this2.element=c},role:"dialog",tabindex:"0"}),preact.h(ShepherdContent,{classPrefix:classPrefix,descriptionId:descriptionId,labelId:labelId,step:step,styles:styles}))},_proto.handleKeyDown=function(e){var tour=this.step.tour;switch(e.keyCode){case 9:if(1===this.focusableElements.length){e.preventDefault();break}e.shiftKey?document.activeElement===this.firstFocusableElement&&(e.preventDefault(),this.lastFocusableElement.focus()):document.activeElement===this.lastFocusableElement&&(e.preventDefault(),this.firstFocusableElement.focus());break;case 27:tour.options.exitOnEsc&&this.step.cancel();break;case 37:tour.options.keyboardNavigation&&tour.back();break;case 39:tour.options.keyboardNavigation&&tour.next()}},ShepherdElement}(preact.Component);Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var smoothscroll=createCommonjsModule(function(module,exports){!function(){module.exports={polyfill:function(){var w=window,d=document;if(!("scrollBehavior"in d.documentElement.style&&!0!==w.__forceSmoothScrollPolyfill__)){var userAgent,Element=w.HTMLElement||w.Element,SCROLL_TIME=468,original={scroll:w.scroll||w.scrollTo,scrollBy:w.scrollBy,elementScroll:Element.prototype.scroll||scrollElement,scrollIntoView:Element.prototype.scrollIntoView},now=w.performance&&w.performance.now?w.performance.now.bind(w.performance):Date.now,ROUNDING_TOLERANCE=(userAgent=w.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(userAgent)?1:0);w.scroll=w.scrollTo=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?smoothScroll.call(w,d.body,void 0!==arguments[0].left?~~arguments[0].left:w.scrollX||w.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:w.scrollY||w.pageYOffset):original.scroll.call(w,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:w.scrollX||w.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:w.scrollY||w.pageYOffset))},w.scrollBy=function(){void 0!==arguments[0]&&(shouldBailOut(arguments[0])?original.scrollBy.call(w,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):smoothScroll.call(w,d.body,~~arguments[0].left+(w.scrollX||w.pageXOffset),~~arguments[0].top+(w.scrollY||w.pageYOffset)))},Element.prototype.scroll=Element.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==shouldBailOut(arguments[0])){var left=arguments[0].left,top=arguments[0].top;smoothScroll.call(this,this,void 0===left?this.scrollLeft:~~left,void 0===top?this.scrollTop:~~top)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");original.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},Element.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):original.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},Element.prototype.scrollIntoView=function(){if(!0!==shouldBailOut(arguments[0])){var scrollableParent=function(el){for(;el!==d.body&&!1===isScrollable(el);)el=el.parentNode||el.host;return el}(this),parentRects=scrollableParent.getBoundingClientRect(),clientRects=this.getBoundingClientRect();scrollableParent!==d.body?(smoothScroll.call(this,scrollableParent,scrollableParent.scrollLeft+clientRects.left-parentRects.left,scrollableParent.scrollTop+clientRects.top-parentRects.top),"fixed"!==w.getComputedStyle(scrollableParent).position&&w.scrollBy({left:parentRects.left,top:parentRects.top,behavior:"smooth"})):w.scrollBy({left:clientRects.left,top:clientRects.top,behavior:"smooth"})}else original.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function scrollElement(x,y){this.scrollLeft=x,this.scrollTop=y}function shouldBailOut(firstArg){if(null===firstArg||"object"!=typeof firstArg||void 0===firstArg.behavior||"auto"===firstArg.behavior||"instant"===firstArg.behavior)return!0;if("object"==typeof firstArg&&"smooth"===firstArg.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+firstArg.behavior+" is not a valid value for enumeration ScrollBehavior.")}function hasScrollableSpace(el,axis){return"Y"===axis?el.clientHeight+ROUNDING_TOLERANCE<el.scrollHeight:"X"===axis?el.clientWidth+ROUNDING_TOLERANCE<el.scrollWidth:void 0}function canOverflow(el,axis){var overflowValue=w.getComputedStyle(el,null)["overflow"+axis];return"auto"===overflowValue||"scroll"===overflowValue}function isScrollable(el){var isScrollableY=hasScrollableSpace(el,"Y")&&canOverflow(el,"Y"),isScrollableX=hasScrollableSpace(el,"X")&&canOverflow(el,"X");return isScrollableY||isScrollableX}function step(context){var value,currentX,currentY,k,elapsed=(now()-context.startTime)/SCROLL_TIME;k=elapsed=elapsed>1?1:elapsed,value=.5*(1-Math.cos(Math.PI*k)),currentX=context.startX+(context.x-context.startX)*value,currentY=context.startY+(context.y-context.startY)*value,context.method.call(context.scrollable,currentX,currentY),currentX===context.x&&currentY===context.y||w.requestAnimationFrame(step.bind(w,context))}function smoothScroll(el,x,y){var scrollable,startX,startY,method,startTime=now();el===d.body?(scrollable=w,startX=w.scrollX||w.pageXOffset,startY=w.scrollY||w.pageYOffset,method=original.scroll):(scrollable=el,startX=el.scrollLeft,startY=el.scrollTop,method=scrollElement),step({scrollable:scrollable,method:method,startTime:startTime,startX:startX,startY:startY,x:x,y:y})}}}}()});smoothscroll.polyfill;smoothscroll.polyfill();var id,x,render$1=preact.render,uniqueId=(id=0,function(){return++id}),Step=function(_Evented){function Step(tour,options){var _this;return void 0===options&&(options={}),(_this=_Evented.call(this,tour,options)||this).tour=tour,_this.classPrefix=_this.tour.options?normalizePrefix(_this.tour.options.classPrefix):"",_this.styles=tour.styles,autoBind(_assertThisInitialized(_this)),_this._setOptions(options),_assertThisInitialized(_this)||_assertThisInitialized(_this)}_inheritsLoose(Step,_Evented);var _proto=Step.prototype;return _proto.cancel=function(){this.tour.cancel(),this.trigger("cancel")},_proto.complete=function(){this.tour.complete(),this.trigger("complete")},_proto.destroy=function(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),isElement(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=null),this.target&&this._updateStepTargetOnHide(),this.trigger("destroy")},_proto.getTour=function(){return this.tour},_proto.hide=function(){this.tour.modal.hide(),this.trigger("before-hide"),document.body.removeAttribute("data-"+this.classPrefix+"shepherd-step"),this.target&&this._updateStepTargetOnHide(),this.tooltip&&this.tooltip.hide(),this.trigger("hide")},_proto.isOpen=function(){return Boolean(this.tooltip&&this.tooltip.state&&this.tooltip.state.isVisible)},_proto.show=function(){var _this2=this;if(isFunction(this.options.beforeShowPromise)){var beforeShowPromise=this.options.beforeShowPromise();if(!isUndefined(beforeShowPromise))return beforeShowPromise.then(function(){return _this2._show()})}this._show()},_proto._createTooltipContent=function(){var cancelIconEnabled=getValue(this,"options.cancelIcon.enabled"),classes=this.options.classes||"",descriptionId=this.id+"-description",labelId=this.id+"-label";return cancelIconEnabled&&(classes+=" "+this.classPrefix+"shepherd-has-cancel-icon"),render$1(preact.h(ShepherdElement,{classPrefix:this.classPrefix,classes:classes,descriptionId:descriptionId,labelId:labelId,step:this,styles:this.styles}),null)},_proto._scrollTo=function(scrollToOptions){var element=parseAttachTo(this).element;isFunction(this.options.scrollToHandler)?this.options.scrollToHandler(element):isElement(element)&&element.scrollIntoView(scrollToOptions)},_proto._setOptions=function(options){var _this3=this;void 0===options&&(options={}),this.options=options;var when=this.options.when;this.destroy(),this.id=this.options.id||"step-"+uniqueId(),when&&Object.keys(when).forEach(function(event){_this3.on(event,when[event],_this3)})},_proto._setupElements=function(){isUndefined(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&bindAdvance(this),setupTooltip(this)},_proto._show=function(){var _this4=this;this.trigger("before-show"),this.el||this._setupElements(),this.tour.modal.setupForStep(this),this._styleTargetElementForStep(this),(this.target||document.body).classList.add(this.classPrefix+"shepherd-enabled",this.classPrefix+"shepherd-target"),document.body.setAttribute("data-"+this.classPrefix+"shepherd-step",this.id),this.options.scrollTo&&setTimeout(function(){_this4._scrollTo(_this4.options.scrollTo)}),this.tooltip.show(),this.trigger("show"),this.el.focus()},_proto._styleTargetElementForStep=function(step){var currentElement,classPrefix,shepherdModalTarget,targetElement=step.target;targetElement&&(currentElement=targetElement,classPrefix=step.classPrefix,(shepherdModalTarget=document.querySelector("."+classPrefix+"shepherd-modal-target"))&&shepherdModalTarget.classList.remove(classPrefix+"shepherd-modal-target"),currentElement.classList.add(classPrefix+"shepherd-modal-target"),step.options.highlightClass&&targetElement.classList.add(step.options.highlightClass),!1===step.options.canClickTarget&&(targetElement.style.pointerEvents="none"))},_proto._updateStepTargetOnHide=function(){this.options.highlightClass&&this.target.classList.remove(this.options.highlightClass),this.target.classList.remove(this.classPrefix+"shepherd-enabled",this.classPrefix+"shepherd-target")},Step}(Evented),bodyScrollLock_min=createCommonjsModule(function(module,exports){!function(exports){function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0});var l=!1;if("undefined"!=typeof window){var e={get passive(){l=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}var d="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),c=[],u=!1,a=-1,s=void 0,v=void 0,f=function(t){return c.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})},m=function(e){var t=e||window.event;return!!f(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},o=function(){setTimeout(function(){void 0!==v&&(document.body.style.paddingRight=v,v=void 0),void 0!==s&&(document.body.style.overflow=s,s=void 0)})};exports.disableBodyScroll=function(i,e){if(d){if(!i)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(i&&!c.some(function(e){return e.targetElement===i})){var t={targetElement:i,options:e||{}};c=[].concat(r(c),[t]),i.ontouchstart=function(e){1===e.targetTouches.length&&(a=e.targetTouches[0].clientY)},i.ontouchmove=function(e){var t,o,n,r;1===e.targetTouches.length&&(o=i,r=(t=e).targetTouches[0].clientY-a,!f(t.target)&&(o&&0===o.scrollTop&&0<r?m(t):(n=o)&&n.scrollHeight-n.scrollTop<=n.clientHeight&&r<0?m(t):t.stopPropagation()))},u||(document.addEventListener("touchmove",m,l?{passive:!1}:void 0),u=!0)}}else{n=e,setTimeout(function(){if(void 0===v){var e=!!n&&!0===n.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(v=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===s&&(s=document.body.style.overflow,document.body.style.overflow="hidden")});var o={targetElement:i,options:e||{}};c=[].concat(r(c),[o])}var n},exports.clearAllBodyScrollLocks=function(){d?(c.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),u&&(document.removeEventListener("touchmove",m,l?{passive:!1}:void 0),u=!1),c=[],a=-1):(o(),c=[])},exports.enableBodyScroll=function(t){if(d){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,c=c.filter(function(e){return e.targetElement!==t}),u&&0===c.length&&(document.removeEventListener("touchmove",m,l?{passive:!1}:void 0),u=!1)}else(c=c.filter(function(e){return e.targetElement!==t})).length||o()}}(exports)}),bodyScrollLock=(x=bodyScrollLock_min)&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x,defaults={trigger:"manual",arrow:!0,animation:"fade",duration:420,flip:!0,animateFill:!1,interactive:!0,hideOnClick:"toggle",multiple:!0};function _extends$3(){return(_extends$3=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _construct(Parent,args,Class){return(_construct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf("[native code]")))return Class;var fn;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}var PolishedError=function(_Error){var subClass,superClass;function PolishedError(code){return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(_Error.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#"+code+" for more information.")||this)}return superClass=_Error,(subClass=PolishedError).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,PolishedError}(_wrapNativeSuper(Error));function colorToInt(color){return Math.round(255*color)}function convertToInt(red,green,blue){return colorToInt(red)+","+colorToInt(green)+","+colorToInt(blue)}function hslToRgb(hue,saturation,lightness,convert){if(void 0===convert&&(convert=convertToInt),0===saturation)return convert(lightness,lightness,lightness);var huePrime=(hue%360+360)%360/60,chroma=(1-Math.abs(2*lightness-1))*saturation,secondComponent=chroma*(1-Math.abs(huePrime%2-1)),red=0,green=0,blue=0;huePrime>=0&&huePrime<1?(red=chroma,green=secondComponent):huePrime>=1&&huePrime<2?(red=secondComponent,green=chroma):huePrime>=2&&huePrime<3?(green=chroma,blue=secondComponent):huePrime>=3&&huePrime<4?(green=secondComponent,blue=chroma):huePrime>=4&&huePrime<5?(red=secondComponent,blue=chroma):huePrime>=5&&huePrime<6&&(red=chroma,blue=secondComponent);var lightnessModification=lightness-chroma/2;return convert(red+lightnessModification,green+lightnessModification,blue+lightnessModification)}var namedColorMap={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var hexRegex=/^#[a-fA-F0-9]{6}$/,hexRgbaRegex=/^#[a-fA-F0-9]{8}$/,reducedHexRegex=/^#[a-fA-F0-9]{3}$/,reducedRgbaHexRegex=/^#[a-fA-F0-9]{4}$/,rgbRegex=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,rgbaRegex=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,hslRegex=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,hslaRegex=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function parseToRgb(color){if("string"!=typeof color)throw new PolishedError(3);var normalizedColor=function(color){if("string"!=typeof color)return color;var normalizedColorName=color.toLowerCase();return namedColorMap[normalizedColorName]?"#"+namedColorMap[normalizedColorName]:color}(color);if(normalizedColor.match(hexRegex))return{red:parseInt(""+normalizedColor[1]+normalizedColor[2],16),green:parseInt(""+normalizedColor[3]+normalizedColor[4],16),blue:parseInt(""+normalizedColor[5]+normalizedColor[6],16)};if(normalizedColor.match(hexRgbaRegex)){var alpha=parseFloat((parseInt(""+normalizedColor[7]+normalizedColor[8],16)/255).toFixed(2));return{red:parseInt(""+normalizedColor[1]+normalizedColor[2],16),green:parseInt(""+normalizedColor[3]+normalizedColor[4],16),blue:parseInt(""+normalizedColor[5]+normalizedColor[6],16),alpha:alpha}}if(normalizedColor.match(reducedHexRegex))return{red:parseInt(""+normalizedColor[1]+normalizedColor[1],16),green:parseInt(""+normalizedColor[2]+normalizedColor[2],16),blue:parseInt(""+normalizedColor[3]+normalizedColor[3],16)};if(normalizedColor.match(reducedRgbaHexRegex)){var _alpha=parseFloat((parseInt(""+normalizedColor[4]+normalizedColor[4],16)/255).toFixed(2));return{red:parseInt(""+normalizedColor[1]+normalizedColor[1],16),green:parseInt(""+normalizedColor[2]+normalizedColor[2],16),blue:parseInt(""+normalizedColor[3]+normalizedColor[3],16),alpha:_alpha}}var rgbMatched=rgbRegex.exec(normalizedColor);if(rgbMatched)return{red:parseInt(""+rgbMatched[1],10),green:parseInt(""+rgbMatched[2],10),blue:parseInt(""+rgbMatched[3],10)};var rgbaMatched=rgbaRegex.exec(normalizedColor);if(rgbaMatched)return{red:parseInt(""+rgbaMatched[1],10),green:parseInt(""+rgbaMatched[2],10),blue:parseInt(""+rgbaMatched[3],10),alpha:parseFloat(""+rgbaMatched[4])};var hslMatched=hslRegex.exec(normalizedColor);if(hslMatched){var rgbColorString="rgb("+hslToRgb(parseInt(""+hslMatched[1],10),parseInt(""+hslMatched[2],10)/100,parseInt(""+hslMatched[3],10)/100)+")",hslRgbMatched=rgbRegex.exec(rgbColorString);if(!hslRgbMatched)throw new PolishedError(4,normalizedColor,rgbColorString);return{red:parseInt(""+hslRgbMatched[1],10),green:parseInt(""+hslRgbMatched[2],10),blue:parseInt(""+hslRgbMatched[3],10)}}var hslaMatched=hslaRegex.exec(normalizedColor);if(hslaMatched){var _rgbColorString="rgb("+hslToRgb(parseInt(""+hslaMatched[1],10),parseInt(""+hslaMatched[2],10)/100,parseInt(""+hslaMatched[3],10)/100)+")",_hslRgbMatched=rgbRegex.exec(_rgbColorString);if(!_hslRgbMatched)throw new PolishedError(4,normalizedColor,_rgbColorString);return{red:parseInt(""+_hslRgbMatched[1],10),green:parseInt(""+_hslRgbMatched[2],10),blue:parseInt(""+_hslRgbMatched[3],10),alpha:parseFloat(""+hslaMatched[4])}}throw new PolishedError(5)}function parseToHsl(color){return function(color){var hue,red=color.red/255,green=color.green/255,blue=color.blue/255,max=Math.max(red,green,blue),min=Math.min(red,green,blue),lightness=(max+min)/2;if(max===min)return void 0!==color.alpha?{hue:0,saturation:0,lightness:lightness,alpha:color.alpha}:{hue:0,saturation:0,lightness:lightness};var delta=max-min,saturation=lightness>.5?delta/(2-max-min):delta/(max+min);switch(max){case red:hue=(green-blue)/delta+(green<blue?6:0);break;case green:hue=(blue-red)/delta+2;break;default:hue=(red-green)/delta+4}return hue*=60,void 0!==color.alpha?{hue:hue,saturation:saturation,lightness:lightness,alpha:color.alpha}:{hue:hue,saturation:saturation,lightness:lightness}}(parseToRgb(color))}var reduceHexValue=function(value){return 7===value.length&&value[1]===value[2]&&value[3]===value[4]&&value[5]===value[6]?"#"+value[1]+value[3]+value[5]:value};function numberToHex(value){var hex=value.toString(16);return 1===hex.length?"0"+hex:hex}function colorToHex(color){return numberToHex(Math.round(255*color))}function convertToHex(red,green,blue){return reduceHexValue("#"+colorToHex(red)+colorToHex(green)+colorToHex(blue))}function hslToHex(hue,saturation,lightness){return hslToRgb(hue,saturation,lightness,convertToHex)}function rgb(value,green,blue){if("number"==typeof value&&"number"==typeof green&&"number"==typeof blue)return reduceHexValue("#"+numberToHex(value)+numberToHex(green)+numberToHex(blue));if("object"==typeof value&&void 0===green&&void 0===blue)return reduceHexValue("#"+numberToHex(value.red)+numberToHex(value.green)+numberToHex(value.blue));throw new PolishedError(6)}function rgba(firstValue,secondValue,thirdValue,fourthValue){if("string"==typeof firstValue&&"number"==typeof secondValue){var rgbValue=parseToRgb(firstValue);return"rgba("+rgbValue.red+","+rgbValue.green+","+rgbValue.blue+","+secondValue+")"}if("number"==typeof firstValue&&"number"==typeof secondValue&&"number"==typeof thirdValue&&"number"==typeof fourthValue)return fourthValue>=1?rgb(firstValue,secondValue,thirdValue):"rgba("+firstValue+","+secondValue+","+thirdValue+","+fourthValue+")";if("object"==typeof firstValue&&void 0===secondValue&&void 0===thirdValue&&void 0===fourthValue)return firstValue.alpha>=1?rgb(firstValue.red,firstValue.green,firstValue.blue):"rgba("+firstValue.red+","+firstValue.green+","+firstValue.blue+","+firstValue.alpha+")";throw new PolishedError(7)}var isRgb=function(color){return"number"==typeof color.red&&"number"==typeof color.green&&"number"==typeof color.blue&&("number"!=typeof color.alpha||void 0===color.alpha)},isRgba=function(color){return"number"==typeof color.red&&"number"==typeof color.green&&"number"==typeof color.blue&&"number"==typeof color.alpha},isHsl=function(color){return"number"==typeof color.hue&&"number"==typeof color.saturation&&"number"==typeof color.lightness&&("number"!=typeof color.alpha||void 0===color.alpha)},isHsla=function(color){return"number"==typeof color.hue&&"number"==typeof color.saturation&&"number"==typeof color.lightness&&"number"==typeof color.alpha};function toColorString(color){if("object"!=typeof color)throw new PolishedError(8);if(isRgba(color))return rgba(color);if(isRgb(color))return rgb(color);if(isHsla(color))return function(value,saturation,lightness,alpha){if("number"==typeof value&&"number"==typeof saturation&&"number"==typeof lightness&&"number"==typeof alpha)return alpha>=1?hslToHex(value,saturation,lightness):"rgba("+hslToRgb(value,saturation,lightness)+","+alpha+")";if("object"==typeof value&&void 0===saturation&&void 0===lightness&&void 0===alpha)return value.alpha>=1?hslToHex(value.hue,value.saturation,value.lightness):"rgba("+hslToRgb(value.hue,value.saturation,value.lightness)+","+value.alpha+")";throw new PolishedError(2)}(color);if(isHsl(color))return function(value,saturation,lightness){if("number"==typeof value&&"number"==typeof saturation&&"number"==typeof lightness)return hslToHex(value,saturation,lightness);if("object"==typeof value&&void 0===saturation&&void 0===lightness)return hslToHex(value.hue,value.saturation,value.lightness);throw new PolishedError(1)}(color);throw new PolishedError(8)}function curry(f){return function curried(f,length,acc){return function(){var combined=acc.concat(Array.prototype.slice.call(arguments));return combined.length>=length?f.apply(this,combined):curried(f,length,combined)}}(f,f.length,[])}function guard(lowerBoundary,upperBoundary,value){return Math.max(lowerBoundary,Math.min(upperBoundary,value))}var curriedDarken=curry(function(amount,color){if("transparent"===color)return color;var hslColor=parseToHsl(color);return toColorString(_extends$3({},hslColor,{lightness:guard(0,1,hslColor.lightness-parseFloat(amount))}))});var curriedDesaturate=curry(function(amount,color){if("transparent"===color)return color;var hslColor=parseToHsl(color);return toColorString(_extends$3({},hslColor,{saturation:guard(0,1,hslColor.saturation-parseFloat(amount))}))});function getLuminance(color){if("transparent"===color)return 0;var rgbColor=parseToRgb(color),_Object$keys$map=Object.keys(rgbColor).map(function(key){var channel=rgbColor[key]/255;return channel<=.03928?channel/12.92:Math.pow((channel+.055)/1.055,2.4)}),r=_Object$keys$map[0],g=_Object$keys$map[1],b=_Object$keys$map[2];return parseFloat((.2126*r+.7152*g+.0722*b).toFixed(3))}var curriedLighten=curry(function(amount,color){if("transparent"===color)return color;var hslColor=parseToHsl(color);return toColorString(_extends$3({},hslColor,{lightness:guard(0,1,hslColor.lightness+parseFloat(amount))}))});function readableColor(color,lightReturnColor,darkReturnColor){return void 0===lightReturnColor&&(lightReturnColor="#000"),void 0===darkReturnColor&&(darkReturnColor="#fff"),getLuminance(color)>.179?lightReturnColor:darkReturnColor}var curriedTransparentize=curry(function(amount,color){if("transparent"===color)return color;var parsedColor=parseToRgb(color);return rgba(_extends$3({},parsedColor,{alpha:guard(0,1,(100*("number"==typeof parsedColor.alpha?parsedColor.alpha:1)-100*parseFloat(amount))/100)}))}),styles={arrowSize:2.1,overlayOpacity:.5,shepherdButtonBorderRadius:"3px",shepherdElementBorderRadius:"5px",shepherdElementMaxHeight:"100%",shepherdElementMaxWidth:"100%",shepherdElementZIndex:9999,shepherdTextBackground:"#ffffff",shepherdTextLineHeight:"1.3em",shepherdTextFontSize:"1rem",shepherdThemePrimary:"#3288e6"};function getVariables(options){return options.styleVariables&&_extends(styles,options.styleVariables),styles.shepherdHeaderBackground||(styles.shepherdHeaderBackground=curriedDarken(.1,styles.shepherdTextBackground)),styles.shepherdThemeSecondary||(styles.shepherdThemeSecondary=curriedDesaturate(.7,curriedLighten(.4,styles.shepherdThemePrimary))),function(){styles.shepherdThemeTextPrimary||(styles.shepherdThemeTextPrimary=curriedTransparentize(.25,readableColor(styles.shepherdThemePrimary)));styles.shepherdThemeTextSecondary||(styles.shepherdThemeTextSecondary=curriedTransparentize(.25,readableColor(styles.shepherdThemeSecondary)));styles.shepherdThemeTextHeader||(styles.shepherdThemeTextHeader=curriedTransparentize(.25,readableColor(styles.shepherdHeaderBackground)));styles.shepherdThemeTextColor||(styles.shepherdThemeTextColor=curriedTransparentize(.25,readableColor(styles.shepherdTextBackground)))}(),styles}function assign$1(target,firstSource){if(void 0===target||null===target)throw new TypeError("Cannot convert first argument to object");for(var to=Object(target),i=1;i<arguments.length;i++){var nextSource=arguments[i];if(void 0!==nextSource&&null!==nextSource)for(var keysArray=Object.keys(Object(nextSource)),nextIndex=0,len=keysArray.length;nextIndex<len;nextIndex++){var nextKey=keysArray[nextIndex],desc=Object.getOwnPropertyDescriptor(nextSource,nextKey);void 0!==desc&&desc.enumerable&&(to[nextKey]=nextSource[nextKey])}}return to}var renderer,cache,KEBAB_REGEX=/[A-Z]/g,nano=function(config){var assign=(config=config||{}).assign||Object.assign,renderer=assign({raw:"",pfx:"_",client:"object"==typeof window,assign:assign,stringify:JSON.stringify,kebab:function(prop){return prop.replace(KEBAB_REGEX,"-$&").toLowerCase()},decl:function(key,value){return(key=renderer.kebab(key))+":"+value+";"},hash:function(obj){return function(str){for(var hash=5381,i=str.length;i;)hash=33*hash^str.charCodeAt(--i);return"_"+(hash>>>0).toString(36)}(renderer.stringify(obj))},selector:function(parent,_selector){return parent+(":"===_selector[0]?"":" ")+_selector},putRaw:function(rawCssRule){renderer.raw+=rawCssRule}},config);return renderer.client&&(renderer.sh||document.head.appendChild(renderer.sh=document.createElement("style")),renderer.putRaw=function(rawCssRule){var sheet=renderer.sh.sheet;try{sheet.insertRule(rawCssRule,sheet.cssRules.length)}catch(error){}}),renderer.put=function(selector,decls,atrule){var prop,value,str="",postponed=[];for(prop in decls)(value=decls[prop])instanceof Object&&!(value instanceof Array)?postponed.push(prop):str+=renderer.decl(prop,value,selector,atrule);str&&(str=selector+"{"+str+"}",renderer.putRaw(atrule?atrule+"{"+str+"}":str));for(var i=0;i<postponed.length;i++)"@"===(prop=postponed[i])[0]&&"@font-face"!==prop?renderer.putAt(selector,decls[prop],prop):renderer.put(renderer.selector(selector,prop),decls[prop],atrule)},renderer.putAt=renderer.put,renderer}({assign:assign$1,h:h,pfx:""});cache={},(renderer=nano).cache=function(css){if(!css)return"";var key=renderer.hash(css);return cache[key]||(cache[key]=renderer.rule(css,key)),cache[key]},function(renderer){renderer.selector=function(parentSelectors,selector){var i,j,sel,parent,replacedSelector,parents=parentSelectors.split(","),result=[],selectors=selector.split(","),len1=parents.length,len2=selectors.length;for(i=0;i<len2;i++)if((sel=selectors[i]).indexOf("&")>-1)for(j=0;j<len1;j++)parent=parents[j],replacedSelector=sel.replace(/&/g,parent),result.push(replacedSelector);else for(j=0;j<len1;j++)(parent=parents[j])?result.push(parent+" "+sel):result.push(sel);return result.join(",")}}(nano),function(renderer){renderer.rule=function(css,block){return block=block||renderer.hash(css),block=renderer.pfx+block,renderer.put("."+block,css)," "+block}}(nano),function(renderer){renderer.sheet=function(map,block){var result={};block||(block=renderer.hash(map));var onElementModifier=function(elementModifier){var styles=map[elementModifier];Object.defineProperty(result,elementModifier,{configurable:!0,enumerable:!0,get:function(){var classNames=renderer.rule(styles,block+"-"+elementModifier);return Object.defineProperty(result,elementModifier,{value:classNames,enumerable:!0}),classNames}})};for(var elementModifier in map)onElementModifier(elementModifier);return result}}(nano);var rule=nano.rule,sheet=nano.sheet;function getLighterOrDarker(color){var l=getLuminance(color);return l>.6?curriedDarken(l/2,color):curriedLighten((1-l)/2,color)}function generateStyles(options){var _ref,_active,_xPlacementTop,_ref2,_xPlacementBott,_xPlacementLeft,_xPlacementRigh,_ref3,_extends2,_rule,variables=getVariables(options),classPrefix=normalizePrefix(options.classPrefix),tippyPrefix=normalizePrefix(options.tippyClassPrefix),includeStyles=options.includeStyles,styles=_extends({active:(_active={},_active["&."+classPrefix+"shepherd-modal-is-visible"]=(_ref={},_ref[":not(."+classPrefix+"shepherd-target)"]={pointerEvents:"none"},_ref["."+classPrefix+"shepherd-button, ."+classPrefix+"shepherd-cancel-icon, ."+classPrefix+"shepherd-element, ."+classPrefix+"shepherd-target"]={pointerEvents:"auto","*":{pointerEvents:"auto"}},_ref),_active)},function(classPrefix,variables,includeStyles){var _button;return includeStyles?{button:(_button={background:variables.shepherdThemePrimary,borderRadius:variables.shepherdButtonBorderRadius,border:0,color:variables.shepherdThemeTextPrimary,cursor:"pointer",display:"inline-block",fontFamily:"inherit",fontSize:"0.8em",letterSpacing:"0.1em",lineHeight:"1em",marginRight:"0.5em",padding:"0.75em 2em",textTransform:"uppercase",transition:"all 0.5s ease",verticalAlign:"middle","&:hover":{background:curriedDarken(.1,variables.shepherdThemePrimary)}},_button["&."+classPrefix+"shepherd-button-secondary"]={background:variables.shepherdThemeSecondary,color:variables.shepherdThemeTextSecondary,"&:hover":{background:curriedDarken(.1,variables.shepherdThemeSecondary),color:curriedDarken(.1,variables.shepherdThemeTextSecondary)}},_button)}:{button:{}}}(classPrefix,variables,includeStyles),{},function(variables,includeStyles){return includeStyles?{content:{background:variables.shepherdTextBackground,borderRadius:variables.shepherdElementBorderRadius,fontSize:"inherit",outline:"none",padding:0}}:{content:{}}}(variables,includeStyles),{},{element:{outline:"none","&, *":{"&, &:after, &:before":{boxSizing:"border-box"}}}},{},function(classPrefix,variables,includeStyles){var _footer;return includeStyles?{footer:(_footer={borderBottomLeftRadius:variables.shepherdElementBorderRadius,borderBottomRightRadius:variables.shepherdElementBorderRadius,display:"flex",justifyContent:"flex-end",padding:"0 0.75em 0.75em"},_footer["."+classPrefix+"shepherd-button"]={"&:last-child":{marginRight:0}},_footer)}:{footer:{}}}(classPrefix,variables,includeStyles),{},function(classPrefix,variables,includeStyles){var _header,_cancelIcon,header=((_header={alignItems:"center",borderTopLeftRadius:variables.shepherdElementBorderRadius,borderTopRightRadius:variables.shepherdElementBorderRadius,display:"flex",justifyContent:"flex-end",lineHeight:"2em",padding:"0.75em 0.75em 0"})["."+classPrefix+"shepherd-has-title ."+classPrefix+"shepherd-content &"]={background:variables.shepherdHeaderBackground,padding:"1em"},_header),title={color:variables.shepherdThemeTextHeader,display:"flex",flex:"1 0 auto",fontSize:"1.1em",fontWeight:"normal",margin:0,padding:0,position:"relative",verticalAlign:"middle"},styles={"cancel-icon":(_cancelIcon={background:"transparent",border:"none",color:getLighterOrDarker(variables.shepherdThemeTextColor),fontSize:"2em",fontWeight:"normal",margin:0,padding:0,position:"relative",textDecoration:"none",transition:"color 0.5s ease",verticalAlign:"middle","&:hover":{color:variables.shepherdThemeTextColor,cursor:"pointer"}},_cancelIcon["."+classPrefix+"shepherd-has-title ."+classPrefix+"shepherd-content &"]={color:getLighterOrDarker(variables.shepherdThemeTextHeader),"&:hover":{color:variables.shepherdThemeTextHeader}},_cancelIcon)};return styles=_extends({},styles,includeStyles?{header:header,title:title}:{header:{},title:{}})}(classPrefix,variables,includeStyles),{},function(classPrefix,variables){var _modalOverlayContai;return{"modal-overlay-container":(_modalOverlayContai={"-ms-filter":"progid:dximagetransform.microsoft.gradient.alpha(Opacity=50)",filter:"alpha(opacity=50)",height:0,left:0,opacity:0,overflow:"hidden",position:"fixed",top:0,transition:"all 0.3s ease-out, height 0ms 0.3s, opacity 0.3s 0ms",width:"100vw",zIndex:variables.shepherdElementZIndex-2},_modalOverlayContai["."+classPrefix+"shepherd-modal-is-visible &"]={height:"100vh",opacity:variables.overlayOpacity,transition:"all 0.3s ease-out, height 0s 0s, opacity 0.3s 0s"},_modalOverlayContai),"modal-mask-rect":{height:"100vh",width:"100vw"}}}(classPrefix,variables),{},function(variables,includeStyles){return includeStyles?{text:{color:variables.shepherdThemeTextColor,fontSize:variables.shepherdTextFontSize,lineHeight:variables.shepherdTextLineHeight,padding:"0.75em",p:{marginTop:0,"&:last-child":{marginBottom:0}}}}:{text:{}}}(variables,includeStyles));variables.useDropShadow&&(styles.element.filter="drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2))");var classes=sheet(styles,classPrefix+"shepherd"),arrowMargin="calc(("+variables.arrowSize+" / 2.1) * 16px)",popperThemeArrows={'&[x-placement^="top"]':(_xPlacementTop={marginBottom:arrowMargin},_xPlacementTop["."+tippyPrefix+"tippy-arrow"]={borderTopColor:variables.shepherdTextBackground},_xPlacementTop),'&[x-placement^="bottom"]':(_xPlacementBott={marginTop:arrowMargin},_xPlacementBott["."+tippyPrefix+"tippy-arrow"]={borderBottomColor:variables.shepherdTextBackground},_xPlacementBott["&."+classPrefix+"shepherd-has-title"]=(_ref2={},_ref2["."+tippyPrefix+"tippy-arrow"]={borderBottomColor:variables.shepherdHeaderBackground},_ref2),_xPlacementBott),'&[x-placement^="left"]':(_xPlacementLeft={marginRight:arrowMargin},_xPlacementLeft["."+tippyPrefix+"tippy-arrow"]={borderLeftColor:variables.shepherdTextBackground},_xPlacementLeft),'&[x-placement^="right"]':(_xPlacementRigh={marginLeft:arrowMargin},_xPlacementRigh["."+tippyPrefix+"tippy-arrow"]={borderRightColor:variables.shepherdTextBackground},_xPlacementRigh)};return classes.shepherd=rule(((_rule={})["&."+tippyPrefix+"tippy-popper"]=_extends({},popperThemeArrows,((_extends2={zIndex:variables.shepherdElementZIndex})["."+tippyPrefix+"tippy-tooltip"]=((_ref3={backgroundColor:variables.shepherdTextBackground})["."+tippyPrefix+"tippy-arrow"]={transform:"scale("+variables.arrowSize+")",zIndex:variables.shepherdElementZIndex+1},_ref3["."+tippyPrefix+"tippy-content"]={maxHeight:variables.shepherdElementMaxHeight,maxWidth:variables.shepherdElementMaxWidth,padding:0,textAlign:"center"},_ref3),_extends2)),_rule),classPrefix+"shepherd"),classes}var ShepherdModal=function(_Component){function ShepherdModal(props){var _this;return(_this=_Component.call(this,props)||this)._onScreenChange=null,_this.classPrefix=props.classPrefix,autoBind(_assertThisInitialized(_this)),_this.closeModalOpening(),_this}_inheritsLoose(ShepherdModal,_Component);var _proto=ShepherdModal.prototype;return _proto.render=function(props,state){var classPrefix=props.classPrefix,styles=props.styles;return preact.h("svg",{className:styles["modal-overlay-container"],onTouchMove:ShepherdModal.handlePreventModalOverlayTouch},preact.h("defs",null,preact.h("mask",{className:classPrefix+"shepherd-modal-mask",height:"100%",id:classPrefix+"shepherd-modal-mask",width:"100%",x:"0",y:"0"},preact.h("rect",{className:styles["modal-mask-rect"],fill:"#FFFFFF",height:"100%",width:"100%",x:"0",y:"0"}),preact.h("rect",{className:classPrefix+"shepherd-modal-mask-opening",fill:"#000000",height:state.openingProperties.height,x:state.openingProperties.x,y:state.openingProperties.y,width:state.openingProperties.width}))),preact.h("rect",{height:"100%",width:"100%",x:"0",y:"0",mask:"url(#"+classPrefix+"shepherd-modal-mask)"}))},_proto.closeModalOpening=function(){this.setState({openingProperties:{height:0,x:0,y:0,width:0}})},_proto.hide=function(){document.body.classList.remove(this.classPrefix+"shepherd-modal-is-visible"),this._cleanupStepEventListeners()},_proto.positionModalOpening=function(targetElement,modalOverlayOpeningPadding){if(void 0===modalOverlayOpeningPadding&&(modalOverlayOpeningPadding=0),targetElement.getBoundingClientRect){var _targetElement$getBou=targetElement.getBoundingClientRect(),x=_targetElement$getBou.x,y=_targetElement$getBou.y,width=_targetElement$getBou.width,height=_targetElement$getBou.height,left=_targetElement$getBou.left,top=_targetElement$getBou.top;this.setState({openingProperties:{x:(x||left)-modalOverlayOpeningPadding,y:(y||top)-modalOverlayOpeningPadding,width:width+2*modalOverlayOpeningPadding,height:height+2*modalOverlayOpeningPadding}})}},_proto.setupForStep=function(step){this._cleanupStepEventListeners(),step.tour.options.useModalOverlay?(this._styleForStep(step),this.show()):this.hide()},_proto.show=function(){document.body.classList.add(this.classPrefix+"shepherd-modal-is-visible")},_proto._addStepEventListeners=function(){window.addEventListener("touchmove",ShepherdModal._preventModalBodyTouch,{passive:!1})},_proto._cleanupStepEventListeners=function(){this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0),window.removeEventListener("touchmove",ShepherdModal._preventModalBodyTouch,{passive:!1})},_proto._styleForStep=function(step){var _this2=this,modalOverlayOpeningPadding=step.options.modalOverlayOpeningPadding;if(step.target){!function rafLoop(){_this2.rafId=void 0,_this2.positionModalOpening(step.target,modalOverlayOpeningPadding),_this2.rafId=requestAnimationFrame(rafLoop)}(),this._addStepEventListeners()}else this.closeModalOpening()},ShepherdModal._preventModalBodyTouch=function(e){e.preventDefault()},ShepherdModal.handlePreventModalOverlayTouch=function(e){e.stopPropagation()},ShepherdModal}(preact.Component),render$2=preact.render,uniqueId$1=function(){var id=0;return function(){return++id}}(),Shepherd=new Evented,Tour=function(_Evented){function Tour(options){var _this;void 0===options&&(options={}),autoBind(_assertThisInitialized(_this=_Evented.call(this,options)||this));_this.options=_extends({},{exitOnEsc:!0,includeStyles:!0,keyboardNavigation:!0},options),_this.classPrefix=_this.options?normalizePrefix(_this.options.classPrefix):"",_this.styles=generateStyles(_this.options),_this.steps=[],_this.addSteps(_this.options.steps);["active","cancel","complete","inactive","show","start"].map(function(event){var e;e=event,_this.on(e,function(opts){(opts=opts||{}).tour=_assertThisInitialized(_this),Shepherd.trigger(e,opts)})});var existingModal=document.querySelector("."+_this.classPrefix+"shepherd-modal-overlay-container");return render$2(preact.h(ShepherdModal,{classPrefix:_this.classPrefix,ref:function(c){return _this.modal=c},styles:_this.styles}),options.modalContainer||document.body,existingModal),_this._setTooltipDefaults(),_this._setTourID(),_assertThisInitialized(_this)||_assertThisInitialized(_this)}_inheritsLoose(Tour,_Evented);var _proto=Tour.prototype;return _proto.addStep=function(options){var step=options;return step instanceof Step?step.tour=this:step=this._setupStep(step),this.steps.push(step),step},_proto.addSteps=function(steps){var _this2=this;return Array.isArray(steps)&&steps.forEach(function(step){_this2.addStep(step)}),this},_proto.back=function(){var index=this.steps.indexOf(this.currentStep);this.show(index-1,!1)},_proto.cancel=function(){if(this.options.confirmCancel){var cancelMessage=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";window.confirm(cancelMessage)&&this._done("cancel")}else this._done("cancel")},_proto.complete=function(){this._done("complete")},_proto.getById=function(id){return this.steps.find(function(step){return step.id===id})},_proto.getCurrentStep=function(){return this.currentStep},_proto.hide=function(){var currentStep=this.getCurrentStep();if(currentStep)return currentStep.hide()},_proto.isActive=function(){return Shepherd.activeTour===this},_proto.next=function(){var index=this.steps.indexOf(this.currentStep);index===this.steps.length-1?this.complete():this.show(index+1,!0)},_proto.removeStep=function(name){var _this3=this,current=this.getCurrentStep();this.steps.some(function(step,i){if(step.id===name)return step.isOpen()&&step.hide(),step.destroy(),_this3.steps.splice(i,1),!0}),current&&current.id===name&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())},_proto.show=function(key,forward){void 0===key&&(key=0),void 0===forward&&(forward=!0);var step=isString(key)?this.getById(key):this.steps[key];step&&(this._updateStateBeforeShow(),isFunction(step.options.showOn)&&!step.options.showOn()?this._skipStep(step,forward):(this.trigger("show",{step:step,previous:this.currentStep}),this.currentStep=step,step.show()))},_proto.start=function(){this.trigger("start"),this.options.disableScroll&&bodyScrollLock.disableBodyScroll(),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this._setupActiveTour(),this.next()},_proto._done=function(event){var tour,index=this.steps.indexOf(this.currentStep);Array.isArray(this.steps)&&this.steps.forEach(function(step){return step.destroy()}),(tour=this)&&tour.steps.forEach(function(step){if(step.options&&!1===step.options.canClickTarget&&step.options.attachTo){var stepElement=step.target;stepElement instanceof HTMLElement&&(stepElement.style.pointerEvents="auto")}}),this.trigger(event,{index:index}),Shepherd.activeTour=null,this._removeBodyAttrs(),this.trigger("inactive",{tour:this}),this.options.disableScroll&&bodyScrollLock.clearAllBodyScrollLocks(),this.modal.hide(),isElement(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()},_proto._setupActiveTour=function(){this._addBodyAttrs(),this.trigger("active",{tour:this}),Shepherd.activeTour=this},_proto._setupStep=function(stepOptions){return stepOptions=_extends({},this.options.defaultStepOptions,stepOptions),new Step(this,stepOptions)},_proto._skipStep=function(step,forward){var index=this.steps.indexOf(step),nextIndex=forward?index+1:index-1;this.show(nextIndex,forward)},_proto._setTooltipDefaults=function(){tippy.setDefaultProps(defaults)},_proto._updateStateBeforeShow=function(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()},_proto._setTourID=function(){var tourName=this.options.tourName||"tour",uuid=uniqueId$1();this.id=tourName+"--"+uuid},_proto._addBodyAttrs=function(){document.body.setAttribute("data-"+this.classPrefix+"shepherd-active-tour",this.id),document.body.classList.add(this.styles.active.trim())},_proto._removeBodyAttrs=function(){document.body.removeAttribute("data-"+this.classPrefix+"shepherd-active-tour"),document.body.classList.remove(this.styles.active.trim())},Tour}(Evented);_extends(Shepherd,{Tour:Tour,Step:Step});var _default=Shepherd;exports.default=_default},{}],tXhn:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TourService=void 0;var _core=require("@angular/core"),_tourDetails=require("./tour-details.service"),_lodash=_interopRequireDefault(require("lodash")),_shepherd=_interopRequireDefault(require("shepherd.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},TourService=function(){function TourService(tourDetailsService,BulbAuthService,BulbBrowserService,BulbErrorService,BulbModalService,Restangular){var _this=this;this.tourDetailsService=tourDetailsService,this.BulbAuthService=BulbAuthService,this.BulbBrowserService=BulbBrowserService,this.BulbErrorService=BulbErrorService,this.BulbModalService=BulbModalService,this.Restangular=Restangular,this.currentUserPrefs=this.BulbAuthService.currentUser.prefs,this.isEndTourModal=!1,this.clickedOnLink=!1,this.handleCancelEvent=!0,this.switchedUser=this.BulbAuthService.currentUser.hasRole("SWITCHED_USER"),this.previousFocusTimeStamp=-1,this.registerClickListener=function(event){_this.clickedOnLink=event.target&&"bulbAnchorTag"===event.target.id;var modalElements=document.getElementsByClassName("shepherd");void 0!==modalElements&&modalElements.length>0&&(modalElements[0].contains(event.target)||"button"===event.target.type||_this.tourObject.cancel())},this.registerFocusBackListener=function(event){if(_this.BulbBrowserService.isSafari()&&event.timeStamp)if(-1===_this.previousFocusTimeStamp)_this.previousFocusTimeStamp=event.timeStamp;else if(_this.previousFocusTimeStamp<event.timeStamp)return void(_this.previousFocusTimeStamp=-1);_this.tourObject.getCurrentStep().isOpen()&&!_this.clickedOnLink?_this.tourObject.cancel():_this.clickedOnLink=!1}}var _a;return TourService.prototype.setUpShepherd=function(tourName){return new _shepherd.default.Tour({tourName:tourName,defaultStepOptions:this.tourDetailsService.defaultStepOptions,keyboardNavigation:!1,useModalOverlay:!0})},TourService.prototype.startMainTour=function(){var _this=this;!this.BulbAuthService.currentUser.prefs.onBoarding.onboardingShowMainTour||this.isTourActive()||this.switchedUser||(this.tourObject=this.setUpShepherd("mainTour"),this.tourObject.addSteps(this.tourDetailsService.createMainTourSteps(this.tourObject)),this.tourObject.start(),this.tourObject.on("complete",function(){_this.currentUserPrefs.onBoarding.onboardingShowMainTour=!1,_this.updateAccountPrefs(),_this.destroyTourStepsOnComplete()}),this.registerEventHandlers(),this.confirmEndTour(),this.accessibilityOnTour())},TourService.prototype.startMenuTour=function(){var _this=this;if(this.BulbAuthService.currentUser.prefs.onBoarding.onboardingShowMenuTour&&!this.isTourActive()&&!this.switchedUser){this.tourObject=this.setUpShepherd("menuTour");var isMobile=!Foundation.utils.is_large_up();this.currentUserPrefs.onBoarding.onboardingShowPageTour?this.tourObject.addSteps(this.tourDetailsService.createMenuTourSteps(isMobile,this.tourObject)):this.tourObject.addSteps(_lodash.default.union(this.tourDetailsService.createMenuTourSteps(isMobile,this.tourObject),[this.tourDetailsService.createTourCompletedStep(this.BulbAuthService.currentUser.firstName,this.tourObject)])),this.tourObject.start(),this.tourObject.on("complete",function(){window.menuTourDone(),_this.currentUserPrefs.onBoarding.onboardingShowMenuTour=!1,_this.updateAccountPrefs(),_this.destroyTourStepsOnComplete()}),this.registerEventHandlers(),this.confirmEndTour()}},TourService.prototype.startPageIntro=function(){var _this=this;if(this.BulbAuthService.currentUser.prefs.onBoarding.onboardingShowPageIntro&&!this.isTourActive()&&!this.switchedUser){this.tourObject=this.setUpShepherd("pageIntroTour");var isMobile=Foundation.utils.is_small_only();this.tourObject.addSteps(this.tourDetailsService.createPageIntroSteps(isMobile,this.tourObject)),this.tourObject.start(),this.tourObject.on("complete",function(){_this.currentUserPrefs.onBoarding.onboardingShowPageIntro=!1,_this.updateAccountPrefs(),_this.destroyTourStepsOnComplete(),_this.startPageTour()}),this.registerEventHandlers(),this.confirmEndTour()}},TourService.prototype.startPageTour=function(){var _this=this;if(this.BulbAuthService.currentUser.prefs.onBoarding.onboardingShowPageTour&&!this.isTourActive()&&!this.switchedUser){this.tourObject=this.setUpShepherd("pageTour");var isMobileDevice=this.BulbBrowserService.isMobile(),isMediumDevice=Foundation.utils.is_medium_up();this.currentUserPrefs.onBoarding.onboardingShowMenuTour?this.tourObject.addSteps(this.tourDetailsService.createPageTourSteps(isMobileDevice,isMediumDevice,this.tourObject)):this.tourObject.addSteps(_lodash.default.union(this.tourDetailsService.createPageTourSteps(isMobileDevice,isMediumDevice,this.tourObject),[this.tourDetailsService.createTourCompletedStep(this.BulbAuthService.currentUser.firstName,this.tourObject)])),this.tourObject.start(),this.tourObject.on("complete",function(){_this.currentUserPrefs.onBoarding.onboardingShowPageTour=!1,_this.updateAccountPrefs(),_this.destroyTourStepsOnComplete()}),this.registerEventHandlers(),this.confirmEndTour()}},TourService.prototype.resetTourFlags=function(){this.currentUserPrefs.onBoarding.onboardingShowMainTour=!0,this.currentUserPrefs.onBoarding.onboardingShowMenuTour=!0,this.currentUserPrefs.onBoarding.onboardingShowPageIntro=!0,this.currentUserPrefs.onBoarding.onboardingShowPageTour=!0,this.updateAccountPrefs()},TourService.prototype.confirmEndTour=function(){var _this=this;this.tourObject.on("cancel",function(event){_this.handleCancelEvent&&_this.endTourHandler(event.tour.id),_this.handleCancelEvent=!0})},TourService.prototype.endTourHandler=function(tourId){var _this=this;this.BulbModalService.show(this.tourDetailsService.createEndTourStep()).then(function(){_this.updatePrefsOnEndTour(tourId)}).catch(function(action){void 0===action&&_this.isEndTourModal||"cancel"===action?(_this.isEndTourModal=!1,_this.tourObject.getCurrentStep().show(),_this.accessibilityOnTour()):"backdrop click"===action?_this.updatePrefsOnEndTour(tourId):(_this.isEndTourModal=!0,_this.tourObject.cancel())})},TourService.prototype.updatePrefsOnEndTour=function(tourId){this.currentUserPrefs=this.BulbAuthService.currentUser.prefs,this.currentUserPrefs.onBoarding.onboardingShowPageIntro=!(tourId&&tourId.includes("pageIntroTour")),this.currentUserPrefs.onBoarding.onboardingShowMainTour=!1,this.currentUserPrefs.onBoarding.onboardingShowMenuTour=!1,this.currentUserPrefs.onBoarding.onboardingShowPageTour=!1,this.updateAccountPrefs(),this.destroyTourStepsOnComplete()},TourService.prototype.updateAccountPrefs=function(){var _this=this;this.Restangular.one("accounts",this.BulbAuthService.currentUser.id).patch({prefs:this.currentUserPrefs}).then(function(updatedAccount){_this.BulbAuthService.setCurrentUser(updatedAccount)}).catch(function(error){_this.BulbErrorService.error("Cannot update the user preferences",error)})},TourService.prototype.isTourActive=function(){return this.tourObject&&this.tourObject.isActive()},TourService.prototype.hideTour=function(){this.handleCancelEvent=!1,this.tourObject.cancel()},TourService.prototype.registerEventHandlers=function(){window.addEventListener("focus",this.registerFocusBackListener),document.addEventListener("click",this.registerClickListener)},TourService.prototype.destroyTourStepsOnComplete=function(){document.removeEventListener("click",this.registerClickListener),window.removeEventListener("focus",this.registerFocusBackListener),this.tourObject=null},TourService.prototype.accessibilityOnTour=function(){jQuery(".shepherd-header").attr("role","presentation"),jQuery(".shepherd-footer").attr("role","presentation")},TourService=__decorate([(0,_core.Injectable)({providedIn:"root"}),__param(1,(0,_core.Inject)("BulbAuthService")),__param(2,(0,_core.Inject)("BulbBrowserService")),__param(3,(0,_core.Inject)("BulbErrorService")),__param(4,(0,_core.Inject)("BulbModalService")),__param(5,(0,_core.Inject)("Restangular")),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==_tourDetails.TourDetailsService&&_tourDetails.TourDetailsService)?_a:Object,Object,Object,Object,Object,Object])],TourService)}();exports.TourService=TourService},{"@angular/core":"XDhY","./tour-details.service":"MT3T",lodash:"JNHf","shepherd.js":"hkOC"}],wdVk:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _static=require("@angular/upgrade/static"),_appConfig=require("./app-config"),_bootstrapComponent=_interopRequireDefault(require("./bootstrap/bootstrap-component")),_headerComponent=_interopRequireDefault(require("./header/header-component")),_angularTestingTranslations=require("../app/angular-testing-translations/angular-testing-translations.component"),_familyMemberContainer=require("../family-member/family-member-container/family-member-container.component"),_test=require("../app/test/test.component"),_aeroButton=require("../aero/aero-button/aero-button.component"),_aeroDropdown=require("../aero/aero-dropdown/aero-dropdown.component"),_aeroDynamicDialog=require("../aero/aero-dynamic-dialog/aero-dynamic-dialog.service"),_analytics=require("../common/analytics.service"),_audioCompatibility=require("../app/audio/audio-compatibility.service"),_fetchUser=require("../common/fetch-user.service"),_fetchMediaData=require("../app/audio/fetch-media-data.service"),_familyMember=require("../family-member/family-member.service"),_error=require("../common/error.service"),_tour=require("../app/tour/tour.service"),_uploadAsset=require("../common/upload-asset.service");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}angular.module("bulbApp",["ngAnimate","ngAria","ngCookies","ngDragDrop","ngResource","ngSanitize","angular-inview","ngclipboard","mm.foundation","restangular","ui.router","ui.router.title","ui.sortable","bulbApp.ageVerificationModule","bulbApp.applicationModule","bulbApp.foundationModule","bulbApp.ajaxModule","bulbApp.accountModule","bulbApp.adminModule","bulbApp.animationModule","bulbApp.assetLibraryModule","bulbApp.authModule","bulbApp.authorModule","bulbApp.blockModule","bulbApp.devToolsModule","bulbApp.bootstrapModule","bulbApp.checkboxModule","bulbApp.compositeViewModule","bulbApp.configModule","bulbApp.explorerModule","bulbApp.groupModule","bulbApp.headerModule","bulbApp.inappropriateContentModule","bulbApp.modalModule","bulbApp.onboardingModule","bulbApp.offBoardingModule","bulbApp.offlineModule","bulbApp.organizationModule","bulbApp.pageViewModule","bulbApp.presentationModule","bulbApp.radiobuttonModule","bulbApp.recommendModule","bulbApp.searchModule","bulbApp.translateModule","bulbApp.unitModule","bulbApp.validationModule","bulbApp.offBoardingModule","bulbApp.offlineModule","bulbApp.organizationModule","bulbApp.pageViewModule","bulbApp.presentationModule","bulbApp.radiobuttonModule","bulbApp.recommendModule","bulbApp.searchModule","bulbApp.translateModule","bulbApp.unitModule","bulbApp.validationModule"]).config(_appConfig.angularjsAppConfig).run(_appConfig.angularRunBlock).value(_appConfig.jqueryUiConfig).component("bootstrapComponent",_bootstrapComponent.default).component("bulbHeader",_headerComponent.default).directive("aeroButton",(0,_static.downgradeComponent)({component:_aeroButton.AeroButtonComponent})).directive("aeroDropdown",(0,_static.downgradeComponent)({component:_aeroDropdown.AeroDropdownComponent})).directive("angularTranslation",(0,_static.downgradeComponent)({component:_angularTestingTranslations.AngularTestingTranslations})).directive("angularTestComponent",(0,_static.downgradeComponent)({component:_test.TestComponent})).directive("familyMemberContainer",(0,_static.downgradeComponent)({component:_familyMemberContainer.FamilyMemberContainerComponent})).factory("AeroDynamicDialogService",(0,_static.downgradeInjectable)(_aeroDynamicDialog.AeroDynamicDialogService)).factory("AnalyticsService",(0,_static.downgradeInjectable)(_analytics.AnalyticsService)).factory("AudioCompatibilityService",(0,_static.downgradeInjectable)(_audioCompatibility.AudioCompatibilityService)).factory("BulbFetchUserService",(0,_static.downgradeInjectable)(_fetchUser.BulbFetchUserService)).factory("BulbFetchMediaDataService",(0,_static.downgradeInjectable)(_fetchMediaData.BulbFetchMediaDataService)).factory("FamilyMemberService",(0,_static.downgradeInjectable)(_familyMember.FamilyMemberService)).factory("ErrorService",(0,_static.downgradeInjectable)(_error.ErrorService)).factory("TourService",(0,_static.downgradeInjectable)(_tour.TourService)).factory("UploadAssetService",(0,_static.downgradeInjectable)(_uploadAsset.UploadAssetService));exports.default="bulbApp"},{"@angular/upgrade/static":"KJHD","./app-config":"QRNI","./bootstrap/bootstrap-component":"b2VR","./header/header-component":"IRUC","../app/angular-testing-translations/angular-testing-translations.component":"NU1B","../family-member/family-member-container/family-member-container.component":"iJ7S","../app/test/test.component":"MOTr","../aero/aero-button/aero-button.component":"l7UR","../aero/aero-dropdown/aero-dropdown.component":"uCD8","../aero/aero-dynamic-dialog/aero-dynamic-dialog.service":"uvuy","../common/analytics.service":"RQFK","../app/audio/audio-compatibility.service":"jB5h","../common/fetch-user.service":"PrWb","../app/audio/fetch-media-data.service":"xLwp","../family-member/family-member.service":"K2L6","../common/error.service":"shL8","../app/tour/tour.service":"tXhn","../common/upload-asset.service":"bEGA"}],NpQV:[function(require,module,exports){var process=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateStyleProperty=validateStyleProperty,exports.supportsWebAnimations=function(){return"function"==typeof getElementAnimateFn()},exports.allowPreviousPlayerStylesMerge=allowPreviousPlayerStylesMerge,exports.WebAnimationsPlayer=exports.WebAnimationsDriver=exports.matchesElement=exports.invokeQuery=exports.containsElement=exports.CssKeyframesPlayer=exports.CssKeyframesDriver=exports.AnimationEngine=exports.NoopAnimationDriver=exports.WebAnimationsStyleNormalizer=exports.NoopAnimationStyleNormalizer=exports.AnimationStyleNormalizer=exports.Animation=exports.AnimationDriver=exports.AnimationDriver=exports.angular_packages_animations_browser_browser_a=void 0;var _tslib=require("tslib"),_animations=require("@angular/animations"),_core=require("@angular/core");function isNode(){return void 0!==process}function optimizeGroupPlayer(players){switch(players.length){case 0:return new _animations.NoopAnimationPlayer;case 1:return players[0];default:return new _animations.AnimationGroupPlayer(players)}}function normalizeKeyframes(driver,normalizer,element,keyframes,preStyles,postStyles){void 0===preStyles&&(preStyles={}),void 0===postStyles&&(postStyles={});var errors=[],normalizedKeyframes=[],previousOffset=-1,previousKeyframe=null;if(keyframes.forEach(function(kf){var offset=kf.offset,isSameOffset=offset==previousOffset,normalizedKeyframe=isSameOffset&&previousKeyframe||{};Object.keys(kf).forEach(function(prop){var normalizedProp=prop,normalizedValue=kf[prop];if("offset"!==prop)switch(normalizedProp=normalizer.normalizePropertyName(normalizedProp,errors),normalizedValue){case _animations.PRE_STYLE:normalizedValue=preStyles[prop];break;case _animations.AUTO_STYLE:normalizedValue=postStyles[prop];break;default:normalizedValue=normalizer.normalizeStyleValue(prop,normalizedProp,normalizedValue,errors)}normalizedKeyframe[normalizedProp]=normalizedValue}),isSameOffset||normalizedKeyframes.push(normalizedKeyframe),previousKeyframe=normalizedKeyframe,previousOffset=offset}),errors.length){throw new Error("Unable to animate due to the following errors:\n - "+errors.join("\n - "))}return normalizedKeyframes}function listenOnPlayer(player,eventName,event,callback){switch(eventName){case"start":player.onStart(function(){return callback(event&&copyAnimationEvent(event,"start",player))});break;case"done":player.onDone(function(){return callback(event&&copyAnimationEvent(event,"done",player))});break;case"destroy":player.onDestroy(function(){return callback(event&&copyAnimationEvent(event,"destroy",player))})}}function copyAnimationEvent(e,phaseName,player){var totalTime=player.totalTime,disabled=!!player.disabled,event=makeAnimationEvent(e.element,e.triggerName,e.fromState,e.toState,phaseName||e.phaseName,void 0==totalTime?e.totalTime:totalTime,disabled),data=e._data;return null!=data&&(event._data=data),event}function makeAnimationEvent(element,triggerName,fromState,toState,phaseName,totalTime,disabled){return void 0===phaseName&&(phaseName=""),void 0===totalTime&&(totalTime=0),{element:element,triggerName:triggerName,fromState:fromState,toState:toState,phaseName:phaseName,totalTime:totalTime,disabled:!!disabled}}function getOrSetAsInMap(map,key,defaultValue){var value;return map instanceof Map?(value=map.get(key))||map.set(key,value=defaultValue):(value=map[key])||(value=map[key]=defaultValue),value}function parseTimelineCommand(command){var separatorPos=command.indexOf(":");return[command.substring(1,separatorPos),command.substr(separatorPos+1)]}var _contains=function(elm1,elm2){return!1},_matches=function(element,selector){return!1},_query=function(element,selector,multi){return[]},_isNode=isNode();(_isNode||"undefined"!=typeof Element)&&(_contains=function(elm1,elm2){return elm1.contains(elm2)},_matches=function(){if(_isNode||Element.prototype.matches)return function(element,selector){return element.matches(selector)};var proto=Element.prototype,fn_1=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector;return fn_1?function(element,selector){return fn_1.apply(element,[selector])}:_matches}(),_query=function(element,selector,multi){var results=[];if(multi)results.push.apply(results,(0,_tslib.__spread)(element.querySelectorAll(selector)));else{var elm=element.querySelector(selector);elm&&results.push(elm)}return results});var _CACHED_BODY=null,_IS_WEBKIT=!1;function validateStyleProperty(prop){_CACHED_BODY||(_CACHED_BODY=function(){if("undefined"!=typeof document)return document.body;return null}()||{},_IS_WEBKIT=!!_CACHED_BODY.style&&"WebkitAppearance"in _CACHED_BODY.style);var result=!0;_CACHED_BODY.style&&!function(prop){return"ebkit"==prop.substring(1,6)}(prop)&&(!(result=prop in _CACHED_BODY.style)&&_IS_WEBKIT&&(result="Webkit"+prop.charAt(0).toUpperCase()+prop.substr(1)in _CACHED_BODY.style));return result}var matchesElement=_matches;exports.matchesElement=matchesElement;var containsElement=_contains;exports.containsElement=containsElement;var invokeQuery=_query;function hypenatePropsObject(object){var newObj={};return Object.keys(object).forEach(function(prop){var newProp=prop.replace(/([a-z])([A-Z])/g,"$1-$2");newObj[newProp]=object[prop]}),newObj}exports.invokeQuery=invokeQuery;var NoopAnimationDriver=function(){function NoopAnimationDriver(){}return NoopAnimationDriver.prototype.validateStyleProperty=function(prop){return validateStyleProperty(prop)},NoopAnimationDriver.prototype.matchesElement=function(element,selector){return matchesElement(element,selector)},NoopAnimationDriver.prototype.containsElement=function(elm1,elm2){return containsElement(elm1,elm2)},NoopAnimationDriver.prototype.query=function(element,selector,multi){return invokeQuery(element,selector,multi)},NoopAnimationDriver.prototype.computeStyle=function(element,prop,defaultValue){return defaultValue||""},NoopAnimationDriver.prototype.animate=function(element,keyframes,duration,delay,easing,previousPlayers,scrubberAccessRequested){return void 0===previousPlayers&&(previousPlayers=[]),new _animations.NoopAnimationPlayer(duration,delay)},NoopAnimationDriver=(0,_tslib.__decorate)([(0,_core.Injectable)()],NoopAnimationDriver)}();exports.NoopAnimationDriver=NoopAnimationDriver;var AnimationDriver=function(){function AnimationDriver(){}return AnimationDriver.NOOP=new NoopAnimationDriver,AnimationDriver}();exports.AnimationDriver=exports.AnimationDriver=AnimationDriver;var ONE_SECOND=1e3,NG_TRIGGER_SELECTOR=".ng-trigger",NG_ANIMATING_SELECTOR=".ng-animating";function resolveTimingValue(value){if("number"==typeof value)return value;var matches=value.match(/^(-?[\.\d]+)(m?s)/);return!matches||matches.length<2?0:_convertTimeValueToMS(parseFloat(matches[1]),matches[2])}function _convertTimeValueToMS(value,unit){switch(unit){case"s":return value*ONE_SECOND;default:return value}}function resolveTiming(timings,errors,allowNegativeValues){return timings.hasOwnProperty("duration")?timings:function(exp,errors,allowNegativeValues){var duration,delay=0,easing="";if("string"==typeof exp){var matches=exp.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===matches)return errors.push('The provided timing value "'+exp+'" is invalid.'),{duration:0,delay:0,easing:""};duration=_convertTimeValueToMS(parseFloat(matches[1]),matches[2]);var delayMatch=matches[3];null!=delayMatch&&(delay=_convertTimeValueToMS(parseFloat(delayMatch),matches[4]));var easingVal=matches[5];easingVal&&(easing=easingVal)}else duration=exp;if(!allowNegativeValues){var containsErrors=!1,startIndex=errors.length;duration<0&&(errors.push("Duration values below 0 are not allowed for this animation step."),containsErrors=!0),delay<0&&(errors.push("Delay values below 0 are not allowed for this animation step."),containsErrors=!0),containsErrors&&errors.splice(startIndex,0,'The provided timing value "'+exp+'" is invalid.')}return{duration:duration,delay:delay,easing:easing}}(timings,errors,allowNegativeValues)}function copyObj(obj,destination){return void 0===destination&&(destination={}),Object.keys(obj).forEach(function(prop){destination[prop]=obj[prop]}),destination}function normalizeStyles(styles){var normalizedStyles={};return Array.isArray(styles)?styles.forEach(function(data){return copyStyles(data,!1,normalizedStyles)}):copyStyles(styles,!1,normalizedStyles),normalizedStyles}function copyStyles(styles,readPrototype,destination){if(void 0===destination&&(destination={}),readPrototype)for(var prop in styles)destination[prop]=styles[prop];else copyObj(styles,destination);return destination}function getStyleAttributeString(element,key,value){return value?key+":"+value+";":""}function writeStyleAttribute(element){for(var styleAttrValue="",i=0;i<element.style.length;i++){styleAttrValue+=getStyleAttributeString(0,key=element.style.item(i),element.style.getPropertyValue(key))}for(var key in element.style){if(element.style.hasOwnProperty(key)&&!key.startsWith("_"))styleAttrValue+=getStyleAttributeString(0,key.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),element.style[key])}element.setAttribute("style",styleAttrValue)}function setStyles(element,styles,formerStyles){element.style&&(Object.keys(styles).forEach(function(prop){var camelProp=dashCaseToCamelCase(prop);formerStyles&&!formerStyles.hasOwnProperty(prop)&&(formerStyles[prop]=element.style[camelProp]),element.style[camelProp]=styles[prop]}),isNode()&&writeStyleAttribute(element))}function eraseStyles(element,styles){element.style&&(Object.keys(styles).forEach(function(prop){var camelProp=dashCaseToCamelCase(prop);element.style[camelProp]=""}),isNode()&&writeStyleAttribute(element))}function normalizeAnimationEntry(steps){return Array.isArray(steps)?1==steps.length?steps[0]:(0,_animations.sequence)(steps):steps}var PARAM_REGEX=new RegExp("{{\\s*(.+?)\\s*}}","g");function extractStyleParams(value){var params=[];if("string"==typeof value){for(var val=value.toString(),match=void 0;match=PARAM_REGEX.exec(val);)params.push(match[1]);PARAM_REGEX.lastIndex=0}return params}function interpolateParams(value,params,errors){var original=value.toString(),str=original.replace(PARAM_REGEX,function(_,varName){var localVal=params[varName];return params.hasOwnProperty(varName)||(errors.push("Please provide a value for the animation param "+varName),localVal=""),localVal.toString()});return str==original?value:str}function iteratorToArray(iterator){for(var arr=[],item=iterator.next();!item.done;)arr.push(item.value),item=iterator.next();return arr}var DASH_CASE_REGEXP=/-+([a-z0-9])/g;function dashCaseToCamelCase(input){return input.replace(DASH_CASE_REGEXP,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i]=arguments[_i];return m[1].toUpperCase()})}function allowPreviousPlayerStylesMerge(duration,delay){return 0===duration||0===delay}function balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles){var previousStyleProps=Object.keys(previousStyles);if(previousStyleProps.length&&keyframes.length){var startingKeyframe_1=keyframes[0],missingStyleProps_1=[];if(previousStyleProps.forEach(function(prop){startingKeyframe_1.hasOwnProperty(prop)||missingStyleProps_1.push(prop),startingKeyframe_1[prop]=previousStyles[prop]}),missingStyleProps_1.length)for(var _loop_1=function(){var kf=keyframes[i];missingStyleProps_1.forEach(function(prop){kf[prop]=computeStyle(element,prop)})},i=1;i<keyframes.length;i++)_loop_1()}return keyframes}function visitDslNode(visitor,node,context){switch(node.type){case 7:return visitor.visitTrigger(node,context);case 0:return visitor.visitState(node,context);case 1:return visitor.visitTransition(node,context);case 2:return visitor.visitSequence(node,context);case 3:return visitor.visitGroup(node,context);case 4:return visitor.visitAnimate(node,context);case 5:return visitor.visitKeyframes(node,context);case 6:return visitor.visitStyle(node,context);case 8:return visitor.visitReference(node,context);case 9:return visitor.visitAnimateChild(node,context);case 10:return visitor.visitAnimateRef(node,context);case 11:return visitor.visitQuery(node,context);case 12:return visitor.visitStagger(node,context);default:throw new Error("Unable to resolve animation metadata node #"+node.type)}}function computeStyle(element,prop){return window.getComputedStyle(element)[prop]}var ANY_STATE="*";function parseTransitionExpr(transitionValue,errors){var expressions=[];return"string"==typeof transitionValue?transitionValue.split(/\s*,\s*/).forEach(function(str){return function(eventStr,expressions,errors){if(":"==eventStr[0]){var result=function(alias,errors){switch(alias){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(fromState,toState){return parseFloat(toState)>parseFloat(fromState)};case":decrement":return function(fromState,toState){return parseFloat(toState)<parseFloat(fromState)};default:return errors.push('The transition alias value "'+alias+'" is not supported'),"* => *"}}(eventStr,errors);if("function"==typeof result)return void expressions.push(result);eventStr=result}var match=eventStr.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==match||match.length<4)return errors.push('The provided transition expression "'+eventStr+'" is not supported'),expressions;var fromState=match[1],separator=match[2],toState=match[3];expressions.push(makeLambdaFromStates(fromState,toState));var isFullAnyStateExpr=fromState==ANY_STATE&&toState==ANY_STATE;"<"!=separator[0]||isFullAnyStateExpr||expressions.push(makeLambdaFromStates(toState,fromState))}(str,expressions,errors)}):expressions.push(transitionValue),expressions}var TRUE_BOOLEAN_VALUES=new Set(["true","1"]),FALSE_BOOLEAN_VALUES=new Set(["false","0"]);function makeLambdaFromStates(lhs,rhs){var LHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(lhs)||FALSE_BOOLEAN_VALUES.has(lhs),RHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(rhs)||FALSE_BOOLEAN_VALUES.has(rhs);return function(fromState,toState){var lhsMatch=lhs==ANY_STATE||lhs==fromState,rhsMatch=rhs==ANY_STATE||rhs==toState;return!lhsMatch&&LHS_MATCH_BOOLEAN&&"boolean"==typeof fromState&&(lhsMatch=fromState?TRUE_BOOLEAN_VALUES.has(lhs):FALSE_BOOLEAN_VALUES.has(lhs)),!rhsMatch&&RHS_MATCH_BOOLEAN&&"boolean"==typeof toState&&(rhsMatch=toState?TRUE_BOOLEAN_VALUES.has(rhs):FALSE_BOOLEAN_VALUES.has(rhs)),lhsMatch&&rhsMatch}}var SELF_TOKEN=":self",SELF_TOKEN_REGEX=new RegExp("s*"+SELF_TOKEN+"s*,?","g");function buildAnimationAst(driver,metadata,errors){return new AnimationAstBuilderVisitor(driver).build(metadata,errors)}var AnimationAstBuilderVisitor=function(){function AnimationAstBuilderVisitor(_driver){this._driver=_driver}return AnimationAstBuilderVisitor.prototype.build=function(metadata,errors){var context=new AnimationAstBuilderContext(errors);return this._resetContextStyleTimingState(context),visitDslNode(this,normalizeAnimationEntry(metadata),context)},AnimationAstBuilderVisitor.prototype._resetContextStyleTimingState=function(context){context.currentQuerySelector="",context.collectedStyles={},context.collectedStyles[""]={},context.currentTime=0},AnimationAstBuilderVisitor.prototype.visitTrigger=function(metadata,context){var _this=this,queryCount=context.queryCount=0,depCount=context.depCount=0,states=[],transitions=[];return"@"==metadata.name.charAt(0)&&context.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),metadata.definitions.forEach(function(def){if(_this._resetContextStyleTimingState(context),0==def.type){var stateDef_1=def,name_1=stateDef_1.name;name_1.toString().split(/\s*,\s*/).forEach(function(n){stateDef_1.name=n,states.push(_this.visitState(stateDef_1,context))}),stateDef_1.name=name_1}else if(1==def.type){var transition=_this.visitTransition(def,context);queryCount+=transition.queryCount,depCount+=transition.depCount,transitions.push(transition)}else context.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:metadata.name,states:states,transitions:transitions,queryCount:queryCount,depCount:depCount,options:null}},AnimationAstBuilderVisitor.prototype.visitState=function(metadata,context){var styleAst=this.visitStyle(metadata.styles,context),astParams=metadata.options&&metadata.options.params||null;if(styleAst.containsDynamicStyles){var missingSubs_1=new Set,params_1=astParams||{};if(styleAst.styles.forEach(function(value){if(isObject(value)){var stylesObj_1=value;Object.keys(stylesObj_1).forEach(function(prop){extractStyleParams(stylesObj_1[prop]).forEach(function(sub){params_1.hasOwnProperty(sub)||missingSubs_1.add(sub)})})}}),missingSubs_1.size){var missingSubsArr=iteratorToArray(missingSubs_1.values());context.errors.push('state("'+metadata.name+'", ...) must define default values for all the following style substitutions: '+missingSubsArr.join(", "))}}return{type:0,name:metadata.name,style:styleAst,options:astParams?{params:astParams}:null}},AnimationAstBuilderVisitor.prototype.visitTransition=function(metadata,context){context.queryCount=0,context.depCount=0;var animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return{type:1,matchers:parseTransitionExpr(metadata.expr,context.errors),animation:animation,queryCount:context.queryCount,depCount:context.depCount,options:normalizeAnimationOptions(metadata.options)}},AnimationAstBuilderVisitor.prototype.visitSequence=function(metadata,context){var _this=this;return{type:2,steps:metadata.steps.map(function(s){return visitDslNode(_this,s,context)}),options:normalizeAnimationOptions(metadata.options)}},AnimationAstBuilderVisitor.prototype.visitGroup=function(metadata,context){var _this=this,currentTime=context.currentTime,furthestTime=0,steps=metadata.steps.map(function(step){context.currentTime=currentTime;var innerAst=visitDslNode(_this,step,context);return furthestTime=Math.max(furthestTime,context.currentTime),innerAst});return context.currentTime=furthestTime,{type:3,steps:steps,options:normalizeAnimationOptions(metadata.options)}},AnimationAstBuilderVisitor.prototype.visitAnimate=function(metadata,context){var styleAst,timingAst=function(value,errors){var timings=null;if(value.hasOwnProperty("duration"))timings=value;else if("number"==typeof value){var duration=resolveTiming(value,errors).duration;return makeTimingAst(duration,0,"")}var strValue=value;if(strValue.split(/\s+/).some(function(v){return"{"==v.charAt(0)&&"{"==v.charAt(1)})){var ast=makeTimingAst(0,0,"");return ast.dynamic=!0,ast.strValue=strValue,ast}return makeTimingAst((timings=timings||resolveTiming(strValue,errors)).duration,timings.delay,timings.easing)}(metadata.timings,context.errors);context.currentAnimateTimings=timingAst;var styleMetadata=metadata.styles?metadata.styles:(0,_animations.style)({});if(5==styleMetadata.type)styleAst=this.visitKeyframes(styleMetadata,context);else{var styleMetadata_1=metadata.styles,isEmpty=!1;if(!styleMetadata_1){isEmpty=!0;var newStyleData={};timingAst.easing&&(newStyleData.easing=timingAst.easing),styleMetadata_1=(0,_animations.style)(newStyleData)}context.currentTime+=timingAst.duration+timingAst.delay;var _styleAst=this.visitStyle(styleMetadata_1,context);_styleAst.isEmptyStep=isEmpty,styleAst=_styleAst}return context.currentAnimateTimings=null,{type:4,timings:timingAst,style:styleAst,options:null}},AnimationAstBuilderVisitor.prototype.visitStyle=function(metadata,context){var ast=this._makeStyleAst(metadata,context);return this._validateStyleAst(ast,context),ast},AnimationAstBuilderVisitor.prototype._makeStyleAst=function(metadata,context){var styles=[];Array.isArray(metadata.styles)?metadata.styles.forEach(function(styleTuple){"string"==typeof styleTuple?styleTuple==_animations.AUTO_STYLE?styles.push(styleTuple):context.errors.push("The provided style string value "+styleTuple+" is not allowed."):styles.push(styleTuple)}):styles.push(metadata.styles);var containsDynamicStyles=!1,collectedEasing=null;return styles.forEach(function(styleData){if(isObject(styleData)){var styleMap=styleData,easing=styleMap.easing;if(easing&&(collectedEasing=easing,delete styleMap.easing),!containsDynamicStyles)for(var prop in styleMap){if(styleMap[prop].toString().indexOf("{{")>=0){containsDynamicStyles=!0;break}}}}),{type:6,styles:styles,easing:collectedEasing,offset:metadata.offset,containsDynamicStyles:containsDynamicStyles,options:null}},AnimationAstBuilderVisitor.prototype._validateStyleAst=function(ast,context){var _this=this,timings=context.currentAnimateTimings,endTime=context.currentTime,startTime=context.currentTime;timings&&startTime>0&&(startTime-=timings.duration+timings.delay),ast.styles.forEach(function(tuple){"string"!=typeof tuple&&Object.keys(tuple).forEach(function(prop){if(_this._driver.validateStyleProperty(prop)){var value,options,errors,params,matches,collectedStyles=context.collectedStyles[context.currentQuerySelector],collectedEntry=collectedStyles[prop],updateCollectedStyle=!0;collectedEntry&&(startTime!=endTime&&startTime>=collectedEntry.startTime&&endTime<=collectedEntry.endTime&&(context.errors.push('The CSS property "'+prop+'" that exists between the times of "'+collectedEntry.startTime+'ms" and "'+collectedEntry.endTime+'ms" is also being animated in a parallel animation between the times of "'+startTime+'ms" and "'+endTime+'ms"'),updateCollectedStyle=!1),startTime=collectedEntry.startTime),updateCollectedStyle&&(collectedStyles[prop]={startTime:startTime,endTime:endTime}),context.options&&(value=tuple[prop],options=context.options,errors=context.errors,params=options.params||{},(matches=extractStyleParams(value)).length&&matches.forEach(function(varName){params.hasOwnProperty(varName)||errors.push("Unable to resolve the local animation param "+varName+" in the given list of values")}))}else context.errors.push('The provided animation property "'+prop+'" is not a supported CSS property for animations')})})},AnimationAstBuilderVisitor.prototype.visitKeyframes=function(metadata,context){var _this=this,ast={type:5,styles:[],options:null};if(!context.currentAnimateTimings)return context.errors.push("keyframes() must be placed inside of a call to animate()"),ast;var totalKeyframesWithOffsets=0,offsets=[],offsetsOutOfOrder=!1,keyframesOutOfRange=!1,previousOffset=0,keyframes=metadata.steps.map(function(styles){var style=_this._makeStyleAst(styles,context),offsetVal=null!=style.offset?style.offset:function(styles){if("string"==typeof styles)return null;var offset=null;if(Array.isArray(styles))styles.forEach(function(styleTuple){if(isObject(styleTuple)&&styleTuple.hasOwnProperty("offset")){var obj=styleTuple;offset=parseFloat(obj.offset),delete obj.offset}});else if(isObject(styles)&&styles.hasOwnProperty("offset")){var obj=styles;offset=parseFloat(obj.offset),delete obj.offset}return offset}(style.styles),offset=0;return null!=offsetVal&&(totalKeyframesWithOffsets++,offset=style.offset=offsetVal),keyframesOutOfRange=keyframesOutOfRange||offset<0||offset>1,offsetsOutOfOrder=offsetsOutOfOrder||offset<previousOffset,previousOffset=offset,offsets.push(offset),style});keyframesOutOfRange&&context.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),offsetsOutOfOrder&&context.errors.push("Please ensure that all keyframe offsets are in order");var length=metadata.steps.length,generatedOffset=0;totalKeyframesWithOffsets>0&&totalKeyframesWithOffsets<length?context.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==totalKeyframesWithOffsets&&(generatedOffset=1/(length-1));var limit=length-1,currentTime=context.currentTime,currentAnimateTimings=context.currentAnimateTimings,animateDuration=currentAnimateTimings.duration;return keyframes.forEach(function(kf,i){var offset=generatedOffset>0?i==limit?1:generatedOffset*i:offsets[i],durationUpToThisFrame=offset*animateDuration;context.currentTime=currentTime+currentAnimateTimings.delay+durationUpToThisFrame,currentAnimateTimings.duration=durationUpToThisFrame,_this._validateStyleAst(kf,context),kf.offset=offset,ast.styles.push(kf)}),ast},AnimationAstBuilderVisitor.prototype.visitReference=function(metadata,context){return{type:8,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),options:normalizeAnimationOptions(metadata.options)}},AnimationAstBuilderVisitor.prototype.visitAnimateChild=function(metadata,context){return context.depCount++,{type:9,options:normalizeAnimationOptions(metadata.options)}},AnimationAstBuilderVisitor.prototype.visitAnimateRef=function(metadata,context){return{type:10,animation:this.visitReference(metadata.animation,context),options:normalizeAnimationOptions(metadata.options)}},AnimationAstBuilderVisitor.prototype.visitQuery=function(metadata,context){var parentSelector=context.currentQuerySelector,options=metadata.options||{};context.queryCount++,context.currentQuery=metadata;var _a=(0,_tslib.__read)(function(selector){var hasAmpersand=!!selector.split(/\s*,\s*/).find(function(token){return token==SELF_TOKEN});hasAmpersand&&(selector=selector.replace(SELF_TOKEN_REGEX,""));return[selector=selector.replace(/@\*/g,NG_TRIGGER_SELECTOR).replace(/@\w+/g,function(match){return NG_TRIGGER_SELECTOR+"-"+match.substr(1)}).replace(/:animating/g,NG_ANIMATING_SELECTOR),hasAmpersand]}(metadata.selector),2),selector=_a[0],includeSelf=_a[1];context.currentQuerySelector=parentSelector.length?parentSelector+" "+selector:selector,getOrSetAsInMap(context.collectedStyles,context.currentQuerySelector,{});var animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return context.currentQuery=null,context.currentQuerySelector=parentSelector,{type:11,selector:selector,limit:options.limit||0,optional:!!options.optional,includeSelf:includeSelf,animation:animation,originalSelector:metadata.selector,options:normalizeAnimationOptions(metadata.options)}},AnimationAstBuilderVisitor.prototype.visitStagger=function(metadata,context){context.currentQuery||context.errors.push("stagger() can only be used inside of query()");var timings="full"===metadata.timings?{duration:0,delay:0,easing:"full"}:resolveTiming(metadata.timings,context.errors,!0);return{type:12,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),timings:timings,options:null}},AnimationAstBuilderVisitor}();var AnimationAstBuilderContext=function(){return function(errors){this.errors=errors,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function isObject(value){return!Array.isArray(value)&&"object"==typeof value}function normalizeAnimationOptions(options){var obj;return options?(options=copyObj(options)).params&&(options.params=(obj=options.params)?copyObj(obj):null):options={},options}function makeTimingAst(duration,delay,easing){return{duration:duration,delay:delay,easing:easing}}function createTimelineInstruction(element,keyframes,preStyleProps,postStyleProps,duration,delay,easing,subTimeline){return void 0===easing&&(easing=null),void 0===subTimeline&&(subTimeline=!1),{type:1,element:element,keyframes:keyframes,preStyleProps:preStyleProps,postStyleProps:postStyleProps,duration:duration,delay:delay,totalTime:duration+delay,easing:easing,subTimeline:subTimeline}}var ElementInstructionMap=function(){function ElementInstructionMap(){this._map=new Map}return ElementInstructionMap.prototype.consume=function(element){var instructions=this._map.get(element);return instructions?this._map.delete(element):instructions=[],instructions},ElementInstructionMap.prototype.append=function(element,instructions){var existingInstructions=this._map.get(element);existingInstructions||this._map.set(element,existingInstructions=[]),existingInstructions.push.apply(existingInstructions,(0,_tslib.__spread)(instructions))},ElementInstructionMap.prototype.has=function(element){return this._map.has(element)},ElementInstructionMap.prototype.clear=function(){this._map.clear()},ElementInstructionMap}(),ENTER_TOKEN_REGEX=new RegExp(":enter","g"),LEAVE_TOKEN_REGEX=new RegExp(":leave","g");function buildAnimationTimelines(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors){return void 0===startingStyles&&(startingStyles={}),void 0===finalStyles&&(finalStyles={}),void 0===errors&&(errors=[]),(new AnimationTimelineBuilderVisitor).buildKeyframes(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors)}var AnimationTimelineBuilderVisitor=function(){function AnimationTimelineBuilderVisitor(){}return AnimationTimelineBuilderVisitor.prototype.buildKeyframes=function(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors){void 0===errors&&(errors=[]),subInstructions=subInstructions||new ElementInstructionMap;var context=new AnimationTimelineContext(driver,rootElement,subInstructions,enterClassName,leaveClassName,errors,[]);context.options=options,context.currentTimeline.setStyles([startingStyles],null,context.errors,options),visitDslNode(this,ast,context);var timelines=context.timelines.filter(function(timeline){return timeline.containsAnimation()});if(timelines.length&&Object.keys(finalStyles).length){var tl=timelines[timelines.length-1];tl.allowOnlyTimelineStyles()||tl.setStyles([finalStyles],null,context.errors,options)}return timelines.length?timelines.map(function(timeline){return timeline.buildKeyframes()}):[createTimelineInstruction(rootElement,[],[],[],0,0,"",!1)]},AnimationTimelineBuilderVisitor.prototype.visitTrigger=function(ast,context){},AnimationTimelineBuilderVisitor.prototype.visitState=function(ast,context){},AnimationTimelineBuilderVisitor.prototype.visitTransition=function(ast,context){},AnimationTimelineBuilderVisitor.prototype.visitAnimateChild=function(ast,context){var elementInstructions=context.subInstructions.consume(context.element);if(elementInstructions){var innerContext=context.createSubContext(ast.options),startTime=context.currentTimeline.currentTime,endTime=this._visitSubInstructions(elementInstructions,innerContext,innerContext.options);startTime!=endTime&&context.transformIntoNewTimeline(endTime)}context.previousNode=ast},AnimationTimelineBuilderVisitor.prototype.visitAnimateRef=function(ast,context){var innerContext=context.createSubContext(ast.options);innerContext.transformIntoNewTimeline(),this.visitReference(ast.animation,innerContext),context.transformIntoNewTimeline(innerContext.currentTimeline.currentTime),context.previousNode=ast},AnimationTimelineBuilderVisitor.prototype._visitSubInstructions=function(instructions,context,options){var furthestTime=context.currentTimeline.currentTime,duration=null!=options.duration?resolveTimingValue(options.duration):null,delay=null!=options.delay?resolveTimingValue(options.delay):null;return 0!==duration&&instructions.forEach(function(instruction){var instructionTimings=context.appendInstructionToTimeline(instruction,duration,delay);furthestTime=Math.max(furthestTime,instructionTimings.duration+instructionTimings.delay)}),furthestTime},AnimationTimelineBuilderVisitor.prototype.visitReference=function(ast,context){context.updateOptions(ast.options,!0),visitDslNode(this,ast.animation,context),context.previousNode=ast},AnimationTimelineBuilderVisitor.prototype.visitSequence=function(ast,context){var _this=this,subContextCount=context.subContextCount,ctx=context,options=ast.options;if(options&&(options.params||options.delay)&&((ctx=context.createSubContext(options)).transformIntoNewTimeline(),null!=options.delay)){6==ctx.previousNode.type&&(ctx.currentTimeline.snapshotCurrentStyles(),ctx.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);var delay=resolveTimingValue(options.delay);ctx.delayNextStep(delay)}ast.steps.length&&(ast.steps.forEach(function(s){return visitDslNode(_this,s,ctx)}),ctx.currentTimeline.applyStylesToKeyframe(),ctx.subContextCount>subContextCount&&ctx.transformIntoNewTimeline()),context.previousNode=ast},AnimationTimelineBuilderVisitor.prototype.visitGroup=function(ast,context){var _this=this,innerTimelines=[],furthestTime=context.currentTimeline.currentTime,delay=ast.options&&ast.options.delay?resolveTimingValue(ast.options.delay):0;ast.steps.forEach(function(s){var innerContext=context.createSubContext(ast.options);delay&&innerContext.delayNextStep(delay),visitDslNode(_this,s,innerContext),furthestTime=Math.max(furthestTime,innerContext.currentTimeline.currentTime),innerTimelines.push(innerContext.currentTimeline)}),innerTimelines.forEach(function(timeline){return context.currentTimeline.mergeTimelineCollectedStyles(timeline)}),context.transformIntoNewTimeline(furthestTime),context.previousNode=ast},AnimationTimelineBuilderVisitor.prototype._visitTiming=function(ast,context){if(ast.dynamic){var strValue=ast.strValue;return resolveTiming(context.params?interpolateParams(strValue,context.params,context.errors):strValue,context.errors)}return{duration:ast.duration,delay:ast.delay,easing:ast.easing}},AnimationTimelineBuilderVisitor.prototype.visitAnimate=function(ast,context){var timings=context.currentAnimateTimings=this._visitTiming(ast.timings,context),timeline=context.currentTimeline;timings.delay&&(context.incrementTime(timings.delay),timeline.snapshotCurrentStyles());var style=ast.style;5==style.type?this.visitKeyframes(style,context):(context.incrementTime(timings.duration),this.visitStyle(style,context),timeline.applyStylesToKeyframe()),context.currentAnimateTimings=null,context.previousNode=ast},AnimationTimelineBuilderVisitor.prototype.visitStyle=function(ast,context){var timeline=context.currentTimeline,timings=context.currentAnimateTimings;!timings&&timeline.getCurrentStyleProperties().length&&timeline.forwardFrame();var easing=timings&&timings.easing||ast.easing;ast.isEmptyStep?timeline.applyEmptyStep(easing):timeline.setStyles(ast.styles,easing,context.errors,context.options),context.previousNode=ast},AnimationTimelineBuilderVisitor.prototype.visitKeyframes=function(ast,context){var currentAnimateTimings=context.currentAnimateTimings,startTime=context.currentTimeline.duration,duration=currentAnimateTimings.duration,innerTimeline=context.createSubContext().currentTimeline;innerTimeline.easing=currentAnimateTimings.easing,ast.styles.forEach(function(step){var offset=step.offset||0;innerTimeline.forwardTime(offset*duration),innerTimeline.setStyles(step.styles,step.easing,context.errors,context.options),innerTimeline.applyStylesToKeyframe()}),context.currentTimeline.mergeTimelineCollectedStyles(innerTimeline),context.transformIntoNewTimeline(startTime+duration),context.previousNode=ast},AnimationTimelineBuilderVisitor.prototype.visitQuery=function(ast,context){var _this=this,startTime=context.currentTimeline.currentTime,options=ast.options||{},delay=options.delay?resolveTimingValue(options.delay):0;delay&&(6===context.previousNode.type||0==startTime&&context.currentTimeline.getCurrentStyleProperties().length)&&(context.currentTimeline.snapshotCurrentStyles(),context.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);var furthestTime=startTime,elms=context.invokeQuery(ast.selector,ast.originalSelector,ast.limit,ast.includeSelf,!!options.optional,context.errors);context.currentQueryTotal=elms.length;var sameElementTimeline=null;elms.forEach(function(element,i){context.currentQueryIndex=i;var innerContext=context.createSubContext(ast.options,element);delay&&innerContext.delayNextStep(delay),element===context.element&&(sameElementTimeline=innerContext.currentTimeline),visitDslNode(_this,ast.animation,innerContext),innerContext.currentTimeline.applyStylesToKeyframe();var endTime=innerContext.currentTimeline.currentTime;furthestTime=Math.max(furthestTime,endTime)}),context.currentQueryIndex=0,context.currentQueryTotal=0,context.transformIntoNewTimeline(furthestTime),sameElementTimeline&&(context.currentTimeline.mergeTimelineCollectedStyles(sameElementTimeline),context.currentTimeline.snapshotCurrentStyles()),context.previousNode=ast},AnimationTimelineBuilderVisitor.prototype.visitStagger=function(ast,context){var parentContext=context.parentContext,tl=context.currentTimeline,timings=ast.timings,duration=Math.abs(timings.duration),maxTime=duration*(context.currentQueryTotal-1),delay=duration*context.currentQueryIndex;switch(timings.duration<0?"reverse":timings.easing){case"reverse":delay=maxTime-delay;break;case"full":delay=parentContext.currentStaggerTime}var timeline=context.currentTimeline;delay&&timeline.delayNextStep(delay);var startingTime=timeline.currentTime;visitDslNode(this,ast.animation,context),context.previousNode=ast,parentContext.currentStaggerTime=tl.currentTime-startingTime+(tl.startTime-parentContext.currentTimeline.startTime)},AnimationTimelineBuilderVisitor}(),DEFAULT_NOOP_PREVIOUS_NODE={},AnimationTimelineContext=function(){function AnimationTimelineContext(_driver,element,subInstructions,_enterClassName,_leaveClassName,errors,timelines,initialTimeline){this._driver=_driver,this.element=element,this.subInstructions=subInstructions,this._enterClassName=_enterClassName,this._leaveClassName=_leaveClassName,this.errors=errors,this.timelines=timelines,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=initialTimeline||new TimelineBuilder(this._driver,element,0),timelines.push(this.currentTimeline)}return Object.defineProperty(AnimationTimelineContext.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),AnimationTimelineContext.prototype.updateOptions=function(options,skipIfExists){var _this=this;if(options){var newOptions=options,optionsToUpdate=this.options;null!=newOptions.duration&&(optionsToUpdate.duration=resolveTimingValue(newOptions.duration)),null!=newOptions.delay&&(optionsToUpdate.delay=resolveTimingValue(newOptions.delay));var newParams=newOptions.params;if(newParams){var paramsToUpdate_1=optionsToUpdate.params;paramsToUpdate_1||(paramsToUpdate_1=this.options.params={}),Object.keys(newParams).forEach(function(name){skipIfExists&&paramsToUpdate_1.hasOwnProperty(name)||(paramsToUpdate_1[name]=interpolateParams(newParams[name],paramsToUpdate_1,_this.errors))})}}},AnimationTimelineContext.prototype._copyOptions=function(){var options={};if(this.options){var oldParams_1=this.options.params;if(oldParams_1){var params_1=options.params={};Object.keys(oldParams_1).forEach(function(name){params_1[name]=oldParams_1[name]})}}return options},AnimationTimelineContext.prototype.createSubContext=function(options,element,newTime){void 0===options&&(options=null);var target=element||this.element,context=new AnimationTimelineContext(this._driver,target,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(target,newTime||0));return context.previousNode=this.previousNode,context.currentAnimateTimings=this.currentAnimateTimings,context.options=this._copyOptions(),context.updateOptions(options),context.currentQueryIndex=this.currentQueryIndex,context.currentQueryTotal=this.currentQueryTotal,context.parentContext=this,this.subContextCount++,context},AnimationTimelineContext.prototype.transformIntoNewTimeline=function(newTime){return this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.currentTimeline=this.currentTimeline.fork(this.element,newTime),this.timelines.push(this.currentTimeline),this.currentTimeline},AnimationTimelineContext.prototype.appendInstructionToTimeline=function(instruction,duration,delay){var updatedTimings={duration:null!=duration?duration:instruction.duration,delay:this.currentTimeline.currentTime+(null!=delay?delay:0)+instruction.delay,easing:""},builder=new SubTimelineBuilder(this._driver,instruction.element,instruction.keyframes,instruction.preStyleProps,instruction.postStyleProps,updatedTimings,instruction.stretchStartingKeyframe);return this.timelines.push(builder),updatedTimings},AnimationTimelineContext.prototype.incrementTime=function(time){this.currentTimeline.forwardTime(this.currentTimeline.duration+time)},AnimationTimelineContext.prototype.delayNextStep=function(delay){delay>0&&this.currentTimeline.delayNextStep(delay)},AnimationTimelineContext.prototype.invokeQuery=function(selector,originalSelector,limit,includeSelf,optional,errors){var results=[];if(includeSelf&&results.push(this.element),selector.length>0){selector=(selector=selector.replace(ENTER_TOKEN_REGEX,"."+this._enterClassName)).replace(LEAVE_TOKEN_REGEX,"."+this._leaveClassName);var multi=1!=limit,elements=this._driver.query(this.element,selector,multi);0!==limit&&(elements=limit<0?elements.slice(elements.length+limit,elements.length):elements.slice(0,limit)),results.push.apply(results,(0,_tslib.__spread)(elements))}return optional||0!=results.length||errors.push('`query("'+originalSelector+'")` returned zero elements. (Use `query("'+originalSelector+'", { optional: true })` if you wish to allow this.)'),results},AnimationTimelineContext}(),TimelineBuilder=function(){function TimelineBuilder(_driver,element,startTime,_elementTimelineStylesLookup){this._driver=_driver,this.element=element,this.startTime=startTime,this._elementTimelineStylesLookup=_elementTimelineStylesLookup,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(element),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(element,this._localTimelineStyles)),this._loadKeyframe()}return TimelineBuilder.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},TimelineBuilder.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(TimelineBuilder.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),TimelineBuilder.prototype.delayNextStep=function(delay){var hasPreStyleStep=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||hasPreStyleStep?(this.forwardTime(this.currentTime+delay),hasPreStyleStep&&this.snapshotCurrentStyles()):this.startTime+=delay},TimelineBuilder.prototype.fork=function(element,currentTime){return this.applyStylesToKeyframe(),new TimelineBuilder(this._driver,element,currentTime||this.currentTime,this._elementTimelineStylesLookup)},TimelineBuilder.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},TimelineBuilder.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},TimelineBuilder.prototype.forwardTime=function(time){this.applyStylesToKeyframe(),this.duration=time,this._loadKeyframe()},TimelineBuilder.prototype._updateStyle=function(prop,value){this._localTimelineStyles[prop]=value,this._globalTimelineStyles[prop]=value,this._styleSummary[prop]={time:this.currentTime,value:value}},TimelineBuilder.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},TimelineBuilder.prototype.applyEmptyStep=function(easing){var _this=this;easing&&(this._previousKeyframe.easing=easing),Object.keys(this._globalTimelineStyles).forEach(function(prop){_this._backFill[prop]=_this._globalTimelineStyles[prop]||_animations.AUTO_STYLE,_this._currentKeyframe[prop]=_animations.AUTO_STYLE}),this._currentEmptyStepKeyframe=this._currentKeyframe},TimelineBuilder.prototype.setStyles=function(input,easing,errors,options){var _this=this;easing&&(this._previousKeyframe.easing=easing);var params=options&&options.params||{},styles=function(input,allStyles){var allProperties,styles={};return input.forEach(function(token){"*"===token?(allProperties=allProperties||Object.keys(allStyles)).forEach(function(prop){styles[prop]=_animations.AUTO_STYLE}):copyStyles(token,!1,styles)}),styles}(input,this._globalTimelineStyles);Object.keys(styles).forEach(function(prop){var val=interpolateParams(styles[prop],params,errors);_this._pendingStyles[prop]=val,_this._localTimelineStyles.hasOwnProperty(prop)||(_this._backFill[prop]=_this._globalTimelineStyles.hasOwnProperty(prop)?_this._globalTimelineStyles[prop]:_animations.AUTO_STYLE),_this._updateStyle(prop,val)})},TimelineBuilder.prototype.applyStylesToKeyframe=function(){var _this=this,styles=this._pendingStyles,props=Object.keys(styles);0!=props.length&&(this._pendingStyles={},props.forEach(function(prop){var val=styles[prop];_this._currentKeyframe[prop]=val}),Object.keys(this._localTimelineStyles).forEach(function(prop){_this._currentKeyframe.hasOwnProperty(prop)||(_this._currentKeyframe[prop]=_this._localTimelineStyles[prop])}))},TimelineBuilder.prototype.snapshotCurrentStyles=function(){var _this=this;Object.keys(this._localTimelineStyles).forEach(function(prop){var val=_this._localTimelineStyles[prop];_this._pendingStyles[prop]=val,_this._updateStyle(prop,val)})},TimelineBuilder.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(TimelineBuilder.prototype,"properties",{get:function(){var properties=[];for(var prop in this._currentKeyframe)properties.push(prop);return properties},enumerable:!0,configurable:!0}),TimelineBuilder.prototype.mergeTimelineCollectedStyles=function(timeline){var _this=this;Object.keys(timeline._styleSummary).forEach(function(prop){var details0=_this._styleSummary[prop],details1=timeline._styleSummary[prop];(!details0||details1.time>details0.time)&&_this._updateStyle(prop,details1.value)})},TimelineBuilder.prototype.buildKeyframes=function(){var _this=this;this.applyStylesToKeyframe();var preStyleProps=new Set,postStyleProps=new Set,isEmpty=1===this._keyframes.size&&0===this.duration,finalKeyframes=[];this._keyframes.forEach(function(keyframe,time){var finalKeyframe=copyStyles(keyframe,!0);Object.keys(finalKeyframe).forEach(function(prop){var value=finalKeyframe[prop];value==_animations.PRE_STYLE?preStyleProps.add(prop):value==_animations.AUTO_STYLE&&postStyleProps.add(prop)}),isEmpty||(finalKeyframe.offset=time/_this.duration),finalKeyframes.push(finalKeyframe)});var preProps=preStyleProps.size?iteratorToArray(preStyleProps.values()):[],postProps=postStyleProps.size?iteratorToArray(postStyleProps.values()):[];if(isEmpty){var kf0=finalKeyframes[0],kf1=copyObj(kf0);kf0.offset=0,kf1.offset=1,finalKeyframes=[kf0,kf1]}return createTimelineInstruction(this.element,finalKeyframes,preProps,postProps,this.duration,this.startTime,this.easing,!1)},TimelineBuilder}(),SubTimelineBuilder=function(_super){function SubTimelineBuilder(driver,element,keyframes,preStyleProps,postStyleProps,timings,_stretchStartingKeyframe){void 0===_stretchStartingKeyframe&&(_stretchStartingKeyframe=!1);var _this=_super.call(this,driver,element,timings.delay)||this;return _this.element=element,_this.keyframes=keyframes,_this.preStyleProps=preStyleProps,_this.postStyleProps=postStyleProps,_this._stretchStartingKeyframe=_stretchStartingKeyframe,_this.timings={duration:timings.duration,delay:timings.delay,easing:timings.easing},_this}return(0,_tslib.__extends)(SubTimelineBuilder,_super),SubTimelineBuilder.prototype.containsAnimation=function(){return this.keyframes.length>1},SubTimelineBuilder.prototype.buildKeyframes=function(){var keyframes=this.keyframes,_a=this.timings,delay=_a.delay,duration=_a.duration,easing=_a.easing;if(this._stretchStartingKeyframe&&delay){var newKeyframes=[],totalTime=duration+delay,startingGap=delay/totalTime,newFirstKeyframe=copyStyles(keyframes[0],!1);newFirstKeyframe.offset=0,newKeyframes.push(newFirstKeyframe);var oldFirstKeyframe=copyStyles(keyframes[0],!1);oldFirstKeyframe.offset=roundOffset(startingGap),newKeyframes.push(oldFirstKeyframe);for(var limit=keyframes.length-1,i=1;i<=limit;i++){var kf=copyStyles(keyframes[i],!1),timeAtKeyframe=delay+kf.offset*duration;kf.offset=roundOffset(timeAtKeyframe/totalTime),newKeyframes.push(kf)}duration=totalTime,delay=0,easing="",keyframes=newKeyframes}return createTimelineInstruction(this.element,keyframes,this.preStyleProps,this.postStyleProps,duration,delay,easing,!0)},SubTimelineBuilder}(TimelineBuilder);function roundOffset(offset,decimalPoints){void 0===decimalPoints&&(decimalPoints=3);var mult=Math.pow(10,decimalPoints-1);return Math.round(offset*mult)/mult}var Animation=function(){function Animation(_driver,input){this._driver=_driver;var errors=[],ast=buildAnimationAst(_driver,input,errors);if(errors.length){var errorMessage="animation validation failed:\n"+errors.join("\n");throw new Error(errorMessage)}this._animationAst=ast}return Animation.prototype.buildTimelines=function(element,startingStyles,destinationStyles,options,subInstructions){var start=Array.isArray(startingStyles)?normalizeStyles(startingStyles):startingStyles,dest=Array.isArray(destinationStyles)?normalizeStyles(destinationStyles):destinationStyles,errors=[];subInstructions=subInstructions||new ElementInstructionMap;var result=buildAnimationTimelines(this._driver,element,this._animationAst,"ng-enter","ng-leave",start,dest,options,subInstructions,errors);if(errors.length){var errorMessage="animation building failed:\n"+errors.join("\n");throw new Error(errorMessage)}return result},Animation}();exports.Animation=Animation;var AnimationStyleNormalizer=function(){return function(){}}();exports.AnimationStyleNormalizer=AnimationStyleNormalizer;var NoopAnimationStyleNormalizer=function(){function NoopAnimationStyleNormalizer(){}return NoopAnimationStyleNormalizer.prototype.normalizePropertyName=function(propertyName,errors){return propertyName},NoopAnimationStyleNormalizer.prototype.normalizeStyleValue=function(userProvidedProperty,normalizedProperty,value,errors){return value},NoopAnimationStyleNormalizer}();exports.NoopAnimationStyleNormalizer=NoopAnimationStyleNormalizer;var WebAnimationsStyleNormalizer=function(_super){function WebAnimationsStyleNormalizer(){return null!==_super&&_super.apply(this,arguments)||this}return(0,_tslib.__extends)(WebAnimationsStyleNormalizer,_super),WebAnimationsStyleNormalizer.prototype.normalizePropertyName=function(propertyName,errors){return dashCaseToCamelCase(propertyName)},WebAnimationsStyleNormalizer.prototype.normalizeStyleValue=function(userProvidedProperty,normalizedProperty,value,errors){var unit="",strVal=value.toString().trim();if(DIMENSIONAL_PROP_MAP[normalizedProperty]&&0!==value&&"0"!==value)if("number"==typeof value)unit="px";else{var valAndSuffixMatch=value.match(/^[+-]?[\d\.]+([a-z]*)$/);valAndSuffixMatch&&0==valAndSuffixMatch[1].length&&errors.push("Please provide a CSS unit value for "+userProvidedProperty+":"+value)}return strVal+unit},WebAnimationsStyleNormalizer}(AnimationStyleNormalizer);exports.WebAnimationsStyleNormalizer=WebAnimationsStyleNormalizer;var keys,map,DIMENSIONAL_PROP_MAP=(keys="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),map={},keys.forEach(function(key){return map[key]=!0}),map);function createTransitionInstruction(element,triggerName,fromState,toState,isRemovalTransition,fromStyles,toStyles,timelines,queriedElements,preStyleProps,postStyleProps,totalTime,errors){return{type:0,element:element,triggerName:triggerName,isRemovalTransition:isRemovalTransition,fromState:fromState,fromStyles:fromStyles,toState:toState,toStyles:toStyles,timelines:timelines,queriedElements:queriedElements,preStyleProps:preStyleProps,postStyleProps:postStyleProps,totalTime:totalTime,errors:errors}}var EMPTY_OBJECT={},AnimationTransitionFactory=function(){function AnimationTransitionFactory(_triggerName,ast,_stateStyles){this._triggerName=_triggerName,this.ast=ast,this._stateStyles=_stateStyles}return AnimationTransitionFactory.prototype.match=function(currentState,nextState,element,params){return function(matchFns,currentState,nextState,element,params){return matchFns.some(function(fn){return fn(currentState,nextState,element,params)})}(this.ast.matchers,currentState,nextState,element,params)},AnimationTransitionFactory.prototype.buildStyles=function(stateName,params,errors){var backupStateStyler=this._stateStyles["*"],stateStyler=this._stateStyles[stateName],backupStyles=backupStateStyler?backupStateStyler.buildStyles(params,errors):{};return stateStyler?stateStyler.buildStyles(params,errors):backupStyles},AnimationTransitionFactory.prototype.build=function(driver,element,currentState,nextState,enterClassName,leaveClassName,currentOptions,nextOptions,subInstructions,skipAstBuild){var errors=[],transitionAnimationParams=this.ast.options&&this.ast.options.params||EMPTY_OBJECT,currentAnimationParams=currentOptions&&currentOptions.params||EMPTY_OBJECT,currentStateStyles=this.buildStyles(currentState,currentAnimationParams,errors),nextAnimationParams=nextOptions&&nextOptions.params||EMPTY_OBJECT,nextStateStyles=this.buildStyles(nextState,nextAnimationParams,errors),queriedElements=new Set,preStyleMap=new Map,postStyleMap=new Map,isRemoval="void"===nextState,animationOptions={params:(0,_tslib.__assign)({},transitionAnimationParams,nextAnimationParams)},timelines=skipAstBuild?[]:buildAnimationTimelines(driver,element,this.ast.animation,enterClassName,leaveClassName,currentStateStyles,nextStateStyles,animationOptions,subInstructions,errors),totalTime=0;if(timelines.forEach(function(tl){totalTime=Math.max(tl.duration+tl.delay,totalTime)}),errors.length)return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,[],[],preStyleMap,postStyleMap,totalTime,errors);timelines.forEach(function(tl){var elm=tl.element,preProps=getOrSetAsInMap(preStyleMap,elm,{});tl.preStyleProps.forEach(function(prop){return preProps[prop]=!0});var postProps=getOrSetAsInMap(postStyleMap,elm,{});tl.postStyleProps.forEach(function(prop){return postProps[prop]=!0}),elm!==element&&queriedElements.add(elm)});var queriedElementsList=iteratorToArray(queriedElements.values());return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,timelines,queriedElementsList,preStyleMap,postStyleMap,totalTime)},AnimationTransitionFactory}();var AnimationStateStyles=function(){function AnimationStateStyles(styles,defaultParams){this.styles=styles,this.defaultParams=defaultParams}return AnimationStateStyles.prototype.buildStyles=function(params,errors){var finalStyles={},combinedParams=copyObj(this.defaultParams);return Object.keys(params).forEach(function(key){var value=params[key];null!=value&&(combinedParams[key]=value)}),this.styles.styles.forEach(function(value){if("string"!=typeof value){var styleObj_1=value;Object.keys(styleObj_1).forEach(function(prop){var val=styleObj_1[prop];val.length>1&&(val=interpolateParams(val,combinedParams,errors)),finalStyles[prop]=val})}}),finalStyles},AnimationStateStyles}();var AnimationTrigger=function(){function AnimationTrigger(name,ast){var triggerName,states,_this=this;this.name=name,this.ast=ast,this.transitionFactories=[],this.states={},ast.states.forEach(function(ast){var defaultParams=ast.options&&ast.options.params||{};_this.states[ast.name]=new AnimationStateStyles(ast.style,defaultParams)}),balanceProperties(this.states,"true","1"),balanceProperties(this.states,"false","0"),ast.transitions.forEach(function(ast){_this.transitionFactories.push(new AnimationTransitionFactory(name,ast,_this.states))}),this.fallbackTransition=(triggerName=name,states=this.states,new AnimationTransitionFactory(triggerName,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(fromState,toState){return!0}],options:null,queryCount:0,depCount:0},states))}return Object.defineProperty(AnimationTrigger.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),AnimationTrigger.prototype.matchTransition=function(currentState,nextState,element,params){return this.transitionFactories.find(function(f){return f.match(currentState,nextState,element,params)})||null},AnimationTrigger.prototype.matchStyles=function(currentState,params,errors){return this.fallbackTransition.buildStyles(currentState,params,errors)},AnimationTrigger}();function balanceProperties(obj,key1,key2){obj.hasOwnProperty(key1)?obj.hasOwnProperty(key2)||(obj[key2]=obj[key1]):obj.hasOwnProperty(key2)&&(obj[key1]=obj[key2])}var EMPTY_INSTRUCTION_MAP=new ElementInstructionMap,TimelineAnimationEngine=function(){function TimelineAnimationEngine(bodyNode,_driver,_normalizer){this.bodyNode=bodyNode,this._driver=_driver,this._normalizer=_normalizer,this._animations={},this._playersById={},this.players=[]}return TimelineAnimationEngine.prototype.register=function(id,metadata){var errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error("Unable to build the animation due to the following errors: "+errors.join("\n"));this._animations[id]=ast},TimelineAnimationEngine.prototype._buildPlayer=function(i,preStyles,postStyles){var element=i.element,keyframes=normalizeKeyframes(this._driver,this._normalizer,0,i.keyframes,preStyles,postStyles);return this._driver.animate(element,keyframes,i.duration,i.delay,i.easing,[],!0)},TimelineAnimationEngine.prototype.create=function(id,element,options){var _this=this;void 0===options&&(options={});var instructions,errors=[],ast=this._animations[id],autoStylesMap=new Map;if(ast?(instructions=buildAnimationTimelines(this._driver,element,ast,"ng-enter","ng-leave",{},{},options,EMPTY_INSTRUCTION_MAP,errors)).forEach(function(inst){var styles=getOrSetAsInMap(autoStylesMap,inst.element,{});inst.postStyleProps.forEach(function(prop){return styles[prop]=null})}):(errors.push("The requested animation doesn't exist or has already been destroyed"),instructions=[]),errors.length)throw new Error("Unable to create the animation due to the following errors: "+errors.join("\n"));autoStylesMap.forEach(function(styles,element){Object.keys(styles).forEach(function(prop){styles[prop]=_this._driver.computeStyle(element,prop,_animations.AUTO_STYLE)})});var player=optimizeGroupPlayer(instructions.map(function(i){var styles=autoStylesMap.get(i.element);return _this._buildPlayer(i,{},styles)}));return this._playersById[id]=player,player.onDestroy(function(){return _this.destroy(id)}),this.players.push(player),player},TimelineAnimationEngine.prototype.destroy=function(id){var player=this._getPlayer(id);player.destroy(),delete this._playersById[id];var index=this.players.indexOf(player);index>=0&&this.players.splice(index,1)},TimelineAnimationEngine.prototype._getPlayer=function(id){var player=this._playersById[id];if(!player)throw new Error("Unable to find the timeline player referenced by "+id);return player},TimelineAnimationEngine.prototype.listen=function(id,element,eventName,callback){var baseEvent=makeAnimationEvent(element,"","","");return listenOnPlayer(this._getPlayer(id),eventName,baseEvent,callback),function(){}},TimelineAnimationEngine.prototype.command=function(id,element,command,args){if("register"!=command)if("create"!=command){var player=this._getPlayer(id);switch(command){case"play":player.play();break;case"pause":player.pause();break;case"reset":player.reset();break;case"restart":player.restart();break;case"finish":player.finish();break;case"init":player.init();break;case"setPosition":player.setPosition(parseFloat(args[0]));break;case"destroy":this.destroy(id)}}else{var options=args[0]||{};this.create(id,element,options)}else this.register(id,args[0])},TimelineAnimationEngine}(),EMPTY_PLAYER_ARRAY=[],NULL_REMOVAL_STATE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NULL_REMOVED_QUERIED_STATE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},REMOVAL_FLAG="__ng_removed",StateValue=function(){function StateValue(input,namespaceId){void 0===namespaceId&&(namespaceId=""),this.namespaceId=namespaceId;var isObj=input&&input.hasOwnProperty("value"),value=isObj?input.value:input;if(this.value=function(value){return null!=value?value:null}(value),isObj){var options=copyObj(input);delete options.value,this.options=options}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(StateValue.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),StateValue.prototype.absorbOptions=function(options){var newParams=options.params;if(newParams){var oldParams_1=this.options.params;Object.keys(newParams).forEach(function(prop){null==oldParams_1[prop]&&(oldParams_1[prop]=newParams[prop])})}},StateValue}(),DEFAULT_STATE_VALUE=new StateValue("void"),AnimationTransitionNamespace=function(){function AnimationTransitionNamespace(id,hostElement,_engine){this.id=id,this.hostElement=hostElement,this._engine=_engine,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+id,addClass(hostElement,this._hostClassName)}return AnimationTransitionNamespace.prototype.listen=function(element,name,phase,callback){var eventName,_this=this;if(!this._triggers.hasOwnProperty(name))throw new Error('Unable to listen on the animation trigger event "'+phase+'" because the animation trigger "'+name+"\" doesn't exist!");if(null==phase||0==phase.length)throw new Error('Unable to listen on the animation trigger "'+name+'" because the provided event is undefined!');if("start"!=(eventName=phase)&&"done"!=eventName)throw new Error('The provided animation trigger event "'+phase+'" for the animation trigger "'+name+'" is not supported!');var listeners=getOrSetAsInMap(this._elementListeners,element,[]),data={name:name,phase:phase,callback:callback};listeners.push(data);var triggersWithStates=getOrSetAsInMap(this._engine.statesByElement,element,{});return triggersWithStates.hasOwnProperty(name)||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+name),triggersWithStates[name]=DEFAULT_STATE_VALUE),function(){_this._engine.afterFlush(function(){var index=listeners.indexOf(data);index>=0&&listeners.splice(index,1),_this._triggers[name]||delete triggersWithStates[name]})}},AnimationTransitionNamespace.prototype.register=function(name,ast){return!this._triggers[name]&&(this._triggers[name]=ast,!0)},AnimationTransitionNamespace.prototype._getTrigger=function(name){var trigger=this._triggers[name];if(!trigger)throw new Error('The provided animation trigger "'+name+'" has not been registered!');return trigger},AnimationTransitionNamespace.prototype.trigger=function(element,triggerName,value,defaultToFallback){var _this=this;void 0===defaultToFallback&&(defaultToFallback=!0);var trigger=this._getTrigger(triggerName),player=new TransitionAnimationPlayer(this.id,triggerName,element),triggersWithStates=this._engine.statesByElement.get(element);triggersWithStates||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+triggerName),this._engine.statesByElement.set(element,triggersWithStates={}));var fromState=triggersWithStates[triggerName],toState=new StateValue(value,this.id);if(!(value&&value.hasOwnProperty("value"))&&fromState&&toState.absorbOptions(fromState.options),triggersWithStates[triggerName]=toState,fromState||(fromState=DEFAULT_STATE_VALUE),"void"===toState.value||fromState.value!==toState.value){var playersOnElement=getOrSetAsInMap(this._engine.playersByElement,element,[]);playersOnElement.forEach(function(player){player.namespaceId==_this.id&&player.triggerName==triggerName&&player.queued&&player.destroy()});var transition=trigger.matchTransition(fromState.value,toState.value,element,toState.params),isFallbackTransition=!1;if(!transition){if(!defaultToFallback)return;transition=trigger.fallbackTransition,isFallbackTransition=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:isFallbackTransition}),isFallbackTransition||(addClass(element,"ng-animate-queued"),player.onStart(function(){removeClass(element,"ng-animate-queued")})),player.onDone(function(){var index=_this.players.indexOf(player);index>=0&&_this.players.splice(index,1);var players=_this._engine.playersByElement.get(element);if(players){var index_1=players.indexOf(player);index_1>=0&&players.splice(index_1,1)}}),this.players.push(player),playersOnElement.push(player),player}if(!function(a,b){var k1=Object.keys(a),k2=Object.keys(b);if(k1.length!=k2.length)return!1;for(var i=0;i<k1.length;i++){var prop=k1[i];if(!b.hasOwnProperty(prop)||a[prop]!==b[prop])return!1}return!0}(fromState.params,toState.params)){var errors=[],fromStyles_1=trigger.matchStyles(fromState.value,fromState.params,errors),toStyles_1=trigger.matchStyles(toState.value,toState.params,errors);errors.length?this._engine.reportError(errors):this._engine.afterFlush(function(){eraseStyles(element,fromStyles_1),setStyles(element,toStyles_1)})}},AnimationTransitionNamespace.prototype.deregister=function(name){var _this=this;delete this._triggers[name],this._engine.statesByElement.forEach(function(stateMap,element){delete stateMap[name]}),this._elementListeners.forEach(function(listeners,element){_this._elementListeners.set(element,listeners.filter(function(entry){return entry.name!=name}))})},AnimationTransitionNamespace.prototype.clearElementCache=function(element){this._engine.statesByElement.delete(element),this._elementListeners.delete(element);var elementPlayers=this._engine.playersByElement.get(element);elementPlayers&&(elementPlayers.forEach(function(player){return player.destroy()}),this._engine.playersByElement.delete(element))},AnimationTransitionNamespace.prototype._signalRemovalForInnerTriggers=function(rootElement,context,animate){var _this=this;void 0===animate&&(animate=!1),this._engine.driver.query(rootElement,NG_TRIGGER_SELECTOR,!0).forEach(function(elm){if(!elm[REMOVAL_FLAG]){var namespaces=_this._engine.fetchNamespacesByElement(elm);namespaces.size?namespaces.forEach(function(ns){return ns.triggerLeaveAnimation(elm,context,!1,!0)}):_this.clearElementCache(elm)}})},AnimationTransitionNamespace.prototype.triggerLeaveAnimation=function(element,context,destroyAfterComplete,defaultToFallback){var _this=this,triggerStates=this._engine.statesByElement.get(element);if(triggerStates){var players_1=[];if(Object.keys(triggerStates).forEach(function(triggerName){if(_this._triggers[triggerName]){var player=_this.trigger(element,triggerName,"void",defaultToFallback);player&&players_1.push(player)}}),players_1.length)return this._engine.markElementAsRemoved(this.id,element,!0,context),destroyAfterComplete&&optimizeGroupPlayer(players_1).onDone(function(){return _this._engine.processLeaveNode(element)}),!0}return!1},AnimationTransitionNamespace.prototype.prepareLeaveAnimationListeners=function(element){var _this=this,listeners=this._elementListeners.get(element);if(listeners){var visitedTriggers_1=new Set;listeners.forEach(function(listener){var triggerName=listener.name;if(!visitedTriggers_1.has(triggerName)){visitedTriggers_1.add(triggerName);var transition=_this._triggers[triggerName].fallbackTransition,fromState=_this._engine.statesByElement.get(element)[triggerName]||DEFAULT_STATE_VALUE,toState=new StateValue("void"),player=new TransitionAnimationPlayer(_this.id,triggerName,element);_this._engine.totalQueuedPlayers++,_this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:!0})}})}},AnimationTransitionNamespace.prototype.removeNode=function(element,context){var _this=this,engine=this._engine;if(element.childElementCount&&this._signalRemovalForInnerTriggers(element,context,!0),!this.triggerLeaveAnimation(element,context,!0)){var containsPotentialParentTransition=!1;if(engine.totalAnimations){var currentPlayers=engine.players.length?engine.playersByQueriedElement.get(element):[];if(currentPlayers&&currentPlayers.length)containsPotentialParentTransition=!0;else for(var parent_1=element;parent_1=parent_1.parentNode;){if(engine.statesByElement.get(parent_1)){containsPotentialParentTransition=!0;break}}}this.prepareLeaveAnimationListeners(element),containsPotentialParentTransition?engine.markElementAsRemoved(this.id,element,!1,context):(engine.afterFlush(function(){return _this.clearElementCache(element)}),engine.destroyInnerAnimations(element),engine._onRemovalComplete(element,context))}},AnimationTransitionNamespace.prototype.insertNode=function(element,parent){addClass(element,this._hostClassName)},AnimationTransitionNamespace.prototype.drainQueuedTransitions=function(microtaskId){var _this=this,instructions=[];return this._queue.forEach(function(entry){var player=entry.player;if(!player.destroyed){var element=entry.element,listeners=_this._elementListeners.get(element);listeners&&listeners.forEach(function(listener){if(listener.name==entry.triggerName){var baseEvent=makeAnimationEvent(element,entry.triggerName,entry.fromState.value,entry.toState.value);baseEvent._data=microtaskId,listenOnPlayer(entry.player,listener.phase,baseEvent,listener.callback)}}),player.markedForDestroy?_this._engine.afterFlush(function(){player.destroy()}):instructions.push(entry)}}),this._queue=[],instructions.sort(function(a,b){var d0=a.transition.ast.depCount,d1=b.transition.ast.depCount;return 0==d0||0==d1?d0-d1:_this._engine.driver.containsElement(a.element,b.element)?1:-1})},AnimationTransitionNamespace.prototype.destroy=function(context){this.players.forEach(function(p){return p.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,context)},AnimationTransitionNamespace.prototype.elementContainsData=function(element){var containsData=!1;return this._elementListeners.has(element)&&(containsData=!0),containsData=!!this._queue.find(function(entry){return entry.element===element})||containsData},AnimationTransitionNamespace}(),TransitionAnimationEngine=function(){function TransitionAnimationEngine(bodyNode,driver,_normalizer){this.bodyNode=bodyNode,this.driver=driver,this._normalizer=_normalizer,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(element,context){}}return TransitionAnimationEngine.prototype._onRemovalComplete=function(element,context){this.onRemovalComplete(element,context)},Object.defineProperty(TransitionAnimationEngine.prototype,"queuedPlayers",{get:function(){var players=[];return this._namespaceList.forEach(function(ns){ns.players.forEach(function(player){player.queued&&players.push(player)})}),players},enumerable:!0,configurable:!0}),TransitionAnimationEngine.prototype.createNamespace=function(namespaceId,hostElement){var ns=new AnimationTransitionNamespace(namespaceId,hostElement,this);return hostElement.parentNode?this._balanceNamespaceList(ns,hostElement):(this.newHostElements.set(hostElement,ns),this.collectEnterElement(hostElement)),this._namespaceLookup[namespaceId]=ns},TransitionAnimationEngine.prototype._balanceNamespaceList=function(ns,hostElement){var limit=this._namespaceList.length-1;if(limit>=0){for(var found=!1,i=limit;i>=0;i--){var nextNamespace=this._namespaceList[i];if(this.driver.containsElement(nextNamespace.hostElement,hostElement)){this._namespaceList.splice(i+1,0,ns),found=!0;break}}found||this._namespaceList.splice(0,0,ns)}else this._namespaceList.push(ns);return this.namespacesByHostElement.set(hostElement,ns),ns},TransitionAnimationEngine.prototype.register=function(namespaceId,hostElement){var ns=this._namespaceLookup[namespaceId];return ns||(ns=this.createNamespace(namespaceId,hostElement)),ns},TransitionAnimationEngine.prototype.registerTrigger=function(namespaceId,name,trigger){var ns=this._namespaceLookup[namespaceId];ns&&ns.register(name,trigger)&&this.totalAnimations++},TransitionAnimationEngine.prototype.destroy=function(namespaceId,context){var _this=this;if(namespaceId){var ns=this._fetchNamespace(namespaceId);this.afterFlush(function(){_this.namespacesByHostElement.delete(ns.hostElement),delete _this._namespaceLookup[namespaceId];var index=_this._namespaceList.indexOf(ns);index>=0&&_this._namespaceList.splice(index,1)}),this.afterFlushAnimationsDone(function(){return ns.destroy(context)})}},TransitionAnimationEngine.prototype._fetchNamespace=function(id){return this._namespaceLookup[id]},TransitionAnimationEngine.prototype.fetchNamespacesByElement=function(element){var namespaces=new Set,elementStates=this.statesByElement.get(element);if(elementStates)for(var keys=Object.keys(elementStates),i=0;i<keys.length;i++){var nsId=elementStates[keys[i]].namespaceId;if(nsId){var ns=this._fetchNamespace(nsId);ns&&namespaces.add(ns)}}return namespaces},TransitionAnimationEngine.prototype.trigger=function(namespaceId,element,name,value){if(isElementNode(element)){var ns=this._fetchNamespace(namespaceId);if(ns)return ns.trigger(element,name,value),!0}return!1},TransitionAnimationEngine.prototype.insertNode=function(namespaceId,element,parent,insertBefore){if(isElementNode(element)){var details=element[REMOVAL_FLAG];if(details&&details.setForRemoval){details.setForRemoval=!1,details.setForMove=!0;var index=this.collectedLeaveElements.indexOf(element);index>=0&&this.collectedLeaveElements.splice(index,1)}if(namespaceId){var ns=this._fetchNamespace(namespaceId);ns&&ns.insertNode(element,parent)}insertBefore&&this.collectEnterElement(element)}},TransitionAnimationEngine.prototype.collectEnterElement=function(element){this.collectedEnterElements.push(element)},TransitionAnimationEngine.prototype.markElementAsDisabled=function(element,value){value?this.disabledNodes.has(element)||(this.disabledNodes.add(element),addClass(element,"ng-animate-disabled")):this.disabledNodes.has(element)&&(this.disabledNodes.delete(element),removeClass(element,"ng-animate-disabled"))},TransitionAnimationEngine.prototype.removeNode=function(namespaceId,element,isHostElement,context){if(isElementNode(element)){var ns=namespaceId?this._fetchNamespace(namespaceId):null;if(ns?ns.removeNode(element,context):this.markElementAsRemoved(namespaceId,element,!1,context),isHostElement){var hostNS=this.namespacesByHostElement.get(element);hostNS&&hostNS.id!==namespaceId&&hostNS.removeNode(element,context)}}else this._onRemovalComplete(element,context)},TransitionAnimationEngine.prototype.markElementAsRemoved=function(namespaceId,element,hasAnimation,context){this.collectedLeaveElements.push(element),element[REMOVAL_FLAG]={namespaceId:namespaceId,setForRemoval:context,hasAnimation:hasAnimation,removedBeforeQueried:!1}},TransitionAnimationEngine.prototype.listen=function(namespaceId,element,name,phase,callback){return isElementNode(element)?this._fetchNamespace(namespaceId).listen(element,name,phase,callback):function(){}},TransitionAnimationEngine.prototype._buildInstruction=function(entry,subTimelines,enterClassName,leaveClassName,skipBuildAst){return entry.transition.build(this.driver,entry.element,entry.fromState.value,entry.toState.value,enterClassName,leaveClassName,entry.fromState.options,entry.toState.options,subTimelines,skipBuildAst)},TransitionAnimationEngine.prototype.destroyInnerAnimations=function(containerElement){var _this=this,elements=this.driver.query(containerElement,NG_TRIGGER_SELECTOR,!0);elements.forEach(function(element){return _this.destroyActiveAnimationsForElement(element)}),0!=this.playersByQueriedElement.size&&(elements=this.driver.query(containerElement,NG_ANIMATING_SELECTOR,!0)).forEach(function(element){return _this.finishActiveQueriedAnimationOnElement(element)})},TransitionAnimationEngine.prototype.destroyActiveAnimationsForElement=function(element){var players=this.playersByElement.get(element);players&&players.forEach(function(player){player.queued?player.markedForDestroy=!0:player.destroy()})},TransitionAnimationEngine.prototype.finishActiveQueriedAnimationOnElement=function(element){var players=this.playersByQueriedElement.get(element);players&&players.forEach(function(player){return player.finish()})},TransitionAnimationEngine.prototype.whenRenderingDone=function(){var _this=this;return new Promise(function(resolve){if(_this.players.length)return optimizeGroupPlayer(_this.players).onDone(function(){return resolve()});resolve()})},TransitionAnimationEngine.prototype.processLeaveNode=function(element){var _this=this,details=element[REMOVAL_FLAG];if(details&&details.setForRemoval){if(element[REMOVAL_FLAG]=NULL_REMOVAL_STATE,details.namespaceId){this.destroyInnerAnimations(element);var ns=this._fetchNamespace(details.namespaceId);ns&&ns.clearElementCache(element)}this._onRemovalComplete(element,details.setForRemoval)}this.driver.matchesElement(element,".ng-animate-disabled")&&this.markElementAsDisabled(element,!1),this.driver.query(element,".ng-animate-disabled",!0).forEach(function(node){_this.markElementAsDisabled(node,!1)})},TransitionAnimationEngine.prototype.flush=function(microtaskId){var _this=this;void 0===microtaskId&&(microtaskId=-1);var players=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(ns,element){return _this._balanceNamespaceList(ns,element)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++){addClass(this.collectedEnterElements[i],"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var cleanupFns=[];try{players=this._flushAnimations(cleanupFns,microtaskId)}finally{for(i=0;i<cleanupFns.length;i++)cleanupFns[i]()}}else for(i=0;i<this.collectedLeaveElements.length;i++){var element=this.collectedLeaveElements[i];this.processLeaveNode(element)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(fn){return fn()}),this._flushFns=[],this._whenQuietFns.length){var quietFns_1=this._whenQuietFns;this._whenQuietFns=[],players.length?optimizeGroupPlayer(players).onDone(function(){quietFns_1.forEach(function(fn){return fn()})}):quietFns_1.forEach(function(fn){return fn()})}},TransitionAnimationEngine.prototype.reportError=function(errors){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+errors.join("\n"))},TransitionAnimationEngine.prototype._flushAnimations=function(cleanupFns,microtaskId){var _this=this,subTimelines=new ElementInstructionMap,skippedPlayers=[],skippedPlayersMap=new Map,queuedInstructions=[],queriedElements=new Map,allPreStyleElements=new Map,allPostStyleElements=new Map,disabledElementsSet=new Set;this.disabledNodes.forEach(function(node){disabledElementsSet.add(node);for(var nodesThatAreDisabled=_this.driver.query(node,".ng-animate-queued",!0),i_1=0;i_1<nodesThatAreDisabled.length;i_1++)disabledElementsSet.add(nodesThatAreDisabled[i_1])});var bodyNode=this.bodyNode,allTriggerElements=Array.from(this.statesByElement.keys()),enterNodeMap=buildRootMap(allTriggerElements,this.collectedEnterElements),enterNodeMapIds=new Map,i=0;enterNodeMap.forEach(function(nodes,root){var className="ng-enter"+i++;enterNodeMapIds.set(root,className),nodes.forEach(function(node){return addClass(node,className)})});for(var allLeaveNodes=[],mergedLeaveNodes=new Set,leaveNodesWithoutAnimations=new Set,i_2=0;i_2<this.collectedLeaveElements.length;i_2++){(details=(element=this.collectedLeaveElements[i_2])[REMOVAL_FLAG])&&details.setForRemoval&&(allLeaveNodes.push(element),mergedLeaveNodes.add(element),details.hasAnimation?this.driver.query(element,".ng-star-inserted",!0).forEach(function(elm){return mergedLeaveNodes.add(elm)}):leaveNodesWithoutAnimations.add(element))}var leaveNodeMapIds=new Map,leaveNodeMap=buildRootMap(allTriggerElements,Array.from(mergedLeaveNodes));leaveNodeMap.forEach(function(nodes,root){var className="ng-leave"+i++;leaveNodeMapIds.set(root,className),nodes.forEach(function(node){return addClass(node,className)})}),cleanupFns.push(function(){enterNodeMap.forEach(function(nodes,root){var className=enterNodeMapIds.get(root);nodes.forEach(function(node){return removeClass(node,className)})}),leaveNodeMap.forEach(function(nodes,root){var className=leaveNodeMapIds.get(root);nodes.forEach(function(node){return removeClass(node,className)})}),allLeaveNodes.forEach(function(element){_this.processLeaveNode(element)})});for(var allPlayers=[],erroneousTransitions=[],i_3=this._namespaceList.length-1;i_3>=0;i_3--){this._namespaceList[i_3].drainQueuedTransitions(microtaskId).forEach(function(entry){var player=entry.player,element=entry.element;if(allPlayers.push(player),_this.collectedEnterElements.length){var details=element[REMOVAL_FLAG];if(details&&details.setForMove)return void player.destroy()}var nodeIsOrphaned=!bodyNode||!_this.driver.containsElement(bodyNode,element),leaveClassName=leaveNodeMapIds.get(element),enterClassName=enterNodeMapIds.get(element),instruction=_this._buildInstruction(entry,subTimelines,enterClassName,leaveClassName,nodeIsOrphaned);if(instruction.errors&&instruction.errors.length)erroneousTransitions.push(instruction);else{if(nodeIsOrphaned)return player.onStart(function(){return eraseStyles(element,instruction.fromStyles)}),player.onDestroy(function(){return setStyles(element,instruction.toStyles)}),void skippedPlayers.push(player);if(entry.isFallbackTransition)return player.onStart(function(){return eraseStyles(element,instruction.fromStyles)}),player.onDestroy(function(){return setStyles(element,instruction.toStyles)}),void skippedPlayers.push(player);instruction.timelines.forEach(function(tl){return tl.stretchStartingKeyframe=!0}),subTimelines.append(element,instruction.timelines);var tuple={instruction:instruction,player:player,element:element};queuedInstructions.push(tuple),instruction.queriedElements.forEach(function(element){return getOrSetAsInMap(queriedElements,element,[]).push(player)}),instruction.preStyleProps.forEach(function(stringMap,element){var props=Object.keys(stringMap);if(props.length){var setVal_1=allPreStyleElements.get(element);setVal_1||allPreStyleElements.set(element,setVal_1=new Set),props.forEach(function(prop){return setVal_1.add(prop)})}}),instruction.postStyleProps.forEach(function(stringMap,element){var props=Object.keys(stringMap),setVal=allPostStyleElements.get(element);setVal||allPostStyleElements.set(element,setVal=new Set),props.forEach(function(prop){return setVal.add(prop)})})}})}if(erroneousTransitions.length){var errors_1=[];erroneousTransitions.forEach(function(instruction){errors_1.push("@"+instruction.triggerName+" has failed due to:\n"),instruction.errors.forEach(function(error){return errors_1.push("- "+error+"\n")})}),allPlayers.forEach(function(player){return player.destroy()}),this.reportError(errors_1)}var allPreviousPlayersMap=new Map,animationElementMap=new Map;queuedInstructions.forEach(function(entry){var element=entry.element;subTimelines.has(element)&&(animationElementMap.set(element,element),_this._beforeAnimationBuild(entry.player.namespaceId,entry.instruction,allPreviousPlayersMap))}),skippedPlayers.forEach(function(player){var element=player.element;_this._getPreviousPlayers(element,!1,player.namespaceId,player.triggerName,null).forEach(function(prevPlayer){getOrSetAsInMap(allPreviousPlayersMap,element,[]).push(prevPlayer),prevPlayer.destroy()})});var replaceNodes=allLeaveNodes.filter(function(node){return replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)}),postStylesMap=new Map;cloakAndComputeStyles(postStylesMap,this.driver,leaveNodesWithoutAnimations,allPostStyleElements,_animations.AUTO_STYLE).forEach(function(node){replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)&&replaceNodes.push(node)});var preStylesMap=new Map;enterNodeMap.forEach(function(nodes,root){cloakAndComputeStyles(preStylesMap,_this.driver,new Set(nodes),allPreStyleElements,_animations.PRE_STYLE)}),replaceNodes.forEach(function(node){var post=postStylesMap.get(node),pre=preStylesMap.get(node);postStylesMap.set(node,(0,_tslib.__assign)({},post,pre))});var rootPlayers=[],subPlayers=[],NO_PARENT_ANIMATION_ELEMENT_DETECTED={};queuedInstructions.forEach(function(entry){var element=entry.element,player=entry.player,instruction=entry.instruction;if(subTimelines.has(element)){if(disabledElementsSet.has(element))return player.onDestroy(function(){return setStyles(element,instruction.toStyles)}),player.disabled=!0,player.overrideTotalTime(instruction.totalTime),void skippedPlayers.push(player);var parentWithAnimation_1=NO_PARENT_ANIMATION_ELEMENT_DETECTED;if(animationElementMap.size>1){for(var elm=element,parentsToAdd=[];elm=elm.parentNode;){var detectedParent=animationElementMap.get(elm);if(detectedParent){parentWithAnimation_1=detectedParent;break}parentsToAdd.push(elm)}parentsToAdd.forEach(function(parent){return animationElementMap.set(parent,parentWithAnimation_1)})}var innerPlayer=_this._buildAnimation(player.namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap);if(player.setRealPlayer(innerPlayer),parentWithAnimation_1===NO_PARENT_ANIMATION_ELEMENT_DETECTED)rootPlayers.push(player);else{var parentPlayers=_this.playersByElement.get(parentWithAnimation_1);parentPlayers&&parentPlayers.length&&(player.parentPlayer=optimizeGroupPlayer(parentPlayers)),skippedPlayers.push(player)}}else eraseStyles(element,instruction.fromStyles),player.onDestroy(function(){return setStyles(element,instruction.toStyles)}),subPlayers.push(player),disabledElementsSet.has(element)&&skippedPlayers.push(player)}),subPlayers.forEach(function(player){var playersForElement=skippedPlayersMap.get(player.element);if(playersForElement&&playersForElement.length){var innerPlayer=optimizeGroupPlayer(playersForElement);player.setRealPlayer(innerPlayer)}}),skippedPlayers.forEach(function(player){player.parentPlayer?player.syncPlayerEvents(player.parentPlayer):player.destroy()});for(var i_4=0;i_4<allLeaveNodes.length;i_4++){var element,details=(element=allLeaveNodes[i_4])[REMOVAL_FLAG];if(removeClass(element,"ng-leave"),!details||!details.hasAnimation){var players=[];if(queriedElements.size){var queriedPlayerResults=queriedElements.get(element);queriedPlayerResults&&queriedPlayerResults.length&&players.push.apply(players,(0,_tslib.__spread)(queriedPlayerResults));for(var queriedInnerElements=this.driver.query(element,NG_ANIMATING_SELECTOR,!0),j=0;j<queriedInnerElements.length;j++){var queriedPlayers=queriedElements.get(queriedInnerElements[j]);queriedPlayers&&queriedPlayers.length&&players.push.apply(players,(0,_tslib.__spread)(queriedPlayers))}}var activePlayers=players.filter(function(p){return!p.destroyed});activePlayers.length?removeNodesAfterAnimationDone(this,element,activePlayers):this.processLeaveNode(element)}}return allLeaveNodes.length=0,rootPlayers.forEach(function(player){_this.players.push(player),player.onDone(function(){player.destroy();var index=_this.players.indexOf(player);_this.players.splice(index,1)}),player.play()}),rootPlayers},TransitionAnimationEngine.prototype.elementContainsData=function(namespaceId,element){var containsData=!1,details=element[REMOVAL_FLAG];return details&&details.setForRemoval&&(containsData=!0),this.playersByElement.has(element)&&(containsData=!0),this.playersByQueriedElement.has(element)&&(containsData=!0),this.statesByElement.has(element)&&(containsData=!0),this._fetchNamespace(namespaceId).elementContainsData(element)||containsData},TransitionAnimationEngine.prototype.afterFlush=function(callback){this._flushFns.push(callback)},TransitionAnimationEngine.prototype.afterFlushAnimationsDone=function(callback){this._whenQuietFns.push(callback)},TransitionAnimationEngine.prototype._getPreviousPlayers=function(element,isQueriedElement,namespaceId,triggerName,toStateValue){var players=[];if(isQueriedElement){var queriedElementPlayers=this.playersByQueriedElement.get(element);queriedElementPlayers&&(players=queriedElementPlayers)}else{var elementPlayers=this.playersByElement.get(element);if(elementPlayers){var isRemovalAnimation_1=!toStateValue||"void"==toStateValue;elementPlayers.forEach(function(player){player.queued||(isRemovalAnimation_1||player.triggerName==triggerName)&&players.push(player)})}}return(namespaceId||triggerName)&&(players=players.filter(function(player){return(!namespaceId||namespaceId==player.namespaceId)&&(!triggerName||triggerName==player.triggerName)})),players},TransitionAnimationEngine.prototype._beforeAnimationBuild=function(namespaceId,instruction,allPreviousPlayersMap){var e_1,_a,triggerName=instruction.triggerName,rootElement=instruction.element,targetNameSpaceId=instruction.isRemovalTransition?void 0:namespaceId,targetTriggerName=instruction.isRemovalTransition?void 0:triggerName,_loop_1=function(timelineInstruction){var element=timelineInstruction.element,isQueriedElement=element!==rootElement,players=getOrSetAsInMap(allPreviousPlayersMap,element,[]);this_1._getPreviousPlayers(element,isQueriedElement,targetNameSpaceId,targetTriggerName,instruction.toState).forEach(function(player){var realPlayer=player.getRealPlayer();realPlayer.beforeDestroy&&realPlayer.beforeDestroy(),player.destroy(),players.push(player)})},this_1=this;try{for(var _b=(0,_tslib.__values)(instruction.timelines),_c=_b.next();!_c.done;_c=_b.next()){_loop_1(_c.value)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}eraseStyles(rootElement,instruction.fromStyles)},TransitionAnimationEngine.prototype._buildAnimation=function(namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap){var _this=this,triggerName=instruction.triggerName,rootElement=instruction.element,allQueriedPlayers=[],allConsumedElements=new Set,allSubElements=new Set,allNewPlayers=instruction.timelines.map(function(timelineInstruction){var element=timelineInstruction.element;allConsumedElements.add(element);var details=element[REMOVAL_FLAG];if(details&&details.removedBeforeQueried)return new _animations.NoopAnimationPlayer(timelineInstruction.duration,timelineInstruction.delay);var players,finalPlayers,isQueriedElement=element!==rootElement,previousPlayers=(players=(allPreviousPlayersMap.get(element)||EMPTY_PLAYER_ARRAY).map(function(p){return p.getRealPlayer()}),finalPlayers=[],function _flattenGroupPlayersRecur(players,finalPlayers){for(var i=0;i<players.length;i++){var player=players[i];player instanceof _animations.AnimationGroupPlayer?_flattenGroupPlayersRecur(player.players,finalPlayers):finalPlayers.push(player)}}(players,finalPlayers),finalPlayers).filter(function(p){var pp=p;return!!pp.element&&pp.element===element}),preStyles=preStylesMap.get(element),postStyles=postStylesMap.get(element),keyframes=normalizeKeyframes(_this.driver,_this._normalizer,0,timelineInstruction.keyframes,preStyles,postStyles),player=_this._buildPlayer(timelineInstruction,keyframes,previousPlayers);if(timelineInstruction.subTimeline&&skippedPlayersMap&&allSubElements.add(element),isQueriedElement){var wrappedPlayer=new TransitionAnimationPlayer(namespaceId,triggerName,element);wrappedPlayer.setRealPlayer(player),allQueriedPlayers.push(wrappedPlayer)}return player});allQueriedPlayers.forEach(function(player){getOrSetAsInMap(_this.playersByQueriedElement,player.element,[]).push(player),player.onDone(function(){return function(map,key,value){var currentValues;if(map instanceof Map){if(currentValues=map.get(key)){if(currentValues.length){var index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&map.delete(key)}}else if(currentValues=map[key]){if(currentValues.length){var index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&delete map[key]}return currentValues}(_this.playersByQueriedElement,player.element,player)})}),allConsumedElements.forEach(function(element){return addClass(element,"ng-animating")});var player=optimizeGroupPlayer(allNewPlayers);return player.onDestroy(function(){allConsumedElements.forEach(function(element){return removeClass(element,"ng-animating")}),setStyles(rootElement,instruction.toStyles)}),allSubElements.forEach(function(element){getOrSetAsInMap(skippedPlayersMap,element,[]).push(player)}),player},TransitionAnimationEngine.prototype._buildPlayer=function(instruction,keyframes,previousPlayers){return keyframes.length>0?this.driver.animate(instruction.element,keyframes,instruction.duration,instruction.delay,instruction.easing,previousPlayers):new _animations.NoopAnimationPlayer(instruction.duration,instruction.delay)},TransitionAnimationEngine}(),TransitionAnimationPlayer=function(){function TransitionAnimationPlayer(namespaceId,triggerName,element){this.namespaceId=namespaceId,this.triggerName=triggerName,this.element=element,this._player=new _animations.NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return TransitionAnimationPlayer.prototype.setRealPlayer=function(player){var _this=this;this._containsRealPlayer||(this._player=player,Object.keys(this._queuedCallbacks).forEach(function(phase){_this._queuedCallbacks[phase].forEach(function(callback){return listenOnPlayer(player,phase,void 0,callback)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(player.totalTime),this.queued=!1)},TransitionAnimationPlayer.prototype.getRealPlayer=function(){return this._player},TransitionAnimationPlayer.prototype.overrideTotalTime=function(totalTime){this.totalTime=totalTime},TransitionAnimationPlayer.prototype.syncPlayerEvents=function(player){var _this=this,p=this._player;p.triggerCallback&&player.onStart(function(){return p.triggerCallback("start")}),player.onDone(function(){return _this.finish()}),player.onDestroy(function(){return _this.destroy()})},TransitionAnimationPlayer.prototype._queueEvent=function(name,callback){getOrSetAsInMap(this._queuedCallbacks,name,[]).push(callback)},TransitionAnimationPlayer.prototype.onDone=function(fn){this.queued&&this._queueEvent("done",fn),this._player.onDone(fn)},TransitionAnimationPlayer.prototype.onStart=function(fn){this.queued&&this._queueEvent("start",fn),this._player.onStart(fn)},TransitionAnimationPlayer.prototype.onDestroy=function(fn){this.queued&&this._queueEvent("destroy",fn),this._player.onDestroy(fn)},TransitionAnimationPlayer.prototype.init=function(){this._player.init()},TransitionAnimationPlayer.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},TransitionAnimationPlayer.prototype.play=function(){!this.queued&&this._player.play()},TransitionAnimationPlayer.prototype.pause=function(){!this.queued&&this._player.pause()},TransitionAnimationPlayer.prototype.restart=function(){!this.queued&&this._player.restart()},TransitionAnimationPlayer.prototype.finish=function(){this._player.finish()},TransitionAnimationPlayer.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},TransitionAnimationPlayer.prototype.reset=function(){!this.queued&&this._player.reset()},TransitionAnimationPlayer.prototype.setPosition=function(p){this.queued||this._player.setPosition(p)},TransitionAnimationPlayer.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},TransitionAnimationPlayer.prototype.triggerCallback=function(phaseName){var p=this._player;p.triggerCallback&&p.triggerCallback(phaseName)},TransitionAnimationPlayer}();function isElementNode(node){return node&&1===node.nodeType}function cloakElement(element,value){var oldValue=element.style.display;return element.style.display=null!=value?value:"none",oldValue}function cloakAndComputeStyles(valuesMap,driver,elements,elementPropsMap,defaultStyle){var cloakVals=[];elements.forEach(function(element){return cloakVals.push(cloakElement(element))});var failedElements=[];elementPropsMap.forEach(function(props,element){var styles={};props.forEach(function(prop){var value=styles[prop]=driver.computeStyle(element,prop,defaultStyle);value&&0!=value.length||(element[REMOVAL_FLAG]=NULL_REMOVED_QUERIED_STATE,failedElements.push(element))}),valuesMap.set(element,styles)});var i=0;return elements.forEach(function(element){return cloakElement(element,cloakVals[i++])}),failedElements}function buildRootMap(roots,nodes){var rootMap=new Map;if(roots.forEach(function(root){return rootMap.set(root,[])}),0==nodes.length)return rootMap;var NULL_NODE=1,nodeSet=new Set(nodes),localRootMap=new Map;return nodes.forEach(function(node){var root=function getRoot(node){if(!node)return NULL_NODE;var root=localRootMap.get(node);if(root)return root;var parent=node.parentNode;return root=rootMap.has(parent)?parent:nodeSet.has(parent)?NULL_NODE:getRoot(parent),localRootMap.set(node,root),root}(node);root!==NULL_NODE&&rootMap.get(root).push(node)}),rootMap}var CLASSES_CACHE_KEY="$$classes";function addClass(element,className){if(element.classList)element.classList.add(className);else{var classes=element[CLASSES_CACHE_KEY];classes||(classes=element[CLASSES_CACHE_KEY]={}),classes[className]=!0}}function removeClass(element,className){if(element.classList)element.classList.remove(className);else{var classes=element[CLASSES_CACHE_KEY];classes&&delete classes[className]}}function removeNodesAfterAnimationDone(engine,element,players){optimizeGroupPlayer(players).onDone(function(){return engine.processLeaveNode(element)})}function replacePostStylesAsPre(element,allPreStyleElements,allPostStyleElements){var postEntry=allPostStyleElements.get(element);if(!postEntry)return!1;var preEntry=allPreStyleElements.get(element);return preEntry?postEntry.forEach(function(data){return preEntry.add(data)}):allPreStyleElements.set(element,postEntry),allPostStyleElements.delete(element),!0}var AnimationEngine=function(){function AnimationEngine(bodyNode,_driver,normalizer){var _this=this;this.bodyNode=bodyNode,this._driver=_driver,this._triggerCache={},this.onRemovalComplete=function(element,context){},this._transitionEngine=new TransitionAnimationEngine(bodyNode,_driver,normalizer),this._timelineEngine=new TimelineAnimationEngine(bodyNode,_driver,normalizer),this._transitionEngine.onRemovalComplete=function(element,context){return _this.onRemovalComplete(element,context)}}return AnimationEngine.prototype.registerTrigger=function(componentId,namespaceId,hostElement,name,metadata){var cacheKey=componentId+"-"+name,trigger=this._triggerCache[cacheKey];if(!trigger){var errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error('The animation trigger "'+name+'" has failed to build due to the following errors:\n - '+errors.join("\n - "));trigger=function(name,ast){return new AnimationTrigger(name,ast)}(name,ast),this._triggerCache[cacheKey]=trigger}this._transitionEngine.registerTrigger(namespaceId,name,trigger)},AnimationEngine.prototype.register=function(namespaceId,hostElement){this._transitionEngine.register(namespaceId,hostElement)},AnimationEngine.prototype.destroy=function(namespaceId,context){this._transitionEngine.destroy(namespaceId,context)},AnimationEngine.prototype.onInsert=function(namespaceId,element,parent,insertBefore){this._transitionEngine.insertNode(namespaceId,element,parent,insertBefore)},AnimationEngine.prototype.onRemove=function(namespaceId,element,context,isHostElement){this._transitionEngine.removeNode(namespaceId,element,isHostElement||!1,context)},AnimationEngine.prototype.disableAnimations=function(element,disable){this._transitionEngine.markElementAsDisabled(element,disable)},AnimationEngine.prototype.process=function(namespaceId,element,property,value){if("@"==property.charAt(0)){var _a=(0,_tslib.__read)(parseTimelineCommand(property),2),id=_a[0],action=_a[1],args=value;this._timelineEngine.command(id,element,action,args)}else this._transitionEngine.trigger(namespaceId,element,property,value)},AnimationEngine.prototype.listen=function(namespaceId,element,eventName,eventPhase,callback){if("@"==eventName.charAt(0)){var _a=(0,_tslib.__read)(parseTimelineCommand(eventName),2),id=_a[0],action=_a[1];return this._timelineEngine.listen(id,element,action,callback)}return this._transitionEngine.listen(namespaceId,element,eventName,eventPhase,callback)},AnimationEngine.prototype.flush=function(microtaskId){void 0===microtaskId&&(microtaskId=-1),this._transitionEngine.flush(microtaskId)},Object.defineProperty(AnimationEngine.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),AnimationEngine.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},AnimationEngine}();function packageNonAnimatableStyles(element,styles){var startStyles=null,endStyles=null;return Array.isArray(styles)&&styles.length?(startStyles=filterNonAnimatableStyles(styles[0]),styles.length>1&&(endStyles=filterNonAnimatableStyles(styles[styles.length-1]))):styles&&(startStyles=filterNonAnimatableStyles(styles)),startStyles||endStyles?new SpecialCasedStyles(element,startStyles,endStyles):null}exports.AnimationEngine=AnimationEngine;var SpecialCasedStyles=function(){function SpecialCasedStyles(_element,_startStyles,_endStyles){this._element=_element,this._startStyles=_startStyles,this._endStyles=_endStyles,this._state=0;var initialStyles=SpecialCasedStyles.initialStylesByElement.get(_element);initialStyles||SpecialCasedStyles.initialStylesByElement.set(_element,initialStyles={}),this._initialStyles=initialStyles}return SpecialCasedStyles.prototype.start=function(){this._state<1&&(this._startStyles&&setStyles(this._element,this._startStyles,this._initialStyles),this._state=1)},SpecialCasedStyles.prototype.finish=function(){this.start(),this._state<2&&(setStyles(this._element,this._initialStyles),this._endStyles&&(setStyles(this._element,this._endStyles),this._endStyles=null),this._state=1)},SpecialCasedStyles.prototype.destroy=function(){this.finish(),this._state<3&&(SpecialCasedStyles.initialStylesByElement.delete(this._element),this._startStyles&&(eraseStyles(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eraseStyles(this._element,this._endStyles),this._endStyles=null),setStyles(this._element,this._initialStyles),this._state=3)},SpecialCasedStyles.initialStylesByElement=new WeakMap,SpecialCasedStyles}();function filterNonAnimatableStyles(styles){for(var result=null,props=Object.keys(styles),i=0;i<props.length;i++){var prop=props[i];isNonAnimatableStyle(prop)&&((result=result||{})[prop]=styles[prop])}return result}function isNonAnimatableStyle(prop){return"display"===prop||"position"===prop}exports.angular_packages_animations_browser_browser_a=SpecialCasedStyles;var ANIMATION_PROP="animation",ANIMATIONEND_EVENT="animationend",ElementAnimationStyleHandler=function(){function ElementAnimationStyleHandler(_element,_name,_duration,_delay,_easing,_fillMode,_onDoneFn){var _this=this;this._element=_element,this._name=_name,this._duration=_duration,this._delay=_delay,this._easing=_easing,this._fillMode=_fillMode,this._onDoneFn=_onDoneFn,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return _this._handleCallback(e)}}return ElementAnimationStyleHandler.prototype.apply=function(){!function(element,value){var anim=getAnimationStyle(element,"").trim(),index=0;anim.length&&(index=function(value,char){for(var count=0,i=0;i<value.length;i++){var c=value.charAt(i);c===char&&count++}return count}(anim,",")+1,value=anim+", "+value);setAnimationStyle(element,"",value)}(this._element,this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name),addRemoveAnimationEvent(this._element,this._eventFn,!1),this._startTime=Date.now()},ElementAnimationStyleHandler.prototype.pause=function(){playPauseAnimation(this._element,this._name,"paused")},ElementAnimationStyleHandler.prototype.resume=function(){playPauseAnimation(this._element,this._name,"running")},ElementAnimationStyleHandler.prototype.setPosition=function(position){var index=findIndexForAnimation(this._element,this._name);this._position=position*this._duration,setAnimationStyle(this._element,"Delay","-"+this._position+"ms",index)},ElementAnimationStyleHandler.prototype.getPosition=function(){return this._position},ElementAnimationStyleHandler.prototype._handleCallback=function(event){var timestamp=event._ngTestManualTimestamp||Date.now(),elapsedTime=1e3*parseFloat(event.elapsedTime.toFixed(3));event.animationName==this._name&&Math.max(timestamp-this._startTime,0)>=this._delay&&elapsedTime>=this._duration&&this.finish()},ElementAnimationStyleHandler.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),addRemoveAnimationEvent(this._element,this._eventFn,!0))},ElementAnimationStyleHandler.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.finish(),function(element,name){var tokens=getAnimationStyle(element,"").split(","),index=findMatchingTokenIndex(tokens,name);if(index>=0){tokens.splice(index,1);var newValue=tokens.join(",");setAnimationStyle(element,"",newValue)}}(this._element,this._name))},ElementAnimationStyleHandler}();function playPauseAnimation(element,name,status){setAnimationStyle(element,"PlayState",status,findIndexForAnimation(element,name))}function findIndexForAnimation(element,value){var anim=getAnimationStyle(element,"");return anim.indexOf(",")>0?findMatchingTokenIndex(anim.split(","),value):findMatchingTokenIndex([anim],value)}function findMatchingTokenIndex(tokens,searchToken){for(var i=0;i<tokens.length;i++)if(tokens[i].indexOf(searchToken)>=0)return i;return-1}function addRemoveAnimationEvent(element,fn,doRemove){doRemove?element.removeEventListener(ANIMATIONEND_EVENT,fn):element.addEventListener(ANIMATIONEND_EVENT,fn)}function setAnimationStyle(element,name,value,index){var prop=ANIMATION_PROP+name;if(null!=index){var oldValue=element.style[prop];if(oldValue.length){var tokens=oldValue.split(",");tokens[index]=value,value=tokens.join(",")}}element.style[prop]=value}function getAnimationStyle(element,name){return element.style[ANIMATION_PROP+name]}var DEFAULT_EASING="linear",CssKeyframesPlayer=function(){function CssKeyframesPlayer(element,keyframes,animationName,_duration,_delay,easing,_finalStyles,_specialStyles){this.element=element,this.keyframes=keyframes,this.animationName=animationName,this._duration=_duration,this._delay=_delay,this._finalStyles=_finalStyles,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=easing||DEFAULT_EASING,this.totalTime=_duration+_delay,this._buildStyler()}return CssKeyframesPlayer.prototype.onStart=function(fn){this._onStartFns.push(fn)},CssKeyframesPlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn)},CssKeyframesPlayer.prototype.onDestroy=function(fn){this._onDestroyFns.push(fn)},CssKeyframesPlayer.prototype.destroy=function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(fn){return fn()}),this._onDestroyFns=[])},CssKeyframesPlayer.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(fn){return fn()}),this._onDoneFns=[]},CssKeyframesPlayer.prototype._flushStartFns=function(){this._onStartFns.forEach(function(fn){return fn()}),this._onStartFns=[]},CssKeyframesPlayer.prototype.finish=function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())},CssKeyframesPlayer.prototype.setPosition=function(value){this._styler.setPosition(value)},CssKeyframesPlayer.prototype.getPosition=function(){return this._styler.getPosition()},CssKeyframesPlayer.prototype.hasStarted=function(){return this._state>=2},CssKeyframesPlayer.prototype.init=function(){if(!(this._state>=1)){this._state=1;this.element;this._styler.apply(),this._delay&&this._styler.pause()}},CssKeyframesPlayer.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()},CssKeyframesPlayer.prototype.pause=function(){this.init(),this._styler.pause()},CssKeyframesPlayer.prototype.restart=function(){this.reset(),this.play()},CssKeyframesPlayer.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},CssKeyframesPlayer.prototype._buildStyler=function(){var _this=this;this._styler=new ElementAnimationStyleHandler(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return _this.finish()})},CssKeyframesPlayer.prototype.triggerCallback=function(phaseName){var methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(function(fn){return fn()}),methods.length=0},CssKeyframesPlayer.prototype.beforeDestroy=function(){var _this=this;this.init();var styles={};if(this.hasStarted()){var finished_1=this._state>=3;Object.keys(this._finalStyles).forEach(function(prop){"offset"!=prop&&(styles[prop]=finished_1?_this._finalStyles[prop]:computeStyle(_this.element,prop))})}this.currentSnapshot=styles},CssKeyframesPlayer}();exports.CssKeyframesPlayer=CssKeyframesPlayer;var DirectStylePlayer=function(_super){function DirectStylePlayer(element,styles){var _this=_super.call(this)||this;return _this.element=element,_this._startingStyles={},_this.__initialized=!1,_this._styles=hypenatePropsObject(styles),_this}return(0,_tslib.__extends)(DirectStylePlayer,_super),DirectStylePlayer.prototype.init=function(){var _this=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(prop){_this._startingStyles[prop]=_this.element.style[prop]}),_super.prototype.init.call(this))},DirectStylePlayer.prototype.play=function(){var _this=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(prop){return _this.element.style.setProperty(prop,_this._styles[prop])}),_super.prototype.play.call(this))},DirectStylePlayer.prototype.destroy=function(){var _this=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(prop){var value=_this._startingStyles[prop];value?_this.element.style.setProperty(prop,value):_this.element.style.removeProperty(prop)}),this._startingStyles=null,_super.prototype.destroy.call(this))},DirectStylePlayer}(_animations.NoopAnimationPlayer),CssKeyframesDriver=function(){function CssKeyframesDriver(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return CssKeyframesDriver.prototype.validateStyleProperty=function(prop){return validateStyleProperty(prop)},CssKeyframesDriver.prototype.matchesElement=function(element,selector){return matchesElement(element,selector)},CssKeyframesDriver.prototype.containsElement=function(elm1,elm2){return containsElement(elm1,elm2)},CssKeyframesDriver.prototype.query=function(element,selector,multi){return invokeQuery(element,selector,multi)},CssKeyframesDriver.prototype.computeStyle=function(element,prop,defaultValue){return window.getComputedStyle(element)[prop]},CssKeyframesDriver.prototype.buildKeyframeElement=function(element,name,keyframes){var keyframeStr="@keyframes "+name+" {\n",tab="";(keyframes=keyframes.map(function(kf){return hypenatePropsObject(kf)})).forEach(function(kf){tab=" ";var offset=parseFloat(kf.offset);keyframeStr+=""+tab+100*offset+"% {\n",tab+=" ",Object.keys(kf).forEach(function(prop){var value=kf[prop];switch(prop){case"offset":return;case"easing":return void(value&&(keyframeStr+=tab+"animation-timing-function: "+value+";\n"));default:return void(keyframeStr+=""+tab+prop+": "+value+";\n")}}),keyframeStr+=tab+"}\n"}),keyframeStr+="}\n";var kfElm=document.createElement("style");return kfElm.innerHTML=keyframeStr,kfElm},CssKeyframesDriver.prototype.animate=function(element,keyframes,duration,delay,easing,previousPlayers,scrubberAccessRequested){void 0===previousPlayers&&(previousPlayers=[]),scrubberAccessRequested&&this._notifyFaultyScrubber();var previousCssKeyframePlayers=previousPlayers.filter(function(player){return player instanceof CssKeyframesPlayer}),previousStyles={};allowPreviousPlayerStylesMerge(duration,delay)&&previousCssKeyframePlayers.forEach(function(player){var styles=player.currentSnapshot;Object.keys(styles).forEach(function(prop){return previousStyles[prop]=styles[prop]})});var finalStyles=function(keyframes){var flatKeyframes={};if(keyframes){var kfs=Array.isArray(keyframes)?keyframes:[keyframes];kfs.forEach(function(kf){Object.keys(kf).forEach(function(prop){"offset"!=prop&&"easing"!=prop&&(flatKeyframes[prop]=kf[prop])})})}return flatKeyframes}(keyframes=balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles));if(0==duration)return new DirectStylePlayer(element,finalStyles);var animationName="gen_css_kf_"+this._count++,kfElm=this.buildKeyframeElement(element,animationName,keyframes);document.querySelector("head").appendChild(kfElm);var specialStyles=packageNonAnimatableStyles(element,keyframes),player=new CssKeyframesPlayer(element,keyframes,animationName,duration,delay,easing,finalStyles,specialStyles);return player.onDestroy(function(){var node;(node=kfElm).parentNode.removeChild(node)}),player},CssKeyframesDriver.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},CssKeyframesDriver}();exports.CssKeyframesDriver=CssKeyframesDriver;var WebAnimationsPlayer=function(){function WebAnimationsPlayer(element,keyframes,options,_specialStyles){this.element=element,this.keyframes=keyframes,this.options=options,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=options.duration,this._delay=options.delay||0,this.time=this._duration+this._delay}return WebAnimationsPlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(fn){return fn()}),this._onDoneFns=[])},WebAnimationsPlayer.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},WebAnimationsPlayer.prototype._buildPlayer=function(){var _this=this;if(!this._initialized){this._initialized=!0;var keyframes=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,keyframes,this.options),this._finalKeyframe=keyframes.length?keyframes[keyframes.length-1]:{},this.domPlayer.addEventListener("finish",function(){return _this._onFinish()})}},WebAnimationsPlayer.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},WebAnimationsPlayer.prototype._triggerWebAnimation=function(element,keyframes,options){return element.animate(keyframes,options)},WebAnimationsPlayer.prototype.onStart=function(fn){this._onStartFns.push(fn)},WebAnimationsPlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn)},WebAnimationsPlayer.prototype.onDestroy=function(fn){this._onDestroyFns.push(fn)},WebAnimationsPlayer.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(fn){return fn()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()},WebAnimationsPlayer.prototype.pause=function(){this.init(),this.domPlayer.pause()},WebAnimationsPlayer.prototype.finish=function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()},WebAnimationsPlayer.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},WebAnimationsPlayer.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},WebAnimationsPlayer.prototype.restart=function(){this.reset(),this.play()},WebAnimationsPlayer.prototype.hasStarted=function(){return this._started},WebAnimationsPlayer.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(fn){return fn()}),this._onDestroyFns=[])},WebAnimationsPlayer.prototype.setPosition=function(p){this.domPlayer.currentTime=p*this.time},WebAnimationsPlayer.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(WebAnimationsPlayer.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),WebAnimationsPlayer.prototype.beforeDestroy=function(){var _this=this,styles={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(prop){"offset"!=prop&&(styles[prop]=_this._finished?_this._finalKeyframe[prop]:computeStyle(_this.element,prop))}),this.currentSnapshot=styles},WebAnimationsPlayer.prototype.triggerCallback=function(phaseName){var methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(function(fn){return fn()}),methods.length=0},WebAnimationsPlayer}();exports.WebAnimationsPlayer=WebAnimationsPlayer;var WebAnimationsDriver=function(){function WebAnimationsDriver(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(getElementAnimateFn().toString()),this._cssKeyframesDriver=new CssKeyframesDriver}return WebAnimationsDriver.prototype.validateStyleProperty=function(prop){return validateStyleProperty(prop)},WebAnimationsDriver.prototype.matchesElement=function(element,selector){return matchesElement(element,selector)},WebAnimationsDriver.prototype.containsElement=function(elm1,elm2){return containsElement(elm1,elm2)},WebAnimationsDriver.prototype.query=function(element,selector,multi){return invokeQuery(element,selector,multi)},WebAnimationsDriver.prototype.computeStyle=function(element,prop,defaultValue){return window.getComputedStyle(element)[prop]},WebAnimationsDriver.prototype.overrideWebAnimationsSupport=function(supported){this._isNativeImpl=supported},WebAnimationsDriver.prototype.animate=function(element,keyframes,duration,delay,easing,previousPlayers,scrubberAccessRequested){if(void 0===previousPlayers&&(previousPlayers=[]),!scrubberAccessRequested&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(element,keyframes,duration,delay,easing,previousPlayers);var playerOptions={duration:duration,delay:delay,fill:0==delay?"both":"forwards"};easing&&(playerOptions.easing=easing);var previousStyles={},previousWebAnimationPlayers=previousPlayers.filter(function(player){return player instanceof WebAnimationsPlayer});allowPreviousPlayerStylesMerge(duration,delay)&&previousWebAnimationPlayers.forEach(function(player){var styles=player.currentSnapshot;Object.keys(styles).forEach(function(prop){return previousStyles[prop]=styles[prop]})});var specialStyles=packageNonAnimatableStyles(element,keyframes=balancePreviousStylesIntoKeyframes(element,keyframes=keyframes.map(function(styles){return copyStyles(styles,!1)}),previousStyles));return new WebAnimationsPlayer(element,keyframes,playerOptions,specialStyles)},WebAnimationsDriver}();function getElementAnimateFn(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}exports.WebAnimationsDriver=WebAnimationsDriver},{tslib:"vCxL","@angular/animations":"qRUb","@angular/core":"XDhY",process:"pBGv"}],tZTX:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.angular_packages_platform_browser_animations_animations_b=instantiateDefaultStyleNormalizer,exports.angular_packages_platform_browser_animations_animations_c=instantiateRendererFactory,exports.angular_packages_platform_browser_animations_animations_a=instantiateSupportedAnimationDriver,exports.InjectableAnimationEngine=exports.AnimationRendererFactory=exports.AnimationRenderer=exports.BrowserAnimationFactory=exports.BrowserAnimationBuilder=exports.ANIMATION_MODULE_TYPE=exports.NoopAnimationsModule=exports.BrowserAnimationsModule=exports.angular_packages_platform_browser_animations_animations_e=exports.angular_packages_platform_browser_animations_animations_d=exports.angular_packages_platform_browser_animations_animations_f=void 0;var _tslib=require("tslib"),_core=require("@angular/core"),_platformBrowser=require("@angular/platform-browser"),_animations=require("@angular/animations"),_browser=require("@angular/animations/browser"),_common=require("@angular/common"),BrowserAnimationBuilder=function(_super){function BrowserAnimationBuilder(rootRenderer,doc){var _this=_super.call(this)||this;_this._nextAnimationId=0;var typeData={id:"0",encapsulation:_core.ViewEncapsulation.None,styles:[],data:{animation:[]}};return _this._renderer=rootRenderer.createRenderer(doc.body,typeData),_this}return(0,_tslib.__extends)(BrowserAnimationBuilder,_super),BrowserAnimationBuilder.prototype.build=function(animation){var id=this._nextAnimationId.toString();this._nextAnimationId++;var entry=Array.isArray(animation)?(0,_animations.sequence)(animation):animation;return issueAnimationCommand(this._renderer,null,id,"register",[entry]),new BrowserAnimationFactory(id,this._renderer)},BrowserAnimationBuilder=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(1,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__metadata)("design:paramtypes",[_core.RendererFactory2,Object])],BrowserAnimationBuilder)}(_animations.AnimationBuilder);exports.BrowserAnimationBuilder=BrowserAnimationBuilder;var BrowserAnimationFactory=function(_super){function BrowserAnimationFactory(_id,_renderer){var _this=_super.call(this)||this;return _this._id=_id,_this._renderer=_renderer,_this}return(0,_tslib.__extends)(BrowserAnimationFactory,_super),BrowserAnimationFactory.prototype.create=function(element,options){return new RendererAnimationPlayer(this._id,element,options||{},this._renderer)},BrowserAnimationFactory}(_animations.AnimationFactory);exports.BrowserAnimationFactory=BrowserAnimationFactory;var RendererAnimationPlayer=function(){function RendererAnimationPlayer(id,element,options,_renderer){this.id=id,this.element=element,this._renderer=_renderer,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",options)}return RendererAnimationPlayer.prototype._listen=function(eventName,callback){return this._renderer.listen(this.element,"@@"+this.id+":"+eventName,callback)},RendererAnimationPlayer.prototype._command=function(command){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return issueAnimationCommand(this._renderer,this.element,this.id,command,args)},RendererAnimationPlayer.prototype.onDone=function(fn){this._listen("done",fn)},RendererAnimationPlayer.prototype.onStart=function(fn){this._listen("start",fn)},RendererAnimationPlayer.prototype.onDestroy=function(fn){this._listen("destroy",fn)},RendererAnimationPlayer.prototype.init=function(){this._command("init")},RendererAnimationPlayer.prototype.hasStarted=function(){return this._started},RendererAnimationPlayer.prototype.play=function(){this._command("play"),this._started=!0},RendererAnimationPlayer.prototype.pause=function(){this._command("pause")},RendererAnimationPlayer.prototype.restart=function(){this._command("restart")},RendererAnimationPlayer.prototype.finish=function(){this._command("finish")},RendererAnimationPlayer.prototype.destroy=function(){this._command("destroy")},RendererAnimationPlayer.prototype.reset=function(){this._command("reset")},RendererAnimationPlayer.prototype.setPosition=function(p){this._command("setPosition",p)},RendererAnimationPlayer.prototype.getPosition=function(){return 0},RendererAnimationPlayer}();function issueAnimationCommand(renderer,element,id,command,args){return renderer.setProperty(element,"@@"+id+":"+command,args)}var AnimationRendererFactory=function(){function AnimationRendererFactory(delegate,engine,_zone){this.delegate=delegate,this.engine=engine,this._zone=_zone,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),engine.onRemovalComplete=function(element,delegate){delegate&&delegate.parentNode(element)&&delegate.removeChild(element.parentNode,element)}}return AnimationRendererFactory.prototype.createRenderer=function(hostElement,type){var _this=this,delegate=this.delegate.createRenderer(hostElement,type);if(!(hostElement&&type&&type.data&&type.data.animation)){var renderer=this._rendererCache.get(delegate);return renderer||(renderer=new BaseAnimationRenderer("",delegate,this.engine),this._rendererCache.set(delegate,renderer)),renderer}var componentId=type.id,namespaceId=type.id+"-"+this._currentId;return this._currentId++,this.engine.register(namespaceId,hostElement),type.data.animation.forEach(function(trigger){return _this.engine.registerTrigger(componentId,namespaceId,hostElement,trigger.name,trigger)}),new AnimationRenderer(this,namespaceId,delegate,this.engine)},AnimationRendererFactory.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},AnimationRendererFactory.prototype._scheduleCountTask=function(){var _this=this;this.promise.then(function(){_this._microtaskId++})},AnimationRendererFactory.prototype.scheduleListenerCallback=function(count,fn,data){var _this=this;count>=0&&count<this._microtaskId?this._zone.run(function(){return fn(data)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){_this._zone.run(function(){_this._animationCallbacksBuffer.forEach(function(tuple){var _a=(0,_tslib.__read)(tuple,2);(0,_a[0])(_a[1])}),_this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([fn,data]))},AnimationRendererFactory.prototype.end=function(){var _this=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){_this._scheduleCountTask(),_this.engine.flush(_this._microtaskId)}),this.delegate.end&&this.delegate.end()},AnimationRendererFactory.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},AnimationRendererFactory=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__metadata)("design:paramtypes",[_core.RendererFactory2,_browser.AnimationEngine,_core.NgZone])],AnimationRendererFactory)}();exports.AnimationRendererFactory=AnimationRendererFactory;var BaseAnimationRenderer=function(){function BaseAnimationRenderer(namespaceId,delegate,engine){this.namespaceId=namespaceId,this.delegate=delegate,this.engine=engine,this.destroyNode=this.delegate.destroyNode?function(n){return delegate.destroyNode(n)}:null}return Object.defineProperty(BaseAnimationRenderer.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),BaseAnimationRenderer.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},BaseAnimationRenderer.prototype.createElement=function(name,namespace){return this.delegate.createElement(name,namespace)},BaseAnimationRenderer.prototype.createComment=function(value){return this.delegate.createComment(value)},BaseAnimationRenderer.prototype.createText=function(value){return this.delegate.createText(value)},BaseAnimationRenderer.prototype.appendChild=function(parent,newChild){this.delegate.appendChild(parent,newChild),this.engine.onInsert(this.namespaceId,newChild,parent,!1)},BaseAnimationRenderer.prototype.insertBefore=function(parent,newChild,refChild){this.delegate.insertBefore(parent,newChild,refChild),this.engine.onInsert(this.namespaceId,newChild,parent,!0)},BaseAnimationRenderer.prototype.removeChild=function(parent,oldChild,isHostElement){this.engine.onRemove(this.namespaceId,oldChild,this.delegate,isHostElement)},BaseAnimationRenderer.prototype.selectRootElement=function(selectorOrNode,preserveContent){return this.delegate.selectRootElement(selectorOrNode,preserveContent)},BaseAnimationRenderer.prototype.parentNode=function(node){return this.delegate.parentNode(node)},BaseAnimationRenderer.prototype.nextSibling=function(node){return this.delegate.nextSibling(node)},BaseAnimationRenderer.prototype.setAttribute=function(el,name,value,namespace){this.delegate.setAttribute(el,name,value,namespace)},BaseAnimationRenderer.prototype.removeAttribute=function(el,name,namespace){this.delegate.removeAttribute(el,name,namespace)},BaseAnimationRenderer.prototype.addClass=function(el,name){this.delegate.addClass(el,name)},BaseAnimationRenderer.prototype.removeClass=function(el,name){this.delegate.removeClass(el,name)},BaseAnimationRenderer.prototype.setStyle=function(el,style,value,flags){this.delegate.setStyle(el,style,value,flags)},BaseAnimationRenderer.prototype.removeStyle=function(el,style,flags){this.delegate.removeStyle(el,style,flags)},BaseAnimationRenderer.prototype.setProperty=function(el,name,value){"@"==name.charAt(0)&&"@.disabled"==name?this.disableAnimations(el,!!value):this.delegate.setProperty(el,name,value)},BaseAnimationRenderer.prototype.setValue=function(node,value){this.delegate.setValue(node,value)},BaseAnimationRenderer.prototype.listen=function(target,eventName,callback){return this.delegate.listen(target,eventName,callback)},BaseAnimationRenderer.prototype.disableAnimations=function(element,value){this.engine.disableAnimations(element,value)},BaseAnimationRenderer}();exports.angular_packages_platform_browser_animations_animations_f=BaseAnimationRenderer;var AnimationRenderer=function(_super){function AnimationRenderer(factory,namespaceId,delegate,engine){var _this=_super.call(this,namespaceId,delegate,engine)||this;return _this.factory=factory,_this.namespaceId=namespaceId,_this}return(0,_tslib.__extends)(AnimationRenderer,_super),AnimationRenderer.prototype.setProperty=function(el,name,value){"@"==name.charAt(0)?"."==name.charAt(1)&&"@.disabled"==name?(value=void 0===value||!!value,this.disableAnimations(el,value)):this.engine.process(this.namespaceId,el,name.substr(1),value):this.delegate.setProperty(el,name,value)},AnimationRenderer.prototype.listen=function(target,eventName,callback){var _a,_this=this;if("@"==eventName.charAt(0)){var element=function(target){switch(target){case"body":return document.body;case"document":return document;case"window":return window;default:return target}}(target),name_1=eventName.substr(1),phase="";return"@"!=name_1.charAt(0)&&(name_1=(_a=(0,_tslib.__read)(function(triggerName){var dotIndex=triggerName.indexOf("."),trigger=triggerName.substring(0,dotIndex),phase=triggerName.substr(dotIndex+1);return[trigger,phase]}(name_1),2))[0],phase=_a[1]),this.engine.listen(this.namespaceId,element,name_1,phase,function(event){var countId=event._data||-1;_this.factory.scheduleListenerCallback(countId,callback,event)})}return this.delegate.listen(target,eventName,callback)},AnimationRenderer}(BaseAnimationRenderer);exports.AnimationRenderer=AnimationRenderer;var InjectableAnimationEngine=function(_super){function InjectableAnimationEngine(doc,driver,normalizer){return _super.call(this,doc.body,driver,normalizer)||this}return(0,_tslib.__extends)(InjectableAnimationEngine,_super),InjectableAnimationEngine=(0,_tslib.__decorate)([(0,_core.Injectable)(),(0,_tslib.__param)(0,(0,_core.Inject)(_common.DOCUMENT)),(0,_tslib.__metadata)("design:paramtypes",[Object,_browser.AnimationDriver,_browser.AnimationStyleNormalizer])],InjectableAnimationEngine)}(_browser.AnimationEngine);function instantiateSupportedAnimationDriver(){return(0,_browser.supportsWebAnimations)()?new _browser.WebAnimationsDriver:new _browser.CssKeyframesDriver}function instantiateDefaultStyleNormalizer(){return new _browser.WebAnimationsStyleNormalizer}function instantiateRendererFactory(renderer,engine,zone){return new AnimationRendererFactory(renderer,engine,zone)}exports.InjectableAnimationEngine=InjectableAnimationEngine;var ANIMATION_MODULE_TYPE=new _core.InjectionToken("AnimationModuleType");exports.ANIMATION_MODULE_TYPE=ANIMATION_MODULE_TYPE;var SHARED_ANIMATION_PROVIDERS=[{provide:_animations.AnimationBuilder,useClass:BrowserAnimationBuilder},{provide:_browser.AnimationStyleNormalizer,useFactory:instantiateDefaultStyleNormalizer},{provide:_browser.AnimationEngine,useClass:InjectableAnimationEngine},{provide:_core.RendererFactory2,useFactory:instantiateRendererFactory,deps:[_platformBrowser.DomRendererFactory2,_browser.AnimationEngine,_core.NgZone]}],BROWSER_ANIMATIONS_PROVIDERS=(0,_tslib.__spread)([{provide:_browser.AnimationDriver,useFactory:instantiateSupportedAnimationDriver},{provide:ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"}],SHARED_ANIMATION_PROVIDERS);exports.angular_packages_platform_browser_animations_animations_d=BROWSER_ANIMATIONS_PROVIDERS;var BROWSER_NOOP_ANIMATIONS_PROVIDERS=(0,_tslib.__spread)([{provide:_browser.AnimationDriver,useClass:_browser.NoopAnimationDriver},{provide:ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"}],SHARED_ANIMATION_PROVIDERS);exports.angular_packages_platform_browser_animations_animations_e=BROWSER_NOOP_ANIMATIONS_PROVIDERS;var BrowserAnimationsModule=function(){function BrowserAnimationsModule(){}return BrowserAnimationsModule=(0,_tslib.__decorate)([(0,_core.NgModule)({exports:[_platformBrowser.BrowserModule],providers:BROWSER_ANIMATIONS_PROVIDERS})],BrowserAnimationsModule)}();exports.BrowserAnimationsModule=BrowserAnimationsModule;var NoopAnimationsModule=function(){function NoopAnimationsModule(){}return NoopAnimationsModule=(0,_tslib.__decorate)([(0,_core.NgModule)({exports:[_platformBrowser.BrowserModule],providers:BROWSER_NOOP_ANIMATIONS_PROVIDERS})],NoopAnimationsModule)}();exports.NoopAnimationsModule=NoopAnimationsModule},{tslib:"vCxL","@angular/core":"XDhY","@angular/platform-browser":"dAl9","@angular/animations":"qRUb","@angular/animations/browser":"NpQV","@angular/common":"AomE"}],AkI2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InfiniteScrollModule=exports.InfiniteScrollDirective=void 0;var _core=require("@angular/core"),_rxjs=require("rxjs"),_operators=require("rxjs/operators");function resolveContainerElement(selector,scrollWindow,defaultElement,fromRoot){var hasWindow=window&&!!window.document&&window.document.documentElement,container=hasWindow&&scrollWindow?window:defaultElement;if(selector&&!(container=selector&&hasWindow&&"string"==typeof selector?function(selector,customRoot,fromRoot){return(fromRoot?window.document:customRoot).querySelector(selector)}(selector,defaultElement.nativeElement,fromRoot):selector))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return container}function inputPropChanged(prop){return prop&&!prop.firstChange}var VerticalProps={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},HorizontalProps={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},AxisResolver=function(){function AxisResolver(vertical){void 0===vertical&&(vertical=!0),this.vertical=vertical,this.propsMap=vertical?VerticalProps:HorizontalProps}return AxisResolver.prototype.clientHeightKey=function(){return this.propsMap.clientHeight},AxisResolver.prototype.offsetHeightKey=function(){return this.propsMap.offsetHeight},AxisResolver.prototype.scrollHeightKey=function(){return this.propsMap.scrollHeight},AxisResolver.prototype.pageYOffsetKey=function(){return this.propsMap.pageYOffset},AxisResolver.prototype.offsetTopKey=function(){return this.propsMap.offsetTop},AxisResolver.prototype.scrollTopKey=function(){return this.propsMap.scrollTop},AxisResolver.prototype.topKey=function(){return this.propsMap.top},AxisResolver}();function createResolver(_a){var windowElement=_a.windowElement;return function(resolver,windowElement){var container=resolver.isWindow||windowElement&&!windowElement.nativeElement?windowElement:windowElement.nativeElement;return Object.assign({},resolver,{container:container})}({axis:_a.axis,isWindow:function(windowElement){return["Window","global"].some(function(obj){return Object.prototype.toString.call(windowElement).includes(obj)})}(windowElement)},windowElement)}function getDocumentElement(isContainerWindow,windowElement){return isContainerWindow?windowElement.document.documentElement:null}function calculatePoints(element,resolver){var _a,container,isWindow,_b,offsetHeightKey,clientHeightKey,height=(container=(_a=resolver).container,isWindow=_a.isWindow,_b=extractHeightPropKeys(_a.axis),offsetHeightKey=_b.offsetHeightKey,clientHeightKey=_b.clientHeightKey,getElementHeight(container,isWindow,offsetHeightKey,clientHeightKey));return resolver.isWindow?function(height,element,resolver){var axis=resolver.axis,container=resolver.container,isWindow=resolver.isWindow,_a=extractHeightPropKeys(axis),offsetHeightKey=_a.offsetHeightKey,clientHeightKey=_a.clientHeightKey,scrolled=height+getElementPageYOffset(getDocumentElement(isWindow,container),axis,isWindow),nativeElementHeight=getElementHeight(element.nativeElement,isWindow,offsetHeightKey,clientHeightKey),totalToScroll=function(elem,axis,isWindow){var topKey=axis.topKey();if(!elem.getBoundingClientRect)return;return elem.getBoundingClientRect()[topKey]+getElementPageYOffset(elem,axis,isWindow)}(element.nativeElement,axis,isWindow)+nativeElementHeight;return{height:height,scrolled:scrolled,totalToScroll:totalToScroll,isWindow:isWindow}}(height,element,resolver):function(height,element,resolver){var axis=resolver.axis,container=resolver.container,scrolled=container[axis.scrollTopKey()],totalToScroll=container[axis.scrollHeightKey()];return{height:height,scrolled:scrolled,totalToScroll:totalToScroll,isWindow:!1}}(height,0,resolver)}function extractHeightPropKeys(axis){return{offsetHeightKey:axis.offsetHeightKey(),clientHeightKey:axis.clientHeightKey()}}function getElementHeight(elem,isWindow,offsetHeightKey,clientHeightKey){if(isNaN(elem[offsetHeightKey])){var docElem=getDocumentElement(isWindow,elem);return docElem?docElem[clientHeightKey]:0}return elem[offsetHeightKey]}function getElementPageYOffset(elem,axis,isWindow){var pageYOffset=axis.pageYOffsetKey(),scrollTop=axis.scrollTopKey(),offsetTop=axis.offsetTopKey();return isNaN(window[pageYOffset])?getDocumentElement(isWindow,elem)[scrollTop]:elem.ownerDocument?elem.ownerDocument.defaultView[pageYOffset]:elem[offsetTop]}var ScrollState=function(){function ScrollState(_a){var totalToScroll=_a.totalToScroll;this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=totalToScroll}return ScrollState.prototype.updateScrollPosition=function(position){return this.lastScrollPosition=position},ScrollState.prototype.updateTotalToScroll=function(totalToScroll){this.lastTotalToScroll!==totalToScroll&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=totalToScroll)},ScrollState.prototype.updateScroll=function(scrolledUntilNow,totalToScroll){this.updateScrollPosition(scrolledUntilNow),this.updateTotalToScroll(totalToScroll)},ScrollState.prototype.updateTriggeredFlag=function(scroll,isScrollingDown){isScrollingDown?this.triggered.down=scroll:this.triggered.up=scroll},ScrollState.prototype.isTriggeredScroll=function(totalToScroll,isScrollingDown){return isScrollingDown?this.triggered.down===totalToScroll:this.triggered.up===totalToScroll},ScrollState}();function createScroller(config){var scrollContainer=config.scrollContainer,scrollWindow=config.scrollWindow,element=config.element,fromRoot=config.fromRoot,resolver=createResolver({axis:new AxisResolver(!config.horizontal),windowElement:resolveContainerElement(scrollContainer,scrollWindow,element,fromRoot)}),scrollState=new ScrollState({totalToScroll:calculatePoints(element,resolver)}),options={container:resolver.container,throttle:config.throttle},distance={up:config.upDistance,down:config.downDistance};return function(options){var obs=(0,_rxjs.fromEvent)(options.container,"scroll");options.throttle&&(obs=obs.pipe((0,_operators.sampleTime)(options.throttle)));return obs}(options).pipe((0,_operators.mergeMap)(function(){return(0,_rxjs.of)(calculatePoints(element,resolver))}),(0,_operators.map)(function(positionStats){return function(lastScrollPosition,stats,distance){var _a=function(lastScrollPosition,container,distance){var scrollDown=function(lastScrollPosition,container){return lastScrollPosition<container.scrolled}(lastScrollPosition,container);return{fire:function(container,distance,scrollingDown){var remaining,containerBreakpoint;if(container.totalToScroll<=0)return!1;var scrolledUntilNow=container.isWindow?container.scrolled:container.height+container.scrolled;if(scrollingDown)remaining=(container.totalToScroll-scrolledUntilNow)/container.totalToScroll,containerBreakpoint=distance.down/10;else{var totalHiddenContentHeight=container.scrolled+(container.totalToScroll-scrolledUntilNow);remaining=container.scrolled/totalHiddenContentHeight,containerBreakpoint=distance.up/10}return remaining<=containerBreakpoint}(container,distance,scrollDown),scrollDown:scrollDown}}(lastScrollPosition,stats,distance),scrollDown=_a.scrollDown,fire=_a.fire;return{scrollDown:scrollDown,fire:fire,stats:stats}}(scrollState.lastScrollPosition,positionStats,distance)}),(0,_operators.tap)(function(_a){var stats=_a.stats;return scrollState.updateScroll(stats.scrolled,stats.totalToScroll)}),(0,_operators.filter)(function(_a){var alwaysCallback,shouldFireScrollEvent,isTriggeredCurrentTotal,fire=_a.fire,scrollDown=_a.scrollDown,totalToScroll=_a.stats.totalToScroll;return alwaysCallback=config.alwaysCallback,shouldFireScrollEvent=fire,isTriggeredCurrentTotal=scrollState.isTriggeredScroll(totalToScroll,scrollDown),!(!alwaysCallback||!shouldFireScrollEvent)||!(isTriggeredCurrentTotal||!shouldFireScrollEvent)}),(0,_operators.tap)(function(_a){var scrollDown=_a.scrollDown,totalToScroll=_a.stats.totalToScroll;scrollState.updateTriggeredFlag(totalToScroll,scrollDown)}),(0,_operators.map)(toInfiniteScrollAction))}var InfiniteScrollActions={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function toInfiniteScrollAction(response){var scrollDown=response.scrollDown,currentScrollPosition=response.stats.scrolled;return{type:scrollDown?InfiniteScrollActions.DOWN:InfiniteScrollActions.UP,payload:{currentScrollPosition:currentScrollPosition}}}var InfiniteScrollDirective=function(){function InfiniteScrollDirective(element,zone){this.element=element,this.zone=zone,this.scrolled=new _core.EventEmitter,this.scrolledUp=new _core.EventEmitter,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}return InfiniteScrollDirective.prototype.ngAfterViewInit=function(){this.infiniteScrollDisabled||this.setup()},InfiniteScrollDirective.prototype.ngOnChanges=function(_a){var infiniteScrollContainer=_a.infiniteScrollContainer,infiniteScrollDisabled=_a.infiniteScrollDisabled,infiniteScrollDistance=_a.infiniteScrollDistance,containerChanged=inputPropChanged(infiniteScrollContainer),disabledChanged=inputPropChanged(infiniteScrollDisabled),distanceChanged=inputPropChanged(infiniteScrollDistance),shouldSetup=!disabledChanged&&!this.infiniteScrollDisabled||disabledChanged&&!infiniteScrollDisabled.currentValue||distanceChanged;(containerChanged||disabledChanged||distanceChanged)&&(this.destroyScroller(),shouldSetup&&this.setup())},InfiniteScrollDirective.prototype.setup=function(){var _this=this;"undefined"!=typeof window&&this.zone.runOutsideAngular(function(){_this.disposeScroller=createScroller({fromRoot:_this.fromRoot,alwaysCallback:_this.alwaysCallback,disable:_this.infiniteScrollDisabled,downDistance:_this.infiniteScrollDistance,element:_this.element,horizontal:_this.horizontal,scrollContainer:_this.infiniteScrollContainer,scrollWindow:_this.scrollWindow,throttle:_this.infiniteScrollThrottle,upDistance:_this.infiniteScrollUpDistance}).subscribe(function(payload){return _this.zone.run(function(){return _this.handleOnScroll(payload)})})})},InfiniteScrollDirective.prototype.handleOnScroll=function(_a){var type=_a.type,payload=_a.payload;switch(type){case InfiniteScrollActions.DOWN:return this.scrolled.emit(payload);case InfiniteScrollActions.UP:return this.scrolledUp.emit(payload);default:return}},InfiniteScrollDirective.prototype.ngOnDestroy=function(){this.destroyScroller()},InfiniteScrollDirective.prototype.destroyScroller=function(){this.disposeScroller&&this.disposeScroller.unsubscribe()},InfiniteScrollDirective}();exports.InfiniteScrollDirective=InfiniteScrollDirective,InfiniteScrollDirective.decorators=[{type:_core.Directive,args:[{selector:"[infiniteScroll], [infinite-scroll], [data-infinite-scroll]"}]}],InfiniteScrollDirective.ctorParameters=function(){return[{type:_core.ElementRef},{type:_core.NgZone}]},InfiniteScrollDirective.propDecorators={scrolled:[{type:_core.Output}],scrolledUp:[{type:_core.Output}],infiniteScrollDistance:[{type:_core.Input}],infiniteScrollUpDistance:[{type:_core.Input}],infiniteScrollThrottle:[{type:_core.Input}],infiniteScrollDisabled:[{type:_core.Input}],infiniteScrollContainer:[{type:_core.Input}],scrollWindow:[{type:_core.Input}],immediateCheck:[{type:_core.Input}],horizontal:[{type:_core.Input}],alwaysCallback:[{type:_core.Input}],fromRoot:[{type:_core.Input}]};var InfiniteScrollModule=function(){return function(){}}();exports.InfiniteScrollModule=InfiniteScrollModule,InfiniteScrollModule.decorators=[{type:_core.NgModule,args:[{declarations:[InfiniteScrollDirective],exports:[InfiniteScrollDirective],imports:[],providers:[]}]}]},{"@angular/core":"XDhY",rxjs:"iRqj","rxjs/operators":"cVrl"}],ClEj:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FamilyMemberBaseContainerComponent=void 0;var obj,_core=require("@angular/core"),_familyMember=(obj=require("../family-member.model"))&&obj.__esModule?obj:{default:obj};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},urlPrefix=(0,require("../../app/exports").resolveUrlPrefix)("family-member/family-member-base-container/"),FamilyMemberBaseContainerComponent=function(){function FamilyMemberBaseContainerComponent(){this.debug=!1,this.blockType="",this.height=50,this.width=500}var _a,_b;return FamilyMemberBaseContainerComponent.prototype.ngOnInit=function(){},__decorate([(0,_core.Input)(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof String&&String)?_a:Object)],FamilyMemberBaseContainerComponent.prototype,"containerType",void 0),__decorate([(0,_core.Input)(),__metadata("design:type","function"==typeof(_b=void 0!==_familyMember.default&&_familyMember.default)?_b:Object)],FamilyMemberBaseContainerComponent.prototype,"member",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Object)],FamilyMemberBaseContainerComponent.prototype,"activity",void 0),FamilyMemberBaseContainerComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"base-container",templateUrl:urlPrefix+"family-member-base-container.component.html",host:{"[style.height.px]":"height","[style.width.px]":"width"}}),__metadata("design:paramtypes",[])],FamilyMemberBaseContainerComponent)}();exports.FamilyMemberBaseContainerComponent=FamilyMemberBaseContainerComponent},{"@angular/core":"XDhY","../family-member.model":"fUHJ","../../app/exports":"lvDC"}],zCcQ:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConnectedFamilyMembersComponent=void 0;var _core=require("@angular/core"),_ngxRestangular=require("ngx-restangular"),_familyMemberBaseContainer=require("../family-member-base-container/family-member-base-container.component"),_familyMember=require("../family-member.service"),_exports=require("../../app/exports");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _extendStatics,__extends=(_extendStatics=function(d,b){return(_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}_extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},urlPrefix=(0,_exports.resolveUrlPrefix)("family-member/connected-family-members/"),ConnectedFamilyMembersComponent=function(_super){function ConnectedFamilyMembersComponent(FamilyMemberService,restangular){var _this=_super.call(this)||this;return _this.FamilyMemberService=FamilyMemberService,_this}var _a,_b,_c;return __extends(ConnectedFamilyMembersComponent,_super),ConnectedFamilyMembersComponent.prototype.scrollToAnchor=function(id){this.FamilyMemberService.scrollToAnchor(id)},__decorate([(0,_core.Input)(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof Array&&Array)?_a:Object)],ConnectedFamilyMembersComponent.prototype,"familyMembers",void 0),ConnectedFamilyMembersComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"connected-family-members",templateUrl:urlPrefix+"connected-family-members.component.html",providers:[_familyMember.FamilyMemberService]}),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==_familyMember.FamilyMemberService&&_familyMember.FamilyMemberService)?_b:Object,"function"==typeof(_c=void 0!==_ngxRestangular.Restangular&&_ngxRestangular.Restangular)?_c:Object])],ConnectedFamilyMembersComponent)}(_familyMemberBaseContainer.FamilyMemberBaseContainerComponent);exports.ConnectedFamilyMembersComponent=ConnectedFamilyMembersComponent},{"@angular/core":"XDhY","ngx-restangular":"YJcD","../family-member-base-container/family-member-base-container.component":"ClEj","../family-member.service":"K2L6","../../app/exports":"lvDC"}],vufT:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FamilyMemberActivityFeedComponent=void 0;var _analytics=require("../../common/analytics.service"),_core=require("@angular/core"),_ngxRestangular=require("ngx-restangular"),_familyMemberBaseContainer=require("../family-member-base-container/family-member-base-container.component"),_familyMember=require("../family-member.service"),_exports=require("../../app/exports");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _extendStatics,__extends=(_extendStatics=function(d,b){return(_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}_extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},urlPrefix=(0,_exports.resolveUrlPrefix)("family-member/family-member-activity-feed/"),FamilyMemberActivityFeedComponent=function(_super){function FamilyMemberActivityFeedComponent(FamilyMemberService,restangular,analyticsService,BulbAuthService){var _this=_super.call(this)||this;return _this.FamilyMemberService=FamilyMemberService,_this.restangular=restangular,_this.analyticsService=analyticsService,_this.BulbAuthService=BulbAuthService,_this.pageSize=5,_this.lastPage=0,_this.studentHasNoActivities=!1,_this.displayFamilyFilterButtons=!0,_this.buttonActiveObj={isButtonActive:!1},_this.activitiesToDisplay=!1,_this.familyMembersToDisplay=!1,_this.newActivitiesExist=!1,_this}var _a,_b,_c,_d;return __extends(FamilyMemberActivityFeedComponent,_super),FamilyMemberActivityFeedComponent.prototype.ngOnInit=function(){this.showFeed(null)},FamilyMemberActivityFeedComponent.prototype.onScroll=function(currentActivitiesArr){var _this=this;if(currentActivitiesArr&&currentActivitiesArr.length>0){var lastActivityId=currentActivitiesArr[currentActivitiesArr.length-1];this.FamilyMemberService.fetchStudentActivities(this.parent.id,this.showStudent,lastActivityId.id).then(function(response){_this.nextActivities=response,_this.activities=_this.activities.concat(_this.nextActivities)})}},FamilyMemberActivityFeedComponent.prototype.showFeed=function(id){var _this=this;null===id?(this.showStudent=void 0,this.buttonActiveObj={isButtonActive:!1},this.allFamilyBtns=[],this.familyMembers.forEach(function(member){_this.famMemberCombinedObj=Object.assign(member,_this.buttonActiveObj),_this.allFamilyBtns.push(_this.famMemberCombinedObj)}),this.FamilyMemberService.fetchStudentActivities(this.parent.id,this.showStudent).then(function(response){_this.activities=response.plain()})):(this.showStudent=id.getMemberId,id.isButtonActive=!0,this.allFamilyBtns.forEach(function(member){_this.showStudent!==member.getMemberId&&(member.isButtonActive=!1)})),this.displayFamilyFilterButtons=!0,this.FamilyMemberService.fetchStudentActivities(this.parent.id,this.showStudent).then(function(response){_this.activities=response.plain(),_this.activities.length>0&&(_this.studentHasNoActivities=!1),_this.familyMembers.length<=1&&(_this.displayFamilyFilterButtons=!1),_this.activities.length<1&&(_this.studentHasNoActivities=!1,id&&id.getMemberId&&(_this.studentHasNoActivities=!0)),_this.activities.length>0&&(_this.activitiesToDisplay=!0)}),this.familyMembers.length>0&&(this.familyMembersToDisplay=!0)},FamilyMemberActivityFeedComponent.prototype.scrollToAnchor=function(id){this.FamilyMemberService.scrollToAnchor(id)},FamilyMemberActivityFeedComponent.prototype.setNew=function(activity){var _this=this;this.FamilyMemberService.setNewToFalse(this.parent.id,activity.id).then(function(response){_this.FamilyMemberService.fetchStudentActivities(_this.parent.id,_this.showStudent).then(function(response){var setNewFamilyAccountActivity=new CustomEvent("setNewFamilyAccountActivity",{detail:{setNewActivity:!0,activities:response.plain()}});window.dispatchEvent(setNewFamilyAccountActivity),_this.activities=response.plain(),_this.FamilyMemberService.setNewActivitiesToTrue(_this.activities),_this.newActivitiesExist=_this.FamilyMemberService.newActivitiesExist,_this.FamilyMemberService.refreshAccount()})})},FamilyMemberActivityFeedComponent.prototype.analyticsEvent=function(activityType){var activityFeedEventObject={event:"FamilyAccountActivityFeedClick",activityType:activityType,userId:this.BulbAuthService.currentUser.id};this.analyticsService.pushEvent(activityFeedEventObject)},__decorate([(0,_core.Input)(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof Array&&Array)?_a:Object)],FamilyMemberActivityFeedComponent.prototype,"familyMembers",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Object)],FamilyMemberActivityFeedComponent.prototype,"parent",void 0),FamilyMemberActivityFeedComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"familymember-activity-feed",templateUrl:urlPrefix+"family-member-activity-feed.component.html",providers:[_familyMember.FamilyMemberService]}),__param(3,(0,_core.Inject)("BulbAuthService")),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==_familyMember.FamilyMemberService&&_familyMember.FamilyMemberService)?_b:Object,"function"==typeof(_c=void 0!==_ngxRestangular.Restangular&&_ngxRestangular.Restangular)?_c:Object,"function"==typeof(_d=void 0!==_analytics.AnalyticsService&&_analytics.AnalyticsService)?_d:Object,Object])],FamilyMemberActivityFeedComponent)}(_familyMemberBaseContainer.FamilyMemberBaseContainerComponent);exports.FamilyMemberActivityFeedComponent=FamilyMemberActivityFeedComponent},{"../../common/analytics.service":"RQFK","@angular/core":"XDhY","ngx-restangular":"YJcD","../family-member-base-container/family-member-base-container.component":"ClEj","../family-member.service":"K2L6","../../app/exports":"lvDC"}],Dcfl:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FamilyMemberDividerComponent=void 0;var _core=require("@angular/core");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},urlPrefix=(0,require("../../app/exports").resolveUrlPrefix)("family-member/family-member-divider/"),FamilyMemberDividerComponent=function(){function FamilyMemberDividerComponent(){}return FamilyMemberDividerComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"family-divider",templateUrl:urlPrefix+"family-member-divider.component.html"})],FamilyMemberDividerComponent)}();exports.FamilyMemberDividerComponent=FamilyMemberDividerComponent},{"@angular/core":"XDhY","../../app/exports":"lvDC"}],v7Dz:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FamilyMemberFiltersComponent=void 0;var _core=require("@angular/core"),_ngxRestangular=require("ngx-restangular"),_exports=require("../../app/exports"),_familyMemberBaseContainer=require("../family-member-base-container/family-member-base-container.component");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _extendStatics,__extends=(_extendStatics=function(d,b){return(_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}_extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},urlPrefix=(0,_exports.resolveUrlPrefix)("family-member/family-member-filters/"),FamilyMemberFiltersComponent=function(_super){function FamilyMemberFiltersComponent(restangular){var _this=_super.call(this)||this;return _this.showUserFeed="",_this.blockType="",_this}var _a,_b,_c;return __extends(FamilyMemberFiltersComponent,_super),FamilyMemberFiltersComponent.prototype.showFeed=function(id){console.log("showFeed student id "+id),this.showUserFeed=id},FamilyMemberFiltersComponent.prototype.ngOnInit=function(){this.debug&&console.log("CC button filter:",this)},__decorate([(0,_core.Input)(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof Array&&Array)?_a:Object)],FamilyMemberFiltersComponent.prototype,"familyMembers",void 0),__decorate([(0,_core.Input)(),__metadata("design:type","function"==typeof(_b="undefined"!=typeof String&&String)?_b:Object)],FamilyMemberFiltersComponent.prototype,"showUserFeed",void 0),FamilyMemberFiltersComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"family-member-filter-buttons",templateUrl:urlPrefix+"family-member-filters.component.html"}),__metadata("design:paramtypes",["function"==typeof(_c=void 0!==_ngxRestangular.Restangular&&_ngxRestangular.Restangular)?_c:Object])],FamilyMemberFiltersComponent)}(_familyMemberBaseContainer.FamilyMemberBaseContainerComponent);exports.FamilyMemberFiltersComponent=FamilyMemberFiltersComponent},{"@angular/core":"XDhY","ngx-restangular":"YJcD","../../app/exports":"lvDC","../family-member-base-container/family-member-base-container.component":"ClEj"}],zVsT:[function(require,module,exports){"use strict";function anchorScrollServiceFactory(i){return i.get("$anchorScroll")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.anchorScrollServiceFactory=anchorScrollServiceFactory,exports.authServiceFactory=authServiceFactory,exports.assetlibraryServiceFactory=assetlibraryServiceFactory,exports.busyCoverServiceFactory=busyCoverServiceFactory,exports.assetlibraryUploadServiceFactory=assetlibraryUploadServiceFactory,exports.groupServiceFactory=groupServiceFactory,exports.locationServiceFactory=locationServiceFactory,exports.modalServiceFactory=modalServiceFactory,exports.errorServiceFactory=errorServiceFactory,exports.browserServiceFactory=browserServiceFactory,exports.restangularFactory=restangularFactory,exports.stateServiceFactory=function(i){return i.get("$state")},exports.translateFactory=translateFactory,exports.stateFactory=stateFactory,exports.StateProvider=exports.TranslateProvider=exports.RestangularProvider=exports.BulbBrowserServiceProvider=exports.BulbErrorServiceProvider=exports.BulbModalServiceProvider=exports.LocationProvider=exports.BulbGroupServiceProvider=exports.BulbAssetLibraryUploadServiceProvider=exports.BulbBusyCoverServiceProvider=exports.BulbAssetLibraryServiceProvider=exports.BulbAuthServiceProvider=exports.AnchorScrollProvider=void 0;var AnchorScrollProvider={provide:"$anchorScroll",useFactory:anchorScrollServiceFactory,deps:["$injector"]};function authServiceFactory(i){return i.get("BulbAuthService")}exports.AnchorScrollProvider=AnchorScrollProvider;var BulbAuthServiceProvider={provide:"BulbAuthService",useFactory:authServiceFactory,deps:["$injector"]};function assetlibraryServiceFactory(injector){return injector.get("BulbAssetLibraryService")}exports.BulbAuthServiceProvider=BulbAuthServiceProvider;var BulbAssetLibraryServiceProvider={provide:"BulbAssetLibraryService",useFactory:assetlibraryServiceFactory,deps:["$injector"]};function busyCoverServiceFactory(injector){return injector.get("BulbBusyCoverService")}exports.BulbAssetLibraryServiceProvider=BulbAssetLibraryServiceProvider;var BulbBusyCoverServiceProvider={provide:"BulbBusyCoverService",useFactory:busyCoverServiceFactory,deps:["$injector"]};function assetlibraryUploadServiceFactory(injector){return injector.get("BulbAssetLibraryUploadService")}exports.BulbBusyCoverServiceProvider=BulbBusyCoverServiceProvider;var BulbAssetLibraryUploadServiceProvider={provide:"BulbAssetLibraryUploadService",useFactory:assetlibraryUploadServiceFactory,deps:["$injector"]};function groupServiceFactory(i){return i.get("BulbGroupService")}exports.BulbAssetLibraryUploadServiceProvider=BulbAssetLibraryUploadServiceProvider;var BulbGroupServiceProvider={provide:"BulbGroupService",useFactory:groupServiceFactory,deps:["$injector"]};function locationServiceFactory(i){return i.get("$location")}exports.BulbGroupServiceProvider=BulbGroupServiceProvider;var LocationProvider={provide:"$location",useFactory:locationServiceFactory,deps:["$injector"]};function modalServiceFactory(i){return i.get("BulbModalService")}exports.LocationProvider=LocationProvider;var BulbModalServiceProvider={provide:"BulbModalService",useFactory:modalServiceFactory,deps:["$injector"]};function errorServiceFactory(i){return i.get("BulbErrorService")}exports.BulbModalServiceProvider=BulbModalServiceProvider;var BulbErrorServiceProvider={provide:"BulbErrorService",useFactory:errorServiceFactory,deps:["$injector"]};function browserServiceFactory(i){return i.get("BulbBrowserService")}exports.BulbErrorServiceProvider=BulbErrorServiceProvider;var BulbBrowserServiceProvider={provide:"BulbBrowserService",useFactory:browserServiceFactory,deps:["$injector"]};function restangularFactory(i){return i.get("Restangular")}exports.BulbBrowserServiceProvider=BulbBrowserServiceProvider;var RestangularProvider={provide:"Restangular",useFactory:restangularFactory,deps:["$injector"]};function translateFactory(i){return i.get("$translate")}exports.RestangularProvider=RestangularProvider;var TranslateProvider={provide:"$translate",useFactory:translateFactory,deps:["$injector"]};function stateFactory(injector){return injector.get("$state")}exports.TranslateProvider=TranslateProvider;var StateProvider={provide:"$state",useFactory:stateFactory,deps:["$injector"]};exports.StateProvider=StateProvider},{}],M4pY:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DateAgoPipe=void 0;var _core=require("@angular/core");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},DateAgoPipe=function(){function DateAgoPipe(){}return DateAgoPipe.prototype.transform=function(value,args){if(value){var seconds=Math.floor((+new Date-+new Date(value))/1e3);if(seconds<29)return"Just now";var intervals={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1},counter=void 0;for(var i in intervals)if((counter=Math.floor(seconds/intervals[i]))>0)return 1===counter?counter+" "+i+" ago":counter+" "+i+"s ago"}return value},DateAgoPipe=__decorate([(0,_core.Pipe)({name:"dateAgo",pure:!0})],DateAgoPipe)}();exports.DateAgoPipe=DateAgoPipe},{"@angular/core":"XDhY"}],WNh7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UtilsModule=void 0;var _core=require("@angular/core"),_common=require("@angular/common"),_dateAgo=require("./date-ago.pipe");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},UtilsModule=function(){function UtilsModule(){}return UtilsModule=__decorate([(0,_core.NgModule)({declarations:[_dateAgo.DateAgoPipe],imports:[_common.CommonModule],exports:[_dateAgo.DateAgoPipe]})],UtilsModule)}();exports.UtilsModule=UtilsModule},{"@angular/core":"XDhY","@angular/common":"AomE","./date-ago.pipe":"M4pY"}],iTr2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FamilyMemberModule=void 0;var _core=require("@angular/core"),_common=require("@angular/common"),_ngxInfiniteScroll=require("ngx-infinite-scroll"),_connectedFamilyMembers=require("./connected-family-members/connected-family-members.component"),_familyMemberActivityFeed=require("./family-member-activity-feed/family-member-activity-feed.component"),_familyMemberBaseContainer=require("./family-member-base-container/family-member-base-container.component"),_familyMemberContainer=require("./family-member-container/family-member-container.component"),_familyMemberDivider=require("./family-member-divider/family-member-divider.component"),_familyMemberFilters=require("./family-member-filters/family-member-filters.component"),_angularjs=require("../app/angularjs.providers"),_utils=require("../utils/utils.module");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FamilyMemberModule=function(){function FamilyMemberModule(){}return FamilyMemberModule=__decorate([(0,_core.NgModule)({declarations:[_connectedFamilyMembers.ConnectedFamilyMembersComponent,_familyMemberActivityFeed.FamilyMemberActivityFeedComponent,_familyMemberBaseContainer.FamilyMemberBaseContainerComponent,_familyMemberContainer.FamilyMemberContainerComponent,_familyMemberDivider.FamilyMemberDividerComponent,_familyMemberFilters.FamilyMemberFiltersComponent],entryComponents:[_familyMemberContainer.FamilyMemberContainerComponent],providers:[_angularjs.AnchorScrollProvider,_angularjs.LocationProvider,_angularjs.StateProvider],imports:[_common.CommonModule,_ngxInfiniteScroll.InfiniteScrollModule,_utils.UtilsModule]})],FamilyMemberModule)}();exports.FamilyMemberModule=FamilyMemberModule},{"@angular/core":"XDhY","@angular/common":"AomE","ngx-infinite-scroll":"AkI2","./connected-family-members/connected-family-members.component":"zCcQ","./family-member-activity-feed/family-member-activity-feed.component":"vufT","./family-member-base-container/family-member-base-container.component":"ClEj","./family-member-container/family-member-container.component":"iJ7S","./family-member-divider/family-member-divider.component":"Dcfl","./family-member-filters/family-member-filters.component":"v7Dz","../app/angularjs.providers":"zVsT","../utils/utils.module":"WNh7"}],s4Qu:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TranslatePipe=void 0;var _core=require("@angular/core"),_translation=require("./translation.service");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},TranslatePipe=function(){function TranslatePipe($translate){this.$translate=$translate}var _a;return TranslatePipe.prototype.transform=function(value){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return this.$translate.translateInstant(value)},TranslatePipe=__decorate([(0,_core.Pipe)({name:"translate"}),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==_translation.TranslationService&&_translation.TranslationService)?_a:Object])],TranslatePipe)}();exports.TranslatePipe=TranslatePipe},{"@angular/core":"XDhY","./translation.service":"yEaa"}],Mh1i:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BulbCommonModule=void 0;var _core=require("@angular/core"),_angularjs=require("../app/angularjs.providers"),_analytics=require("./analytics.service"),_fetchUser=require("./fetch-user.service"),_error=require("./error.service"),_translation=require("./translation.service"),_uploadAsset=require("./upload-asset.service"),_resolveUrl=require("./resolve-url.pipe"),_translate=require("./translate.pipe");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},BulbCommonModule=function(){function BulbCommonModule(){}return BulbCommonModule=__decorate([(0,_core.NgModule)({providers:[_analytics.AnalyticsService,_fetchUser.BulbFetchUserService,_error.ErrorService,_resolveUrl.ResolveUrlPipe,_translation.TranslationService,_uploadAsset.UploadAssetService,_angularjs.BulbAssetLibraryServiceProvider,_angularjs.BulbAssetLibraryUploadServiceProvider,_angularjs.BulbAuthServiceProvider,_angularjs.BulbBrowserServiceProvider,_angularjs.BulbBusyCoverServiceProvider,_angularjs.BulbGroupServiceProvider,_angularjs.StateProvider],declarations:[_resolveUrl.ResolveUrlPipe,_translate.TranslatePipe],exports:[_resolveUrl.ResolveUrlPipe,_translate.TranslatePipe]})],BulbCommonModule)}();exports.BulbCommonModule=BulbCommonModule},{"@angular/core":"XDhY","../app/angularjs.providers":"zVsT","./analytics.service":"RQFK","./fetch-user.service":"PrWb","./error.service":"shL8","./translation.service":"yEaa","./upload-asset.service":"bEGA","./resolve-url.pipe":"UFIK","./translate.pipe":"s4Qu"}],XNRY:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AeroImageRadioButtonComponent=void 0;var _core=require("@angular/core"),_exports=require("../../../app/exports");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},urlPrefix=(0,_exports.resolveUrlPrefix)("aero/aero-image-radio-group/aero-image-radio-button/"),AeroImageRadioButtonComponent=function(){function AeroImageRadioButtonComponent(BulbBrowserService){this.BulbBrowserService=BulbBrowserService,this.selectedImageIdChange=new _core.EventEmitter}return AeroImageRadioButtonComponent.prototype.ngOnInit=function(){var isMobile=this.BulbBrowserService.isIOSMobile()||this.BulbBrowserService.isAndroid();this.width=this.width?this.width:isMobile?88:132,this.height=this.height?this.height:isMobile?112:170,this.radioImage={id:(0,_exports.generateObjectId)(),src:this.imageSrc}},AeroImageRadioButtonComponent.prototype.change=function(newValue){this.selectedImageId=newValue,this.selectedImageIdChange.emit(newValue)},__decorate([(0,_core.Input)(),__metadata("design:type",String)],AeroImageRadioButtonComponent.prototype,"name",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Object)],AeroImageRadioButtonComponent.prototype,"value",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Number)],AeroImageRadioButtonComponent.prototype,"width",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Number)],AeroImageRadioButtonComponent.prototype,"height",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Object)],AeroImageRadioButtonComponent.prototype,"selectedImageId",void 0),__decorate([_exports.isRequired,(0,_core.Output)(),__metadata("design:type",Object)],AeroImageRadioButtonComponent.prototype,"selectedImageIdChange",void 0),__decorate([_exports.isRequired,(0,_core.Input)(),__metadata("design:type",String)],AeroImageRadioButtonComponent.prototype,"imageSrc",void 0),AeroImageRadioButtonComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"aero-image-radio-button",templateUrl:urlPrefix+"aero-image-radio-button.component.html"}),__param(0,(0,_core.Inject)("BulbBrowserService")),__metadata("design:paramtypes",[Object])],AeroImageRadioButtonComponent)}();exports.AeroImageRadioButtonComponent=AeroImageRadioButtonComponent},{"@angular/core":"XDhY","../../../app/exports":"lvDC"}],lOPS:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AeroImageRadioGroupComponent=void 0;var _core=require("@angular/core");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},urlPrefix=(0,require("../../app/exports").resolveUrlPrefix)("aero/aero-image-radio-group/"),AeroImageRadioGroupComponent=function(){function AeroImageRadioGroupComponent(){}return AeroImageRadioGroupComponent=__decorate([(0,_core.Component)({moduleId:module.id,selector:"aero-image-radio-group",templateUrl:urlPrefix+"aero-image-radio-group.component.html"}),__metadata("design:paramtypes",[])],AeroImageRadioGroupComponent)}();exports.AeroImageRadioGroupComponent=AeroImageRadioGroupComponent},{"@angular/core":"XDhY","../../app/exports":"lvDC"}],WMV6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ButtonModule=exports.ButtonDirective=exports.Button=void 0;var _core=require("@angular/core"),_dom=require("primeng/dom"),_common=require("@angular/common"),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ButtonDirective=function(){function ButtonDirective(el){this.el=el,this.iconPos="left",this.cornerStyleClass="ui-corner-all"}return ButtonDirective.prototype.ngAfterViewInit=function(){if(_dom.DomHandler.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){var iconElement=document.createElement("span");iconElement.setAttribute("aria-hidden","true");var iconPosClass="right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left";iconElement.className=iconPosClass+" ui-clickable "+this.icon,this.el.nativeElement.appendChild(iconElement)}var labelElement=document.createElement("span");this.icon&&!this.label&&labelElement.setAttribute("aria-hidden","true"),labelElement.className="ui-button-text ui-clickable",labelElement.appendChild(document.createTextNode(this.label||"ui-btn")),this.el.nativeElement.appendChild(labelElement),this.initialized=!0},ButtonDirective.prototype.getStyleClass=function(){var styleClass="ui-button ui-widget ui-state-default "+this.cornerStyleClass;return this.icon?null!=this.label&&void 0!=this.label&&""!=this.label?"left"==this.iconPos?styleClass+=" ui-button-text-icon-left":styleClass+=" ui-button-text-icon-right":styleClass+=" ui-button-icon-only":this.label?styleClass+=" ui-button-text-only":styleClass+=" ui-button-text-empty",styleClass},ButtonDirective.prototype.setStyleClass=function(){var styleClass=this.getStyleClass();this.el.nativeElement.className=styleClass},Object.defineProperty(ButtonDirective.prototype,"label",{get:function(){return this._label},set:function(val){this._label=val,this.initialized&&(_dom.DomHandler.findSingle(this.el.nativeElement,".ui-button-text").textContent=this._label||"ui-btn",this.icon||(this._label?(_dom.DomHandler.removeClass(this.el.nativeElement,"ui-button-text-empty"),_dom.DomHandler.addClass(this.el.nativeElement,"ui-button-text-only")):(_dom.DomHandler.addClass(this.el.nativeElement,"ui-button-text-empty"),_dom.DomHandler.removeClass(this.el.nativeElement,"ui-button-text-only"))),this.setStyleClass())},enumerable:!0,configurable:!0}),Object.defineProperty(ButtonDirective.prototype,"icon",{get:function(){return this._icon},set:function(val){if(this._icon=val,this.initialized){var iconPosClass="right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left";_dom.DomHandler.findSingle(this.el.nativeElement,".ui-clickable").className=iconPosClass+" ui-clickable "+this.icon,this.setStyleClass()}},enumerable:!0,configurable:!0}),ButtonDirective.prototype.ngOnDestroy=function(){for(;this.el.nativeElement.hasChildNodes();)this.el.nativeElement.removeChild(this.el.nativeElement.lastChild);this.initialized=!1},ButtonDirective.ctorParameters=function(){return[{type:_core.ElementRef}]},__decorate([(0,_core.Input)()],ButtonDirective.prototype,"iconPos",void 0),__decorate([(0,_core.Input)()],ButtonDirective.prototype,"cornerStyleClass",void 0),__decorate([(0,_core.Input)()],ButtonDirective.prototype,"label",null),__decorate([(0,_core.Input)()],ButtonDirective.prototype,"icon",null),ButtonDirective=__decorate([(0,_core.Directive)({selector:"[pButton]"})],ButtonDirective)}();exports.ButtonDirective=ButtonDirective;var Button=function(){function Button(){this.iconPos="left",this.onClick=new _core.EventEmitter,this.onFocus=new _core.EventEmitter,this.onBlur=new _core.EventEmitter}return __decorate([(0,_core.Input)()],Button.prototype,"type",void 0),__decorate([(0,_core.Input)()],Button.prototype,"iconPos",void 0),__decorate([(0,_core.Input)()],Button.prototype,"icon",void 0),__decorate([(0,_core.Input)()],Button.prototype,"label",void 0),__decorate([(0,_core.Input)()],Button.prototype,"disabled",void 0),__decorate([(0,_core.Input)()],Button.prototype,"style",void 0),__decorate([(0,_core.Input)()],Button.prototype,"styleClass",void 0),__decorate([(0,_core.Output)()],Button.prototype,"onClick",void 0),__decorate([(0,_core.Output)()],Button.prototype,"onFocus",void 0),__decorate([(0,_core.Output)()],Button.prototype,"onBlur",void 0),Button=__decorate([(0,_core.Component)({selector:"p-button",template:"\n        <button [attr.type]=\"type\" [class]=\"styleClass\" [ngStyle]=\"style\" [disabled]=\"disabled\"\n            [ngClass]=\"{'ui-button ui-widget ui-state-default ui-corner-all':true,\n                        'ui-button-icon-only': (icon && !label),\n                        'ui-button-text-icon-left': (icon && label && iconPos === 'left'),\n                        'ui-button-text-icon-right': (icon && label && iconPos === 'right'),\n                        'ui-button-text-only': (!icon && label),\n                        'ui-button-text-empty': (!icon && !label),\n                        'ui-state-disabled': disabled}\"\n                        (click)=\"onClick.emit($event)\" (focus)=\"onFocus.emit($event)\" (blur)=\"onBlur.emit($event)\">\n            <ng-content></ng-content>\n            <span [ngClass]=\"{'ui-clickable': true,\n                        'ui-button-icon-left': (iconPos === 'left'), \n                        'ui-button-icon-right': (iconPos === 'right')}\"\n                        [class]=\"icon\" *ngIf=\"icon\" [attr.aria-hidden]=\"true\"></span>\n            <span class=\"ui-button-text ui-clickable\" [attr.aria-hidden]=\"icon && !label\">{{label||'ui-btn'}}</span>\n        </button>\n    ",changeDetection:_core.ChangeDetectionStrategy.Default})],Button)}();exports.Button=Button;var ButtonModule=function(){function ButtonModule(){}return ButtonModule=__decorate([(0,_core.NgModule)({imports:[_common.CommonModule],exports:[ButtonDirective,Button],declarations:[ButtonDirective,Button]})],ButtonModule)}();exports.ButtonModule=ButtonModule},{"@angular/core":"XDhY","primeng/dom":"XpVl","@angular/common":"AomE"}],CgFv:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FocusTrapModule=exports.FocusTrap=void 0;var _core=require("@angular/core"),_common=require("@angular/common"),_dom=require("primeng/dom"),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FocusTrap=function(){function FocusTrap(el){this.el=el}return FocusTrap.prototype.onkeydown=function(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();var focusableElements=_dom.DomHandler.getFocusableElements(this.el.nativeElement);if(focusableElements&&focusableElements.length>0)if(document.activeElement){var focusedIndex=focusableElements.indexOf(document.activeElement);e.shiftKey?-1==focusedIndex||0===focusedIndex?focusableElements[focusableElements.length-1].focus():focusableElements[focusedIndex-1].focus():-1==focusedIndex||focusedIndex===focusableElements.length-1?focusableElements[0].focus():focusableElements[focusedIndex+1].focus()}else focusableElements[0].focus()}},FocusTrap.ctorParameters=function(){return[{type:_core.ElementRef}]},__decorate([(0,_core.Input)()],FocusTrap.prototype,"pFocusTrapDisabled",void 0),__decorate([(0,_core.HostListener)("keydown.tab",["$event"]),(0,_core.HostListener)("keydown.shift.tab",["$event"])],FocusTrap.prototype,"onkeydown",null),FocusTrap=__decorate([(0,_core.Directive)({selector:"[pFocusTrap]"})],FocusTrap)}();exports.FocusTrap=FocusTrap;var FocusTrapModule=function(){function FocusTrapModule(){}return FocusTrapModule=__decorate([(0,_core.NgModule)({imports:[_common.CommonModule],exports:[FocusTrap],declarations:[FocusTrap]})],FocusTrapModule)}();exports.FocusTrapModule=FocusTrapModule},{"@angular/core":"XDhY","@angular/common":"AomE","primeng/dom":"XpVl"}],jt6Q:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DialogModule=exports.Dialog=void 0;var _core=require("@angular/core"),_animations=require("@angular/animations"),_common=require("@angular/common"),_dom=require("primeng/dom"),_api=require("primeng/api"),_focustrap=require("primeng/focustrap"),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},idx=0,showAnimation=(0,_animations.animation)([(0,_animations.style)({transform:"{{transform}}",opacity:0}),(0,_animations.animate)("{{transition}}",(0,_animations.style)({transform:"none",opacity:1}))]),hideAnimation=(0,_animations.animation)([(0,_animations.animate)("{{transition}}",(0,_animations.style)({transform:"{{transform}}",opacity:0}))]),Dialog=function(){function Dialog(el,renderer,zone,cd){this.el=el,this.renderer=renderer,this.zone=zone,this.cd=cd,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new _core.EventEmitter,this.onHide=new _core.EventEmitter,this.visibleChange=new _core.EventEmitter,this.onResizeInit=new _core.EventEmitter,this.onResizeEnd=new _core.EventEmitter,this.onDragEnd=new _core.EventEmitter,this.id="ui-dialog-"+idx++,this._style={},this._position="center",this.transformOptions="scale(0.7)"}return Object.defineProperty(Dialog.prototype,"positionLeft",{get:function(){return 0},set:function(_positionLeft){console.log("positionLeft property is deprecated.")},enumerable:!0,configurable:!0}),Object.defineProperty(Dialog.prototype,"positionTop",{get:function(){return 0},set:function(_positionTop){console.log("positionTop property is deprecated.")},enumerable:!0,configurable:!0}),Object.defineProperty(Dialog.prototype,"responsive",{get:function(){return!1},set:function(_responsive){console.log("Responsive property is deprecated.")},enumerable:!0,configurable:!0}),Object.defineProperty(Dialog.prototype,"breakpoint",{get:function(){return 649},set:function(_breakpoint){console.log("Breakpoint property is not utilized and deprecated, use CSS media queries instead.")},enumerable:!0,configurable:!0}),Object.defineProperty(Dialog.prototype,"visible",{get:function(){return this._visible},set:function(value){this._visible=value,this._visible&&!this.maskVisible&&(this.maskVisible=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Dialog.prototype,"style",{get:function(){return this._style},set:function(value){value&&(this._style=__assign({},value),this.originalStyle=value)},enumerable:!0,configurable:!0}),Object.defineProperty(Dialog.prototype,"position",{get:function(){return this._position},set:function(value){switch(this._position=value,value){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}},enumerable:!0,configurable:!0}),Dialog.prototype.focus=function(){var focusable=_dom.DomHandler.findSingle(this.container,"button");focusable&&this.zone.runOutsideAngular(function(){setTimeout(function(){return focusable.focus()},5)})},Dialog.prototype.close=function(event){this.visibleChange.emit(!1),event.preventDefault()},Dialog.prototype.enableModality=function(){var _this=this;this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"click",function(event){_this.wrapper&&_this.wrapper.isSameNode(event.target)&&_this.close(event)})),this.modal&&_dom.DomHandler.addClass(document.body,"ui-overflow-hidden")},Dialog.prototype.disableModality=function(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&_dom.DomHandler.removeClass(document.body,"ui-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())},Dialog.prototype.maximize=function(){this.maximized=!this.maximized,this.modal||this.blockScroll||(this.maximized?_dom.DomHandler.addClass(document.body,"ui-overflow-hidden"):_dom.DomHandler.removeClass(document.body,"ui-overflow-hidden"))},Dialog.prototype.unbindMaskClickListener=function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)},Dialog.prototype.moveOnTop=function(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++_dom.DomHandler.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(_dom.DomHandler.zindex-1)))},Dialog.prototype.initDrag=function(event){_dom.DomHandler.hasClass(event.target,"ui-dialog-titlebar-icon")||_dom.DomHandler.hasClass(event.target.parentElement,"ui-dialog-titlebar-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=event.pageX,this.lastPageY=event.pageY,this.container.style.margin="0",_dom.DomHandler.addClass(document.body,"ui-unselectable-text"))},Dialog.prototype.onKeydown=function(event){if(this.focusTrap&&9===event.which){event.preventDefault();var focusableElements=_dom.DomHandler.getFocusableElements(this.container);if(focusableElements&&focusableElements.length>0)if(document.activeElement){var focusedIndex=focusableElements.indexOf(document.activeElement);event.shiftKey?-1==focusedIndex||0===focusedIndex?focusableElements[focusableElements.length-1].focus():focusableElements[focusedIndex-1].focus():-1==focusedIndex||focusedIndex===focusableElements.length-1?focusableElements[0].focus():focusableElements[focusedIndex+1].focus()}else focusableElements[0].focus()}},Dialog.prototype.onDrag=function(event){if(this.dragging){var containerWidth=_dom.DomHandler.getOuterWidth(this.container),containerHeight=_dom.DomHandler.getOuterHeight(this.container),deltaX=event.pageX-this.lastPageX,deltaY=event.pageY-this.lastPageY,offset=_dom.DomHandler.getOffset(this.container),leftPos=offset.left+deltaX,topPos=offset.top+deltaY,viewport=_dom.DomHandler.getViewport();this.container.style.position="fixed",this.keepInViewport?(leftPos>=this.minX&&leftPos+containerWidth<viewport.width&&(this._style.left=leftPos+"px",this.lastPageX=event.pageX,this.container.style.left=leftPos+"px"),topPos>=this.minY&&topPos+containerHeight<viewport.height&&(this._style.top=topPos+"px",this.lastPageY=event.pageY,this.container.style.top=topPos+"px")):(this.lastPageX=event.pageX,this.container.style.left=leftPos+"px",this.lastPageY=event.pageY,this.container.style.top=topPos+"px")}},Dialog.prototype.endDrag=function(event){this.dragging&&(this.dragging=!1,_dom.DomHandler.removeClass(document.body,"ui-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(event))},Dialog.prototype.resetPosition=function(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""},Dialog.prototype.center=function(){this.resetPosition()},Dialog.prototype.initResize=function(event){this.resizable&&(this.resizing=!0,this.lastPageX=event.pageX,this.lastPageY=event.pageY,_dom.DomHandler.addClass(document.body,"ui-unselectable-text"),this.onResizeInit.emit(event))},Dialog.prototype.onResize=function(event){if(this.resizing){var deltaX=event.pageX-this.lastPageX,deltaY=event.pageY-this.lastPageY,containerWidth=_dom.DomHandler.getOuterWidth(this.container),containerHeight=_dom.DomHandler.getOuterHeight(this.container),contentHeight=_dom.DomHandler.getOuterHeight(this.contentViewChild.nativeElement),newWidth=containerWidth+deltaX,newHeight=containerHeight+deltaY,minWidth=this.container.style.minWidth,minHeight=this.container.style.minHeight,offset=_dom.DomHandler.getOffset(this.container),viewport=_dom.DomHandler.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(newWidth+=deltaX,newHeight+=deltaY),(!minWidth||newWidth>parseInt(minWidth))&&offset.left+newWidth<viewport.width&&(this._style.width=newWidth+"px",this.container.style.width=this._style.width),(!minHeight||newHeight>parseInt(minHeight))&&offset.top+newHeight<viewport.height&&(this.contentViewChild.nativeElement.style.height=contentHeight+newHeight-containerHeight+"px",this._style.height&&(this._style.height=newHeight+"px",this.container.style.height=this._style.height)),this.lastPageX=event.pageX,this.lastPageY=event.pageY}},Dialog.prototype.resizeEnd=function(event){this.resizing&&(this.resizing=!1,_dom.DomHandler.removeClass(document.body,"ui-unselectable-text"),this.onResizeEnd.emit(event))},Dialog.prototype.bindGlobalListeners=function(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()},Dialog.prototype.unbindGlobalListeners=function(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()},Dialog.prototype.bindDocumentDragListener=function(){var _this=this;this.zone.runOutsideAngular(function(){_this.documentDragListener=_this.onDrag.bind(_this),window.document.addEventListener("mousemove",_this.documentDragListener)})},Dialog.prototype.unbindDocumentDragListener=function(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},Dialog.prototype.bindDocumentDragEndListener=function(){var _this=this;this.zone.runOutsideAngular(function(){_this.documentDragEndListener=_this.endDrag.bind(_this),window.document.addEventListener("mouseup",_this.documentDragEndListener)})},Dialog.prototype.unbindDocumentDragEndListener=function(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)},Dialog.prototype.bindDocumentResizeListeners=function(){var _this=this;this.zone.runOutsideAngular(function(){_this.documentResizeListener=_this.onResize.bind(_this),_this.documentResizeEndListener=_this.resizeEnd.bind(_this),window.document.addEventListener("mousemove",_this.documentResizeListener),window.document.addEventListener("mouseup",_this.documentResizeEndListener)})},Dialog.prototype.unbindDocumentResizeListeners=function(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)},Dialog.prototype.bindDocumentEscapeListener=function(){var _this=this;this.documentEscapeListener=this.renderer.listen("document","keydown",function(event){27==event.which&&parseInt(_this.container.style.zIndex)===_dom.DomHandler.zindex+_this.baseZIndex&&_this.close(event)})},Dialog.prototype.unbindDocumentEscapeListener=function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)},Dialog.prototype.appendContainer=function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):_dom.DomHandler.appendChild(this.wrapper,this.appendTo))},Dialog.prototype.restoreAppend=function(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)},Dialog.prototype.onAnimationStart=function(event){switch(event.toState){case"visible":this.container=event.element,this.wrapper=this.container.parentElement,this.onShow.emit({}),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&_dom.DomHandler.addClass(document.body,"ui-overflow-hidden"),this.focusOnShow&&this.focus()}},Dialog.prototype.onAnimationEnd=function(event){switch(event.toState){case"void":this.onContainerDestroy(),this.onHide.emit({})}},Dialog.prototype.onContainerDestroy=function(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(_dom.DomHandler.removeClass(document.body,"ui-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&_dom.DomHandler.removeClass(document.body,"ui-overflow-hidden"),this.container=null,this.wrapper=null,this._style=this.originalStyle?__assign({},this.originalStyle):{}},Dialog.prototype.ngOnDestroy=function(){this.container&&(this.restoreAppend(),this.onContainerDestroy())},Dialog.ctorParameters=function(){return[{type:_core.ElementRef},{type:_core.Renderer2},{type:_core.NgZone},{type:_core.ChangeDetectorRef}]},__decorate([(0,_core.Input)()],Dialog.prototype,"header",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"draggable",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"resizable",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"positionLeft",null),__decorate([(0,_core.Input)()],Dialog.prototype,"positionTop",null),__decorate([(0,_core.Input)()],Dialog.prototype,"contentStyle",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"contentStyleClass",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"modal",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"closeOnEscape",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"dismissableMask",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"rtl",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"closable",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"responsive",null),__decorate([(0,_core.Input)()],Dialog.prototype,"appendTo",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"styleClass",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"maskStyleClass",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"showHeader",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"breakpoint",null),__decorate([(0,_core.Input)()],Dialog.prototype,"blockScroll",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"autoZIndex",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"baseZIndex",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"minX",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"minY",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"focusOnShow",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"maximizable",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"keepInViewport",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"focusTrap",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"transitionOptions",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"closeIcon",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"minimizeIcon",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"maximizeIcon",void 0),__decorate([(0,_core.ContentChildren)(_api.Header,{descendants:!1})],Dialog.prototype,"headerFacet",void 0),__decorate([(0,_core.ContentChildren)(_api.Footer,{descendants:!1})],Dialog.prototype,"footerFacet",void 0),__decorate([(0,_core.ViewChild)("titlebar")],Dialog.prototype,"headerViewChild",void 0),__decorate([(0,_core.ViewChild)("content")],Dialog.prototype,"contentViewChild",void 0),__decorate([(0,_core.ViewChild)("footer")],Dialog.prototype,"footerViewChild",void 0),__decorate([(0,_core.Output)()],Dialog.prototype,"onShow",void 0),__decorate([(0,_core.Output)()],Dialog.prototype,"onHide",void 0),__decorate([(0,_core.Output)()],Dialog.prototype,"visibleChange",void 0),__decorate([(0,_core.Output)()],Dialog.prototype,"onResizeInit",void 0),__decorate([(0,_core.Output)()],Dialog.prototype,"onResizeEnd",void 0),__decorate([(0,_core.Output)()],Dialog.prototype,"onDragEnd",void 0),__decorate([(0,_core.Input)()],Dialog.prototype,"visible",null),__decorate([(0,_core.Input)()],Dialog.prototype,"style",null),__decorate([(0,_core.Input)()],Dialog.prototype,"position",null),Dialog=__decorate([(0,_core.Component)({selector:"p-dialog",template:'\n        <div *ngIf="maskVisible" [class]="maskStyleClass" \n            [ngClass]="{\'ui-dialog-mask\': true, \'ui-widget-overlay\': this.modal, \'ui-dialog-visible\': this.maskVisible, \'ui-dialog-mask-scrollblocker\': this.modal || this.blockScroll,\n                \'ui-dialog-left\': position === \'left\',\n                \'ui-dialog-right\': position === \'right\',\n                \'ui-dialog-top\': position === \'top\',\n                \'ui-dialog-topleft\': position === \'topleft\',\n                \'ui-dialog-topright\': position === \'topright\',\n                \'ui-dialog-bottom\': position === \'bottom\',\n                \'ui-dialog-bottomleft\': position === \'bottomleft\',\n                \'ui-dialog-bottomright\': position === \'bottomright\'}" >\n            <div #container [ngClass]="{\'ui-dialog ui-widget ui-widget-content ui-corner-all ui-shadow\':true, \'ui-dialog-rtl\':rtl,\'ui-dialog-draggable\':draggable,\'ui-dialog-resizable\':resizable, \'ui-dialog-maximized\': maximized}"\n                [ngStyle]="style" [class]="styleClass" *ngIf="visible" pFocusTrap [pFocusTrapDisabled]="focusTrap === false"\n                [@animation]="{value: \'visible\', params: {transform: transformOptions, transition: transitionOptions}}" (@animation.start)="onAnimationStart($event)" (@animation.done)="onAnimationEnd($event)" role="dialog" [attr.aria-labelledby]="id + \'-label\'">\n                <div #titlebar class="ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top" (mousedown)="initDrag($event)" *ngIf="showHeader">\n                    <span [attr.id]="id + \'-label\'" class="ui-dialog-title" *ngIf="header">{{header}}</span>\n                    <span [attr.id]="id + \'-label\'" class="ui-dialog-title" *ngIf="headerFacet && headerFacet.first">\n                        <ng-content select="p-header"></ng-content>\n                    </span>\n                    <div class="ui-dialog-titlebar-icons">\n                        <a *ngIf="maximizable" [ngClass]="{\'ui-dialog-titlebar-icon ui-dialog-titlebar-maximize ui-corner-all\':true}" tabindex="0" role="button" (click)="maximize()" (keydown.enter)="maximize()">\n                            <span [ngClass]="maximized ? minimizeIcon : maximizeIcon"></span>\n                        </a>\n                        <a *ngIf="closable" [ngClass]="{\'ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all\':true}" tabindex="0" role="button" (click)="close($event)" (keydown.enter)="close($event)">\n                            <span [class]="closeIcon"></span>\n                        </a>\n                    </div>\n                </div>\n                <div #content [ngClass]="\'ui-dialog-content ui-widget-content\'" [ngStyle]="contentStyle" [class]="contentStyleClass">\n                    <ng-content></ng-content>\n                </div>\n                <div #footer class="ui-dialog-footer ui-widget-content" *ngIf="footerFacet && footerFacet.first">\n                    <ng-content select="p-footer"></ng-content>\n                </div>\n                <div *ngIf="resizable" class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;" (mousedown)="initResize($event)"></div>\n            </div>\n        </div>\n    ',animations:[(0,_animations.trigger)("animation",[(0,_animations.transition)("void => visible",[(0,_animations.useAnimation)(showAnimation)]),(0,_animations.transition)("visible => void",[(0,_animations.useAnimation)(hideAnimation)])])],changeDetection:_core.ChangeDetectionStrategy.Default})],Dialog)}();exports.Dialog=Dialog;var DialogModule=function(){function DialogModule(){}return DialogModule=__decorate([(0,_core.NgModule)({imports:[_common.CommonModule,_focustrap.FocusTrapModule],exports:[Dialog,_api.SharedModule],declarations:[Dialog]})],DialogModule)}();exports.DialogModule=DialogModule},{"@angular/core":"XDhY","@angular/animations":"qRUb","@angular/common":"AomE","primeng/dom":"XpVl","primeng/api":"c7J6","primeng/focustrap":"CgFv"}],CcQ0:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AeroModule=void 0;var _core=require("@angular/core"),_bulbCommon=require("../common/bulb-common.module"),_common=require("@angular/common"),_forms=require("@angular/forms"),_aeroButton=require("./aero-button/aero-button.component"),_aeroDropdown=require("./aero-dropdown/aero-dropdown.component"),_aeroImageRadioButton=require("../aero/aero-image-radio-group/aero-image-radio-button/aero-image-radio-button.component"),_aeroImageRadioGroup=require("../aero/aero-image-radio-group/aero-image-radio-group.component"),_button=require("primeng/button"),_dialog=require("primeng/dialog"),_dropdown=require("primeng/dropdown"),_dynamicdialog=require("primeng/dynamicdialog");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AeroModule=function(){function AeroModule(){}return AeroModule=__decorate([(0,_core.NgModule)({declarations:[_aeroButton.AeroButtonComponent,_aeroDropdown.AeroDropdownComponent,_aeroImageRadioGroup.AeroImageRadioGroupComponent,_aeroImageRadioButton.AeroImageRadioButtonComponent],entryComponents:[_aeroButton.AeroButtonComponent,_aeroDropdown.AeroDropdownComponent,_aeroImageRadioGroup.AeroImageRadioGroupComponent,_aeroImageRadioButton.AeroImageRadioButtonComponent],providers:[_dynamicdialog.DialogService,_dynamicdialog.DynamicDialogConfig,_dynamicdialog.DynamicDialogRef],exports:[_aeroButton.AeroButtonComponent,_aeroDropdown.AeroDropdownComponent,_aeroImageRadioGroup.AeroImageRadioGroupComponent,_aeroImageRadioButton.AeroImageRadioButtonComponent],imports:[_bulbCommon.BulbCommonModule,_button.ButtonModule,_common.CommonModule,_dialog.DialogModule,_dropdown.DropdownModule,_dynamicdialog.DynamicDialogModule,_forms.FormsModule]})],AeroModule)}();exports.AeroModule=AeroModule},{"@angular/core":"XDhY","../common/bulb-common.module":"Mh1i","@angular/common":"AomE","@angular/forms":"NLO0","./aero-button/aero-button.component":"l7UR","./aero-dropdown/aero-dropdown.component":"uCD8","../aero/aero-image-radio-group/aero-image-radio-button/aero-image-radio-button.component":"XNRY","../aero/aero-image-radio-group/aero-image-radio-group.component":"lOPS","primeng/button":"WMV6","primeng/dialog":"jt6Q","primeng/dropdown":"LnOG","primeng/dynamicdialog":"HJGK"}],dP52:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TourModule=void 0;var _core=require("@angular/core"),_common=require("@angular/common"),_angularjs=require("../angularjs.providers");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},TourModule=function(){function TourModule(){}return TourModule=__decorate([(0,_core.NgModule)({imports:[_common.CommonModule],providers:[_angularjs.BulbAuthServiceProvider,_angularjs.BulbBrowserServiceProvider,_angularjs.BulbErrorServiceProvider,_angularjs.BulbModalServiceProvider,_angularjs.RestangularProvider,_angularjs.TranslateProvider]})],TourModule)}();exports.TourModule=TourModule},{"@angular/core":"XDhY","@angular/common":"AomE","../angularjs.providers":"zVsT"}],ip5f:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioPlaybackComponent=void 0;var _core=require("@angular/core");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},urlPrefix=(0,require("../../exports").resolveUrlPrefix)("app/audio/audio-playback/"),AudioPlaybackComponent=function(){function AudioPlaybackComponent(BulbBrowserService){this.BulbBrowserService=BulbBrowserService,this.deleteAudioRecordingEmitter=new _core.EventEmitter,this.saveAudioRecordingEmitter=new _core.EventEmitter,this.downloadAudioRecordingEmitter=new _core.EventEmitter}var AudioPlaybackComponent_1,_a,_b,_c;return AudioPlaybackComponent_1=AudioPlaybackComponent,AudioPlaybackComponent.prototype.ngOnInit=function(){var _this=this;this.isMobile=this.BulbBrowserService.isIOSMobile()||this.BulbBrowserService.isAndroid(),setTimeout(function(e){new AudioPlaybackComponent_1.AudioPlayer(_this.isMobile)})},AudioPlaybackComponent.prototype.deleteAudioRecording=function(){this.deleteAudioRecordingEmitter.emit(!0)},AudioPlaybackComponent.prototype.saveRecording=function(){var fileName=this.fileName?this._cleanFileName():this.generateFileName();this.saveAudioRecordingEmitter.emit({save:!0,fileName:fileName})},AudioPlaybackComponent.prototype.downloadRecordedAudio=function(){this.fileName?this.downloadAudioRecordingEmitter.emit(this._cleanFileName()):this.downloadAudioRecordingEmitter.emit(this.generateFileName())},AudioPlaybackComponent.prototype._cleanFileName=function(){return this.fileName=this.fileName.replace(/\s/g,"_")+".wav",this.fileName},AudioPlaybackComponent.prototype.generateFileName=function(fileName){return(fileName||"")+(new Date).toISOString()+".wav"},AudioPlaybackComponent.AudioPlayer=function(){function class_1(isMobile){var _this=this;setTimeout(function(){_this._initAudioPlayer()},isMobile?500:0)}return class_1.prototype._initAudioPlayer=function(){var duration,$playButton=jQuery(".bulb-playback-audio-play"),$progressBar=jQuery(".bulb-playback-audio-progressbar"),$time=jQuery(".time"),$startTime=jQuery(".bulb-playback-audio-start-time"),$muteButton=jQuery(".bulb-playback-audio-mute"),$volumeBar=jQuery(".bulb-playback-audio-volume"),$player=document.getElementById("audio-recording-playback-player"),volume=.75;function getTime(t){var m=~~(t/60),s=~~(t%60);return(m<10?"0"+m:m)+":"+(s<10?"0"+s:s)}function getProgressBarClickInfo(progress_bar,e){var offset=progress_bar.offset(),x=e.pageX-offset.left,y=e.pageY-offset.top,max=progress_bar.progressbar("option","max");return{x:x,y:y,max:max,value:x*max/progress_bar.width()}}$player.load(),$player.volume=volume,$player.onloadedmetadata=function(){duration=$player.duration,$progressBar.progressbar("option",{max:duration})},$player.oncanplay=function(event){$time.text(getTime($player.duration))},$player.addEventListener("timeupdate",function(event){$progressBar.progressbar("value",$player.currentTime),$startTime.text(getTime($player.currentTime))},!1),$volumeBar.progressbar({value:100*$player.volume}),$volumeBar.click(function(e){var info=getProgressBarClickInfo($(this),e);$volumeBar.progressbar("value",info.value),$player.volume=info.value/info.max}),$progressBar.progressbar({value:$player.currentTime}),$progressBar.click(function(e){var info=getProgressBarClickInfo($(this),e);$player.currentTime=info.max*info.value/$player.duration}),$playButton.click(function(){var changeState=$player.paused;$player[changeState?"play":"pause"](),jQuery(this).toggleClass("fa-play",!changeState),jQuery(this).toggleClass("fa-pause",changeState)}),$muteButton.click(function(){0===$player.volume?$player.volume=volume:(volume=$player.volume,$player.volume=0),$volumeBar.progressbar("value",100*$player.volume),jQuery(this).toggleClass("fa-volume-up",0!==$player.volume),jQuery(this).toggleClass("fa-volume-off",0===$player.volume)})},class_1}(),__decorate([(0,_core.Input)(),__metadata("design:type",String)],AudioPlaybackComponent.prototype,"audioSrc",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Boolean)],AudioPlaybackComponent.prototype,"exceededRecordingLimit",void 0),__decorate([(0,_core.Input)(),__metadata("design:type",Number)],AudioPlaybackComponent.prototype,"audioRecordingTimeDifference",void 0),__decorate([(0,_core.Output)(),__metadata("design:type","function"==typeof(_a=void 0!==_core.EventEmitter&&_core.EventEmitter)?_a:Object)],AudioPlaybackComponent.prototype,"deleteAudioRecordingEmitter",void 0),__decorate([(0,_core.Output)(),__metadata("design:type","function"==typeof(_b=void 0!==_core.EventEmitter&&_core.EventEmitter)?_b:Object)],AudioPlaybackComponent.prototype,"saveAudioRecordingEmitter",void 0),__decorate([(0,_core.Output)(),__metadata("design:type","function"==typeof(_c=void 0!==_core.EventEmitter&&_core.EventEmitter)?_c:Object)],AudioPlaybackComponent.prototype,"downloadAudioRecordingEmitter",void 0),AudioPlaybackComponent=AudioPlaybackComponent_1=__decorate([(0,_core.Component)({moduleId:module.id,selector:"audio-playback",templateUrl:urlPrefix+"audio-playback.component.html"}),__param(0,(0,_core.Inject)("BulbBrowserService")),__metadata("design:paramtypes",[Object])],AudioPlaybackComponent)}();exports.AudioPlaybackComponent=AudioPlaybackComponent},{"@angular/core":"XDhY","../../exports":"lvDC"}],yeoz:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppModule=void 0;var obj,_appModule=(obj=require("../ajs/app.module.ajs"))&&obj.__esModule?obj:{default:obj},_core=require("@angular/core"),_animations=require("@angular/platform-browser/animations"),_platformBrowser=require("@angular/platform-browser"),_forms=require("@angular/forms"),_http=require("@angular/common/http"),_ngxRestangular=require("ngx-restangular"),_static=require("@angular/upgrade/static"),_familyMember=require("../family-member/family-member.module"),_angularjs=require("./angularjs.providers"),_aero=require("../aero/aero.module"),_bulbCommon=require("../common/bulb-common.module"),_tour=require("./tour/tour.module"),_aeroDynamicDialog=require("../aero/aero-dynamic-dialog/aero-dynamic-dialog.service"),_audioVisual=require("./audio/audio-visual/audio-visual.service"),_audioCompatibility=require("./audio/audio-compatibility.service"),_fetchMediaData=require("./audio/fetch-media-data.service"),_fetchUser=require("../common/fetch-user.service"),_familyMember2=require("../family-member/family-member.service"),_error=require("../common/error.service"),_audioPlayback=require("./audio/audio-playback/audio-playback.component"),_audioRecord=require("./audio/audio-record/audio-record.component"),_angularTestingTranslations=require("./angular-testing-translations/angular-testing-translations.component"),_macmillanBookDialog=require("./macmillan-book-dialog/macmillan-book-dialog.component"),_test=require("./test/test.component"),_exports=require("./exports"),_resolveUrl=require("../common/resolve-url.pipe");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AppModule=function(){function AppModule(upgrade){this.upgrade=upgrade}var _a;return AppModule.prototype.ngDoBootstrap=function(){this.upgrade.bootstrap(document.documentElement,[_appModule.default],{strictDi:!1})},AppModule=__decorate([(0,_core.NgModule)({imports:[_aero.AeroModule,_animations.BrowserAnimationsModule,_platformBrowser.BrowserModule,_familyMember.FamilyMemberModule,_bulbCommon.BulbCommonModule,_forms.FormsModule,_http.HttpClientModule,_ngxRestangular.RestangularModule.forRoot([_error.ErrorService],_exports.restangularConfigServiceFactory),_static.UpgradeModule,_tour.TourModule],providers:[_aeroDynamicDialog.AeroDynamicDialogService,_audioCompatibility.AudioCompatibilityService,_audioVisual.AudioVisualService,_angularjs.BulbAssetLibraryServiceProvider,_angularjs.BulbAssetLibraryUploadServiceProvider,_angularjs.BulbAuthServiceProvider,_angularjs.BulbBusyCoverServiceProvider,_fetchMediaData.BulbFetchMediaDataService,_fetchUser.BulbFetchUserService,_angularjs.BulbGroupServiceProvider,_familyMember2.FamilyMemberService,_resolveUrl.ResolveUrlPipe,_angularjs.StateProvider,{provide:_core.APP_INITIALIZER,useFactory:_exports.fetchCurrentUserServiceFactory,deps:[_fetchUser.BulbFetchUserService],multi:!0}],declarations:[_angularTestingTranslations.AngularTestingTranslations,_audioPlayback.AudioPlaybackComponent,_audioRecord.AudioRecordComponent,_macmillanBookDialog.MacmillanBookDialogComponent,_test.TestComponent],entryComponents:[_angularTestingTranslations.AngularTestingTranslations,_audioRecord.AudioRecordComponent,_macmillanBookDialog.MacmillanBookDialogComponent,_test.TestComponent]}),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==_static.UpgradeModule&&_static.UpgradeModule)?_a:Object])],AppModule)}();exports.AppModule=AppModule},{"../ajs/app.module.ajs":"wdVk","@angular/core":"XDhY","@angular/platform-browser/animations":"tZTX","@angular/platform-browser":"dAl9","@angular/forms":"NLO0","@angular/common/http":"vwRf","ngx-restangular":"YJcD","@angular/upgrade/static":"KJHD","../family-member/family-member.module":"iTr2","./angularjs.providers":"zVsT","../aero/aero.module":"CcQ0","../common/bulb-common.module":"Mh1i","./tour/tour.module":"dP52","../aero/aero-dynamic-dialog/aero-dynamic-dialog.service":"uvuy","./audio/audio-visual/audio-visual.service":"PiqP","./audio/audio-compatibility.service":"jB5h","./audio/fetch-media-data.service":"xLwp","../common/fetch-user.service":"PrWb","../family-member/family-member.service":"K2L6","../common/error.service":"shL8","./audio/audio-playback/audio-playback.component":"ip5f","./audio/audio-record/audio-record.component":"XxCX","./angular-testing-translations/angular-testing-translations.component":"NU1B","./macmillan-book-dialog/macmillan-book-dialog.component":"bQ0H","./test/test.component":"MOTr","./exports":"lvDC","../common/resolve-url.pipe":"UFIK"}],U934:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InitialUserFetchService=void 0;var InitialUserFetchService=function(){function InitialUserFetchService(){}return InitialUserFetchService.init=function(){var request=new XMLHttpRequest;return new Promise(function(resolve,reject){request.onreadystatechange=function(){if(4===request.readyState)if(request.status>=200&&request.status<300){var data=JSON.parse(request.response);resolve(data)}else reject({status:request.status,statusText:request.statusText})},request.open("GET","/b/rest/auth/current"),request.send()})},InitialUserFetchService}();exports.InitialUserFetchService=InitialUserFetchService},{}],ZCfc:[function(require,module,exports){"use strict";require("zone.js"),require("reflect-metadata");var obj,_jsCookie=(obj=require("js-cookie"))&&obj.__esModule?obj:{default:obj},_platformBrowserDynamic=require("@angular/platform-browser-dynamic"),_core=require("@angular/core"),_app=(require("fs"),require("./app/app.module"));require("./initial-user-fetch.service").InitialUserFetchService.init().then(function(user){window.bulbVars=window.bulbVars||{},window.bulbVars.bulbOriginalUser=user;var language,userLocale=user.language.toLowerCase();(function(user){return null===user.id})(user)&&(userLocale=(language=_jsCookie.default.get("language"))?language.toLowerCase():"en");var translations=function(userLocale){switch(userLocale){case"en":return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n  <file original="ng.template" id="ngi18n">\n    <unit id="AudioPlaybackFileName">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n      </notes>\n      <segment>\n        <source>File Name:</source>\n        <target>File Name:</target>\n      </segment>\n    </unit>\n    <unit id="AudioPlaybackInputPlaceholder">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n      </notes>\n      <segment>\n        <source>Enter a file name:</source>\n        <target>Enter a file name:</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingDelete">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n      </notes>\n      <segment>\n        <source>Delete</source>\n        <target>Delete</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingDownload">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n      </notes>\n      <segment>\n        <source>Download</source>\n        <target>Download</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingSave">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n      </notes>\n      <segment>\n        <source>Save</source>\n        <target>Save</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingDialogHeader">\n      <notes>\n        <note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n      </notes>\n      <segment>\n        <source>Audio Recording</source>\n        <target>Audio Recording</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingCancel">\n      <notes>\n        <note category="location">src/app/audio/audio-record/audio-record.component.html:25</note>\n      </notes>\n      <segment>\n        <source>Cancel</source>\n        <target>Cancel</target>\n      </segment>\n    </unit>\n    <unit id="MacMillanDialogHeader">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n      </notes>\n      <segment>\n        <source>Choose your book.</source>\n        <target>Choose your book.</target>\n      </segment>\n    </unit>\n    <unit id="MsacMillanDialogDescription">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n      </notes>\n      <segment>\n        <source>Please select the cover of the book you got the bulb promo code out of.</source>\n        <target>Please select the cover of the book you got the bulb promo code out of.</target>\n      </segment>\n    </unit>\n\n    <unit id="ParentAccountsMyStudents">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n      </notes>\n      <segment>\n        <source>My Students</source>\n        <target>My Students</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudent">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Add Student</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAll">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>View All</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsStudentsNoActivitiesYet">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</source>\n        <target>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsThisStudentNoActivities">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n  </source>\n        <target>\n      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n    </target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPagePublished">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n      </notes>\n      <segment>\n        <source>Published a Page...</source>\n        <target>Published a Page...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageDefined">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Page</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n      </notes>\n      <segment>\n        <source>Created a new Page...</source>\n        <target>Created a new Page...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPage">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Page</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollectionCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n      </notes>\n      <segment>\n        <source>Created a new Collection...</source>\n        <target>Created a new Collection...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollection">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n      </notes>\n      <segment>\n        <source>Collection</source>\n        <target>Collection</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsFamilyMemberConnected">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n      </notes>\n      <segment>\n        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsChildDisconnects">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n      </notes>\n      <segment>\n        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n      </notes>\n      <segment>\n        <source>See Your Student&apos;s Activity</source>\n        <target>See Your Student&apos;s Activity</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroStateInfo">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n      </notes>\n      <segment>\n        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n        <target>To connect the accounts of students in your family, please use their student code to add them to your account.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroState">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Add Student</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAllFilter">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>View All</target>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n';case"es":return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n  <file original="ng.template" id="ngi18n">\n  <unit id="AudioPlaybackFileName">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n        </notes>\n        <segment>\n          <source>File Name:</source>\n          <target>Nombre del archivo:</target>\n        </segment>\n      </unit>\n      <unit id="AudioPlaybackInputPlaceholder">\n            <notes>\n              <note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n            </notes>\n            <segment>\n              <source>Enter a file name:</source>\n              <target>Ingrese un nombre de archivo:</target>\n            </segment>\n          </unit>\n\t  <unit id="AudioRecordingDelete">\n\t\t<notes>\n\t\t  <note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n\t\t</notes>\n\t\t<segment>\n\t\t  <source>Delete</source>\n\t\t  <target>Eliminar</target>\n\t\t</segment>\n\t  </unit>\n\t  <unit id="AudioRecordingDownload">\n            <notes>\n              <note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n            </notes>\n            <segment>\n              <source>Download</source>\n              <target>Descargar</target>\n            </segment>\n          </unit>\n\t  <unit id="AudioRecordingSave">\n\t\t<notes>\n\t\t  <note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n\t\t</notes>\n\t\t<segment>\n\t\t  <source>Save</source>\n\t\t  <target>salvar</target>\n\t\t</segment>\n\t  </unit>\n  <unit id="AudioRecordingDialogHeader">\n  \t\t<notes>\n  \t\t<note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n  \t\t</notes>\n  \t\t<segment>\n  \t\t<source>Audio Recording</source>\n  \t\t<target>Grabacin de audio</target>\n  \t\t</segment>\n  \t</unit>\n  \t<unit id="AudioRecordingCancel">\n  \t\t<notes>\n  \t\t<note category="location">src/app/audio/audio-record/audio-record.component.html:13</note>\n  \t\t</notes>\n  \t\t<segment>\n  \t\t<source>Cancel</source>\n  \t\t<target>Cancelar</target>\n  \t\t</segment>\n  \t</unit>\n    <unit id="MacMillanDialogHeader">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n      </notes>\n      <segment>\n        <source>Choose your book.</source>\n        <target>Elige tu libro.</target>\n      </segment>\n    </unit>\n    <unit id="MacMillanDialogDescription">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n      </notes>\n      <segment>\n        <source>Please select the cover of the book you got the bulb promo code out of.</source>\n        <target>Selecciona la portada del libro que compraste.</target>\n      </segment>\n    </unit>\n\n    <unit id="ParentAccountsMyStudents">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n      </notes>\n      <segment>\n        <source>My Students</source>\n        <target>Mis estudiantes</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudent">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Agregar estudiante</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAll">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Ver todo</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsStudentsNoActivitiesYet">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</source>\n        <target>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Sus alumnos an no tienen actividades.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    Este es el lugar donde bulb le muestra las ltimas interacciones, creaciones y publicaciones de sus alumnos.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsThisStudentNoActivities">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n  </source>\n        <target>\n      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Este estudiante an no tiene actividades.</pc>\n    </target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPagePublished">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n      </notes>\n      <segment>\n        <source>Published a Page...</source>\n        <target>Publicado una pgina...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageDefined">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Pgina</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n      </notes>\n      <segment>\n        <source>Created a new Page...</source>\n        <target>Cre una nueva pgina...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPage">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Pgina</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollectionCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n      </notes>\n      <segment>\n        <source>Created a new Collection...</source>\n        <target>Cre una nueva coleccin...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollection">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n      </notes>\n      <segment>\n        <source>Collection</source>\n        <target>Coleccin</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsFamilyMemberConnected">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n      </notes>\n      <segment>\n        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Ha sido agregado como una conexin por <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsChildDisconnects">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n      </notes>\n      <segment>\n        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Desconectado de <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n      </notes>\n      <segment>\n        <source>See Your Student&apos;s Activity</source>\n        <target>Vea la actividad de su estudiante</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroStateInfo">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n      </notes>\n      <segment>\n        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n        <target>Para conectar las cuentas de los estudiantes en su familia, use su cdigo de estudiante para agregarlos a su cuenta.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroState">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Agregar estudiante</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAllFilter">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Ver todo</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsNew">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-activity-feed.component.html:78</note>\n      </notes>\n      <segment>\n        <source>New</source>\n        <target>Nuevo</target>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n';case"pt":return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n  <file original="ng.template" id="ngi18n">\n <unit id="AudioPlaybackFileName">\n       <notes>\n         <note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n       </notes>\n       <segment>\n         <source>File Name:</source>\n         <target>Nome do arquivo:</target>\n       </segment>\n     </unit>\n     <unit id="AudioPlaybackInputPlaceholder">\n       <notes>\n         <note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n       </notes>\n       <segment>\n         <source>Enter a file name:</source>\n         <target>Digite um nome de arquivo:</target>\n       </segment>\n     </unit>\n     <unit id="AudioRecordingDelete">\n       <notes>\n         <note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n       </notes>\n       <segment>\n         <source>Delete</source>\n         <target>Excluir</target>\n       </segment>\n     </unit>\n     <unit id="AudioRecordingDownload">\n       <notes>\n         <note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n       </notes>\n       <segment>\n         <source>Download</source>\n         <target>Baixar</target>\n       </segment>\n     </unit>\n     <unit id="AudioRecordingSave">\n       <notes>\n         <note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n       </notes>\n       <segment>\n         <source>Save</source>\n         <target>Salve</target>\n       </segment>\n     </unit>\n     <unit id="AudioRecordingDialogHeader">\n       <notes>\n         <note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n       </notes>\n       <segment>\n         <source>Audio Recording</source>\n         <target>Gravao de udio</target>\n       </segment>\n     </unit>\n     <unit id="AudioRecordingCancel">\n       <notes>\n         <note category="location">src/app/audio/audio-record/audio-record.component.html:25</note>\n       </notes>\n       <segment>\n         <source>Cancel</source>\n         <target>Cancelar</target>\n       </segment>\n     </unit>\n    <unit id="MacMillanDialogHeader">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n      </notes>\n      <segment>\n        <source>Choose your book.</source>\n        <target>Escolha o seu livro.</target>\n      </segment>\n    </unit>\n    <unit id="MacMillanDialogDescription">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n      </notes>\n      <segment>\n        <source>Please select the cover of the book you got the bulb promo code out of.</source>\n        <target>Selecione a capa do livro que voc comprou.</target>\n      </segment>\n    </unit>\n\n    <unit id="ParentAccountsMyStudents">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n      </notes>\n      <segment>\n        <source>My Students</source>\n        <target>Meus estudantes</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudent">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Adicionar aluno</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAll">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Ver tudo</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsStudentsNoActivitiesYet">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</source>\n        <target>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Seus alunos ainda no tm atividades.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n     o local em que bulb mostra as ltimas interaes, criaes e publicaes de seus alunos.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsThisStudentNoActivities">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n  </source>\n        <target>\n      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Este aluno ainda no tem atividades.</pc>\n    </target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPagePublished">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n      </notes>\n      <segment>\n        <source>Published a Page...</source>\n        <target>Publicou uma pgina...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageDefined">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Pgina</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n      </notes>\n      <segment>\n        <source>Created a new Page...</source>\n        <target>Criou uma nova pgina...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPage">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Pgina</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollectionCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n      </notes>\n      <segment>\n        <source>Created a new Collection...</source>\n        <target>Criou uma nova coleo...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollection">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n      </notes>\n      <segment>\n        <source>Collection</source>\n        <target>Coleo</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsFamilyMemberConnected">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n      </notes>\n      <segment>\n        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Foi adicionado como uma conexo por <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsChildDisconnects">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n      </notes>\n      <segment>\n        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Desconectado de <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n      </notes>\n      <segment>\n        <source>See Your Student&apos;s Activity</source>\n        <target>Veja a atividade do seu aluno</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroStateInfo">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n      </notes>\n      <segment>\n        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n        <target>Para conectar as contas dos alunos da sua famlia, use o cdigo do aluno para adicion-las  sua conta.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroState">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Adicionar aluno</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAllFilter">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Ver tudo</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsNew">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-activity-feed.component.html:78</note>\n      </notes>\n      <segment>\n        <source>New</source>\n        <target>Novo</target>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n';case"de":return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n  <file original="ng.template" id="ngi18n">\n<unit id="AudioPlaybackFileName">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>File Name:</source>\n\t\t<target>Dateiname:</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioPlaybackInputPlaceholder">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Enter a file name:</source>\n\t\t<target>Geben Sie einen Dateinamen ein:</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingDelete">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Delete</source>\n\t\t<target>Lschen</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingDownload">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Download</source>\n\t\t<target>herunterladen</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingSave">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Save</source>\n\t\t<target>speichern</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingDialogHeader">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Audio Recording</source>\n\t\t<target>Audio Aufnahme</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingCancel">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-record/audio-record.component.html:25</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Cancel</source>\n\t\t<target>Stornieren</target>\n\t  </segment>\n\t</unit>\n    <unit id="MacMillanDialogHeader">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n      </notes>\n      <segment>\n        <source>Choose your book.</source>\n        <target>Whlen Sie Ihr Buch.</target>\n      </segment>\n    </unit>\n    <unit id="MacMillanDialogDescription">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n      </notes>\n      <segment>\n        <source>Please select the cover of the book you got the bulb promo code out of.</source>\n        <target>Bitte whlen Sie das Cover des von Ihnen gekauften Buches.</target>\n      </segment>\n    </unit>\n\n    <unit id="ParentAccountsMyStudents">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n      </notes>\n      <segment>\n        <source>My Students</source>\n        <target>Meine Schler</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudent">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Schler hinzufgen</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAll">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Alle ansehen</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsStudentsNoActivitiesYet">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</source>\n        <target>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Ihre Schler haben noch keine Aktivitten.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    Hier zeigt bulb Ihnen die neuesten Interaktionen, Kreationen und Verffentlichungen Ihrer Schler.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsThisStudentNoActivities">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n  </source>\n        <target>\n      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Dieser Student hat noch keine Aktivitten.</pc>\n    </target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPagePublished">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n      </notes>\n      <segment>\n        <source>Published a Page...</source>\n        <target>Eine Seite verffentlicht...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageDefined">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Seite</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n      </notes>\n      <segment>\n        <source>Created a new Page...</source>\n        <target>Neue Seite erstellt...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPage">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Seite</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollectionCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n      </notes>\n      <segment>\n        <source>Created a new Collection...</source>\n        <target>Erstellt eine neue Sammlung...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollection">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n      </notes>\n      <segment>\n        <source>Collection</source>\n        <target>Sammlung</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsFamilyMemberConnected">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n      </notes>\n      <segment>\n        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Wurde als Verbindung von hinzugefgt <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsChildDisconnects">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n      </notes>\n      <segment>\n        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Getrennt von <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n      </notes>\n      <segment>\n        <source>See Your Student&apos;s Activity</source>\n        <target>Siehe die Aktivitt Ihres Schlers</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroStateInfo">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n      </notes>\n      <segment>\n        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n        <target>Um die Konten von Schlern in Ihrer Familie zu verbinden, verwenden Sie bitte deren Schlercode, um sie Ihrem Konto hinzuzufgen.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroState">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Schler hinzufgen</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAllFilter">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Alle ansehen</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsNew">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-activity-feed.component.html:78</note>\n      </notes>\n      <segment>\n        <source>New</source>\n        <target>Neu</target>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n';case"fi":return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n\t<file original="ng.template" id="ngi18n">\n\t\t<unit id="AudioPlaybackFileName">\n\t\t\t<notes>\n\t\t\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n\t\t\t</notes>\n\t\t\t<segment>\n\t\t\t\t<source>File Name:</source>\n\t\t\t\t<target>Tiedoston nimi:</target>\n\t\t\t</segment>\n\t\t</unit>\n\t\t<unit id="AudioPlaybackInputPlaceholder">\n\t\t\t<notes>\n\t\t\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n\t\t\t</notes>\n\t\t\t<segment>\n\t\t\t\t<source>Enter a file name:</source>\n\t\t\t\t<target>Kirjoita tiedostonimi:</target>\n\t\t\t</segment>\n\t\t</unit>\n\t\t<unit id="AudioRecordingDelete">\n\t\t\t<notes>\n\t\t\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n\t\t\t</notes>\n\t\t\t<segment>\n\t\t\t\t<source>Delete</source>\n\t\t\t\t<target>Poistaa</target>\n\t\t\t</segment>\n\t\t</unit>\n\t\t<unit id="AudioRecordingDownload">\n\t\t\t<notes>\n\t\t\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n\t\t\t</notes>\n\t\t\t<segment>\n\t\t\t\t<source>Download</source>\n\t\t\t\t<target>ladata</target>\n\t\t\t</segment>\n\t\t</unit>\n\t\t<unit id="AudioRecordingSave">\n\t\t\t<notes>\n\t\t\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n\t\t\t</notes>\n\t\t\t<segment>\n\t\t\t\t<source>Save</source>\n\t\t\t\t<target>Tallentaa</target>\n\t\t\t</segment>\n\t\t</unit>\n\t\t<unit id="AudioRecordingDialogHeader">\n\t\t\t<notes>\n\t\t\t\t<note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n\t\t\t</notes>\n\t\t\t<segment>\n\t\t\t\t<source>Audio Recording</source>\n\t\t\t\t<target>nitys</target>\n\t\t\t</segment>\n\t\t</unit>\n\t\t<unit id="AudioRecordingCancel">\n\t\t\t<notes>\n\t\t\t\t<note category="location">src/app/audio/audio-record/audio-record.component.html:25</note>\n\t\t\t</notes>\n\t\t\t<segment>\n\t\t\t\t<source>Cancel</source>\n\t\t\t\t<target>Peruuttaa</target>\n\t\t\t</segment>\n\t\t</unit>\n\t\t<unit id="MacMillanDialogHeader">\n\t\t\t<notes>\n\t\t\t\t<note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n\t\t\t</notes>\n\t\t\t<segment>\n\t\t\t\t<source>Choose your book.</source>\n\t\t\t\t<target>Valitse kirjasi.</target>\n\t\t\t</segment>\n\t\t</unit>\n\t\t<unit id="MacMillanDialogDescription">\n\t\t\t<notes>\n\t\t\t\t<note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n\t\t\t</notes>\n\t\t\t<segment>\n\t\t\t\t<source>Please select the cover of the book you got the bulb promo code out of.</source>\n\t\t\t\t<target>Valitse ostamasi kirjan kansi.</target>\n\t\t\t</segment>\n\t\t</unit>\n\n\t\t\t<unit id="ParentAccountsMyStudents">\n\t      <notes>\n\t        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n\t      </notes>\n\t      <segment>\n\t        <source>My Students</source>\n\t        <target>Oppilaani</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsAddStudent">\n\t      <notes>\n\t        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Add Student</source>\n\t        <target>Lis opiskelija</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsViewAll">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n\t      </notes>\n\t      <segment>\n\t        <source>View All</source>\n\t        <target>Nyt kaikki</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsStudentsNoActivitiesYet">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n\t      </notes>\n\t      <segment>\n\t        <source>\n\t    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n\t    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n\t    This is the place where bulb shows you your students latest interactions, creations, and publications.</source>\n\t        <target>\n\t    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Opiskelijoillasi ei ole viel aktiviteetteja.</pc>\n\t    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n\t    Tss on bulb, joka nytt opiskelijoiden viimeisimmt vuorovaikutukset, luomukset ja julkaisut.</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsThisStudentNoActivities">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n\t      </notes>\n\t      <segment>\n\t        <source>\n\t    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n\t  </source>\n\t        <target>\n\t      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Tll opiskelijalla ei ole viel aktiviteetteja.</pc>\n\t    </target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsPagePublished">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Published a Page...</source>\n\t        <target>Julkaissut sivun...</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsPageDefined">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Page</source>\n\t        <target>Sivu</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsPageCreated">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Created a new Page...</source>\n\t        <target>Luonut uuden sivun...</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsPage">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Page</source>\n\t        <target>Sivu</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsCollectionCreated">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Created a new Collection...</source>\n\t        <target>Loi uuden kokoelman...</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsCollection">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Collection</source>\n\t        <target>Kokoelma</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsFamilyMemberConnected">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n\t        <target>On lisnnyt yhteydeksi <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsChildDisconnects">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n\t        <target>Irti verkosta <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n\t      </notes>\n\t      <segment>\n\t        <source>See Your Student&apos;s Activity</source>\n\t        <target>Katso opiskelijan toiminta</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsAddStudentZeroStateInfo">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n\t      </notes>\n\t      <segment>\n\t        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n\t        <target>Voit yhdist perheesi opiskelijoiden tilit lismll he tilillesi kyttmll heidn opiskelijakoodiaan.</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsAddStudentZeroState">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n\t      </notes>\n\t      <segment>\n\t        <source>Add Student</source>\n\t        <target>Lis opiskelija</target>\n\t      </segment>\n\t    </unit>\n\t    <unit id="ParentAccountsViewAllFilter">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n\t      </notes>\n\t      <segment>\n\t        <source>View All</source>\n\t        <target>Nyt kaikki</target>\n\t      </segment>\n\t    </unit>\n\t\t\t<unit id="ParentAccountsNew">\n\t      <notes>\n\t        <note category="location">src/family-member/family-member-filters/family-member-activity-feed.component.html:78</note>\n\t      </notes>\n\t      <segment>\n\t        <source>New</source>\n\t        <target>Uuttau</target>\n\t      </segment>\n\t    </unit>\n   \t</file>\n</xliff>\n';case"fr":return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n  <file original="ng.template" id="ngi18n">\n  <unit id="AudioPlaybackFileName">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n        </notes>\n        <segment>\n          <source>File Name:</source>\n          <target>Nom de fichier:</target>\n        </segment>\n      </unit>\n      <unit id="AudioPlaybackInputPlaceholder">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n        </notes>\n        <segment>\n          <source>Enter a file name:</source>\n          <target>Entrez un nom de fichier:</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingDelete">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n        </notes>\n        <segment>\n          <source>Delete</source>\n          <target>Supprimer</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingDownload">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n        </notes>\n        <segment>\n          <source>Download</source>\n          <target>Tlcharger</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingSave">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n        </notes>\n        <segment>\n          <source>Save</source>\n          <target>enregistrer</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingDialogHeader">\n        <notes>\n          <note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n        </notes>\n        <segment>\n          <source>Audio Recording</source>\n          <target>Enregistrement audio</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingCancel">\n        <notes>\n          <note category="location">src/app/audio/audio-record/audio-record.component.html:25</note>\n        </notes>\n        <segment>\n          <source>Cancel</source>\n          <target>Annuler</target>\n        </segment>\n      </unit>\n    <unit id="MacMillanDialogHeader">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n      </notes>\n      <segment>\n        <source>Choose your book.</source>\n        <target>Choisissez votre livre.</target>\n      </segment>\n    </unit>\n    <unit id="MacMillanDialogDescription">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n      </notes>\n      <segment>\n        <source>Please select the cover of the book you got the bulb promo code out of.</source>\n        <target>Veuillez slectionner la couverture du livre que vous avez achet.</target>\n      </segment>\n    </unit>\n\n    <unit id="ParentAccountsMyStudents">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n      </notes>\n      <segment>\n        <source>My Students</source>\n        <target>Mes tudiants</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudent">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Ajouter un tudiant</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAll">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Mes tudiants</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsStudentsNoActivitiesYet">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</source>\n        <target>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Vos lves n\'ont pas encore d\'activits.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    C\'est l\'endroit o bulb vous montre les dernires interactions, crations et publications de vos lves.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsThisStudentNoActivities">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n  </source>\n        <target>\n      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Cet tudiant n\'a pas encore d\'activits.</pc>\n    </target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPagePublished">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n      </notes>\n      <segment>\n        <source>Published a Page...</source>\n        <target>Publi une page...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageDefined">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Page</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n      </notes>\n      <segment>\n        <source>Created a new Page...</source>\n        <target>Cration d\'une nouvelle page...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPage">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Page</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollectionCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n      </notes>\n      <segment>\n        <source>Created a new Collection...</source>\n        <target>Cration d\'une nouvelle collection...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollection">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n      </notes>\n      <segment>\n        <source>Collection</source>\n        <target>Collection</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsFamilyMemberConnected">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n      </notes>\n      <segment>\n        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>A t ajout en tant que connexion par <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsChildDisconnects">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n      </notes>\n      <segment>\n        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Dconnect de <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n      </notes>\n      <segment>\n        <source>See Your Student&apos;s Activity</source>\n        <target>Voir l\'activit de votre lve</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroStateInfo">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n      </notes>\n      <segment>\n        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n        <target>Pour connecter les comptes des tudiants de votre famille, veuillez utiliser leur code tudiant pour les ajouter  votre compte.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroState">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Ajouter un tudiant</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAllFilter">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Mes tudiants</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsNew">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-activity-feed.component.html:78</note>\n      </notes>\n      <segment>\n        <source>New</source>\n        <target>Nouveau</target>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n';case"sv":return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n  <file original="ng.template" id="ngi18n">\n  <unit id="AudioPlaybackFileName">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n        </notes>\n        <segment>\n          <source>File Name:</source>\n          <target>Filnamn:</target>\n        </segment>\n      </unit>\n      <unit id="AudioPlaybackInputPlaceholder">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n        </notes>\n        <segment>\n          <source>Enter a file name:</source>\n          <target>Ange ett filnamn:</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingDelete">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n        </notes>\n        <segment>\n          <source>Delete</source>\n          <target>Radera</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingDownload">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n        </notes>\n        <segment>\n          <source>Download</source>\n          <target>ladda ner</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingSave">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n        </notes>\n        <segment>\n          <source>Save</source>\n          <target>spara</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingDialogHeader">\n        <notes>\n          <note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n        </notes>\n        <segment>\n          <source>Audio Recording</source>\n          <target>Ljudinspelning</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingCancel">\n        <notes>\n          <note category="location">src/app/audio/audio-record/audio-record.component.html:25</note>\n        </notes>\n        <segment>\n          <source>Cancel</source>\n          <target>Annullera</target>\n        </segment>\n      </unit>\n    <unit id="MacMillanDialogHeader">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n      </notes>\n      <segment>\n        <source>Choose your book.</source>\n        <target>Vlj din bok.</target>\n      </segment>\n    </unit>\n    <unit id="MacMillanDialogDescription">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n      </notes>\n      <segment>\n        <source>Please select the cover of the book you got the bulb promo code out of.</source>\n        <target>Vlj omslaget till boken du kpte.</target>\n      </segment>\n    </unit>\n\n    <unit id="ParentAccountsMyStudents">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n      </notes>\n      <segment>\n        <source>My Students</source>\n        <target>Mina studenter</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudent">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Lgg till student</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAll">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Visa alla</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsStudentsNoActivitiesYet">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</source>\n        <target>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Dina elever har inga aktiviteter nnu.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    Det hr r platsen dr bulb visar dina elever senaste interaktioner, skapelser och publikationer.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsThisStudentNoActivities">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n  </source>\n        <target>\n      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Denna student har inga aktiviteter nnu.</pc>\n    </target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPagePublished">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n      </notes>\n      <segment>\n        <source>Published a Page...</source>\n        <target>Publicerade en sida...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageDefined">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Sida</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n      </notes>\n      <segment>\n        <source>Created a new Page...</source>\n        <target>Skapade en ny sida...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPage">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Sida</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollectionCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n      </notes>\n      <segment>\n        <source>Created a new Collection...</source>\n        <target>Skapade en ny samling...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollection">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n      </notes>\n      <segment>\n        <source>Collection</source>\n        <target>Samling</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsFamilyMemberConnected">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n      </notes>\n      <segment>\n        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Har lagts till som en anslutning av <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsChildDisconnects">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n      </notes>\n      <segment>\n        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Kopplad frn <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n      </notes>\n      <segment>\n        <source>See Your Student&apos;s Activity</source>\n        <target>Se din studentaktivitet</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroStateInfo">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n      </notes>\n      <segment>\n        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n        <target>Fr att ansluta konton fr studenter i din familj, anvnd deras studentkod fr att lgga till dem till ditt konto.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroState">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Lgg till student</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAllFilter">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Visa alla</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsNew">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-activity-feed.component.html:78</note>\n      </notes>\n      <segment>\n        <source>New</source>\n        <target>Nytt</target>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n';case"no":return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n  <file original="ng.template" id="ngi18n">\n  <unit id="AudioPlaybackFileName">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n        </notes>\n        <segment>\n          <source>File Name:</source>\n          <target>Filnavn:</target>\n        </segment>\n      </unit>\n      <unit id="AudioPlaybackInputPlaceholder">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n        </notes>\n        <segment>\n          <source>Enter a file name:</source>\n          <target>Skriv inn et filnavn:</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingDelete">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n        </notes>\n        <segment>\n          <source>Delete</source>\n          <target>Slett</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingDownload">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n        </notes>\n        <segment>\n          <source>Download</source>\n          <target>nedlasting</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingSave">\n        <notes>\n          <note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n        </notes>\n        <segment>\n          <source>Save</source>\n          <target>lagre</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingDialogHeader">\n        <notes>\n          <note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n        </notes>\n        <segment>\n          <source>Audio Recording</source>\n          <target>Lydopptak</target>\n        </segment>\n      </unit>\n      <unit id="AudioRecordingCancel">\n        <notes>\n          <note category="location">src/app/audio/audio-record/audio-record.component.html:25</note>\n        </notes>\n        <segment>\n          <source>Cancel</source>\n          <target>Avbryt</target>\n        </segment>\n      </unit>\n    <unit id="MacMillanDialogHeader">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n      </notes>\n      <segment>\n        <source>Choose your book.</source>\n        <target>Velg boken din.</target>\n      </segment>\n    </unit>\n    <unit id="MacMillanDialogDescription">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n      </notes>\n      <segment>\n        <source>Please select the cover of the book you got the bulb promo code out of.</source>\n        <target>Velg omslaget til boka du kjpte.</target>\n      </segment>\n    </unit>\n\n    <unit id="ParentAccountsMyStudents">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n      </notes>\n      <segment>\n        <source>My Students</source>\n        <target>Mine studenter</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudent">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Legg til Student</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAll">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Se alt</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsStudentsNoActivitiesYet">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</source>\n        <target>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Studentene dine har ingen aktiviteter enn.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    Dette er stedet hvor bulb viser studentenes siste interaksjoner, kreasjoner og publikasjoner.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsThisStudentNoActivities">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n  </source>\n        <target>\n      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Denne studenten har ingen aktiviteter enn.</pc>\n    </target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPagePublished">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n      </notes>\n      <segment>\n        <source>Published a Page...</source>\n        <target>Publiserte en side...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageDefined">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Side</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n      </notes>\n      <segment>\n        <source>Created a new Page...</source>\n        <target>Opprettet en ny side...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPage">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Side</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollectionCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n      </notes>\n      <segment>\n        <source>Created a new Collection...</source>\n        <target>Opprettet en ny samling...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollection">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n      </notes>\n      <segment>\n        <source>Collection</source>\n        <target>Samling</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsFamilyMemberConnected">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n      </notes>\n      <segment>\n        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Har blitt lagt til som en forbindelse av <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsChildDisconnects">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n      </notes>\n      <segment>\n        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Frakoblet <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n      </notes>\n      <segment>\n        <source>See Your Student&apos;s Activity</source>\n        <target>Se studentens aktivitet</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroStateInfo">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n      </notes>\n      <segment>\n        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n        <target>For  koble kontoer til studenter i familien din, bruk studentkoden deres for  legge dem til kontoen din.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroState">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Legg til Student</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAllFilter">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Se alt</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsNew">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-activity-feed.component.html:78</note>\n      </notes>\n      <segment>\n        <source>New</source>\n        <target>Ny</target>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n';case"nl":return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n  <file original="ng.template" id="ngi18n">\n<unit id="AudioPlaybackFileName">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>File Name:</source>\n\t\t<target>Bestandsnaam:</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioPlaybackInputPlaceholder">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Enter a file name:</source>\n\t\t<target>Voer een bestandsnaam in:</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingDelete">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Delete</source>\n\t\t<target>Delete</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingDownload">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Download</source>\n\t\t<target>downloaden</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingSave">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Save</source>\n\t\t<target>opslaan</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingDialogHeader">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Audio Recording</source>\n\t\t<target>Geluidsopname</target>\n\t  </segment>\n\t</unit>\n\t<unit id="AudioRecordingCancel">\n\t  <notes>\n\t\t<note category="location">src/app/audio/audio-record/audio-record.component.html:25</note>\n\t  </notes>\n\t  <segment>\n\t\t<source>Cancel</source>\n\t\t<target>annuleren</target>\n\t  </segment>\n\t</unit>\n    <unit id="MacMillanDialogHeader">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n      </notes>\n      <segment>\n        <source>Choose your book.</source>\n        <target>Kies je boek.</target>\n      </segment>\n    </unit>\n    <unit id="MacMillanDialogDescription">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n      </notes>\n      <segment>\n        <source>Please select the cover of the book you got the bulb promo code out of.</source>\n        <target>Selecteer de omslag van het boek dat u hebt gekocht.</target>\n      </segment>\n    </unit>\n\n    <unit id="ParentAccountsMyStudents">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n      </notes>\n      <segment>\n        <source>My Students</source>\n        <target>Mijn studenten</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudent">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Student toevoegen</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAll">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Bekijk alles</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsStudentsNoActivitiesYet">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</source>\n        <target>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Je studenten hebben nog geen activiteiten.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    Dit is de plaats waar bulb u de nieuwste interacties, creaties en publicaties van uw studenten laat zien.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsThisStudentNoActivities">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n  </source>\n        <target>\n      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Deze student heeft nog geen activiteiten.</pc>\n    </target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPagePublished">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n      </notes>\n      <segment>\n        <source>Published a Page...</source>\n        <target>Pagina gepubliceerd...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageDefined">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Pagina</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n      </notes>\n      <segment>\n        <source>Created a new Page...</source>\n        <target>Nieuwe pagina gemaakt...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPage">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Pagina</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollectionCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n      </notes>\n      <segment>\n        <source>Created a new Collection...</source>\n        <target>Nieuwe collectie gemaakt...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollection">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n      </notes>\n      <segment>\n        <source>Collection</source>\n        <target>Collectie</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsFamilyMemberConnected">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n      </notes>\n      <segment>\n        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Is toegevoegd als een verbinding door <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsChildDisconnects">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n      </notes>\n      <segment>\n        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Verbinding verbroken <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n      </notes>\n      <segment>\n        <source>See Your Student&apos;s Activity</source>\n        <target>Bekijk de activiteit van je student</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroStateInfo">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n      </notes>\n      <segment>\n        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n        <target>Om de accounts van studenten in uw gezin te verbinden, gebruikt u hun studentencode om ze aan uw account toe te voegen.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroState">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Student toevoegen</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAllFilter">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>Bekijk alles</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsNew">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-activity-feed.component.html:78</note>\n      </notes>\n      <segment>\n        <source>New</source>\n        <target>Nieuw</target>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n';default:return'<?xml version="1.0" encoding="UTF-8" ?>\n<xliff version="2.0" xmlns="urn:oasis:names:tc:xliff:document:2.0" srcLang="en">\n  <file original="ng.template" id="ngi18n">\n    <unit id="AudioPlaybackFileName">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:6</note>\n      </notes>\n      <segment>\n        <source>File Name:</source>\n        <target>File Name:</target>\n      </segment>\n    </unit>\n    <unit id="AudioPlaybackInputPlaceholder">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:11</note>\n      </notes>\n      <segment>\n        <source>Enter a file name:</source>\n        <target>Enter a file name:</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingDelete">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:34</note>\n      </notes>\n      <segment>\n        <source>Delete</source>\n        <target>Delete</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingDownload">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:38</note>\n      </notes>\n      <segment>\n        <source>Download</source>\n        <target>Download</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingSave">\n      <notes>\n        <note category="location">src/app/audio/audio-playback/audio-playback.component.html:42</note>\n      </notes>\n      <segment>\n        <source>Save</source>\n        <target>Save</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingDialogHeader">\n      <notes>\n        <note category="location">src/app/audio/audio-record/audio-record.component.html:2</note>\n      </notes>\n      <segment>\n        <source>Audio Recording</source>\n        <target>Audio Recording</target>\n      </segment>\n    </unit>\n    <unit id="AudioRecordingCancel">\n      <notes>\n        <note category="location">src/app/audio/audio-record/audio-record.component.html:25</note>\n      </notes>\n      <segment>\n        <source>Cancel</source>\n        <target>Cancel</target>\n      </segment>\n    </unit>\n    <unit id="MacMillanDialogHeader">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:1</note>\n      </notes>\n      <segment>\n        <source>Choose your book.</source>\n        <target>Choose your book.</target>\n      </segment>\n    </unit>\n    <unit id="MsacMillanDialogDescription">\n      <notes>\n        <note category="location">src/app/macmillan-book-dialog/macmillan-book-dialog.component.html:2,4</note>\n      </notes>\n      <segment>\n        <source>Please select the cover of the book you got the bulb promo code out of.</source>\n        <target>Please select the cover of the book you got the bulb promo code out of.</target>\n      </segment>\n    </unit>\n\n    <unit id="ParentAccountsMyStudents">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:3</note>\n      </notes>\n      <segment>\n        <source>My Students</source>\n        <target>My Students</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudent">\n      <notes>\n        <note category="location">src/family-member/connected-family-members/connected-family-members.component.html:12</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Add Student</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAll">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:5</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>View All</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsStudentsNoActivitiesYet">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:29,32</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</source>\n        <target>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">Your students have no activities yet.</pc>\n    <ph id="1" equiv="LINE_BREAK" type="fmt" disp="&lt;br/&gt;"/>\n    This is the place where bulb shows you your students&apos; latest interactions, creations, and publications.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsThisStudentNoActivities">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:38,40</note>\n      </notes>\n      <segment>\n        <source>\n    <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n  </source>\n        <target>\n      <pc id="0" equivStart="START_TAG_SPAN" equivEnd="CLOSE_TAG_SPAN" type="other" dispStart="&lt;span&gt;" dispEnd="&lt;/span&gt;">This student has no activities yet.</pc>\n    </target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPagePublished">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:64</note>\n      </notes>\n      <segment>\n        <source>Published a Page...</source>\n        <target>Published a Page...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageDefined">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:71</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Page</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPageCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:80</note>\n      </notes>\n      <segment>\n        <source>Created a new Page...</source>\n        <target>Created a new Page...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsPage">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:87</note>\n      </notes>\n      <segment>\n        <source>Page</source>\n        <target>Page</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollectionCreated">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:96</note>\n      </notes>\n      <segment>\n        <source>Created a new Collection...</source>\n        <target>Created a new Collection...</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsCollection">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:103</note>\n      </notes>\n      <segment>\n        <source>Collection</source>\n        <target>Collection</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsFamilyMemberConnected">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:112</note>\n      </notes>\n      <segment>\n        <source>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Has been added as a Connection by <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsChildDisconnects">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:115</note>\n      </notes>\n      <segment>\n        <source>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</source>\n        <target>Disconnected from <ph id="0" equiv="INTERPOLATION" disp="{{activity.familyDisplayName}}"/>.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsZeroStateSeeStudentActivity">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:33</note>\n      </notes>\n      <segment>\n        <source>See Your Student&apos;s Activity</source>\n        <target>See Your Student&apos;s Activity</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroStateInfo">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:34</note>\n      </notes>\n      <segment>\n        <source>To connect the accounts of students in your family, please use their student code to add them to your account.</source>\n        <target>To connect the accounts of students in your family, please use their student code to add them to your account.</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsAddStudentZeroState">\n      <notes>\n        <note category="location">src/family-member/family-member-activity-feed/family-member-activity-feed.component.html:36</note>\n      </notes>\n      <segment>\n        <source>Add Student</source>\n        <target>Add Student</target>\n      </segment>\n    </unit>\n    <unit id="ParentAccountsViewAllFilter">\n      <notes>\n        <note category="location">src/family-member/family-member-filters/family-member-filters.component.html:13</note>\n      </notes>\n      <segment>\n        <source>View All</source>\n        <target>View All</target>\n      </segment>\n    </unit>\n  </file>\n</xliff>\n'}}(userLocale),compilerOptions={useJit:!0,missingTranslation:_core.MissingTranslationStrategy.Ignore,providers:[{provide:_core.LOCALE_ID,useValue:user.language.toLowerCase()},{provide:_core.TRANSLATIONS,useValue:translations},{provide:_core.TRANSLATIONS_FORMAT,useValue:"xlf2"}]};(0,_platformBrowserDynamic.platformBrowserDynamic)().bootstrapModule(_app.AppModule,compilerOptions).then(function(){console.log("bulb -- share your smarts.")},function(error){console.log("Bootstrapped failed:",error)})})},{"zone.js":"ARvz","reflect-metadata":"npqE","js-cookie":"PhdE","@angular/platform-browser-dynamic":"LS2B","@angular/core":"XDhY",fs:"rDCW","./app/app.module":"yeoz","./initial-user-fetch.service":"U934"}]},{},["ZCfc"]);
//# sourceMappingURL=bundled-script.js.map